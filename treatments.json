[
    {
        "id": 0,
        "name": "ALL Dummy Baseline",
        "description": "Dummy Baseline",
        "category": "Baseline / Sitewide / Web, Mobile Web",
        "apply_on_user_segment": "*",
        "device": "*",
        "actions":
        [
            {
                "operator": "noop"
            }
        ]
    },
    {
        "id": 2,
        "name": "M - L - One Column Layout",
        "description": "Change mobile layout into 1 column",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "reapply_event": "infinite_scroll",
        "pageTypes": ["PLP"],
        "actions":
        [
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"margin-top\":\"13rem\"}",
                "selector": "div.product_info"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"width\":\"100%\"}",
                "selector": "#product-list-wrapper > div.product-list_container > div > div"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "next-day-product",
                "selector": ".product-list > .product-card"
            },
            {
                "operator": "remove",
                "selector": "#product-list-wrapper > div.product-list_container > div > div > div.other_size_options_mobile_wrapper.open_other_product"
            }
        ]
    },
    {
        "id": 16,
        "name": "D - CTA - Text Optimization: sonraki adım ve ödeme türü",
        "description": "CTA Button Text Optimization",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web",
        "device": "desktop",
        "reapply_event": "element_change",
        "reapply_selector":
        [
            ".tabbable-line",
            ".payment-options-area.frame-box.form-group"
        ],
        "apply_on_user_segment": "*",
        "pageTypes":["Basket", "Address", "Payment"],
        "businessRuleSet":["PageType.Basket", "PageType.Address", "PageType.Payment"],
        "actions":
        [
            {
                "operator": "edit",
                "type": "text",
                "selector": ".btn.cart-confirm.btn-lg",
                "businessRuleTransformations":
                [
                    {
                        "id": 0,
                        "value": "SEPETİ ONAYLA",
                        "selectorFallback": "#checkoutForm > div.padding-reset.main-basket-summary > div.row.sticky-panel > div.col-xs-12.approve-basket > button"
                    },
                    {
                        "id": 1,
                        "type": "html",
                        "value": "<span style=\"color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;\">sonraki adım</span><span style=\"font-size:18px; font-family: BrandonTextBold\">ÖDEME BİLGİLERİNİ GİR</span>",
                        "selectorFallback": "#order-cart-addreslist > div.cart-approve-btn > button"
                    },
                    {
                        "id": 2,
                        "type": "html",
                        "value": "{{REPLACE}}",
                        "selectorFallback": "#accept-pay",
                        "replaceFn": "if (!$(\"#menuPayments > ul > li:nth-child(2)\").length) {if ($(\"#main > div > fieldset > div.payment-options-area.frame-box.form-group > div.bank-transfer-area.form-group.frame-box.bank-payment-section\").attr(\"style\")?.includes(\"display: block\")) return \"<span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";if ($(\"#main > div > fieldset > div.payment-options-area.frame-box.form-group > div.row.payment-box.payment-area.credit-cart-section > div.row.installement-box.installement-area\").attr(\"style\")?.includes(\"display: none\")) return \"<span style='height: 2.5rem; color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";const selectedOption = $(\"#installement-table-area > tbody\").find(\".selected-installement\");if (selectedOption.is(\":first-child\")) return \"<span style='height: 2.5rem;color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";const installmentPrice = selectedOption.find(\"td\").text().split(\"x\")[1].trim();return \"<span style='height: 2.5rem; color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>ayda \" + installmentPrice + \" taksitle</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";} else {if ($(\"#menuPayments > ul > li:nth-child(2)\").hasClass(\"active\")) return \"<span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";if (!$(\"#no_card_data\").hasClass(\"hidden\")) return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";if ($(\"#menuPayments > ul > li:nth-child(1)\").hasClass(\"active\")) {const selectedOption = $(\"#creditCardInstallmentOptions > div.installament-list-2-col.add-installament > div > table > tbody\").find(\".active\");if (selectedOption.attr(\"id\") === \"installment-tr-1\") return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";const installmentPrice = selectedOption.find(\".installment-price\").text().split(\"x\")[1].trim();return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>ayda \" + installmentPrice + \" taksitle</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";}}"
                    }
                ]
            },
            {
                "operator": "edit",
                "type": "addClass",
                "selector": ".btn.cart-confirm.btn-lg",
                "value": "nd-flex nd-flex__centered nd-flex__column",
                "businessRuleTransformations":
                [
                    {
                        "id": 0,
                        "operator": "noop"
                    },
                    {
                        "id": 2,
                        "selectorFallback": "#accept-pay"
                    }
                ]
            }
        ]
    },
    {
        "id": 17,
        "name": "M - P - Remove 'Desktek'",
        "description": "Remove 'Destek' icon from PDP",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Mobile Web",
        "device": "mobile",
        "delay": 50,
        "apply_on_user_segment": "*",
        "pageTypes": ["PDP"],
        "eligibilityRuleSet": ["Element.LauncherExists"],
        "actions":
        [
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"display\":\"none\"}",
                "selector": "#launcher"
            }
        ]
    },
    {
        "id": 19,
        "name": "D - Flashing Tabs",
        "description": "Flashing Tab Messaging - Browser",
        "category": "Promotional Messaging / Web",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "businessRuleSet": [{"set": ["PageType.Basket", "!Cart.Empty"], "type": "and"}, "PageType.PLP", "PageType.PDP"],
        "actions":
        [
            {
                "operator": "edit",
                "type": "documentTitle",
                "selector": "no-selector",
                "value":
                [
                    "👋 Hey! Hala orada mısın?",
                    "❤ Seni özledik"
                ],
                "applyEvent":
                [
                    "tabChange"
                ],
                "businessRuleTransformations":
                [
                    {
                        "id": 0,
                        "value":
                        [
                            "🛒 Sepetinde {{REPLACE}} ürün unuttun!",
                            "👋 Sepetinde {{REPLACE}} ürün unuttun!"
                        ],
                        "replaceFn": "let sum = Array.from($(\".cartItemQuantity\")).length; return sum;"
                    },
                    {
                        "id": 1,
                        "value":
                        [
                            "🏡 En güzel {{REPLACE}} mobilyaları Vivense’de!",
                            "🛋 En sağlam {{REPLACE}} mobilyaları Vivense’de!",
                            "🪑 En kaliteli {{REPLACE}} mobilyaları Vivense’de!"
                        ],
                        "replaceFn":
                        {
                            "storage": "info-layer",
                            "key": "plp.name",
                            "keyFallback": "pdp.category"
                        }
                    },
                    {
                        "id": 2,
                        "value": "⭐ O {{REPLACE}} Bu {{REPLACE}} !",
                        "replaceFn":
                        {
                            "storage": "info-layer",
                            "key": "plp.name",
                            "keyFallback": "pdp.category"
                        }
                    }
                ]
            }
        ]
    },
    {
        "id": 21,
        "name": "M - L - Disable Top Banner",
        "description": "PLP - Disable Top Banner for Mobile",
        "category": "Abandonment and Reengagement / PLP / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "reapply_event": "query_search_change",
        "pageTypes": ["PLP"],
        "actions":
        [
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"position\":\"unset\"}",
                "selector": "#search-body > div.category-banner-wrapper"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"top\":\"0\"}",
                "selector": "#category_sticky_filter"
            }
        ]
    },
    {
        "id": 23,
        "name": "D - C - Remove VV Banner",
        "description": "Remove Default Vivense banner - Basket",
        "category": "Universal Best Practice UX Strategies / Basket Page / Web ",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "pageTypes": ["Basket"],
        "actions":
        [
            {
                "operator": "remove",
                "selector": "#checkoutForm > div > div > div.col-sm-12.basket_product_list_header.reserved-product",
                "selectorFallback": "#checkoutForm > div.basket_product_list_header.reserved-product"
            }
        ]
    },
    {
        "id": 24,
        "name": "M - C - Encouraging Messaging: A: Uzun Uzun Düşünme B: 3 Gün İçinde",
        "description": "Money back guarantee banner - Basket",
        "category": "Universal Best Practice UX Strategies / Basket Page / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "pageTypes": ["Basket"],
        "eligibilityRuleSet": ["Cart.CouponApplicable"],
        "actions":
        [
            {
                "operator": "remove",
                "selector": ".nd-money-back__wrapper"
            },
            {
                "operator": "insert",
                "type": "before",
                "selector": "#checkoutForm > div > div.row.centered-wide-fix",
                "selectorFallback": "#main > div",
                "variants":
                {
                    "A":
                    {
                        "value": "<div class=\"nd-money-back__wrapper\" style=\"margin: 15px auto 0\"><div class=\"nd-money-back\"><div class=\"nd-money-back__body\"><img src=\"https://ndvivense.glov.ai/assets/nd-handshake.svg\" style=\"width:36px; height:24px;\"/><div style=\"margin-left: 8px\">Teslimattan sonra da yanınızdayız</div></div></div></div>"
                    },
                    "B":
                    {
                        "value": "<div class=\"nd-money-back__wrapper\" style=\"margin: 15px auto 0\"><div class=\"nd-money-back\"><div class=\"nd-money-back__body\"><img src=\"https://ndvivense.glov.ai/assets/nd-handshake.svg\" style=\"width:36px; height:24px;\"/><div style=\"margin-left: 8px\">3 gün içinde para iade garantisi</div></div></div></div>"
                    }
                }
            },
            {
                "operator": "remove",
                "selector": "#checkoutForm > div > div > div.col-sm-12.basket_product_list_header.reserved-product",
                "selectorFallback": "#checkoutForm > div.basket_product_list_header.reserved-product"
            }
        ]
    },
    {
        "id": 31,
        "name": "D - CTA - Color: A: Kırmızı B: Sarı C: Mor",
        "description": "CTA Buttons Change Color",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web, Mobile Web",
        "device": "desktop",
        "apply_on_user_segment": "*",
        "reapply_event": "timeout",
        "pageTypes": ["!Homepage", "!PLP", "!Favorites", "!PastOrders", "!ProfilePages"],
        "businessRuleSet": [{"set":["PageType.Register", "PageType.Sign-in"], "type": "or"}],
        "actions":
        [
            {
                "operator": "edit",
                "type": "addClass",
                "selector": ".btn.cart-confirm.btn-lg",
                "selectorFallback": ".add-to-cart-btn",
                "variants":
                {
                    "A":
                    {
                        "value": "nd-cta-red",
                        "businessRuleTransformations":
                        [
                            {
                                "id": 0,
                                "selector": "#registerBtn",
                                "selectorFallback": "#loginForm > button",
                                "value": "nd-cta-red-no-imp"
                            }
                        ]
                    },
                    "B":
                    {
                        "value": "nd-cta-yellow",
                        "businessRuleTransformations":
                        [
                            {
                                "id": 0,
                                "selector": "#registerBtn",
                                "selectorFallback": "#loginForm > button",
                                "value": "nd-cta-yellow-no-imp"
                            }
                        ]
                    },
                    "C":
                    {
                        "value": "nd-cta-purple",
                        "businessRuleTransformations":
                        [
                            {
                                "id": 0,
                                "selector": "#registerBtn",
                                "selectorFallback": "#loginForm > button",
                                "value": "nd-cta-purple-no-imp"
                            }
                        ]
                    }
                }
            },
            {
                "operator": "noop",
                "type": "addClass",
                "selector": "#loginForm > button",
                "selectorFallback": "#registerBtn",
                "variants":
                {
                    "A":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 0,
                                "value": "nd-cta-red-no-imp",
                                "operator": "edit"
                            }
                        ]
                    },
                    "B":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 0,
                                "value": "nd-cta-yellow-no-imp",
                                "operator": "edit"
                            }
                        ]
                    },
                    "C":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 0,
                                "value": "nd-cta-purple-no-imp",
                                "operator": "edit"
                            }
                        ]
                    }
                }
            }
        ]
    },
    {
        "id": 32,
        "name": "M - CTA - Color: A: Kırmızı B: Sarı C: Mor",
        "description": "CTA Buttons Change Color Mobile",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web, Mobile Web",
        "device": "mobile",
        "reapply_event":
        [
            "timeout",
            "element_change"
        ],
        "reapply_selector": "#\\#",
        "apply_on_user_segment": "*",
        "pageTypes": ["!Homepage", "!PLP", "!Favorites", "!PastOrders", "!ProfilePages"],
        "businessRuleSet": [{"set":["PageType.Basket", "PageType.PDP"], "type": "or"}, {"set":["PageType.Address", "PageType.Payment"], "type": "or"}, {"set":["PageType.Register", "PageType.Sign-in"], "type": "or"}],
        "actions":
        [
            {
                "operator": "noop",
                "type": "addClass",
                "variants":
                {
                    "A":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 0,
                                "value": "nd-cta-red"
                            },
                            {
                                "id": 1,
                                "value": "nd-cta-red"
                            },
                            {
                                "id": 2,
                                "value": "nd-cta-red-no-imp"
                            }
                        ]
                    },
                    "B":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 0,
                                "value": "nd-cta-yellow"
                            },
                            {
                                "id": 1,
                                "value": "nd-cta-yellow"
                            },
                            {
                                "id": 2,
                                "value": "nd-cta-yellow-no-imp"
                            }
                        ]
                    },
                    "C":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 0,
                                "value": "nd-cta-purple"
                            },
                            {
                                "id": 1,
                                "value": "nd-cta-purple"
                            },
                            {
                                "id": 2,
                                "value": "nd-cta-purple-no-imp"
                            }
                        ]
                    }
                },
                "businessRuleTransformations":
                [
                    {
                        "id": 0,
                        "operator": "edit",
                        "selector": ".btn.cart-confirm",
                        "selectorFallback": ".default-add-cart-btn"
                    },
                    {
                        "id": 1,
                        "operator": "edit",
                        "selector": ".cart-approve-btn button",
                        "selectorFallback": ".btn-type-address"
                    },
                    {
                        "id": 2,
                        "operator": "edit",
                        "selector": "#registerBtn"
                    }
                ]
            },
            {
                "operator": "noop",
                "variants":
                {
                    "A":
                    {
                        "value": "nd-cta-red-no-imp"
                    },
                    "B":
                    {
                        "value": "nd-cta-yellow-no-imp"
                    },
                    "C":
                    {
                        "value": "nd-cta-purple-no-imp"
                    }
                },
                "businessRuleTransformations":
                [
                    {
                        "id": 2,
                        "operator": "edit",
                        "type": "addClass",
                        "selector": "#loginForm > button"
                    }
                ]
            }
        ]
    },
    {
        "id": 33,
        "name": "M - CTA - Text Optimization",
        "description": "CTA Button Text Optimization",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Mobile Web",
        "device": "mobile",
        "reapply_event": "element_change",
        "reapply_selector":
        [
            ".tabbable-line",
            ".payment-options-area.frame-box.form-group",
            "#\\#"
        ],
        "apply_on_user_segment": "*",
        "pageTypes": ["Address", "Basket", "Payment"],
        "businessRuleSet": ["PageType.Basket", "PageType.Address", "PageType.Payment"],
        "actions":
        [
            {
                "operator": "edit",
                "type": "text",
                "selector": ".btn.cart-confirm.btn-lg",
                "businessRuleTransformations":
                [
                    {
                        "id": 0,
                        "value": "ALIŞVERİŞİ TAMAMLA",
                        "selectorFallback": "#checkoutForm > div.padding-reset.main-basket-summary > div.row.sticky-panel > div.col-xs-12.approve-basket > button"
                    },
                    {
                        "id": 1,
                        "type": "html",
                        "value": "<span style=\"color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;\">sonraki adım</span><span style=\"font-size:18px; font-family: BrandonTextBold\">ÖDEME BİLGİLERİNİ GİR</span>",
                        "selectorFallback": "#order-cart-addreslist > div.cart-approve-btn > button"
                    },
                    {
                        "id": 2,
                        "type": "html",
                        "value": "{{REPLACE}}",
                        "selectorFallback": "#accept-pay",
                        "replaceFn": "if (!$(\"#menuPayments > ul > li:nth-child(2)\").length) {if ($(\"#main > div > fieldset > div.payment-options-area.frame-box.form-group > div.bank-transfer-area.form-group.frame-box.bank-payment-section\").attr(\"style\")?.includes(\"display: block\")) return \"<span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";if ($(\"#main > div > fieldset > div.payment-options-area.frame-box.form-group > div.row.payment-box.payment-area.credit-cart-section > div.row.installement-box.installement-area\").attr(\"style\")?.includes(\"display: none\")) return \"<span style='height: 2.5rem; color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";const selectedOption = $(\"#installement-table-area > tbody\").find(\".selected-installement\");if (selectedOption.is(\":first-child\")) return \"<span style='height: 2.5rem;color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";const installmentPrice = selectedOption.find(\"td\").text().split(\"x\")[1].trim();return \"<span style='height: 2.5rem; color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>ayda \" + installmentPrice + \" taksitle</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";} else {if ($(\"#menuPayments > ul > li:nth-child(2)\").hasClass(\"active\")) return \"<span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";if (!$(\"#no_card_data\").hasClass(\"hidden\")) return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";if ($(\"#menuPayments > ul > li:nth-child(1)\").hasClass(\"active\")) {const selectedOption = $(\"#creditCardInstallmentOptions > div.installament-list-2-col.add-installament > div > table > tbody\").find(\".active\");if (selectedOption.attr(\"id\") === \"installment-tr-1\") return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";const installmentPrice = selectedOption.find(\".installment-price\").text().split(\"x\")[1].trim();return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>ayda \" + installmentPrice + \" taksitle</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";}}"
                    }
                ]
            },
            {
                "operator": "edit",
                "type": "addClass",
                "selector": ".btn.cart-confirm.btn-lg",
                "value": "nd-flex nd-flex__centered nd-flex__column",
                "businessRuleTransformations":
                [
                    {
                        "id": 0,
                        "operator": "noop"
                    },
                    {
                        "id": 1,
                        "operator": "noop"
                    },
                    {
                        "id": 2,
                        "selectorFallback": "#accept-pay"
                    }
                ]
            }
        ]
    },
    {
        "id": 40,
        "name": "D - C - Price Scarcity: Sınırlı Sayıda",
        "description": "Insert 'Bu fiyattan sınırlı sayıda' banner depending on info from lookup api",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web ",
        "device": "desktop",
        "reapply_event": "element_change",
        "reapply_selector": "#checkoutForm > div > div.row.centered-wide-fix > div.col-md-4.cart-right-container",
        "apply_on_user_segment": "*",
        "pageTypes": ["Basket"],
        "eligibilityRuleSet": ["!Cart.Empty"],
        "actions":
        [
            {
                "operator": "remove",
                "selector": ".bn-limited-product-tag"
            },
            {
                "variants":
                {
                    "A":
                    {
                        "condition":
                        {
                            "type": "productInfoLookup",
                            "operator": "cartCntVisitorsIn15",
                            "selector": ".cart-inside",
                            "attribute": "data-sku",
                            "inner_condition": "greaterThan",
                            "value": 49
                        }
                    },
                    "B":
                    {
                        "condition":
                        {
                            "type": "productInfoLookup",
                            "operator": "cartCntVisitorsIn15",
                            "selector": ".cart-inside",
                            "attribute": "data-sku",
                            "inner_condition": "greaterThan",
                            "value": 49,
                            "chain": {
                                "attribute": "data-price",
                                "inner_condition": "greaterEquals",
                                "value": 1250
                            }
                        }
                    }
                },
                "operator": "insert",
                "type": "append",
                "value": "<div class=\"bn-limited-product-tag\" style=\"background: rgba(255, 89, 89, 0.1); color: #FF5959; font-family: BrandonTextRegular; font-size: 12px; min-width: 127px; text-align: center;\">Bu fiyattan sınırlı sayıda</div>",
                "selector": ".cart-price"
            }
        ]
    },
    {
        "id": 41,
        "name": "D - Exit Popup Promo Messages: Evini Birlikte Güzelleştirelim!",
        "description": "Display exit popup",
        "category": "Abandonment and Reengagement / Sitewide / Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "delay": 30000,
        "reapply_selector": "div.shortcut_column.basket_wrapper.my-cart",
        "device": "desktop",
        "pageTypes": ["!Basket", "!SpecialCampaigns", "!Payment", "!Address", "!Sign-in", "!Register"],
        "eligibilityRuleSet": ["History.PageTypeCountSessionMin"],
        "actions":
        [
            {
                "operator": "insert",
                "type": "popup",
                "applyEvent":
                [
                    "exitIntent",
                    "copyIntent"
                ],
                "selector": "body",
                "value": "<div class='nd-popup'><div class='nd-popup__body'><img src='https://img.vivense.com/1920x1280/images/0b328f8e3a494ceca1f9a9f013402412.jpg' style='width: 370px;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;'><div class='nd-popup__title'>Evini birlikte güzelleştirelim!</div><div class='nd-popup__text'>Vivense ile ayrıcalıklı alışverişin keyfini çıkar.</div><ul><li style='list-style: initial;font-family: BrandonTextBold;'>3 Gün İçinde Koşulsuz Para İade Garantisi</li><li style='list-style: initial;font-family: BrandonTextRegular;'>Seçilmiş Ürünler ve Özel Koleksiyonlar</li><li style='list-style: initial;font-family: BrandonTextBold;'>İç Mimarlık ve Kurulum Hizmetleri</li><li style='list-style: initial;font-family: BrandonTextRegular;'>2 Yıl Garanti*</li><li style='list-style: initial;font-family: BrandonTextBold;'>Memnuniyeti Odaklı Satış Sonrası Destek</li></ul><span style='font-family: BrandonTextLight;font-style: italic;font-size: 11px;margin: 5px 5px 10px auto;letter-spacing: 1px;'>*Seçili kategorilerde geçerlidir.</span><a class='nd-cta_btn' href='haftanin-cok-satanlari.html'>ÇOK SATANLARI GÖR</a></div><button class='nd-popup__button-close'>X</button></div>"
            }
        ]
    },
    {
        "id": 42,
        "name": "M - Exit Popup Promo Messages: Evini Birlikte Güzelleştirelim!",
        "description": "Display exit popup",
        "category": "Abandonment and Reengagement / Sitewide / Mobile Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "delay": 30000,
        "reapply_selector": "div.shortcut_column.basket_wrapper.my-cart",
        "device": "mobile",
        "pageTypes": ["!Basket", "!SpecialCampaigns", "!Payment", "!Address", "!Sign-in", "!Register"],
        "eligibilityRuleSet": ["History.PageTypeCountSessionMin"],
        "actions":
        [
            {
                "operator": "insert",
                "type": "popup",
                "applyEvent":
                [
                    "exitIntent",
                    "copyIntent"
                ],
                "selector": "body",
                "value": "<div class='nd-popup' style='margin: 6vh auto;'><div class='nd-popup__body'><img src='https://img.vivense.com/1920x1280/images/0b328f8e3a494ceca1f9a9f013402412.jpg' style='width: 90vw;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;'><div class='nd-popup__title'>Evini birlikte güzelleştirelim!</div><div class='nd-popup__text'>Vivense ile ayrıcalıklı alışverişin keyfini çıkar.</div><ul><li style='list-style: initial;font-family: BrandonTextBold;'>3 Gün İçinde Koşulsuz Para İade Garantisi</li><li style='list-style: initial;font-family: BrandonTextRegular;'>Seçilmiş Ürünler ve Özel Koleksiyonlar</li><li style='list-style: initial;font-family: BrandonTextBold;'>İç Mimarlık ve Kurulum Hizmetleri</li><li style='list-style: initial;font-family: BrandonTextRegular;'>2 Yıl Garanti*</li><li style='list-style: initial;font-family: BrandonTextBold;'>Memnuniyeti Odaklı Satış Sonrası Destek</li></ul><span style='font-family: BrandonTextLight;font-style: italic;font-size: 11px;margin: 5px 5px 10px auto;letter-spacing: 1px;'>*Seçili kategorilerde geçerlidir.</span><a class='nd-cta_btn' href='haftanin-cok-satanlari.html'>ÇOK SATANLARI GÖR</a></div><button class='nd-popup__button-close'>X</button></div>"
            }
        ]
    },
    {
        "id": 43,
        "name": "M - C - Price Scarcity",
        "description": "Insert 'Bu fiyattan sınırlı sayıda' banner depending on info from lookup api",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web ",
        "device": "mobile",
        "apply_on_user_segment": "*",
        "pageTypes": ["Basket"],
        "eligibilityRuleSet": ["!Cart.Empty", "!Element.PriceScarcity"],
        "actions":
        [
            {
                "operator": "remove",
                "selector": ".bn-limited-product-tag"
            },
            {
                "variants":
                {
                    "A":
                    {
                        "condition":
                        {
                            "type": "productInfoLookup",
                            "operator": "cartCntVisitorsIn15",
                            "selector": ".cart-inside",
                            "attribute": "data-sku",
                            "inner_condition": "greaterThan",
                            "value": 49
                        }
                    },
                    "B":
                    {
                        "condition":
                        {
                            "type": "productInfoLookup",
                            "operator": "cartCntVisitorsIn15",
                            "selector": ".cart-inside",
                            "attribute": "data-sku",
                            "inner_condition": "greaterThan",
                            "value": 49,
                            "chain": {
                                "attribute": "data-price",
                                "inner_condition": "greaterEquals",
                                "value": 1250
                            }
                        }
                    }
                },
                "operator": "insert",
                "type": "append",
                "value": "<div class=\"bn-limited-product-tag\" style=\"background: rgba(255, 89, 89, 0.1); color: #FF5959; font-family: BrandonTextRegular; font-size: 12px; padding: 0 5px; text-align: center;\">Bu fiyattan sınırlı sayıda</div>",
                "selector": ".right-content"
            }
        ]
    },
    {
        "id": 49,
        "name": "D - Simplify Membership Page",
        "description": "Simplify Membership Page",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web ",
        "device": "desktop",
        "reapply_event": "element_change",
        "reapply_selector": "#login",
        "apply_on_user_segment":"*",
        "pageTypes": ["Sign-in", "Register"],
        "actions":[
           {
                "operator": "remove",
                "selector": "#sign-up > img"
           },
           {
                "operator": "remove",
                "selector": "#sign-up > p"
           },
           {
                "operator": "edit",
                "type": "text",
                "value": "Üye Ol",
                "selector": "body > div.main-custom-container > div.container > div.vivense-registration-page > ul > li:nth-child(2) > a"
           },
           {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"display\":\"none\"}",
                "selector": "#registration > div.vivense-campaign-endorsement-selection > div"
           },
           {
                "operator": "insert",
                "type": "after",
                "value": "<div><label class=\"checkbox\" for=\"nd_vvns-approve-campaign\" ><input type=\"checkbox\" name=\"nd_vvns-approve-campaign\" id=\"nd_vvns-approve-campaign\" onclick='(function handleApproveClick(e){let checkbox = document.getElementById(\"nd_vvns-approve-campaign\"); if(checkbox.checked){document.querySelector(\"#vvns-approve-campaign\").click();document.querySelector(\"#vivenseSms\").click();document.querySelector(\"#vivenseEmail\").click();document.querySelector(\"#vivensePhone\").click();} else {document.querySelector(\"#vvns-not-approve-campaign\").click();}})(this)'><span style=\"margin-left:20px;vertical-align:middle\">Onaylıyorum</span></label></div>",
                "selector": "#registration > div.vivense-campaign-endorsement-selection > p"
           },
           {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"background\": \"#8f9ba7 !important\", \"color\": \"#fff !important\"}",
                "selector": "#registerBtn"
          }
        ]
    },
    {
        "id": 51,
        "name":"D - Header Menu Delay",
        "description":"Apply 0.5 second delay when displaying header menu dropdown on hover",
        "category":"Universal Best Practice UX Strategies / Category Pages (PLP) / Web ",
        "device":"desktop",
        "pageTypes": ["!Address", "!Payment", "!Sign-in", "!Register"],
        "actions":[
            {
                "operator": "injectscript",
                "selector": "body",
                "value": "const head = document.head || document.getElementsByTagName('head')[0];const css = '.bg_opacity {opacity: 0; transition-delay: 0s;}';const se = document.createElement('style');se.type = 'text/css';if (se.styleSheet) {se.styleSheet.cssText = css;} else {se.appendChild(document.createTextNode(css));}head.appendChild(se);const o = document.querySelector('.overlay_bg');o.classList.add('bg_opacity');document.querySelectorAll('.main_category_inner').forEach(e => {e.classList.add('bg_opacity');});const el = document.querySelector('.main_menu_category_list_wrapper');el.addEventListener('mouseover', () => {const ts = Array.from(window.top.document.querySelectorAll('.bg_opacity'));if (ts.some((t) => {return getComputedStyle(t).opacity === '1'})) {return;}setTimeout(() => {const ts = Array.from(window.top.document.querySelectorAll('.bg_opacity'));if (ts.some((t) => {return getComputedStyle(t).display === 'block'})) {o.style['opacity'] = 1;ts.forEach((t) => {t.style['opacity'] = 1;});}}, 500);});el.addEventListener('mouseleave', () => {const ts = Array.from(window.top.document.querySelectorAll('.bg_opacity'));o.style['opacity'] = 0;ts.forEach((t) => {t.style['opacity'] = 0;});});"
            }
        ]
    },
    {
        "id": 54,
        "name":"M - Simplify Membership Page",
        "description":"Simplify Membership Page",
        "category":"Universal Best Practice UX Strategies / Category Pages (PLP) / Web ",
        "device":"mobile",
        "reapply_event": "element_change",
        "reapply_selector": "#login",
        "apply_on_user_segment":"*",
        "pageTypes": ["Sign-in", "Register"],
        "actions":[
           {
                "operator": "remove",
                "selector": "#sign-up > img"
           },
           {
                "operator": "remove",
                "selector": "#sign-up > p"
           },
           {
                "operator": "edit",
                "type": "text",
                "value": "Üye Ol",
                "selector": "body > div.main-custom-container > div.container > div.vivense-registration-page > ul > li:nth-child(2) > a"
           },
           {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"display\":\"none\"}",
                "selector": "#registration > div.vivense-campaign-endorsement-selection > div"
           },
           {
                "operator": "insert",
                "type": "after",
                "value": "<div><label class=\"checkbox\" for=\"nd_vvns-approve-campaign\" ><input type=\"checkbox\" name=\"nd_vvns-approve-campaign\" id=\"nd_vvns-approve-campaign\" onclick='(function handleApproveClick(e){let checkbox = document.getElementById(\"nd_vvns-approve-campaign\"); if(checkbox.checked){document.querySelector(\"#vvns-approve-campaign\").click();document.querySelector(\"#vivenseSms\").click();document.querySelector(\"#vivenseEmail\").click();document.querySelector(\"#vivensePhone\").click();} else {document.querySelector(\"#vvns-not-approve-campaign\").click();}})(this)'><span style=\"margin-left:20px;vertical-align:middle\">Onaylıyorum</span></label></div>",
                "selector": "#registration > div.vivense-campaign-endorsement-selection > p"
           }
        ]
    },
    {
        "id": 57,
        "name": "D - Checkout Distracter Blocker -Quin",
        "description": "Remove Vivense Quin Related UI items",
        "category": "Universal Best Practice UX Strategies / Basket Page / Web ",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "pageTypes": ["Payment", "Address"],
        "actions":
        [
            {
                "operator": "remove",
                "selector": "#grt-shadow-host"
            }
        ]
    },
    {
        "id": 58,
        "name": "M - Checkout Distracter Blocker -Quin",
        "description": "Remove Vivense Quin Related UI items",
        "category": "Universal Best Practice UX Strategies / Basket Page / Web ",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "pageTypes": ["Payment", "Address"],
        "actions":
        [
            {
                "operator": "remove",
                "selector": "#grt-shadow-host"
            }
        ]
    },
    {
        "id": 65,
        "name": "D - P - Title Change",
        "description": "Change Title with chat gpt suggestions",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web, Mobile Web",
        "device": "desktop",
        "apply_on_user_segment": "*",
        "eligibilityRuleSet": ["PageType.PDP"],
        "actions":
        [
            {
                "operator": "title-change",
                "selector": ".product-title"
            }
        ]
    }
]

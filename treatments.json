[
    {
        "id": 1,
        "name": "Exit Pop-up",
        "description": "Display exit popup",
        "category": "Abandonment and Reengagement / Sitewide / Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector": "div.shortcut_column.basket_wrapper.my-cart",
        "device": "desktop",
        "baseRuleSet": [
            {
                "id": 1,
                "type": "session",
                "operator": "duration",
                "condition": "greaterThan",
                "value": 10
            },
            {
                "id": 2,
                "type": "counter",
                "operator": "pageView",
                "condition": "greaterThan",
                "value": 2
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/siparis-listesi.html"
            },
            {
                "id": 4,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/indirimli-mobilya-kampanyalari.html"
            },
            {
                "id": 5,
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > a > span.basket_length"
            }
        ],
        "actions": [
            {
                "operator": "insert",
                "type": "popup",
                "applyEvent": ["exitIntent", "copyIntent"],
                "selector": "body",
                "contentSelector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > div > div.basket_product_list > ul > li > a > div.product_image > img",
                "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"{{REPLACE}}\" style=\"width: 370px;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Sipariş vermenin tam zamanı!</div><div class=\"nd-popup__text\">Sepetindeki ürünlerin stokları azalıyor. Şimdi alışverişini tamamla, ürünlerin daha hızlı teslim edilsin!</div><a class=\"nd-cta_btn\" href=\"siparis-listesi.html\">ŞİMDİ SİPARİŞ VER</a></div></div>"
            }
        ]
    },
    {
        "id": 2,
        "name": "Photo Enlarging",
        "description": "Change mobile layout into 1 column",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "reapply_event": "infinite_scroll",
        "baseRuleSet": [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Listingpage"
            }
        ],
        "actions": [
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"margin-top\":\"13rem\"}",
                "selector": "div.product_info"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"width\":\"100%\"}",
                "selector": "#product-list-wrapper > div.product-list_container > div > div"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "next-day-product",
                "selector": ".product-list > .product-card"
            }, 
            {
                "operator": "remove",
                "selector": "#product-list-wrapper > div.product-list_container > div > div > div.other_size_options_mobile_wrapper.open_other_product"
            }
        ]
    },
    {
        "id": 3,
        "name": "Sales Motivator",
        "description": "Sales Motivator (Coupon) - Basket",
        "category": "Promotional Messaging / Cart and Checkout Pages / Web",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "reapply_event": "element_change",
        "reapply_selector": "#checkoutForm > div > div > div.col-md-8.cart-left-container",
        "baseRuleSet": [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html"
            }
        ],
        "subVariantRuleSet": [
            {
                "id": 1,
                "type": "element",
                "operator": "text-number",
                "condition": "lessThan",
                "value": 2000,
                "selectorAll": ".price",
                "subVariantId": 1
            },
            {
                "id": 2,
                "type": "element",
                "operator": "text-number",
                "condition": "between",
                "value": "2000, 4000",
                "selectorAll": ".price",
                "subVariantId": 2
            },
            {
                "id": 3,
                "type": "element",
                "operator": "text-number",
                "condition": "between",
                "value": "4000, 7000",
                "selectorAll": ".price",
                "subVariantId": 3
            },
            {
                "id": 4,
                "type": "element",
                "operator": "text-number",
                "condition": "greaterThan",
                "value": 7000,
                "selectorAll": ".price",
                "subVariantId": 4
            }
        ],
        "actions": [
            {
                "operator": "remove",
                "selector": ".basket_top_warning-wrapper"
            },
            {
                "operator": "remove",
                "selector": "#nd-banner"
            },
            {
                "operator": "insert",
                "type": "before",
                "selector": "body > div.main-custom-container",
                "selectorFallback": "#main > div",
                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>4.000 TL ve üzeri alışverişlerde geçerli 300 TL indirim! Kupon kodu: YAZ300</b></div><a class=\"nd-banner__action-button\" href=\"/\"> Alışverişe Devam Et &gt;</a><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>",
                "replaceFn": null,
                "subVariants": [
                    {
                        "id": 1,
                        "selector": "#checkoutForm",
                        "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>4.000 TL ve üzeri alışverişlerde geçerli 300 TL indirim! Kupon kodu: YAZ300</b></div><a class=\"nd-banner__action-button\" href=\"/\"> Alışverişe Devam Et &gt;</a><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>",
                        "replaceFn": "const elems = Array.from(document.querySelectorAll('.price')); const total = elems.reduce((returnVal, elem) => {returnVal += parseInt(elem.textContent.replace('TL', '').replace('.', '')); return returnVal;}, 0); return 4000 - total;"
                    },
                    {
                        "id": 2,
                        "selector": "#checkoutForm",
                        "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>Güzel gidiyorsun! Sepetine {{REPLACE}} TL değerinde ürün ekleyerek anında 300 TL indirime sahip olabilirsin.</b></div><a class=\"nd-banner__action-button\" href=\"/\"> Alışverişe Devam Et &gt;</a><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>",
                        "replaceFn": "const elems = Array.from(document.querySelectorAll('.price')); const total = elems.reduce((returnVal, elem) => {returnVal += parseInt(elem.textContent.replace('TL', '').replace('.', '')); return returnVal;}, 0); return 4000 - total;"
                    },
                    {
                        "id": 3,
                        "selector": "#checkoutForm",
                        "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>Tebrikler! 300 TL indirim kuponun kullanıma hazır. Kupon kodu: YAZ300<br/>Sepetine {{REPLACE}} TL değerinde ürün ekleyerek anında 600 TL indirime sahip olabilirsin.</b></div><a class=\"nd-banner__action-button\" href=\"/\"> Alışverişe Devam Et &gt;</a><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>",
                        "replaceFn": "const elems = Array.from(document.querySelectorAll('.price')); const total = elems.reduce((returnVal, elem) => {returnVal += parseInt(elem.textContent.replace('TL', '').replace('.', '')); return returnVal;}, 0); return 7000 - total;"
                    },
                    {
                        "id": 4,
                        "selector": "#checkoutForm",
                        "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>Tebrikler! 600 TL indirim kuponun kullanıma hazır. Kupon kodu: YAZ600</b></div><a class=\"nd-banner__action-button\" href=\"/\"> Alışverişe Devam Et &gt;</a><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                    }
                ]
            }
        ]
    },
    {
        "id": 4,
        "name": "Sales Motivator",
        "description": "Sales Motivator (Coupon) - Basket",
        "category": "Promotional Messaging / Cart and Checkout Pages / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "reapply_event": "element_change",
        "reapply_selector": "#\\#",
        "baseRuleSet": [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html"
            }
        ],
        "subVariantRuleSet": [
            {
                "id": 1,
                "type": "element",
                "operator": "text-number",
                "condition": "lessThan",
                "value": 2000,
                "selectorAll": "#price:not(.not-allowed-coupon)",
                "subVariantId": 1
            },
            {
                "id": 2,
                "type": "element",
                "operator": "text-number",
                "condition": "between",
                "value": "2000, 4000",
                "selectorAll": "#price:not(.not-allowed-coupon)",
                "subVariantId": 2
            },
            {
                "id": 3,
                "type": "element",
                "operator": "text-number",
                "condition": "between",
                "value": "4000, 7000",
                "selectorAll": "#price:not(.not-allowed-coupon)",
                "subVariantId": 3
            },
            {
                "id": 4,
                "type": "element",
                "operator": "text-number",
                "condition": "greaterThan",
                "value": 7000,
                "selectorAll": "#price:not(.not-allowed-coupon)",
                "subVariantId": 4
            }
        ],
        "actions": [
            {
                "operator": "remove",
                "selector": ".basket_top_warning-wrapper"
            },
            {
                "operator": "remove",
                "selector": "#nd-banner"
            },
            {
                "operator": "insert",
                "type": "before",
                "selector": "body > div.main-custom-container",
                "selectorFallback": "#main > div",
                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>4.000 TL ve üzeri alışverişlerde geçerli 300 TL indirim!<br/>Kupon kodu: YAZ300</b></div><a class=\"nd-banner__action-button\" href=\"/\"> Alışverişe Devam Et &gt;</a><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>",
                "replaceFn": null,
                "subVariants": [
                    {
                        "id": 1,
                        "selector": "#checkoutForm",
                        "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>4.000 TL ve üzeri alışverişlerde geçerli 300 TL indirim!<br/>Kupon kodu: YAZ300</b></div><a class=\"nd-banner__action-button\" href=\"/\"> Alışverişe Devam Et &gt;</a><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>",
                        "replaceFn": "const elems = Array.from(document.querySelectorAll('#price:not(.not-allowed-coupon)')); const total = elems.reduce((returnVal, elem) => {returnVal += parseInt(elem.textContent.replace('TL', '').replace('.', '')); return returnVal;}, 0); return 4000 - total;"
                    },
                    {
                        "id": 2,
                        "selector": "#checkoutForm",
                        "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>Güzel gidiyorsun! Sepetine {{REPLACE}} TL değerinde ürün ekleyerek anında 300 TL indirime sahip olabilirsin.</b></div><a class=\"nd-banner__action-button\" href=\"/\"> Alışverişe Devam Et &gt;</a><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>",
                        "replaceFn": "const elems = Array.from(document.querySelectorAll('#price:not(.not-allowed-coupon)')); const total = elems.reduce((returnVal, elem) => {returnVal += parseInt(elem.textContent.replace('TL', '').replace('.', '')); return returnVal;}, 0); return 4000 - total;"
                    },
                    {
                        "id": 3,
                        "selector": "#checkoutForm",
                        "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>Tebrikler! 300 TL indirim kuponun kullanıma hazır.<br/>Kupon kodu: YAZ300<br/>Sepetine {{REPLACE}} TL değerinde ürün ekleyerek anında 600 TL indirime sahip olabilirsin.</b></div><a class=\"nd-banner__action-button\" href=\"/\"> Alışverişe Devam Et &gt;</a><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>",
                        "replaceFn": "const elems = Array.from(document.querySelectorAll('#price:not(.not-allowed-coupon)')); const total = elems.reduce((returnVal, elem) => {returnVal += parseInt(elem.textContent.replace('TL', '').replace('.', '')); return returnVal;}, 0); return 7000 - total;"
                    },
                    {
                        "id": 4,
                        "selector": "#checkoutForm",
                        "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>Tebrikler! 600 TL indirim kuponun kullanıma hazır.<br/>Kupon kodu: YAZ600</b></div><a class=\"nd-banner__action-button\" href=\"/\"> Alışverişe Devam Et &gt;</a><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                    }
                ]
            }
        ]
    },
    {
        "id": 5,
        "name": "Sales Motivator",
        "description": "Sales Motivator (Coupon) - PDP-Desktop",
        "category": "Promotional Messaging / Product Pages (PDP) / Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector": ["div.shortcut_column.basket_wrapper.my-cart", "span.price", "span.new-price"],
        "device": "desktop",
        "baseRuleSet":[
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            },
            {
                "id": 2,
                "type": "element",
                "operator": null,
                "selector": ".not-allowed-coupon",
                "condition": "notExist"
            }
        ],
        "subVariantRuleSet": [
            {
                "id": 1,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "span.price",
                    "selectorFallback": "span.new-price",
                    "condition": "lessThan",
                    "value": 4000
                },
                "subVariantId": 1
            },
            {
                "id": 2,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "span.price",
                    "selectorFallback": "span.new-price",
                    "condition": "greaterEquals",
                    "value": 4000,
                    "chain_condition": "and",
                    "chain": {
                        "type": "element",
                        "operator": "text-number",
                        "selector": "span.price",
                        "selectorFallback": "span.new-price",
                        "condition": "lessThan",
                        "value": 7000
                    }
                },
                "subVariantId": 2
            },
            {
                "id": 3,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "span.price",
                    "selectorFallback": "span.new-price",
                    "condition": "greaterEquals",
                    "value": 7000
                },
                "subVariantId": 3
            },
            {
                "id": 31,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 7000,
                "subVariantId": 31
            },
            {
                "id": 4,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "function",
                    "operator": "let selector = '.price'; if(!document.querySelector(selector)){selector = '.new-price'} const itemValue = parseInt(document.querySelector(selector).textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('ND_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "lessThan",
                    "value": 4000
                },
                "subVariantId": 4
            },
            {
                "id": 41,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "function",
                    "operator": "let selector = '.price'; if(!document.querySelector(selector)){selector = '.new-price'} const itemValue = parseInt(document.querySelector(selector).textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('ND_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "greaterEquals",
                    "value": 7000,
                    "chain_condition": "and",
                    "chain": {
                        "type": "counter",
                        "operator": "CABasketPrice",
                        "condition": "lessThan",
                        "value": 4000
                    }
                },
                "subVariantId": 41
            },
            {
                "id": 42,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "function",
                    "operator": "let selector = '.price'; if(!document.querySelector(selector)){selector = '.new-price'} const itemValue = parseInt(document.querySelector(selector).textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('ND_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "greaterEquals",
                    "value": 4000,
                    "chain_condition": "and",
                    "chain": {
                        "type": "counter",
                        "operator": "CABasketPrice",
                        "condition": "lessThan",
                        "value": 4000
                    }
                },
                "subVariantId": 42
            },
            {
                "id": 5,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "counter",
                    "operator": "CABasketPrice",
                    "condition": "greaterEquals",
                    "value": 4000,
                    "chain_condition": "and",
                    "chain": {
                        "type": "function",
                        "operator": "let selector = '.price'; if(!document.querySelector(selector)){selector = '.new-price'} const itemValue = parseInt(document.querySelector(selector).textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('ND_CABasketPrice')); return itemValue + caBasketPrice;",
                        "condition": "lessThan",
                        "value": 7000
                    }
                },
                "subVariantId": 5
            },
            {
                "id": 6,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "counter",
                    "operator": "CABasketPrice",
                    "condition": "greaterEquals",
                    "value": 4000,
                    "chain_condition": "and",
                    "chain": {
                        "type": "function",
                        "operator": "let selector = '.price'; if(!document.querySelector(selector)){selector = '.new-price'} const itemValue = parseInt(document.querySelector(selector).textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('ND_CABasketPrice')); return itemValue + caBasketPrice;",
                        "condition": "greaterEquals",
                        "value": 7000
                    }
                },
                "subVariantId": 6
        }
        ],
        "actions": [
            {
                "operator": "insert",
                "type": "before",
                "selector": "body > div.main-custom-container > div.container > div > div.col-md-9 > div.full-width.sticky_header",
                "selectorFallback": "body > div.main-custom-container > div.container-fluid > div > div.col-md-9 > div.full-width.sticky_header.next-day-sticky-f",
                "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekleyerek anında 300 TL indirime bir adım daha yaklaş.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>",
                "subVariants": [
                    {
                        "id": 1,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekleyerek anında 300 TL indirime bir adım daha yaklaş.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 2,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekleyerek anında 300 TL indirime sahip olabilirsin.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 3,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekleyerek anında 600 TL indirime sahip olabilirsin.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 31,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Tebrikler! 600 TL indirim kuponun sepette seni bekliyor.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 4,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekleyerek 300 TL indirime daha çok yaklaşabilirsin.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 41,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekleyerek anında 600 TL indirime sahip olabilirsin.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 42,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekleyerek anında 300 TL indirime sahip olabilirsin.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 5,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Tebrikler! 300 TL indirim kuponun sepette seni bekliyor. 600 TL indirim kazanmak için alışverişe devam et.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 6,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Tebrikler! 300 TL indirim kuponun sepette seni bekliyor. Sepetine bu ürünü ekleyerek anında 600 TL indirime sahip olabilirsin.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    }
                ]
            }
        ]
    },
    {
        "id": 6,
        "name": "Sales Motivator",
        "description": "Sales Motivator (Coupon) - PDP-Mobile",
        "category": "Promotional Messaging / Product Pages (PDP) / Mobile Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector": [".basket_icon.my-cart-mobile", "#sales-price"],
        "device": "mobile",
        "baseRuleSet":[
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            },
            {
                "id": 2,
                "type": "element",
                "operator": null,
                "selector": ".not-allowed-coupon",
                "condition": "notExist"
            }
        ],
        "subVariantRuleSet": [
            {
                "id": 1,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "#sales-price",
                    "condition": "lessThan",
                    "value": 4000
                },
                "subVariantId": 1
            },
            {
                "id": 2,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "#sales-price",
                    "condition": "greaterEquals",
                    "value": 4000,
                    "chain_condition": "and",
                    "chain": {
                        "type": "element",
                        "operator": "text-number",
                        "selector": "#sales-price",
                        "condition": "lessThan",
                        "value": 7000
                    }
                },
                "subVariantId": 2
            },
            {
                "id": 3,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "#sales-price",
                    "condition": "greaterEquals",
                    "value": 7000
                },
                "subVariantId": 3
            },
            {
                "id": 31,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 7000,
                "subVariantId": 31
            },
            {
                "id": 4,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "function",
                    "operator": "const itemValue = parseInt(document.querySelector('#sales-price').textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('ND_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "lessThan",
                    "value": 4000
                },
                "subVariantId": 4
            },
            {
                "id": 41,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "function",
                    "operator": "const itemValue = parseInt(document.querySelector('#sales-price').textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('ND_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "greaterEquals",
                    "value": 7000,
                    "chain_condition": "and",
                    "chain": {
                        "type": "counter",
                        "operator": "CABasketPrice",
                        "condition": "lessThan",
                        "value": 4000
                    }
                },
                "subVariantId": 41
            },
            {
                "id": 42,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "function",
                    "operator": "const itemValue = parseInt(document.querySelector('#sales-price').textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('ND_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "greaterEquals",
                    "value": 4000,
                    "chain_condition": "and",
                    "chain": {
                        "type": "counter",
                        "operator": "CABasketPrice",
                        "condition": "lessThan",
                        "value": 4000
                    }
                },
                "subVariantId": 42
            },
            {
                "id": 5,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "counter",
                    "operator": "CABasketPrice",
                    "condition": "greaterEquals",
                    "value": 4000,
                    "chain_condition": "and",
                    "chain": {
                        "type": "function",
                        "operator": "const itemValue = parseInt(document.querySelector('#sales-price').textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('ND_CABasketPrice')); return itemValue + caBasketPrice;",
                        "condition": "lessThan",
                        "value": 7000
                    }
                },
                "subVariantId": 5
            },
            {
                "id": 6,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain": {
                    "type": "counter",
                    "operator": "CABasketPrice",
                    "condition": "greaterEquals",
                    "value": 4000,
                    "chain_condition": "and",
                    "chain": {
                        "type": "function",
                        "operator": "const itemValue = parseInt(document.querySelector('#sales-price').textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('ND_CABasketPrice')); return itemValue + caBasketPrice;",
                        "condition": "greaterEquals",
                        "value": 7000
                    }
                },
                "subVariantId": 6
            }
        ],
        "actions": [
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"float\":\"none\"}",
                "selector": "div.product_images_wrapper"
            },
            {
                "operator": "insert",
                "type": "before",
                "selector": "#main > div > section > div:nth-child(1) > div > div.header-bottom",
                "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekleyerek anında 300 TL indirime bir adım daha yaklaş.</div></div></div>",
                "subVariants": [
                    {
                        "id": 1,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekleyerek anında 300 TL indirime bir adım daha yaklaş.</div></div></div>"
                    },
                    {
                        "id": 2,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekleyerek anında 300 TL indirime sahip olabilirsin.</div></div></div>"
                    },
                    {
                        "id": 3,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekleyerek anında 600 TL indirime sahip olabilirsin.</div></div></div>"
                    },
                    {
                        "id": 31,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Tebrikler! 600 TL indirim kuponun sepette seni bekliyor.</div></div></div>"
                    },
                    {
                        "id": 4,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekleyerek 300 TL indirime daha çok yaklaşabilirsin.</div></div></div>"
                    },
                    {
                        "id": 41,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekleyerek anında 600 TL indirime sahip olabilirsin.</div></div></div>"
                    },
                    {
                        "id": 42,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekleyerek anında 300 TL indirime sahip olabilirsin.</div></div></div>"
                    },
                    {
                        "id": 5,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Tebrikler! 300 TL indirim kuponun sepette seni bekliyor. 600 TL indirim kazanmak için alışverişe devam et.</div></div></div>"
                    },
                    {
                        "id": 6,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Tebrikler! 300 TL indirim kuponun sepette seni bekliyor. Sepetine bu ürünü ekleyerek anında 600 TL indirime sahip olabilirsin.</div></div></div>"
                    }
                ]
            }
        ]
    },
    {
        "id": 7,
        "name": "Photo Enlarging",
        "description": "Desktop Photo Enlargement",
        "category": "Universal Best Practice UX Strategies / Product Pages (PDP) / Web",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "baseRuleSet": [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            }
        ],
        "actions": [
            {
                "operator": "edit",
                "type": "addClass",
                "value": "container-fluid",
                "selector": ".main-custom-container > .container"
            },
            {
                "operator": "edit",
                "type": "removeClass",
                "value": "main-custom-container > container",
                "selector": ".main-custom-container > .container"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "custom-row",
                "selector": ".main-custom-container > .container-fluid> .row"
            },
            {
                "operator": "edit",
                "type": "removeClass",
                "value": "main-custom-container > container-fluid> row",
                "selector": ".main-custom-container > .container-fluid> .row"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "custom-detail",
                "selector": ".sticky_column > .product-details-bottom"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"width\":\"100%\"}",
                "selector": ".button-add-cart-action .add-to-cart-btn"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "next-day-image",
                "selector": "#wowslider-container1 > .ws_images"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "next-day-thumb",
                "selector": "#wowslider-container1 > .ws_thumbs"
            },
            {
                "operator": "remove",
                "selector": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div > div.product-price-details > table > tbody > tr:nth-child(1) > td.components-change.components-change-custom > div"
            },
            {
                "operator": "remove",
                "selector": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div > div.chose_fabric > div"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "container-fluid",
                "selector": "body > div.main-custom-container > div.full-width > div"
            },
            {
                "operator": "edit",
                "type": "removeClass",
                "value": "main-custom-container > container",
                "selector": "body > div.main-custom-container > div.full-width > div"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"padding-left\":\"inherit\"}",
                "selector": "#breadcrumb-ol"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "image-edit-content",
                "selector": ".ws_images.next-day-image > div"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "image-edit",
                "selector": "#wowslider-container1 > .ws_images.next-day-image > .image-edit-content > .ws_list > ul > li > a > img"
            },
            {
                "operator": "move",
                "move_selector_1": "body > div.main-custom-container > div.container-fluid > div > div.col-md-9 > div.full-width.sticky_header",
                "move_selector_2": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"margin-bottom\": \"0\", \"width\": \"unset\"}",
                "selector": ".product-main-details"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "nd-remove-pseudo-elements",
                "selector": ".product-main-details"
            },
            {
                "operator":"edit",
                "type":"addClass",
                "value":"nd-changecontent-fix",
                "selector":"#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div > div.product-price-details > table > tbody > tr:nth-child(1) > td.components-change.components-change-custom > a"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"margin-left\":\"calc(100vw - 1350px - (100vw - 1320px) / 2)\"}",
                "selector": "#breadcrumb-ol"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"flex-wrap\":\"wrap\", \"justify-content\":\"space-evenly\", \"padding\":\"15px\"}",
                "selector": ".product-main-detail-card"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"right\":\"-15px\", \"top\":\"83px\"}",
                "selector": ".vvns-customer-rating-modal"
            }
            
        ]
    },
    {
        "id":11,
        "name":"Photo Enlarging Extras",
        "description":"Desktop photo enlargement takim iceri extras",
        "category":"Universal Best Practice UX Strategies / Product Pages (PDP) / Web",
        "device":"desktop",
        "apply_on_user_segment":"*",
        "reapply_event":"element_change",
        "reapply_selector":"td.sumprice-com",
        "baseRuleSet":[
           {
              "id":1,
              "type":"dataLayer",
              "operator":"PageType",
              "condition":"equal",
              "value":"Productpage"
           },
           {
              "type":"element",
              "operator":null,
              "condition":"exist",
              "selector":"td.components-change.components-change-custom > a"
           }
        ],
        "subVariantRuleSet":[
           {
              "id":1,
              "type":"element",
              "operator":null,
              "condition":"notExist",
              "selector":".nd-popover",
              "chain_condition":"and",
              "chain":{
                 "type":"element",
                 "operator":"text-number",
                 "condition":"lessThan",
                 "value":7000,
                 "selector":"td.sumprice-com > p"
              },
              "subVariantId":1
           },
           {
              "id":2,
              "type":"element",
              "operator":null,
              "condition":"exist",
              "selector":".nd-popover",
              "chain_condition":"and",
              "chain":{
                 "type":"element",
                 "operator":"text-number",
                 "condition":"greaterThan",
                 "value":7000,
                 "selector":"td.sumprice-com > p"
              },
              "subVariantId":2
           },
           {
              "id":3,
              "type":"element",
              "operator":null,
              "condition":"exist",
              "selector":".nd-popover",
              "chain_condition":"and",
              "chain":{
                 "type":"element",
                 "operator":"text-number",
                 "condition":"lessThan",
                 "value":7000,
                 "selector":"td.sumprice-com > p"
              },
              "subVariantId":3
           }
        ],
        "actions":[
           {
              "operator":"remove",
              "selector":".nd-popover",
              "subVariants":[
                 {
                    "id":1,
                    "operator":"insert",
                    "type":"after",
                    "selector":"#sidebar-right > div > div.sticky_column > div.expand-showroom",
                    "value":"<div class=\"nd-popover\"><p>7000 TL altı ürünlerin kurulumu müşteriye aittir veya ücretli olarak Vivense tarafından sağlanabilir.</p></div>"
                 },
                 {
                    "id":2,
                    "operator":"remove",
                    "selector":".nd-popover"
                 },
                 {
                    "id":3,
                    "operator":"noop",
                    "selector":".nd-popover"
                 }
              ]
           }
        ]
     }
]

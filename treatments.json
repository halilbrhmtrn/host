[
    {
        "id": 0,
        "name": "ALL Dummy Baseline",
        "description": "Dummy Baseline",
        "category": "Baseline / Sitewide / Web, Mobile Web",
        "apply_on_user_segment": "*",
        "device": "*",
        "actions":
        [
            {
                "operator": "noop"
            }
        ]
    },
    {
        "id": 14,
        "name": "DESKTOP infinite scroll",
        "description": "Enable inifite scroll on desktop",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web",
        "device": "desktop",
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Listingpage",
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/arama"
                }
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": ".pagination_wrapper"
            },
            {
                "operator": "injectscript",
                "selector": "body",
                "value": "function track(fn, handler, before) {  return function interceptor() {    if (before) {      handler.apply(this, arguments);      return fn.apply(this, arguments);    } else {      var result = fn.apply(this, arguments);      handler.apply(this, arguments);      return result;    }  }};var oldQs = location.search;function handler() {  url = new URL(window.location.href);  origin = url.origin;  pathname = url.pathname;  search = url.search.substr(1);  window.sessionStorage.removeItem(\"BG_scrollPage\");  ajaxPage = 2;  oldQs = location.search;  $('.pagination_wrapper').remove();};history.pushState = track(history.pushState, handler);history.replaceState = track(history.replaceState, handler);window.addEventListener('popstate', handler);let ajaxPage = 2;const scrollPage = parseInt(window.sessionStorage.getItem(\"BG_scrollPage\"));let url = new URL(window.location.href);let origin = url.origin;let pathname = url.pathname;let search = url.search.substr(1);const pageLoader = async (page) => {  const fetchURL = `${origin}/ajax/mobile-search/loadOtherPages.php?originalPath=${pathname}&${search}&page=${page}`;  const res = await fetch(fetchURL);  if (!res.ok) return false;  const resJson = await res.json();  if (!resJson.html || resJson.html === \"\") return false;  $(\".product-list\").append(resJson.html);  return true;};const productsInitialize = () => {  setTimeout(() => {    if (typeof window.viveCategoryPage.lazyLoadImages === \"function\") window.viveCategoryPage.lazyLoadImages();    else console.warn(\"Beagle: window.viveCategoryPage.lazyLoadImages not defined\");    if (typeof window.viveCategoryPage.imageHover === \"function\") window.viveCategoryPage.imageHover();    else console.warn(\"Beagle: window.viveCategoryPage.imageHover not defined\");    if (typeof Vivense.favoriteActions.init === \"function\") Vivense.favoriteActions.init();    else console.warn(\"Beagle: favoriteActions.init not defined\");  }, 750);};const navType = performance.getEntriesByType(\"navigation\")[0].type;if (navType === \"back_forward\") {  if (scrollPage) {    for (let i = 2; i <= scrollPage; i++) {      pageLoader(i);    }    productsInitialize();    ajaxPage = scrollPage + 1;  }} else window.sessionStorage.removeItem(\"BG_scrollPage\");let pageLoadStatus = true;setInterval(async () => {  if (pageLoadStatus && document.documentElement.scrollTop / document.documentElement.offsetHeight > 0.75) {    pageLoadStatus = await pageLoader(ajaxPage);    if (pageLoadStatus) {      productsInitialize();      window.sessionStorage.setItem(\"BG_scrollPage\", ajaxPage);      ajaxPage++;    }  }}, 750);"
            }
        ]
    },
    {
        "id": 41,
        "name": "DESKTOP Exit Pop-up Hero Product",
        "description": "Display exit popup",
        "category": "Abandonment and Reengagement / Sitewide / Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector": "div.shortcut_column.basket_wrapper.my-cart",
        "device": "desktop",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "session",
                "operator": "duration",
                "condition": "greaterThan",
                "value": 10
            },
            {
                "id": 2,
                "type": "counter",
                "operator": "pageView",
                "condition": "greaterThan",
                "value": 2
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/siparis-listesi.html"
            },
            {
                "id": 4,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/indirimli-mobilya-kampanyalari.html"
            },
            {
                "id": 5,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/odeme.html"
            },
            {
                "id": 6,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/adres-listesi.html"
            },
            {
                "id": 7,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/vivense-uye-girisi.html"
            },
            {
                "id": 8,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/vivense-uye-kayit.html"
            }
        ],
        "actions":
        [
            {
                "operator": "insert",
                "type": "popup",
                "applyEvent":
                [
                    "exitIntent",
                    "copyIntent"
                ],
                "selector": "body",
                "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"https://img.vivense.com/1920x1280/images/0b328f8e3a494ceca1f9a9f013402412.jpg\" style=\"width: 370px;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Mobilya Seçmek Zor Karar!</div><div class=\"nd-popup__text\">Seni anlıyoruz, Vivense olarak yanındayız.</div><ul style=\"margin-bottom: 15px;\"><li style=\"list-style: initial;font-family: BRANDONTEXTBOLD;\">3 Gün İçinde Koşulsuz Para İade Garantisi</li><li style=\"list-style: initial;font-family: 'BRANDONTEXTREGULAR';\">2 Yıl Garanti</li><li style=\"list-style: initial;font-family: 'BrandonTextBold';\">Ödüllü Müşteri Hizmetleri</li><li style=\"list-style: initial;font-family: 'BrandonTextRegular';\">Vivense Kalitesi</li></ul><a class=\"nd-cta_btn\" href=\"haftanin-cok-satanlari.html\">ÇOK SATANLARI GÖR</a></div></div>"
            }
        ]
    },
    {
        "id": 42,
        "name": "MOBILE Exit Pop-up Hero Product",
        "description": "Display exit popup",
        "category": "Abandonment and Reengagement / Sitewide / Mobile Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector": "div.shortcut_column.basket_wrapper.my-cart",
        "device": "mobile",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "session",
                "operator": "duration",
                "condition": "greaterThan",
                "value": 10
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/siparis-listesi.html"
            },
            {
                "id": 4,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/indirimli-mobilya-kampanyalari.html"
            },
            {
                "id": 5,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/odeme.html"
            },
            {
                "id": 6,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/adres-listesi.html"
            },
            {
                "id": 7,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/vivense-uye-girisi.html"
            },
            {
                "id": 8,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/vivense-uye-kayit.html"
            }
        ],
        "actions":
        [
            {
                "operator": "insert",
                "type": "popup",
                "applyEvent":
                [
                    "exitIntent",
                    "copyIntent"
                ],
                "selector": "body",
                "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"https://img.vivense.com/1920x1280/images/0b328f8e3a494ceca1f9a9f013402412.jpg\" style=\"width: 90vw;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Mobilya Seçmek Zor Karar!</div><div class=\"nd-popup__text\">Seni anlıyoruz, Vivense olarak yanındayız.</div><ul style=\"margin-bottom: 15px;\"><li style=\"list-style: initial;font-family: BRANDONTEXTBOLD;\">3 Gün İçinde Koşulsuz Para İade Garantisi</li><li style=\"list-style: initial;font-family: 'BRANDONTEXTREGULAR';\">2 Yıl Garanti</li><li style=\"list-style: initial;font-family: 'BrandonTextBold';\">Ödüllü Müşteri Hizmetleri</li><li style=\"list-style: initial;font-family: 'BrandonTextRegular';\">Vivense Kalitesi</li></ul><a class=\"nd-cta_btn\" href=\"haftanin-cok-satanlari.html\">ÇOK SATANLARI GÖR</a></div></div>"
            }
        ]
    },
    {
        "id": 44,
        "name": "MOBILE - Exit Pop-up Social proof",
        "description": "Display exit popup",
        "category": "Abandonment and Reengagement / Sitewide / Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector": "div.shortcut_column.basket_wrapper.my-cart",
        "device": "mobile",
        "productInfoStorage": "basket",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "session",
                "operator": "duration",
                "condition": "greaterThan",
                "value": 10
            },
            {
                "id": 2,
                "type": "counter",
                "operator": "pageView",
                "condition": "greaterThan",
                "value": 2
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/siparis-listesi.html"
            },
            {
                "id": 4,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/indirimli-mobilya-kampanyalari.html"
            },
            {
                "id": 5,
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > a > span.basket_length"
            },
            {
                "id": 6,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/odeme.html"
            },
            {
                "id": 7,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/adres-listesi.html"
            },
            {
                "id": 8,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/vivense-uye-girisi.html"
            },
            {
                "id": 9,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/vivense-uye-kayit.html"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "element",
                "operator": "text-number",
                "selector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > a > span.basket_length",
                "condition": "greaterEquals",
                "value": 1,
                "chain_condition": "and",
                "chain":
                {
                    "type": "session",
                    "operator": "history",
                    "condition": "contains",
                    "value": "/siparis-listesi.html",
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "productInfoLookup",
                        "operator": "transactionIn2Weeks",
                        "condition": "greaterThan",
                        "value": 20
                    }
                },
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "element",
                "operator": "text-number",
                "selector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > a > span.basket_length",
                "condition": "greaterEquals",
                "value": 1,
                "chain_condition": "and",
                "chain":
                {
                    "type": "session",
                    "operator": "history",
                    "condition": "contains",
                    "value": "/siparis-listesi.html",
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "productInfoLookup",
                        "operator": "addToCartIn2Weeks",
                        "condition": "greaterThan",
                        "value": 20
                    }
                },
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "element",
                "operator": "text-number",
                "selector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > a > span.basket_length",
                "condition": "greaterEquals",
                "value": 1,
                "chain_condition": "and",
                "chain":
                {
                    "type": "session",
                    "operator": "history",
                    "condition": "contains",
                    "value": "/siparis-listesi.html",
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "productInfoLookup",
                        "operator": "productViewCount",
                        "condition": "greaterThan",
                        "value": 20
                    }
                },
                "businessRuleId": 3
            }
        ],
        "actions":
        [
            {
                "operator": "insert",
                "type": "popup",
                "applyEvent":
                [
                    "exitIntent",
                    "copyIntent"
                ],
                "selector": "body",
                "contentSelector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > div > div.basket_product_list > ul > li > a > div.product_image > img",
                "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"{{REPLACE}}\" style=\"width: 90vw;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Sipariş vermenin tam zamanı!</div><div class=\"nd-popup__text\">Sepetindeki ürünlerin stokları azalıyor. Şimdi alışverişini tamamla, ürünlerin daha hızlı teslim edilsin!</div><a class=\"nd-cta_btn\" href=\"siparis-listesi.html\">ŞİMDİ SİPARİŞ VER</a></div></div>",
                "businessRuleTransformations":
                [
                    {
                        "pType": "transactionIn2Weeks",
                        "id": 1,
                        "contentSelector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > div > div.basket_product_list > ul > li:last-child img",
                        "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"{{REPLACE}}\" style=\"width: 90vw;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Acele Et, Kaçırma!<br/><img src=\"https://ndvivense.glov.ai/assets/clock-history__red.png\" style=\"height: 16px;\"><span style=\"font-family: 'BrandonTextRegular';margin-left: 4px;color: #FF5959;font-size:14px;text-align:inherit;\">Stok azalıyor</span></div><div class=\"nd-popup__text\">Sepetindeki ürün son 24 saatte <br/><span style=\"font-family: 'BrandonTextBold';\">{{REPLACE_PRODUCTINFO}} kere satın alındı.</span></div><a class=\"nd-cta_btn\" href=\"siparis-listesi.html\">TÜKENMEDEN AL</a></div></div>"
                    },
                    {
                        "pType": "addToCartIn2Weeks",
                        "id": 2,
                        "contentSelector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > div > div.basket_product_list > ul > li:last-child img",
                        "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"{{REPLACE}}\" style=\"width: 90vw;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Hızlı Olan Kazansın!<br/><img src=\"https://ndvivense.glov.ai/assets/nd-lightning_red.svg\" style=\"height: 16px; vertical-align: sub; margin-bottom:2px;\"><span style=\"font-family: 'BrandonTextRegular';margin-left: 4px;color: #FF5959;font-size:14px;text-align:inherit;\">Stok azalıyor</span></div><div class=\"nd-popup__text\">Sepetindeki ürün son 24 saatte <br/><span style=\"font-family: 'BrandonTextBold';\">{{REPLACE_PRODUCTINFO}} kere sepete eklendi.</span></div><a class=\"nd-cta_btn\" href=\"siparis-listesi.html\">TÜKENMEDEN AL</a></div></div>"
                    },
                    {
                        "pType": "productViewCount",
                        "id": 3,
                        "contentSelector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > div > div.basket_product_list > ul > li:last-child img",
                        "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"{{REPLACE}}\" style=\"width: 90vw;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Gözler Üstümde!<span><img src=\"https://ndvivense.glov.ai/assets/nd-smile_black.svg\" style=\"height: 16px;\"></span><br/></div><div class=\"nd-popup__text\">Sepetindeki ürün son 24 saatte <br/><span style=\"font-family: 'BrandonTextBold';\">{{REPLACE_PRODUCTINFO}} kere sepete eklendi.</span></div><a class=\"nd-cta_btn\" href=\"siparis-listesi.html\">TÜKENMEDEN AL</a></div></div>"
                    }
                ]
            }
        ]
    },
    {
        "id": 1,
        "name": "DESKTOP Exit Pop-up",
        "description": "Display exit popup",
        "category": "Abandonment and Reengagement / Sitewide / Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector": "div.shortcut_column.basket_wrapper.my-cart",
        "device": "desktop",
        "productInfoStorage": "basket",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "session",
                "operator": "duration",
                "condition": "greaterThan",
                "value": 10
            },
            {
                "id": 2,
                "type": "counter",
                "operator": "pageView",
                "condition": "greaterThan",
                "value": 2
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/siparis-listesi.html"
            },
            {
                "id": 4,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/indirimli-mobilya-kampanyalari.html"
            },
            {
                "id": 5,
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > a > span.basket_length"
            },
            {
                "id": 6,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/odeme.html"
            },
            {
                "id": 7,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/adres-listesi.html"
            },
            {
                "id": 8,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/vivense-uye-girisi.html"
            },
            {
                "id": 9,
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/vivense-uye-kayit.html"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "element",
                "operator": "text-number",
                "selector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > a > span.basket_length",
                "condition": "greaterEquals",
                "value": 1,
                "chain_condition": "and",
                "chain":
                {
                    "type": "session",
                    "operator": "history",
                    "condition": "contains",
                    "value": "/siparis-listesi.html",
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "productInfoLookup",
                        "operator": "transactionIn2Weeks",
                        "condition": "greaterThan",
                        "value": 20
                    }
                },
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "element",
                "operator": "text-number",
                "selector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > a > span.basket_length",
                "condition": "greaterEquals",
                "value": 1,
                "chain_condition": "and",
                "chain":
                {
                    "type": "session",
                    "operator": "history",
                    "condition": "contains",
                    "value": "/siparis-listesi.html",
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "productInfoLookup",
                        "operator": "addToCartIn2Weeks",
                        "condition": "greaterThan",
                        "value": 20
                    }
                },
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "element",
                "operator": "text-number",
                "selector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > a > span.basket_length",
                "condition": "greaterEquals",
                "value": 1,
                "chain_condition": "and",
                "chain":
                {
                    "type": "session",
                    "operator": "history",
                    "condition": "contains",
                    "value": "/siparis-listesi.html",
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "productInfoLookup",
                        "operator": "productViewCount",
                        "condition": "greaterThan",
                        "value": 20
                    }
                },
                "businessRuleId": 3
            }
        ],
        "actions":
        [
            {
                "operator": "insert",
                "type": "popup",
                "applyEvent":
                [
                    "exitIntent",
                    "copyIntent"
                ],
                "selector": "body",
                "contentSelector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > div > div.basket_product_list > ul > li > a > div.product_image > img",
                "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"{{REPLACE}}\" style=\"width: 370px;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Sipariş vermenin tam zamanı!</div><div class=\"nd-popup__text\">Sepetindeki ürünlerin stokları azalıyor. Şimdi alışverişini tamamla, ürünlerin daha hızlı teslim edilsin!</div><a class=\"nd-cta_btn\" href=\"siparis-listesi.html\">ŞİMDİ SİPARİŞ VER</a></div></div>",
                "businessRuleTransformations":
                [
                    {
                        "pType": "transactionIn2Weeks",
                        "id": 1,
                        "contentSelector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > div > div.basket_product_list > ul > li:last-child img",
                        "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"{{REPLACE}}\" style=\"width: 370px;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Acele Et, Kaçırma!<br/><img src=\"https://ndvivense.glov.ai/assets/clock-history__red.png\" style=\"height: 16px;\"><span style=\"font-family: 'BrandonTextRegular';margin-left: 4px;color: #FF5959;font-size:14px;text-align:inherit;\">Stok azalıyor</span></div><div class=\"nd-popup__text\">Sepetindeki ürün son 24 saatte <br/><span style=\"font-family: 'BrandonTextBold';\">{{REPLACE_PRODUCTINFO}} kere satın alındı.</span></div><a class=\"nd-cta_btn\" href=\"siparis-listesi.html\">TÜKENMEDEN AL</a></div></div>"
                    },
                    {
                        "pType": "addToCartIn2Weeks",
                        "id": 2,
                        "contentSelector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > div > div.basket_product_list > ul > li:last-child img",
                        "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"{{REPLACE}}\" style=\"width: 370px;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Hızlı Olan Kazansın!<br/><img src=\"https://ndvivense.glov.ai/assets/nd-lightning_red.svg\" style=\"height: 16px; vertical-align: sub; margin-bottom:2px;\"><span style=\"font-family: 'BrandonTextRegular';margin-left: 4px;color: #FF5959;font-size:14px;text-align:inherit;\">Stok azalıyor</span></div><div class=\"nd-popup__text\">Sepetindeki ürün son 24 saatte <br/><span style=\"font-family: 'BrandonTextBold';\">{{REPLACE_PRODUCTINFO}} kere sepete eklendi.</span></div><a class=\"nd-cta_btn\" href=\"siparis-listesi.html\">TÜKENMEDEN AL</a></div></div>"
                    },
                    {
                        "pType": "productViewCount",
                        "id": 3,
                        "contentSelector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > div > div.basket_product_list > ul > li:last-child img",
                        "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><img src=\"{{REPLACE}}\" style=\"width: 370px;height: auto;border-radius: 10px 10px 0px 0px; margin-bottom: 30px;\"><div class=\"nd-popup__title\">Gözler Üstümde!<span><img src=\"https://ndvivense.glov.ai/assets/nd-smile_black.svg\" style=\"height: 16px;\"></span><br/></div><div class=\"nd-popup__text\">Sepetindeki ürün son 24 saatte <br/><span style=\"font-family: 'BrandonTextBold';\">{{REPLACE_PRODUCTINFO}} kere sepete eklendi.</span></div><a class=\"nd-cta_btn\" href=\"siparis-listesi.html\">TÜKENMEDEN AL</a></div></div>"
                    }
                ]
            }
        ]
    },
    {
        "id": 2,
        "name": "MOBILE Photo Enlarging",
        "description": "Change mobile layout into 1 column",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "reapply_event": "infinite_scroll",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Listingpage"
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"margin-top\":\"13rem\"}",
                "selector": "div.product_info"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"width\":\"100%\"}",
                "selector": "#product-list-wrapper > div.product-list_container > div > div"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "next-day-product",
                "selector": ".product-list > .product-card"
            },
            {
                "operator": "remove",
                "selector": "#product-list-wrapper > div.product-list_container > div > div > div.other_size_options_mobile_wrapper.open_other_product"
            }
        ]
    },
    {
        "id": 3,
        "name": "DESKTOP Sales Motivator",
        "description": "Sales Motivator (Coupon) - Basket",
        "category": "Promotional Messaging / Cart and Checkout Pages / Web",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "reapply_event": "element_change",
        "reapply_selector": "#checkoutForm > div > div > div.col-md-4.cart-right-container",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "element",
                "operator": "text-number",
                "condition": "between",
                "value": "3500, 6500",
                "selectorAll": ".price",
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "element",
                "operator": "text-number",
                "condition": "greaterThan",
                "value": 6500,
                "selectorAll": ".price",
                "businessRuleId": 2
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": ".basket_top_warning-wrapper"
            },
            {
                "operator": "remove",
                "selector": "#nd-banner"
            },
            {
                "operator": "noop",
                "type": "before",
                "selector": "body > div.main-custom-container",
                "selectorFallback": "#main > div",
                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>250 TL daha fazla ödeme, hemen tasarruf et! Kupon Kodu: EKİM250</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM250')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>",
                "variants":
                {
                    "A":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 1,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>250 TL daha fazla ödeme, hemen tasarruf et! Kupon Kodu: EKİM250</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM250')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            },
                            {
                                "id": 2,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>500 TL daha fazla ödeme, hemen tasarruf et! Kupon Kodu: EKİM500</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM500')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            }
                        ]
                    },
                    "B":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 1,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>250 TL daha fazla ödeme, bugün kodu uygula ve tasarruf et! Kupon Kodu: EKİM250</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM250')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            },
                            {
                                "id": 2,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>500 TL daha fazla ödeme, bugün kodu uygula ve tasarruf et! Kupon Kodu: EKİM500</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM500')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            }
                        ]
                    },
                    "c":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 1,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>250 TL indirimini kaybetme, bugün kodu uygula ve tasarruf et! Kupon Kodu: EKİM250</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM250')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            },
                            {
                                "id": 2,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>500 TL indirimini kaybetme, bugün kodu uygula ve tasarruf et! Kupon Kodu: EKİM500</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM500')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            }
                        ]
                    }
                }
            }
        ]
    },
    {
        "id": 4,
        "name": "MOBILE Sales Motivator",
        "description": "Sales Motivator (Coupon) - Basket",
        "category": "Promotional Messaging / Cart and Checkout Pages / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "reapply_event": "element_change",
        "reapply_selector": "#\\#",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "element",
                "operator": "text-number",
                "condition": "between",
                "value": "3500, 6500",
                "selectorAll": "#price:not(.not-allowed-coupon)",
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "element",
                "operator": "text-number",
                "condition": "greaterThan",
                "value": 6500,
                "selectorAll": "#price:not(.not-allowed-coupon)",
                "businessRuleId": 2
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": ".basket_top_warning-wrapper"
            },
            {
                "operator": "remove",
                "selector": "#nd-banner"
            },
            {
                "operator": "noop",
                "type": "before",
                "selector": "body > div.main-custom-container",
                "selectorFallback": "#main > div",
                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>250 TL daha fazla ödeme, hemen tasarruf et!<br/>Kupon kodu: EKİM250</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM250')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>",
                "variants":
                {
                    "A":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 1,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>250 TL daha fazla ödeme, hemen tasarruf et!<br/>Kupon kodu: EKİM250</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM250')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            },
                            {
                                "id": 2,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>500 TL daha fazla ödeme, hemen tasarruf et!<br/>Kupon kodu: EKİM500</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM500')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            }
                        ]
                    },
                    "B":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 1,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>250 TL daha fazla ödeme, bugün kodu uygula ve tasarruf et!<br/>Kupon kodu: EKİM250</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM250')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            },
                            {
                                "id": 2,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>500 TL daha fazla ödeme, bugün kodu uygula ve tasarruf et! Kupon Kodu: EKİM500<br/>Kupon kodu: EKİM500</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM500')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            }
                        ]
                    },
                    "c":
                    {
                        "businessRuleTransformations":
                        [
                            {
                                "id": 1,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>250 TL indirimini kaybetme, bugün kodu uygula ve tasarruf et!<br/>Kupon kodu: EKİM250</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM250')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            },
                            {
                                "id": 2,
                                "selector": "#checkoutForm",
                                "operator": "insert",
                                "value": "<div class=\"nd-banner\" id=\"nd-banner\"><div class=\"nd-banner__text\"><b>500 TL indirimini kaybetme, bugün kodu uygula ve tasarruf et!<br/>Kupon kodu: EKİM500</b></div><button class=\"nd-banner__action-button\" style=\"background:none; border:none\" onClick=\"window.navigator.clipboard.writeText('EKİM500')\">Kupon Kodunu Kopyala</button><button class=\"nd-banner__close-button\" onClick=\"$('#nd-banner').remove()\">X</button></div>"
                            }
                        ]
                    }
                }
            }
        ]
    },
    {
        "id": 5,
        "name": "DESKTOP Sales Motivator",
        "description": "Sales Motivator (Coupon) - PDP-Desktop",
        "category": "Promotional Messaging / Product Pages (PDP) / Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector":
        [
            "div.shortcut_column.basket_wrapper.my-cart",
            "span.price",
            "span.new-price"
        ],
        "device": "desktop",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "session",
                "operator": "history",
                "condition": "contains",
                "value": "/siparis-listesi.html"
            },
            {
                "id": 2,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            },
            {
                "id": 3,
                "type": "element",
                "operator": null,
                "selector": ".not-allowed-coupon",
                "condition": "notExist"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "span.price",
                    "selectorFallback": "span.new-price",
                    "condition": "lessThan",
                    "value": 3500
                },
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "span.price",
                    "selectorFallback": "span.new-price",
                    "condition": "greaterEquals",
                    "value": 3500,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "element",
                        "operator": "text-number",
                        "selector": "span.price",
                        "selectorFallback": "span.new-price",
                        "condition": "lessThan",
                        "value": 6500
                    }
                },
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "span.price",
                    "selectorFallback": "span.new-price",
                    "condition": "greaterEquals",
                    "value": 6500
                },
                "businessRuleId": 3
            },
            {
                "id": 31,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 6500,
                "businessRuleId": 31
            },
            {
                "id": 4,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "function",
                    "operator": "let selector = '.price'; if(!document.querySelector(selector)){selector = '.new-price'} const itemValue = parseInt(document.querySelector(selector).textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('BG_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "lessThan",
                    "value": 3500
                },
                "businessRuleId": 4
            },
            {
                "id": 41,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "function",
                    "operator": "let selector = '.price'; if(!document.querySelector(selector)){selector = '.new-price'} const itemValue = parseInt(document.querySelector(selector).textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('BG_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "greaterEquals",
                    "value": 6500,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "counter",
                        "operator": "CABasketPrice",
                        "condition": "lessThan",
                        "value": 3500
                    }
                },
                "businessRuleId": 41
            },
            {
                "id": 42,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "function",
                    "operator": "let selector = '.price'; if(!document.querySelector(selector)){selector = '.new-price'} const itemValue = parseInt(document.querySelector(selector).textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('BG_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "greaterEquals",
                    "value": 3500,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "counter",
                        "operator": "CABasketPrice",
                        "condition": "lessThan",
                        "value": 3500
                    }
                },
                "businessRuleId": 42
            },
            {
                "id": 5,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "counter",
                    "operator": "CABasketPrice",
                    "condition": "greaterEquals",
                    "value": 3500,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "function",
                        "operator": "let selector = '.price'; if(!document.querySelector(selector)){selector = '.new-price'} const itemValue = parseInt(document.querySelector(selector).textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('BG_CABasketPrice')); return itemValue + caBasketPrice;",
                        "condition": "lessThan",
                        "value": 6500
                    }
                },
                "businessRuleId": 5
            },
            {
                "id": 6,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "counter",
                    "operator": "CABasketPrice",
                    "condition": "greaterEquals",
                    "value": 3500,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "function",
                        "operator": "let selector = '.price'; if(!document.querySelector(selector)){selector = '.new-price'} const itemValue = parseInt(document.querySelector(selector).textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('BG_CABasketPrice')); return itemValue + caBasketPrice;",
                        "condition": "greaterEquals",
                        "value": 6500
                    }
                },
                "businessRuleId": 6
            }
        ],
        "actions":
        [
            {
                "operator": "insert",
                "type": "before",
                "selector": "body > div.main-custom-container > div.container > div > div.col-md-9 > div.full-width.sticky_header",
                "selectorFallback": "body > div.main-custom-container > div.container-fluid > div > div.col-md-9 > div.full-width.sticky_header.next-day-sticky-f",
                "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekle 250 TL indirime yaklaş.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekle 250 TL indirime yaklaş.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 2,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekle anında 250 TL indirim kazan.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 3,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekle anında 500 TL indirim kazan.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 31,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Tebrikler! 500 TL indirim kuponun sepette seni bekliyor.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 4,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekleyerek 250 TL indirime daha çok yaklaş.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 41,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekle anında 500 TL indirim kazan.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 42,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekle anında 250 TL indirim kazan.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 5,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Tebrikler! 250 TL indirim kuponun sepette seni bekliyor.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    },
                    {
                        "id": 6,
                        "value": "<div class=\"nd-add-to-win\"><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div><div class=\"nd-add-to-win__body\">Tebrikler! 250 TL indirim kuponun sepette seni bekliyor.</div></div><img src=\"https://ndvivense.glov.ai/assets/gift--gold.png\" class=\"nd-add-to-win__image\" /></div>"
                    }
                ]
            }
        ]
    },
    {
        "id": 6,
        "name": "MOBILE Sales Motivator",
        "description": "Sales Motivator (Coupon) - PDP-Mobile",
        "category": "Promotional Messaging / Product Pages (PDP) / Mobile Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector":
        [
            ".basket_icon.my-cart-mobile",
            "#sales-price"
        ],
        "device": "mobile",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "session",
                "operator": "history",
                "condition": "contains",
                "value": "/siparis-listesi.html"
            },
            {
                "id": 2,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            },
            {
                "id": 3,
                "type": "element",
                "operator": null,
                "selector": ".not-allowed-coupon",
                "condition": "notExist"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "#sales-price",
                    "condition": "lessThan",
                    "value": 3500
                },
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "#sales-price",
                    "condition": "greaterEquals",
                    "value": 3500,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "element",
                        "operator": "text-number",
                        "selector": "#sales-price",
                        "condition": "lessThan",
                        "value": 6500
                    }
                },
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "equal",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": "text-number",
                    "selector": "#sales-price",
                    "condition": "greaterEquals",
                    "value": 6500
                },
                "businessRuleId": 3
            },
            {
                "id": 31,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 6500,
                "businessRuleId": 31
            },
            {
                "id": 4,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "function",
                    "operator": "const itemValue = parseInt(document.querySelector('#sales-price').textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('BG_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "lessThan",
                    "value": 3500
                },
                "businessRuleId": 4
            },
            {
                "id": 41,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "function",
                    "operator": "const itemValue = parseInt(document.querySelector('#sales-price').textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('BG_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "greaterEquals",
                    "value": 6500,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "counter",
                        "operator": "CABasketPrice",
                        "condition": "lessThan",
                        "value": 3500
                    }
                },
                "businessRuleId": 41
            },
            {
                "id": 42,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "function",
                    "operator": "const itemValue = parseInt(document.querySelector('#sales-price').textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('BG_CABasketPrice')); return itemValue + caBasketPrice;",
                    "condition": "greaterEquals",
                    "value": 3500,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "counter",
                        "operator": "CABasketPrice",
                        "condition": "lessThan",
                        "value": 3500
                    }
                },
                "businessRuleId": 42
            },
            {
                "id": 5,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "counter",
                    "operator": "CABasketPrice",
                    "condition": "greaterEquals",
                    "value": 3500,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "function",
                        "operator": "const itemValue = parseInt(document.querySelector('#sales-price').textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('BG_CABasketPrice')); return itemValue + caBasketPrice;",
                        "condition": "lessThan",
                        "value": 6500
                    }
                },
                "businessRuleId": 5
            },
            {
                "id": 6,
                "type": "counter",
                "operator": "CABasketPrice",
                "condition": "greaterThan",
                "value": 0,
                "chain_condition": "and",
                "chain":
                {
                    "type": "counter",
                    "operator": "CABasketPrice",
                    "condition": "greaterEquals",
                    "value": 3500,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "function",
                        "operator": "const itemValue = parseInt(document.querySelector('#sales-price').textContent.replace('TL', '').replace('.','')); const caBasketPrice = parseInt(window.localStorage.getItem('BG_CABasketPrice')); return itemValue + caBasketPrice;",
                        "condition": "greaterEquals",
                        "value": 6500
                    }
                },
                "businessRuleId": 6
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"float\":\"none\"}",
                "selector": "div.product_images_wrapper"
            },
            {
                "operator": "insert",
                "type": "before",
                "selector": "#main > div > section > div:nth-child(1) > div > div.header-bottom",
                "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekle 250 TL indirime yaklaş.</div></div></div>",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekle 250 TL indirime yaklaş.</div></div></div>"
                    },
                    {
                        "id": 2,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekle anında 250 TL indirim kazan.</div></div></div>"
                    },
                    {
                        "id": 3,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Sepetine bu ürünü ekle anında 500 TL indirim kazan.</div></div></div>"
                    },
                    {
                        "id": 31,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Tebrikler! 500 TL indirim kuponun sepette seni bekliyor.</div></div></div>"
                    },
                    {
                        "id": 4,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekleyerek 250 TL indirime daha çok yaklaş.</div></div></div>"
                    },
                    {
                        "id": 41,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekle anında 500 TL indirim kazan.</div></div></div>"
                    },
                    {
                        "id": 42,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Güzel gidiyorsun! Sepetine bu ürünü ekle anında 250 TL indirim kazan.</div></div></div>"
                    },
                    {
                        "id": 5,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Tebrikler! 250 TL indirim kuponun sepette seni bekliyor.</div></div></div>"
                    },
                    {
                        "id": 6,
                        "value": "<div class=\"nd-add-to-win\"><div><img src=\"https://ndvivense.glov.ai/assets/gift--grey.png\" class=\"nd-add-to-win__image\"><div class=\"nd-add-to-win__title\">Ekle ve Kazan:</div></div><div class=\"nd-add-to-win__text\"><div class=\"nd-add-to-win__body\">Tebrikler! 250 TL indirim kuponun sepette seni bekliyor.</div></div></div>"
                    }
                ]
            }
        ]
    },
    {
        "id": 7,
        "name": "DESKTOP Photo Enlarging",
        "description": "Desktop Photo Enlargement",
        "category": "Universal Best Practice UX Strategies / Product Pages (PDP) / Web",
        "apply_on_user_segment": "*",
        "reapply_event":
        [
            "element_change",
            "timeout"
        ],
        "reapply_selector": "div.shortcut_column.basket_wrapper.my-cart",
        "device": "desktop",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "element",
                "operator": "count",
                "selectorAll": "#wowslider-container1 > div.ws_thumbs > div a",
                "condition": "greaterThan",
                "value": 8,
                "businessRuleId": 1
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "addClass",
                "value": "container-fluid",
                "selector": ".main-custom-container > .container"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "nd-photo-enlarging",
                "selector": ".main-custom-container > .container"
            },
            {
                "operator": "edit",
                "type": "removeClass",
                "value": "main-custom-container > container",
                "selector": ".main-custom-container > .container"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "custom-row",
                "selector": ".main-custom-container > .container-fluid> .row"
            },
            {
                "operator": "edit",
                "type": "removeClass",
                "value": "main-custom-container > container-fluid> row",
                "selector": ".main-custom-container > .container-fluid> .row"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "custom-detail",
                "selector": ".sticky_column > .product-details-bottom"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"width\":\"100%\"}",
                "selector": ".button-add-cart-action .add-to-cart-btn"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "next-day-image",
                "selector": "#wowslider-container1 > .ws_images",
                "variants":
                {
                    "A":
                    {
                        "weight": 99,
                        "value": "nd-empty-next-day-image"
                    },
                    "B":
                    {
                        "weight": 100,
                        "value": "next-day-image"
                    }
                }
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "next-day-thumb",
                "selector": "#wowslider-container1 > .ws_thumbs",
                "variants":
                {
                    "A":
                    {
                        "weight": 99,
                        "value": "nd-empty-next-day-thumb"
                    },
                    "B":
                    {
                        "weight": 100,
                        "value": "next-day-thumb"
                    }
                }
            },
            {
                "operator": "noop",
                "type": "styleApplicator",
                "replaceFn": "return document.querySelectorAll(\"#wowslider-container1 > div.ws_thumbs.next-day-thumb > div a\")?.length",
                "value": "{\"width\":\"calc({{REPLACE}} * 10em)\"}",
                "selector": "#wowslider-container1 > .ws_thumbs div",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "operator": "edit"
                    }
                ],
                "variants":
                {
                    "A":
                    {
                        "weight": 99,
                        "operator": "noop"
                    },
                    "B":
                    {
                        "weight": 100,
                        "value": "edit"
                    }
                }
            },
            {
                "operator": "remove",
                "selector": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div > div.chose_fabric > div"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "container-fluid",
                "selector": "body > div.main-custom-container > div.full-width > div"
            },
            {
                "operator": "edit",
                "type": "removeClass",
                "value": "main-custom-container > container",
                "selector": "body > div.main-custom-container > div.full-width > div"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"padding-left\":\"inherit\"}",
                "selector": "#breadcrumb-ol",
                "variants":
                {
                    "A":
                    {
                        "weight": 99,
                        "operator": "noop"
                    },
                    "B":
                    {
                        "weight": 100,
                        "operator": "edit"
                    }
                }
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "image-edit-content",
                "variants":
                {
                    "A":
                    {
                        "selector": ".ws_images.nd-empty-next-day-image > div",
                        "weight": 99,
                        "value": "nd-empty-image-edit-content"
                    },
                    "B":
                    {
                        "selector": ".ws_images.next-day-image > div",
                        "weight": 100,
                        "value": "image-edit-content"
                    }
                }
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "image-edit",
                "variants":
                {
                    "A":
                    {
                        "selector": "#wowslider-container1 > .ws_images.nd-empty-next-day-image > .nd-empty-image-edit-content > .ws_list > ul > li > a > img",
                        "weight": 99,
                        "value": "nd-empty-image-edit"
                    },
                    "B":
                    {
                        "selector": "#wowslider-container1 > .ws_images.next-day-image > .image-edit-content > .ws_list > ul > li > a > img",
                        "weight": 100,
                        "value": "image-edit"
                    }
                }
            },
            {
                "operator": "move",
                "move_selector_1": "body > div.main-custom-container > div.container-fluid > div > div.col-md-9 > div.full-width.sticky_header",
                "move_selector_2": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"margin-bottom\": \"0\", \"width\": \"unset\", \"height\": \"unset\"}",
                "selector": ".product-main-details"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "nd-remove-pseudo-elements",
                "selector": ".product-main-details"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "nd-breadcrumb",
                "selector": "#breadcrumb-ol"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"flex-wrap\":\"wrap\", \"justify-content\":\"space-evenly\", \"padding\":\"15px\", \"align-items\":\"unset\"}",
                "selector": ".product-main-detail-card"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"white-space\":\"pre-line\", \"text-align\":\"center\"}",
                "selector": ".product-title"
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "nd-product-title",
                "selector": ".full-width.sticky_header"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"padding-left\":\"unset\"}",
                "selector": "body > div.main-custom-container > div.container-fluid > div > div.col-md-9"
            }
        ]
    },
    {
        "id": 11,
        "name": "DESKTOP Photo Enlarging Extras",
        "description": "Desktop photo enlargement takim iceri extras",
        "category": "Universal Best Practice UX Strategies / Product Pages (PDP) / Web",
        "device": "desktop",
        "apply_on_user_segment": "*",
        "reapply_event":
        [
            "element_change",
            "timeout"
        ],
        "reapply_selector": "td.sumprice-com",
        "dependant_on_treatment": 7,
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            },
            {
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": "td.components-change.components-change-custom > a"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "element",
                "operator": null,
                "condition": "notExist",
                "selector": ".nd-popover",
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": "text-number",
                    "condition": "lessThan",
                    "value": 7000,
                    "selector": "td.sumprice-com > p"
                },
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": ".nd-popover",
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": "text-number",
                    "condition": "greaterThan",
                    "value": 7000,
                    "selector": "td.sumprice-com > p"
                },
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": ".nd-popover",
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": "text-number",
                    "condition": "lessThan",
                    "value": 7000,
                    "selector": "td.sumprice-com > p"
                },
                "businessRuleId": 3
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": ".nd-popover",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "operator": "insert",
                        "type": "after",
                        "selector": "#sidebar-right > div > div.sticky_column > div.expand-showroom",
                        "value": "<div class=\"nd-popover\"><p>7000 TL altı ürünlerin kurulumu müşteriye aittir veya ücretli olarak Vivense tarafından sağlanabilir.</p></div>"
                    },
                    {
                        "id": 2,
                        "operator": "remove",
                        "selector": ".nd-popover"
                    },
                    {
                        "id": 3,
                        "operator": "noop",
                        "selector": ".nd-popover"
                    }
                ]
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "nd-changecontent-fix",
                "selector": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div > div.product-price-details > table > tbody > tr:nth-child(1) > td.components-change.components-change-custom > a"
            },
            {
                "operator": "remove",
                "selector": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div > div.product-price-details > table > tbody > tr:nth-child(1) > td.components-change.components-change-custom > div"
            }
        ]
    },
    {
        "id": 12,
        "name": "DESKTOP Photo Enlarging Extras",
        "description": "Desktop photo enlargement sticky header fix",
        "category": "Universal Best Practice UX Strategies / Product Pages (PDP) / Web",
        "device": "desktop",
        "apply_on_user_segment": "*",
        "reapply_event": "on_scroll",
        "reapply_event_page_type": "Productpage",
        "dependant_on_treatment": 7,
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            },
            {
                "id": 2,
                "type": "element",
                "operator": "classList",
                "condition": "notContains",
                "value": "panel-body",
                "selector": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div:nth-child(2)"
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div:nth-child(2):not(.panel-body)"
            }
        ]
    },
    {
        "id": 15,
        "name": "DESKTOP PLP layout",
        "description": "Change PLP layout from 4 columns to 3 columns",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web",
        "device": "desktop",
        "reapply_event": "infinite_scroll",
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Listingpage",
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/arama"
                }
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "addClass",
                "value": "nd-product-item",
                "selector": ".product-card",
                "variants":
                {
                    "A":
                    {
                        "value": "nd-product-item"
                    },
                    "B":
                    {
                        "value": "nd-product-item-2"
                    }
                }
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"max-width\":\"300px\", \"row-gap\":\"5px\"}",
                "selector": ".list-product-cart-badge"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"width\":\"100%\"}",
                "selector": ".category_page_wrapper .category_page_container .product-list-wrapper .product-list_container .product-list .product-card .product-link .product_img img"
            }
        ]
    },
    {
        "id": 16,
        "name": "DESKTOP CTA Button Text Optimization",
        "description": "CTA Button Text Optimization",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web",
        "device": "desktop",
        "reapply_event": "element_change",
        "reapply_selector":
        [
            ".tabbable-line",
            ".payment-options-area.frame-box.form-group"
        ],
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html",
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/adres-listesi.html",
                    "chain_condition": "or",
                    "chain":
                    {
                        "type": "url",
                        "operator": "path",
                        "condition": "equal",
                        "value": "/odeme.html"
                    }
                }
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html",
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/adres-listesi.html",
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/odeme.html",
                "businessRuleId": 3
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "text",
                "selector": ".btn.cart-confirm.btn-lg",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "value": "SEPETİ ONAYLA",
                        "selectorFallback": "#checkoutForm > div.padding-reset.main-basket-summary > div.row.sticky-panel > div.col-xs-12.approve-basket > button"
                    },
                    {
                        "id": 2,
                        "type": "html",
                        "value": "<span style=\"color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;\">sonraki adım</span><span style=\"font-size:18px; font-family: BrandonTextBold\">ÖDEME BİLGİLERİNİ GİR</span>",
                        "selectorFallback": "#order-cart-addreslist > div.cart-approve-btn > button"
                    },
                    {
                        "id": 3,
                        "type": "html",
                        "value": "{{REPLACE}}",
                        "selectorFallback": "#accept-pay",
                        "replaceFn": "if (!$(\"#menuPayments > ul > li:nth-child(2)\").length) {if ($(\"#main > div > fieldset > div.payment-options-area.frame-box.form-group > div.bank-transfer-area.form-group.frame-box.bank-payment-section\").attr(\"style\")?.includes(\"display: block\")) return \"<span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";if ($(\"#main > div > fieldset > div.payment-options-area.frame-box.form-group > div.row.payment-box.payment-area.credit-cart-section > div.row.installement-box.installement-area\").attr(\"style\")?.includes(\"display: none\")) return \"<span style='height: 2.5rem; color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";const selectedOption = $(\"#installement-table-area > tbody\").find(\".selected-installement\");if (selectedOption.is(\":first-child\")) return \"<span style='height: 2.5rem;color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";const installmentPrice = selectedOption.find(\"td\").text().split(\"x\")[1].trim();return \"<span style='height: 2.5rem; color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>ayda \" + installmentPrice + \" taksitle</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";} else {if ($(\"#menuPayments > ul > li:nth-child(2)\").hasClass(\"active\")) return \"<span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";if (!$(\"#no_card_data\").hasClass(\"hidden\")) return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";if ($(\"#menuPayments > ul > li:nth-child(1)\").hasClass(\"active\")) {const selectedOption = $(\"#creditCardInstallmentOptions > div.installament-list-2-col.add-installament > div > table > tbody\").find(\".active\");if (selectedOption.attr(\"id\") === \"installment-tr-1\") return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";const installmentPrice = selectedOption.find(\".installment-price\").text().split(\"x\")[1].trim();return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>ayda \" + installmentPrice + \" taksitle</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";}}"
                    }
                ]
            },
            {
                "operator": "edit",
                "type": "addClass",
                "selector": ".btn.cart-confirm.btn-lg",
                "value": "nd-flex nd-flex__centered nd-flex__column",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "operator": "noop"
                    },
                    {
                        "id": 3,
                        "selectorFallback": "#accept-pay"
                    }
                ]
            }
        ]
    },
    {
        "id": 17,
        "name": "MOBILE Remove 'Destek' icon from PDP",
        "description": "Remove 'Destek' icon from PDP",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Mobile Web",
        "device": "mobile",
        "reapply_event": "interval",
        "delay": 250,
        "reapply_event_page_type": "Productpage",
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": "#launcher"
            }
        ]
    },
    {
        "id": 19,
        "name": "DESKTOP Flashing Tab Messaging",
        "description": "Flashing Tab Messaging - Browser",
        "category": "Promotional Messaging / Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector": "#checkoutForm > div > div",
        "device": "desktop",
        "businessRuleSet":
        [
            {
                "id": 2,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Listingpage",
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage",
                "businessRuleId": 3
            },
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html",
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": null,
                    "condition": "exist",
                    "selector": ".cart-inside"
                },
                "businessRuleId": 1
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "documentTitle",
                "selector": "no-selector",
                "value":
                [
                    "👋 Hey! Hala orada mısın?",
                    "❤ Seni özledik"
                ],
                "applyEvent":
                [
                    "tabChange"
                ],
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "value":
                        [
                            "🛒 Sepetinde {{REPLACE}} ürün unuttun!",
                            "👋 Sepetinde {{REPLACE}} ürün unuttun!"
                        ],
                        "replaceFn": "let sum = Array.from($(\".cartItemQuantity\")).length; return sum;"
                    },
                    {
                        "id": 2,
                        "value":
                        [
                            "🏡 En güzel {{REPLACE}} mobilyaları Vivense’de!",
                            "🛋 En sağlam {{REPLACE}} mobilyaları Vivense’de!",
                            "🪑 En kaliteli {{REPLACE}} mobilyaları Vivense’de!"
                        ],
                        "replaceFn":
                        {
                            "storage": "info-layer",
                            "key": "plp.name",
                            "keyFallback": "pdp.category"
                        }
                    },
                    {
                        "id": 3,
                        "value": "⭐ O {{REPLACE}} Bu {{REPLACE}} !",
                        "replaceFn":
                        {
                            "storage": "info-layer",
                            "key": "plp.name",
                            "keyFallback": "pdp.category"
                        }
                    }
                ]
            }
        ]
    },
    {
        "id": 20,
        "name": "MOBILE Disable Product Recommendations & Last Visited",
        "description": "Basket - Disable Product Recommendations & Last Visited for Mobile",
        "category": "Abandonment and Reengagement / Basket / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html"
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": "#checkoutForm > div.personaclick-recommend"
            },
            {
                "operator": "remove",
                "selector": "#cart-recommendation"
            }
        ]
    },
    {
        "id": 21,
        "name": "MOBILE Disable Top Banner",
        "description": "PLP - Disable Top Banner for Mobile",
        "category": "Abandonment and Reengagement / PLP / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "reapply_event": "query_search_change",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Listingpage"
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"position\":\"unset\"}",
                "selector": "#search-body > div.category-banner-wrapper"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"top\":\"0\"}",
                "selector": "#category_sticky_filter"
            }
        ]
    },
    {
        "id": 22,
        "name": "DESKTOP Money Back Guarantee Banner",
        "description": "Money back guarantee banner - Basket",
        "category": "Universal Best Practice UX Strategies / Basket Page / Web",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html"
            }
        ],
        "actions":
        [
            {
                "operator": "insert",
                "type": "before",
                "selector": "#checkoutForm > div > div.row.centered-wide-fix",
                "selectorFallback": "#main > div",
                "variants":
                {
                    "A":
                    {
                        "value": "<div class=\"nd-money-back__wrapper\" style=\"margin: 25px auto 0\"><div class=\"nd-money-back\"><div class=\"nd-money-back__body\"><img src=\"https://ndvivense.glov.ai/assets/nd-handshake.svg\" style=\"width:36px; height:24px;\"/><div style=\"margin-left: 8px\">Uzun uzun düşünmene gerek yok! Ürünü teslim ettikten sonra da biz hep yanındayız.</div></div></div></div>"
                    },
                    "B":
                    {
                        "value": "<div class=\"nd-money-back__wrapper\" style=\"margin: 25px auto 0\"><div class=\"nd-money-back\"><div class=\"nd-money-back__body\"><img src=\"https://ndvivense.glov.ai/assets/nd-handshake.svg\" style=\"width:36px; height:24px;\"/><div style=\"margin-left: 8px\">3 gün içinde para iade garantisi</div></div></div></div>"
                    }
                }
            },
            {
                "operator": "remove",
                "selector": "#checkoutForm > div > div > div.col-sm-12.basket_product_list_header.reserved-product",
                "selectorFallback": "#checkoutForm > div.basket_product_list_header.reserved-product"
            }
        ]
    },
    {
        "id": 24,
        "name": "MOBILE - Money Back Guarantee Banner",
        "description": "Money back guarantee banner - Basket",
        "category": "Universal Best Practice UX Strategies / Basket Page / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html",
                "chain_condition": "and",
                "chain":
                {
                    "type": "counter",
                    "operator": "CABasketPrice",
                    "condition": "notEqual",
                    "value": 0
                }
            }
        ],
        "actions":
        [
            {
                "operator": "insert",
                "type": "before",
                "selector": "#checkoutForm > div > div.row.centered-wide-fix",
                "selectorFallback": "#main > div",
                "variants":
                {
                    "A":
                    {
                        "value": "<div class=\"nd-money-back__wrapper\" style=\"margin: 15px auto 0\"><div class=\"nd-money-back\"><div class=\"nd-money-back__body\"><img src=\"https://ndvivense.glov.ai/assets/nd-handshake.svg\" style=\"width:36px; height:24px;\"/><div style=\"margin-left: 8px\">Teslimattan sonra da yanınızdayız</div></div></div></div>"
                    },
                    "B":
                    {
                        "value": "<div class=\"nd-money-back__wrapper\" style=\"margin: 15px auto 0\"><div class=\"nd-money-back\"><div class=\"nd-money-back__body\"><img src=\"https://ndvivense.glov.ai/assets/nd-handshake.svg\" style=\"width:36px; height:24px;\"/><div style=\"margin-left: 8px\">3 gün içinde para iade garantisi</div></div></div></div>"
                    }
                }
            },
            {
                "operator": "remove",
                "selector": "#checkoutForm > div > div > div.col-sm-12.basket_product_list_header.reserved-product",
                "selectorFallback": "#checkoutForm > div.basket_product_list_header.reserved-product"
            }
        ]
    },
    {
        "id": 23,
        "name": "DESKTOP Remove Default Vivense banner",
        "description": "Remove Default Vivense banner - Basket",
        "category": "Universal Best Practice UX Strategies / Basket Page / Web ",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html"
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": "#checkoutForm > div > div > div.col-sm-12.basket_product_list_header.reserved-product",
                "selectorFallback": "#checkoutForm > div.basket_product_list_header.reserved-product"
            }
        ]
    },
    {
        "id": 26,
        "name": "DESKTOP Checkout improvement",
        "description": "Checkout improvement - get rid of check boxes above",
        "category": "Universal Best Practice UX Strategies / Checkout Page / Web",
        "device": "desktop",
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/odeme.html"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "environment",
                "operator": "device_type",
                "condition": "equal",
                "value": "mobile",
                "businessRuleId": 1
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"display\":\"none\"}",
                "selector": "body > div.main-custom-container > div.container.payment-container > div > div.col-md-3.address-right-container > div.accept-policy > div:nth-child(2)",
                "selectorFallback": "#main > div > fieldset > div.col-xs-12.accept-policy > div:nth-child(2)"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"display\":\"none\"}",
                "selector": "body > div.main-custom-container > div.container.payment-container > div > div.col-md-3.address-right-container > div.accept-policy > div:nth-child(1) > label > span",
                "selectorFallback": "#main > div > fieldset > div.col-xs-12.accept-policy > div:nth-child(1) > label > span"
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"width\":\"100%\"}",
                "selector": "body > div.main-custom-container > div.container.payment-container > div > div.col-md-3.address-right-container > div.accept-policy > div:nth-child(1) > label",
                "selectorFallback": "#main > div > fieldset > div.col-xs-12.accept-policy > div:nth-child(1) > label"
            },
            {
                "operator": "edit",
                "type": "html",
                "value": "Sipariş vererek, Vivense'nin <span class=\"bg-accept-policy-text-link\" style=\"color: #1b757e; text-decoration:underline; font-family:BrandonTextBold\"> Ön Bilgilendirme Koşulları'nı ve Mesafeli Satış Sözleşmesi</span>'ni kabul etmiş olursunuz. Kişisel verilerinizin Vivense tarafından nasıl işlendiğine ilişkin detaylı bilgi için <a href=\"#gizlilik-ve-cerez\" target=\"_blank\" class=\"accept-policy-link\" data-lity=\"\">Gizlilik ve Çerez Politikasını</a>, <a href=\"#aydinlatma-metni\" target=\"_blank\" class=\"accept-policy-link\" data-lity=\"\">Müşteri Aydınlatma Metni</a> ve <a href=\"#kvkk-contract\" target=\"_blank\" class=\"accept-policy-link\" data-lity=\"\">Veri Koruma ve İşleme Politikası</a> inceleyebilirsiniz.",
                "selector": "body > div.main-custom-container > div.container.payment-container > div > div.col-md-3.address-right-container > div.accept-policy > div.checkbox.checkbox-accept.js-accept-policy-checkboxes > label > label",
                "selectorFallback": "#main > div > fieldset > div.col-xs-12.accept-policy > div:nth-child(1) > label > label",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "value": "Sipariş vererek, Vivense'nin <a href=\"#contract-popup\" class=\"accept-policy-text-link\" data-lity=\"\">Ön Bilgilendirme Koşulları'nı ve Mesafeli Satış Sözleşmesi</a>'ni kabul etmiş olursunuz. Kişisel verilerinizin Vivense tarafından nasıl işlendiğine ilişkin detaylı bilgi için <a href=\"#gizlilik-ve-cerez\" target=\"_blank\" class=\"accept-policy-link\" data-lity=\"\">Gizlilik ve Çerez Politikasını</a>, <a href=\"#aydinlatma-metni\" target=\"_blank\" class=\"accept-policy-link\" data-lity=\"\">Müşteri Aydınlatma Metni</a> ve <a href=\"#kvkk-contract\" target=\"_blank\" class=\"accept-policy-link\" data-lity=\"\">Veri Koruma ve İşleme Politikası</a> inceleyebilirsiniz."
                    }
                ]
            },
            {
                "operator": "edit",
                "type": "styleApplicator",
                "value": "{\"width\":\"100%\"}",
                "selector": "body > div.main-custom-container > div.container.payment-container > div > div.col-md-3.address-right-container > div.accept-policy > div.checkbox.checkbox-accept.js-accept-policy-checkboxes > label > label",
                "selectorFallback": "#main > div > fieldset > div.col-xs-12.accept-policy > div.checkbox.checkbox-accept.js-accept-policy-checkboxes > label > label"
            },
            {
                "operator": "injectscript",
                "value": "document.querySelectorAll(\"div.checkbox.checkbox-accept.js-accept-policy-checkboxes span.cr.accept-policy-checkbox\").forEach((el) => el.click());$(\".bg-accept-policy-text-link\").on(\"click\",function(){$.ajax(\"/ajax/cart/contract.php\", {method: \"GET\"}).done(function (responseData) {$.jAlert({\"id\": \"accept-policy-alert\",\"title\": \"Sözleşme\",\"content\": responseData ,\"theme\": \"default\",\"size\": \"lg\",\"showAnimation\": \"fadeIn\",\"hideAnimation\": \"fadeOut\",\"btns\":  [ {\"text\": \"ONAYLIYORUM\",\"id\":\"return-address-id\", \"onClick\": function(){ $(\"#isTOSAccepted\").trigger(\"click\"); } } ]});}).fail(function(){$.jAlert({\"id\": \"isTOSAcceptedAlert\",\"title\": \"&nbsp;\",\"content\": \"İstek Şu An Gerçekleştirilemiyor!\",\"theme\": \"default\",\"size\": \"sm\",\"showAnimation\": \"fadeIn\",\"hideAnimation\": \"fadeOut\",\"btns\": [{\"text\": \"TAMAM\", \"closeAlert\":true, \"id\": \"cancel-id\"}]});});});",
                "selector": "body",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "value": "document.querySelectorAll(\"div.checkbox.checkbox-accept.js-accept-policy-checkboxes span.cr.accept-policy-checkbox\").forEach((el) => el.click());"
                    }
                ]
            }
        ]
    },
    {
        "id": 27,
        "name": "DESKTOP - Money Back Guarantee Banner Adress List Page",
        "description": "Money back guarantee banner",
        "category": "Universal Best Practice UX Strategies / Checkout Page / Web, Mobile Web",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/adres-listesi.html",
                "chain_condition": "and"
            }
        ],
        "businessRuleSet":
        [],
        "actions":
        [
            {
                "operator": "insert",
                "type": "before",
                "value": "<div class=\"nd-money-back__wrapper\"><div class=\"nd-money-back\"><div class=\"nd-money-back__body\"><img src=\"https://ndvivense.glov.ai/assets/nd-handshake.svg\" style=\"width:36px; height:24px;\"/><div style=\"margin-left: 8px\">Uzun uzun düşünmene gerek yok! Ürünü teslim ettikten sonra da biz hep yanındayız.</div></div></div></div>",
                "selector": "#address-section",
                "selectorFallback": "#order-cart-addreslist",
                "businessRuleTransformations":
                []
            }
        ]
    },
    {
        "id": 28,
        "name": "MOBILE - Money Back Guarantee Banner Address List Page",
        "description": "Money back guarantee banner",
        "category": "Universal Best Practice UX Strategies / Checkout Page / Web, Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "reapply_event": "element_change",
        "reapply_selector":
        [
            "#order-cart-addreslist > div.popup.frame-box",
            "#address-list > div.editAddress"
        ],
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/adres-listesi.html"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "element",
                "selector": "#order-cart-addreslist > div.popup.frame-box",
                "operator": "style",
                "condition": "contains",
                "value": "display: block",
                "chain_condition": "or",
                "chain":
                {
                    "type": "element",
                    "selector": "#address-list > div.editAddress",
                    "operator": "style",
                    "condition": "contains",
                    "value": "display: block"
                },
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "element",
                "selector": ".nd-money-back__wrapper",
                "condition": "exist",
                "businessRuleId": 2
            }
        ],
        "actions":
        [
            {
                "operator": "noop",
                "selector": ".nd-money-back__wrapper",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "operator": "remove"
                    },
                    {
                        "id": 2,
                        "operator": "remove"
                    }
                ]
            },
            {
                "operator": "insert",
                "type": "before",
                "value": "<div class=\"nd-money-back__wrapper\"><div class=\"nd-money-back\"><div class=\"nd-money-back__body\"><img src=\"https://ndvivense.glov.ai/assets/nd-handshake.svg\" style=\"width:36px; height:24px;\"/><div style=\"margin-left: 8px\">Teslimattan sonra da yanınızdayız</div></div></div></div>",
                "selector": "#address-section",
                "selectorFallback": "#order-cart-addreslist",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "operator": "noop"
                    }
                ]
            }
        ]
    },
    {
        "id": 29,
        "name": "DESKTOP - Social Proof N user has viewed this product for last 24 hour banner",
        "description": "Insert view count banner depending on info from lookup api",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web, Mobile Web",
        "device": "desktop",
        "reapply_event": "timeout",
        "apply_on_user_segment": "*",
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "productInfoLookup",
                "operator": "transactionIn2Weeks",
                "condition": "greaterThan",
                "value": 100,
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": null,
                    "selector": "#wowslider-container1 > div.quick-delivery-container.w-desktopEnlargement",
                    "condition": "notExist"
                },
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "element",
                "operator": null,
                "selector": "#wowslider-container1 > div.quick-delivery-container.w-desktopEnlargement",
                "condition": "notExist",
                "chain_condition": "and",
                "chain":
                {
                    "type": "productInfoLookup",
                    "operator": "addToCartIn2Weeks",
                    "condition": "greaterThan",
                    "value": 100,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "element",
                        "operator": null,
                        "selector": "#wowslider-container1 > div.quick-delivery-container.w-desktopEnlargement",
                        "condition": "notExist"
                    }
                },
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "element",
                "operator": null,
                "selector": "#wowslider-container1 > div.quick-delivery-container.w-desktopEnlargement",
                "condition": "notExist",
                "chain_condition": "and",
                "chain":
                {
                    "type": "productInfoLookup",
                    "operator": "productViewCount",
                    "condition": "greaterThan",
                    "value": 100,
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "element",
                        "operator": null,
                        "selector": "#wowslider-container1 > div.quick-delivery-container.w-desktopEnlargement",
                        "condition": "notExist"
                    }
                },
                "businessRuleId": 3
            }
        ],
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            }
        ],
        "actions":
        [
            {
                "operator": "productInfoLookup",
                "selector": "#wowslider-container1 > div.favorite-area-hearth.d-product-favorite",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "operator": "productInfoLookup",
                        "pType": "transactionIn2Weeks",
                        "value": "<div class=\"quick-delivery-container\">\n        <div class=\"quick-delivery-quick-delivery\">\n          <div class=\"quick-delivery-frame34497\">\n            <div class=\"quick-delivery-frame34475\">\n              <img src=\"https://ndvivense.glov.ai/assets/nd-lightning.svg\" alt=\"basket3fillI113\" class=\"quick-delivery-basket3fill\">\n            </div>\n            <span class=\"quick-delivery-text\">\n              <span>{{REPLACE_PRODUCTINFO}} adet satıldı,  </span><span class=\"quick-delivery-text-small\"> son 15 günde</span>\n            </span>\n          </div>\n        </div>\n      </div>",
                        "selector": "#wowslider-container1 > div.favorite-area-hearth.d-product-favorite"
                    },
                    {
                        "id": 2,
                        "operator": "productInfoLookup",
                        "pType": "addToCartIn2Weeks",
                        "value": "<div class=\"quick-delivery-container\">\n        <div class=\"quick-delivery-quick-delivery\">\n          <div class=\"quick-delivery-frame34497\">\n            <div class=\"quick-delivery-frame34475\">\n              <img src=\"https://ndvivense.glov.ai/assets/basket3filli113-nsa.svg\" alt=\"basket3fillI113\" class=\"quick-delivery-basket3fill\">\n            </div>\n            <span class=\"quick-delivery-text\">\n              <span>{{REPLACE_PRODUCTINFO}} kişi sepete ekledi,  </span><span class=\"quick-delivery-text-small\"> son 15 günde</span>\n            </span>\n          </div>\n        </div>\n      </div>",
                        "selector": "#wowslider-container1 > div.favorite-area-hearth.d-product-favorite"
                    },
                    {
                        "id": 3,
                        "operator": "productInfoLookup",
                        "pType": "productViewCount",
                        "value": "<div class=\"quick-delivery-container\">\n        <div class=\"quick-delivery-quick-delivery\">\n          <div class=\"quick-delivery-frame34497\">\n            <div class=\"quick-delivery-frame34475\">\n              <img src=\"https://ndvivense.glov.ai/assets/nd-eye.svg\" alt=\"basket3fillI113\" class=\"quick-delivery-basket3fill\">\n            </div>\n            <span class=\"quick-delivery-text\">\n              <span>{{REPLACE_PRODUCTINFO}} kişi görüntüledi,  </span><span class=\"quick-delivery-text-small\"> son 1 günde</span>\n            </span>\n          </div>\n        </div>\n      </div>",
                        "selector": "#wowslider-container1 > div.favorite-area-hearth.d-product-favorite"
                    }
                ]
            }
        ]
    },
    {
        "id": 30,
        "name": "N user has viewed this product for last 24 hour banner Extras",
        "description": "Insert view count banner depending on info from lookup api",
        "category": "Universal Best Practice UX Strategies / Product Pages (PDP) / Web",
        "device": "desktop",
        "apply_on_user_segment": "*",
        "dependant_on_treatment": 29,
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": "#wowslider-container1 > div.ws_thumbs.next-day-thumb"
            },
            {
                "id": 2,
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": ".quick-delivery-container"
            }
        ],
        "businessRuleSet":
        [],
        "actions":
        [
            {
                "operator": "edit",
                "type": "addClass",
                "value": "w-desktopEnlargement",
                "selector": ".quick-delivery-container"
            }
        ]
    },
    {
        "id": 31,
        "name": "DESKTOP - CTA Buttons Change Color",
        "description": "CTA Buttons Change Color",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web, Mobile Web",
        "device": "desktop",
        "apply_on_user_segment": "*",
        "reapply_event": "timeout",
        "baseRuleSet":
        [
            {
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": ".btn.cart-confirm.btn-lg",
                "chain":
                {
                    "type": "element",
                    "operator": null,
                    "condition": "exist",
                    "selector": ".button-add-cart-action .add-to-cart-btn",
                    "chain_condition": "or",
                    "chain":
                    {
                        "type": "element",
                        "operator": null,
                        "condition": "exist",
                        "selector": "#loginForm > button",
                        "chain_condition": "or",
                        "chain":
                        {
                            "type": "element",
                            "operator": null,
                            "condition": "exist",
                            "selector": "#registerBtn"
                        }
                    }
                },
                "chain_condition": "or"
            },
            {
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage",
                "businessRuleId": 1,
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/siparis-listesi.html",
                    "chain_condition": "or",
                    "chain":
                    {
                        "type": "url",
                        "operator": "path",
                        "condition": "equal",
                        "value": "/adres-listesi.html",
                        "chain_condition": "or",
                        "chain":
                        {
                            "type": "url",
                            "operator": "path",
                            "condition": "equal",
                            "value": "/odeme.html"
                        }
                    }
                }
            },
            {
                "id": 2,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/vivense-uye-kayit.html",
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/vivense-uye-girisi.html",
                "businessRuleId": 3
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "addClass",
                "variants":
                {
                    "A":
                    {
                        "value": "nd-cta-red"
                    },
                    "B":
                    {
                        "value": "nd-cta-yellow"
                    },
                    "C":
                    {
                        "value": "nd-cta-purple"
                    }
                },
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "selector": ".btn.cart-confirm.btn-lg",
                        "selectorFallback": ".add-to-cart-btn"
                    },
                    {
                        "id": 2,
                        "selector": "#registerBtn",
                        "selectorFallback": "#loginForm > button"
                    },
                    {
                        "id": 3,
                        "selector": "#loginForm > button",
                        "selectorFallback": "#registerBtn"
                    }
                ]
            }
        ]
    },
    {
        "id": 32,
        "name": "MOBILE - CTA Buttons Change Color",
        "description": "CTA Buttons Change Color Mobile",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web, Mobile Web",
        "device": "mobile",
        "reapply_event":
        [
            "timeout",
            "element_change"
        ],
        "reapply_selector": "#\\#",
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": "#checkoutForm > div.padding-reset.main-basket-summary > div.row.sticky-panel > div.col-xs-12.approve-basket > button",
                "chain":
                {
                    "type": "element",
                    "operator": null,
                    "condition": "exist",
                    "selector": "#order-cart-addreslist > div.cart-approve-btn > button",
                    "chain":
                    {
                        "type": "element",
                        "operator": null,
                        "condition": "exist",
                        "selector": " #accept-pay",
                        "chain":
                        {
                            "type": "element",
                            "operator": null,
                            "condition": "exist",
                            "selector": "#mobile-product-sticky > div.custom-form.add-to-cart-button-div > ul > li > a",
                            "chain_condition": "or",
                            "chain":
                            {
                                "type": "element",
                                "operator": null,
                                "condition": "exist",
                                "selector": "#loginForm > button",
                                "chain_condition": "or",
                                "chain":
                                {
                                    "type": "element",
                                    "operator": null,
                                    "condition": "exist",
                                    "selector": "#registerBtn"
                                }
                            }
                        },
                        "chain_condition": "or"
                    },
                    "chain_condition": "or"
                },
                "chain_condition": "or"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage",
                "businessRuleId": 1,
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/siparis-listesi.html"
                }
            },
            {
                "id": 2,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/adres-listesi.html",
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/odeme.html"
                },
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/vivense-uye-girisi.html",
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/vivense-uye-kayit.html"
                },
                "businessRuleId": 3
            }
        ],
        "actions":
        [
            {
                "operator": "noop",
                "type": "addClass",
                "variants":
                {
                    "A":
                    {
                        "value": "nd-cta-red"
                    },
                    "B":
                    {
                        "value": "nd-cta-yellow"
                    },
                    "C":
                    {
                        "value": "nd-cta-purple"
                    }
                },
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "operator": "edit",
                        "selector": ".btn.cart-confirm",
                        "selectorFallback": ".default-add-cart-btn"
                    },
                    {
                        "id": 2,
                        "operator": "edit",
                        "selector": ".cart-approve-btn button",
                        "selectorFallback": ".btn-type-address"
                    },
                    {
                        "id": 3,
                        "operator": "edit",
                        "selector": "#registerBtn"
                    }
                ]
            },
            {
                "operator": "noop",
                "variants":
                {
                    "A":
                    {
                        "value": "nd-cta-red"
                    },
                    "B":
                    {
                        "value": "nd-cta-yellow"
                    },
                    "C":
                    {
                        "value": "nd-cta-purple"
                    }
                },
                "businessRuleTransformations":
                [
                    {
                        "id": 3,
                        "operator": "edit",
                        "type": "addClass",
                        "selector": "#loginForm > button"
                    }
                ]
            }
        ]
    },
    {
        "id": 33,
        "name": "MOBILE CTA Button Text Optimization",
        "description": "CTA Button Text Optimization",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Mobile Web",
        "device": "mobile",
        "reapply_event": "element_change",
        "reapply_selector":
        [
            ".tabbable-line",
            ".payment-options-area.frame-box.form-group",
            "#\\#"
        ],
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html",
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/adres-listesi.html",
                    "chain_condition": "or",
                    "chain":
                    {
                        "type": "url",
                        "operator": "path",
                        "condition": "equal",
                        "value": "/odeme.html"
                    }
                }
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html",
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/adres-listesi.html",
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/odeme.html",
                "businessRuleId": 3
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "text",
                "selector": ".btn.cart-confirm.btn-lg",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "value": "ALIŞVERİŞİ TAMAMLA",
                        "selectorFallback": "#checkoutForm > div.padding-reset.main-basket-summary > div.row.sticky-panel > div.col-xs-12.approve-basket > button"
                    },
                    {
                        "id": 2,
                        "type": "html",
                        "value": "<span style=\"color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;\">sonraki adım</span><span style=\"font-size:18px; font-family: BrandonTextBold\">ÖDEME BİLGİLERİNİ GİR</span>",
                        "selectorFallback": "#order-cart-addreslist > div.cart-approve-btn > button"
                    },
                    {
                        "id": 3,
                        "type": "html",
                        "value": "{{REPLACE}}",
                        "selectorFallback": "#accept-pay",
                        "replaceFn": "if (!$(\"#menuPayments > ul > li:nth-child(2)\").length) {if ($(\"#main > div > fieldset > div.payment-options-area.frame-box.form-group > div.bank-transfer-area.form-group.frame-box.bank-payment-section\").attr(\"style\")?.includes(\"display: block\")) return \"<span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";if ($(\"#main > div > fieldset > div.payment-options-area.frame-box.form-group > div.row.payment-box.payment-area.credit-cart-section > div.row.installement-box.installement-area\").attr(\"style\")?.includes(\"display: none\")) return \"<span style='height: 2.5rem; color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";const selectedOption = $(\"#installement-table-area > tbody\").find(\".selected-installement\");if (selectedOption.is(\":first-child\")) return \"<span style='height: 2.5rem;color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";const installmentPrice = selectedOption.find(\"td\").text().split(\"x\")[1].trim();return \"<span style='height: 2.5rem; color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular; border:none; padding:0'>ayda \" + installmentPrice + \" taksitle</span><span style='font-size:18px; font-family: BrandonTextBold; border:none; padding:0'>ŞİMDİ AL</span>\";} else {if ($(\"#menuPayments > ul > li:nth-child(2)\").hasClass(\"active\")) return \"<span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";if (!$(\"#no_card_data\").hasClass(\"hidden\")) return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";if ($(\"#menuPayments > ul > li:nth-child(1)\").hasClass(\"active\")) {const selectedOption = $(\"#creditCardInstallmentOptions > div.installament-list-2-col.add-installament > div > table > tbody\").find(\".active\");if (selectedOption.attr(\"id\") === \"installment-tr-1\") return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>tek çekim</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";const installmentPrice = selectedOption.find(\".installment-price\").text().split(\"x\")[1].trim();return \"<span style='color: rgba(255,255,255,.6); letter-spacing: .82px; font-size: 14px; font-family: BrandonTextRegular;'>ayda \" + installmentPrice + \" taksitle</span><span style='font-size:18px; font-family: BrandonTextBold'>ŞİMDİ AL</span>\";}}"
                    }
                ]
            },
            {
                "operator": "edit",
                "type": "addClass",
                "selector": ".btn.cart-confirm.btn-lg",
                "value": "nd-flex nd-flex__centered nd-flex__column",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "operator": "noop"
                    },
                    {
                        "id": 2,
                        "operator": "noop"
                    },
                    {
                        "id": 3,
                        "selectorFallback": "#accept-pay"
                    }
                ]
            }
        ]
    },
    {
        "id": 35,
        "name": "MOBILE - Social Proof N user has viewed this product for last 24 hour banner",
        "description": "Insert view count banner depending on info from lookup api",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web, Mobile Web",
        "device": "mobile",
        "reapply_event": "timeout",
        "apply_on_user_segment": "*",
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage",
                "chain_condition": "and",
                "chain":
                {
                    "type": "productInfoLookup",
                    "operator": "transactionIn2Weeks",
                    "condition": "greaterThan",
                    "value": 100
                },
                "businessRuleId": 1
            },
            {
                "id": 2,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage",
                "chain_condition": "and",
                "chain":
                {
                    "type": "productInfoLookup",
                    "operator": "addToCartIn2Weeks",
                    "condition": "greaterThan",
                    "value": 100
                },
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage",
                "chain_condition": "and",
                "chain":
                {
                    "type": "productInfoLookup",
                    "operator": "productViewCount",
                    "condition": "greaterThan",
                    "value": 100
                },
                "businessRuleId": 3
            }
        ],
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            },
            {
                "type": "element",
                "operator": null,
                "selector": ".quick-delivery-container",
                "condition": "notExist"
            }
        ],
        "actions":
        [
            {
                "id": 1,
                "operator": "productInfoLookup",
                "selector": ".nd-add-to-win",
                "selectorFallback": "#main > div > section > div:nth-child(1) > div > div.header-bottom",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "pType": "transactionIn2Weeks",
                        "value": "<div class=\"quick-delivery-container\">\n        <div class=\"quick-delivery-quick-delivery\">\n          <div class=\"quick-delivery-frame34497\">\n            <div class=\"quick-delivery-frame34475\">\n              <img src=\"https://ndvivense.glov.ai/assets/nd-lightning.svg\" alt=\"basket3fillI113\" class=\"quick-delivery-basket3fill\">\n            </div>\n            <span class=\"quick-delivery-text\">\n              <span>{{REPLACE_PRODUCTINFO}} adet satıldı,  </span><span class=\"quick-delivery-text-small\"> son 15 günde</span>\n            </span>\n          </div>\n        </div>\n      </div>"
                    },
                    {
                        "id": 2,
                        "pType": "addToCartIn2Weeks",
                        "value": "<div class=\"quick-delivery-container\">\n        <div class=\"quick-delivery-quick-delivery\">\n          <div class=\"quick-delivery-frame34497\">\n            <div class=\"quick-delivery-frame34475\">\n              <img src=\"https://ndvivense.glov.ai/assets/basket3filli113-nsa.svg\" alt=\"basket3fillI113\" class=\"quick-delivery-basket3fill\">\n            </div>\n            <span class=\"quick-delivery-text\">\n              <span>{{REPLACE_PRODUCTINFO}} kişi sepete ekledi,  </span><span class=\"quick-delivery-text-small\"> son 15 günde</span>\n            </span>\n          </div>\n        </div>\n      </div>"
                    },
                    {
                        "id": 3,
                        "pType": "productViewCount",
                        "value": "<div class=\"quick-delivery-container\">\n        <div class=\"quick-delivery-quick-delivery\">\n          <div class=\"quick-delivery-frame34497\">\n            <div class=\"quick-delivery-frame34475\">\n              <img src=\"https://ndvivense.glov.ai/assets/nd-eye.svg\" alt=\"basket3fillI113\" class=\"quick-delivery-basket3fill\">\n            </div>\n            <span class=\"quick-delivery-text\">\n              <span>{{REPLACE_PRODUCTINFO}} kişi görüntüledi,  </span><span class=\"quick-delivery-text-small\"> son 1 günde</span>\n            </span>\n          </div>\n        </div>\n      </div>"
                    }
                ]
            }
        ]
    },
    {
        "id": 36,
        "name": "DESKTOP - Delivery Date Prettifier",
        "description": "Delivery Date Prettifier",
        "category": "Universal Best Practice UX Strategies / Product Pages (PDP) / Web",
        "device": "desktop",
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "text",
                "selector": "#sidebar-right .delivery-date",
                "value": "{{REPLACE}}",
                "replaceFn": "return window.beagleInfoLayer?.pdp?.deliveryDateFormatted",
                "variants":
                {
                    "A":
                    {
                        "replaceFn": "return window.beagleInfoLayer?.pdp?.deliveryDateFormatted"
                    },
                    "B":
                    {
                        "replaceFn": "const original = document.querySelector(\"#sidebar-right .delivery-date\").innerText;try {const charRegex = /[a-zA-Zıöüğşç]+/g;const numberRegex = /\\d+/g;const val = original.trim().split(\"-\");const firstDate = parseInt(val[0].match(numberRegex)[0]);const secondDate = parseInt(val[1].match(numberRegex)[0]);if (!charRegex.test(val[0])) {if (secondDate - firstDate >= 7) return `${secondDate - 3}-${secondDate} ${original.match(charRegex)[0]}`;return original;} else {const month = val[0].match(charRegex)[0].toLowerCase();let remainigDays = 31 - firstDate;if (month.startsWith('s') || month.startsWith('ş')) remainigDays = 28 - firstDate;if (month === \"nisan\") remainigDays = 30 - firstDate;if (month === \"haziran\") remainigDays = 30 - firstDate;if (month === \"eylul\" || month === \"eylül\") remainigDays = 30 - firstDate;if (month === \"kasım\" || month === \"kasim\") remainigDays = 30 - firstDate;if (remainigDays + secondDate >= 7) {if (secondDate > 3) return `${secondDate - 3}-${secondDate} ${val[1].match(charRegex)[0]}`;return `${firstDate + remainigDays + (secondDate - 3)} ${val[0].match(charRegex)[0]}-${val[1]}`;}return original;}} catch (err) {return original;}"
                    },
                    "C":
                    {
                        "replaceFn": "const original = document.querySelector(\"#sidebar-right .delivery-date\").innerText;try {return `En Geç ${original.trim().split(\"-\")[1]}`;} catch (err) {return original;}"
                    },
                    "D":
                    {
                        "operator": "injectscript",
                        "selector": "body",
                        "value": "const months = {\"ocak\": 0,\"şubat\": 1,\"subat\": 1,\"mart\": 2,\"nisan\": 3,\"mayıs\": 4,\"mayis\": 4,\"haziran\": 5,\"temmuz\": 6,\"ağustos\": 7,\"agustos\": 7,\"eylül\": 8,\"eylul\": 8,\"ekim\": 9,\"kasım\": 10,\"kasim\": 10,\"aralık\": 11,\"aralik\": 11,};const original = document.querySelector(\"#sidebar-right .delivery-date\").innerText;try {const charRegex = /[a-zA-Zıöüğşç]+/g;const numberRegex = /\\d+/g;const month = months[original.match(charRegex)[0].toLowerCase()];let currentMonth = new Date().getMonth();if (currentMonth === month) throw new Error();currentMonth = currentMonth + 1 === 12 ? 0 : currentMonth + 1;if (currentMonth === month) throw new Error();currentMonth = currentMonth + 1 === 12 ? 0 : currentMonth + 1;if (currentMonth === month) {const day = original.match(numberRegex)[0];const currentDay = new Date().getDate();if (day <= currentDay) throw new Error();}document.querySelector(\".product-details-bottom\").remove();} catch (err) {}"
                    }
                }
            }
        ]
    },
    {
        "id": 37,
        "name": "MOBILE - Delivery Date Prettifier",
        "description": "Delivery Date Prettifier",
        "category": "Universal Best Practice UX Strategies / Product Pages (PDP) / Mobile",
        "device": "mobile",
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            }
        ],
        "actions":
        [
            {
                "operator": "edit",
                "type": "text",
                "selector": ".panel-body .planned_delivery_date",
                "value": "{{REPLACE}}",
                "replaceFn": "return window.beagleInfoLayer?.pdp?.deliveryDateFormatted",
                "variants":
                {
                    "A":
                    {
                        "replaceFn": "return window.beagleInfoLayer?.pdp?.deliveryDateFormatted"
                    },
                    "B":
                    {
                        "replaceFn": "const original = document.querySelector(\".panel-body .planned_delivery_date\").innerText;try {const charRegex = /[a-zA-Zıöüğşç]+/g;const numberRegex = /\\d+/g;const val = original.trim().split(\"-\");const firstDate = parseInt(val[0].match(numberRegex)[0]);const secondDate = parseInt(val[1].match(numberRegex)[0]);if (!charRegex.test(val[0])) {if (secondDate - firstDate >= 7) return `${secondDate - 3}-${secondDate} ${original.match(charRegex)[0]}`;return original;} else {const month = val[0].match(charRegex)[0].toLowerCase();let remainigDays = 31 - firstDate;if (month.startsWith('s') || month.startsWith('ş')) remainigDays = 28 - firstDate;if (month === \"nisan\") remainigDays = 30 - firstDate;if (month === \"haziran\") remainigDays = 30 - firstDate;if (month === \"eylul\" || month === \"eylül\") remainigDays = 30 - firstDate;if (month === \"kasım\" || month === \"kasim\") remainigDays = 30 - firstDate;if (remainigDays + secondDate >= 7) {if (secondDate > 3) return `${secondDate - 3}-${secondDate} ${val[1].match(charRegex)[0]}`;return `${firstDate + remainigDays + (secondDate - 3)} ${val[0].match(charRegex)[0]}-${val[1]}`;}return original;}} catch (err) {return original;}"
                    },
                    "C":
                    {
                        "replaceFn": "const original = document.querySelector(\".panel-body .planned_delivery_date\").innerText;try {return `En Geç ${original.trim().split(\"-\")[1]}`;} catch (err) {return original;}"
                    },
                    "D":
                    {
                        "operator": "injectscript",
                        "selector": "body",
                        "value": "const months = {\"ocak\": 0,\"şubat\": 1,\"subat\": 1,\"mart\": 2,\"nisan\": 3,\"mayıs\": 4,\"mayis\": 4,\"haziran\": 5,\"temmuz\": 6,\"ağustos\": 7,\"agustos\": 7,\"eylül\": 8,\"eylul\": 8,\"ekim\": 9,\"kasım\": 10,\"kasim\": 10,\"aralık\": 11,\"aralik\": 11,};const original = document.querySelector(\".panel-body .planned_delivery_date\").innerText;try {const charRegex = /[a-zA-Zıöüğşç]+/g;const numberRegex = /\\d+/g;const month = months[original.match(charRegex)[0].toLowerCase()];let currentMonth = new Date().getMonth();if (currentMonth === month) throw new Error();currentMonth = currentMonth + 1 === 12 ? 0 : currentMonth + 1;if (currentMonth === month) throw new Error();currentMonth = currentMonth + 1 === 12 ? 0 : currentMonth + 1;if (currentMonth === month) {const day = original.match(numberRegex)[0];const currentDay = new Date().getDate();if (day <= currentDay) throw new Error();}document.querySelector(\".panel-body .delivery-date-custom\").remove();} catch (err) {}"
                    }
                }
            }
        ]
    },
    {
        "id": 34,
        "name": "DESKTOP - Product Price Installments",
        "description": "Display minimum installement price in PDP",
        "category": "Universal Best Practice UX Strategies / Checkout Page / Web",
        "apply_on_user_segment": "*",
        "reapply_event": "element_change",
        "reapply_selector": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div.panel-body.nopadding > div.product-price-details td.sumprice-com > p",
        "device": "desktop",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            },
            {
                "id": 2,
                "type": "dataLayer",
                "operator": "pdp.price",
                "condition": "greaterThan",
                "value": "2000"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": ".old-price",
                "businessRuleId": 1,
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": null,
                    "condition": "notExist",
                    "selector": "#component"
                }
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": "#bn-price-installment-tag"
            },
            {
                "operator": "insert",
                "type": "after",
                "value": "<div id=\"bn-price-installment-tag\" style=\"text-align: center;color: #40484e;font-family: BrandonTextRegular;\">{{REPLACE}} TL’den başlayan taksitlerle</div>",
                "selector": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div.panel-body.nopadding > div.product-price-box > div.price-text.non-discounted",
                "selectorFallback": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div > div.product-price-box > div:nth-child(1)",
                "replaceFn": "const p = parseInt(document.querySelector(\".price\").innerText.replace(\".\",\"\").replace(\"TL\", \"\").trim());const comishRate = (p < 2500) ? 0.12 : (p < 5500) ? 0.09 : 0.075;return (p * 1.01 * (1 + comishRate) / 9).toFixed(0);",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "selectorFallback": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div > div.product-price-box > div:nth-child(2)"
                    }
                ]
            }
        ]
    },
    {
        "id": 38,
        "name": "MOBILE - Product Price Installments",
        "description": "Display minimum installement price in PDP",
        "category": "Universal Best Practice UX Strategies / Checkout Page / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "reapply_event": "element_change",
        "reapply_selector": "#sales-price",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage"
            },
            {
                "id": 2,
                "type": "dataLayer",
                "operator": "pdp.price",
                "condition": "greaterThan",
                "value": "2000"
            },
            {
                "id": 3,
                "type": "element",
                "operator": null,
                "condition": "notExist",
                "selector": ".old-price"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "environment",
                "operator": "device_type",
                "condition": "equal",
                "value": "mobile",
                "businessRuleId": 1
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": "#bn-price-installment-tag"
            },
            {
                "operator": "insert",
                "type": "after",
                "value": "<div id=\"bn-price-installment-tag\" style=\"text-align: center;color: #40484e;font-family: BrandonTextRegular;\">{{REPLACE}} TL’den başlayan taksitlerle</div>",
                "selector": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div.panel-body.nopadding > div.product-price-box > div.price-text.non-discounted",
                "selectorFallback": "#sidebar-right > div > div.sticky_column > div.panel.panel-default.product-right-sidebar > div > div.product-price-box > div",
                "replaceFn": "const p = parseInt(document.querySelector(\"#sales-price\").innerText.replace(\".\",\"\").replace(\"TL\", \"\").trim());const comishRate = (p < 2500) ? 0.12 : (p < 5500) ? 0.09 : 0.075;return (p * 1.01 * (1 + comishRate) / 9).toFixed(0);",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "value": "<div id=\"bn-price-installment-tag\" style=\"text-align: center;color: #40484e;font-size: 12px;font-family: BrandonTextRegular;\">{{REPLACE}} TL’den başlayan taksitlerle</div>",
                        "selectorFallback": "#mobile-product-sticky > div.price.align-left.custom-left-area > div.product-price > div"
                    }
                ]
            },
            {
                "operator": "noop",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "operator": "edit",
                        "type": "styleApplicator",
                        "value": "{\"margin-top\":\"0\"}",
                        "selector": "#mobile-product-sticky > div.price.align-left.custom-left-area > div.product-price"
                    }
                ]
            },
            {
                "operator": "noop",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "operator": "edit",
                        "type": "styleApplicator",
                        "value": "{\"padding\":\"0\"}",
                        "selector": "#mobile-product-sticky > div.price.align-left.custom-left-area > div.product-price > div.product-price-sale.non-discounted"
                    }
                ]
            }
        ]
    },
    {
        "id": 39,
        "name": "MOBILE Remove Default Vivense banner",
        "description": "Remove Default Vivense banner - Basket",
        "category": "Universal Best Practice UX Strategies / Basket Page / Mobile Web",
        "apply_on_user_segment": "*",
        "device": "mobile",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html"
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": "#checkoutForm > div > div > div.col-sm-12.basket_product_list_header.reserved-product",
                "selectorFallback": "#checkoutForm > div.basket_product_list_header.reserved-product"
            }
        ]
    },
    {
        "id": 40,
        "name": "DESKTOP - Social Proof 'Bu fiyattan sınırlı sayıda'",
        "description": "Insert 'Bu fiyattan sınırlı sayıda' banner depending on info from lookup api",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web ",
        "device": "desktop",
        "reapply_event": "element_change",
        "reapply_selector": "#checkoutForm > div > div.row.centered-wide-fix > div.col-md-4.cart-right-container",
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html",
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": null,
                    "selector": ".empty-cart-container",
                    "condition": "notExist"
                }
            }
        ],
        "actions":
        [
            {
                "operator": "remove",
                "selector": ".bn-limited-product-tag"
            },
            {
                "condition":
                {
                    "type": "productInfoLookup",
                    "operator": "addToCartIn2Weeks",
                    "selector": ".cart-inside",
                    "attribute": "data-sku",
                    "inner_condition": "greaterThan",
                    "value": 49
                },
                "operator": "insert",
                "type": "append",
                "value": "<div class=\"bn-limited-product-tag\" style=\"background: rgba(255, 89, 89, 0.1); color: #FF5959; font-family: BrandonTextRegular; font-size: 12px; min-width: 127px; text-align: center;\">Bu fiyattan sınırlı sayıda</div>",
                "selector": ".cart-price"
            }
        ]
    },
    {
        "id": 43,
        "name": "MOBILE - Social Proof 'Bu fiyattan sınırlı sayıda'",
        "description": "Insert 'Bu fiyattan sınırlı sayıda' banner depending on info from lookup api",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web ",
        "device": "mobile",
        "reapply_event": "element_change",
        "reapply_selector": "#checkoutForm",
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html",
                "chain_condition": "and",
                "chain":
                {
                    "type": "element",
                    "operator": null,
                    "selector": ".empty-cart-container",
                    "condition": "notExist"
                }
            },
            {
                "id": 2,
                "type": "element",
                "operator": null,
                "condition": "notExist",
                "selector": ".bn-limited-product-tag"
            }
        ],
        "actions":
        [
            {
                "condition":
                {
                    "type": "productInfoLookup",
                    "operator": "addToCartIn2Weeks",
                    "selector": ".cart-inside",
                    "attribute": "data-sku",
                    "inner_condition": "greaterThan",
                    "value": 49
                },
                "operator": "insert",
                "type": "append",
                "value": "<div class=\"bn-limited-product-tag\" style=\"background: rgba(255, 89, 89, 0.1); color: #FF5959; font-family: BrandonTextRegular; font-size: 12px; min-width: 127px; text-align: center;\">Bu fiyattan sınırlı sayıda</div>",
                "selector": ".right-content"
            }
        ]
    },
    {
        "id": 48,
        "name": "DESKTOP - CTA Buttons Text Transformation",
        "description": "CTA Buttons Text Transformation",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web, Mobile Web",
        "device": "desktop",
        "apply_on_user_segment": "*",
        "reapply_event": "timeout",
        "baseRuleSet":
        [
            {
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": ".btn.cart-confirm.btn-lg",
                "chain":
                {
                    "type": "element",
                    "operator": null,
                    "condition": "exist",
                    "selector": ".button-add-cart-action .add-to-cart-btn",
                    "chain_condition": "or",
                    "chain":
                    {
                        "type": "element",
                        "operator": null,
                        "condition": "exist",
                        "selector": "#loginForm > button",
                        "chain_condition": "or",
                        "chain":
                        {
                            "type": "element",
                            "operator": null,
                            "condition": "exist",
                            "selector": "#registerBtn"
                        }
                    }
                },
                "chain_condition": "or"
            },
            {
                "type": "url",
                "operator": "path",
                "condition": "notEqual",
                "value": "/"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage",
                "businessRuleId": 1,
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/siparis-listesi.html",
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "url",
                        "operator": "path",
                        "condition": "notEqual",
                        "value": "/adres-listesi.html"
                    }
                }
            },
            {
                "id": 4,
                "businessRuleId": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/odeme.html"
            },
            {
                "id": 2,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/vivense-uye-kayit.html",
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/vivense-uye-girisi.html",
                "businessRuleId": 3
            }
        ],
        "actions":
        [
            {
                "operator": "text-transform",
                "type": "capitalize",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "selector": ".btn.cart-confirm.btn-lg",
                        "selectorFallback": ".add-to-cart-btn"
                    },
                    {
                        "id": 2,
                        "selector": "#registerBtn",
                        "selectorFallback": "#loginForm > button"
                    },
                    {
                        "id": 3,
                        "selector": "#loginForm > button",
                        "selectorFallback": "#registerBtn"
                    }
                ]
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "nd-text-transform",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "selector": ".btn.cart-confirm.btn-lg",
                        "selectorFallback": ".add-to-cart-btn"
                    },
                    {
                        "id": 2,
                        "selector": "#registerBtn",
                        "selectorFallback": "#loginForm > button"
                    },
                    {
                        "id": 3,
                        "selector": "#loginForm > button",
                        "selectorFallback": "#registerBtn"
                    }
                ]
            }
        ]
    },
    {
        "id": 45,
        "name": "MOBILE - CTA Buttons Text Transformation",
        "description": "CTA Buttons Text Transformation Mobile",
        "category": "Universal Best Practice UX Strategies / Category Pages (PLP) / Web, Mobile Web",
        "device": "mobile",
        "reapply_event":
        [
            "timeout",
            "element_change"
        ],
        "reapply_selector": "#\\#",
        "apply_on_user_segment": "*",
        "baseRuleSet":
        [
            {
                "type": "element",
                "operator": null,
                "condition": "exist",
                "selector": "#checkoutForm > div.padding-reset.main-basket-summary > div.row.sticky-panel > div.col-xs-12.approve-basket > button",
                "chain":
                {
                    "type": "element",
                    "operator": null,
                    "condition": "exist",
                    "selector": "#order-cart-addreslist > div.cart-approve-btn > button",
                    "chain":
                    {
                        "type": "element",
                        "operator": null,
                        "condition": "exist",
                        "selector": " #accept-pay",
                        "chain":
                        {
                            "type": "element",
                            "operator": null,
                            "condition": "exist",
                            "selector": "#mobile-product-sticky > div.custom-form.add-to-cart-button-div > ul > li > a",
                            "chain_condition": "or",
                            "chain":
                            {
                                "type": "element",
                                "operator": null,
                                "condition": "exist",
                                "selector": "#loginForm > button",
                                "chain_condition": "or",
                                "chain":
                                {
                                    "type": "element",
                                    "operator": null,
                                    "condition": "exist",
                                    "selector": "#registerBtn"
                                }
                            }
                        },
                        "chain_condition": "or"
                    },
                    "chain_condition": "or"
                },
                "chain_condition": "or"
            }
        ],
        "businessRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Productpage",
                "businessRuleId": 1,
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/siparis-listesi.html",
                    "chain_condition": "and",
                    "chain":
                    {
                        "type": "url",
                        "operator": "path",
                        "condition": "equal",
                        "value": "/adres-listesi.html"
                    }
                }
            },
            {
                "id": 2,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/odeme.html",
                "businessRuleId": 2
            },
            {
                "id": 3,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/vivense-uye-girisi.html",
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/vivense-uye-kayit.html"
                },
                "businessRuleId": 3
            }
        ],
        "actions":
        [
            {
                "operator": "text-transform",
                "type": "capitalize",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "selector": ".btn.cart-confirm.btn-lg",
                        "selectorFallback": ".add-to-cart-btn"
                    },
                    {
                        "id": 2,
                        "selector": "#registerBtn",
                        "selectorFallback": "#loginForm > button"
                    },
                    {
                        "id": 3,
                        "selector": "#loginForm > button",
                        "selectorFallback": "#registerBtn"
                    }
                ]
            },
            {
                "operator": "edit",
                "type": "addClass",
                "value": "nd-text-transform",
                "businessRuleTransformations":
                [
                    {
                        "id": 1,
                        "selector": ".btn.cart-confirm.btn-lg",
                        "selectorFallback": ".add-to-cart-btn"
                    },
                    {
                        "id": 2,
                        "selector": "#registerBtn",
                        "selectorFallback": "#loginForm > button"
                    },
                    {
                        "id": 3,
                        "selector": "#loginForm > button",
                        "selectorFallback": "#registerBtn"
                    }
                ]
            }
        ]
    },
    {
        "id": 46,
        "name": "DESKTOP - Open PLP links in new tab",
        "description": "Open PLP links in new tab",
        "category": "Universal Best Practice UX Strategies / Checkout Page / Web, Mobile Web",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "dataLayer",
                "operator": "PageType",
                "condition": "equal",
                "value": "Listingpage"
            }
        ],
        "businessRuleSet":
        [],
        "actions":
        [
            {
                "operator": "injectscript",
                "value": "function openTabScript() {function openTab(ev) {ev.preventDefault();ev.stopPropagation();let win = window.open(this.href, '_blank');win.focus();}$('#product-list-wrapper > div > div > div > div > div > a').each(function(i, elm) {$(elm).off('click.beagleOpenTab');$(elm).on('click.beagleOpenTab', openTab);});};const observer = new ResizeObserver(function() {openTabScript();});observer.observe(window.top.document.documentElement);",
                "selector": "body",
                "businessRuleTransformations":
                []
            }
        ]
    },
    {
        "id": 47,
        "name": "DESKTOP - Easy Navigation",
        "description": "Easy Navigation",
        "category": "Abandonment and Reengagement / Sitewide / Web",
        "apply_on_user_segment": "*",
        "device": "desktop",
        "baseRuleSet":
        [
            {
                "id": 1,
                "type": "url",
                "operator": "path",
                "condition": "equal",
                "value": "/siparis-listesi.html"
            },
            {
                "id": 2,
                "type": "dataLayer",
                "operator": "vvsUserId",
                "condition": "equal",
                "value": "0"
            }
        ],
        "businessRuleSet":
        [],
        "actions":
        [
            {
                "operator": "insert",
                "type": "modal",
                "selector": "#checkoutForm > div > div > div.col-md-4.cart-right-container > div.cart-footer > span > button",
                "contentSelector": "body > div.desktop_layout_wrapper > div.middle_header_wrapper > div > div.middle_header_inner_column.middle_header_inner_shortcuts_wrapper > div > div.shortcut_column.basket_wrapper.my-cart > div > div.basket_product_list > ul > li > a > div.product_image > img",
                "value": "<div class=\"nd-popup\"><div class=\"nd-popup__body\"><div class=\"nd-popup__title\"></div><div class=\"nd-popup__text\"></div><div><a class=\"nd-modal_btn_colored\" href=\"vivense-uye-kayit.html?ref=basket\">Giriş Yaparak Devam Et</a></div><div><a class=\"nd-modal_btn\" href=\"adres-listesi.html\">Üye Olmadan Devam Et</a></div></div></div>",
                "businessRuleTransformations":
                []
            }
        ]
    },
    {
        "id": 49,
        "name":"DESKTOP - Simplify Membership Page'",
        "description":"Simplify Membership Page",
        "category":"Universal Best Practice UX Strategies / Category Pages (PLP) / Web ",
        "device":"desktop",
        "apply_on_user_segment":"*",
        "baseRuleSet":[
           {
              "id":1,
              "type":"url",
              "operator":"path",
              "condition":"equal",
              "value":"/vivense-uye-kayit.html"
           }
        ],
        "actions":[
           {
            "operator": "remove",
            "selector": "#sign-up > img"
           },
           {
              "operator": "remove",
              "selector": "#sign-up > p"
           },
           {
              "operator": "edit",
              "type": "text",
              "value": "Üye Ol",
              "selector": "body > div.main-custom-container > div.container > div.vivense-registration-page > ul > li.active > a"
            },
           {
            "operator": "edit",
            "type": "styleApplicator",
            "value": "{\"display\":\"none\"}",
            "selector": "#registration > div.vivense-campaign-endorsement-selection > div"
           },
           {
            "operator": "insert",
            "type": "after",
            "value": "<div><label class=\"checkbox\" for=\"nd_tos\"><span class=\"checkbox-checked\"></span><input type=\"checkbox\" name=\"nd_tos\" id=\"nd_vvns-approve-campaign\" onclick='(function handleApproveClick(e){let checkbox = document.getElementById(\"nd_vvns-approve-campaign\"); if(!checkbox.checked){document.querySelector(\"#vvns-approve-campaign\").click();document.querySelector(\"#vivenseSms\").click();document.querySelector(\"#vivenseEmail\").click();document.querySelector(\"#vivensePhone\").click();} else {document.querySelector(\"#vvns-not-approve-campaign\").click();}})(this)'><span style=\"margin-left:20px;vertical-align:middle\">Onaylıyorum</span></label></div>",
            "selector": "#registration > div.vivense-campaign-endorsement-selection > p"
           },
           {
            "operator": "remove",
            "variants":
            {
                "A":
                {
                    "selector": "body > div.main-custom-container > div.container > div.vivense-registration-page > div.vivense-register-other"
                },
                "B":
                {
                    "operator": "noop"
                }
            }
           },
           {
            "operator": "edit",
            "type": "styleApplicator",
            "value": "{\"background\": \"#8f9ba7\", \"color\": \"#fff\"}",
            "selector": "body > div.main-custom-container > div.container > div.vivense-registration-page > div.vivense-register-wrapper-direction > a"
          }
        ]
    },
    {
        "id": 50,
        "name":"MOBILE - Mobile Adress Page Fixes",
        "description":"Mobile Adress Page Fixes",
        "category":"Universal Best Practice UX Strategies / Category Pages (PLP) / Web ",
        "device":"mobile",
        "apply_on_user_segment":"*",
        "baseRuleSet":[
           {
              "id":1,
              "type":"url",
              "operator":"path",
              "condition":"equal",
              "value":"/adres-listesi.html"
           }
        ],
        "actions":[
            {
                "operator": "setattribute",
                "attribute": "placeholder",
                "selector": "#phone",
                "value": "0(5__) ___ __ __"
            }
        ]
    },
    {
        "id": 52,
        "name":"DESKTOP - Add Persona Recommendation Block to Orders",
        "description":"Add Persona Recommendation Block to Siparislerim",
        "category":"Universal Best Practice UX Strategies / Category Pages (PLP) / Web ",
        "device":"desktop",
        "baseRuleSet":[
            {
                "id":1,
                "type":"url",
                "operator":"path",
                "condition":"equal",
                "value":"/siparis-listesi.html",
                "chain_condition": "or",
                "chain":
                {
                    "type": "url",
                    "operator": "path",
                    "condition": "equal",
                    "value": "/siparislerim.html"
                }
             }
        ],
        "actions":[
            {
                "operator": "injectscript",
                "selector": "body",
                "value": "(function() {const personaSnippet = () => {(location.pathname === '/') ? sizeWidget = 5 :sizeWidget=4;if (!!jQuery.fn.owlCarousel) {console.log('a');$('.personaclick-recommend .recommended-items').each(function () {if ($(this).find('.recommended-item').length > 0)$(this).owlCarousel({autoplay: false,loop: $(this).find('.recommended-item').length <= 5 ? false : true,autoplayTimeout: 20000,navClass: ['ProductListprev', 'ProductListnext'],autoplaySpeed: 1500,autoplayHoverPause: true,smartSpeed: 150,margin: 10,slideBy: 4,nav: true,lazyLoad : true,responsive: {0: {items: 1.5,nav: false},768: {items: 1.5,nav:false},992: {items: 3},1200: {items: sizeWidget}}});});} else {console.log('b');$('<link/>', {rel: 'stylesheet',type: 'text/css',href: 'https://static.personaclick.com/PersonaClick/owl.css'}).appendTo('head');window.owlUrlJs = '//static.personaclick.com/PersonaClick/owlCarousel/dist/owl.carousel.min.js';jQuery.getScript(owlUrlJs, function () {$('.personaclick-recommend .recommended-items').each(function () {if ($(this).find('.recommended-item').length > 0)$(this).owlCarousel({autoplay: false,loop: $(this).find('.recommended-item').length <= 5 ? false : true,autoplayTimeout: 20000,navClass: ['ProductListprev', 'ProductListnext'],autoplaySpeed: 1500,autoplayHoverPause: true,smartSpeed: 150,margin: 10,lazyLoad : true,slideBy: 4,nav: true,responsive: {0: {items: 1.5,nav: false},768: {items: 1.5,nav: false},992: {items: 3},1200: {items: sizeWidget}}});});});}}if(location.href.includes('siparis-listesi')) {const personaHTML = document.querySelector('.personaclick-recommend.personaclick-recommend-rendered')?.outerHTML;if(personaHTML)sessionStorage.setItem('BG_PersonaHTML', personaHTML);}if(location.href.includes('siparislerim')) {const personaHTML = sessionStorage.getItem('BG_PersonaHTML');if(!personaHTML)return;const siparislerimElm = document.querySelector('body > div.main-custom-container > div > div > div.col-md-10 > div');let child = document.createElement('div');child.innerHTML = personaHTML;siparislerimElm.append(child);const personaRecommendElement = document.querySelector('.personaclick-recommend.personaclick-recommend-rendered')personaRecommendElement.style.display = 'block'personaRecommendElement.querySelector('.container').style.width = '100%'personaSnippet();}})()"
            }
        ]
    }
]

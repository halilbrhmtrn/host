!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new T(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw a;return E()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=L(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?v:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",g={};function h(){}function m(){}function y(){}var w={};s(w,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=y.prototype=h.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var s=l(e[o],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:E}}function E(){return{value:t,done:!0}}return m.prototype=y,s(x,"constructor",y),s(y,"constructor",m),m.displayName=s(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),s(x,c,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}var s=n(757),u=n.n(s);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",v="(max-width: 440px)",g="__nextday_session_id",h="ND_SessionTimestamp",m="BN_SessionHistory",y="ND_PageViews",w="ND_PopupDisplayFlag",b="ND_SkuList",k="ND_CABasketPrice",x="ND_Debug",S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";l(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(x)}return f(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}},{key:"warn",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).warn.apply(e,["[".concat(t,"]")].concat(r))}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),I=S;function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=new I("Nextday DataLayer Checker"),O=function(e){A.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=T(t);return ae(o,n,r)},T=function(e){A.log("Searching beagleInfoLayer for key ",e);var t=window.beagleInfoLayer[e];if(e.includes("."))try{var n=e.split(".");t=window.beagleInfoLayer[n[0]];for(var r=1;r<n.length;r++)t=t[n[r]]}catch(n){A.log("Couldn't extract key ".concat(e," from beagleInfoLayer")),t=null}if(t)return A.log("Found key ".concat(e," with value ").concat(t)),t;A.log("Key ".concat(e," not found in beagleInfoLayer")),A.log("Searching dataLayer for key ",e);var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(window.dataLayer);try{for(a.s();!(o=a.n()).done;){var i=o.value;if(Object.keys(i).includes(e))return A.log("Found key ".concat(e," with value ").concat(i[e])),i[e]}}catch(e){a.e(e)}finally{a.f()}return A.log("Key ".concat(e," not found in dataLayer")),null},C=new I("Nextday Url Checker"),E=function(e){C.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return C.log("Checking path ".concat(a," matches rule path ").concat(r)),ae(a,n,r)}};function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.beagleInfoLayer=window.beagleInfoLayer||{checkpoints:[],a:{},e:{}};var R={PageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,content_name:/(?:content_name[ ]*:[ ]*")(.*)(?:")/,content_name_alt:/(?:content_name'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAPageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderId:/(?:purchase[\s\S]*actionField[\s\S]*'id'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderRev:/(?:purchase[\s\S]*actionField[\s\S]*'revenue'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderType:/(?:purchase[\s\S]*actionField[\s\S]*'dimension15'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAIsAdmin:/(?:dataLayer[\s\S]*'isAdmin'[ ]*:[ ]*")(.*)(?:")/},q={BeagleLoaded:1,Initialized:2,UserOnOff:3,ScriptTimeOut:7,TreatmentRepositoryCreated:4,TreatmentsApplied:5,ReapplyTreatmentListeners:6,TimeoutThresholdReached:8},U=new I("BeagleInfoLayer"),M=function(){U.log("Initializing beagleInfoLayer"),J();var e=document.getElementsByTagName("script");if(e&&e.length)for(var t=0,n=e.length-1;n>-1;n--)for(var r=e[n].textContent,o=0,a=Object.keys(R);o<a.length;o++){var i=a[o],c=R[i].exec(r);if(c=c?c[1]:null){i.indexOf("_alt")>0&&(i=i.substring(0,i.lastIndexOf("_alt")));try{F(i,decodeURIComponent(JSON.parse('"'+c+'"')))}catch(e){U.warn("Could not decode foundVal ".concat(c)),F(i,null)}if((t+=1)===Object.keys(R).length)return}}else U.warn("Could not parse body")},V=function(e){try{U.log("Checkpoint: '".concat(e,"' Reached!")),window.beagleInfoLayer.checkpoints.push({checkpoint:Object.keys(q).find((function(t){return q[t]===e})),id:e,time:Date.now()})}catch(e){U.warn(e)}},F=function(e,t){null!=e&&null!=t&&(window.beagleInfoLayer[e]=t)},B=function(e,t){window.beagleInfoLayer.a[e]=t},J=function(){var e,t,n,r,o,a,i,c,s,u,l,d,f,p,v,h,m,y,w,b,k,x,S,I,L,A,O,T,C,E,P,_,D,R,q,M,V,B,J,G,H,$,z,W,K=crypto.randomUUID(),Q=sessionStorage.getItem(g),Y=new URL(window.location.href),Z=(null===(e=window.navigator)||void 0===e||null===(t=e.userAgentData)||void 0===t?void 0:t.platform)||(null===(n=window.navigator)||void 0===n?void 0:n.platform)||(null===(r=window.navigator)||void 0===r?void 0:r.userAgent),ee={},te=j(window.dataLayer);try{for(te.s();!(W=te.n()).done;){var ne=W.value;ee=N(N({},ee),ne)}}catch(e){te.e(e)}finally{te.f()}var re=JSON.parse(X(document.cookie,"VL_CM_0")),oe={};if(re&&re.Items){var ae,ie=j(re.Items);try{for(ie.s();!(ae=ie.n()).done;){var ce=ae.value;oe[ce.K]=decodeURIComponent(ce.V)}}catch(e){ie.e(e)}finally{ie.f()}}F("cookieVLPVinVisit",oe.VL_PVCountInVisit),F("cookieVLVisitDuration",oe.VL_TotalDuration),F("cookieVLTotalPV",oe.VL_TotalPV),F("cookieVLTotalVisit",oe.VL_TotalVisit),F("gaPageType",ee.PageType),F("gaProductName",ee.content_name),F("gaViewType",ee.content_type),F("gaProductCategory",ee.content_category),F("gaProductID",ee.content_ids),F("vvsProductCategory",ee.vivense_category),F("gaListingName",null===(o=ee.ecommerce)||void 0===o||null===(a=o.detail)||void 0===a||null===(i=a.actionField)||void 0===i?void 0:i.list),F("vvsIsShowroom",void 0===window.isAdmin?ee.isAdmin:window.isAdmin),F("vvsProductGroup",ee.productGroup),F("vvsUserId",ee.userId),F("vvsCategory",ee.vivense_category),F("gaCategoryProductCont",ee.category_product_count),F("gaCartProducts",(null===(c=ee.ecommerce)||void 0===c||null===(s=c.checkout)||void 0===s?void 0:s.products)||(null===(u=ee.ecommerce)||void 0===u||null===(l=u.purchase)||void 0===l?void 0:l.products)),F("vvsPDPProduct",null===(d=ee.vivenseProducts)||void 0===d?void 0:d.pop()),F("gaPurchaseId",null===(f=ee.ecommerce)||void 0===f||null===(p=f.purchase)||void 0===p||null===(v=p.actionField)||void 0===v?void 0:v.id),F("gaPurchaseRevenue",null===(h=ee.ecommerce)||void 0===h||null===(m=h.purchase)||void 0===m||null===(y=m.actionField)||void 0===y?void 0:y.revenue),F("gaPurchasePayType",null===(w=ee.ecommerce)||void 0===w||null===(b=w.purchase)||void 0===b||null===(k=b.actionField)||void 0===k?void 0:k.dimension15),F("windowParams",window.location.search),F("windowPRatio",window.devicePixelRatio),F("windowInner",window.innerWidth);var se={};se.availHeight=null===(x=window.screen)||void 0===x?void 0:x.availHeight,se.availHeight=null===(S=window.screen)||void 0===S?void 0:S.availHeight,se.availLeft=null===(I=window.screen)||void 0===I?void 0:I.availLeft,se.availTop=null===(L=window.screen)||void 0===L?void 0:L.availTop,se.availWidth=null===(A=window.screen)||void 0===A?void 0:A.availWidth,se.colorDepth=null===(O=window.screen)||void 0===O?void 0:O.colorDepth,se.height=null===(T=window.screen)||void 0===T?void 0:T.height,se.pixelDepth=null===(C=window.screen)||void 0===C?void 0:C.pixelDepth,se.width=null===(E=window.screen)||void 0===E?void 0:E.width,F("windowScreen",se);var ue={};if(ue.height=null===(P=window.visualViewport)||void 0===P?void 0:P.height,ue.offsetLeft=null===(_=window.visualViewport)||void 0===_?void 0:_.offsetLeft,ue.offsetTop=null===(D=window.visualViewport)||void 0===D?void 0:D.offsetTop,ue.onresize=null===(R=window.visualViewport)||void 0===R?void 0:R.onresize,ue.onscroll=null===(q=window.visualViewport)||void 0===q?void 0:q.onscroll,ue.pageLeft=null===(M=window.visualViewport)||void 0===M?void 0:M.pageLeft,ue.pageTop=null===(V=window.visualViewport)||void 0===V?void 0:V.pageTop,ue.scale=null===(B=window.visualViewport)||void 0===B?void 0:B.scale,ue.width=null===(J=window.visualViewport)||void 0===J?void 0:J.width,F("windowVPort",ue),screen.width){var le=parseInt(screen.width),de=screen.height?parseInt(screen.height):0;if(0!==le&&0!==de){if(/iPad|iPhone|iPod/.test(Z)&&window.devicePixelRatio)le=Math.round(le*window.devicePixelRatio),de=Math.round(de*window.devicePixelRatio);else if(90===Math.abs(window.orientation)){var pe=le;le=de,de=pe}F("window",le+"x"+de)}}if(F("navHistSize",null===(G=window.history)||void 0===G?void 0:G.length),F("navAgent",navigator.userAgent),!window.beagleInfoLayer.navAgent&&navigator.userAgentData){var ve,ge,he,me,ye,we=null===(ve=navigator)||void 0===ve||null===(ge=ve.userAgentData)||void 0===ge||null===(he=ge.brands)||void 0===he?void 0:he.map((function(e){return e.brand+":"+e.version})).join();we+=null!==(me=navigator)&&void 0!==me&&null!==(ye=me.userAgentData)&&void 0!==ye&&ye.mobile?"mobi":" ",F("navAgent",we+=Z)}F("navHWCores",navigator.hardwareConcurrency),F("navLanguage",navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage),F("navTouch",navigator.maxTouchPoints),F("navPlatform",Z),F("navVendor",navigator.vendor),F("cookieGaId",X(document.cookie,"_ga")),F("cookieLastBreadCrumb",X(document.cookie,"lastbreadcrumb")),F("cookieLastCategory",X(document.cookie,"lastcategory")),F("cookieFirstEntry",decodeURIComponent(X(document.cookie,"vivensefirst")));var be={};if(window.performance&&window.performance.getEntriesByType("navigation")[0]){var ke=window.performance.getEntriesByType("navigation")[0];be.pld=Math.round(ke.domContentLoadedEventEnd-ke.connectStart),be.net=Math.round(ke.connectEnd-ke.fetchStart),be.srv=Math.round(ke.responseStart-ke.requestStart),be.tfr=Math.round(ke.responseEnd-ke.responseStart),be.dmi=Math.round(ke.domInteractive-ke.responseEnd),be.dcp=Math.round(ke.domComplete-ke.domInteractive),be.onl=Math.round(ke.loadEventEnd-ke.loadEventStart)}F("perfMetrics",be),F("internetSpeed",null===(H=window.navigator)||void 0===H||null===($=H.connection)||void 0===$?void 0:$.downlink);var xe,Se,Ie=j(document.querySelectorAll('[type="application/ld+json"]'));try{for(Ie.s();!(xe=Ie.n()).done;){var Le=xe.value;try{var Ae=Le.textContent,Oe=JSON.parse(Ae),Te="@";switch(Oe["@type"]){case"Organization":case"WebSite":break;case"CollectionPage":var Ce,Ee=j(Oe.breadcrumb.itemListElement);try{for(Ee.s();!(Ce=Ee.n()).done;)Te+=" | "+Ce.value.item.name}catch(e){Ee.e(e)}finally{Ee.f()}F("sorgBreadcrumb",Te);var Pe={};Pe.name=Oe.mainEntity.name,Pe.countItems=Oe.mainEntity.numberOfItems,F("sorgListing",Pe);break;case"BreadcrumbList":var _e,Ne=j(Oe.itemListElement);try{for(Ne.s();!(_e=Ne.n()).done;)Te+=" | "+_e.value.name}catch(e){Ne.e(e)}finally{Ne.f()}F("sorgBreadcrumb",Te);break;case"Product":var je={};je.sku=Oe.sku,je.name=Oe.name,Oe.offers&&(je.price=Oe.offers.price,je.priceCurrency=Oe.offers.priceCurrency,je.priceValidUntil=Oe.offers.priceValidUntil),F("sorgProduct",je);break;default:console.log(Oe)}}catch(e){U.warn(e.message)}}}catch(e){Ie.e(e)}finally{Ie.f()}F("v","0.0.27"),F("n","nextday-session_id-".concat(Q)),F("sr",50),F("donttrack",navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack),F("u",Y.href),F("d",Y.hostname),F("r",document.referrer),F("vId",K),F("isOn",null);try{F("vvsCntFavProds",window.favoriteProducts?JSON.parse(window.favoriteProducts).length:null)}catch(e){F("vvsCntFavProds",null),U.warn(e.message)}F("vvsHasSetEmail",window.userEmail.length>0),F("vvsLoginType",window.userId>0?"member":"guest"),Se=document.querySelector('[class*="basket_summary_total"], [class*="total_row"]'),F("vvsPurcPriceElt",Se?Se.innerText:null),Se=document.querySelector('[class*="order_follow_numb"], [class*="cart-title-bottom"]'),F("vvsPurchaseOrderID",Se?Se.innerText:null),Se=document.querySelector('[class*="payment_type_title"], [class*="cart-title-info"]'),F("vvsPurcTypeElt",Se?Se.innerText:null),Se=document.querySelector('[id*="breadcrumb-ol"], [class*="long-breadcrumb"]'),F("vvsViewCrumb",Se?Se.innerText:null),Se=document.querySelector('[class*="order-final-number"]'),F("vvsCartTotal",Se?Se.innerText:null),Se=document.querySelector('[class*="basket_total_price"]'),F("vvsViewBasketTotal",Se?Se.innerText:null),Se=document.querySelector('[id*="cart_quantity"], [class*="basket_length"]'),F("vvsViewBasketCount",Se?Se.innerText:null),Se=document.querySelector('[class*="welcome_username"]'),F("vvsViewLoggedin",!!Se&&Se.innerText.length>0),Se=document.querySelectorAll('[class*="vivense-showrooms"] > *'),F("vvsPDPShowroomCount",Se?Se.length:null),Se=document.querySelector('[class*="delivery-date"]'),F("vvsPDPDeliveryDate",Se?Se.innerText:null),F("vvsPDPDeliveryDateFormatted",fe(null===(z=Se)||void 0===z?void 0:z.innerText)),Se=document.querySelector('[class*="product-title"], [class*="header-bottom"]'),F("vvsPDPTitle",Se?Se.innerText:null),Se=document.querySelector('[class*="count-of-product"]'),F("vvsPLPItemCount",Se?Se.innerText:null),Se=document.querySelector('[class*="subcategories-title"]'),F("vvsPLPName",Se?Se.innerText:null)};function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=new I("Nextday Utils"),W={ocak:0,"şubat":1,mart:2,nisan:3,"mayıs":4,haziran:5,temmuz:6,"ağustos":7,"eylül":8,ekim:9,"kasım":10,"aralık":11};"randomUUID"in crypto||ie();var K=function(){document.documentElement.classList.remove("nextDay-hide")},Q=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z.log("Fetching treatment weights"),e.next=3,fetch("https://host-b96.pages.dev/weights.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},Z=function(){var e=c(u().mark((function e(t){var n,r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=8+(n=9),t){e.next=5;break}return e.abrupt("return",-1);case 5:return e.next=7,ee(t);case 7:return o=e.sent,a=parseInt(o.substring(n,r),16),e.abrupt("return",a%100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=c(u().mark((function e(t){var n,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,o=Array.from(new Uint8Array(r)),e.abrupt("return",o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(e){var t=document.documentElement.scrollTop,n=setInterval((function(){var r=document.documentElement.scrollTop;t-400>r?(clearInterval(n),e()):t=r}),500)},ne=function(e,t){z.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],a=0,i=Object.entries(t);a<i.length;a++){var c=o(i[a],2),s=c[0],u=c[1];r.style[s]=u}},re=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="https://host-b96.pages.dev/nd-styles.css",document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=c(u().mark((function e(t,n,r){var o,a,i,c,s,l,d,f,p,v,g,h,m,y,w,b,k,x,S,I,L;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=JSON.parse(JSON.stringify(n)),a=null,i=G(o),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=55;break}if(s=c.value,l=s.businessRuleTransformations,d=s.variants,l||d){e.next=10;break}return e.abrupt("continue",53);case 10:if(r&&l){f=G(l);try{for(f.s();!(p=f.n()).done;)if((v=p.value).id===r)for(g in v)"id"!==g&&(s[g]=v[g])}catch(e){f.e(e)}finally{f.f()}}if(!d){e.next=53;break}h=0,m=Object.keys(d);case 13:if(!(h<m.length)){e.next=53;break}return y=m[h],e.next=17,Z(t+y);case 17:if(!(e.sent<s.variants[y].weight)){e.next=50;break}if(a=y,!r||!d[y].businessRuleTransformations){e.next=48;break}w=G(d[y].businessRuleTransformations),e.prev=22,w.s();case 24:if((b=w.n()).done){e.next=38;break}if((k=b.value).id!=r){e.next=36;break}x=0,S=Object.keys(k);case 28:if(!(x<S.length)){e.next=36;break}if("id"!==(I=S[x])){e.next=32;break}return e.abrupt("continue",33);case 32:s[I]=k[I];case 33:x++,e.next=28;break;case 36:e.next=24;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(22),w.e(e.t0);case 43:return e.prev=43,w.f(),e.finish(43);case 46:e.next=49;break;case 48:for(L in d[y])"weight"!==L&&"businessRuleTransformations"!==L&&(s[L]=d[y][L]);case 49:return e.abrupt("break",53);case 50:h++,e.next=13;break;case 53:e.next=5;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(3),i.e(e.t1);case 60:return e.prev=60,i.f(),e.finish(60);case 63:return e.abrupt("return",[o,a]);case 64:case"end":return e.stop()}}),e,null,[[3,57,60,63],[22,40,43,46]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ae=function(e,t,n){if("notExist"===t)return e?(z.log("conditionChecker: -not satisfied- target does exist"),!1):(z.log("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return z.log("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(z.log("conditionChecker: -satisfied- target does exist"),!0):(z.log("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(z.log("conditionChecker: -satisfied- target contains value"),!0):(z.log("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(z.log("conditionChecker: -not satisfied- target contains value"),!1):(z.log("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(z.log("conditionChecker: -satisfied- target equals value"),!0):(z.log("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(z.log("conditionChecker: -satisfied- target does not equal value"),!0):(z.log("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(z.log("conditionChecker: -satisfied- target is greater than value"),!0):(z.log("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(z.log("conditionChecker: -satisfied- target is less than value"),!0):(z.log("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(z.log("conditionChecker: -satisfied- target is greater or equal than value"),!0):(z.log("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(z.log("conditionChecker: -satisfied- target is less or equal than value"),!0):(z.log("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=o(n.split(","),2),a=r[0],i=r[1];return a=parseInt(a),i=parseInt(i),e>=a&&e<=i?(z.log("conditionChecker: -satisfied- target is between min and max"),!0):(z.log("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return z.log("conditionChecker: condition is not defined ",t),!1}},ie=function(){crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},ce=function(){var e=x,t=window.location.search;if(t.includes("nd_debug=1"))return window.localStorage.setItem(e,1),F("dbm","on"),1;if(t.includes("nd_debug=2"))return window.localStorage.setItem(e,2),F("dbm","on"),2;if(t.includes("nd_debug=0"))return window.localStorage.removeItem(e),F("dbm","off"),0;var n=parseInt(window.localStorage.getItem(e));return F("dbm",n?"on":"off"),n||0},se=function(){var e=c(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"_ga",e.abrupt("return",new Promise((function(e,n){var r=X(document.cookie,t);if(r)e(r);else{var o=setInterval((function(){(r=X(document.cookie,t))&&(clearInterval(o),e(r))}),10);setTimeout((function(){clearInterval(o),n(new Error("Could not extract cookie identifier"))}),1e3)}})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(e){return new Promise((function(t){return setTimeout(t,e)}))},le=function(){var e=b,t=[],n={operator:"PageType",condition:"equal",value:"Homepage"};if(O(n))return null;if(n.value="Listingpage",O(n))return Array.from(document.querySelectorAll(".product-card")).forEach((function(e){t.push(e.getAttribute("data-product-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(z.log("Product SKUs not found on Listingpage"),null);if(n.value="Productpage",O(n)){var r,o,a,i=document.querySelector(".product-sku");return i?(t.push(i.getAttribute("data-sku")||(null===(r=i.textContent)||void 0===r||null===(o=r.trim())||void 0===o||null===(a=o.replace(/\)/g,""))||void 0===a?void 0:a.replace(/\(/g,""))),sessionStorage.setItem(e,JSON.stringify(t)),t):(z.log("Product SKU not found on Productpage"),null)}return n.operator="path",n.value="/siparis-listesi.html",E(n)?(Array.from(document.querySelectorAll(".cart-inside")).forEach((function(e){t.push(e.getAttribute("data-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(z.log("Product SKUs not found on basket page"),null)):(z.log("Unidentified page type"),null)},de=function(){return navigator.sendBeacon&&"function"==typeof navigator.sendBeacon},fe=function(e){if(!e||"string"!=typeof e)return e;var t=e.match("([\\d]+)-([\\d]+)\\s?([\\wıüğşöçİÖÇĞÜ]+)");if(!t||4!==t.length)return e;try{var n=new Date,r=W[t[3].toLowerCase()];if(!r)return e;var o=r>=n.getMonth()?n.getFullYear():n.getFullYear()+1,a=new Date(o,r,parseInt(t[1])),i=new Date(o,r,parseInt(t[2])),c=Math.ceil(Math.abs(a-n)/864e5),s=Math.ceil(Math.abs(i-n)/864e5),u=c<7?0:Math.ceil(c/7),l=s<7?0:Math.ceil(s/7);return 0===u&&0===l?"".concat(c," - ").concat(s," GÜN İÇİNDE"):0===u&&l>=1?"".concat(c," GÜN - ").concat(l," HAFTA İÇİNDE"):u===l?"".concat(u," HAFTA İÇİNDE"):"".concat(u," - ").concat(l," HAFTA İÇİNDE")}catch(t){return e}},pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";var r=e.indexOf(t);if(r<0)return e;for(;e.indexOf(t)>=0;){var o=e.indexOf(t);e=(o>0?e.substring(0,o):"")+n+e.substring(o+t.length)}return e};function ve(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(){return he=c(u().mark((function e(t,n){var r,o,a,i,s,l,d,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new I("Nextday Apply Treatments"),o=w,a=function(e){r.log("Applying treatment: ",JSON.stringify(e));var t=e.operator,a=e.type,c=e.applyEvent,s=e.contentSelector,u=e.selector,p=e.selectorFallback,g=e.mdCondition,h=e.move_selector_1,m=e.move_selector_2,y=e.replaceFn,w=e.value,b=$(u);if(!g||window.matchMedia(g).matches)if(h&&!m||m&&!h)r.log("Both move selectors are required");else{if(h&&m){if(!$(h).length)return void r.log("Move selector 1 not found: ",h);if(!$(m).length)return void r.log("Move selector 2 not found: ",m)}else{if(!u)return void r.log("Selector not specified");if(!b.length&&"no-selector"!==u&&(r.log("Selector not found: ",u),r.log("Trying fallback selector: ",p),p&&(b=$(p)),!b.length))return void r.log("Fallback selector not found")}var k=function(e,t){if(e&&t.includes("{{REPLACE}}")){r.log("Executing replace function: ",e);var o={dataLayerFinder:T,productInfo:n},a=Function(e).bind(o);t=pe(t,"{{REPLACE}}",a())}return t};if(Array.isArray(w)?w.forEach((function(e,t){var n=y?y[t]||y:"";w[t]=k(n,e)})):w=k(y,w),"remove"===t)b&&(r.log("Removing: ",u),b.remove()),r.log("Cannot found element with selector: ",u);else if("insert"===t)switch(a){case"before":r.log("Inserting before: ",w),String(w).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),b.before(w);break;case"after":r.log("Inserting after: ",w),b.after(w);break;case"popup":if(0!==parseInt(sessionStorage.getItem(o))){r.log("Popup already displayed in session");break}if(r.log("Creating Popup: ",w),d(w,s),c){var x,S=window.matchMedia(v).matches,I=ve(c);try{for(I.s();!(x=I.n()).done;)switch(x.value){case"exitIntent":r.log("Adding exit intent listener"),S?te(l):document.documentElement.addEventListener("mouseleave",l,{once:!0});break;case"copyIntent":r.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",l,{once:!0})}}catch(e){I.e(e)}finally{I.f()}}else setTimeout((function(){l()}),timeout)}else if("edit"===t)switch(a){case"text":r.log("Editing text: ",w),b.text(w);break;case"html":r.log("Editing html: ",w),b.html(w);break;case"styleApplicator":r.log("Applying style: ",w);var L=JSON.parse(w);r.log("Style Changes Map: ",L),ne(b,L);break;case"addClass":r.log("addding class to ".concat(b," named ").concat(w)),b.addClass(w);break;case"removeClass":r.log("remove class from ".concat(b," named ").concat(w)),b.removeClass(w);break;case"documentTitle":if(r.log("changing document title from ".concat(b," to ").concat(w)),c){var A,O=ve(c);try{for(O.s();!(A=O.n()).done;)"tabChange"==A.value&&function(){r.log("catching event tabchange..");var e=document.title;document.addEventListener("visibilitychange",(function(t){return i(t,w,e)}))}()}catch(e){O.e(e)}finally{O.f()}}break;case"addBanner":if(!n){r.log("Product info unavailable");break}r.log("Adding banner: ",w);var C=JSON.parse(sessionStorage.getItem("ND_SkuList"))[0];if(!C){r.log("Could not find product sku");break}Object.keys(n).includes(C)&&b.before(w);break;default:r.log("Unknown edit type: ",a)}else if("setattribute"===t)switch(r.log("Setting attribute: ",attribute,w),attribute){case"src":b.css("content","url(".concat(w.trim(),")"));break;case"style":var E=w.split(":")[0].trim(),P=w.split(":")[1].trim();b.css(E,P,"!important")}else if("replace"===t)r.log("Replacing: ",w),b.replaceAll(w);else if("swap"===t){r.log("Swapping: ",h,m);var _=document.querySelector(h),N=document.querySelector(m);f(_,N)}else if("injectscript"===t)r.log("Injecting script: ",w),b.append("<script>".concat(w,"<\/script>"));else if("move"===t){r.log("Moving ".concat(h," to ").concat(m));var j=document.querySelector(h),D=document.querySelector(m);j.remove(),D.prepend(j)}else"noop"===t?r.log("Noop Operator: No operation is applied on target "):r.log("No such operator exists yet",t)}else r.log("Media condition mismatch: ",g)},i=function(){var e=c(u().mark((function e(t,n,r){var o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.isArray(n)?n:[n],a=0;case 2:if(!(a<o.length)){e.next=16;break}if(!document.hidden){e.next=12;break}return document.title=o[a],e.next=7,ue(3e3);case 7:return document.title=r,e.next=10,ue(3e3);case 10:e.next=13;break;case 12:document.title=r;case 13:a++,e.next=2;break;case 16:if(document.hidden){e.next=21;break}return document.title=r,e.abrupt("return");case 21:i(t,n,r);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0))},l=function e(){sessionStorage.setItem(o,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",s,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",s,!0)}),15e3)},d=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",s,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var i=a.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},f=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var c=0;c<a.children.length;c++)a.children[c].isEqualNode(t)&&(r=c);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},function e(t){if(window.jQuery){var n,o=ve(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;try{a(i)}catch(e){r.log("Couldn't apply treatment ".concat(i.id," with error ").concat(e.message));continue}}}catch(e){o.e(e)}finally{o.f()}}else setTimeout((function(){e(t)}),10)}(t);case 10:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}var me=function(e,t){return he.apply(this,arguments)};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(){function e(){l(this,e),this.logger=new I("Nextday Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentsHash=null,this.appliedTreatmentsChanges=!1,this.eligibleNotAppliedTreatmentsHash=null,this.eligibleNotAppliedTreatmentsChanges=!1,this.headers={type:"application/json"},this.isLogged=!1,this.initializeExitEventListeners()}var t,n,r;return f(e,[{key:"sendLogs",value:(r=c(u().mark((function e(){var t,n,r,o=this,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:null,n=a.length>1&&void 0!==a[1]&&a[1],(r=this.logger).log("Sending logs"),"complete"!==document.readyState?(r.log("Document ready state is not complete"),window.addEventListener("load",(function(){r.log("In onload event"),o.handleQueueLogs(o.packageLogData(t),n)}),!0)):this.handleQueueLogs(this.packageLogData(t),n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"handleQueueLogs",value:(n=c(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>1&&void 0!==r[1]&&r[1]||!this.isLogged){e.next=3;break}return e.abrupt("return");case 3:if(n=this.logger,t){e.next=7;break}return n.log("Could not create request blob"),e.abrupt("return");case 7:return n.log("Request blob to send: ",t),this.queueLogs(t),this.isLogged=!0,e.next=12,ee(JSON.stringify(window.beagleInfoLayer.a));case 12:return this.appliedTreatmentsHash=e.sent,e.next=15,ee(JSON.stringify(window.beagleInfoLayer.e));case 15:this.eligibleNotAppliedTreatmentsHash=e.sent;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateLatestChanges",value:(t=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.log("Checking if there are changes"),e.next=4,ee(JSON.stringify(window.beagleInfoLayer.a));case 4:return t=e.sent,e.next=7,ee(JSON.stringify(window.beagleInfoLayer.e));case 7:n=e.sent,t!==this.appliedTreatmentsHash&&(this.appliedTreatmentsChanges=!0,this.appliedTreatmentsHash=t),n!==this.eligibleNotAppliedTreatmentsHash&&(this.eligibleNotAppliedTreatmentsChanges=!0,this.eligibleNotAppliedTreatmentsHash=n);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"packageLogData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.headers,n=we({},window.beagleInfoLayer),r=e||(Object.keys(n.a||{}).length?"Treatments applied":"No treatments applied");return n.t=Date.now(),n.m=r,new Blob([JSON.stringify(n)],t)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.appliedTreatmentsChanges,n=this.eligibleNotAppliedTreatmentsChanges;if(!t&&!n)return!1;var r={t:Date.now(),a:t?window.beagleInfoLayer.a:{},e:n?window.beagleInfoLayer.e:{},vId:window.beagleInfoLayer.vId};return new Blob([JSON.stringify(r)],e)}},{key:"initializeExitEventListeners",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(e.isLogged){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0}),window.addEventListener("pagehide",(function(){if(e.isLogged){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger;if(de()){var n=navigator.sendBeacon(p,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(p,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}else fetch(p,e)}}]),e}(),ke=be;function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ie=new I("Nextday Treatment Repository"),Le=function(){function e(t){l(this,e);var n=t.cookiePct,r=t.treatments,o=t.treatmentWeights;this.treatments=r,this.cookiePct=n,this.treatmentWeights=o}var t,n;return f(e,[{key:"getMatchedTreatments",value:function(){var e=this.treatmentWeights,t=this.getUserGroup(),n=this.treatments;if(e){var r,o=t&&e[t]?e[t]:e.default,a=xe(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(o[i.id]&&(i.weight=o[i.id].weight,i.actions.find((function(e){return e.variants})))){var c,s=xe(i.actions);try{for(s.s();!(c=s.n()).done;){var u=c.value;if(u.variants)for(var l=0,d=Object.keys(u.variants);l<d.length;l++){var f=d[l];u.variants[f].weight=o[i.id].variants[f]}}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){a.e(e)}finally{a.f()}}return Ie.log("".concat(n.length," treatments user group matched")),n.length?n:[]}},{key:"getUserGroup",value:function(){return window.matchMedia(v).matches?"UGB":"UGA"}}],[{key:"getTreatments",value:(n=c(u().mark((function e(){var t,n,r,o,a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ie.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return Ie.log("Treatments not found in local storage"),e.next=9,Q();case 9:return r=e.sent,a={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return Ie.log("Treatments are expired"),e.next=19,Q();case 19:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 23:return Ie.log("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getTreatmentWeights",value:(t=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),Ie.warn(e.t0.message),this.treatmentWeights=null;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return t.apply(this,arguments)})}]),e}(),Ae=Le,Oe=new I("Nextday Counter Checker"),Te=function(e){Oe.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return Ee(n,r);case"CABasketPrice":return Pe(n,r);default:return Oe.log("No such operator",t),!1}},Ce=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return Oe.log("No such type",t),null}}catch(t){return Oe.log("Could not get counter ".concat(e),t),null}},Ee=function(e,t){var n=parseInt(Ce(y,"session"));return Oe.log("Page views counter value: ",n),null===n?(Oe.log("Pageviews counter not found in session storage"),!1):ae(n,e,parseInt(t))},Pe=function(e,t){var n=parseInt(Ce(k,"local"));return Oe.log("Coupon applicable basket price counter value: ",n),null===n?(Oe.log("Coupon applicable basket price counter not found in local storage"),!1):ae(n,e,parseInt(t))},_e=new I("Nextday Element Checker"),Ne=function(e){_e.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,c=e.selectorFallback,s=void 0===c?null:c,u=a;if(u&&!document.querySelector(u)&&(u=s||u),null===n)return ae(document.querySelector(u),r,o);if(u&&!document.querySelector(u))return _e.log("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return _e.log("Selector not found on page"),!1;switch(u?t=document.querySelector(u):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var l;l=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(u).textContent.replace("TL","").replace(".",""));var d=parseInt(l);return ae(d,r,o);case"classList":return ae(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return ae(f,r,o);default:return _e.log("Operator not defined"),!1}},je=new I("Nextday Function Checker"),De=function(e,t){je.log("Checking rule",JSON.stringify(e));var n=t.productInfo,r=e.operator,o=e.condition,a=e.value,i=e.bindings;if(!r)return je.log("Rule function not defined"),!1;var c={};"productInfo"==i&&(c={productInfo:n});var s=Function(r).bind(c)();return ae(s,o,a)},Re=new I("Nextday Session Checker"),qe=function(e){Re.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"duration":return Ue(n,r);case"history":return Me(n,r);default:return null}},Ue=function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(window.sessionStorage.getItem(h)))}catch(e){return Re.log("Could not get session timestamp",e),Date.now()}}())/1e3;return ae(n,e,parseInt(t))},Me=function(e,t){var n,r=null===(n=window.sessionStorage.getItem(m))||void 0===n?void 0:n.split(",");return ae(r,e,t)},Ve=new I("Nextday Env Checker"),Fe=function(e){Ve.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(v).matches?"mobile":"desktop";return ae(o,n,r)}},Be=new I("Nextday RandomPct Checker"),Je=function(){var e=c(u().mark((function e(t){var n,r,o,a,i,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Be.log("Checking rule",JSON.stringify(t)),n=t.condition,r=t.value,o=t.salt){e.next=5;break}return Be.log("Salt is not defined"),e.abrupt("return",!1);case 5:return e.next=7,se();case 7:return a=e.sent,e.next=10,Z(a+o);case 10:return i=e.sent,c=i,e.abrupt("return",ae(c,n,r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ge(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $e=new I("Nextday Rule Engine"),ze=function(){function e(t){l(this,e);var n=t.baseRuleSet,r=t.businessRuleSet,o=t.bindings,a=t.callback,i=void 0===a?null:a;this.baseRuleSet=n,this.businessRuleSet=r,this.callback=i,this.bindings=o}var t,n,r;return f(e,[{key:"checkRules",value:(r=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ge(this.baseRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return r.apply(this,arguments)})},{key:"checkBusinessRules",value:(n=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ge(this.businessRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.businessRuleId);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return n.apply(this,arguments)})},{key:"checkRule",value:(t=c(u().mark((function e(t){var n,r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.chain,r=t.chain_condition,o=t.type,a=null,e.t0=o,e.next="session"===e.t0?5:"counter"===e.t0?7:"element"===e.t0?9:"dataLayer"===e.t0?11:"url"===e.t0?13:"function"===e.t0?15:"environment"===e.t0?17:"random"===e.t0?19:23;break;case 5:return a=qe(t),e.abrupt("break",25);case 7:return a=Te(t),e.abrupt("break",25);case 9:return a=Ne(t),e.abrupt("break",25);case 11:return a=O(t),e.abrupt("break",25);case 13:return a=E(t),e.abrupt("break",25);case 15:return a=De(t,this.bindings),e.abrupt("break",25);case 17:return a=Fe(t),e.abrupt("break",25);case 19:return e.next=21,Je(t);case 21:return a=e.sent,e.abrupt("break",25);case 23:return $e.log("No such rule type: ".concat(o)),e.abrupt("return",null);case 25:if(!n){e.next=51;break}e.t1=r,e.next="and"===e.t1?29:"or"===e.t1?36:"xor"===e.t1?43:49;break;case 29:if(e.t2=a,!e.t2){e.next=34;break}return e.next=33,this.checkRule(n);case 33:e.t2=e.sent;case 34:return a=e.t2,e.abrupt("break",51);case 36:if(e.t3=a,e.t3){e.next=41;break}return e.next=40,this.checkRule(n);case 40:e.t3=e.sent;case 41:return a=e.t3,e.abrupt("break",51);case 43:return e.t4=a,e.next=46,this.checkRule(n);case 46:return e.t5=e.sent,a=e.t4!=e.t5,e.abrupt("break",51);case 49:return $e.log("No such chain condition"),e.abrupt("break",51);case 51:return e.abrupt("return",a);case 52:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),We=new I("Nextday Api"),Ke=function(){var e=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(We.log("Starting product info lookup"),t=le()){e.next=5;break}return We.log("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.prev=7,e.next=10,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),We.warn("Fetch to catalog api failed"),e.abrupt("return",null);case 17:if(r.ok){e.next=20;break}return We.log("Product info lookup failed"),e.abrupt("return",null);case 20:return e.next=22,r.json();case 22:if(r=e.sent){e.next=26;break}return We.log("Product info extraction from response failed"),e.abrupt("return",null);case 26:return We.log("Product info lookup successful"),e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}();function Qe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}c(u().mark((function t(){var n,r,i,s,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V(q.BeagleLoaded),n=null,r=new I,i="ND_TimeoutCount",s=0,r.info("Nextday initializing"),t.prev=6,t.delegateYield(u().mark((function e(){var t,l,d,f,p,b,x,S,I,L,A,O,T,C,E,P,_,N,j,D,R,U,J,G,H,$,z,W,Q,Y;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(),d=Ke(),f=ce(),n=new ke,V(q.Initialized),e.next=7,se();case 7:return p=e.sent,r.log("Found cookie identifier: ",p),e.next=11,Z(p);case 11:if(b=e.sent,f){e.next=29;break}if(!(b<50)){e.next=19;break}if(-1!==b){e.next=16;break}throw new Error("Could not determine cookie pct");case 16:F("isOn",!1),e.next=20;break;case 19:F("isOn",!0);case 20:if(V(q.UserOnOff),de()){e.next=23;break}throw new Error("sendBeacon is not supported");case 23:if(!((s=parseInt(sessionStorage.getItem(i))||0)>1)){e.next=27;break}throw V(q.TimeoutThresholdReached),new Error("Nextday timeout threshold reached");case 27:e.next=30;break;case 29:r.info("Debug mode on: all applicable treatments will be applied");case 30:if(document.documentElement.classList.contains("nextDay-hide")){e.next=34;break}throw V(q.ScriptTimeOut),sessionStorage.setItem(i,s+1),new Error("Nextday script timed out");case 34:if(window.dataLayer=window.dataLayer||[],!0===(null===(t=window.beagleInfoLayer)||void 0===t?void 0:t.isOn)?window.dataLayer.push({event:"GLOV",GLOV_ON:"true"}):!1===(null===(l=window.beagleInfoLayer)||void 0===l?void 0:l.isOn)&&window.dataLayer.push({event:"GLOV",GLOV_ON:"false"}),!1!==window.beagleInfoLayer.isOn){e.next=38;break}throw new Error("Control group: no treatments applied");case 38:return n.sendLogs(),x=window.location.search,S=f&&x.includes("filter=")?x.slice(x.indexOf("[")+1,x.lastIndexOf("]")).split(",").map((function(e){return parseInt(e,10)})):null,re(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,X=y,ee=w,te=g,ne=h,ae=m,ie=sessionStorage.getItem(X),ue=sessionStorage.getItem(ee),le=sessionStorage.getItem(te),fe=sessionStorage.getItem(ne),pe=sessionStorage.getItem(ae),ie?sessionStorage.setItem(X,parseInt(ie)+1):sessionStorage.setItem(X,1),null===ue&&sessionStorage.setItem(ee,0),le||sessionStorage.setItem(te,crypto.randomUUID()),fe||sessionStorage.setItem(ne,Date.now()),pe?sessionStorage.setItem(ae,[window.location.pathname,pe]):sessionStorage.setItem(ae,[window.location.pathname]),setTimeout((function(){K()}),2e3),I=Ae.getTreatments(),L=Ae.getTreatmentWeights(),A=window.matchMedia(v).matches,O={subtree:!0,childList:!0,attributes:!0},T=function(){var e=c(u().mark((function e(t){var n,i,s,l,d,v,g,h,m,y,w,b,k,x,I,L,O,T,C,E,P,_,N,j,D;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,i=t.actions,s=t.baseRuleSet,l=t.device,d=t.dependant_on_treatment,v=t.reapply_event,g=t.businessRuleSet,h=t.weight,m=t.delay,!S||S.includes(n)){e.next=3;break}return e.abrupt("return");case 3:if("mobile"!==l||A){e.next=6;break}return r.log("Treatment device 'mobile' mismatch"),e.abrupt("return");case 6:if("desktop"!==l||!A){e.next=9;break}return r.log("Treatment device 'desktop' mismatch"),e.abrupt("return");case 9:if(v){y=v,Array.isArray(v)||(y=[v]),r.log("Reapply event '".concat(v,"' found for treatment: ").concat(n)),w=Qe(y);try{for(w.s();!(b=w.n()).done;)k=b.value,(x=G[k]?G[k]:[]).includes(n)?r.log("Treatment already added for reapply event"):G[k]=[].concat(a(x),[n])}catch(e){w.e(e)}finally{w.f()}}if(I=new ze({baseRuleSet:s,businessRuleSet:g,bindings:{productInfo:R}}),r.log("Starting base rule set check for treatment: "+n),e.t0=!s,e.t0){e.next=18;break}return e.next=17,I.checkRules();case 17:e.t0=e.sent;case 18:if(!e.t0){e.next=56;break}if(L=100===h?0:100-h||50,d&&(T=null===(O=J.find((function(e){return e.id===d})))||void 0===O?void 0:O.weight,L=100===T?0:100-T||50),r.log("Treatment skip ratio: "+L),C=d||n,1!==f){e.next=27;break}e.t1=100,e.next=30;break;case 27:return e.next=29,Z(p+C);case 29:e.t1=e.sent;case 30:if(E=e.t1,r.log("TreatmentPct: "+E+" with debug mode ".concat(f?"on":"off")),P=null,!g){e.next=39;break}return r.log("Starting sub variant rule set check for treatment: "+n),e.next=37,I.checkBusinessRules();case 37:(P=e.sent)?r.log("Applying business rule transformation with id: ",P):r.log("Applying treatment with default values");case 39:if(!(E<L)){e.next=43;break}return r.log("Treatment ".concat(n," skipped due to treatment split ratio")),q=n,U={dependant_on_treatment:d||null,businessRuleId:P,variant:D},window.beagleInfoLayer.e[q]=U,e.abrupt("return");case 43:return e.next=45,oe(p,i,P);case 45:if(_=e.sent,N=o(_,2),j=N[0],D=N[1],!m){e.next=52;break}return setTimeout(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(j,R);case 2:B(n,{businessRuleId:P,variant:D});case 3:case"end":return e.stop()}}),e)}))),m),e.abrupt("return");case 52:return e.next=54,me(j,R);case 54:return B(n,{businessRuleId:P,variant:D}),e.abrupt("return");case 56:r.log("Rule check failed for treatment: ",n);case 57:case"end":return e.stop()}var q,U}),e)})));return function(t){return e.apply(this,arguments)}}(),(C=function(){var e=k;if(window.location.href.includes("/siparis-listesi.html")){var t=Array.from(document.querySelectorAll(".price"));if(t.push.apply(t,a(Array.from(document.querySelectorAll(".new-price")))),!t.length)return r.log("Price elements not found"),void window.localStorage.setItem(e,0);r.log("Price elements: ",t);var n=t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);r.log("Coupon applicable total price: ",n),n>=0&&window.localStorage.setItem(e,n)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)})(),window.location.href.includes("/siparis-listesi.html")&&(E=new MutationObserver((function(){r.log("Mutation observed, calling collectCABasketPrice"),C()})),(P=document.querySelector("#checkoutForm"))&&E.observe(P,O)),e.next=54,Promise.all([I,L,d]);case 54:if(_=e.sent,N=o(_,3),j=N[0],D=N[1],R=N[2],r.log("Found treatments: ",j),r.log("Found cookie percentage: ",b),r.log("Split_ratio: ",50),r.log("cookiePct < SPLIT_RATIO",b<50),r.info("Control group ratio: ".concat(50,"%")),U=new Ae({treatments:j,treatmentWeights:D,cookiePct:b}),V(q.TreatmentRepositoryCreated),(J=U.getMatchedTreatments()).length){e.next=71;break}return r.log("No treatments matched, returning without further action"),K(),e.abrupt("return",{v:void 0});case 71:G={},H=Qe(J),e.prev=73,H.s();case 75:if(($=H.n()).done){e.next=87;break}return z=$.value,e.prev=77,e.next=80,T(z);case 80:e.next=85;break;case 82:e.prev=82,e.t0=e.catch(77),r.log("Error executing rules",e.t0);case 85:e.next=75;break;case 87:e.next=92;break;case 89:e.prev=89,e.t1=e.catch(73),H.e(e.t1);case 92:return e.prev=92,H.f(),e.finish(92);case 95:for(K(),V(q.TreatmentsApplied),r.log("Applied treatments: ",window.beagleInfoLayer.a),setInterval((function(){n.updateLatestChanges()}),1e3),W=function(){var e=Y[Q],t=G[e],n=J.filter((function(e){return t.includes(e.id)}));switch(e){case"infinite_scroll":var o=new ResizeObserver((function(){var e,t=Qe(n);try{for(t.s();!(e=t.n()).done;){var o=e.value;r.log("Retrying treatment ".concat(o.id," from infinite_scroll")),T(o)}}catch(e){t.e(e)}finally{t.f()}}));o.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,t=Qe(n);try{for(t.s();!(e=t.n()).done;){var o=e.value;r.log("Retrying treatment ".concat(o.id," from timeout")),T(o)}}catch(e){t.e(e)}finally{t.f()}}),500);break;case"element_change":var a,i=Qe(n);try{var c=function(){var e,t=a.value,n=Qe(Array.isArray(t.reapply_selector)?t.reapply_selector:[t.reapply_selector]);try{for(n.s();!(e=n.n()).done;){var o=e.value,i=document.querySelector(o);i&&new MutationObserver((function(){r.log("Retrying treatment ".concat(t.id," from element_change")),T(t)})).observe(i,O)}}catch(e){n.e(e)}finally{n.f()}};for(i.s();!(a=i.n()).done;)c()}catch(e){i.e(e)}finally{i.f()}break;case"on_scroll":window.onscroll=function(){var e,t=Qe(n);try{for(t.s();!(e=t.n()).done;){var o=e.value;r.log("Retrying treatment ".concat(o.id," from on_scroll")),T(o)}}catch(e){t.e(e)}finally{t.f()}};break;case"query_search_change":var s=window.location.search,u=new MutationObserver((function(){if(window.location.search!==s){s=window.location.search;var e,t=Qe(n);try{for(t.s();!(e=t.n()).done;){var o=e.value;r.log("Retrying treatment ".concat(o.id," from query_search_change")),T(o)}}catch(e){t.e(e)}finally{t.f()}}}));u.observe(document,O);break;default:r.log("Reapply event not found: ",e)}},Q=0,Y=Object.keys(G);Q<Y.length;Q++)W();V(q.ReapplyTreatmentListeners);case 102:case"end":return e.stop()}var X,ee,te,ne,ae,ie,ue,le,fe,pe}),e,null,[[73,89,92,95],[77,82]])}))(),"t0",8);case 8:if("object"!==e(l=t.t0)){t.next=11;break}return t.abrupt("return",l.v);case 11:t.next=18;break;case 13:t.prev=13,t.t1=t.catch(6),K(),console.warn("Nextday: ",t.t1.message),n.sendLogs(t.t1.message,!0);case 18:case"end":return t.stop()}}),t,null,[[6,13]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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InNvdXJjZXMiOlsid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5TGlrZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhIb2xlcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVSZXN0LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvdXJsQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQmVhZ2xlSW5mb0xheWVyL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9zdHJpbmdVdGlscy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcHBseVRyZWF0bWVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5TW9uaXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvY291bnRlckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9lbGVtZW50Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2Z1bmN0aW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3Nlc3Npb25DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZW52Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3JhbmRvbU51bWJlckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcGkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5Q2xpZW50U0RLL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIGRlZmluZShHcCwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gIGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbik7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKFxuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sLFxuICAgIFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICApO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKTtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICBkZWZpbmUoR3AsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIGluIG1vZGVybiBlbmdpbmVzXG4gIC8vIHdlIGNhbiBleHBsaWNpdGx5IGFjY2VzcyBnbG9iYWxUaGlzLiBJbiBvbGRlciBlbmdpbmVzIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGdsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgfSBlbHNlIHtcbiAgICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZTsgfTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBfdHlwZW9mKG9iaik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59IiwiaW1wb3J0IGFycmF5V2l0aEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5TGltaXQgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5TGltaXQuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlUmVzdCBmcm9tIFwiLi9ub25JdGVyYWJsZVJlc3QuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuXG4gIHZhciBfcywgX2U7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImltcG9ydCBhcnJheVdpdGhvdXRIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhvdXRIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlU3ByZWFkIGZyb20gXCIuL25vbkl0ZXJhYmxlU3ByZWFkLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn0iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge3JlcGxhY2VBbGx9IGZyb20gXCIuL3N0cmluZ1V0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBDT09LSUVfTkFNRSA9IFwiX2dhXCI7XG4vLyBUT0RPIHJldmVydCB0aGUgZm9sbG93aW5nIHN0YWdpbmcgZW52IGNoZWNrIGFmdGVyIG1vdmluZyB0byBuZXcgYnJhbmNoIHN0cnVjdHVyZVxuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVFNfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L3RyZWF0bWVudHMuanNvblwiO1xuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi93ZWlnaHRzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBTVFlMRVNIRUVUX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi9uZC1zdHlsZXMuY3NzXCI7XG5leHBvcnQgY29uc3QgTE9HX0FQSV9VUkwgPSBcImh0dHBzOi8vZXVyb3BlLXdlc3QzLW5leHRkYXktMzRlYjMuY2xvdWRmdW5jdGlvbnMubmV0L2FwaS9sb2dSZXNwb25zZVwiO1xuZXhwb3J0IGNvbnN0IExPT0tVUF9BUElfVVJMID0gXCJodHRwczovL2NhdGFsb2ctYXBpLmFkb3JhYWkuY29tXCI7XG5leHBvcnQgY29uc3QgTU9CSUxFX01FRElBX1FVRVJZID0gXCIobWF4LXdpZHRoOiA0NDBweClcIjtcbi8vIENvbnRyb2wgZ3JvdXAgcGVyY2VudGFnZVxuZXhwb3J0IGNvbnN0IFNQTElUX1JBVElPID0gNTA7XG4vLyBTa2lwcGVkIHRyZWF0bWVudCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UX1JBVElPID0gNTA7XG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19EVVJBVElPTiA9IDE7XG5leHBvcnQgY29uc3QgTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04gPSAxO1xuXG5cbmV4cG9ydCBjb25zdCBTRVNTSU9OX1NUT1JBR0VfS0VZUyA9IHtcbiAgU0VTU0lPTl9JRDogXCJfX25leHRkYXlfc2Vzc2lvbl9pZFwiLFxuICBTRVNTSU9OX1RJTUVTVEFNUDogXCJORF9TZXNzaW9uVGltZXN0YW1wXCIsXG4gIFNFU1NJT05fSElTVE9SWTogXCJCTl9TZXNzaW9uSGlzdG9yeVwiLFxuICBUUkVBVE1FTlRTOiBcIk5EX1RyZWF0bWVudHNcIixcbiAgUEFHRV9WSUVXUzogXCJORF9QYWdlVmlld3NcIixcbiAgUE9QVVBfRElTUExBWV9GTEFHOiBcIk5EX1BvcHVwRGlzcGxheUZsYWdcIixcbiAgTkRfU0tVX0xJU1Q6IFwiTkRfU2t1TGlzdFwiLFxuICBUSU1FT1VUX0NPVU5UOiBcIk5EX1RpbWVvdXRDb3VudFwiLFxufTtcbmV4cG9ydCBjb25zdCBMT0NBTF9TVE9SQUdFX0tFWVMgPSB7XG4gIENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRTogXCJORF9DQUJhc2tldFByaWNlXCIsXG4gIE5EX0RFQlVHX01PREU6IFwiTkRfRGVidWdcIixcbn07XG4iLCJpbXBvcnQge0xPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5jbGFzcyBMb2dnZXIge1xuICBjb25zdHJ1Y3RvcihvcmlnaW4gPSBcIk5leHRkYXkgQ2xpZW50IFNES1wiKSB7XG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgdGhpcy5ERUJVRyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSk7XG4gIH1cblxuICBpbmZvKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5pbmZvKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmIChERUJVRykge1xuICAgICAgY29uc29sZS5sb2coYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgd2FybiguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUud2FybihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGVycm9yKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5lcnJvcihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXI7XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBEYXRhTGF5ZXIgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRGF0YUxheWVyUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gZGF0YUxheWVyRmluZGVyKG9wZXJhdG9yKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkYXRhTGF5ZXJGaW5kZXIgPSAoa2V5KSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTZWFyY2hpbmcgYmVhZ2xlSW5mb0xheWVyIGZvciBrZXkgXCIsIGtleSk7XG4gIGxldCByZXMgPSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyW2tleV07XG4gIGlmIChrZXkuaW5jbHVkZXMoXCIuXCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoXCIuXCIpO1xuICAgICAgcmVzID0gd2luZG93LmJlYWdsZUluZm9MYXllcltrZXlzWzBdXTtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXMgPSByZXNba2V5c1tpXV07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIubG9nKGBDb3VsZG4ndCBleHRyYWN0IGtleSAke2tleX0gZnJvbSBiZWFnbGVJbmZvTGF5ZXJgKTtcbiAgICAgIHJlcyA9IG51bGw7XG4gICAgfVxuICB9XG4gIGlmIChyZXMpIHtcbiAgICBsb2dnZXIubG9nKGBGb3VuZCBrZXkgJHtrZXl9IHdpdGggdmFsdWUgJHtyZXN9YCk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBsb2dnZXIubG9nKGBLZXkgJHtrZXl9IG5vdCBmb3VuZCBpbiBiZWFnbGVJbmZvTGF5ZXJgKTtcblxuICBsb2dnZXIubG9nKFwiU2VhcmNoaW5nIGRhdGFMYXllciBmb3Iga2V5IFwiLCBrZXkpO1xuICBmb3IgKGNvbnN0IG9iaiBvZiB3aW5kb3cuZGF0YUxheWVyKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgaWYgKGtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgbG9nZ2VyLmxvZyhgRm91bmQga2V5ICR7a2V5fSB3aXRoIHZhbHVlICR7b2JqW2tleV19YCk7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfVxuICB9XG4gIGxvZ2dlci5sb2coYEtleSAke2tleX0gbm90IGZvdW5kIGluIGRhdGFMYXllcmApO1xuICByZXR1cm4gbnVsbDtcbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVcmwgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrVXJsUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhdGhcIjoge1xuICAgICAgY29uc3QgcmVxdWVzdFVSTD0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICBjb25zdCBpc0FqYXggPSByZXF1ZXN0VVJMLmluY2x1ZGVzKFwiYWpheC9tb2JpbGUtc2VhcmNoL2xvYWRPdGhlclBhZ2VzLnBocFwiKTtcbiAgICAgIGNvbnN0IHBhdGggPSAhaXNBamF4ID8gbmV3IFVSTChyZXF1ZXN0VVJMKS5wYXRobmFtZSA6XG4gICAgICBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgbmV3IFVSTChyZXF1ZXN0VVJMKS5zZWFyY2gucmVwbGFjZShcIj9vcmlnaW5hbFBhdGg9XCIsIFwiXCIpLFxuICAgICAgKTtcbiAgICAgIGxvZ2dlci5sb2coYENoZWNraW5nIHBhdGggJHtwYXRofSBtYXRjaGVzIHJ1bGUgcGF0aCAke3ZhbHVlfWApO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocGF0aCwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59IiwiaW1wb3J0IHtleHRyYWN0Q29va2llSWRlbnRpZmllciwgZm9ybWF0RGVsaXZlcnlEYXRlfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFNQTElUX1JBVElPfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxud2luZG93LmJlYWdsZUluZm9MYXllciA9IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgfHwge2NoZWNrcG9pbnRzOiBbXSxcbiAgYToge30sIGU6IHt9fTtcblxuY29uc3QgcGFyc2luZ1JlZ2V4ID0ge1xuICBQYWdlVHlwZTogLyg/OlBhZ2VUeXBlJ1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgY29udGVudF9uYW1lOiAvKD86Y29udGVudF9uYW1lWyBdKjpbIF0qXCIpKC4qKSg/OlwiKS8sXG4gIGNvbnRlbnRfbmFtZV9hbHQ6IC8oPzpjb250ZW50X25hbWUnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICB2dnNTY3JHQVBhZ2VUeXBlOiAvKD86UGFnZVR5cGUnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICB2dnNTY3JHQU9yZGVySWQ6IC8oPzpwdXJjaGFzZVtcXHNcXFNdKmFjdGlvbkZpZWxkW1xcc1xcU10qJ2lkJ1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgdnZzU2NyR0FPcmRlclJldjogLyg/OnB1cmNoYXNlW1xcc1xcU10qYWN0aW9uRmllbGRbXFxzXFxTXSoncmV2ZW51ZSdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIHZ2c1NjckdBT3JkZXJUeXBlOiAvKD86cHVyY2hhc2VbXFxzXFxTXSphY3Rpb25GaWVsZFtcXHNcXFNdKidkaW1lbnNpb24xNSdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIHZ2c1NjckdBSXNBZG1pbjogLyg/OmRhdGFMYXllcltcXHNcXFNdKidpc0FkbWluJ1sgXSo6WyBdKlwiKSguKikoPzpcIikvLFxufTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrcG9pbnRzID0ge1xuICBCZWFnbGVMb2FkZWQ6IDEsXG4gIEluaXRpYWxpemVkOiAyLFxuICBVc2VyT25PZmY6IDMsXG4gIFNjcmlwdFRpbWVPdXQ6IDcsXG4gIFRyZWF0bWVudFJlcG9zaXRvcnlDcmVhdGVkOiA0LFxuICBUcmVhdG1lbnRzQXBwbGllZDogNSxcbiAgUmVhcHBseVRyZWF0bWVudExpc3RlbmVyczogNixcbiAgVGltZW91dFRocmVzaG9sZFJlYWNoZWQ6IDgsXG59O1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlSW5mb0xheWVyXCIpO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciA9ICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBiZWFnbGVJbmZvTGF5ZXJcIik7XG4gIHByZXBhcmVEYXRhKCk7XG5cbiAgY29uc3Qgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuICBpZiAoIXNjcmlwdHMgfHwgIXNjcmlwdHMubGVuZ3RoKSB7XG4gICAgbG9nZ2VyLndhcm4oXCJDb3VsZCBub3QgcGFyc2UgYm9keVwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGZvdW5kU2NyaXB0Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gc2NyaXB0cy5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgIGNvbnN0IHNjcmlwdFRleHRDb250ZW50ID0gc2NyaXB0c1tpXS50ZXh0Q29udGVudDtcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocGFyc2luZ1JlZ2V4KSkge1xuICAgICAgbGV0IGZvdW5kVmFsID0gcGFyc2luZ1JlZ2V4W2tleV0uZXhlYyhzY3JpcHRUZXh0Q29udGVudCk7XG4gICAgICBmb3VuZFZhbCA9IGZvdW5kVmFsID8gZm91bmRWYWxbMV0gOiBudWxsO1xuICAgICAgaWYgKGZvdW5kVmFsKSB7XG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihcIl9hbHRcIikgPiAwKSBrZXkgPSBrZXkuc3Vic3RyaW5nKDAsIGtleS5sYXN0SW5kZXhPZihcIl9hbHRcIikpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKGtleSwgZGVjb2RlVVJJQ29tcG9uZW50KEpTT04ucGFyc2UoXCJcXFwiXCIgKyBmb3VuZFZhbCArIFwiXFxcIlwiKSkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIud2FybihgQ291bGQgbm90IGRlY29kZSBmb3VuZFZhbCAke2ZvdW5kVmFsfWApO1xuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKGtleSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZm91bmRTY3JpcHRDb3VudCArPSAxO1xuICAgICAgICBpZiAoZm91bmRTY3JpcHRDb3VudCA9PT0gT2JqZWN0LmtleXMocGFyc2luZ1JlZ2V4KS5sZW5ndGgpIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjaGVja3BvaW50ID0gKGNoZWNrcG9pbnQpID0+e1xuICB0cnkge1xuICAgIGxvZ2dlci5sb2coYENoZWNrcG9pbnQ6ICcke2NoZWNrcG9pbnR9JyBSZWFjaGVkIWApO1xuICAgIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuY2hlY2twb2ludHMucHVzaCh7XG4gICAgICBjaGVja3BvaW50OiBPYmplY3Qua2V5cyhjaGVja3BvaW50cykuZmluZCgoa2V5KSA9PiBjaGVja3BvaW50c1trZXldID09PSBjaGVja3BvaW50KSxcbiAgICAgIGlkOiBjaGVja3BvaW50LFxuICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci53YXJuKGUpO1xuICB9XG4gIHJldHVybjtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRUb0JlYWdsZUluZm9MYXllciA9IChrZXksIHZhbHVlKSA9PiB7XG4gIGlmIChrZXkgPT09IG51bGwgfHwga2V5ID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyW2tleV0gPSB2YWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRBcHBsaWVkVHJlYXRtZW50ID0gKGtleSwgdmFsdWUpID0+IHtcbiAgd2luZG93LmJlYWdsZUluZm9MYXllci5hW2tleV0gPSB2YWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRFbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnQgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmVba2V5XSA9IHZhbHVlO1xufTtcblxuY29uc3QgcHJlcGFyZURhdGEgPSAoKSA9PiB7XG4gIGNvbnN0IHZpZXdJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9JRCk7XG4gIGNvbnN0IGN1cnJlbnRVUkwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgY29uc3QgcGxhdGZvcm0gPSB3aW5kb3cubmF2aWdhdG9yPy51c2VyQWdlbnREYXRhPy5wbGF0Zm9ybSB8fCB3aW5kb3cubmF2aWdhdG9yPy5wbGF0Zm9ybSB8fFxuICB3aW5kb3cubmF2aWdhdG9yPy51c2VyQWdlbnQ7XG5cbiAgbGV0IGdhT2JqZWN0cyA9IHt9O1xuXG4gIGZvciAoY29uc3QgZ2FETEVsZW1lbnQgb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgIGdhT2JqZWN0cyA9IHsuLi5nYU9iamVjdHMsIC4uLmdhRExFbGVtZW50fTtcbiAgfVxuXG4gIGNvbnN0IHZpc2lsYWJzY2sgPSBKU09OLnBhcnNlKGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJWTF9DTV8wXCIpKTtcblxuICBjb25zdCB2bE9iamVjdHMgPSB7fTtcblxuICBpZiAodmlzaWxhYnNjayAmJiB2aXNpbGFic2NrLkl0ZW1zKSB7XG4gICAgZm9yIChjb25zdCB2bEVsZW1lbnQgb2YgdmlzaWxhYnNjay5JdGVtcykge1xuICAgICAgdmxPYmplY3RzW3ZsRWxlbWVudC5LXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2bEVsZW1lbnQuVik7XG4gICAgfVxuICB9XG5cblxuICAvKiBWSVNJTEFCUyAqL1xuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llVkxQVmluVmlzaXRcIiwgdmxPYmplY3RzLlZMX1BWQ291bnRJblZpc2l0KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVWTFZpc2l0RHVyYXRpb25cIiwgdmxPYmplY3RzLlZMX1RvdGFsRHVyYXRpb24pO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZVZMVG90YWxQVlwiLCB2bE9iamVjdHMuVkxfVG90YWxQVik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llVkxUb3RhbFZpc2l0XCIsIHZsT2JqZWN0cy5WTF9Ub3RhbFZpc2l0KTtcblxuICAvKiBHQSAqL1xuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQYWdlVHlwZVwiLCBnYU9iamVjdHMuUGFnZVR5cGUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHJvZHVjdE5hbWVcIiwgZ2FPYmplY3RzLmNvbnRlbnRfbmFtZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FWaWV3VHlwZVwiLCBnYU9iamVjdHMuY29udGVudF90eXBlKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVByb2R1Y3RDYXRlZ29yeVwiLCBnYU9iamVjdHMuY29udGVudF9jYXRlZ29yeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQcm9kdWN0SURcIiwgZ2FPYmplY3RzLmNvbnRlbnRfaWRzKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQcm9kdWN0Q2F0ZWdvcnlcIiwgZ2FPYmplY3RzLnZpdmVuc2VfY2F0ZWdvcnkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhTGlzdGluZ05hbWVcIiwgZ2FPYmplY3RzLmVjb21tZXJjZT8uZGV0YWlsPy5hY3Rpb25GaWVsZD8ubGlzdCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzSXNTaG93cm9vbVwiLCAod2luZG93LmlzQWRtaW49PT11bmRlZmluZWQpID8gZ2FPYmplY3RzLmlzQWRtaW4gOiB3aW5kb3cuaXNBZG1pbik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHJvZHVjdEdyb3VwXCIsIGdhT2JqZWN0cy5wcm9kdWN0R3JvdXApO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1VzZXJJZFwiLCBnYU9iamVjdHMudXNlcklkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNDYXRlZ29yeVwiLCBnYU9iamVjdHMudml2ZW5zZV9jYXRlZ29yeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FDYXRlZ29yeVByb2R1Y3RDb250XCIsIGdhT2JqZWN0cy5jYXRlZ29yeV9wcm9kdWN0X2NvdW50KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYUNhcnRQcm9kdWN0c1wiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5jaGVja291dD8ucHJvZHVjdHMgfHxcbiAgICBnYU9iamVjdHMuZWNvbW1lcmNlPy5wdXJjaGFzZT8ucHJvZHVjdHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BEUFByb2R1Y3RcIiwgZ2FPYmplY3RzLnZpdmVuc2VQcm9kdWN0cz8ucG9wKCkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHVyY2hhc2VJZFwiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5wdXJjaGFzZT8uYWN0aW9uRmllbGQ/LmlkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVB1cmNoYXNlUmV2ZW51ZVwiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5wdXJjaGFzZT8uYWN0aW9uRmllbGQ/LnJldmVudWUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHVyY2hhc2VQYXlUeXBlXCIsIGdhT2JqZWN0cy5lY29tbWVyY2U/LnB1cmNoYXNlPy5hY3Rpb25GaWVsZD8uZGltZW5zaW9uMTUpO1xuXG4gIC8qIHdpbmRvdyB2aWV3IGFyZWEgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dQYXJhbXNcIiwgd2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93UFJhdGlvXCIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dJbm5lclwiLCB3aW5kb3cuaW5uZXJXaWR0aCk7XG5cbiAgY29uc3Qgd2luZG93U2NyZWVuID0ge307XG4gIHdpbmRvd1NjcmVlbi5hdmFpbEhlaWdodCA9IHdpbmRvdy5zY3JlZW4/LmF2YWlsSGVpZ2h0O1xuICB3aW5kb3dTY3JlZW4uYXZhaWxIZWlnaHQgPSB3aW5kb3cuc2NyZWVuPy5hdmFpbEhlaWdodDtcbiAgd2luZG93U2NyZWVuLmF2YWlsTGVmdCA9IHdpbmRvdy5zY3JlZW4/LmF2YWlsTGVmdDtcbiAgd2luZG93U2NyZWVuLmF2YWlsVG9wID0gd2luZG93LnNjcmVlbj8uYXZhaWxUb3A7XG4gIHdpbmRvd1NjcmVlbi5hdmFpbFdpZHRoID0gd2luZG93LnNjcmVlbj8uYXZhaWxXaWR0aDtcbiAgd2luZG93U2NyZWVuLmNvbG9yRGVwdGggPSB3aW5kb3cuc2NyZWVuPy5jb2xvckRlcHRoO1xuICB3aW5kb3dTY3JlZW4uaGVpZ2h0ID0gd2luZG93LnNjcmVlbj8uaGVpZ2h0O1xuICB3aW5kb3dTY3JlZW4ucGl4ZWxEZXB0aCA9IHdpbmRvdy5zY3JlZW4/LnBpeGVsRGVwdGg7XG4gIHdpbmRvd1NjcmVlbi53aWR0aCA9IHdpbmRvdy5zY3JlZW4/LndpZHRoO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd1NjcmVlblwiLCB3aW5kb3dTY3JlZW4pO1xuXG4gIGNvbnN0IHdpbmRvd1ZQb3J0ID0ge307XG4gIHdpbmRvd1ZQb3J0LmhlaWdodCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8uaGVpZ2h0O1xuICB3aW5kb3dWUG9ydC5vZmZzZXRMZWZ0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5vZmZzZXRMZWZ0O1xuICB3aW5kb3dWUG9ydC5vZmZzZXRUb3AgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/Lm9mZnNldFRvcDtcbiAgd2luZG93VlBvcnQub25yZXNpemUgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/Lm9ucmVzaXplO1xuICB3aW5kb3dWUG9ydC5vbnNjcm9sbCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ub25zY3JvbGw7XG4gIHdpbmRvd1ZQb3J0LnBhZ2VMZWZ0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5wYWdlTGVmdDtcbiAgd2luZG93VlBvcnQucGFnZVRvcCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ucGFnZVRvcDtcbiAgd2luZG93VlBvcnQuc2NhbGUgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/LnNjYWxlO1xuICB3aW5kb3dWUG9ydC53aWR0aCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ud2lkdGg7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93VlBvcnRcIiwgd2luZG93VlBvcnQpO1xuXG4gIGlmIChzY3JlZW4ud2lkdGgpIHtcbiAgICBsZXQgd2lkdGggPSBwYXJzZUludChzY3JlZW4ud2lkdGgpO1xuICAgIGxldCBoZWlnaHQgPSAoc2NyZWVuLmhlaWdodCkgPyBwYXJzZUludChzY3JlZW4uaGVpZ2h0KSA6IDA7XG4gICAgaWYgKHdpZHRoICE9PSAwICYmIGhlaWdodCAhPT0gMCkge1xuICAgICAgY29uc3QgaU9TID0gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QocGxhdGZvcm0pO1xuICAgICAgaWYgKGlPUyAmJiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgICAvLyBpb3MgcHJvdmlkZXMgRFBJcywgbmVlZCB0byBtdWx0aXBseVxuICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHdpbmRvdy5vcmllbnRhdGlvbikgPT09IDkwKSB7XG4gICAgICAgICAgLy8gd2UgaGF2ZSBsYW5kc2NhcGUgb3JpZW50YXRpb25cbiAgICAgICAgICAvLyBzd2l0Y2ggdmFsdWVzIGZvciBhbGwgZXhjZXB0IGlvc1xuICAgICAgICAgIGNvbnN0IHRlbXAgPSB3aWR0aDtcbiAgICAgICAgICB3aWR0aCA9IGhlaWdodDtcbiAgICAgICAgICBoZWlnaHQgPSB0ZW1wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd1wiLCB3aWR0aCArIFwieFwiICsgaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKiBuYXZpZ2F0b3IgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZIaXN0U2l6ZVwiLCB3aW5kb3cuaGlzdG9yeT8ubGVuZ3RoKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZBZ2VudFwiLCBuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgLy8gY2hlY2sgaWYgdXNlckFnZW50RGF0YSBpcyBzdXBwb3J0ZWQgYW5kIHVzZXJBZ2VudCBpcyBub3QgYXZhaWxhYmxlLCB1c2UgaXRcbiAgaWYgKCF3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLm5hdkFnZW50KSB7XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnREYXRhKSB7XG4gICAgICAvLyB0dXJuIGJyYW5kcyBhcnJheSBpbnRvIHN0cmluZ1xuICAgICAgbGV0IG5hdkFnZW50ID0gbmF2aWdhdG9yPy51c2VyQWdlbnREYXRhPy5icmFuZHM/Lm1hcChmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBlLmJyYW5kICsgXCI6XCIgKyBlLnZlcnNpb247XG4gICAgICB9KS5qb2luKCk7XG4gICAgICAvLyBhZGQgbW9iaWxlIGluZm9cbiAgICAgIG5hdkFnZW50ICs9IChuYXZpZ2F0b3I/LnVzZXJBZ2VudERhdGE/Lm1vYmlsZSA/IFwibW9iaVwiIDogXCIgXCIpO1xuICAgICAgLy8gYWRkIHBsYXRmb3JtIGluZm9cbiAgICAgIG5hdkFnZW50ICs9IHBsYXRmb3JtO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZBZ2VudFwiLCBuYXZBZ2VudCk7XG4gICAgfVxuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2SFdDb3Jlc1wiLCBuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2TGFuZ3VhZ2VcIiwgbmF2aWdhdG9yLmxhbmd1YWdlIHx8IG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2UgfHxcbiAgIG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZUb3VjaFwiLCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdlBsYXRmb3JtXCIsIHBsYXRmb3JtKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZWZW5kb3JcIiwgbmF2aWdhdG9yLnZlbmRvcik7XG5cbiAgLyogY29va2llcyAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZUdhSWRcIiwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcIl9nYVwiKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llTGFzdEJyZWFkQ3J1bWJcIiwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcImxhc3RicmVhZGNydW1iXCIpKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVMYXN0Q2F0ZWdvcnlcIiwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcImxhc3RjYXRlZ29yeVwiKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llRmlyc3RFbnRyeVwiLCBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwidml2ZW5zZWZpcnN0XCIpKSk7XG5cbiAgLyogcGVyZm9ybWFuY2UgbWV0cmljcyAqL1xuICBjb25zdCBwZXJmTWV0cmljcyA9IHt9O1xuICBpZiAod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibmF2aWdhdGlvblwiKVswXSkge1xuICAgIGNvbnN0IHBlcmZOYXZpZ2F0aW9uTWV0cmljcyA9IHdpbmRvdy5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibmF2aWdhdGlvblwiKVswXTtcbiAgICBwZXJmTWV0cmljcy5wbGQgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5kb21Db250ZW50TG9hZGVkRXZlbnRFbmQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MuY29ubmVjdFN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy5uZXQgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5jb25uZWN0RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmZldGNoU3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLnNydiA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlU3RhcnQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MucmVxdWVzdFN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy50ZnIgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZUVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZVN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy5kbWkgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5kb21JbnRlcmFjdGl2ZSAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZUVuZCk7XG4gICAgcGVyZk1ldHJpY3MuZGNwID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tQ29tcGxldGUgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tSW50ZXJhY3RpdmUpO1xuICAgIHBlcmZNZXRyaWNzLm9ubCA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmxvYWRFdmVudEVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5sb2FkRXZlbnRTdGFydCk7XG4gIH1cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJwZXJmTWV0cmljc1wiLCBwZXJmTWV0cmljcyk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiaW50ZXJuZXRTcGVlZFwiLCB3aW5kb3cubmF2aWdhdG9yPy5jb25uZWN0aW9uPy5kb3dubGluayk7XG5cbiAgLyogc2NoZW1hLm9yZyBlbGVtZW50cyAqL1xuICBjb25zdCBzY2hlbWFPcmdFbHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIlt0eXBlPVxcXCJhcHBsaWNhdGlvbi9sZCtqc29uXFxcIl1cIik7XG5cbiAgZm9yIChjb25zdCBzVGFnIG9mIHNjaGVtYU9yZ0VsdHMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY250bnQgPSBzVGFnLnRleHRDb250ZW50O1xuICAgICAgY29uc3QganNvbmNvbnRlbnQgPSBKU09OLnBhcnNlKGNudG50KTtcbiAgICAgIGxldCBiY3J1bWJfc3RyaW5nID0gXCJAXCI7XG4gICAgICBzd2l0Y2ggKGpzb25jb250ZW50W1wiQHR5cGVcIl0pIHtcbiAgICAgICAgLy8gSE9NRVBBR0VcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvblwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiV2ViU2l0ZVwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIFBMUFxuICAgICAgICBjYXNlIFwiQ29sbGVjdGlvblBhZ2VcIjoge1xuICAgICAgICAgIGZvciAoY29uc3QgYmNydW1pdGVtIG9mIGpzb25jb250ZW50W1wiYnJlYWRjcnVtYlwiXVtcIml0ZW1MaXN0RWxlbWVudFwiXSkge1xuICAgICAgICAgICAgYmNydW1iX3N0cmluZyArPSBcIiB8IFwiICsgYmNydW1pdGVtW1wiaXRlbVwiXVtcIm5hbWVcIl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic29yZ0JyZWFkY3J1bWJcIiwgYmNydW1iX3N0cmluZyk7XG4gICAgICAgICAgY29uc3Qgc29yZ0xpc3RpbmcgPSB7fTtcbiAgICAgICAgICBzb3JnTGlzdGluZy5uYW1lID0ganNvbmNvbnRlbnRbXCJtYWluRW50aXR5XCJdW1wibmFtZVwiXTtcbiAgICAgICAgICBzb3JnTGlzdGluZy5jb3VudEl0ZW1zID0ganNvbmNvbnRlbnRbXCJtYWluRW50aXR5XCJdW1wibnVtYmVyT2ZJdGVtc1wiXTtcbiAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNvcmdMaXN0aW5nXCIsIHNvcmdMaXN0aW5nKTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIFBEUFxuICAgICAgICBjYXNlIFwiQnJlYWRjcnVtYkxpc3RcIjpcbiAgICAgICAgICBmb3IgKGNvbnN0IGJjcnVtaXRlbSBvZiBqc29uY29udGVudFtcIml0ZW1MaXN0RWxlbWVudFwiXSkge1xuICAgICAgICAgICAgYmNydW1iX3N0cmluZyArPSBcIiB8IFwiICsgYmNydW1pdGVtW1wibmFtZVwiXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzb3JnQnJlYWRjcnVtYlwiLCBiY3J1bWJfc3RyaW5nKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlByb2R1Y3RcIjoge1xuICAgICAgICAgIGNvbnN0IHNvcmdQcm9kdWN0ID0ge307XG4gICAgICAgICAgc29yZ1Byb2R1Y3Quc2t1ID0ganNvbmNvbnRlbnRbXCJza3VcIl07XG4gICAgICAgICAgc29yZ1Byb2R1Y3QubmFtZSA9IGpzb25jb250ZW50W1wibmFtZVwiXTtcbiAgICAgICAgICBpZiAoanNvbmNvbnRlbnRbXCJvZmZlcnNcIl0pIHtcbiAgICAgICAgICAgIHNvcmdQcm9kdWN0LnByaWNlID0ganNvbmNvbnRlbnRbXCJvZmZlcnNcIl1bXCJwcmljZVwiXTtcbiAgICAgICAgICAgIHNvcmdQcm9kdWN0LnByaWNlQ3VycmVuY3kgPSBqc29uY29udGVudFtcIm9mZmVyc1wiXVtcInByaWNlQ3VycmVuY3lcIl07XG4gICAgICAgICAgICBzb3JnUHJvZHVjdC5wcmljZVZhbGlkVW50aWwgPSBqc29uY29udGVudFtcIm9mZmVyc1wiXVtcInByaWNlVmFsaWRVbnRpbFwiXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzb3JnUHJvZHVjdFwiLCBzb3JnUHJvZHVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmxvZyhqc29uY29udGVudCk7XG4gICAgICB9IC8vIHN3aXRjaFxuICAgIH0gY2F0Y2ggKGVycikgeyAvLyB0cnlcbiAgICAgIGxvZ2dlci53YXJuKGVyci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKiBOZXh0ZGF5IGRhdGEgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2XCIsIFwiMC4wLjI3XCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5cIiwgYG5leHRkYXktc2Vzc2lvbl9pZC0ke3Nlc3Npb25JZH1gKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzclwiLCBTUExJVF9SQVRJTyk7XG5cbiAgLyogbWlzY2VsbGFuZW91cyAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRvbnR0cmFja1wiLCBuYXZpZ2F0b3IuZG9Ob3RUcmFjayB8fCB3aW5kb3cuZG9Ob3RUcmFjayB8fCBuYXZpZ2F0b3IubXNEb05vdFRyYWNrKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ1XCIsIGN1cnJlbnRVUkwuaHJlZik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZFwiLCBjdXJyZW50VVJMLmhvc3RuYW1lKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJyXCIsIGRvY3VtZW50LnJlZmVycmVyKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2SWRcIiwgdmlld0lkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpc09uXCIsIG51bGwpO1xuXG4gIC8qIFZpdmVuc2Ugc3BlY2lmaWMgKi9cbiAgdHJ5IHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0NudEZhdlByb2RzXCIsIHdpbmRvdy5mYXZvcml0ZVByb2R1Y3RzID8gSlNPTi5wYXJzZSh3aW5kb3cuZmF2b3JpdGVQcm9kdWN0cykubGVuZ3RoIDogbnVsbCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzQ250RmF2UHJvZHNcIiwgbnVsbCk7XG4gICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzSGFzU2V0RW1haWxcIiwgd2luZG93LnVzZXJFbWFpbC5sZW5ndGggPiAwKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNMb2dpblR5cGVcIiwgd2luZG93LnVzZXJJZCA+IDAgPyBcIm1lbWJlclwiIDogXCJndWVzdFwiKTtcblxuICBsZXQgc2VsZWN0ZWRFbGVtZW50O1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJiYXNrZXRfc3VtbWFyeV90b3RhbFxcXCJdLCBbY2xhc3MqPVxcXCJ0b3RhbF9yb3dcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQdXJjUHJpY2VFbHRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcIm9yZGVyX2ZvbGxvd19udW1iXFxcIl0sIFtjbGFzcyo9XFxcImNhcnQtdGl0bGUtYm90dG9tXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHVyY2hhc2VPcmRlcklEXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJwYXltZW50X3R5cGVfdGl0bGVcXFwiXSwgW2NsYXNzKj1cXFwiY2FydC10aXRsZS1pbmZvXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHVyY1R5cGVFbHRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltpZCo9XFxcImJyZWFkY3J1bWItb2xcXFwiXSwgW2NsYXNzKj1cXFwibG9uZy1icmVhZGNydW1iXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0NydW1iXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJvcmRlci1maW5hbC1udW1iZXJcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNDYXJ0VG90YWxcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcImJhc2tldF90b3RhbF9wcmljZVxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1ZpZXdCYXNrZXRUb3RhbFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2lkKj1cXFwiY2FydF9xdWFudGl0eVxcXCJdLCBbY2xhc3MqPVxcXCJiYXNrZXRfbGVuZ3RoXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0Jhc2tldENvdW50XCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJ3ZWxjb21lX3VzZXJuYW1lXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0xvZ2dlZGluXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dC5sZW5ndGggPiAwIDogZmFsc2UpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbY2xhc3MqPVxcXCJ2aXZlbnNlLXNob3dyb29tc1xcXCJdID4gKlwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQRFBTaG93cm9vbUNvdW50XCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50Lmxlbmd0aCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJkZWxpdmVyeS1kYXRlXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQRGVsaXZlcnlEYXRlXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BEUERlbGl2ZXJ5RGF0ZUZvcm1hdHRlZFwiLCBmb3JtYXREZWxpdmVyeURhdGUoc2VsZWN0ZWRFbGVtZW50Py5pbm5lclRleHQpKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwicHJvZHVjdC10aXRsZVxcXCJdLCBbY2xhc3MqPVxcXCJoZWFkZXItYm90dG9tXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQVGl0bGVcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcImNvdW50LW9mLXByb2R1Y3RcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQTFBJdGVtQ291bnRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcInN1YmNhdGVnb3JpZXMtdGl0bGVcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQTFBOYW1lXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCB7Y2hlY2tEYXRhTGF5ZXJSdWxlfSBmcm9tIFwiLi9OZXh0ZGF5UnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrVXJsUnVsZX0gZnJvbSBcIi4vTmV4dGRheVJ1bGVFbmdpbmUvdXJsQ2hlY2tlclwiO1xuaW1wb3J0IHthZGRUb0JlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBDT09LSUVfTkFNRSxcbiAgTE9DQUxfU1RPUkFHRV9LRVlTLFxuICBTRVNTSU9OX1NUT1JBR0VfS0VZUyxcbiAgU1RZTEVTSEVFVF9MT0NBVElPTixcbiAgVFJFQVRNRU5UU19MT0NBVElPTixcbiAgVFJFQVRNRU5UX1dFSUdIVFNfTE9DQVRJT04sXG59IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgVXRpbHNcIik7XG5jb25zdCBtb250aHMgPSB7XG4gIFwib2Nha1wiOiAwLFxuICBcIsWfdWJhdFwiOiAxLFxuICBcIm1hcnRcIjogMixcbiAgXCJuaXNhblwiOiAzLFxuICBcIm1hecSxc1wiOiA0LFxuICBcImhhemlyYW5cIjogNSxcbiAgXCJ0ZW1tdXpcIjogNixcbiAgXCJhxJ91c3Rvc1wiOiA3LFxuICBcImV5bMO8bFwiOiA4LFxuICBcImVraW1cIjogOSxcbiAgXCJrYXPEsW1cIjogMTAsXG4gIFwiYXJhbMSxa1wiOiAxMSxcbn07XG5cbmlmICghKFwicmFuZG9tVVVJRFwiIGluIGNyeXB0bykpIHtcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjMvMjgwMDIxOFxuICAvLyBMSUNFTlNFOiBodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvNC4wL2xlZ2FsY29kZVxuICB7XG4gICAgcmFuZG9tVVVJREZhbGxiYWNrKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlbW92ZURvY3VtZW50SGlkZSA9ICgpID0+IHtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJuZXh0RGF5LWhpZGVcIik7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUcmVhdG1lbnRzID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgdHJlYXRtZW50c1wiKTtcbiAgY29uc3QgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoKFRSRUFUTUVOVFNfTE9DQVRJT04pO1xuICByZXR1cm4gYXdhaXQgdHJlYXRtZW50cy5qc29uKCk7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgdHJlYXRtZW50IHdlaWdodHNcIik7XG4gIGNvbnN0IHRyZWF0bWVudFdlaWdodHMgPSBhd2FpdCBmZXRjaChUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTik7XG4gIHJldHVybiBhd2FpdCB0cmVhdG1lbnRXZWlnaHRzLmpzb24oKTtcbn07XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q29va2llSWRlbnRpZmllciA9IChjb29raWVTdHJpbmcsIGNvb2tpZU5hbWUpID0+IHtcbiAgaWYgKCFjb29raWVTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZCA9IGNvb2tpZVN0cmluZ1xuICAgICAgLnNwbGl0KFwiO1wiKVxuICAgICAgLm1hcCgodikgPT4gdi5zcGxpdChcIj1cIikpXG4gICAgICAucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgaWYgKHZbMF0gJiYgdlsxXSkge1xuICAgICAgICAgIGFjY1tkZWNvZGVVUklDb21wb25lbnQodlswXS50cmltKCkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2WzFdLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcblxuICBsZXQgaWRlbnRpZmllciA9IHBhcnNlZFtjb29raWVOYW1lXTtcbiAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGNvb2tpZU5hbWUgPT09IFwiX2dhXCIpIHtcbiAgICAvLyBleHRyYWN0IHVuaXF1ZSBpZGVudGlmaWVyIGZyb20gR0EgY29va2llXG4gICAgY29uc3QgaWRlbnRpZmllckluZGV4ID0gMjtcbiAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllci5zcGxpdChcIi5cIilbaWRlbnRpZmllckluZGV4XTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcjtcbn07XG5cbmV4cG9ydCBjb25zdCBkZXRlcm1pbmVQY3QgPSBhc3luYyAoaWRlbnRpZmllcikgPT4ge1xuICBjb25zdCBzdWJzdHJpbmdTdGFydFBvc2l0aW9uID0gOTtcbiAgY29uc3Qgc3Vic3RyaW5nTGVuZ3RoID0gODtcbiAgY29uc3Qgc3Vic3RyaW5nRW5kUG9zaXRpb24gPSBzdWJzdHJpbmdTdGFydFBvc2l0aW9uICsgc3Vic3RyaW5nTGVuZ3RoO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgY29uc3QgaGFzaFN0cmluZyA9IGF3YWl0IGNyZWF0ZUhhc2hTdHJpbmcoaWRlbnRpZmllcik7XG4gIC8vIE1hcCB0aGUgY29va2llIGhhc2ggdG8gYSBudW1iZXIgYmV0d2VlbiAwIC0+IDk5LFxuICAvLyB0aGlzIG51bWJlciBpcyB0aGUgb25SYXRpb25cbiAgY29uc3QgaGFzaE51bWJlciA9IHBhcnNlSW50KGhhc2hTdHJpbmcuc3Vic3RyaW5nKHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24sIHN1YnN0cmluZ0VuZFBvc2l0aW9uKSwgMTYpO1xuXG4gIHJldHVybiBoYXNoTnVtYmVyICUgMTAwO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUhhc2hTdHJpbmcgPSBhc3luYyAoc3RyaW5nVG9IYXNoKSA9PiB7XG4gIC8vIGVuY29kZSBzdHJpbmcgdG8gYW4gYXJyYXkgb2YgOC1iaXQgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXNcbiAgY29uc3QgZW5jb2RlZCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHJpbmdUb0hhc2gpO1xuXG4gIC8vIGhhc2ggdGhlIGVuY29kZWQgY29va2llIGludG8gYSBidWZmZXJcbiAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTFcIiwgZW5jb2RlZCk7XG5cbiAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxuICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcblxuICAvLyBjb252ZXJ0IGJ5dGVzIHRvIGhleCBzdHJpbmcgYW5kIHJldHVyblxuICByZXR1cm4gaGFzaEFycmF5Lm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKS5qb2luKFwiXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4aXRTY3JvbGxMaXN0ZW5lciA9IChjYWxsQmFjaykgPT4ge1xuICBjb25zdCBsb29wID0gKCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgaWYgKGxhc3RTY3JvbGxUb3AgLSA0MDAgPiBzY3JvbGxUb3ApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoZXhpdFNjcm9sbEludGVydmFsKTtcbiAgICAgIGNhbGxCYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIGxldCBsYXN0U2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgY29uc3QgZXhpdFNjcm9sbEludGVydmFsID0gc2V0SW50ZXJ2YWwobG9vcCwgNTAwKTtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhcHBseSB0cmVhdG1lbnRzIHRvIHRoZSBwYWdlIG9uIHNwZWNpZmljIG1lZGlhIHR5cGUuXG4gKiBAcGFyYW0ge01lZGlhUXVlcnlMaXN0fSBtZWRpYVF1ZXJ5Q29uZGl0aW9uIHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNTAwcHgpXCIpXG4gKiBAcGFyYW0ge0RPTU5vZGVMaXN0IH0gZWxlbWVudHMgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdi5wcm9kdWN0X2luZm9cIilcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZUNoYW5nZXNNYXAgeyBcIm1hcmdpbi10b3BcIiA6IFwiMTByZW1cIn1cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBjb25zdCBzdHlsZUFwcGxpY2F0b3IgPSAoZWxlbWVudHMsIHN0eWxlQ2hhbmdlc01hcCkgPT4ge1xuICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGUgY2hhbmdlc1wiLCBzdHlsZUNoYW5nZXNNYXAsIFwidG8gZWxlbWVudHNcIiwgZWxlbWVudHMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlQ2hhbmdlc01hcCkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdFN0eWxlU2hlZXQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgc3R5bGVTaGVldC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgc3R5bGVTaGVldC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICBzdHlsZVNoZWV0LmhyZWYgPSBTVFlMRVNIRUVUX0xPQ0FUSU9OO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlU2hlZXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmVBY3Rpb25zID0gYXN5bmMgKGlkZW50aWZpZXIsIGFjdGlvbnNUb1ByZXBhcmUsIGJ1c2luZXNzUnVsZUlkKSA9PiB7XG4gIGNvbnN0IGFjdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFjdGlvbnNUb1ByZXBhcmUpKTtcbiAgbGV0IHZhcmlhbnQgPSBudWxsO1xuICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgY29uc3Qge2J1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucywgdmFyaWFudHN9ID0gYWN0aW9uO1xuICAgIGlmICghYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zICYmICF2YXJpYW50cykgY29udGludWU7XG4gICAgaWYgKGJ1c2luZXNzUnVsZUlkICYmIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgZm9yIChjb25zdCBidXNpbmVzc1RyYW5zZm9ybWF0aW9uIG9mIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICBpZiAoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbi5pZCA9PT0gYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBidXNpbmVzc1RyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSBcImlkXCIpIHtcbiAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBidXNpbmVzc1RyYW5zZm9ybWF0aW9uW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh2YXJpYW50cykge1xuICAgICAgZm9yIChjb25zdCB2YXJpYW50S2V5IG9mIE9iamVjdC5rZXlzKHZhcmlhbnRzKSkge1xuICAgICAgICBjb25zdCByYW5kb21QY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIHZhcmlhbnRLZXkpO1xuICAgICAgICBpZiAocmFuZG9tUGN0IDwgYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCkge1xuICAgICAgICAgIHZhcmlhbnQgPSB2YXJpYW50S2V5O1xuICAgICAgICAgIGlmIChidXNpbmVzc1J1bGVJZCAmJiB2YXJpYW50c1t2YXJpYW50S2V5XS5idXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbiBvZiB2YXJpYW50c1t2YXJpYW50S2V5XS5idXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgaWYgKGJ1c2luZXNzVHJhbnNmb3JtYXRpb24uaWQgPT0gYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhidXNpbmVzc1RyYW5zZm9ybWF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJpZFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGFjdGlvbltrZXldID0gYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbltrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJpYW50c1t2YXJpYW50S2V5XSkge1xuICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBcIndlaWdodFwiICYmIGtleSAhPT0gXCJidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnNcIikge1xuICAgICAgICAgICAgICAgIGFjdGlvbltrZXldID0gdmFyaWFudHNbdmFyaWFudEtleV1ba2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gW2FjdGlvbnMsIHZhcmlhbnRdO1xufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzID0gKCkgPT4ge1xuICBjb25zdCB7UEFHRV9WSUVXUywgUE9QVVBfRElTUExBWV9GTEFHLCBTRVNTSU9OX0lELCBTRVNTSU9OX1RJTUVTVEFNUCwgU0VTU0lPTl9ISVNUT1JZfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuXG4gIGNvbnN0IHBhZ2VWaWV3cyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEFHRV9WSUVXUyk7XG4gIGNvbnN0IHBvcHVwRGlzcGxheUZsYWcgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRyk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9JRCk7XG4gIGNvbnN0IHNlc3Npb25UaW1lc3RhbXAgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QKTtcbiAgY29uc3Qgc2Vzc2lvbkhpc3RvcnkgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fSElTVE9SWSk7XG5cbiAgaWYgKCFwYWdlVmlld3MpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBBR0VfVklFV1MsIDEpO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEFHRV9WSUVXUywgcGFyc2VJbnQocGFnZVZpZXdzKSArIDEpO1xuICB9XG4gIGlmIChwb3B1cERpc3BsYXlGbGFnID09PSBudWxsKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDApO1xuICB9XG4gIGlmICghc2Vzc2lvbklkKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0lELCBjcnlwdG8ucmFuZG9tVVVJRCgpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25UaW1lc3RhbXApIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QLCBEYXRlLm5vdygpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25IaXN0b3J5KSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0hJU1RPUlksIFt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVdKTtcbiAgfSBlbHNlIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgc2Vzc2lvbkhpc3RvcnldKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbkNoZWNrZXIgPSAocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGlmIChjb25kaXRpb24gPT09IFwibm90RXhpc3RcIikge1xuICAgIGlmICghcnVuVGltZVZhbHVlKSB7XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChydW5UaW1lVmFsdWUgPT09IG51bGwgfHxcbiAgICBydW5UaW1lVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gbnVsbCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IHJ1blRpbWVWYWx1ZSBvciBjb25kaXRpb24gaXMgbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN3aXRjaCAoY29uZGl0aW9uKSB7XG4gICAgY2FzZSBcImV4aXN0XCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBleGlzdFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiY29udGFpbnNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90Q29udGFpbnNcIjpcbiAgICAgIGlmICghcnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGNvbnRhaW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGVxdWFscyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90RXF1YWxcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBsZXNzIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZ3JlYXRlckVxdWFsc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDw9IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImJldHdlZW5cIjoge1xuICAgICAgbGV0IFttaW4sIG1heF0gPSB2YWx1ZS5zcGxpdChcIixcIik7XG4gICAgICBtaW4gPSBwYXJzZUludChtaW4pO1xuICAgICAgbWF4ID0gcGFyc2VJbnQobWF4KTtcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gbWluICYmIHJ1blRpbWVWYWx1ZSA8PSBtYXgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IGNvbmRpdGlvbiBpcyBub3QgZGVmaW5lZCBcIiwgY29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJhbmRvbVVVSURGYWxsYmFjayA9ICgpID0+IHtcbiAgY3J5cHRvLnJhbmRvbVVVSUQgPSBmdW5jdGlvbiByYW5kb21VVUlEKCkge1xuICAgIHJldHVybiAoXG4gICAgICBbMWU3XSArIC0xZTMgKyAtNGUzICsgLThlMyArIC0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLFxuICAgICAgICAoYykgPT4gKGMgXiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmIDE1ID4+IGMgLyA0KS50b1N0cmluZygxNiksXG4gICAgKTtcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWJ1Z01vZGUgPSAoKSA9PiB7XG4gIGNvbnN0IHtORF9ERUJVR19NT0RFfSA9IExPQ0FMX1NUT1JBR0VfS0VZUztcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0xXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE5EX0RFQlVHX01PREUsIDEpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIFwib25cIik7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MlwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShORF9ERUJVR19NT0RFLCAyKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCBcIm9uXCIpO1xuICAgIHJldHVybiAyO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTBcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTkRfREVCVUdfTU9ERSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvZmZcIik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgY3VycmVudCA9IHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShORF9ERUJVR19NT0RFKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIChjdXJyZW50ID8gXCJvblwiIDogXCJvZmZcIikpO1xuICByZXR1cm4gKGN1cnJlbnQgfHwgMCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SWRlbnRpZmllciA9IGFzeW5jIChjb29raWVOYW1lID0gQ09PS0lFX05BTUUpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIGNvb2tpZU5hbWUpO1xuICAgIGlmIChpZCkge1xuICAgICAgcmVzb2x2ZShpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlkID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBjb29raWVOYW1lKTtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChleHRyYWN0SWRlbnRpZmllckludGVydmFsKTtcbiAgICAgICAgICByZXNvbHZlKGlkKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTApO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJDb3VsZCBub3QgZXh0cmFjdCBjb29raWUgaWRlbnRpZmllclwiKSk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgbXMpKTtcblxuLy8gQ29sbGVjdCBwcm9kdWN0IFNLVXMgZnJvbSBwYWdlXG5leHBvcnQgY29uc3Qgc2t1Q29sbGVjdG9yID0gKCkgPT4ge1xuICBjb25zdCB7TkRfU0tVX0xJU1R9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gIGNvbnN0IHNrdUxpc3QgPSBbXTtcblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGhvbWUgcGFnZVxuICBjb25zdCBydWxlID0ge1xuICAgIG9wZXJhdG9yOiBcIlBhZ2VUeXBlXCIsXG4gICAgY29uZGl0aW9uOiBcImVxdWFsXCIsXG4gICAgdmFsdWU6IFwiSG9tZXBhZ2VcIixcbiAgfTtcbiAgaWYgKGNoZWNrRGF0YUxheWVyUnVsZShydWxlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBsaXN0aW5nIHBhZ2VcbiAgcnVsZS52YWx1ZSA9IFwiTGlzdGluZ3BhZ2VcIjtcbiAgaWYgKGNoZWNrRGF0YUxheWVyUnVsZShydWxlKSkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtY2FyZFwiKSk7XG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgc2t1TGlzdC5wdXNoKGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXNrdVwiKSk7XG4gICAgfSk7XG4gICAgaWYgKCFza3VMaXN0Lmxlbmd0aCkge1xuICAgICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgU0tVcyBub3QgZm91bmQgb24gTGlzdGluZ3BhZ2VcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShORF9TS1VfTElTVCwgSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCkpO1xuXG4gICAgcmV0dXJuIHNrdUxpc3Q7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIHByb2R1Y3QgcGFnZVxuICBydWxlLnZhbHVlID0gXCJQcm9kdWN0cGFnZVwiO1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC1za3VcIik7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1Ugbm90IGZvdW5kIG9uIFByb2R1Y3RwYWdlXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNrdUxpc3QucHVzaChlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc2t1XCIpIHx8IGVsZW1lbnQudGV4dENvbnRlbnQ/LnRyaW0oKT8ucmVwbGFjZSgvXFwpL2csIFwiXCIpPy5yZXBsYWNlKC9cXCgvZywgXCJcIikpO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTkRfU0tVX0xJU1QsIEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpKTtcblxuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBiYXNrZXQgcGFnZVxuICBydWxlLm9wZXJhdG9yID0gXCJwYXRoXCI7XG4gIHJ1bGUudmFsdWUgPSBcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiO1xuICBpZiAoY2hlY2tVcmxSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FydC1pbnNpZGVcIikpO1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHNrdUxpc3QucHVzaChlLmdldEF0dHJpYnV0ZShcImRhdGEtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBiYXNrZXQgcGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNULCBKU09OLnN0cmluZ2lmeShza3VMaXN0KSk7XG5cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIGxvZ2dlci5sb2coXCJVbmlkZW50aWZpZWQgcGFnZSB0eXBlXCIpO1xuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1NlbmRCZWFjb25TdXBwb3J0ZWQgPSAoKSA9PiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbiAmJiB0eXBlb2YgbmF2aWdhdG9yLnNlbmRCZWFjb24gPT09IFwiZnVuY3Rpb25cIjtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdERlbGl2ZXJ5RGF0ZSA9IChkYXRlKSA9PiB7XG4gIGlmICghZGF0ZSB8fCB0eXBlb2YgZGF0ZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIGRhdGU7XG5cbiAgY29uc3QgcmVzdWx0ID0gZGF0ZS5tYXRjaChcIihbXFxcXGRdKyktKFtcXFxcZF0rKVxcXFxzPyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcXSspXCIpO1xuICBpZiAoIXJlc3VsdCB8fCByZXN1bHQubGVuZ3RoICE9PSA0KSByZXR1cm4gZGF0ZTtcblxuICB0cnkge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcblxuICAgIGNvbnN0IG1vbnRoSW5kZXggPSBtb250aHNbcmVzdWx0WzNdLnRvTG93ZXJDYXNlKCldO1xuICAgIGlmICghbW9udGhJbmRleCkgcmV0dXJuIGRhdGU7XG5cbiAgICBjb25zdCB5ZWFyID0gbW9udGhJbmRleCA+PSB0b2RheS5nZXRNb250aCgpID8gdG9kYXkuZ2V0RnVsbFllYXIoKSA6IHRvZGF5LmdldEZ1bGxZZWFyKCkgKyAxO1xuXG4gICAgY29uc3QgZXN0aW1hdGVkU3RhcnQgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aEluZGV4LCBwYXJzZUludChyZXN1bHRbMV0pKTtcbiAgICBjb25zdCBlc3RpbWF0ZWRFbmQgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aEluZGV4LCBwYXJzZUludChyZXN1bHRbMl0pKTtcblxuXG4gICAgY29uc3Qgc3RhcnREaWZmT3ZlckRheXMgPSBNYXRoLmNlaWwoTWF0aC5hYnMoZXN0aW1hdGVkU3RhcnQgLSB0b2RheSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICAgIGNvbnN0IGVuZERpZmZPdmVyRGF5cyA9IE1hdGguY2VpbChNYXRoLmFicyhlc3RpbWF0ZWRFbmQgLSB0b2RheSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuXG4gICAgY29uc3Qgc3RhcnREaWZmT3ZlcldlZWtzID0gc3RhcnREaWZmT3ZlckRheXMgPCA3ID8gMCA6IE1hdGguY2VpbChzdGFydERpZmZPdmVyRGF5cyAvIDcpO1xuICAgIGNvbnN0IGVuZERpZmZPdmVyV2Vla3MgPSBlbmREaWZmT3ZlckRheXMgPCA3ID8gMCA6IE1hdGguY2VpbChlbmREaWZmT3ZlckRheXMgLyA3KTtcblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IDAgJiYgZW5kRGlmZk92ZXJXZWVrcyA9PT0gMCkge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJEYXlzfSAtICR7ZW5kRGlmZk92ZXJEYXlzfSBHw5xOIMSww4fEsE5ERWA7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gMCAmJiBlbmREaWZmT3ZlcldlZWtzID49IDEpIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyRGF5c30gR8OcTiAtICR7ZW5kRGlmZk92ZXJXZWVrc30gSEFGVEEgxLDDh8SwTkRFYDtcbiAgICB9XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSBlbmREaWZmT3ZlcldlZWtzKSB7XG4gICAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlcldlZWtzfSBIQUZUQSDEsMOHxLBOREVgO1xuICAgIH1cblxuICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyV2Vla3N9IC0gJHtlbmREaWZmT3ZlcldlZWtzfSBIQUZUQSDEsMOHxLBOREVgO1xuICB9IGNhdGNoIChlcnIgKSB7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbn07XG4iLCJleHBvcnQgY29uc3QgcmVwbGFjZUFsbCA9IChzdHIsIGZpbmQsIHJlcGxhY2UgPSBcIlwiKSA9PiB7XG4gIGlmICghc3RyKSByZXR1cm4gXCJcIjtcblxuICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKGZpbmQpO1xuICBpZiAoaW5kZXggPCAwKSByZXR1cm4gc3RyO1xuXG4gIHdoaWxlIChzdHIuaW5kZXhPZihmaW5kKSA+PSAwKSB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihmaW5kKTtcbiAgICBzdHIgPSAoaW5kZXggPiAwID8gc3RyLnN1YnN0cmluZygwLCBpbmRleCkgOiBcIlwiKSArIHJlcGxhY2UgKyBzdHIuc3Vic3RyaW5nKGluZGV4ICsgZmluZC5sZW5ndGgpO1xuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge2V4aXRTY3JvbGxMaXN0ZW5lciwgc3R5bGVBcHBsaWNhdG9yLCBkZWxheX0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge3JlcGxhY2VBbGx9IGZyb20gXCIuLi9zdHJpbmdVdGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUlksIFNFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2RhdGFMYXllckZpbmRlcn0gZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5hc3luYyBmdW5jdGlvbiBhcHBseVRyZWF0bWVudHModHJlYXRtZW50cywgcHJvZHVjdEluZm8pIHtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBwbHkgVHJlYXRtZW50c1wiKTtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBR30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCB0cmFuc2Zvcm1lciA9IGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyZWF0bWVudCkge1xuICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQ6IFwiLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnQpKTtcbiAgICBjb25zdCB7XG4gICAgICBvcGVyYXRvcixcbiAgICAgIHR5cGUsXG4gICAgICBhcHBseUV2ZW50LFxuICAgICAgY29udGVudFNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3IsXG4gICAgICBzZWxlY3RvckZhbGxiYWNrLFxuICAgICAgbWRDb25kaXRpb24sXG4gICAgICBtb3ZlX3NlbGVjdG9yXzEsXG4gICAgICBtb3ZlX3NlbGVjdG9yXzIsXG4gICAgICByZXBsYWNlRm4sXG4gICAgfSA9IHRyZWF0bWVudDtcbiAgICBsZXQge3ZhbHVlfSA9IHRyZWF0bWVudDtcbiAgICBsZXQgZWxlbWVudCA9ICQoc2VsZWN0b3IpO1xuXG4gICAgY29uc3QgbWMgPSBtZENvbmRpdGlvbiA/IHdpbmRvdy5tYXRjaE1lZGlhKG1kQ29uZGl0aW9uKS5tYXRjaGVzIDogdHJ1ZTtcbiAgICBpZiAoIW1jKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTWVkaWEgY29uZGl0aW9uIG1pc21hdGNoOiBcIiwgbWRDb25kaXRpb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAobW92ZV9zZWxlY3Rvcl8xICYmICFtb3ZlX3NlbGVjdG9yXzIpIHx8XG4gICAgICAobW92ZV9zZWxlY3Rvcl8yICYmICFtb3ZlX3NlbGVjdG9yXzEpXG4gICAgKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQm90aCBtb3ZlIHNlbGVjdG9ycyBhcmUgcmVxdWlyZWRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb3ZlX3NlbGVjdG9yXzEgJiYgbW92ZV9zZWxlY3Rvcl8yKSB7XG4gICAgICBpZiAoISQobW92ZV9zZWxlY3Rvcl8xKS5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk1vdmUgc2VsZWN0b3IgMSBub3QgZm91bmQ6IFwiLCBtb3ZlX3NlbGVjdG9yXzEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoISQobW92ZV9zZWxlY3Rvcl8yKS5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk1vdmUgc2VsZWN0b3IgMiBub3QgZm91bmQ6IFwiLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3Qgc3BlY2lmaWVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgIGlmIChzZWxlY3RvciAhPT0gXCJuby1zZWxlY3RvclwiKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBmb3VuZDogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVHJ5aW5nIGZhbGxiYWNrIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKHNlbGVjdG9yRmFsbGJhY2spIGVsZW1lbnQgPSAkKHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJGYWxsYmFjayBzZWxlY3RvciBub3QgZm91bmRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVwbGFjZUZuRXhlY3V0b3IgPSAocmVwbGFjZUZuLCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHJlcGxhY2VGbiAmJiB2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJFeGVjdXRpbmcgcmVwbGFjZSBmdW5jdGlvbjogXCIsIHJlcGxhY2VGbik7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgICAgZGF0YUxheWVyRmluZGVyLFxuICAgICAgICAgIHByb2R1Y3RJbmZvLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXBsYWNlRnVuY3Rpb24gPSBGdW5jdGlvbihyZXBsYWNlRm4pLmJpbmQoY29udGV4dCk7XG4gICAgICAgIHZhbHVlID0gcmVwbGFjZUFsbCh2YWx1ZSwgXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlRnVuY3Rpb24oKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaCgodmFsLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZXBsYWNlRm4gPSByZXBsYWNlRm4gPyByZXBsYWNlRm5baV0gfHwgcmVwbGFjZUZuIDogXCJcIjtcbiAgICAgICAgdmFsdWVbaV0gPSByZXBsYWNlRm5FeGVjdXRvcihjdXJyZW50UmVwbGFjZUZuLCB2YWwpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gcmVwbGFjZUZuRXhlY3V0b3IocmVwbGFjZUZuLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKG9wZXJhdG9yID09PSBcInJlbW92ZVwiKSB7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVtb3Zpbmc6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiQ2Fubm90IGZvdW5kIGVsZW1lbnQgd2l0aCBzZWxlY3RvcjogXCIsIHNlbGVjdG9yKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImluc2VydFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJlZm9yZVwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbnNlcnRpbmcgYmVmb3JlOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGlmIChTdHJpbmcodmFsdWUpLmluY2x1ZGVzKFwibmQtYWRkLXRvLXdpblwiKSkge1xuICAgICAgICAgICAgJChcIi5uZC1hZGQtdG8td2luXCIpLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50LmJlZm9yZSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhZnRlclwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbnNlcnRpbmcgYWZ0ZXI6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5hZnRlcih2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3B1cFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRykpICE9PSAwKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJQb3B1cCBhbHJlYWR5IGRpc3BsYXllZCBpbiBzZXNzaW9uXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDcmVhdGluZyBQb3B1cDogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNyZWF0ZVBvcHVwKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBjb25zdCBtb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJleGl0SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgZXhpdCBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBleGl0U2Nyb2xsTGlzdGVuZXIoZGlzcGxheVBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtb3VzZWxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAge29uY2U6IHRydWV9LFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY29weUludGVudFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQWRkaW5nIGNvcHkgaW50ZW50IGxpc3RlbmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29weVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwLFxuICAgICAgICAgICAgICAgICAgICAgICAge29uY2U6IHRydWV9LFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGFwcGVuZCBwb3B1cCB0byBib2R5IGFmdGVyIHRpbWVvdXQgZXhwaXJlc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiZWRpdFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiRWRpdGluZyB0ZXh0OiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkVkaXRpbmcgaHRtbDogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVBcHBsaWNhdG9yXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHN0eWxlOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVDaGFuZ2VzTWFwID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiU3R5bGUgQ2hhbmdlcyBNYXA6IFwiLCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgICAgc3R5bGVBcHBsaWNhdG9yKGVsZW1lbnQsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQ2xhc3NcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBhZGRkaW5nIGNsYXNzIHRvICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJlbW92ZUNsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgcmVtb3ZlIGNsYXNzIGZyb20gJHtlbGVtZW50fSBuYW1lZCAke3ZhbHVlfWApO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3ModmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG9jdW1lbnRUaXRsZVwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYGNoYW5naW5nIGRvY3VtZW50IHRpdGxlIGZyb20gJHtlbGVtZW50fSB0byAke3ZhbHVlfWApO1xuICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50ID09IFwidGFiQ2hhbmdlXCIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiY2F0Y2hpbmcgZXZlbnQgdGFiY2hhbmdlLi5cIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIChlKSA9PlxuICAgICAgICAgICAgICAgICAgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZShlLCB2YWx1ZSwgb3JpZ2luYWxUaXRsZSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZEJhbm5lclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHtORF9TS1VfTElTVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgICAgICAgICAgIGlmICghcHJvZHVjdEluZm8pIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyB1bmF2YWlsYWJsZVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQWRkaW5nIGJhbm5lcjogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRTa3UgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTkRfU0tVX0xJU1QpKVswXTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudFNrdSkge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQ291bGQgbm90IGZpbmQgcHJvZHVjdCBza3VcIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwcm9kdWN0SW5mbykuaW5jbHVkZXMoZWxlbWVudFNrdSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBlbGVtZW50LmJlZm9yZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJVbmtub3duIGVkaXQgdHlwZTogXCIsIHR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwic2V0YXR0cmlidXRlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTZXR0aW5nIGF0dHJpYnV0ZTogXCIsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgc3dpdGNoIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgY2FzZSBcInNyY1wiOlxuICAgICAgICAgIGVsZW1lbnQuY3NzKFwiY29udGVudFwiLCBgdXJsKCR7dmFsdWUudHJpbSgpfSlgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHkgPSB2YWx1ZS5zcGxpdChcIjpcIilbMF0udHJpbSgpO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgIGNvbnN0IHByb3BlcnR5VmFsdWUgPSB2YWx1ZS5zcGxpdChcIjpcIilbMV0udHJpbSgpO1xuXG4gICAgICAgICAgZWxlbWVudC5jc3MocHJvcGVydHksIHByb3BlcnR5VmFsdWUsIFwiIWltcG9ydGFudFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInJlcGxhY2VcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZzogXCIsIHZhbHVlKTtcbiAgICAgIGVsZW1lbnQucmVwbGFjZUFsbCh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzd2FwXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTd2FwcGluZzogXCIsIG1vdmVfc2VsZWN0b3JfMSwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIGNvbnN0IG4xID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzEpO1xuICAgICAgY29uc3QgbjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBzd2FwTm9kZXMobjEsIG4yKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImluamVjdHNjcmlwdFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiSW5qZWN0aW5nIHNjcmlwdDogXCIsIHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kKGA8c2NyaXB0PiR7dmFsdWV9PC9zY3JpcHQ+YCk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJtb3ZlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coYE1vdmluZyAke21vdmVfc2VsZWN0b3JfMX0gdG8gJHttb3ZlX3NlbGVjdG9yXzJ9YCk7XG4gICAgICBjb25zdCBzb3VyY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBkZXN0aW5hdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIHNvdXJjZS5yZW1vdmUoKTtcbiAgICAgIGRlc3RpbmF0aW9uLnByZXBlbmQoc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIm5vb3BcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIk5vb3AgT3BlcmF0b3I6IE5vIG9wZXJhdGlvbiBpcyBhcHBsaWVkIG9uIHRhcmdldCBcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci5sb2coXCJObyBzdWNoIG9wZXJhdG9yIGV4aXN0cyB5ZXRcIiwgb3BlcmF0b3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlID0gYXN5bmMgKGV2ZW50LCB0aXRsZXMsIG9yaWdpbmFsVGl0bGUpID0+IHtcbiAgICBjb25zdCBwYXJzZWRUaXRsZXMgPSAhQXJyYXkuaXNBcnJheSh0aXRsZXMpID8gW3RpdGxlc10gOiB0aXRsZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJzZWRUaXRsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBwYXJzZWRUaXRsZXNbaV07XG4gICAgICAgIGF3YWl0IGRlbGF5KDMwMDApO1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICAgIGF3YWl0IGRlbGF5KDMwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGV2ZW50LCB0aXRsZXMsIG9yaWdpbmFsVGl0bGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQb3B1cENsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgaWQgPSBldmVudC50YXJnZXQuaWQ7XG4gICAgaWYgKGlkICYmIGlkID09PSBcIm5kLXBvcHVwX193cmFwcGVyXCIpIHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNwbGF5UG9wdXAgPSAoKSA9PiB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDEpO1xuICAgIGNvbnN0IHFQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3J0LXNoYWRvdy1ob3N0XCIpO1xuICAgIGlmIChxUG9wdXApIHFQb3B1cC5zdHlsZVtcImRpc3BsYXlcIl0gPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5kLXBvcHVwX193cmFwcGVyXCIpLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwiYmxvY2tcIjtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9LCAxNTAwMCk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlUG9wdXAgPSAodmFsdWUsIGNvbnRlbnRTZWxlY3RvcikgPT4ge1xuICAgIC8vIENyZWF0ZSBwb3B1cCB3cmFwcGVyXG4gICAgY29uc3QgcG9wdXBXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgIHBvcHVwV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwibmQtcG9wdXBfX3dyYXBwZXJcIik7XG4gICAgcG9wdXBXcmFwcGVyLmlkID0gXCJuZC1wb3B1cF9fd3JhcHBlclwiO1xuXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGNsb3NlIGJ1dHRvblxuICAgIGNvbnN0IHBvcHVwQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChcIm5kLXBvcHVwX19idXR0b24tY2xvc2VcIik7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIlhcIjtcbiAgICBwb3B1cENsb3NlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgaWYgKGNvbnRlbnRTZWxlY3Rvcikge1xuICAgICAgY29uc3QgY29udGVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29udGVudFNlbGVjdG9yKSk7XG4gICAgICB3aGlsZSAodmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSAmJiBjb250ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIGNvbnRlbnRzLnNoaWZ0KCkuc3JjKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgZnJvbSB0cmVhdG1lbnQgYW5kIGFwcGVuZCBjbG9zZSBidXR0b25cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZS50cmltKCk7XG4gICAgY29uc3QgcG9wdXAgPSB0ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgcG9wdXAuYXBwZW5kQ2hpbGQocG9wdXBDbG9zZUJ1dHRvbik7XG4gICAgcG9wdXBXcmFwcGVyLmFwcGVuZENoaWxkKHBvcHVwKTtcblxuICAgIC8vIFJlbW92ZSBvbGQgcG9wdXAgaWYgZXhpc3RzIGJlZm9yZSBhcHBlbmRpbmcgbmV3IG9uZVxuICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwb3B1cFdyYXBwZXIpO1xuICB9O1xuXG4gIGNvbnN0IHN3YXBOb2RlcyA9IGZ1bmN0aW9uIHN3YXBOb2RlcyhuMSwgbjIpIHtcbiAgICBjb25zdCBwMSA9IG4xLnBhcmVudE5vZGU7XG4gICAgY29uc3QgcDIgPSBuMi5wYXJlbnROb2RlO1xuICAgIGxldCBpMTtcbiAgICBsZXQgaTI7XG5cbiAgICBpZiAoIXAxIHx8ICFwMiB8fCBwMS5pc0VxdWFsTm9kZShuMikgfHwgcDIuaXNFcXVhbE5vZGUobjEpKSByZXR1cm47XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAxLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocDEuY2hpbGRyZW5baV0uaXNFcXVhbE5vZGUobjEpKSB7XG4gICAgICAgIGkxID0gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMi5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAyLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4yKSkge1xuICAgICAgICBpMiA9IGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHAxLmlzRXF1YWxOb2RlKHAyKSAmJiBpMSA8IGkyKSB7XG4gICAgICBpMisrO1xuICAgIH1cbiAgICBwMS5pbnNlcnRCZWZvcmUobjIsIHAxLmNoaWxkcmVuW2kxXSk7XG4gICAgcDIuaW5zZXJ0QmVmb3JlKG4xLCBwMi5jaGlsZHJlbltpMl0pO1xuICB9O1xuXG4gIGNvbnN0IHRyZWF0bWVudEFwcGxpY2F0b3IgPSAodHJlYXRtZW50TGlzdCkgPT4ge1xuICAgIGlmICghd2luZG93LmpRdWVyeSkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgdHJlYXRtZW50QXBwbGljYXRvcih0cmVhdG1lbnRMaXN0KTtcbiAgICAgIH0sIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgdHJlYXRtZW50TGlzdCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRyYW5zZm9ybWVyKHRyZWF0bWVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlci5sb2coXG4gICAgICAgICAgICAgIGBDb3VsZG4ndCBhcHBseSB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgLy8gU2V0IGlkIG9mIGZhaWxlZCB0cmVhdG1lbnQgdG8gLTEsXG4gICAgICAgICAgLy8gc28gd2Uga25vdyBub3QgdG8gbGlzdCBpbiB0aGUgY3VzdG9tIEdBIGV2ZW50XG4gICAgICAgICAgLy8gdHJlYXRtZW50TGlzdFt0cmVhdG1lbnRdLmlkID0gLTE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQXBwbHkgdHJlYXRtZW50c1xuICB0cmVhdG1lbnRBcHBsaWNhdG9yKHRyZWF0bWVudHMpO1xufVxuZXhwb3J0IGRlZmF1bHQgYXBwbHlUcmVhdG1lbnRzO1xuIiwiaW1wb3J0IHtMT0dfQVBJX1VSTH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjcmVhdGVIYXNoU3RyaW5nLCBpc1NlbmRCZWFjb25TdXBwb3J0ZWR9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBNb25pdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBNb25pdG9yXCIpO1xuICAgIHRoaXMubG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBtb25pdG9yXCIpO1xuXG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBudWxsO1xuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gZmFsc2U7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCA9IG51bGw7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA9IGZhbHNlO1xuICAgIHRoaXMuaGVhZGVycyA9IHtcbiAgICAgIHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgdGhpcy5pc0xvZ2dlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5pbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBhc3luYyBzZW5kTG9ncyhtZXNzYWdlID0gbnVsbCwgaXNFcnJvciA9IGZhbHNlKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxvZ2dlci5sb2coXCJTZW5kaW5nIGxvZ3NcIik7XG5cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiRG9jdW1lbnQgcmVhZHkgc3RhdGUgaXMgbm90IGNvbXBsZXRlXCIpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIG9ubG9hZCBldmVudFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlUXVldWVMb2dzKHJlcXVlc3RCbG9iLCBpc0Vycm9yID0gZmFsc2UpIHtcbiAgICBpZiAoIWlzRXJyb3IgJiYgdGhpcy5pc0xvZ2dlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghcmVxdWVzdEJsb2IpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgY3JlYXRlIHJlcXVlc3QgYmxvYlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlJlcXVlc3QgYmxvYiB0byBzZW5kOiBcIiwgcmVxdWVzdEJsb2IpO1xuICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcblxuICAgIHRoaXMuaXNMb2dnZWQgPSB0cnVlO1xuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhKU09OLnN0cmluZ2lmeSh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmEpKTtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5lKSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVMYXRlc3RDaGFuZ2VzKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgaWYgdGhlcmUgYXJlIGNoYW5nZXNcIik7XG5cbiAgICBjb25zdCBhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5hKSk7XG4gICAgY29uc3QgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5lKSk7XG5cbiAgICBpZiAoYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCAhPT0gdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2gpIHtcbiAgICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaDtcbiAgICB9XG4gICAgaWYgKGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCAhPT0gdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCkge1xuICAgICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA9IHRydWU7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoO1xuICAgIH1cbiAgfVxuXG4gIHBhY2thZ2VMb2dEYXRhKG1lc3NhZ2UgPSBudWxsKSB7XG4gICAgY29uc3Qge2hlYWRlcnN9ID0gdGhpcztcbiAgICBjb25zdCBib2R5ID0gey4uLndpbmRvdy5iZWFnbGVJbmZvTGF5ZXJ9O1xuICAgIGNvbnN0IG0gPSBtZXNzYWdlID8gbWVzc2FnZSA6IE9iamVjdC5rZXlzKGJvZHkuYSB8fCB7fSkubGVuZ3RoID8gXCJUcmVhdG1lbnRzIGFwcGxpZWRcIiA6IFwiTm8gdHJlYXRtZW50cyBhcHBsaWVkXCI7XG4gICAgYm9keS50ID0gRGF0ZS5ub3coKTtcbiAgICBib2R5Lm0gPSBtO1xuXG4gICAgcmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShib2R5KV0sIGhlYWRlcnMpO1xuICB9XG5cbiAgcGFja2FnZVVwZGF0ZUxvZ0RhdGEoKSB7XG4gICAgY29uc3Qge2hlYWRlcnMsIGFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcywgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXN9ID0gdGhpcztcbiAgICBpZiAoIWFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyAmJiAhZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgdDogRGF0ZS5ub3coKSxcbiAgICAgIGE6IGFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA/IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYSA6IHt9LFxuICAgICAgZTogZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPyB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmUgOiB7fSxcbiAgICAgIHZJZDogd2luZG93LmJlYWdsZUluZm9MYXllci52SWQsXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsZXQgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IGZhbHNlO1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgZXhpdCBldmVudCBsaXN0ZW5lclwiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJiZWZvcmV1bmxvYWRcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5pc0xvZ2dlZCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzRXhpdEV2ZW50Q2FwdHVyZWQpIHJldHVybjtcbiAgICAgICAgICBpc0V4aXRFdmVudENhcHR1cmVkID0gdHJ1ZTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW4gYmVmb3JldW5sb2FkIGV2ZW50XCIpO1xuICAgICAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLnBhY2thZ2VVcGRhdGVMb2dEYXRhKCk7XG4gICAgICAgICAgaWYgKCFsb2dEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gY2hhbmdlcyB0byBsb2dcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7Y2FwdHVyZTogdHJ1ZX0sXG4gICAgKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJwYWdlaGlkZVwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBwYWdlaGlkZSBldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5wYWNrYWdlVXBkYXRlTG9nRGF0YSgpO1xuICAgICAgICAgIGlmICghbG9nRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIGNoYW5nZXMgdG8gbG9nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnF1ZXVlTG9ncyhsb2dEYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9LFxuICAgICk7XG4gIH1cblxuICBxdWV1ZUxvZ3MobG9nRGF0YSkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghaXNTZW5kQmVhY29uU3VwcG9ydGVkKCkpIHtcbiAgICAgIGZldGNoKExPR19BUElfVVJMLCBsb2dEYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgIGNvbnN0IHF1ZXVlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoIXF1ZXVlZCkgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocXVldWVJbnRlcnZhbCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIHF1ZXVlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgIGlmICghcXVldWVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIG5vdCBxdWV1ZWRcIik7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvcjtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFRSRUFUTUVOVFNfRFVSQVRJT04sIE1PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtmZXRjaFRyZWF0bWVudHMsIGZldGNoVHJlYXRtZW50V2VpZ2h0c30gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFRyZWF0bWVudCBSZXBvc2l0b3J5XCIpO1xuXG5jbGFzcyBUcmVhdG1lbnRSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHtjb29raWVQY3QsIHRyZWF0bWVudHMsIHRyZWF0bWVudFdlaWdodHN9ID0gYm9keTtcbiAgICB0aGlzLnRyZWF0bWVudHMgPSB0cmVhdG1lbnRzO1xuICAgIHRoaXMuY29va2llUGN0ID0gY29va2llUGN0O1xuXG4gICAgdGhpcy50cmVhdG1lbnRXZWlnaHRzID0gdHJlYXRtZW50V2VpZ2h0cztcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRzKCkge1xuICAgIGxvZ2dlci5sb2coXCJMb2FkaW5nIHRyZWF0bWVudHNcIik7XG4gICAgY29uc3Qge1RSRUFUTUVOVFN9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gICAgY29uc3QgdHJlYXRtZW50c09iaiA9IEpTT04ucGFyc2Uod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVFJFQVRNRU5UUykpO1xuICAgIGxldCB0cmVhdG1lbnRzID0gdHJlYXRtZW50c09iaj8udHJlYXRtZW50cztcbiAgICBjb25zdCB0aW1lc3RhbXAgPSB0cmVhdG1lbnRzT2JqPy50aW1lc3RhbXA7XG4gICAgaWYgKCF0cmVhdG1lbnRzIHx8ICF0aW1lc3RhbXApIHtcbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgICAgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoVHJlYXRtZW50cygpO1xuICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB0cmVhdG1lbnRzLFxuICAgICAgfTtcbiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICAgIH1cbiAgICBpZiAodGltZXN0YW1wKSB7XG4gICAgICBjb25zdCBlbGFwc2VkRGF5cyA9IChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvICgxMDAwICogMzYwMCAqIDI0KTtcbiAgICAgIGlmIChlbGFwc2VkRGF5cyA+IFRSRUFUTUVOVFNfRFVSQVRJT04pIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgYXJlIGV4cGlyZWRcIik7XG4gICAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgYXJlIGxvYWRlZCBmcm9tIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VHJlYXRtZW50V2VpZ2h0cygpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGZldGNoVHJlYXRtZW50V2VpZ2h0cygpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xuICAgICAgdGhpcy50cmVhdG1lbnRXZWlnaHRzID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNYXRjaGVkVHJlYXRtZW50cygpIHtcbiAgICBjb25zdCB0cmVhdG1lbnRXZWlnaHRzID0gdGhpcy50cmVhdG1lbnRXZWlnaHRzO1xuICAgIGNvbnN0IHVzZXJHcm91cCA9IHRoaXMuZ2V0VXNlckdyb3VwKCk7XG4gICAgY29uc3QgdHJlYXRtZW50cyA9IHRoaXMudHJlYXRtZW50cztcbiAgICBpZiAodHJlYXRtZW50V2VpZ2h0cykge1xuICAgICAgY29uc3QgdXNlckdyb3VwV2VpZ2h0cyA9ICh1c2VyR3JvdXAgJiYgdHJlYXRtZW50V2VpZ2h0c1t1c2VyR3JvdXBdKSA/XG4gICAgICB0cmVhdG1lbnRXZWlnaHRzW3VzZXJHcm91cF0gOiB0cmVhdG1lbnRXZWlnaHRzW1wiZGVmYXVsdFwiXTtcbiAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHRyZWF0bWVudHMpIHtcbiAgICAgICAgLy8gVHJlYXRtZW50IHdlaWdodCBjYW4gYmUgc2V0IHRvIDAgaWYgbm9uLWV4aXN0ZW50IGluIHVzZXIgZ3JvdXBcbiAgICAgICAgLy8gaWYgKCF1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0pIHRyZWF0bWVudC53ZWlnaHQgPSAwO1xuICAgICAgICBpZiAoIXVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXSkgY29udGludWU7XG4gICAgICAgIHRyZWF0bWVudC53ZWlnaHQgPSB1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0ud2VpZ2h0O1xuICAgICAgICBpZiAodHJlYXRtZW50LmFjdGlvbnMuZmluZCgoYSkgPT4gYS52YXJpYW50cykpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0cmVhdG1lbnQuYWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKGFjdGlvbi52YXJpYW50cykge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnRLZXkgb2YgT2JqZWN0LmtleXMoYWN0aW9uLnZhcmlhbnRzKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQgPSB1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0udmFyaWFudHNbdmFyaWFudEtleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsb2dnZXIubG9nKGAke3RyZWF0bWVudHMubGVuZ3RofSB0cmVhdG1lbnRzIHVzZXIgZ3JvdXAgbWF0Y2hlZGApO1xuICAgIGlmICghdHJlYXRtZW50cy5sZW5ndGgpIHJldHVybiBbXTtcbiAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgfVxuXG4gIGdldFVzZXJHcm91cCgpIHtcbiAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICBpZiAoaXNNb2JpbGUpIHJldHVybiBcIlVHQlwiO1xuICAgIHJldHVybiBcIlVHQVwiO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyZWF0bWVudFJlcG9zaXRvcnk7XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTLCBMT0NBTF9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IENvdW50ZXIgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrQ291bnRlclJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwicGFnZVZpZXdcIjpcbiAgICAgIHJldHVybiBwYWdlVmlld0hhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcIkNBQmFza2V0UHJpY2VcIjpcbiAgICAgIHJldHVybiBjYUJhc2tldFByaWNlSGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggb3BlcmF0b3JcIiwgb3BlcmF0b3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5jb25zdCBnZXRDb3VudGVyID0gKGNvdW50ZXIsIHR5cGUpID0+IHtcbiAgdHJ5IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGNvdW50ZXIpO1xuICAgICAgY2FzZSBcImxvY2FsXCI6XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjb3VudGVyKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5sb2coXCJObyBzdWNoIHR5cGVcIiwgdHlwZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmxvZyhgQ291bGQgbm90IGdldCBjb3VudGVyICR7Y291bnRlcn1gLCBlcnIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBwYWdlVmlld0hhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBwYWdlVmlld3MgPSBwYXJzZUludChnZXRDb3VudGVyKFNFU1NJT05fU1RPUkFHRV9LRVlTLlBBR0VfVklFV1MsIFwic2Vzc2lvblwiKSk7XG4gIGxvZ2dlci5sb2coXCJQYWdlIHZpZXdzIGNvdW50ZXIgdmFsdWU6IFwiLCBwYWdlVmlld3MpO1xuICBpZiAocGFnZVZpZXdzID09PSBudWxsKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlBhZ2V2aWV3cyBjb3VudGVyIG5vdCBmb3VuZCBpbiBzZXNzaW9uIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHBhZ2VWaWV3cywgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgY2FCYXNrZXRQcmljZUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjYUJhc2tldFByaWNlID0gcGFyc2VJbnQoXG4gICAgICBnZXRDb3VudGVyKExPQ0FMX1NUT1JBR0VfS0VZUy5DT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIFwibG9jYWxcIikpO1xuICBsb2dnZXIubG9nKFwiQ291cG9uIGFwcGxpY2FibGUgYmFza2V0IHByaWNlIGNvdW50ZXIgdmFsdWU6IFwiLCBjYUJhc2tldFByaWNlKTtcbiAgaWYgKGNhQmFza2V0UHJpY2UgPT09IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKFwiQ291cG9uIGFwcGxpY2FibGUgYmFza2V0IHByaWNlIGNvdW50ZXIgbm90IGZvdW5kIGluIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGNhQmFza2V0UHJpY2UsIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEVsZW1lbnQgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRWxlbWVudFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlLCBzZWxlY3Rvciwgc2VsZWN0b3JBbGwsIHNlbGVjdG9yRmFsbGJhY2sgPSBudWxsfSA9IHJ1bGU7XG4gIGxldCBtYWluU2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpKSB7XG4gICAgbWFpblNlbGVjdG9yID0gc2VsZWN0b3JGYWxsYmFjayA/IHNlbGVjdG9yRmFsbGJhY2sgOiBtYWluU2VsZWN0b3I7XG4gIH1cblxuICBpZiAob3BlcmF0b3IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvciksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICB9XG4gIGlmIChtYWluU2VsZWN0b3IgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3QgZm91bmQgb24gcGFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNlbGVjdG9yQWxsICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yQWxsKSkge1xuICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3QgZm91bmQgb24gcGFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgZWxlbWVudDtcbiAgaWYgKG1haW5TZWxlY3RvcikgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKTtcbiAgZWxzZSBpZiAoc2VsZWN0b3JBbGwpIGVsZW1lbnQgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInRleHQtbnVtYmVyXCI6IHtcbiAgICAgIGxldCB0ZW1wVmFsO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgICAgdGVtcFZhbCA9IGVsZW1lbnQucmVkdWNlKChyZXR1cm5WYWwsIGVsZW0pID0+IHtcbiAgICAgICAgICByZXR1cm5WYWwgKz0gcGFyc2VJbnQoZWxlbS50ZXh0Q29udGVudC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcFZhbCA9IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKS50ZXh0Q29udGVudFxuICAgICAgICAgICAgLnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICB9XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBwYXJzZUludCh0ZW1wVmFsKTtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNhc2UgXCJjbGFzc0xpc3RcIjpcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiY291bnRcIjoge1xuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gQXJyYXkuaXNBcnJheShlbGVtZW50KSA/IGVsZW1lbnQubGVuZ3RoIDogZWxlbWVudCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5sb2coXCJPcGVyYXRvciBub3QgZGVmaW5lZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEZ1bmN0aW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0Z1bmN0aW9uUnVsZSA9IChydWxlLCBvcHRzKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7cHJvZHVjdEluZm99ID0gb3B0cztcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlLCBiaW5kaW5nc30gPSBydWxlO1xuICBpZiAoIW9wZXJhdG9yKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlJ1bGUgZnVuY3Rpb24gbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBjb250ZXh0ID0ge307XG4gIGlmIChiaW5kaW5ncyA9PSBcInByb2R1Y3RJbmZvXCIpIHtcbiAgICBjb250ZXh0ID0ge1xuICAgICAgcHJvZHVjdEluZm8sXG4gICAgfTtcbiAgfVxuICBjb25zdCBydWxlRnVuY3Rpb24gPSBGdW5jdGlvbihvcGVyYXRvcikuYmluZChjb250ZXh0KTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gcnVsZUZ1bmN0aW9uKCk7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgU2Vzc2lvbiBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tTZXNzaW9uUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJkdXJhdGlvblwiOlxuICAgICAgcmV0dXJuIGR1cmF0aW9uSGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiaGlzdG9yeVwiOlxuICAgICAgcmV0dXJuIGhpc3RvcnlIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgZ2V0U2Vzc2lvblRpbWVzdGFtcCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IERhdGUocGFyc2VJbnQod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9USU1FU1RBTVApKSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgZ2V0IHNlc3Npb24gdGltZXN0YW1wXCIsIGVycik7XG4gICAgcmV0dXJuIERhdGUubm93KCk7XG4gIH1cbn07XG5cbmNvbnN0IGR1cmF0aW9uSGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGR1cmF0aW9uID0gKERhdGUubm93KCkgLSBnZXRTZXNzaW9uVGltZXN0YW1wKCkpIC8gMTAwMDtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoZHVyYXRpb24sIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbmNvbnN0IGhpc3RvcnlIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgY3VycmVudEhpc3RvcnkgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX0hJU1RPUlkpPy5zcGxpdChcIixcIik7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGN1cnJlbnRIaXN0b3J5LCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUll9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRW52IENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0VudlJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJkZXZpY2VfdHlwZVwiOiB7XG4gICAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcyA/IFwibW9iaWxlXCIgOiBcImRlc2t0b3BcIjtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKGlzTW9iaWxlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXIsIGRldGVybWluZVBjdCwgZ2V0SWRlbnRpZmllcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFJhbmRvbVBjdCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tSYW5kb21OdW1iZXJSdWxlID0gYXN5bmMgKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtjb25kaXRpb24sIHZhbHVlLCBzYWx0fSA9IHJ1bGU7XG4gIGlmICghc2FsdCkge1xuICAgIGxvZ2dlci5sb2coXCJTYWx0IGlzIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBpZGVudGlmaWVyID0gYXdhaXQgZ2V0SWRlbnRpZmllcigpO1xuICBjb25zdCByYW5kb21QY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIHNhbHQpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSByYW5kb21QY3Q7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuIiwiaW1wb3J0IHtjaGVja0NvdW50ZXJSdWxlfSBmcm9tIFwiLi9jb3VudGVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0RhdGFMYXllclJ1bGV9IGZyb20gXCIuL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tFbGVtZW50UnVsZX0gZnJvbSBcIi4vZWxlbWVudENoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tGdW5jdGlvblJ1bGV9IGZyb20gXCIuL2Z1bmN0aW9uQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1Nlc3Npb25SdWxlfSBmcm9tIFwiLi9zZXNzaW9uQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1VybFJ1bGV9IGZyb20gXCIuL3VybENoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tFbnZSdWxlfSBmcm9tIFwiLi9lbnZDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrUmFuZG9tTnVtYmVyUnVsZX0gZnJvbSBcIi4vcmFuZG9tTnVtYmVyQ2hlY2tlclwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBSdWxlIEVuZ2luZVwiKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVsZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7YmFzZVJ1bGVTZXQsIGJ1c2luZXNzUnVsZVNldCwgYmluZGluZ3MsIGNhbGxiYWNrID0gbnVsbH0gPSBib2R5O1xuICAgIHRoaXMuYmFzZVJ1bGVTZXQgPSBiYXNlUnVsZVNldDtcbiAgICB0aGlzLmJ1c2luZXNzUnVsZVNldCA9IGJ1c2luZXNzUnVsZVNldDtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5iaW5kaW5ncyA9IGJpbmRpbmdzO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5iYXNlUnVsZVNldCkge1xuICAgICAgY29uc3QgcnVsZVNhdGlzZmllZCA9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgaWYgKCFydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBhc3luYyBjaGVja0J1c2luZXNzUnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuYnVzaW5lc3NSdWxlU2V0KSB7XG4gICAgICBjb25zdCBydWxlU2F0aXNmaWVkID0gYXdhaXQgdGhpcy5jaGVja1J1bGUocnVsZSk7XG4gICAgICBpZiAocnVsZVNhdGlzZmllZCkge1xuICAgICAgICByZXR1cm4gcnVsZS5idXNpbmVzc1J1bGVJZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBjaGVja1J1bGUocnVsZSkge1xuICAgIGNvbnN0IHtjaGFpbiwgY2hhaW5fY29uZGl0aW9uLCB0eXBlfSA9IHJ1bGU7XG4gICAgbGV0IHJ1bGVTYXRpc2ZpZWQgPSBudWxsO1xuICAgIC8vIGNoZWNrIHJ1bGVcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1Nlc3Npb25SdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb3VudGVyXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0NvdW50ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbGVtZW50XCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0VsZW1lbnRSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkYXRhTGF5ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRGF0YUxheWVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1VybFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0Z1bmN0aW9uUnVsZShydWxlLCB0aGlzLmJpbmRpbmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZW52aXJvbm1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRW52UnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmFuZG9tXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCBjaGVja1JhbmRvbU51bWJlclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmxvZyhgTm8gc3VjaCBydWxlIHR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGNoYWluKSB7XG4gICAgICBzd2l0Y2ggKGNoYWluX2NvbmRpdGlvbikge1xuICAgICAgICBjYXNlIFwiYW5kXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgJiYgYXdhaXQgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCB8fCBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4b3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAhPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggY2hhaW4gY29uZGl0aW9uXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZVNhdGlzZmllZDtcbiAgfVxufVxuIiwiaW1wb3J0IHtza3VDb2xsZWN0b3J9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtMT09LVVBfQVBJX1VSTH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBBcGlcIik7XG5cbmV4cG9ydCBjb25zdCBwcm9kdWN0SW5mb0xvb2t1cCA9IGFzeW5jICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHByb2R1Y3QgaW5mbyBsb29rdXBcIik7XG4gIGNvbnN0IHNrdUxpc3QgPSBza3VDb2xsZWN0b3IoKTtcbiAgaWYgKCFza3VMaXN0KSB7XG4gICAgbG9nZ2VyLmxvZyhcIk5vIHNrdSBmb3VuZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgaGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICBsZXQgcHJvZHVjdEluZm87XG4gIHRyeSB7XG4gICAgcHJvZHVjdEluZm8gPSBhd2FpdCBmZXRjaChMT09LVVBfQVBJX1VSTCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpLFxuICAgICAgaGVhZGVycyxcbiAgICAgIG1vZGU6IFwiY29yc1wiLFxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLndhcm4oXCJGZXRjaCB0byBjYXRhbG9nIGFwaSBmYWlsZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKCFwcm9kdWN0SW5mby5vaykge1xuICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IGluZm8gbG9va3VwIGZhaWxlZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBwcm9kdWN0SW5mbyA9IGF3YWl0IHByb2R1Y3RJbmZvLmpzb24oKTtcbiAgaWYgKCFwcm9kdWN0SW5mbykge1xuICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IGluZm8gZXh0cmFjdGlvbiBmcm9tIHJlc3BvbnNlIGZhaWxlZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIGxvb2t1cCBzdWNjZXNzZnVsXCIpO1xuICByZXR1cm4gcHJvZHVjdEluZm87XG59O1xuIiwiaW1wb3J0IGFwcGx5VHJlYXRtZW50cyBmcm9tIFwiLi4vTmV4dGRheUFwcGx5VHJlYXRtZW50cy9pbmRleFwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgTW9uaXRvciBmcm9tIFwiLi4vTmV4dGRheU1vbml0b3IvaW5kZXhcIjtcbmltcG9ydCBUcmVhdG1lbnRSZXBvc2l0b3J5IGZyb20gXCIuLi9OZXh0ZGF5VHJlYXRtZW50UmVwb3NpdG9yeS9pbmRleFwiO1xuaW1wb3J0IFJ1bGVFbmdpbmUgZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lXCI7XG5pbXBvcnQge3Byb2R1Y3RJbmZvTG9va3VwfSBmcm9tIFwiLi4vTmV4dGRheUFwaVwiO1xuaW1wb3J0IHtcbiAgY2hlY2twb2ludCxcbiAgY2hlY2twb2ludHMsXG4gIGFkZEFwcGxpZWRUcmVhdG1lbnQsXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyLFxuICBhZGRFbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnQsXG4gIGluaXRpYWxpemVCZWFnbGVJbmZvTGF5ZXIsXG59IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCB7XG4gIE1PQklMRV9NRURJQV9RVUVSWSxcbiAgU1BMSVRfUkFUSU8sXG4gIExPQ0FMX1NUT1JBR0VfS0VZUyxcbiAgVFJFQVRNRU5UX1JBVElPLFxuICBTRVNTSU9OX1NUT1JBR0VfS0VZUyxcbiAgTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04sXG59IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIGdldElkZW50aWZpZXIsXG4gIGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzLFxuICBpbmplY3RTdHlsZVNoZWV0LFxuICByZW1vdmVEb2N1bWVudEhpZGUsXG4gIGRldGVybWluZVBjdCxcbiAgcHJlcGFyZUFjdGlvbnMsXG4gIGdldERlYnVnTW9kZSxcbiAgaXNTZW5kQmVhY29uU3VwcG9ydGVkLFxufSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuKGFzeW5jIGZ1bmN0aW9uKCkge1xuICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLkJlYWdsZUxvYWRlZCk7XG4gIGxldCBtb25pdG9yID0gbnVsbDtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuICBjb25zdCB7VElNRU9VVF9DT1VOVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgbGV0IHRpbWVvdXRDb3VudGVyID0gMDtcbiAgbG9nZ2VyLmluZm8oXCJOZXh0ZGF5IGluaXRpYWxpemluZ1wiKTtcbiAgdHJ5IHtcbiAgICBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyKCk7XG4gICAgY29uc3QgcHJvZHVjdEluZm9Qcm9taXNlID0gcHJvZHVjdEluZm9Mb29rdXAoKTtcbiAgICAvLyBjaGVjayBpZiBkZWJ1ZyBtb2RlIGlzIG9uLCBhbHNvIGFkZHMgZGJtIHRvIGJlYWdsZUluZm9MYXllclxuICAgIGNvbnN0IGRlYnVnTW9kZSA9IGdldERlYnVnTW9kZSgpO1xuICAgIG1vbml0b3IgPSBuZXcgTW9uaXRvcigpO1xuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuSW5pdGlhbGl6ZWQpO1xuXG4gICAgY29uc3QgaWRlbnRpZmllciA9IGF3YWl0IGdldElkZW50aWZpZXIoKTtcbiAgICBsb2dnZXIubG9nKFwiRm91bmQgY29va2llIGlkZW50aWZpZXI6IFwiLCBpZGVudGlmaWVyKTtcbiAgICBjb25zdCBjb29raWVQY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllcik7XG4gICAgaWYgKCFkZWJ1Z01vZGUpIHtcbiAgICAgIGlmIChjb29raWVQY3QgPCBTUExJVF9SQVRJTykge1xuICAgICAgICBpZiAoY29va2llUGN0ID09PSAtMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgY29va2llIHBjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImlzT25cIiwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiaXNPblwiLCB0cnVlKTtcblxuICAgICAgY2hlY2twb2ludChjaGVja3BvaW50cy5Vc2VyT25PZmYpO1xuXG4gICAgICBpZiAoIWlzU2VuZEJlYWNvblN1cHBvcnRlZCgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInNlbmRCZWFjb24gaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgIH1cblxuICAgICAgdGltZW91dENvdW50ZXIgPSBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFRJTUVPVVRfQ09VTlQpKSB8fCAwO1xuICAgICAgaWYgKHRpbWVvdXRDb3VudGVyID4gTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04pIHtcbiAgICAgICAgY2hlY2twb2ludChjaGVja3BvaW50cy5UaW1lb3V0VGhyZXNob2xkUmVhY2hlZCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5leHRkYXkgdGltZW91dCB0aHJlc2hvbGQgcmVhY2hlZFwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgbG9nZ2VyLmluZm8oXCJEZWJ1ZyBtb2RlIG9uOiBhbGwgYXBwbGljYWJsZSB0cmVhdG1lbnRzIHdpbGwgYmUgYXBwbGllZFwiKTtcblxuICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcIm5leHREYXktaGlkZVwiKSkge1xuICAgICAgY2hlY2twb2ludChjaGVja3BvaW50cy5TY3JpcHRUaW1lT3V0KTtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVElNRU9VVF9DT1VOVCwgdGltZW91dENvdW50ZXIgKyAxKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5leHRkYXkgc2NyaXB0IHRpbWVkIG91dFwiKTtcbiAgICB9XG4gICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG4gICAgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LmlzT24gPT09IHRydWUpIHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcInRydWVcIn0pO1xuICAgIH0gZWxzZSBpZiAod2luZG93LmJlYWdsZUluZm9MYXllcj8uaXNPbiA9PT0gZmFsc2UpIHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcImZhbHNlXCJ9KTtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuaXNPbiA9PT0gZmFsc2UpIHRocm93IG5ldyBFcnJvcihcIkNvbnRyb2wgZ3JvdXA6IG5vIHRyZWF0bWVudHMgYXBwbGllZFwiKTtcbiAgICBtb25pdG9yLnNlbmRMb2dzKCk7XG5cbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIGNvbnN0IGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzID0gZGVidWdNb2RlID8gc2VhcmNoUGFyYW1zLmluY2x1ZGVzKFwiZmlsdGVyPVwiKSA/IHNlYXJjaFBhcmFtcy5zbGljZShcbiAgICAgICAgc2VhcmNoUGFyYW1zLmluZGV4T2YoXCJbXCIpICsgMSxcbiAgICAgICAgc2VhcmNoUGFyYW1zLmxhc3RJbmRleE9mKFwiXVwiKSxcbiAgICApLnNwbGl0KFwiLFwiKS5tYXAoKGl0ZW0pID0+IHBhcnNlSW50KGl0ZW0sIDEwKSk6IG51bGwgOiBudWxsO1xuXG4gICAgaW5qZWN0U3R5bGVTaGVldCgpO1xuICAgIGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICB9LCAyMDAwKTtcbiAgICBjb25zdCB0cmVhdG1lbnRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50cygpO1xuICAgIGNvbnN0IHRyZWF0bWVudFdlaWdodHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRXZWlnaHRzKCk7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgY29uc3QgT0JTRVJWRVJfQ09ORklHID0ge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZX07XG5cbiAgICBjb25zdCBlbmdhZ2VUcmVhdG1lbnQgPSBhc3luYyAodHJlYXRtZW50KSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGlkLFxuICAgICAgICBhY3Rpb25zLFxuICAgICAgICBiYXNlUnVsZVNldCxcbiAgICAgICAgZGV2aWNlLFxuICAgICAgICBkZXBlbmRhbnRfb25fdHJlYXRtZW50LFxuICAgICAgICByZWFwcGx5X2V2ZW50LFxuICAgICAgICBidXNpbmVzc1J1bGVTZXQsXG4gICAgICAgIHdlaWdodCxcbiAgICAgICAgZGVsYXksXG4gICAgICB9ID0gdHJlYXRtZW50O1xuICAgICAgaWYgKGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzICYmICFkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRldmljZSA9PT0gXCJtb2JpbGVcIiAmJiAhaXNNb2JpbGUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBkZXZpY2UgJ21vYmlsZScgbWlzbWF0Y2hcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZXZpY2UgPT09IFwiZGVza3RvcFwiICYmIGlzTW9iaWxlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgZGV2aWNlICdkZXNrdG9wJyBtaXNtYXRjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJlYXBwbHlfZXZlbnQpIHtcbiAgICAgICAgbGV0IHJlYXBwbHlfZXZlbnRfYXJyYXkgPSByZWFwcGx5X2V2ZW50O1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVhcHBseV9ldmVudCkpIHJlYXBwbHlfZXZlbnRfYXJyYXkgPSBbcmVhcHBseV9ldmVudF07XG4gICAgICAgIGxvZ2dlci5sb2coYFJlYXBwbHkgZXZlbnQgJyR7cmVhcHBseV9ldmVudH0nIGZvdW5kIGZvciB0cmVhdG1lbnQ6ICR7aWR9YCk7XG4gICAgICAgIGZvciAoY29uc3QgcmVhcHBseUV2ZW50IG9mIHJlYXBwbHlfZXZlbnRfYXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA/XG4gICAgICAgICAgICAgIHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gOiBbXTtcbiAgICAgICAgICBpZiAocHJldmlvdXNWYWx1ZS5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgYWxyZWFkeSBhZGRlZCBmb3IgcmVhcHBseSBldmVudFwiKTtcbiAgICAgICAgICB9IGVsc2UgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA9IFsuLi5wcmV2aW91c1ZhbHVlLCBpZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGJpbmRpbmdzID0ge3Byb2R1Y3RJbmZvfTtcbiAgICAgIGNvbnN0IHJ1bGVFbmdpbmUgPSBuZXcgUnVsZUVuZ2luZSh7YmFzZVJ1bGVTZXQsIGJ1c2luZXNzUnVsZVNldCwgYmluZGluZ3N9KTtcbiAgICAgIGxvZ2dlci5sb2coXCJTdGFydGluZyBiYXNlIHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgaWYgKCFiYXNlUnVsZVNldCB8fCBhd2FpdCBydWxlRW5naW5lLmNoZWNrUnVsZXMoKSkge1xuICAgICAgICBsZXQgdHJlYXRtZW50U2tpcFJhdGlvID0gd2VpZ2h0ID09PSAxMDAgPyAwIDogKDEwMCAtIHdlaWdodCB8fCBUUkVBVE1FTlRfUkFUSU8pO1xuICAgICAgICBpZiAoZGVwZW5kYW50X29uX3RyZWF0bWVudCkge1xuICAgICAgICAgIC8vIElmIGRlcGVuZGFudCBvbiB0cmVhdG1lbnQgaXMgZm91bmQgYW5kIGhhcyB3ZWlnaHQ7IHVzZSBpdHMgc2tpcCByYXRpb1xuICAgICAgICAgIGNvbnN0IGRlcGVuZGFudE9uVHJlYXRtZW50V2VpZ2h0ID0gbWF0Y2hlZFRyZWF0bWVudHMuZmluZCgodCkgPT4gdC5pZCA9PT0gZGVwZW5kYW50X29uX3RyZWF0bWVudCk/LndlaWdodDtcbiAgICAgICAgICB0cmVhdG1lbnRTa2lwUmF0aW8gPSBkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCA9PT0gMTAwID8gMCA6ICgxMDAgLSBkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodHx8XG4gICAgICAgICAgICBUUkVBVE1FTlRfUkFUSU8pO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgc2tpcCByYXRpbzogXCIgKyB0cmVhdG1lbnRTa2lwUmF0aW8pO1xuICAgICAgICAvLyBEZXRlcm1pbmluZyBpZGVudGlmaWVyIGZvciBjYWxjdWxhdGluZyB0cmVhdG1lbnQgcGVyY2VudGFnZSAodHJlYXRtZW50UGN0KVxuICAgICAgICBjb25zdCBkZXRlcm1pbmluZ0lkZW50aWZpZXIgPSBkZXBlbmRhbnRfb25fdHJlYXRtZW50IHx8IGlkO1xuXG4gICAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIHRyZWF0bWVudCB1c2VkIHRvIGRldGVybWluZSBpZiBpdCBzaG91bGQgYmUgc2tpcHBlZCBvciBub3RcbiAgICAgICAgLy8gdHJlYXRtZW50UGN0IGlzIDEwMCB3aGVuIGRlYnVnIG1vZGUgaXMgMSwgZW5zdXJpbmcgbm8gdHJlYXRtZW50cyBhcmUgc2tpcHBlZFxuICAgICAgICBjb25zdCB0cmVhdG1lbnRQY3QgPSBkZWJ1Z01vZGUgPT09IDEgPyAxMDAgOiBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIGRldGVybWluaW5nSWRlbnRpZmllcik7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRQY3Q6IFwiICsgdHJlYXRtZW50UGN0ICsgYCB3aXRoIGRlYnVnIG1vZGUgJHtkZWJ1Z01vZGUgPyBcIm9uXCIgOiBcIm9mZlwifWApO1xuICAgICAgICBsZXQgYnVzaW5lc3NSdWxlSWQgPSBudWxsO1xuICAgICAgICBpZiAoYnVzaW5lc3NSdWxlU2V0KSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHN1YiB2YXJpYW50IHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgICAgIGJ1c2luZXNzUnVsZUlkID0gYXdhaXQgcnVsZUVuZ2luZS5jaGVja0J1c2luZXNzUnVsZXMoKTtcbiAgICAgICAgICBpZiAoYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBidXNpbmVzcyBydWxlIHRyYW5zZm9ybWF0aW9uIHdpdGggaWQ6IFwiLCBidXNpbmVzc1J1bGVJZCk7XG4gICAgICAgICAgfSBlbHNlIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQgd2l0aCBkZWZhdWx0IHZhbHVlc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJlYXRtZW50UGN0IDwgdHJlYXRtZW50U2tpcFJhdGlvKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgVHJlYXRtZW50ICR7aWR9IHNraXBwZWQgZHVlIHRvIHRyZWF0bWVudCBzcGxpdCByYXRpb2ApO1xuICAgICAgICAgIGFkZEVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudChpZCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcGVuZGFudF9vbl90cmVhdG1lbnQ6IChkZXBlbmRhbnRfb25fdHJlYXRtZW50IHx8IG51bGwpLFxuICAgICAgICAgICAgICAgIGJ1c2luZXNzUnVsZUlkLFxuICAgICAgICAgICAgICAgIHZhcmlhbnQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbcHJlcGFyZWQsIHZhcmlhbnRdID0gYXdhaXQgcHJlcGFyZUFjdGlvbnMoaWRlbnRpZmllciwgYWN0aW9ucywgYnVzaW5lc3NSdWxlSWQpO1xuICAgICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGFwcGx5VHJlYXRtZW50cyhwcmVwYXJlZCwgcHJvZHVjdEluZm8pO1xuICAgICAgICAgICAgYWRkQXBwbGllZFRyZWF0bWVudChpZCwge2J1c2luZXNzUnVsZUlkLCB2YXJpYW50fSk7XG4gICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBhcHBseVRyZWF0bWVudHMocHJlcGFyZWQsIHByb2R1Y3RJbmZvKTtcbiAgICAgICAgYWRkQXBwbGllZFRyZWF0bWVudChpZCwge2J1c2luZXNzUnVsZUlkLCB2YXJpYW50fSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJSdWxlIGNoZWNrIGZhaWxlZCBmb3IgdHJlYXRtZW50OiBcIiwgaWQpO1xuICAgIH07XG5cbiAgICAvLyBUZW1wb3JhcnkgY29kZSBibG9jayB0byB0cmFjayBjb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgdG90YWwgcHJpY2VcbiAgICAvLyBUT0RPOiBSZW1vdmUgb25jZSB0aGUgaW5mbyBjYW4gYmUgb2J0YWluZWQgdmlhIExvb2t1cCBBUElcbiAgICBjb25zdCBjb2xsZWN0Q0FCYXNrZXRQcmljZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHtDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0V9ID0gTE9DQUxfU1RPUkFHRV9LRVlTO1xuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgICAgIGNvbnN0IHByaWNlRWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJpY2VcIikpO1xuICAgICAgICBwcmljZUVsZW1lbnRzLnB1c2goLi4uQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5ldy1wcmljZVwiKSkpO1xuICAgICAgICBpZiAoIXByaWNlRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlByaWNlIGVsZW1lbnRzIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZyhcIlByaWNlIGVsZW1lbnRzOiBcIiwgcHJpY2VFbGVtZW50cyk7XG4gICAgICAgIGNvbnN0IGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID0gcHJpY2VFbGVtZW50cy5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICAgIHJldHVyblZhbCArPSBwYXJzZUludChlbGVtLnRleHRDb250ZW50LnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSB0b3RhbCBwcmljZTogXCIsIGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlKTtcbiAgICAgICAgaWYgKGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID49IDApIHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgICAgIENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtb3pldGkuaHRtbFwiKSkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNhQmFza2V0UHJpY2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFKTtcbiAgICAgICAgaWYgKGNhQmFza2V0UHJpY2UgPT09IG51bGwpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb2xsZWN0Q0FCYXNrZXRQcmljZSgpO1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiKSkge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk11dGF0aW9uIG9ic2VydmVkLCBjYWxsaW5nIGNvbGxlY3RDQUJhc2tldFByaWNlXCIpO1xuICAgICAgICBjb2xsZWN0Q0FCYXNrZXRQcmljZSgpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBiYXNrZXRDaGVja291dEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NoZWNrb3V0Rm9ybVwiKTtcbiAgICAgIGlmIChiYXNrZXRDaGVja291dEZvcm0pIG9ic2VydmVyLm9ic2VydmUoYmFza2V0Q2hlY2tvdXRGb3JtLCBPQlNFUlZFUl9DT05GSUcpO1xuICAgIH1cbiAgICAvLyBFbmQgb2YgdGVtcG9yYXJ5IGNvZGUgYmxvY2tcblxuICAgIGNvbnN0IFt0cmVhdG1lbnRzLCB0cmVhdG1lbnRXZWlnaHRzLCBwcm9kdWN0SW5mb10gPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgW3RyZWF0bWVudHNQcm9taXNlLCB0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSwgcHJvZHVjdEluZm9Qcm9taXNlXSk7XG5cbiAgICBsb2dnZXIubG9nKFwiRm91bmQgdHJlYXRtZW50czogXCIsIHRyZWF0bWVudHMpO1xuICAgIGxvZ2dlci5sb2coXCJGb3VuZCBjb29raWUgcGVyY2VudGFnZTogXCIsIGNvb2tpZVBjdCk7XG4gICAgbG9nZ2VyLmxvZyhcIlNwbGl0X3JhdGlvOiBcIiwgU1BMSVRfUkFUSU8pO1xuICAgIGxvZ2dlci5sb2coXCJjb29raWVQY3QgPCBTUExJVF9SQVRJT1wiLCBjb29raWVQY3QgPCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmluZm8oYENvbnRyb2wgZ3JvdXAgcmF0aW86ICR7U1BMSVRfUkFUSU99JWApO1xuXG4gICAgY29uc3QgdHJlYXRtZW50UmVwb3NpdG9yeSA9IG5ldyBUcmVhdG1lbnRSZXBvc2l0b3J5KHtcbiAgICAgIHRyZWF0bWVudHMsXG4gICAgICB0cmVhdG1lbnRXZWlnaHRzLFxuICAgICAgY29va2llUGN0LFxuICAgIH0pO1xuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVHJlYXRtZW50UmVwb3NpdG9yeUNyZWF0ZWQpO1xuICAgIGNvbnN0IG1hdGNoZWRUcmVhdG1lbnRzID0gdHJlYXRtZW50UmVwb3NpdG9yeS5nZXRNYXRjaGVkVHJlYXRtZW50cygpO1xuICAgIGlmICghbWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm8gdHJlYXRtZW50cyBtYXRjaGVkLCByZXR1cm5pbmcgd2l0aG91dCBmdXJ0aGVyIGFjdGlvblwiKTtcbiAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZUFwcGx5VHJlYXRtZW50c01hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIG1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIubG9nKFwiRXJyb3IgZXhlY3V0aW5nIHJ1bGVzXCIsIGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVHJlYXRtZW50c0FwcGxpZWQpO1xuICAgIGxvZ2dlci5sb2coXCJBcHBsaWVkIHRyZWF0bWVudHM6IFwiLCB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmEpO1xuXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgbW9uaXRvci51cGRhdGVMYXRlc3RDaGFuZ2VzKCk7XG4gICAgfSwgMTAwMCk7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyZUFwcGx5VHJlYXRtZW50c01hcCkpIHtcbiAgICAgIGNvbnN0IHRyZWF0bWVudElkcyA9IHJlQXBwbHlUcmVhdG1lbnRzTWFwW2tleV07XG4gICAgICBjb25zdCByZUFwcGx5VHJlYXRtZW50cyA9IG1hdGNoZWRUcmVhdG1lbnRzLmZpbHRlcigodCkgPT4gdHJlYXRtZW50SWRzLmluY2x1ZGVzKHQuaWQpKTtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJpbmZpbml0ZV9zY3JvbGxcIjoge1xuICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGluZmluaXRlX3Njcm9sbGApO1xuICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRpbWVvdXRcIjoge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHRpbWVvdXRgKTtcbiAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZWxlbWVudF9jaGFuZ2VcIjoge1xuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCByZWFwcGx5U2VsZWN0b3JMaXN0ID0gQXJyYXkuaXNBcnJheSh0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvcikgP1xuICAgICAgICAgICAgdHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3IgOiBbdHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3JdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiByZWFwcGx5U2VsZWN0b3JMaXN0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGVsZW1lbnRfY2hhbmdlYCk7XG4gICAgICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uX3Njcm9sbFwiOiB7XG4gICAgICAgICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gb25fc2Nyb2xsYCk7XG4gICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInF1ZXJ5X3NlYXJjaF9jaGFuZ2VcIjoge1xuICAgICAgICAgIGxldCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uc2VhcmNoICE9PSBxdWVyeVN0cmluZykge1xuICAgICAgICAgICAgICBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHF1ZXJ5X3NlYXJjaF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiUmVhcHBseSBldmVudCBub3QgZm91bmQ6IFwiLCBrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlJlYXBwbHlUcmVhdG1lbnRMaXN0ZW5lcnMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICBjb25zb2xlLndhcm4oXCJOZXh0ZGF5OiBcIiwgZXJyLm1lc3NhZ2UpO1xuICAgIG1vbml0b3Iuc2VuZExvZ3MoZXJyLm1lc3NhZ2UsIHRydWUpO1xuICB9XG59KSgpO1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJydW50aW1lIiwidW5kZWZpbmVkIiwiT3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd24iLCJoYXNPd25Qcm9wZXJ0eSIsIiRTeW1ib2wiLCJTeW1ib2wiLCJpdGVyYXRvclN5bWJvbCIsIml0ZXJhdG9yIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsInRvU3RyaW5nVGFnIiwiZGVmaW5lIiwib2JqIiwia2V5IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImVyciIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInNlbGYiLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY3JlYXRlIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwic3RhdGUiLCJHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0IiwibWV0aG9kIiwiYXJnIiwiR2VuU3RhdGVFeGVjdXRpbmciLCJFcnJvciIsIkdlblN0YXRlQ29tcGxldGVkIiwiZG9uZVJlc3VsdCIsImRlbGVnYXRlIiwiZGVsZWdhdGVSZXN1bHQiLCJtYXliZUludm9rZURlbGVnYXRlIiwiQ29udGludWVTZW50aW5lbCIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwicmVjb3JkIiwidHJ5Q2F0Y2giLCJ0eXBlIiwiZG9uZSIsIkdlblN0YXRlU3VzcGVuZGVkWWllbGQiLCJtYWtlSW52b2tlTWV0aG9kIiwiZm4iLCJjYWxsIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwidGhpcyIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsInZhbHVlcyIsIkdwIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIkFzeW5jSXRlcmF0b3IiLCJQcm9taXNlSW1wbCIsImludm9rZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHQiLCJfX2F3YWl0IiwidGhlbiIsInVud3JhcHBlZCIsImVycm9yIiwicHJldmlvdXNQcm9taXNlIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJUeXBlRXJyb3IiLCJpbmZvIiwicmVzdWx0TmFtZSIsIm5leHQiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicHVzaCIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJsZW5ndGgiLCJpIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiZ2VuRnVuIiwiY3RvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXN5bmMiLCJQcm9taXNlIiwiaXRlciIsImtleXMiLCJvYmplY3QiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJyb290UmVjb3JkIiwicnZhbCIsImV4Y2VwdGlvbiIsImhhbmRsZSIsImxvYyIsImNhdWdodCIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiZmluaXNoIiwidGhyb3duIiwiZGVsZWdhdGVZaWVsZCIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsImdldCIsInByb3AiLCJfdHlwZW9mIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJtaW5MZW4iLCJ0b1N0cmluZyIsImZyb20iLCJ0ZXN0IiwiX3NsaWNlZFRvQXJyYXkiLCJpc0FycmF5IiwiX2kiLCJfcyIsIl9lIiwiX2FyciIsIl9uIiwiX2QiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJfbmV4dCIsIl90aHJvdyIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiTE9HX0FQSV9VUkwiLCJNT0JJTEVfTUVESUFfUVVFUlkiLCJTRVNTSU9OX1NUT1JBR0VfS0VZUyIsIkxPQ0FMX1NUT1JBR0VfS0VZUyIsIkxvZ2dlciIsIm9yaWdpbiIsIkRFQlVHIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNvbnNvbGUiLCJsb2ciLCJ3YXJuIiwibG9nZ2VyIiwiY2hlY2tEYXRhTGF5ZXJSdWxlIiwicnVsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvcGVyYXRvciIsImNvbmRpdGlvbiIsInJ1bnRpbWVWYWx1ZSIsImRhdGFMYXllckZpbmRlciIsImNvbmRpdGlvbkNoZWNrZXIiLCJyZXMiLCJiZWFnbGVJbmZvTGF5ZXIiLCJpbmNsdWRlcyIsInNwbGl0IiwiZGF0YUxheWVyIiwiY2hlY2tVcmxSdWxlIiwicmVxdWVzdFVSTCIsImxvY2F0aW9uIiwiaHJlZiIsInBhdGgiLCJkZWNvZGVVUklDb21wb25lbnQiLCJVUkwiLCJzZWFyY2giLCJyZXBsYWNlIiwicGF0aG5hbWUiLCJfZGVmaW5lUHJvcGVydHkiLCJjaGVja3BvaW50cyIsImUiLCJwYXJzaW5nUmVnZXgiLCJQYWdlVHlwZSIsImNvbnRlbnRfbmFtZSIsImNvbnRlbnRfbmFtZV9hbHQiLCJ2dnNTY3JHQVBhZ2VUeXBlIiwidnZzU2NyR0FPcmRlcklkIiwidnZzU2NyR0FPcmRlclJldiIsInZ2c1NjckdBT3JkZXJUeXBlIiwidnZzU2NyR0FJc0FkbWluIiwiQmVhZ2xlTG9hZGVkIiwiSW5pdGlhbGl6ZWQiLCJVc2VyT25PZmYiLCJTY3JpcHRUaW1lT3V0IiwiVHJlYXRtZW50UmVwb3NpdG9yeUNyZWF0ZWQiLCJUcmVhdG1lbnRzQXBwbGllZCIsIlJlYXBwbHlUcmVhdG1lbnRMaXN0ZW5lcnMiLCJUaW1lb3V0VGhyZXNob2xkUmVhY2hlZCIsImluaXRpYWxpemVCZWFnbGVJbmZvTGF5ZXIiLCJwcmVwYXJlRGF0YSIsInNjcmlwdHMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZm91bmRTY3JpcHRDb3VudCIsInNjcmlwdFRleHRDb250ZW50IiwidGV4dENvbnRlbnQiLCJmb3VuZFZhbCIsImV4ZWMiLCJpbmRleE9mIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJhZGRUb0JlYWdsZUluZm9MYXllciIsInBhcnNlIiwiY2hlY2twb2ludCIsImZpbmQiLCJpZCIsInRpbWUiLCJEYXRlIiwibm93IiwiYWRkQXBwbGllZFRyZWF0bWVudCIsInZpZXdJZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJzZXNzaW9uSWQiLCJzZXNzaW9uU3RvcmFnZSIsImN1cnJlbnRVUkwiLCJwbGF0Zm9ybSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudERhdGEiLCJ1c2VyQWdlbnQiLCJnYU9iamVjdHMiLCJnYURMRWxlbWVudCIsInZpc2lsYWJzY2siLCJleHRyYWN0Q29va2llSWRlbnRpZmllciIsImNvb2tpZSIsInZsT2JqZWN0cyIsIkl0ZW1zIiwidmxFbGVtZW50IiwiSyIsIlYiLCJWTF9QVkNvdW50SW5WaXNpdCIsIlZMX1RvdGFsRHVyYXRpb24iLCJWTF9Ub3RhbFBWIiwiVkxfVG90YWxWaXNpdCIsImNvbnRlbnRfdHlwZSIsImNvbnRlbnRfY2F0ZWdvcnkiLCJjb250ZW50X2lkcyIsInZpdmVuc2VfY2F0ZWdvcnkiLCJlY29tbWVyY2UiLCJkZXRhaWwiLCJhY3Rpb25GaWVsZCIsImxpc3QiLCJpc0FkbWluIiwicHJvZHVjdEdyb3VwIiwidXNlcklkIiwiY2F0ZWdvcnlfcHJvZHVjdF9jb3VudCIsImNoZWNrb3V0IiwicHJvZHVjdHMiLCJwdXJjaGFzZSIsInZpdmVuc2VQcm9kdWN0cyIsInJldmVudWUiLCJkaW1lbnNpb24xNSIsImRldmljZVBpeGVsUmF0aW8iLCJpbm5lcldpZHRoIiwid2luZG93U2NyZWVuIiwiYXZhaWxIZWlnaHQiLCJzY3JlZW4iLCJhdmFpbExlZnQiLCJhdmFpbFRvcCIsImF2YWlsV2lkdGgiLCJjb2xvckRlcHRoIiwiaGVpZ2h0IiwicGl4ZWxEZXB0aCIsIndpZHRoIiwid2luZG93VlBvcnQiLCJ2aXN1YWxWaWV3cG9ydCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvbnJlc2l6ZSIsIm9uc2Nyb2xsIiwicGFnZUxlZnQiLCJwYWdlVG9wIiwic2NhbGUiLCJwYXJzZUludCIsIk1hdGgiLCJyb3VuZCIsImFicyIsIm9yaWVudGF0aW9uIiwidGVtcCIsImhpc3RvcnkiLCJuYXZBZ2VudCIsImJyYW5kcyIsIm1hcCIsImJyYW5kIiwidmVyc2lvbiIsImpvaW4iLCJtb2JpbGUiLCJoYXJkd2FyZUNvbmN1cnJlbmN5IiwibGFuZ3VhZ2UiLCJicm93c2VyTGFuZ3VhZ2UiLCJzeXN0ZW1MYW5ndWFnZSIsInVzZXJMYW5ndWFnZSIsIm1heFRvdWNoUG9pbnRzIiwidmVuZG9yIiwicGVyZk1ldHJpY3MiLCJwZXJmb3JtYW5jZSIsImdldEVudHJpZXNCeVR5cGUiLCJwZXJmTmF2aWdhdGlvbk1ldHJpY3MiLCJwbGQiLCJkb21Db250ZW50TG9hZGVkRXZlbnRFbmQiLCJjb25uZWN0U3RhcnQiLCJuZXQiLCJjb25uZWN0RW5kIiwiZmV0Y2hTdGFydCIsInNydiIsInJlc3BvbnNlU3RhcnQiLCJyZXF1ZXN0U3RhcnQiLCJ0ZnIiLCJyZXNwb25zZUVuZCIsImRtaSIsImRvbUludGVyYWN0aXZlIiwiZGNwIiwiZG9tQ29tcGxldGUiLCJvbmwiLCJsb2FkRXZlbnRFbmQiLCJsb2FkRXZlbnRTdGFydCIsImNvbm5lY3Rpb24iLCJkb3dubGluayIsInNlbGVjdGVkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzVGFnIiwiY250bnQiLCJqc29uY29udGVudCIsImJjcnVtYl9zdHJpbmciLCJzb3JnTGlzdGluZyIsImNvdW50SXRlbXMiLCJzb3JnUHJvZHVjdCIsInNrdSIsInByaWNlIiwicHJpY2VDdXJyZW5jeSIsInByaWNlVmFsaWRVbnRpbCIsIm1lc3NhZ2UiLCJkb05vdFRyYWNrIiwibXNEb05vdFRyYWNrIiwiaG9zdG5hbWUiLCJyZWZlcnJlciIsImZhdm9yaXRlUHJvZHVjdHMiLCJ1c2VyRW1haWwiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJUZXh0IiwiZm9ybWF0RGVsaXZlcnlEYXRlIiwibW9udGhzIiwicmFuZG9tVVVJREZhbGxiYWNrIiwicmVtb3ZlRG9jdW1lbnRIaWRlIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiZmV0Y2hUcmVhdG1lbnRzIiwiZmV0Y2giLCJ0cmVhdG1lbnRzIiwianNvbiIsImZldGNoVHJlYXRtZW50V2VpZ2h0cyIsInRyZWF0bWVudFdlaWdodHMiLCJjb29raWVTdHJpbmciLCJjb29raWVOYW1lIiwiaWRlbnRpZmllciIsInYiLCJyZWR1Y2UiLCJhY2MiLCJ0cmltIiwiZGV0ZXJtaW5lUGN0Iiwic3Vic3RyaW5nRW5kUG9zaXRpb24iLCJzdWJzdHJpbmdTdGFydFBvc2l0aW9uIiwiY3JlYXRlSGFzaFN0cmluZyIsImhhc2hTdHJpbmciLCJoYXNoTnVtYmVyIiwic3RyaW5nVG9IYXNoIiwiZW5jb2RlZCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwic3VidGxlIiwiZGlnZXN0IiwiaGFzaEJ1ZmZlciIsImhhc2hBcnJheSIsIlVpbnQ4QXJyYXkiLCJiIiwicGFkU3RhcnQiLCJleGl0U2Nyb2xsTGlzdGVuZXIiLCJjYWxsQmFjayIsImxhc3RTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJleGl0U2Nyb2xsSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzdHlsZUFwcGxpY2F0b3IiLCJlbGVtZW50cyIsInN0eWxlQ2hhbmdlc01hcCIsImVsZW1lbnQiLCJlbnRyaWVzIiwic3R5bGUiLCJpbmplY3RTdHlsZVNoZWV0Iiwic3R5bGVTaGVldCIsImNyZWF0ZUVsZW1lbnQiLCJyZWwiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJwcmVwYXJlQWN0aW9ucyIsImFjdGlvbnNUb1ByZXBhcmUiLCJidXNpbmVzc1J1bGVJZCIsImFjdGlvbnMiLCJ2YXJpYW50IiwiYWN0aW9uIiwiYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zIiwidmFyaWFudHMiLCJidXNpbmVzc1RyYW5zZm9ybWF0aW9uIiwidmFyaWFudEtleSIsIndlaWdodCIsInJ1blRpbWVWYWx1ZSIsIm1pbiIsIm1heCIsImMiLCJnZXRSYW5kb21WYWx1ZXMiLCJnZXREZWJ1Z01vZGUiLCJORF9ERUJVR19NT0RFIiwicXVlcnlTdHJpbmciLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImN1cnJlbnQiLCJnZXRJZGVudGlmaWVyIiwiZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJkZWxheSIsIm1zIiwic2t1Q29sbGVjdG9yIiwiTkRfU0tVX0xJU1QiLCJza3VMaXN0IiwiZ2V0QXR0cmlidXRlIiwiaXNTZW5kQmVhY29uU3VwcG9ydGVkIiwic2VuZEJlYWNvbiIsImRhdGUiLCJtYXRjaCIsInRvZGF5IiwibW9udGhJbmRleCIsInRvTG93ZXJDYXNlIiwieWVhciIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJlc3RpbWF0ZWRTdGFydCIsImVzdGltYXRlZEVuZCIsInN0YXJ0RGlmZk92ZXJEYXlzIiwiY2VpbCIsImVuZERpZmZPdmVyRGF5cyIsInN0YXJ0RGlmZk92ZXJXZWVrcyIsImVuZERpZmZPdmVyV2Vla3MiLCJyZXBsYWNlQWxsIiwic3RyIiwiaW5kZXgiLCJwcm9kdWN0SW5mbyIsIlBPUFVQX0RJU1BMQVlfRkxBRyIsInRyYW5zZm9ybWVyIiwidHJlYXRtZW50IiwiYXBwbHlFdmVudCIsImNvbnRlbnRTZWxlY3RvciIsInNlbGVjdG9yIiwic2VsZWN0b3JGYWxsYmFjayIsIm1kQ29uZGl0aW9uIiwibW92ZV9zZWxlY3Rvcl8xIiwibW92ZV9zZWxlY3Rvcl8yIiwicmVwbGFjZUZuIiwiJCIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwicmVwbGFjZUZuRXhlY3V0b3IiLCJyZXBsYWNlRnVuY3Rpb24iLCJiaW5kIiwidmFsIiwiY3VycmVudFJlcGxhY2VGbiIsIlN0cmluZyIsImJlZm9yZSIsImFmdGVyIiwiY3JlYXRlUG9wdXAiLCJkaXNwbGF5UG9wdXAiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsInRpbWVvdXQiLCJ0ZXh0IiwiaHRtbCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJvcmlnaW5hbFRpdGxlIiwidGl0bGUiLCJoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlIiwiZWxlbWVudFNrdSIsImF0dHJpYnV0ZSIsImNzcyIsInByb3BlcnR5IiwicHJvcGVydHlWYWx1ZSIsIm4xIiwibjIiLCJzd2FwTm9kZXMiLCJhcHBlbmQiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsInByZXBlbmQiLCJldmVudCIsInRpdGxlcyIsInBhcnNlZFRpdGxlcyIsImhpZGRlbiIsImhhbmRsZVBvcHVwQ2xpY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicVBvcHVwIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3B1cFdyYXBwZXIiLCJhZGQiLCJwb3B1cENsb3NlQnV0dG9uIiwib25jbGljayIsImNvbnRlbnRzIiwic2hpZnQiLCJzcmMiLCJ0ZW1wbGF0ZSIsImlubmVySFRNTCIsInBvcHVwIiwiY29udGVudCIsImZpcnN0Q2hpbGQiLCJib2R5IiwiaTEiLCJpMiIsInAxIiwicGFyZW50Tm9kZSIsInAyIiwiaXNFcXVhbE5vZGUiLCJjaGlsZHJlbiIsImluc2VydEJlZm9yZSIsInRyZWF0bWVudEFwcGxpY2F0b3IiLCJ0cmVhdG1lbnRMaXN0IiwialF1ZXJ5IiwiYXBwbHlUcmVhdG1lbnRzIiwiTW9uaXRvciIsImFwcGxpZWRUcmVhdG1lbnRzSGFzaCIsImFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyIsImVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoIiwiZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMiLCJoZWFkZXJzIiwiaXNMb2dnZWQiLCJpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzIiwiaXNFcnJvciIsInJlYWR5U3RhdGUiLCJoYW5kbGVRdWV1ZUxvZ3MiLCJwYWNrYWdlTG9nRGF0YSIsInJlcXVlc3RCbG9iIiwicXVldWVMb2dzIiwiYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCIsImVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCIsIm0iLCJ0IiwiQmxvYiIsInZJZCIsImlzRXhpdEV2ZW50Q2FwdHVyZWQiLCJsb2dEYXRhIiwicGFja2FnZVVwZGF0ZUxvZ0RhdGEiLCJjYXB0dXJlIiwicXVldWVkIiwicXVldWVJbnRlcnZhbCIsIlRyZWF0bWVudFJlcG9zaXRvcnkiLCJjb29raWVQY3QiLCJ1c2VyR3JvdXAiLCJnZXRVc2VyR3JvdXAiLCJ1c2VyR3JvdXBXZWlnaHRzIiwiVFJFQVRNRU5UUyIsInRyZWF0bWVudHNPYmoiLCJ0aW1lc3RhbXAiLCJ0cmVhdG1lbnRXaXRoVGltZXN0YW1wIiwiY2hlY2tDb3VudGVyUnVsZSIsInBhZ2VWaWV3SGFuZGxlciIsImNhQmFza2V0UHJpY2VIYW5kbGVyIiwiZ2V0Q291bnRlciIsImNvdW50ZXIiLCJwYWdlVmlld3MiLCJjYUJhc2tldFByaWNlIiwiY2hlY2tFbGVtZW50UnVsZSIsInNlbGVjdG9yQWxsIiwibWFpblNlbGVjdG9yIiwidGVtcFZhbCIsInJldHVyblZhbCIsImVsZW0iLCJjaGVja0Z1bmN0aW9uUnVsZSIsIm9wdHMiLCJiaW5kaW5ncyIsInJ1bGVGdW5jdGlvbiIsImNoZWNrU2Vzc2lvblJ1bGUiLCJkdXJhdGlvbkhhbmRsZXIiLCJoaXN0b3J5SGFuZGxlciIsImR1cmF0aW9uIiwiZ2V0U2Vzc2lvblRpbWVzdGFtcCIsImN1cnJlbnRIaXN0b3J5IiwiY2hlY2tFbnZSdWxlIiwiaXNNb2JpbGUiLCJjaGVja1JhbmRvbU51bWJlclJ1bGUiLCJzYWx0IiwicmFuZG9tUGN0IiwiUnVsZUVuZ2luZSIsImJhc2VSdWxlU2V0IiwiYnVzaW5lc3NSdWxlU2V0IiwiY2FsbGJhY2siLCJjaGVja1J1bGUiLCJjaGFpbiIsImNoYWluX2NvbmRpdGlvbiIsInJ1bGVTYXRpc2ZpZWQiLCJwcm9kdWN0SW5mb0xvb2t1cCIsIkhlYWRlcnMiLCJtb2RlIiwib2siLCJtb25pdG9yIiwiVElNRU9VVF9DT1VOVCIsInRpbWVvdXRDb3VudGVyIiwicHJvZHVjdEluZm9Qcm9taXNlIiwiZGVidWdNb2RlIiwiY29udGFpbnMiLCJpc09uIiwiR0xPVl9PTiIsInNlbmRMb2dzIiwic2VhcmNoUGFyYW1zIiwiZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMiLCJpdGVtIiwiUEFHRV9WSUVXUyIsIlNFU1NJT05fSUQiLCJTRVNTSU9OX1RJTUVTVEFNUCIsIlNFU1NJT05fSElTVE9SWSIsInBvcHVwRGlzcGxheUZsYWciLCJzZXNzaW9uVGltZXN0YW1wIiwic2Vzc2lvbkhpc3RvcnkiLCJ0cmVhdG1lbnRzUHJvbWlzZSIsInRyZWF0bWVudFdlaWdodHNQcm9taXNlIiwiT0JTRVJWRVJfQ09ORklHIiwic3VidHJlZSIsImNoaWxkTGlzdCIsImF0dHJpYnV0ZXMiLCJlbmdhZ2VUcmVhdG1lbnQiLCJkZXZpY2UiLCJkZXBlbmRhbnRfb25fdHJlYXRtZW50IiwicmVhcHBseV9ldmVudCIsInJlYXBwbHlfZXZlbnRfYXJyYXkiLCJyZWFwcGx5RXZlbnQiLCJwcmV2aW91c1ZhbHVlIiwicmVBcHBseVRyZWF0bWVudHNNYXAiLCJydWxlRW5naW5lIiwiY2hlY2tSdWxlcyIsInRyZWF0bWVudFNraXBSYXRpbyIsImRlcGVuZGFudE9uVHJlYXRtZW50V2VpZ2h0IiwibWF0Y2hlZFRyZWF0bWVudHMiLCJkZXRlcm1pbmluZ0lkZW50aWZpZXIiLCJ0cmVhdG1lbnRQY3QiLCJjaGVja0J1c2luZXNzUnVsZXMiLCJwcmVwYXJlZCIsImNvbGxlY3RDQUJhc2tldFByaWNlIiwiQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFIiwicHJpY2VFbGVtZW50cyIsImNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiYmFza2V0Q2hlY2tvdXRGb3JtIiwib2JzZXJ2ZSIsImFsbCIsInRyZWF0bWVudFJlcG9zaXRvcnkiLCJnZXRNYXRjaGVkVHJlYXRtZW50cyIsInVwZGF0ZUxhdGVzdENoYW5nZXMiLCJ0cmVhdG1lbnRJZHMiLCJyZUFwcGx5VHJlYXRtZW50cyIsImZpbHRlciIsIlJlc2l6ZU9ic2VydmVyIiwicmVhcHBseV9zZWxlY3RvciJdLCJzb3VyY2VSb290IjoiIn0=

!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new _(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw a;return O()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=L(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=s(e,t,n);if("normal"===u.type){if(r=n.done?g:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=g,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",h={};function v(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(E([])));k&&k!==n&&r.call(k,a)&&(b=k);var S=y.prototype=v.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var u=s(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=s(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function E(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:O}}function O(){return{value:t,done:!0}}return m.prototype=y,u(S,"constructor",y),u(y,"constructor",m),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},x(I.prototype),u(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,u,"next",e)}function u(e){i(a,r,o,c,u,"throw",e)}c(void 0)}))}}var u=n(757),l=n.n(u);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",g="(max-width: 440px)",h="__nextday_session_id",v="ND_SessionTimestamp",m="BN_SessionHistory",y="ND_PageViews",b="ND_PopupDisplayFlag",w="ND_CABasketPrice",k="ND_Debug",S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";s(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(k)}return f(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}},{key:"warn",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).warn.apply(e,["[".concat(t,"]")].concat(r))}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),x=S;function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=new x("Nextday DataLayer Checker"),A=function(e){L.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=C(t);return M(o,n,r)},C=function(e){L.log("Searching dataLayer for key",e);var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(window.dataLayer);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(Object.keys(r).includes(e))return L.log("Found key ".concat(e," with value ").concat(r[e])),r[e]}}catch(e){n.e(e)}finally{n.f()}return L.log("Key ".concat(e," not found in dataLayer")),null},_=new x("Nextday Url Checker"),E=function(e){_.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return _.log("Checking path ".concat(a," matches rule path ").concat(r)),M(a,n,r)}};function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=new x("Nextday Utils");"randomUUID"in crypto||B();var N=function(){document.documentElement.classList.remove("nextDay-hide")},j=function(){var e=c(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},q=function(){var e=c(l().mark((function e(t){var n,r,o,a,i,c,u,s,d=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:8,o=(r=9)+n,t){e.next=5;break}return e.abrupt("return",-1);case 5:return a=(new TextEncoder).encode(t),e.next=8,crypto.subtle.digest("SHA-1",a);case 8:return i=e.sent,c=Array.from(new Uint8Array(i)),u=c.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),s=parseInt(u.substring(r,o),16),e.abrupt("return",s%100);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=document.documentElement.scrollTop,n=setInterval((function(){var r=document.documentElement.scrollTop;t-400>r?(clearInterval(n),e()):t=r}),500)},U=function(e,t){T.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],a=0,i=Object.entries(t);a<i.length;a++){var c=o(i[a],2),u=c[0],l=c[1];r.style[u]=l}},V=function(){var e=c(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="https://host-b96.pages.dev/nd-styles.css",document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e,t){var n,r=JSON.parse(JSON.stringify(e)),o=O(r);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.subVariants;if(i){var c,u=O(i);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(l.id===t){for(var s in l)"id"!==s&&(a[s]=l[s]);return r}}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){o.e(e)}finally{o.f()}return r},M=function(e,t,n){if("notExist"===t)return e?(T.log("conditionChecker: -not satisfied- target does exist"),!1):(T.log("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return T.log("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(T.log("conditionChecker: -satisfied- target does exist"),!0):(T.log("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(T.log("conditionChecker: -satisfied- target contains value"),!0):(T.log("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(T.log("conditionChecker: -not satisfied- target contains value"),!1):(T.log("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(T.log("conditionChecker: -satisfied- target equals value"),!0):(T.log("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(T.log("conditionChecker: -satisfied- target does not equal value"),!0):(T.log("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(T.log("conditionChecker: -satisfied- target is greater than value"),!0):(T.log("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(T.log("conditionChecker: -satisfied- target is less than value"),!0):(T.log("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(T.log("conditionChecker: -satisfied- target is greater or equal than value"),!0):(T.log("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(T.log("conditionChecker: -satisfied- target is less or equal than value"),!0):(T.log("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=o(n.split(","),2),a=r[0],i=r[1];return a=parseInt(a),i=parseInt(i),e>=a&&e<=i?(T.log("conditionChecker: -satisfied- target is between min and max"),!0):(T.log("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return T.log("conditionChecker: condition is not defined ",t),!1}},B=function(){crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},J=function t(n,r){if(n===r)return!0;if("object"!==e(n)||"object"!==e(r)||null==n||null==r)return!1;var o=Object.keys(n),a=Object.keys(r);if(o.length!==a.length)return!1;var i=!0;return o.forEach((function(e){a.includes(e)||(i=!1),"function"!=typeof n[e]&&"function"!=typeof r[e]||n[e].toString()!==r[e].toString()&&(i=!1),t(n[e],r[e])||(i=!1)})),i},G=function(){var e=c(l().mark((function e(){var t,n=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"_ga",e.abrupt("return",new Promise((function(e,n){var r=R(document.cookie,t);if(r)e(r);else{var o=setInterval((function(){(r=R(document.cookie,t))&&(clearInterval(o),e(r))}),10);setTimeout((function(){clearInterval(o),n(new Error("Could not extract cookie identifier"))}),1e3)}})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){return new Promise((function(t){return setTimeout(t,e)}))},H=function(){var e="ND_SkuList",t=[],n={operator:"PageType",condition:"equal",value:"Homepage"};if(A(n))return null;if(n.value="Listingpage",A(n))return Array.from(document.querySelectorAll(".product-card")).forEach((function(e){t.push(e.getAttribute("data-product-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(T.log("Product SKUs not found on Listingpage"),null);if(n.value="Productpage",A(n)){var r=document.querySelector(".product-sku");return r?(t.push(r.getAttribute("data-sku")),sessionStorage.setItem(e,JSON.stringify(t)),t):(T.log("Product SKU not found on Productpage"),null)}return n.operator="path",n.value="/siparis-listesi.html",E(n)?(Array.from(document.querySelectorAll(".cart-inside")).forEach((function(e){t.push(e.getAttribute("data-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(T.log("Product SKUs not found on basket page"),null)):(T.log("Unidentified page type"),null)};function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(){return W=c(l().mark((function e(t,n){var r,o,a,i,u,s,d,f,p=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.length>2&&void 0!==p[2]&&p[2],r=new x("Nextday Apply Treatments"),o=b,a=function(e){r.log("Applying treatment: ",JSON.stringify(e));var t=e.operator,a=e.type,c=e.applyEvent,u=e.contentSelector,l=e.selector,p=e.selectorFallback,h=e.mdCondition,v=e.move_selector_1,m=e.move_selector_2,y=e.replaceFn,b=e.value,w=$(l);if(!h||window.matchMedia(h).matches)if(v&&!m||m&&!v)r.log("Both move selectors are required");else{if(v&&m){if(!$(v).length)return void r.log("Move selector 1 not found: ",v);if(!$(m).length)return void r.log("Move selector 2 not found: ",m)}else{if(!l)return void r.log("Selector not specified");if(!w.length&&"no-selector"!==l&&(r.log("Selector not found: ",l),r.log("Trying fallback selector: ",p),p&&(w=$(p)),!w.length))return void r.log("Fallback selector not found")}var k=function(e,t){if(e&&t.includes("{{REPLACE}}")){r.log("Executing replace function: ",e);var o={dataLayerFinder:C,productInfo:n},a=Function(e).bind(o);t=t.replaceAll("{{REPLACE}}",a())}return t};if(Array.isArray(b)?b.forEach((function(e,t){var n=y?y[t]||y:"";b[t]=k(n,e)})):b=k(y,b),"remove"===t)w&&(r.log("Removing: ",l),w.remove()),r.log("Cannot found element with selector: ",l);else if("insert"===t)switch(a){case"before":r.log("Inserting before: ",b),String(b).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),w.before(b);break;case"after":r.log("Inserting after: ",b),w.after(b);break;case"popup":if(0!==parseInt(sessionStorage.getItem(o))){r.log("Popup already displayed in session");break}if(r.log("Creating Popup: ",b),d(b,u),c){var S,x=window.matchMedia(g).matches,I=K(c);try{for(I.s();!(S=I.n()).done;)switch(S.value){case"exitIntent":r.log("Adding exit intent listener"),x?D(s):document.documentElement.addEventListener("mouseleave",s,{once:!0});break;case"copyIntent":r.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",s,{once:!0})}}catch(e){I.e(e)}finally{I.f()}}else setTimeout((function(){s()}),timeout)}else if("edit"===t)switch(a){case"text":r.log("Editing text: ",b),w.text(b);break;case"styleApplicator":r.log("Applying style: ",b);var L=document.querySelectorAll(l),A=JSON.parse(b);r.log("Style Changes Map: ",A),U(L,A);break;case"addClass":r.log("addding class to ".concat(w," named ").concat(b)),w.addClass(b);break;case"removeClass":r.log("remove class from ".concat(w," named ").concat(b)),w.removeClass(b);break;case"documentTitle":if(r.log("changing document title from ".concat(w," to ").concat(b)),c){var _,E=K(c);try{for(E.s();!(_=E.n()).done;)"tabChange"==_.value&&function(){r.log("catching event tabchange..");var e=document.title;document.addEventListener("visibilitychange",(function(t){return i(t,b,e)}))}()}catch(e){E.e(e)}finally{E.f()}}break;case"addBanner":if(!n){r.log("Product info unavailable");break}r.log("Adding banner: ",b);var O=JSON.parse(sessionStorage.getItem("ND_SkuList"))[0];if(!O){r.log("Could not find product sku");break}Object.keys(n).includes(O)&&n[O].catalog.mostViewedLevel<10&&w.before(b);break;default:r.log("Unknown edit type: ",a)}else if("setattribute"===t)switch(r.log("Setting attribute: ",attribute,b),attribute){case"src":w.css("content","url(".concat(b.trim(),")"));break;case"style":var P=b.split(":")[0].trim(),T=b.split(":")[1].trim();w.css(P,T,"!important")}else if("replace"===t)r.log("Replacing: ",b),w.replaceAll(b);else if("swap"===t){r.log("Swapping: ",v,m);var N=document.querySelector(v),j=document.querySelector(m);f(N,j)}else if("injectscript"===t)r.log("Injecting script: ",b),w.append("<script>".concat(b,"<\/script>"));else if("move"===t){r.log("Moving ".concat(v," to ").concat(m));var R=document.querySelector(v),q=document.querySelector(m);R.remove(),q.prepend(R)}else"noop"===t?r.log("Noop Operator: No operation is applied on target "):r.log("No such operator exists yet",t)}else r.log("Media condition mismatch: ",h)},i=function(){var e=c(l().mark((function e(t,n,r){var o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.isArray(n)?n:[n],a=0;case 2:if(!(a<o.length)){e.next=16;break}if(!document.hidden){e.next=12;break}return document.title=o[a],e.next=7,z(3e3);case 7:return document.title=r,e.next=10,z(3e3);case 10:e.next=13;break;case 12:document.title=r;case 13:a++,e.next=2;break;case 16:if(document.hidden){e.next=21;break}return document.title=r,e.abrupt("return");case 21:i(t,n,r);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),u=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0))},s=function e(){sessionStorage.setItem(o,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",u,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",u,!0)}),15e3)},d=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",u,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var i=a.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},f=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var c=0;c<a.children.length;c++)a.children[c].isEqualNode(t)&&(r=c);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},function e(t){if(window.jQuery){var n,o=K(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;try{a(i)}catch(e){r.log("Couldn't apply treatment ".concat(i.id," with error ").concat(e.message));continue}}}catch(e){o.e(e)}finally{o.f()}}else setTimeout((function(){e(t)}),10)}(t);case 11:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}var Y=function(e,t){return W.apply(this,arguments)},X=new x("BeagleCheckpoint"),Z={BeagleLoaded:1,Initialized:2,UserOnOff:3,ScriptTimeOut:7,TreatmentRepositoryCreated:4,TreatmentsApplied:5,ReapplyTreatmentListeners:6};window.beagleInfoLayer=window.beagleInfoLayer||{checkpoints:[]};var ee=function(e){try{X.log("Checkpoint: '".concat(e,"' Reached!")),window.beagleInfoLayer.checkpoints.push({checkpoint:Object.keys(Z).find((function(t){return Z[t]===e})),id:e,time:Date.now()})}catch(e){X.warn(e)}};function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=function(){function e(t){s(this,e),this.logger=new x("Nextday Monitor"),this.sessionId=sessionStorage.getItem(h),this.logger.log("Initializing monitor with session id: "+this.sessionId),this.appliedTreatmentIds=null,this.eligibleNotAppliedTreatments=null,this.latestChanges=null,this.eligibleNotAppliedChanges=null,this.viewId=crypto.randomUUID(),this.headers={type:"application/json"},this.debugMode=t?"on":"off",this.isLogged=!1,this.initializeExitEventListener()}var t;return f(e,[{key:"updateTreatments",value:function(e,t){this.appliedTreatmentIds=e,this.eligibleNotAppliedTreatments=t}},{key:"sendLogs",value:(t=c(l().mark((function e(t){var n,r,o,a=this,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]&&i[2],(o=this.logger).log("Sending logs"),"complete"!==document.readyState?(o.log("Document ready state is not complete"),window.addEventListener("beforeunload",(function(){o.log("In beforeunload event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0),window.addEventListener("pagehide",(function(){o.log("In onpagehide event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0),window.addEventListener("load",(function(){o.log("In onload event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0)):this.handleQueueLogs(this.packageLogData(t,n,r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"handleQueueLogs",value:function(e){if(!this.isLogged){var t=this.logger;e?(t.log("Request blob to send: ",e),this.queueLogs(e),this.isLogged=!0):t.log("Could not create request blob")}}},{key:"updateLatestChanges",value:function(e,t){var n=this.appliedTreatmentIds,r=this.eligibleNotAppliedTreatments,o=this.logger;o.log("Updating latest changes");var a=this.latestChanges||n;J(a,e)||(o.log("Changes detected"),o.log("Changes: ",e),this.latestChanges=e),a=this.eligibleNotAppliedChanges||r,J(a,t)||(o.log("Changes detected"),o.log("Changes: ",e),this.eligibleNotAppliedChanges=t)}},{key:"packageLogData",value:function(e,t,n){var r=this.appliedTreatmentIds,o=this.eligibleNotAppliedTreatments,a=this.debugMode,i=this.headers,c=this.viewId,u=t||(Object.keys(r).length?"Treatments applied":"No treatments applied"),l=this.prepareLogBody();return l.vId=n?null:c,l.m=u,l.dbm=a,l.isOn=e,l.a=n?{}:r,l.e=n?{}:o,new Blob([JSON.stringify(l)],i)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.eligibleNotAppliedChanges,n=this.latestChanges,r=this.viewId;if(!n&&!t)return!1;var o={t:Date.now(),a:n||{},e:t||{},vId:r,beagleInfoLayer:window.beagleInfoLayer||{}};return new Blob([JSON.stringify(o)],e)}},{key:"prepareLogBody",value:function(){var e,t=new URL(window.location.href),n={},r=oe(window.dataLayer);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=re(re({},n),o)}}catch(e){r.e(e)}finally{r.f()}var a=JSON.parse(R(document.cookie,"VL_CM_0")),i={};if(a&&a.Items){var c,u=oe(a.Items);try{for(u.s();!(c=u.n()).done;){var l=c.value;i[l.K]=decodeURIComponent(l.V)}}catch(e){u.e(e)}finally{u.f()}}var s={};return s.cookieVLIsNew=i.OM_INW,s.cookieVLPVinVisit=i.VL_PVCountInVisit,s.cookieVLVisitDuration=i.VL_TotalDuration,s.cookieVLTotalPV=i.VL_TotalPV,s.cookieVLTotalVisit=i.VL_TotalVisit,s.gaPageType=n.PageType,s.gaProductName=n.content_name,s.gaViewType=n.content_type,s.gaProductCategory=n.content_category,s.gaProductID=n.content_ids,s.vvsProductCategory=n.vivense_category,s.gaListingName=function(){try{return n.ecommerce.detail.actionField.list}catch(e){return null}}(),s.vvsIsShowroom=n.isAdmin,s.vvsProductGroup=n.productGroup,s.vvsUserEmail=n.userEmail,s.vvsUserId=n.userId,s.vvsCategory=n.vivense_category,s.gaAction=n.Action,s.gaActionLabel=n.Label,s.gaCategoryProductCont=n.category_product_count,s.gaActionStep=function(){try{return n.ecommerce.checkout.actionField.step}catch(e){return null}}(),s.gaActionUser=function(){try{return n.ecommerce.checkout.actionField.dimension14}catch(e){return null}}()||function(){try{return n.ecommerce.purchase.actionField.dimension14}catch(e){return null}}(),s.gaCartProducts=function(){try{return n.ecommerce.checkout.products}catch(e){return null}}()||function(){try{return n.ecommerce.purchase.products}catch(e){return null}}(),s.vvsPDPProduct=function(){try{return n.vivenseProducts[0]}catch(e){return null}}(),s.gaPurchaseId=function(){try{return n.ecommerce.purchase.actionField.id}catch(e){return null}}(),s.gaPurchaseAffiliation=function(){try{return n.ecommerce.purchase.actionField.affiliation}catch(e){return null}}(),s.gaPurchaseCoupon=function(){try{return n.ecommerce.purchase.actionField.coupon}catch(e){return null}}(),s.gaPurchaseRevenue=function(){try{return n.ecommerce.purchase.actionField.revenue}catch(e){return null}}(),s.gaPurchaseShipping=function(){try{return n.ecommerce.purchase.actionField.shipping}catch(e){return null}}(),s.gaPurchaseTax=function(){try{return n.ecommerce.purchase.actionField.tax}catch(e){return null}}(),s.gaPurchasePayType=function(){try{return n.ecommerce.purchase.actionField.dimension15}catch(e){return null}}(),s.windowParams=window.location.search,s.windowScreen=window.screen,s.windowVPort=window.visualViewport,s.windowPRatio=window.devicePixelRatio,s.navAgent=navigator.userAgent,s.navHWCores=navigator.hardwareConcurrency,s.navLanguage=navigator.language,s.navTouch=navigator.maxTouchPoints,s.navPlatform=navigator.platform,s.navVendor=navigator.vendor,s.pClickSegment=window.localStorage.getItem("personaClick_segment"),s.cookieGaId=R(document.cookie,"_ga"),s.cookieLastBreadCrumb=R(document.cookie,"lastbreadcrumb"),s.cookieLastCategory=R(document.cookie,"lastcategory"),s.cookieFirstEntry=decodeURIComponent(R(document.cookie,"vivensefirst")),s.v="0.0.24",s.n="nextday-session_id-".concat(this.sessionId),s.t=Date.now(),s.sr=80,s.u=t.href,s.d=t.hostname,s.r=document.referrer,s.w=window.innerWidth,s.c=document.cookie,s.wdl=window.dataLayer,s.beagleInfoLayer=window.beagleInfoLayer||{},s.vvsPurcPriceElt=function(){try{var e=document.querySelector("div.basket_inner_right > div.basket_summary > div.basket_summary_total > span:nth-child(2)");return e||(e=document.querySelector("#main > div > div.general-container > div.col-md-12 > div > div:nth-child(1) > div > div.row.order_final_row.total_row > div.order-final-number")),e&&e.textContent?e.textContent:null}catch(e){return null}}(),s.vvsPurcTypeElt=function(){try{var e=document.querySelector("body > div.main-custom-container > div.general-container > div > div > div > div.cart-header > div.payment_type_final_text > div");return e||(e=document.querySelector("#main > div > div.general-container > div:nth-child(2) > div > div > div.cart-header > div.cart-title-info > span")),e&&e.textContent?e.textContent:null}catch(e){return null}}(),s}},{key:"initializeExitEventListener",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}),{capture:!0}),window.addEventListener("pagehide",(function(){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger,n=navigator.sendBeacon(p,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(p,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}}]),e}(),ce=ie;function ue(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var se=new x("Nextday Treatment Repository"),de=function(){function e(t){s(this,e);var n=t.cookiePct,r=t.treatments;this.treatments=r,this.cookiePct=n}var t;return f(e,[{key:"getMatchedTreatments",value:function(){var e=this.getUserSegment(),t=this.treatments.filter((function(t){return t.apply_on_user_segment==e||"*"===t.apply_on_user_segment}));return se.log("".concat(t.length," treatments segment matched")),t.length?t=this.getTreatmentFixtures(t):[]}},{key:"getUserSegment",value:function(){if(-1===this.cookiePct)throw se.log("New user has no segment"),new Error("New User");return this.cookiePct<50?"A":"B"}},{key:"getTreatmentFixtures",value:function(e){var t,n=[],r=ue(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(o.id)}}catch(e){r.e(e)}finally{r.f()}var a,i=ue(e);try{for(i.s();!(a=i.n()).done;){var c=a.value;n.includes(7)&&21==c.id&&c.actions.push({operator:"edit",type:"styleApplicator",value:'{"bottom":"0 !important"}',selector:".quick-delivery-container"})}}catch(e){i.e(e)}finally{i.f()}return e}}],[{key:"getTreatments",value:(t=c(l().mark((function e(){var t,n,r,o,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return se.log("Treatments not found in local storage"),e.next=9,j();case 9:return r=e.sent,a={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return se.log("Treatments are expired"),e.next=19,j();case 19:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 23:return se.log("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),fe=de,pe=new x("Nextday Counter Checker"),ge=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return pe.log("No such type",t),null}}catch(t){return pe.log("Could not get counter ".concat(e),t),null}},he=new x("Nextday Element Checker"),ve=new x("Nextday Function Checker"),me=new x("Nextday Session Checker"),ye=new x("Nextday Env Checker");function be(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=new x("Nextday Rule Engine"),Se=function(){function e(t){s(this,e);var n=t.baseRuleSet,r=t.subVariantRuleSet,o=t.callback,a=void 0===o?null:o,i=t.bindings;this.baseRuleSet=n,this.subVariantRuleSet=r,this.callback=a,this.bindings=i}return f(e,[{key:"checkRules",value:function(){var e,t=be(this.baseRuleSet);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!this.checkRule(n))return!1}}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"checkSubVariantRules",value:function(){var e,t=be(this.subVariantRuleSet);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(this.checkRule(n))return n.subVariantId}}catch(e){t.e(e)}finally{t.f()}return null}},{key:"checkRule",value:function(e){var t=e.chain,n=e.chain_condition,r=e.type,o=null;switch(r){case"session":o=function(e){me.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"duration":return function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(window.sessionStorage.getItem(v)))}catch(e){return me.log("Could not get session timestamp",e),Date.now()}}())/1e3;return M(n,e,parseInt(t))}(n,r);case"history":return function(e,t){var n,r=null===(n=window.sessionStorage.getItem(m))||void 0===n?void 0:n.split(",");return M(r,e,t)}(n,r);default:return null}}(e);break;case"counter":o=function(e){pe.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return function(e,t){var n=parseInt(ge(y,"session"));return pe.log("Page views counter value: ",n),null===n?(pe.log("Pageviews counter not found in session storage"),!1):M(n,e,parseInt(t))}(n,r);case"CABasketPrice":return function(e,t){var n=parseInt(ge(w,"local"));return pe.log("Coupon applicable basket price counter value: ",n),null===n?(pe.log("Coupon applicable basket price counter not found in local storage"),!1):M(n,e,parseInt(t))}(n,r);default:return pe.log("No such operator",t),!1}}(e);break;case"element":o=function(e){he.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,c=e.selectorFallback,u=void 0===c?null:c,l=a;if(l&&!document.querySelector(l)&&(l=u||l),null===n)return M(document.querySelector(l),r,o);if(l&&!document.querySelector(l))return he.log("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return he.log("Selector not found on page"),!1;switch(l?t=document.querySelector(l):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var s;s=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(l).textContent.replace("TL","").replace(".",""));var d=parseInt(s);return M(d,r,o);case"classList":return M(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return M(f,r,o);default:return he.log("Operator not defined"),!1}}(e);break;case"dataLayer":o=A(e);break;case"url":o=E(e);break;case"function":o=function(e,t){ve.log("Checking rule",JSON.stringify(e));var n=t.productInfo,r=e.operator,o=e.condition,a=e.value,i=e.bindings;if(!r)return ve.log("Rule function not defined"),!1;var c={};"productInfo"==i&&(c={productInfo:n});var u=Function(r).bind(c)();return M(u,o,a)}(e,this.bindings);break;case"environment":o=function(e){ye.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(g).matches?"mobile":"desktop";return M(o,n,r)}}(e);break;default:return ke.log("No such rule type: ".concat(r)),null}if(t)switch(n){case"and":o=o&&this.checkRule(t);break;case"or":o=o||this.checkRule(t);break;case"xor":o=o!=this.checkRule(t);break;default:ke.log("No such chain condition")}return o}}]),e}(),xe=new x("Nextday Api"),Ie=function(){var e=c(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe.log("Starting product info lookup"),t=H()){e.next=5;break}return xe.log("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.next=9,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 9:if((r=e.sent).ok){e.next=13;break}return xe.log("Product info lookup failed"),e.abrupt("return",null);case 13:return e.next=15,r.json();case 15:if(r=e.sent){e.next=19;break}return xe.log("Product info extraction from response failed"),e.abrupt("return",null);case 19:return xe.log("Product info lookup successful"),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}c(l().mark((function t(){var n,r,i,u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ee(Z.BeagleLoaded),n=null,r=null,(i=new x).info("Nextday initializing"),t.prev=5,t.delegateYield(l().mark((function e(){var t,u,s,d,f,p,S,x,I,L,A,C,_,E,O,P,T,j,R,D,U,M,B,J,$,z,H,K;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ie(),void 0,se=void 0,le=k,se=window.location.search,u=se.includes("nd_debug=1")?(window.localStorage.setItem(le,1),1):se.includes("nd_debug=2")?(window.localStorage.setItem(le,2),2):se.includes("nd_debug=0")?(window.localStorage.removeItem(le),0):parseInt(window.localStorage.getItem(le))||0,r=new ce(u),ee(Z.Initialized),e.next=6,G();case 6:return s=e.sent,i.log("Found cookie identifier: ",s),e.next=10,q(s);case 10:if(d=e.sent,u){e.next=21;break}if(!(d<80)){e.next=18;break}if(-1!==d){e.next=15;break}throw new Error("Could not determine cookie pct");case 15:n=!1,e.next=19;break;case 18:n=!0;case 19:e.next=22;break;case 21:i.info("Debug mode on: all applicable treatments will be applied");case 22:if(f=window.location.search,p=u&&f.includes("filter=")?f.slice(f.indexOf("[")+1,f.lastIndexOf("]")).split(",").map((function(e){return parseInt(e,10)})):null,ee(Z.UserOnOff),document.documentElement.classList.contains("nextDay-hide")){e.next=28;break}throw ee(Z.ScriptTimeOut),new Error("Nextday script timed out");case 28:if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GLOV",GLOV_ON:n?"true":"false"}),!1!==n){e.next=32;break}throw new Error("Control group: no treatments applied");case 32:return V(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Q=y,W=b,X=h,te=v,ne=m,re=sessionStorage.getItem(Q),oe=sessionStorage.getItem(W),ae=sessionStorage.getItem(X),ie=sessionStorage.getItem(te),ue=sessionStorage.getItem(ne),re?sessionStorage.setItem(Q,parseInt(re)+1):sessionStorage.setItem(Q,1),null===oe&&sessionStorage.setItem(W,0),ae||sessionStorage.setItem(X,crypto.randomUUID()),ie||sessionStorage.setItem(te,Date.now()),ue?sessionStorage.setItem(ne,[window.location.pathname,ue]):sessionStorage.setItem(ne,[window.location.pathname]),setTimeout((function(){N()}),2e3),S=fe.getTreatments(),x=window.matchMedia(g).matches,I={subtree:!0,childList:!0,attributes:!0},L=function(){var e=c(l().mark((function e(t,n){var r,o,c,d,f,g,h,v,m,y,b,w,k,S,I,L,A,C,_,E;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,o=t.actions,c=t.baseRuleSet,d=t.device,f=t.dependant_on_treatment,g=t.reapply_event,h=t.subVariantRuleSet,v=t.weight,!p||p.includes(r)){e.next=3;break}return e.abrupt("return");case 3:if("mobile"!==d||x){e.next=6;break}return i.log("Treatment device 'mobile' mismatch"),e.abrupt("return");case 6:if("desktop"!==d||!x){e.next=9;break}return i.log("Treatment device 'desktop' mismatch"),e.abrupt("return");case 9:if(g){m=g,Array.isArray(g)||(m=[g]),i.log("Reapply event '".concat(g,"' found for treatment: ").concat(r)),y=Le(m);try{for(y.s();!(b=y.n()).done;)w=b.value,(k=M[w]?M[w]:[]).includes(r)?i.log("Treatment already added for reapply event"):M[w]=[].concat(a(k),[r])}catch(e){y.e(e)}finally{y.f()}}if(S=new Se({baseRuleSet:c,subVariantRuleSet:h,bindings:{productInfo:n}}),i.log("Starting base rule set check for treatment: "+r),c&&!S.checkRules()){e.next=39;break}if(I=100-v||50,f&&(I=100-(null===(L=R.find((function(e){return e.id===f})))||void 0===L?void 0:L.weight)||50),i.log("Treatment skip ratio: "+I),A=f||r,1!==u){e.next=22;break}e.t0=100,e.next=25;break;case 22:return e.next=24,q(s+A,7);case 24:e.t0=e.sent;case 25:if(C=e.t0,i.log("TreatmentPct: "+C+" with debug mode ".concat(u?"on":"off")),_=null,E=o,h&&(i.log("Starting sub variant rule set check for treatment: "+r),(_=S.checkSubVariantRules())?(i.log("Applying sub variant with id: ",_),E=F(o,_)):i.log("Applying treatment with default values")),!(C<I)){e.next=36;break}return i.log("Treatment ".concat(r," skipped due to treatment split ratio")),U[r]={dependant_on_treatment:f||null,subVariantId:_,actions:E},e.abrupt("return");case 36:return Y(E,T),D[r]={subVariantId:_,actions:E},e.abrupt("return");case 39:i.log("Rule check failed for treatment: ",r);case 40:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),(A=function(){var e=w;if(window.location.href.includes("/siparis-listesi.html")){var t=Array.from(document.querySelectorAll(".price"));if(t.push.apply(t,a(Array.from(document.querySelectorAll(".new-price")))),!t.length)return i.log("Price elements not found"),void window.localStorage.setItem(e,0);i.log("Price elements: ",t);var n=t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);i.log("Coupon applicable total price: ",n),n>=0&&window.localStorage.setItem(e,n)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)})(),window.location.href.includes("/siparis-listesi.html")&&(C=new MutationObserver((function(){i.log("Mutation observed, calling collectCABasketPrice"),A()})),(_=document.querySelector("#checkoutForm"))&&C.observe(_,I)),e.next=44,Promise.all([S,t]);case 44:if(E=e.sent,O=o(E,2),P=O[0],T=O[1],i.log("Found treatments: ",P),i.log("Found cookie percentage: ",d),i.log("Split_ratio: ",80),i.log("cookiePct < SPLIT_RATIO",d<80),i.info("Control group ratio: ".concat(80,"%")),j=new fe({treatments:P,cookiePct:d}),ee(Z.TreatmentRepositoryCreated),(R=j.getMatchedTreatments()).length){e.next=61;break}return i.log("No treatments matched, returning without further action"),N(),r.sendLogs(n,"No treatments matched",!0),e.abrupt("return",{v:void 0});case 61:D={},U={},M={},B=Le(R),e.prev=65,B.s();case 67:if((J=B.n()).done){e.next=79;break}return $=J.value,e.prev=69,e.next=72,L($,T);case 72:e.next=77;break;case 74:e.prev=74,e.t0=e.catch(69),i.log("Error executing rules",e.t0);case 77:e.next=67;break;case 79:e.next=84;break;case 81:e.prev=81,e.t1=e.catch(65),B.e(e.t1);case 84:return e.prev=84,B.f(),e.finish(84);case 87:for(N(),ee(Z.TreatmentsApplied),i.log("Applied treatments: ",D),r.updateTreatments(D,U),r.sendLogs(n),setInterval((function(){r.updateLatestChanges(D,U)}),1e3),z=function(){var e=K[H],t=M[e],n=R.filter((function(e){return t.includes(e.id)}));switch(e){case"infinite_scroll":var r=new ResizeObserver((function(){var e,t=Le(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from infinite_scroll")),L(r,T)}}catch(e){t.e(e)}finally{t.f()}}));r.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,t=Le(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from timeout")),L(r,T)}}catch(e){t.e(e)}finally{t.f()}}),500);break;case"element_change":var o,a=Le(n);try{var c=function(){var e,t=o.value,n=Le(Array.isArray(t.reapply_selector)?t.reapply_selector:[t.reapply_selector]);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=document.querySelector(r);a&&new MutationObserver((function(){i.log("Retrying treatment ".concat(t.id," from element_change")),L(t,T)})).observe(a,I)}}catch(e){n.e(e)}finally{n.f()}};for(a.s();!(o=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}break;case"on_scroll":window.onscroll=function(){var e,t=Le(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from on_scroll")),L(r,T)}}catch(e){t.e(e)}finally{t.f()}};break;default:i.log("Reapply event not found: ",e)}},H=0,K=Object.keys(M);H<K.length;H++)z();ee(Z.ReapplyTreatmentListeners);case 96:case"end":return e.stop()}var Q,W,X,te,ne,re,oe,ae,ie,ue,le,se}),e,null,[[65,81,84,87],[69,74]])}))(),"t0",7);case 7:if("object"!==e(u=t.t0)){t.next=10;break}return t.abrupt("return",u.v);case 10:t.next=17;break;case 12:t.prev=12,t.t1=t.catch(5),N(),console.warn("Nextday: ",t.t1.message),r.sendLogs(n,t.t1.message,!0);case 17:case"end":return t.stop()}}),t,null,[[5,12]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQ0hILEdBREcsSUFDM0IsMkJBQTJDLEtBQWhDN1YsRUFBZ0MsUUFDekN4SCxFQUFPRixJQUFQLDZCQUFpQzBILEVBQVUvQixHQUEzQyxvQkFDQTRWLEVBQWdCN1QsRUFBV0gsSUFIRixnQ0FPN0IsTUFDRixRQUNFckgsRUFBT0YsSUFBSSw0QkFBNkI5TCxLQWxEOUMsTUFBa0JkLE9BQU9tSCxLQUFLeWhCLEdBQTlCLGVBQXFELElBc0RyRDNPLEdBQVdULEVBQVlPLDJCQTNRMUIsa0NieUhzQyxJQUM5QndOLEVBQVluVCxFQUFvQm9ULEVBQVlDLEdBQW1CQyxHQUVoRW5DLEdBQ0FvQyxHQUNBbE4sR0FDQW1OLEdBQ0FDLEdBNktDaEIsR0FDREMsS2E5U1AscUxBNlFHeFksSUFDQTNCLFFBQVFFLEtBQUssWUFBYSxLQUFJeU0sU0FDOUJxTixFQUFRcUQsU0FBUzlPLEVBQU0sS0FBSTVCLFNBQVMsR0EvUXZDLHlEQUFELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRob3V0SG9sZXMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVNwcmVhZC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvbG9nZ2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZGF0YUxheWVyQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3VybENoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcHBseVRyZWF0bWVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9CZWFnbGVDaGVja3BvaW50L2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5TW9uaXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvY291bnRlckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9lbGVtZW50Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2Z1bmN0aW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3Nlc3Npb25DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZW52Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheUFwaS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlDbGllbnRTREsvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqW2tleV07XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBJRSA4IGhhcyBhIGJyb2tlbiBPYmplY3QuZGVmaW5lUHJvcGVydHkgdGhhdCBvbmx5IHdvcmtzIG9uIERPTSBvYmplY3RzLlxuICAgIGRlZmluZSh7fSwgXCJcIik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRlZmluZSA9IGZ1bmN0aW9uKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIGRlZmluZShJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgZGVmaW5lKEdwLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoXG4gICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgdG9TdHJpbmdUYWdTeW1ib2wsXG4gICAgXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICk7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGFzeW5jSXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yXCIpO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgZGVmaW5lKEdwLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIGRlZmluZShHcCwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhISBjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiA/IG1vZHVsZS5leHBvcnRzIDoge31cbikpO1xuXG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgaW4gbW9kZXJuIGVuZ2luZXNcbiAgLy8gd2UgY2FuIGV4cGxpY2l0bHkgYWNjZXNzIGdsb2JhbFRoaXMuIEluIG9sZGVyIGVuZ2luZXMgd2UgY2FuIGVzY2FwZVxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSBcIm9iamVjdFwiKSB7XG4gICAgZ2xvYmFsVGhpcy5yZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xuICB9IGVsc2Uge1xuICAgIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG4gIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRoSG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRoSG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXlMaW1pdCBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVSZXN0IGZyb20gXCIuL25vbkl0ZXJhYmxlUmVzdC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG5cbiAgaWYgKF9pID09IG51bGwpIHJldHVybjtcbiAgdmFyIF9hcnIgPSBbXTtcbiAgdmFyIF9uID0gdHJ1ZTtcbiAgdmFyIF9kID0gZmFsc2U7XG5cbiAgdmFyIF9zLCBfZTtcblxuICB0cnkge1xuICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kID0gdHJ1ZTtcbiAgICBfZSA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aG91dEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVTcHJlYWQgZnJvbSBcIi4vbm9uSXRlcmFibGVTcHJlYWQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gIHRyeSB7XG4gICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaW5mby5kb25lKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cbiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTtcbiAgICAgIH1cblxuICAgICAgX25leHQodW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufSIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufSIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmV4cG9ydCBjb25zdCBDT09LSUVfTkFNRSA9IFwiX2dhXCI7XG4vLyBUT0RPIHJldmVydCB0aGUgZm9sbG93aW5nIHN0YWdpbmcgZW52IGNoZWNrIGFmdGVyIG1vdmluZyB0byBuZXcgYnJhbmNoIHN0cnVjdHVyZVxuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVFNfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L3RyZWF0bWVudHMuanNvblwiO1xuZXhwb3J0IGNvbnN0IFNUWUxFU0hFRVRfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L25kLXN0eWxlcy5jc3NcIjtcbmV4cG9ydCBjb25zdCBMT0dfQVBJX1VSTCA9IFwiaHR0cHM6Ly9ldXJvcGUtd2VzdDMtbmV4dGRheS0zNGViMy5jbG91ZGZ1bmN0aW9ucy5uZXQvYXBpL2xvZ1Jlc3BvbnNlXCI7XG5leHBvcnQgY29uc3QgTE9PS1VQX0FQSV9VUkwgPSBcImh0dHBzOi8vY2F0YWxvZy1hcGkuYWRvcmFhaS5jb21cIjtcbmV4cG9ydCBjb25zdCBNT0JJTEVfTUVESUFfUVVFUlkgPSBcIihtYXgtd2lkdGg6IDQ0MHB4KVwiO1xuLy8gQ29udHJvbCBncm91cCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgU1BMSVRfUkFUSU8gPSA4MDtcbi8vIFNraXBwZWQgdHJlYXRtZW50IHBlcmNlbnRhZ2VcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRfUkFUSU8gPSA1MDtcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRTX0RVUkFUSU9OID0gMTtcblxuZXhwb3J0IGNvbnN0IFNFU1NJT05fU1RPUkFHRV9LRVlTID0ge1xuICBTRVNTSU9OX0lEOiBcIl9fbmV4dGRheV9zZXNzaW9uX2lkXCIsXG4gIFNFU1NJT05fVElNRVNUQU1QOiBcIk5EX1Nlc3Npb25UaW1lc3RhbXBcIixcbiAgU0VTU0lPTl9ISVNUT1JZOiBcIkJOX1Nlc3Npb25IaXN0b3J5XCIsXG4gIFRSRUFUTUVOVFM6IFwiTkRfVHJlYXRtZW50c1wiLFxuICBQQUdFX1ZJRVdTOiBcIk5EX1BhZ2VWaWV3c1wiLFxuICBQT1BVUF9ESVNQTEFZX0ZMQUc6IFwiTkRfUG9wdXBEaXNwbGF5RmxhZ1wiLFxuICBORF9TS1VfTElTVDogXCJORF9Ta3VMaXN0XCIsXG59O1xuZXhwb3J0IGNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZUyA9IHtcbiAgQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFOiBcIk5EX0NBQmFza2V0UHJpY2VcIixcbiAgTkRfREVCVUdfTU9ERTogXCJORF9EZWJ1Z1wiLFxufTtcbiIsImltcG9ydCB7TE9DQUxfU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmNsYXNzIExvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKG9yaWdpbiA9IFwiTmV4dGRheSBDbGllbnQgU0RLXCIpIHtcbiAgICB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICB0aGlzLkRFQlVHID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFKTtcbiAgfVxuXG4gIGluZm8oLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLmluZm8oYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cblxuICBsb2coLi4uYXJncykge1xuICAgIGNvbnN0IHtERUJVRywgb3JpZ2lufSA9IHRoaXM7XG4gICAgaWYgKERFQlVHKSB7XG4gICAgICBjb25zb2xlLmxvZyhgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICB3YXJuKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS53YXJuKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgZXJyb3IoLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLmVycm9yKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2dlcjtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IERhdGFMYXllciBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tEYXRhTGF5ZXJSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBkYXRhTGF5ZXJGaW5kZXIob3BlcmF0b3IpO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRhdGFMYXllckZpbmRlciA9IChrZXkpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIlNlYXJjaGluZyBkYXRhTGF5ZXIgZm9yIGtleVwiLCBrZXkpO1xuICBmb3IgKGNvbnN0IG9iaiBvZiB3aW5kb3cuZGF0YUxheWVyKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgaWYgKGtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgbG9nZ2VyLmxvZyhgRm91bmQga2V5ICR7a2V5fSB3aXRoIHZhbHVlICR7b2JqW2tleV19YCk7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfVxuICB9XG4gIGxvZ2dlci5sb2coYEtleSAke2tleX0gbm90IGZvdW5kIGluIGRhdGFMYXllcmApO1xuICByZXR1cm4gbnVsbDtcbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVcmwgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrVXJsUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhdGhcIjoge1xuICAgICAgY29uc3QgcmVxdWVzdFVSTD0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICBjb25zdCBpc0FqYXggPSByZXF1ZXN0VVJMLmluY2x1ZGVzKFwiYWpheC9tb2JpbGUtc2VhcmNoL2xvYWRPdGhlclBhZ2VzLnBocFwiKTtcbiAgICAgIGNvbnN0IHBhdGggPSAhaXNBamF4ID8gbmV3IFVSTChyZXF1ZXN0VVJMKS5wYXRobmFtZSA6XG4gICAgICBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgbmV3IFVSTChyZXF1ZXN0VVJMKS5zZWFyY2gucmVwbGFjZShcIj9vcmlnaW5hbFBhdGg9XCIsIFwiXCIpLFxuICAgICAgKTtcbiAgICAgIGxvZ2dlci5sb2coYENoZWNraW5nIHBhdGggJHtwYXRofSBtYXRjaGVzIHJ1bGUgcGF0aCAke3ZhbHVlfWApO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocGF0aCwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHtjaGVja0RhdGFMYXllclJ1bGV9IGZyb20gXCIuL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tVcmxSdWxlfSBmcm9tIFwiLi9OZXh0ZGF5UnVsZUVuZ2luZS91cmxDaGVja2VyXCI7XG5pbXBvcnQge1xuICBDT09LSUVfTkFNRSxcbiAgTE9DQUxfU1RPUkFHRV9LRVlTLFxuICBTRVNTSU9OX1NUT1JBR0VfS0VZUyxcbiAgU1RZTEVTSEVFVF9MT0NBVElPTixcbiAgVFJFQVRNRU5UU19MT0NBVElPTn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVdGlsc1wiKTtcblxuaWYgKCEoXCJyYW5kb21VVUlEXCIgaW4gY3J5cHRvKSkge1xuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyMy8yODAwMjE4XG4gIC8vIExJQ0VOU0U6IGh0dHBzOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS80LjAvbGVnYWxjb2RlXG4gIHtcbiAgICByYW5kb21VVUlERmFsbGJhY2soKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlRG9jdW1lbnRIaWRlID0gKCkgPT4ge1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm5leHREYXktaGlkZVwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRyZWF0bWVudHMgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnRzXCIpO1xuICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2goVFJFQVRNRU5UU19MT0NBVElPTik7XG4gIHJldHVybiBhd2FpdCB0cmVhdG1lbnRzLmpzb24oKTtcbn07XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q29va2llSWRlbnRpZmllciA9IChjb29raWVTdHJpbmcsIGNvb2tpZU5hbWUpID0+IHtcbiAgaWYgKCFjb29raWVTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZCA9IGNvb2tpZVN0cmluZ1xuICAgICAgLnNwbGl0KFwiO1wiKVxuICAgICAgLm1hcCgodikgPT4gdi5zcGxpdChcIj1cIikpXG4gICAgICAucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgaWYgKHZbMF0gJiYgdlsxXSkge1xuICAgICAgICAgIGFjY1tkZWNvZGVVUklDb21wb25lbnQodlswXS50cmltKCkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2WzFdLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcblxuICBsZXQgaWRlbnRpZmllciA9IHBhcnNlZFtjb29raWVOYW1lXTtcbiAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGNvb2tpZU5hbWUgPT09IFwiX2dhXCIpIHtcbiAgICAvLyBleHRyYWN0IHVuaXF1ZSBpZGVudGlmaWVyIGZyb20gR0EgY29va2llXG4gICAgY29uc3QgaWRlbnRpZmllckluZGV4ID0gMjtcbiAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllci5zcGxpdChcIi5cIilbaWRlbnRpZmllckluZGV4XTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcjtcbn07XG5cbmV4cG9ydCBjb25zdCBkZXRlcm1pbmVQY3QgPSBhc3luYyAoaWRlbnRpZmllciwgc3Vic3RyaW5nTGVuZ3RoID0gOCkgPT4ge1xuICBjb25zdCBzdWJzdHJpbmdTdGFydFBvc2l0aW9uID0gOTtcbiAgY29uc3Qgc3Vic3RyaW5nRW5kUG9zaXRpb24gPSBzdWJzdHJpbmdTdGFydFBvc2l0aW9uICsgc3Vic3RyaW5nTGVuZ3RoO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgLy8gZW5jb2RlIHN0cmluZyB0byBhbiBhcnJheSBvZiA4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlc1xuICBjb25zdCBlbmNvZGVkID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGlkZW50aWZpZXIpO1xuXG4gIC8vIGhhc2ggdGhlIGVuY29kZWQgY29va2llIGludG8gYSBidWZmZXJcbiAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTFcIiwgZW5jb2RlZCk7XG5cbiAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxuICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcblxuICAvLyBjb252ZXJ0IGJ5dGVzIHRvIGhleCBzdHJpbmdcbiAgY29uc3QgaGFzaFN0cmluZyA9IGhhc2hBcnJheVxuICAgICAgLm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKVxuICAgICAgLmpvaW4oXCJcIik7XG5cbiAgLy8gTWFwIHRoZSBjb29raWUgaGFzaCB0byBhIG51bWJlciBiZXR3ZWVuIDAgLT4gOTksXG4gIC8vIHRoaXMgbnVtYmVyIGlzIHRoZSBvblJhdGlvblxuICBjb25zdCBoYXNoTnVtYmVyID0gcGFyc2VJbnQoaGFzaFN0cmluZy5zdWJzdHJpbmcoc3Vic3RyaW5nU3RhcnRQb3NpdGlvbiwgc3Vic3RyaW5nRW5kUG9zaXRpb24pLCAxNik7XG5cbiAgcmV0dXJuIGhhc2hOdW1iZXIgJSAxMDA7XG59O1xuXG5leHBvcnQgY29uc3QgZXhpdFNjcm9sbExpc3RlbmVyID0gKGNhbGxCYWNrKSA9PiB7XG4gIGNvbnN0IGxvb3AgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBpZiAobGFzdFNjcm9sbFRvcCAtIDQwMCA+IHNjcm9sbFRvcCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChleGl0U2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgY2FsbEJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdFNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgbGV0IGxhc3RTY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICBjb25zdCBleGl0U2Nyb2xsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChsb29wLCA1MDApO1xufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGFwcGx5IHRyZWF0bWVudHMgdG8gdGhlIHBhZ2Ugb24gc3BlY2lmaWMgbWVkaWEgdHlwZS5cbiAqIEBwYXJhbSB7TWVkaWFRdWVyeUxpc3R9IG1lZGlhUXVlcnlDb25kaXRpb24gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA1MDBweClcIilcbiAqIEBwYXJhbSB7RE9NTm9kZUxpc3QgfSBlbGVtZW50cyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2LnByb2R1Y3RfaW5mb1wiKVxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlQ2hhbmdlc01hcCB7IFwibWFyZ2luLXRvcFwiIDogXCIxMHJlbVwifVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IHN0eWxlQXBwbGljYXRvciA9IChlbGVtZW50cywgc3R5bGVDaGFuZ2VzTWFwKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZSBjaGFuZ2VzXCIsIHN0eWxlQ2hhbmdlc01hcCwgXCJ0byBlbGVtZW50c1wiLCBlbGVtZW50cyk7XG4gIGZvciAobGV0IGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdHlsZUNoYW5nZXNNYXApKSB7XG4gICAgICBlbGVtZW50LnN0eWxlW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpbmplY3RTdHlsZVNoZWV0ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gIHN0eWxlU2hlZXQucmVsID0gXCJzdHlsZXNoZWV0XCI7XG4gIHN0eWxlU2hlZXQudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgc3R5bGVTaGVldC5ocmVmID0gU1RZTEVTSEVFVF9MT0NBVElPTjtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVNoZWV0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlQWN0aW9ucyA9IChhY3Rpb25zVG9QcmVwYXJlLCBzdWJWYXJpYW50SWQpID0+IHtcbiAgY29uc3QgYWN0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYWN0aW9uc1RvUHJlcGFyZSkpO1xuICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgY29uc3Qge3N1YlZhcmlhbnRzfSA9IGFjdGlvbjtcbiAgICBpZiAoIXN1YlZhcmlhbnRzKSBjb250aW51ZTtcbiAgICBmb3IgKGNvbnN0IHN1YlZhcmlhbnQgb2Ygc3ViVmFyaWFudHMpIHtcbiAgICAgIGlmIChzdWJWYXJpYW50LmlkID09PSBzdWJWYXJpYW50SWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc3ViVmFyaWFudCkge1xuICAgICAgICAgIGlmIChrZXkgIT09IFwiaWRcIikge1xuICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBzdWJWYXJpYW50W2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gYWN0aW9ucztcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcyA9ICgpID0+IHtcbiAgY29uc3Qge1BBR0VfVklFV1MsIFBPUFVQX0RJU1BMQVlfRkxBRywgU0VTU0lPTl9JRCwgU0VTU0lPTl9USU1FU1RBTVAsIFNFU1NJT05fSElTVE9SWX0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCBwYWdlVmlld3MgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBBR0VfVklFV1MpO1xuICBjb25zdCBwb3B1cERpc3BsYXlGbGFnID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcpO1xuICBjb25zdCBzZXNzaW9uSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fSUQpO1xuICBjb25zdCBzZXNzaW9uVGltZXN0YW1wID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1RJTUVTVEFNUCk7XG4gIGNvbnN0IHNlc3Npb25IaXN0b3J5ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX0hJU1RPUlkpO1xuXG4gIGlmICghcGFnZVZpZXdzKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQQUdFX1ZJRVdTLCAxKTtcbiAgfSBlbHNlIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBBR0VfVklFV1MsIHBhcnNlSW50KHBhZ2VWaWV3cykgKyAxKTtcbiAgfVxuICBpZiAocG9wdXBEaXNwbGF5RmxhZyA9PT0gbnVsbCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHLCAwKTtcbiAgfVxuICBpZiAoIXNlc3Npb25JZCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9JRCwgY3J5cHRvLnJhbmRvbVVVSUQoKSk7XG4gIH1cbiAgaWYgKCFzZXNzaW9uVGltZXN0YW1wKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX1RJTUVTVEFNUCwgRGF0ZS5ub3coKSk7XG4gIH1cbiAgaWYgKCFzZXNzaW9uSGlzdG9yeSkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9ISVNUT1JZLCBbd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXSk7XG4gIH0gZWxzZSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0hJU1RPUlksIFt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsIHNlc3Npb25IaXN0b3J5XSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjb25kaXRpb25DaGVja2VyID0gKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBpZiAoY29uZGl0aW9uID09PSBcIm5vdEV4aXN0XCIpIHtcbiAgICBpZiAoIXJ1blRpbWVWYWx1ZSkge1xuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAocnVuVGltZVZhbHVlID09PSBudWxsIHx8XG4gICAgcnVuVGltZVZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICBjb25kaXRpb24gPT09IG51bGwgfHxcbiAgICBjb25kaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiBydW5UaW1lVmFsdWUgb3IgY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzd2l0Y2ggKGNvbmRpdGlvbikge1xuICAgIGNhc2UgXCJleGlzdFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImNvbnRhaW5zXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGNvbnRhaW5zIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGNvbnRhaW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcIm5vdENvbnRhaW5zXCI6XG4gICAgICBpZiAoIXJ1blRpbWVWYWx1ZS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGNvbnRhaW5zIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJlcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcIm5vdEVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGVxdWFsIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGVxdWFscyB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZ3JlYXRlclRoYW5cIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPiB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA8IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBncmVhdGVyIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibGVzc0VxdWFsc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA8PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3Mgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJiZXR3ZWVuXCI6IHtcbiAgICAgIGxldCBbbWluLCBtYXhdID0gdmFsdWUuc3BsaXQoXCIsXCIpO1xuICAgICAgbWluID0gcGFyc2VJbnQobWluKTtcbiAgICAgIG1heCA9IHBhcnNlSW50KG1heCk7XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IG1pbiAmJiBydW5UaW1lVmFsdWUgPD0gbWF4KSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgYmV0d2VlbiBtaW4gYW5kIG1heFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgYmV0d2VlbiBtaW4gYW5kIG1heFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiBjb25kaXRpb24gaXMgbm90IGRlZmluZWQgXCIsIGNvbmRpdGlvbik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCByYW5kb21VVUlERmFsbGJhY2sgPSAoKSA9PiB7XG4gIGNyeXB0by5yYW5kb21VVUlEID0gZnVuY3Rpb24gcmFuZG9tVVVJRCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgWzFlN10rLTFlMystNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csXG4gICAgICAgIChjKSA9PiAoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KSxcbiAgICApO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbXBhcmVPYmplY3RzID0gKG9iajEsIG9iajIpID0+IHtcbiAgaWYgKG9iajEgPT09IG9iajIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChcbiAgICB0eXBlb2Ygb2JqMSAhPT0gXCJvYmplY3RcIiB8fFxuICAgICAgdHlwZW9mIG9iajIgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgIG9iajEgPT0gbnVsbCB8fFxuICAgICAgb2JqMiA9PSBudWxsXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGtleXNBID0gT2JqZWN0LmtleXMob2JqMSk7XG4gIGNvbnN0IGtleXNCID0gT2JqZWN0LmtleXMob2JqMik7XG5cbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGV0IHJlc3VsdCA9IHRydWU7XG5cbiAga2V5c0EuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKCFrZXlzQi5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygb2JqMVtrZXldID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgICB0eXBlb2Ygb2JqMltrZXldID09PSBcImZ1bmN0aW9uXCJcbiAgICApIHtcbiAgICAgIGlmIChvYmoxW2tleV0udG9TdHJpbmcoKSAhPT0gb2JqMltrZXldLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFjb21wYXJlT2JqZWN0cyhvYmoxW2tleV0sIG9iajJba2V5XSkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWJ1Z01vZGUgPSAoKSA9PiB7XG4gIGNvbnN0IHtORF9ERUJVR19NT0RFfSA9IExPQ0FMX1NUT1JBR0VfS0VZUztcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0xXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE5EX0RFQlVHX01PREUsIDEpO1xuICAgIHJldHVybiAxO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTJcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTkRfREVCVUdfTU9ERSwgMik7XG4gICAgcmV0dXJuIDI7XG4gIH1cbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MFwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShORF9ERUJVR19NT0RFKTtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBjb25zdCBjdXJyZW50ID0gcGFyc2VJbnQod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKE5EX0RFQlVHX01PREUpKTtcbiAgcmV0dXJuIChjdXJyZW50IHx8IDApO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldElkZW50aWZpZXIgPSBhc3luYyAoY29va2llTmFtZSA9IENPT0tJRV9OQU1FKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGlkID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBjb29raWVOYW1lKTtcbiAgICBpZiAoaWQpIHJlc29sdmUoaWQpO1xuICAgIGVsc2Uge1xuICAgICAgY29uc3QgZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIGNvb2tpZU5hbWUpO1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICB9XG4gICAgICB9LCAxMCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChleHRyYWN0SWRlbnRpZmllckludGVydmFsKTtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkNvdWxkIG5vdCBleHRyYWN0IGNvb2tpZSBpZGVudGlmaWVyXCIpKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVsYXkgPSAobXMpID0+IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCBtcykpO1xuXG4vLyBDb2xsZWN0IHByb2R1Y3QgU0tVcyBmcm9tIHBhZ2VcbmV4cG9ydCBjb25zdCBza3VDb2xsZWN0b3IgPSAoKSA9PiB7XG4gIGNvbnN0IHtORF9TS1VfTElTVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgY29uc3Qgc2t1TGlzdCA9IFtdO1xuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgaG9tZSBwYWdlXG4gIGNvbnN0IHJ1bGUgPSB7XG4gICAgb3BlcmF0b3I6IFwiUGFnZVR5cGVcIixcbiAgICBjb25kaXRpb246IFwiZXF1YWxcIixcbiAgICB2YWx1ZTogXCJIb21lcGFnZVwiLFxuICB9O1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGxpc3RpbmcgcGFnZVxuICBydWxlLnZhbHVlID0gXCJMaXN0aW5ncGFnZVwiO1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1jYXJkXCIpKTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBza3VMaXN0LnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3Qtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBMaXN0aW5ncGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNULCBKU09OLnN0cmluZ2lmeShza3VMaXN0KSk7XG5cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgcHJvZHVjdCBwYWdlXG4gIHJ1bGUudmFsdWUgPSBcIlByb2R1Y3RwYWdlXCI7XG4gIGlmIChjaGVja0RhdGFMYXllclJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LXNrdVwiKTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IFNLVSBub3QgZm91bmQgb24gUHJvZHVjdHBhZ2VcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2t1TGlzdC5wdXNoKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1za3VcIikpO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTkRfU0tVX0xJU1QsIEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpKTtcblxuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBiYXNrZXQgcGFnZVxuICBydWxlLm9wZXJhdG9yID0gXCJwYXRoXCI7XG4gIHJ1bGUudmFsdWUgPSBcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiO1xuICBpZiAoY2hlY2tVcmxSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FydC1pbnNpZGVcIikpO1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHNrdUxpc3QucHVzaChlLmdldEF0dHJpYnV0ZShcImRhdGEtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBiYXNrZXQgcGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNULCBKU09OLnN0cmluZ2lmeShza3VMaXN0KSk7XG5cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIGxvZ2dlci5sb2coXCJVbmlkZW50aWZpZWQgcGFnZSB0eXBlXCIpO1xuICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIFJldHVybiBzZWxlY3RvciBmb3IgYSBnaXZlbiBlbGVtZW50XG4vLyByZWY6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS82NjI5MTYwOC85MTM4NjUxXG5leHBvcnQgY29uc3QgZ2V0U2VsZWN0b3IgPSAoZWxtKSA9PiB7XG4gIGlmIChlbG0udGFnTmFtZSA9PT0gXCJCT0RZXCIpIHJldHVybiBcIkJPRFlcIjtcbiAgY29uc3QgbmFtZXMgPSBbXTtcbiAgd2hpbGUgKGVsbS5wYXJlbnRFbGVtZW50ICYmIGVsbS50YWdOYW1lICE9PSBcIkJPRFlcIikge1xuICAgIGlmIChlbG0uaWQpIHtcbiAgICAgIG5hbWVzLnVuc2hpZnQoXCIjXCIgKyBlbG0uZ2V0QXR0cmlidXRlKFwiaWRcIikpO1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjID0gMTsgbGV0IGUgPSBlbG07XG4gICAgICBmb3IgKDsgZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOyBlID0gZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLCBjKyspIDtcbiAgICAgIG5hbWVzLnVuc2hpZnQoZWxtLnRhZ05hbWUgKyBcIjpudGgtY2hpbGQoXCIgKyBjICsgXCIpXCIpO1xuICAgIH1cbiAgICBlbG0gPSBlbG0ucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4gbmFtZXMuam9pbihcIj5cIik7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtleGl0U2Nyb2xsTGlzdGVuZXIsIHN0eWxlQXBwbGljYXRvciwgZGVsYXl9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUlksIFNFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2RhdGFMYXllckZpbmRlcn0gZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5hc3luYyBmdW5jdGlvbiBhcHBseVRyZWF0bWVudHModHJlYXRtZW50cywgcHJvZHVjdEluZm8sIG9ic2VydmVyID0gZmFsc2UpIHtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBwbHkgVHJlYXRtZW50c1wiKTtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBR30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCB0cmFuc2Zvcm1lciA9IGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyZWF0bWVudCkge1xuICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQ6IFwiLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnQpKTtcbiAgICBjb25zdCB7XG4gICAgICBvcGVyYXRvcixcbiAgICAgIHR5cGUsXG4gICAgICBhcHBseUV2ZW50LFxuICAgICAgY29udGVudFNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3IsXG4gICAgICBzZWxlY3RvckZhbGxiYWNrLFxuICAgICAgbWRDb25kaXRpb24sXG4gICAgICBtb3ZlX3NlbGVjdG9yXzEsXG4gICAgICBtb3ZlX3NlbGVjdG9yXzIsXG4gICAgICByZXBsYWNlRm4sXG4gICAgfSA9IHRyZWF0bWVudDtcbiAgICBsZXQge3ZhbHVlfSA9IHRyZWF0bWVudDtcbiAgICBsZXQgZWxlbWVudCA9ICQoc2VsZWN0b3IpO1xuXG4gICAgY29uc3QgbWMgPSBtZENvbmRpdGlvbiA/IHdpbmRvdy5tYXRjaE1lZGlhKG1kQ29uZGl0aW9uKS5tYXRjaGVzIDogdHJ1ZTtcbiAgICBpZiAoIW1jKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTWVkaWEgY29uZGl0aW9uIG1pc21hdGNoOiBcIiwgbWRDb25kaXRpb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAobW92ZV9zZWxlY3Rvcl8xICYmICFtb3ZlX3NlbGVjdG9yXzIpIHx8XG4gICAgICAobW92ZV9zZWxlY3Rvcl8yICYmICFtb3ZlX3NlbGVjdG9yXzEpXG4gICAgKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQm90aCBtb3ZlIHNlbGVjdG9ycyBhcmUgcmVxdWlyZWRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb3ZlX3NlbGVjdG9yXzEgJiYgbW92ZV9zZWxlY3Rvcl8yKSB7XG4gICAgICBpZiAoISQobW92ZV9zZWxlY3Rvcl8xKS5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk1vdmUgc2VsZWN0b3IgMSBub3QgZm91bmQ6IFwiLCBtb3ZlX3NlbGVjdG9yXzEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoISQobW92ZV9zZWxlY3Rvcl8yKS5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk1vdmUgc2VsZWN0b3IgMiBub3QgZm91bmQ6IFwiLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3Qgc3BlY2lmaWVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgIGlmIChzZWxlY3RvciAhPT0gXCJuby1zZWxlY3RvclwiKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBmb3VuZDogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVHJ5aW5nIGZhbGxiYWNrIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKHNlbGVjdG9yRmFsbGJhY2spIGVsZW1lbnQgPSAkKHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJGYWxsYmFjayBzZWxlY3RvciBub3QgZm91bmRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVwbGFjZUZuRXhlY3V0b3IgPSAocmVwbGFjZUZuLCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHJlcGxhY2VGbiAmJiB2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJFeGVjdXRpbmcgcmVwbGFjZSBmdW5jdGlvbjogXCIsIHJlcGxhY2VGbik7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgICAgZGF0YUxheWVyRmluZGVyLFxuICAgICAgICAgIHByb2R1Y3RJbmZvLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXBsYWNlRnVuY3Rpb24gPSBGdW5jdGlvbihyZXBsYWNlRm4pLmJpbmQoY29udGV4dCk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZUFsbChcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VGdW5jdGlvbigpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKCh2YWwsIGkpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFJlcGxhY2VGbiA9IHJlcGxhY2VGbiA/IHJlcGxhY2VGbltpXSB8fCByZXBsYWNlRm4gOiBcIlwiO1xuICAgICAgICB2YWx1ZVtpXSA9IHJlcGxhY2VGbkV4ZWN1dG9yKGN1cnJlbnRSZXBsYWNlRm4sIHZhbCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAob3BlcmF0b3IgPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJSZW1vdmluZzogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJDYW5ub3QgZm91bmQgZWxlbWVudCB3aXRoIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3IpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5zZXJ0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBiZWZvcmU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgaWYgKFN0cmluZyh2YWx1ZSkuaW5jbHVkZXMoXCJuZC1hZGQtdG8td2luXCIpKSB7XG4gICAgICAgICAgICAkKFwiLm5kLWFkZC10by13aW5cIikucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFmdGVyXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBhZnRlcjogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmFmdGVyKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcHVwXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKSkgIT09IDApIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlBvcHVwIGFscmVhZHkgZGlzcGxheWVkIGluIHNlc3Npb25cIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkNyZWF0aW5nIFBvcHVwOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY3JlYXRlUG9wdXAodmFsdWUsIGNvbnRlbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImV4aXRJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBleGl0IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGV4aXRTY3JvbGxMaXN0ZW5lcihkaXNwbGF5UG9wdXApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1vdXNlbGVhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7b25jZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb3B5SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgY29weSBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb3B5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB7b25jZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gYXBwZW5kIHBvcHVwIHRvIGJvZHkgYWZ0ZXIgdGltZW91dCBleHBpcmVzXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCgpO1xuICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJlZGl0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIHRleHQ6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC50ZXh0KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlQXBwbGljYXRvclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUNoYW5nZXNNYXAgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJTdHlsZSBDaGFuZ2VzIE1hcDogXCIsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgICAgICBzdHlsZUFwcGxpY2F0b3IoZWxlbWVudHMsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQ2xhc3NcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBhZGRkaW5nIGNsYXNzIHRvICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJlbW92ZUNsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgcmVtb3ZlIGNsYXNzIGZyb20gJHtlbGVtZW50fSBuYW1lZCAke3ZhbHVlfWApO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3ModmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG9jdW1lbnRUaXRsZVwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYGNoYW5naW5nIGRvY3VtZW50IHRpdGxlIGZyb20gJHtlbGVtZW50fSB0byAke3ZhbHVlfWApO1xuICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50ID09IFwidGFiQ2hhbmdlXCIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiY2F0Y2hpbmcgZXZlbnQgdGFiY2hhbmdlLi5cIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIChlKSA9PlxuICAgICAgICAgICAgICAgICAgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZShlLCB2YWx1ZSwgb3JpZ2luYWxUaXRsZSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQmFubmVyXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qge05EX1NLVV9MSVNUfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgICAgICAgICAgaWYgKCFwcm9kdWN0SW5mbykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIHVuYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgYmFubmVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudFNrdSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk5EX1NrdUxpc3RcIikpWzBdO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50U2t1KSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgZmluZCBwcm9kdWN0IHNrdVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb2R1Y3RJbmZvKS5pbmNsdWRlcyhlbGVtZW50U2t1KSAmJlxuICAgICAgICAgICAgICBwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLm1vc3RWaWV3ZWRMZXZlbCA8IDEwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5iZWZvcmUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVW5rbm93biBlZGl0IHR5cGU6IFwiLCB0eXBlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInNldGF0dHJpYnV0ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiU2V0dGluZyBhdHRyaWJ1dGU6IFwiLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgIHN3aXRjaCAoYXR0cmlidXRlKSB7XG4gICAgICAgIGNhc2UgXCJzcmNcIjpcbiAgICAgICAgICBlbGVtZW50LmNzcyhcImNvbnRlbnRcIiwgYHVybCgke3ZhbHVlLnRyaW0oKX0pYCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdmFsdWUuc3BsaXQoXCI6XCIpWzBdLnRyaW0oKTtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eVZhbHVlID0gdmFsdWUuc3BsaXQoXCI6XCIpWzFdLnRyaW0oKTtcblxuICAgICAgICAgIGVsZW1lbnQuY3NzKHByb3BlcnR5LCBwcm9wZXJ0eVZhbHVlLCBcIiFpbXBvcnRhbnRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJyZXBsYWNlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJSZXBsYWNpbmc6IFwiLCB2YWx1ZSk7XG4gICAgICBlbGVtZW50LnJlcGxhY2VBbGwodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwic3dhcFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiU3dhcHBpbmc6IFwiLCBtb3ZlX3NlbGVjdG9yXzEsIG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBjb25zdCBuMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IG4yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc3dhcE5vZGVzKG4xLCBuMik7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJpbmplY3RzY3JpcHRcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIkluamVjdGluZyBzY3JpcHQ6IFwiLCB2YWx1ZSk7XG4gICAgICBlbGVtZW50LmFwcGVuZChgPHNjcmlwdD4ke3ZhbHVlfTwvc2NyaXB0PmApO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwibW92ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKGBNb3ZpbmcgJHttb3ZlX3NlbGVjdG9yXzF9IHRvICR7bW92ZV9zZWxlY3Rvcl8yfWApO1xuICAgICAgY29uc3Qgc291cmNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzEpO1xuICAgICAgY29uc3QgZGVzdGluYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBzb3VyY2UucmVtb3ZlKCk7XG4gICAgICBkZXN0aW5hdGlvbi5wcmVwZW5kKHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJub29wXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJOb29wIE9wZXJhdG9yOiBObyBvcGVyYXRpb24gaXMgYXBwbGllZCBvbiB0YXJnZXQgXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCBvcGVyYXRvciBleGlzdHMgeWV0XCIsIG9wZXJhdG9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSA9IGFzeW5jIChldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlKSA9PiB7XG4gICAgY29uc3QgcGFyc2VkVGl0bGVzID0gIUFycmF5LmlzQXJyYXkodGl0bGVzKSA/IFt0aXRsZXNdIDogdGl0bGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkVGl0bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gcGFyc2VkVGl0bGVzW2ldO1xuICAgICAgICBhd2FpdCBkZWxheSgzMDAwKTtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgICBhd2FpdCBkZWxheSgzMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZShldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUG9wdXBDbGljayA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZXZlbnQudGFyZ2V0LmlkO1xuICAgIGlmIChpZCAmJiBpZCA9PT0gXCJuZC1wb3B1cF9fd3JhcHBlclwiKSB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheVBvcHVwID0gKCkgPT4ge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHLCAxKTtcbiAgICBjb25zdCBxUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dydC1zaGFkb3ctaG9zdFwiKTtcbiAgICBpZiAocVBvcHVwKSBxUG9wdXAuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKS5zdHlsZVtcImRpc3BsYXlcIl0gPSBcImJsb2NrXCI7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcblxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb3B5XCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfSwgMTUwMDApO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVBvcHVwID0gKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpID0+IHtcbiAgICAvLyBDcmVhdGUgcG9wdXAgd3JhcHBlclxuICAgIGNvbnN0IHBvcHVwV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICBwb3B1cFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcIm5kLXBvcHVwX193cmFwcGVyXCIpO1xuICAgIHBvcHVwV3JhcHBlci5pZCA9IFwibmQtcG9wdXBfX3dyYXBwZXJcIjtcblxuICAgIC8vIENyZWF0ZSBwb3B1cCBjbG9zZSBidXR0b25cbiAgICBjb25zdCBwb3B1cENsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBwb3B1cENsb3NlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJuZC1wb3B1cF9fYnV0dG9uLWNsb3NlXCIpO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uaW5uZXJUZXh0ID0gXCJYXCI7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfTtcblxuICAgIGlmIChjb250ZW50U2VsZWN0b3IpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbnRlbnRTZWxlY3RvcikpO1xuICAgICAgd2hpbGUgKHZhbHVlLmluY2x1ZGVzKFwie3tSRVBMQUNFfX1cIikgJiYgY29udGVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCJ7e1JFUExBQ0V9fVwiLCBjb250ZW50cy5zaGlmdCgpLnNyYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGZyb20gdHJlYXRtZW50IGFuZCBhcHBlbmQgY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdmFsdWUudHJpbSgpO1xuICAgIGNvbnN0IHBvcHVwID0gdGVtcGxhdGUuY29udGVudC5maXJzdENoaWxkO1xuICAgIHBvcHVwLmFwcGVuZENoaWxkKHBvcHVwQ2xvc2VCdXR0b24pO1xuICAgIHBvcHVwV3JhcHBlci5hcHBlbmRDaGlsZChwb3B1cCk7XG5cbiAgICAvLyBSZW1vdmUgb2xkIHBvcHVwIGlmIGV4aXN0cyBiZWZvcmUgYXBwZW5kaW5nIG5ldyBvbmVcbiAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocG9wdXBXcmFwcGVyKTtcbiAgfTtcblxuICBjb25zdCBzd2FwTm9kZXMgPSBmdW5jdGlvbiBzd2FwTm9kZXMobjEsIG4yKSB7XG4gICAgY29uc3QgcDEgPSBuMS5wYXJlbnROb2RlO1xuICAgIGNvbnN0IHAyID0gbjIucGFyZW50Tm9kZTtcbiAgICBsZXQgaTE7XG4gICAgbGV0IGkyO1xuXG4gICAgaWYgKCFwMSB8fCAhcDIgfHwgcDEuaXNFcXVhbE5vZGUobjIpIHx8IHAyLmlzRXF1YWxOb2RlKG4xKSkgcmV0dXJuO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAxLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4xKSkge1xuICAgICAgICBpMSA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDIuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMi5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMikpIHtcbiAgICAgICAgaTIgPSBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwMS5pc0VxdWFsTm9kZShwMikgJiYgaTEgPCBpMikge1xuICAgICAgaTIrKztcbiAgICB9XG4gICAgcDEuaW5zZXJ0QmVmb3JlKG4yLCBwMS5jaGlsZHJlbltpMV0pO1xuICAgIHAyLmluc2VydEJlZm9yZShuMSwgcDIuY2hpbGRyZW5baTJdKTtcbiAgfTtcblxuICBjb25zdCB0cmVhdG1lbnRBcHBsaWNhdG9yID0gKHRyZWF0bWVudExpc3QpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyZWF0bWVudEFwcGxpY2F0b3IodHJlYXRtZW50TGlzdCk7XG4gICAgICB9LCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHRyZWF0bWVudExpc3QpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0cmFuc2Zvcm1lcih0cmVhdG1lbnQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFxuICAgICAgICAgICAgICBgQ291bGRuJ3QgYXBwbHkgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSB3aXRoIGVycm9yICR7ZXJyLm1lc3NhZ2V9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIFNldCBpZCBvZiBmYWlsZWQgdHJlYXRtZW50IHRvIC0xLFxuICAgICAgICAgIC8vIHNvIHdlIGtub3cgbm90IHRvIGxpc3QgaW4gdGhlIGN1c3RvbSBHQSBldmVudFxuICAgICAgICAgIC8vIHRyZWF0bWVudExpc3RbdHJlYXRtZW50XS5pZCA9IC0xO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEFwcGx5IHRyZWF0bWVudHNcbiAgdHJlYXRtZW50QXBwbGljYXRvcih0cmVhdG1lbnRzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGFwcGx5VHJlYXRtZW50cztcbiIsImltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlQ2hlY2twb2ludFwiKTtcbmV4cG9ydCBjb25zdCBjaGVja3BvaW50cyA9IHtcbiAgQmVhZ2xlTG9hZGVkOiAxLFxuICBJbml0aWFsaXplZDogMixcbiAgVXNlck9uT2ZmOiAzLFxuICBTY3JpcHRUaW1lT3V0OiA3LFxuICBUcmVhdG1lbnRSZXBvc2l0b3J5Q3JlYXRlZDogNCxcbiAgVHJlYXRtZW50c0FwcGxpZWQ6IDUsXG4gIFJlYXBwbHlUcmVhdG1lbnRMaXN0ZW5lcnM6IDYsXG59O1xud2luZG93LmJlYWdsZUluZm9MYXllciA9IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgfHwge2NoZWNrcG9pbnRzOiBbXX07XG5cbmV4cG9ydCBjb25zdCBjaGVja3BvaW50ID0gKGNoZWNrcG9pbnQpID0+e1xuICB0cnkge1xuICAgIGxvZ2dlci5sb2coYENoZWNrcG9pbnQ6ICcke2NoZWNrcG9pbnR9JyBSZWFjaGVkIWApO1xuICAgIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuY2hlY2twb2ludHMucHVzaCh7XG4gICAgICBjaGVja3BvaW50OiBPYmplY3Qua2V5cyhjaGVja3BvaW50cykuZmluZCgoa2V5KSA9PiBjaGVja3BvaW50c1trZXldID09PSBjaGVja3BvaW50KSxcbiAgICAgIGlkOiBjaGVja3BvaW50LFxuICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci53YXJuKGUpO1xuICB9XG4gIHJldHVybjtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn0iLCJpbXBvcnQge0xPR19BUElfVVJMLCBTRVNTSU9OX1NUT1JBR0VfS0VZUywgU1BMSVRfUkFUSU99IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7Y29tcGFyZU9iamVjdHMsIGV4dHJhY3RDb29raWVJZGVudGlmaWVyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5leHBvcnQgY2xhc3MgTW9uaXRvciB7XG4gIGNvbnN0cnVjdG9yKGRlYnVnTW9kZSkge1xuICAgIHRoaXMubG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgTW9uaXRvclwiKTtcbiAgICB0aGlzLnNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9JRCk7XG4gICAgdGhpcy5sb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIG1vbml0b3Igd2l0aCBzZXNzaW9uIGlkOiBcIiArIHRoaXMuc2Vzc2lvbklkKTtcblxuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudElkcyA9IG51bGw7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzID0gbnVsbDtcbiAgICB0aGlzLmxhdGVzdENoYW5nZXMgPSBudWxsO1xuICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcyA9IG51bGw7XG4gICAgdGhpcy52aWV3SWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIHRoaXMuaGVhZGVycyA9IHtcbiAgICAgIHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgdGhpcy5kZWJ1Z01vZGUgPSBkZWJ1Z01vZGUgPyBcIm9uXCIgOiBcIm9mZlwiO1xuICAgIHRoaXMuaXNMb2dnZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVyKCk7XG4gIH1cblxuICB1cGRhdGVUcmVhdG1lbnRzKGFwcGxpZWRUcmVhdG1lbnRJZHMsIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMpIHtcbiAgICB0aGlzLmFwcGxpZWRUcmVhdG1lbnRJZHMgPSBhcHBsaWVkVHJlYXRtZW50SWRzO1xuICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyA9IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHM7XG4gIH1cblxuICBhc3luYyBzZW5kTG9ncyhpc09uLCBtZXNzYWdlID0gbnVsbCwgZW1wdHkgPSBmYWxzZSkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsb2dnZXIubG9nKFwiU2VuZGluZyBsb2dzXCIpO1xuXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwiY29tcGxldGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIkRvY3VtZW50IHJlYWR5IHN0YXRlIGlzIG5vdCBjb21wbGV0ZVwiKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIGJlZm9yZXVubG9hZCBldmVudFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShpc09uLCBtZXNzYWdlLCBlbXB0eSkpO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIG9ucGFnZWhpZGUgZXZlbnRcIik7XG4gICAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoaXNPbiwgbWVzc2FnZSwgZW1wdHkpKTtcbiAgICAgIH0sIHRydWUpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIG9ubG9hZCBldmVudFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShpc09uLCBtZXNzYWdlLCBlbXB0eSkpO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoaXNPbiwgbWVzc2FnZSwgZW1wdHkpKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVRdWV1ZUxvZ3MocmVxdWVzdEJsb2IpIHtcbiAgICBpZiAodGhpcy5pc0xvZ2dlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghcmVxdWVzdEJsb2IpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgY3JlYXRlIHJlcXVlc3QgYmxvYlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlJlcXVlc3QgYmxvYiB0byBzZW5kOiBcIiwgcmVxdWVzdEJsb2IpO1xuICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcblxuICAgIHRoaXMuaXNMb2dnZWQgPSB0cnVlO1xuICB9XG5cbiAgdXBkYXRlTGF0ZXN0Q2hhbmdlcyhjaGFuZ2VzLCBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzKSB7XG4gICAgY29uc3Qge2FwcGxpZWRUcmVhdG1lbnRJZHMsIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMsIGxvZ2dlcn0gPSB0aGlzO1xuICAgIGxvZ2dlci5sb2coXCJVcGRhdGluZyBsYXRlc3QgY2hhbmdlc1wiKTtcblxuICAgIGxldCBjb21wYXJlVG8gPSB0aGlzLmxhdGVzdENoYW5nZXMgfHwgYXBwbGllZFRyZWF0bWVudElkcztcbiAgICBpZiAoIWNvbXBhcmVPYmplY3RzKGNvbXBhcmVUbywgY2hhbmdlcykpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJDaGFuZ2VzIGRldGVjdGVkXCIpO1xuICAgICAgbG9nZ2VyLmxvZyhcIkNoYW5nZXM6IFwiLCBjaGFuZ2VzKTtcbiAgICAgIHRoaXMubGF0ZXN0Q2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgfVxuXG4gICAgY29tcGFyZVRvID0gdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzIHx8IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHM7XG4gICAgaWYgKCFjb21wYXJlT2JqZWN0cyhjb21wYXJlVG8sIGVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMpKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQ2hhbmdlcyBkZXRlY3RlZFwiKTtcbiAgICAgIGxvZ2dlci5sb2coXCJDaGFuZ2VzOiBcIiwgY2hhbmdlcyk7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMgPSBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzO1xuICAgIH1cbiAgfVxuXG4gIHBhY2thZ2VMb2dEYXRhKGlzT24sIG1lc3NhZ2UsIGVtcHR5KSB7XG4gICAgY29uc3Qge2FwcGxpZWRUcmVhdG1lbnRJZHMsXG4gICAgICBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzLFxuICAgICAgZGVidWdNb2RlLFxuICAgICAgaGVhZGVycyxcbiAgICAgIHZpZXdJZH0gPSB0aGlzO1xuICAgIGNvbnN0IG0gPSBtZXNzYWdlID8gbWVzc2FnZSA6IE9iamVjdC5rZXlzKGFwcGxpZWRUcmVhdG1lbnRJZHMpLmxlbmd0aCA/IFwiVHJlYXRtZW50cyBhcHBsaWVkXCIgOlxuICAgICAgXCJObyB0cmVhdG1lbnRzIGFwcGxpZWRcIjtcbiAgICBjb25zdCBib2R5ID0gdGhpcy5wcmVwYXJlTG9nQm9keSgpO1xuICAgIGJvZHkudklkID0gZW1wdHkgPyBudWxsIDogdmlld0lkO1xuICAgIGJvZHkubSA9IG07XG4gICAgYm9keS5kYm0gPSBkZWJ1Z01vZGU7XG4gICAgYm9keS5pc09uID0gaXNPbjtcbiAgICBib2R5LmEgPSBlbXB0eSA/IHt9IDogYXBwbGllZFRyZWF0bWVudElkcztcbiAgICBib2R5LmUgPSBlbXB0eSA/IHt9IDogZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cztcblxuICAgIHJldHVybiBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoYm9keSldLCBoZWFkZXJzKTtcbiAgfVxuXG4gIHBhY2thZ2VVcGRhdGVMb2dEYXRhKCkge1xuICAgIGNvbnN0IHtoZWFkZXJzLCBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzLCBsYXRlc3RDaGFuZ2VzLCB2aWV3SWR9ID0gdGhpcztcbiAgICBpZiAoIWxhdGVzdENoYW5nZXMgJiYgIWVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgdDogRGF0ZS5ub3coKSxcbiAgICAgIGE6IGxhdGVzdENoYW5nZXMgPyBsYXRlc3RDaGFuZ2VzIDoge30sXG4gICAgICBlOiBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzID8gZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcyA6IHt9LFxuICAgICAgdklkOiB2aWV3SWQsXG4gICAgICBiZWFnbGVJbmZvTGF5ZXI6IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgfHwge30sXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBwcmVwYXJlTG9nQm9keSgpIHtcbiAgICBjb25zdCBjdXJyZW50VVJMID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgbGV0IGdhT2JqZWN0cyA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBnYURMRWxlbWVudCBvZiB3aW5kb3cuZGF0YUxheWVyKSB7XG4gICAgICBnYU9iamVjdHMgPSB7Li4uZ2FPYmplY3RzLCAuLi5nYURMRWxlbWVudH07XG4gICAgfVxuXG4gICAgY29uc3QgdmlzaWxhYnNjayA9IEpTT04ucGFyc2UoZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcIlZMX0NNXzBcIikpO1xuXG4gICAgY29uc3QgdmxPYmplY3RzID0ge307XG5cbiAgICBpZiAodmlzaWxhYnNjayAmJiB2aXNpbGFic2NrLkl0ZW1zKSB7XG4gICAgICBmb3IgKGNvbnN0IHZsRWxlbWVudCBvZiB2aXNpbGFic2NrLkl0ZW1zKSB7XG4gICAgICAgIHZsT2JqZWN0c1t2bEVsZW1lbnQuS10gPSBkZWNvZGVVUklDb21wb25lbnQodmxFbGVtZW50LlYpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG5kRGF0YSA9IHt9O1xuXG4gICAgLyogVklTSUxBQlMgKi9cblxuICAgIG5kRGF0YS5jb29raWVWTElzTmV3ID0gdmxPYmplY3RzLk9NX0lOVztcbiAgICBuZERhdGEuY29va2llVkxQVmluVmlzaXQgPSB2bE9iamVjdHMuVkxfUFZDb3VudEluVmlzaXQ7XG4gICAgbmREYXRhLmNvb2tpZVZMVmlzaXREdXJhdGlvbiA9IHZsT2JqZWN0cy5WTF9Ub3RhbER1cmF0aW9uO1xuICAgIG5kRGF0YS5jb29raWVWTFRvdGFsUFYgPSB2bE9iamVjdHMuVkxfVG90YWxQVjtcbiAgICBuZERhdGEuY29va2llVkxUb3RhbFZpc2l0ID0gdmxPYmplY3RzLlZMX1RvdGFsVmlzaXQ7XG5cbiAgICAvKiBHQSAqL1xuXG4gICAgbmREYXRhLmdhUGFnZVR5cGUgPSBnYU9iamVjdHMuUGFnZVR5cGU7XG4gICAgbmREYXRhLmdhUHJvZHVjdE5hbWUgPSBnYU9iamVjdHMuY29udGVudF9uYW1lO1xuICAgIG5kRGF0YS5nYVZpZXdUeXBlID0gZ2FPYmplY3RzLmNvbnRlbnRfdHlwZTtcbiAgICBuZERhdGEuZ2FQcm9kdWN0Q2F0ZWdvcnkgPSBnYU9iamVjdHMuY29udGVudF9jYXRlZ29yeTtcbiAgICBuZERhdGEuZ2FQcm9kdWN0SUQgPSBnYU9iamVjdHMuY29udGVudF9pZHM7XG4gICAgbmREYXRhLnZ2c1Byb2R1Y3RDYXRlZ29yeSA9IGdhT2JqZWN0cy52aXZlbnNlX2NhdGVnb3J5O1xuICAgIG5kRGF0YS5nYUxpc3RpbmdOYW1lID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UuZGV0YWlsLmFjdGlvbkZpZWxkLmxpc3Q7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS52dnNJc1Nob3dyb29tID0gZ2FPYmplY3RzLmlzQWRtaW47XG4gICAgbmREYXRhLnZ2c1Byb2R1Y3RHcm91cCA9IGdhT2JqZWN0cy5wcm9kdWN0R3JvdXA7XG4gICAgbmREYXRhLnZ2c1VzZXJFbWFpbCA9IGdhT2JqZWN0cy51c2VyRW1haWw7XG4gICAgbmREYXRhLnZ2c1VzZXJJZCA9IGdhT2JqZWN0cy51c2VySWQ7XG4gICAgbmREYXRhLnZ2c0NhdGVnb3J5ID0gZ2FPYmplY3RzLnZpdmVuc2VfY2F0ZWdvcnk7XG4gICAgbmREYXRhLmdhQWN0aW9uID0gZ2FPYmplY3RzLkFjdGlvbjtcbiAgICBuZERhdGEuZ2FBY3Rpb25MYWJlbCA9IGdhT2JqZWN0cy5MYWJlbDtcbiAgICBuZERhdGEuZ2FDYXRlZ29yeVByb2R1Y3RDb250ID0gZ2FPYmplY3RzLmNhdGVnb3J5X3Byb2R1Y3RfY291bnQ7XG4gICAgbmREYXRhLmdhQWN0aW9uU3RlcCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLmNoZWNrb3V0LmFjdGlvbkZpZWxkLnN0ZXA7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS5nYUFjdGlvblVzZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5jaGVja291dC5hY3Rpb25GaWVsZC5kaW1lbnNpb24xNDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCkgfHwgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuZGltZW5zaW9uMTQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS5nYUNhcnRQcm9kdWN0cyA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLmNoZWNrb3V0LnByb2R1Y3RzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKSB8fCAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5wdXJjaGFzZS5wcm9kdWN0cztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLnZ2c1BEUFByb2R1Y3QgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLnZpdmVuc2VQcm9kdWN0c1swXTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLmdhUHVyY2hhc2VJZCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmlkO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZUFmZmlsaWF0aW9uID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuYWZmaWxpYXRpb247XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS5nYVB1cmNoYXNlQ291cG9uID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuY291cG9uO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZVJldmVudWUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5yZXZlbnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZVNoaXBwaW5nID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuc2hpcHBpbmc7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS5nYVB1cmNoYXNlVGF4ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQudGF4O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZVBheVR5cGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5kaW1lbnNpb24xNTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICAvKiB3aW5kb3cgKi9cbiAgICBuZERhdGEud2luZG93UGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICBuZERhdGEud2luZG93U2NyZWVuID0gd2luZG93LnNjcmVlbjtcbiAgICBuZERhdGEud2luZG93VlBvcnQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ7XG4gICAgbmREYXRhLndpbmRvd1BSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuXG4gICAgLyogbmF2aWdhdG9yICovXG4gICAgbmREYXRhLm5hdkFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBuZERhdGEubmF2SFdDb3JlcyA9IG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5O1xuICAgIG5kRGF0YS5uYXZMYW5ndWFnZSA9IG5hdmlnYXRvci5sYW5ndWFnZTtcbiAgICBuZERhdGEubmF2VG91Y2ggPSBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM7XG4gICAgbmREYXRhLm5hdlBsYXRmb3JtID0gbmF2aWdhdG9yLnBsYXRmb3JtO1xuICAgIG5kRGF0YS5uYXZWZW5kb3IgPSBuYXZpZ2F0b3IudmVuZG9yO1xuXG4gICAgLyogcGVyc29uYUNsaWNrICovXG4gICAgbmREYXRhLnBDbGlja1NlZ21lbnQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwZXJzb25hQ2xpY2tfc2VnbWVudFwiKTtcblxuICAgIC8qIGNvb2tpZXMgKi9cbiAgICBuZERhdGEuY29va2llR2FJZCA9IGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJfZ2FcIik7XG4gICAgbmREYXRhLmNvb2tpZUxhc3RCcmVhZENydW1iID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcImxhc3RicmVhZGNydW1iXCIpO1xuICAgIG5kRGF0YS5jb29raWVMYXN0Q2F0ZWdvcnkgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwibGFzdGNhdGVnb3J5XCIpO1xuICAgIG5kRGF0YS5jb29raWVGaXJzdEVudHJ5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJ2aXZlbnNlZmlyc3RcIikpO1xuXG4gICAgLyogTmV4dGRheSBkYXRhICovXG4gICAgbmREYXRhLnYgPSBcIjAuMC4yNFwiO1xuICAgIG5kRGF0YS5uID0gYG5leHRkYXktc2Vzc2lvbl9pZC0ke3RoaXMuc2Vzc2lvbklkfWA7XG4gICAgbmREYXRhLnQgPSBEYXRlLm5vdygpO1xuICAgIG5kRGF0YS5zciA9IFNQTElUX1JBVElPO1xuXG4gICAgLyogbWlzY2VsbGFuZW91cyAqL1xuICAgIG5kRGF0YS51ID0gY3VycmVudFVSTC5ocmVmO1xuICAgIG5kRGF0YS5kID0gY3VycmVudFVSTC5ob3N0bmFtZTtcbiAgICBuZERhdGEuciA9IGRvY3VtZW50LnJlZmVycmVyLFxuICAgIG5kRGF0YS53ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgbmREYXRhLmMgPSBkb2N1bWVudC5jb29raWU7XG4gICAgbmREYXRhLndkbCA9IHdpbmRvdy5kYXRhTGF5ZXI7XG4gICAgbmREYXRhLmJlYWdsZUluZm9MYXllciA9IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgfHwge307XG5cbiAgICAvKiBWaXZlbnNlIHNwZWNpZmljICovXG4gICAgbmREYXRhLnZ2c1B1cmNQcmljZUVsdCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIGRlc2t0b3Agc2VsZWN0b3JcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgbGV0IHRvdGFsUHJpY2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5iYXNrZXRfaW5uZXJfcmlnaHQgPiBkaXYuYmFza2V0X3N1bW1hcnkgPiBkaXYuYmFza2V0X3N1bW1hcnlfdG90YWwgPiBzcGFuOm50aC1jaGlsZCgyKVwiKTtcbiAgICAgICAgaWYgKCF0b3RhbFByaWNlRWxlbWVudCkge1xuICAgICAgICAgIC8vIG1vYmlsZSBzZWxlY3RvclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgdG90YWxQcmljZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4gPiBkaXYgPiBkaXYuZ2VuZXJhbC1jb250YWluZXIgPiBkaXYuY29sLW1kLTEyID4gZGl2ID4gZGl2Om50aC1jaGlsZCgxKSA+IGRpdiA+IGRpdi5yb3cub3JkZXJfZmluYWxfcm93LnRvdGFsX3JvdyA+IGRpdi5vcmRlci1maW5hbC1udW1iZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0b3RhbFByaWNlRWxlbWVudCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghdG90YWxQcmljZUVsZW1lbnQudGV4dENvbnRlbnQpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gdG90YWxQcmljZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS52dnNQdXJjVHlwZUVsdCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIGRlc2t0b3Agc2VsZWN0b3JcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgbGV0IHBheW1lbnRUaXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keSA+IGRpdi5tYWluLWN1c3RvbS1jb250YWluZXIgPiBkaXYuZ2VuZXJhbC1jb250YWluZXIgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYuY2FydC1oZWFkZXIgPiBkaXYucGF5bWVudF90eXBlX2ZpbmFsX3RleHQgPiBkaXZcIik7XG4gICAgICAgIGlmICghcGF5bWVudFRpdGxlRWxlbWVudCkge1xuICAgICAgICAgIC8vIG1vYmlsZSBzZWxlY3RvclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgcGF5bWVudFRpdGxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpbiA+IGRpdiA+IGRpdi5nZW5lcmFsLWNvbnRhaW5lciA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXYgPiBkaXYgPiBkaXYuY2FydC1oZWFkZXIgPiBkaXYuY2FydC10aXRsZS1pbmZvID4gc3BhblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBheW1lbnRUaXRsZUVsZW1lbnQpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIXBheW1lbnRUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gcGF5bWVudFRpdGxlRWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICByZXR1cm4gbmREYXRhO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVyKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsZXQgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IGZhbHNlO1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgZXhpdCBldmVudCBsaXN0ZW5lclwiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJiZWZvcmV1bmxvYWRcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmIChpc0V4aXRFdmVudENhcHR1cmVkKSByZXR1cm47XG4gICAgICAgICAgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluIGJlZm9yZXVubG9hZCBldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5wYWNrYWdlVXBkYXRlTG9nRGF0YSgpO1xuICAgICAgICAgIGlmICghbG9nRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIGNoYW5nZXMgdG8gbG9nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnF1ZXVlTG9ncyhsb2dEYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9LFxuICAgICk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwicGFnZWhpZGVcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmIChpc0V4aXRFdmVudENhcHR1cmVkKSByZXR1cm47XG4gICAgICAgICAgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluIHBhZ2VoaWRlIGV2ZW50XCIpO1xuICAgICAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLnBhY2thZ2VVcGRhdGVMb2dEYXRhKCk7XG4gICAgICAgICAgaWYgKCFsb2dEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gY2hhbmdlcyB0byBsb2dcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7Y2FwdHVyZTogdHJ1ZX0sXG4gICAgKTtcbiAgfVxuXG4gIHF1ZXVlTG9ncyhsb2dEYXRhKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxldCBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgY29uc3QgcXVldWVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICghcXVldWVkKSBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3MgcXVldWVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIH1cbiAgICB9LCAxMCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHF1ZXVlSW50ZXJ2YWwpO1xuICAgICAgaWYgKCFxdWV1ZWQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3Mgbm90IHF1ZXVlZFwiKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb25pdG9yO1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZUywgVFJFQVRNRU5UU19EVVJBVElPTn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtmZXRjaFRyZWF0bWVudHN9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBUcmVhdG1lbnQgUmVwb3NpdG9yeVwiKTtcblxuY2xhc3MgVHJlYXRtZW50UmVwb3NpdG9yeSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7Y29va2llUGN0LCB0cmVhdG1lbnRzfSA9IGJvZHk7XG4gICAgdGhpcy50cmVhdG1lbnRzID0gdHJlYXRtZW50cztcbiAgICB0aGlzLmNvb2tpZVBjdCA9IGNvb2tpZVBjdDtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRzKCkge1xuICAgIGxvZ2dlci5sb2coXCJMb2FkaW5nIHRyZWF0bWVudHNcIik7XG4gICAgY29uc3Qge1RSRUFUTUVOVFN9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gICAgY29uc3QgdHJlYXRtZW50c09iaiA9IEpTT04ucGFyc2Uod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVFJFQVRNRU5UUykpO1xuICAgIGxldCB0cmVhdG1lbnRzID0gdHJlYXRtZW50c09iaj8udHJlYXRtZW50cztcbiAgICBjb25zdCB0aW1lc3RhbXAgPSB0cmVhdG1lbnRzT2JqPy50aW1lc3RhbXA7XG4gICAgaWYgKCF0cmVhdG1lbnRzIHx8ICF0aW1lc3RhbXApIHtcbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgICAgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoVHJlYXRtZW50cygpO1xuICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB0cmVhdG1lbnRzLFxuICAgICAgfTtcbiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICAgIH1cbiAgICBpZiAodGltZXN0YW1wKSB7XG4gICAgICBjb25zdCBlbGFwc2VkRGF5cyA9IChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvICgxMDAwICogMzYwMCAqIDI0KTtcbiAgICAgIGlmIChlbGFwc2VkRGF5cyA+IFRSRUFUTUVOVFNfRFVSQVRJT04pIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgYXJlIGV4cGlyZWRcIik7XG4gICAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgYXJlIGxvYWRlZCBmcm9tIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gIH1cblxuICBnZXRNYXRjaGVkVHJlYXRtZW50cygpIHtcbiAgICBjb25zdCB1c2VyU2VnbWVudCA9IHRoaXMuZ2V0VXNlclNlZ21lbnQoKTtcblxuICAgIGxldCBzZWdtZW50TWF0Y2hlZFRyZWF0bWVudHMgPSB0aGlzLnRyZWF0bWVudHMuZmlsdGVyKFxuICAgICAgICAodCkgPT5cbiAgICAgICAgICB0LmFwcGx5X29uX3VzZXJfc2VnbWVudCA9PSB1c2VyU2VnbWVudCB8fFxuICAgICAgICB0LmFwcGx5X29uX3VzZXJfc2VnbWVudCA9PT0gXCIqXCIsXG4gICAgKTtcbiAgICBsb2dnZXIubG9nKGAke3NlZ21lbnRNYXRjaGVkVHJlYXRtZW50cy5sZW5ndGh9IHRyZWF0bWVudHMgc2VnbWVudCBtYXRjaGVkYCk7XG4gICAgaWYgKCFzZWdtZW50TWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSByZXR1cm4gW107XG4gICAgc2VnbWVudE1hdGNoZWRUcmVhdG1lbnRzID0gdGhpcy5nZXRUcmVhdG1lbnRGaXh0dXJlcyhzZWdtZW50TWF0Y2hlZFRyZWF0bWVudHMpO1xuICAgIHJldHVybiBzZWdtZW50TWF0Y2hlZFRyZWF0bWVudHM7XG4gIH1cblxuICBnZXRVc2VyU2VnbWVudCgpIHtcbiAgICBpZiAodGhpcy5jb29raWVQY3QgPT09IC0xKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTmV3IHVzZXIgaGFzIG5vIHNlZ21lbnRcIik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXcgVXNlclwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29va2llUGN0IDwgNTApIHJldHVybiBcIkFcIjtcbiAgICByZXR1cm4gXCJCXCI7XG4gIH1cblxuICBnZXRUcmVhdG1lbnRGaXh0dXJlcyh0cmVhdG1lbnRzKSB7XG4gICAgY29uc3QgdHJlYXRtZW50SWRzID0gW107XG4gICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgdHJlYXRtZW50cykge1xuICAgICAgdHJlYXRtZW50SWRzLnB1c2godHJlYXRtZW50LmlkKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgdHJlYXRtZW50cykge1xuICAgICAgaWYgKHRyZWF0bWVudElkcy5pbmNsdWRlcyg3KSkge1xuICAgICAgICBpZiAodHJlYXRtZW50LmlkID09IDIxKSB7XG4gICAgICAgICAgY29uc3QgbmV3QWN0aW9uID0ge1xuICAgICAgICAgICAgXCJvcGVyYXRvclwiOiBcImVkaXRcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInN0eWxlQXBwbGljYXRvclwiLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIntcXFwiYm90dG9tXFxcIjpcXFwiMCAhaW1wb3J0YW50XFxcIn1cIixcbiAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCIucXVpY2stZGVsaXZlcnktY29udGFpbmVyXCIsXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0cmVhdG1lbnQuYWN0aW9ucy5wdXNoKG5ld0FjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJlYXRtZW50UmVwb3NpdG9yeTtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIExPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQ291bnRlciBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tDb3VudGVyUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJwYWdlVmlld1wiOlxuICAgICAgcmV0dXJuIHBhZ2VWaWV3SGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiQ0FCYXNrZXRQcmljZVwiOlxuICAgICAgcmV0dXJuIGNhQmFza2V0UHJpY2VIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCBvcGVyYXRvclwiLCBvcGVyYXRvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmNvbnN0IGdldENvdW50ZXIgPSAoY291bnRlciwgdHlwZSkgPT4ge1xuICB0cnkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oY291bnRlcik7XG4gICAgICBjYXNlIFwibG9jYWxcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvdW50ZXIpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggdHlwZVwiLCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIubG9nKGBDb3VsZCBub3QgZ2V0IGNvdW50ZXIgJHtjb3VudGVyfWAsIGVycik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IHBhZ2VWaWV3SGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IHBhZ2VWaWV3cyA9IHBhcnNlSW50KGdldENvdW50ZXIoU0VTU0lPTl9TVE9SQUdFX0tFWVMuUEFHRV9WSUVXUywgXCJzZXNzaW9uXCIpKTtcbiAgbG9nZ2VyLmxvZyhcIlBhZ2Ugdmlld3MgY291bnRlciB2YWx1ZTogXCIsIHBhZ2VWaWV3cyk7XG4gIGlmIChwYWdlVmlld3MgPT09IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKFwiUGFnZXZpZXdzIGNvdW50ZXIgbm90IGZvdW5kIGluIHNlc3Npb24gc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocGFnZVZpZXdzLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG5jb25zdCBjYUJhc2tldFByaWNlSGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGNhQmFza2V0UHJpY2UgPSBwYXJzZUludChcbiAgICAgIGdldENvdW50ZXIoTE9DQUxfU1RPUkFHRV9LRVlTLkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgXCJsb2NhbFwiKSk7XG4gIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgcHJpY2UgY291bnRlciB2YWx1ZTogXCIsIGNhQmFza2V0UHJpY2UpO1xuICBpZiAoY2FCYXNrZXRQcmljZSA9PT0gbnVsbCkge1xuICAgIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgcHJpY2UgY291bnRlciBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY2FCYXNrZXRQcmljZSwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRWxlbWVudCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tFbGVtZW50UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWUsIHNlbGVjdG9yLCBzZWxlY3RvckFsbCwgc2VsZWN0b3JGYWxsYmFjayA9IG51bGx9ID0gcnVsZTtcbiAgbGV0IG1haW5TZWxlY3RvciA9IHNlbGVjdG9yO1xuICBpZiAobWFpblNlbGVjdG9yICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBtYWluU2VsZWN0b3IgPSBzZWxlY3RvckZhbGxiYWNrID8gc2VsZWN0b3JGYWxsYmFjayA6IG1haW5TZWxlY3RvcjtcbiAgfVxuXG4gIGlmIChvcGVyYXRvciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gIH1cbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoc2VsZWN0b3JBbGwgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBlbGVtZW50O1xuICBpZiAobWFpblNlbGVjdG9yKSBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpO1xuICBlbHNlIGlmIChzZWxlY3RvckFsbCkgZWxlbWVudCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvckFsbCkpO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwidGV4dC1udW1iZXJcIjoge1xuICAgICAgbGV0IHRlbXBWYWw7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgICAgICB0ZW1wVmFsID0gZWxlbWVudC5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICAgIHJldHVyblZhbCArPSBwYXJzZUludChlbGVtLnRleHRDb250ZW50LnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wVmFsID0gcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLnRleHRDb250ZW50XG4gICAgICAgICAgICAucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IHBhcnNlSW50KHRlbXBWYWwpO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcImNsYXNzTGlzdFwiOlxuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoQXJyYXkuZnJvbShlbGVtZW50LmNsYXNzTGlzdCksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJjb3VudFwiOiB7XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBBcnJheS5pc0FycmF5KGVsZW1lbnQpID8gZWxlbWVudC5sZW5ndGggOiBlbGVtZW50ID8gMSA6IDA7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmxvZyhcIk9wZXJhdG9yIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRnVuY3Rpb24gQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRnVuY3Rpb25SdWxlID0gKHJ1bGUsIG9wdHMpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtwcm9kdWN0SW5mb30gPSBvcHRzO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWUsIGJpbmRpbmdzfSA9IHJ1bGU7XG4gIGlmICghb3BlcmF0b3IpIHtcbiAgICBsb2dnZXIubG9nKFwiUnVsZSBmdW5jdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGNvbnRleHQgPSB7fTtcbiAgaWYgKGJpbmRpbmdzID09IFwicHJvZHVjdEluZm9cIikge1xuICAgIGNvbnRleHQgPSB7XG4gICAgICBwcm9kdWN0SW5mbyxcbiAgICB9O1xuICB9XG4gIGNvbnN0IHJ1bGVGdW5jdGlvbiA9IEZ1bmN0aW9uKG9wZXJhdG9yKS5iaW5kKGNvbnRleHQpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBydWxlRnVuY3Rpb24oKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBTZXNzaW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1Nlc3Npb25SdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICByZXR1cm4gZHVyYXRpb25IYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJoaXN0b3J5XCI6XG4gICAgICByZXR1cm4gaGlzdG9yeUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBnZXRTZXNzaW9uVGltZXN0YW1wID0gKCkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludCh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1RJTUVTVEFNUCkpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkNvdWxkIG5vdCBnZXQgc2Vzc2lvbiB0aW1lc3RhbXBcIiwgZXJyKTtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxufTtcblxuY29uc3QgZHVyYXRpb25IYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgZHVyYXRpb24gPSAoRGF0ZS5ub3coKSAtIGdldFNlc3Npb25UaW1lc3RhbXAoKSkgLyAxMDAwO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkdXJhdGlvbiwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgaGlzdG9yeUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjdXJyZW50SGlzdG9yeSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSElTVE9SWSk/LnNwbGl0KFwiLFwiKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY3VycmVudEhpc3RvcnksIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBFbnYgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRW52UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImRldmljZV90eXBlXCI6IHtcbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzID8gXCJtb2JpbGVcIiA6IFwiZGVza3RvcFwiO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoaXNNb2JpbGUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7Y2hlY2tDb3VudGVyUnVsZX0gZnJvbSBcIi4vY291bnRlckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tEYXRhTGF5ZXJSdWxlfSBmcm9tIFwiLi9kYXRhTGF5ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRWxlbWVudFJ1bGV9IGZyb20gXCIuL2VsZW1lbnRDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRnVuY3Rpb25SdWxlfSBmcm9tIFwiLi9mdW5jdGlvbkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tTZXNzaW9uUnVsZX0gZnJvbSBcIi4vc2Vzc2lvbkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tVcmxSdWxlfSBmcm9tIFwiLi91cmxDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRW52UnVsZX0gZnJvbSBcIi4vZW52Q2hlY2tlclwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBSdWxlIEVuZ2luZVwiKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVsZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7YmFzZVJ1bGVTZXQsIHN1YlZhcmlhbnRSdWxlU2V0LCBjYWxsYmFjayA9IG51bGwsIGJpbmRpbmdzfSA9IGJvZHk7XG4gICAgdGhpcy5iYXNlUnVsZVNldCA9IGJhc2VSdWxlU2V0O1xuICAgIHRoaXMuc3ViVmFyaWFudFJ1bGVTZXQgPSBzdWJWYXJpYW50UnVsZVNldDtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5iaW5kaW5ncyA9IGJpbmRpbmdzO1xuICB9XG5cbiAgY2hlY2tSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5iYXNlUnVsZVNldCkge1xuICAgICAgY29uc3QgcnVsZVNhdGlzZmllZCA9IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgaWYgKCFydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjaGVja1N1YlZhcmlhbnRSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5zdWJWYXJpYW50UnVsZVNldCkge1xuICAgICAgY29uc3QgcnVsZVNhdGlzZmllZCA9IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgaWYgKHJ1bGVTYXRpc2ZpZWQpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGUuc3ViVmFyaWFudElkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNoZWNrUnVsZShydWxlKSB7XG4gICAgY29uc3Qge2NoYWluLCBjaGFpbl9jb25kaXRpb24sIHR5cGV9ID0gcnVsZTtcbiAgICBsZXQgcnVsZVNhdGlzZmllZCA9IG51bGw7XG4gICAgLy8gY2hlY2sgcnVsZVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrU2Vzc2lvblJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNvdW50ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrQ291bnRlclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVsZW1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRWxlbWVudFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRhdGFMYXllclwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1cmxcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrVXJsUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRnVuY3Rpb25SdWxlKHJ1bGUsIHRoaXMuYmluZGluZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbnZpcm9ubWVudFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tFbnZSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5sb2coYE5vIHN1Y2ggcnVsZSB0eXBlOiAke3R5cGV9YCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChjaGFpbikge1xuICAgICAgc3dpdGNoIChjaGFpbl9jb25kaXRpb24pIHtcbiAgICAgICAgY2FzZSBcImFuZFwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkICYmIHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9yXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgfHwgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieG9yXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgIT0gdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJObyBzdWNoIGNoYWluIGNvbmRpdGlvblwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJ1bGVTYXRpc2ZpZWQ7XG4gIH1cbn1cbiIsImltcG9ydCB7c2t1Q29sbGVjdG9yfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TE9PS1VQX0FQSV9VUkx9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBpXCIpO1xuXG5leHBvcnQgY29uc3QgcHJvZHVjdEluZm9Mb29rdXAgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTdGFydGluZyBwcm9kdWN0IGluZm8gbG9va3VwXCIpO1xuICBjb25zdCBza3VMaXN0ID0gc2t1Q29sbGVjdG9yKCk7XG4gIGlmICghc2t1TGlzdCkge1xuICAgIGxvZ2dlci5sb2coXCJObyBza3UgZm91bmRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgbGV0IHByb2R1Y3RJbmZvID0gYXdhaXQgZmV0Y2goTE9PS1VQX0FQSV9VUkwsIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpLFxuICAgIGhlYWRlcnMsXG4gICAgbW9kZTogXCJjb3JzXCIsXG4gIH0pO1xuICBpZiAoIXByb2R1Y3RJbmZvLm9rKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyBsb29rdXAgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHByb2R1Y3RJbmZvID0gYXdhaXQgcHJvZHVjdEluZm8uanNvbigpO1xuICBpZiAoIXByb2R1Y3RJbmZvKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyBleHRyYWN0aW9uIGZyb20gcmVzcG9uc2UgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxvZ2dlci5sb2coXCJQcm9kdWN0IGluZm8gbG9va3VwIHN1Y2Nlc3NmdWxcIik7XG4gIHJldHVybiBwcm9kdWN0SW5mbztcbn07XG4iLCJpbXBvcnQgYXBwbHlUcmVhdG1lbnRzIGZyb20gXCIuLi9OZXh0ZGF5QXBwbHlUcmVhdG1lbnRzL2luZGV4XCI7XG5pbXBvcnQge2NoZWNrcG9pbnQsIGNoZWNrcG9pbnRzfSBmcm9tIFwiLi4vQmVhZ2xlQ2hlY2twb2ludFwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgTW9uaXRvciBmcm9tIFwiLi4vTmV4dGRheU1vbml0b3IvaW5kZXhcIjtcbmltcG9ydCBUcmVhdG1lbnRSZXBvc2l0b3J5IGZyb20gXCIuLi9OZXh0ZGF5VHJlYXRtZW50UmVwb3NpdG9yeS9pbmRleFwiO1xuaW1wb3J0IFJ1bGVFbmdpbmUgZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lXCI7XG5pbXBvcnQge3Byb2R1Y3RJbmZvTG9va3VwfSBmcm9tIFwiLi4vTmV4dGRheUFwaVwiO1xuaW1wb3J0IHtcbiAgTU9CSUxFX01FRElBX1FVRVJZLFxuICBTUExJVF9SQVRJTyxcbiAgTE9DQUxfU1RPUkFHRV9LRVlTLFxuICBUUkVBVE1FTlRfUkFUSU8sXG59IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIGdldElkZW50aWZpZXIsXG4gIGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzLFxuICBpbmplY3RTdHlsZVNoZWV0LFxuICByZW1vdmVEb2N1bWVudEhpZGUsXG4gIGRldGVybWluZVBjdCxcbiAgcHJlcGFyZUFjdGlvbnMsXG4gIGdldERlYnVnTW9kZSxcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbihhc3luYyBmdW5jdGlvbigpIHtcbiAgY2hlY2twb2ludChjaGVja3BvaW50cy5CZWFnbGVMb2FkZWQpO1xuICBsZXQgaXNPbiA9IG51bGw7XG4gIGxldCBtb25pdG9yID0gbnVsbDtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuICBsb2dnZXIuaW5mbyhcIk5leHRkYXkgaW5pdGlhbGl6aW5nXCIpO1xuICB0cnkge1xuICAgIGNvbnN0IHByb2R1Y3RJbmZvUHJvbWlzZSA9IHByb2R1Y3RJbmZvTG9va3VwKCk7XG4gICAgLy8gY2hlY2sgaWYgZGVidWcgbW9kZSBpcyBvblxuICAgIGNvbnN0IGRlYnVnTW9kZSA9IGdldERlYnVnTW9kZSgpO1xuICAgIG1vbml0b3IgPSBuZXcgTW9uaXRvcihkZWJ1Z01vZGUpO1xuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuSW5pdGlhbGl6ZWQpO1xuXG4gICAgY29uc3QgaWRlbnRpZmllciA9IGF3YWl0IGdldElkZW50aWZpZXIoKTtcbiAgICBsb2dnZXIubG9nKFwiRm91bmQgY29va2llIGlkZW50aWZpZXI6IFwiLCBpZGVudGlmaWVyKTtcbiAgICBjb25zdCBjb29raWVQY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllcik7XG4gICAgaWYgKCFkZWJ1Z01vZGUpIHtcbiAgICAgIGlmIChjb29raWVQY3QgPCBTUExJVF9SQVRJTykge1xuICAgICAgICBpZiAoY29va2llUGN0ID09PSAtMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgY29va2llIHBjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpc09uID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaXNPbiA9IHRydWU7XG4gICAgfSBlbHNlIGxvZ2dlci5pbmZvKFwiRGVidWcgbW9kZSBvbjogYWxsIGFwcGxpY2FibGUgdHJlYXRtZW50cyB3aWxsIGJlIGFwcGxpZWRcIik7XG5cbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIGNvbnN0IGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzID0gZGVidWdNb2RlID8gc2VhcmNoUGFyYW1zLmluY2x1ZGVzKFwiZmlsdGVyPVwiKSA/IHNlYXJjaFBhcmFtcy5zbGljZShcbiAgICAgICAgc2VhcmNoUGFyYW1zLmluZGV4T2YoXCJbXCIpICsgMSxcbiAgICAgICAgc2VhcmNoUGFyYW1zLmxhc3RJbmRleE9mKFwiXVwiKSxcbiAgICApLnNwbGl0KFwiLFwiKS5tYXAoKGl0ZW0pID0+IHBhcnNlSW50KGl0ZW0sIDEwKSk6IG51bGwgOiBudWxsO1xuXG4gICAgY2hlY2twb2ludChjaGVja3BvaW50cy5Vc2VyT25PZmYpO1xuXG4gICAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmV4dERheS1oaWRlXCIpKSB7XG4gICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlNjcmlwdFRpbWVPdXQpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV4dGRheSBzY3JpcHQgdGltZWQgb3V0XCIpO1xuICAgIH1cbiAgICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcbiAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogKGlzT24gPyBcInRydWVcIiA6IFwiZmFsc2VcIil9KTtcbiAgICBpZiAoaXNPbiA9PT0gZmFsc2UpIHRocm93IG5ldyBFcnJvcihcIkNvbnRyb2wgZ3JvdXA6IG5vIHRyZWF0bWVudHMgYXBwbGllZFwiKTtcbiAgICBpbmplY3RTdHlsZVNoZWV0KCk7XG4gICAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIH0sIDIwMDApO1xuICAgIGNvbnN0IHRyZWF0bWVudHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRzKCk7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgY29uc3QgT0JTRVJWRVJfQ09ORklHID0ge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZX07XG5cbiAgICBjb25zdCBlbmdhZ2VUcmVhdG1lbnQgPSBhc3luYyAodHJlYXRtZW50LCBwSW5mbykgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBpZCxcbiAgICAgICAgYWN0aW9ucyxcbiAgICAgICAgYmFzZVJ1bGVTZXQsXG4gICAgICAgIGRldmljZSxcbiAgICAgICAgZGVwZW5kYW50X29uX3RyZWF0bWVudCxcbiAgICAgICAgcmVhcHBseV9ldmVudCxcbiAgICAgICAgc3ViVmFyaWFudFJ1bGVTZXQsXG4gICAgICAgIHdlaWdodCxcbiAgICAgIH0gPSB0cmVhdG1lbnQ7XG4gICAgICBpZiAoZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgJiYgIWRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGV2aWNlID09PSBcIm1vYmlsZVwiICYmICFpc01vYmlsZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IGRldmljZSAnbW9iaWxlJyBtaXNtYXRjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRldmljZSA9PT0gXCJkZXNrdG9wXCIgJiYgaXNNb2JpbGUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBkZXZpY2UgJ2Rlc2t0b3AnIG1pc21hdGNoXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocmVhcHBseV9ldmVudCkge1xuICAgICAgICBsZXQgcmVhcHBseV9ldmVudF9hcnJheSA9IHJlYXBwbHlfZXZlbnQ7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWFwcGx5X2V2ZW50KSkgcmVhcHBseV9ldmVudF9hcnJheSA9IFtyZWFwcGx5X2V2ZW50XTtcbiAgICAgICAgbG9nZ2VyLmxvZyhgUmVhcHBseSBldmVudCAnJHtyZWFwcGx5X2V2ZW50fScgZm91bmQgZm9yIHRyZWF0bWVudDogJHtpZH1gKTtcbiAgICAgICAgZm9yIChjb25zdCByZWFwcGx5RXZlbnQgb2YgcmVhcHBseV9ldmVudF9hcnJheSkge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID9cbiAgICAgICAgICAgICAgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA6IFtdO1xuICAgICAgICAgIGlmIChwcmV2aW91c1ZhbHVlLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBhbHJlYWR5IGFkZGVkIGZvciByZWFwcGx5IGV2ZW50XCIpO1xuICAgICAgICAgIH0gZWxzZSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID0gWy4uLnByZXZpb3VzVmFsdWUsIGlkXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgYmluZGluZ3MgPSB7cHJvZHVjdEluZm86IHBJbmZvfTtcbiAgICAgIGNvbnN0IHJ1bGVFbmdpbmUgPSBuZXcgUnVsZUVuZ2luZSh7YmFzZVJ1bGVTZXQsIHN1YlZhcmlhbnRSdWxlU2V0LCBiaW5kaW5nc30pO1xuICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIGJhc2UgcnVsZSBzZXQgY2hlY2sgZm9yIHRyZWF0bWVudDogXCIgKyBpZCk7XG4gICAgICBpZiAoIWJhc2VSdWxlU2V0IHx8IHJ1bGVFbmdpbmUuY2hlY2tSdWxlcygpKSB7XG4gICAgICAgIGxldCB0cmVhdG1lbnRTa2lwUmF0aW8gPSAxMDAgLSB3ZWlnaHQgfHwgVFJFQVRNRU5UX1JBVElPO1xuICAgICAgICBpZiAoZGVwZW5kYW50X29uX3RyZWF0bWVudCkge1xuICAgICAgICAgIC8vIElmIGRlcGVuZGFudCBvbiB0cmVhdG1lbnQgaXMgZm91bmQgYW5kIGhhcyB3ZWlnaHQ7IHVzZSBpdHMgc2tpcCByYXRpb1xuICAgICAgICAgIHRyZWF0bWVudFNraXBSYXRpbyA9IDEwMCAtIG1hdGNoZWRUcmVhdG1lbnRzLmZpbmQoKHQpID0+IHQuaWQgPT09IGRlcGVuZGFudF9vbl90cmVhdG1lbnQpPy53ZWlnaHQgfHxcbiAgICAgICAgICBUUkVBVE1FTlRfUkFUSU87XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBza2lwIHJhdGlvOiBcIiArIHRyZWF0bWVudFNraXBSYXRpbyk7XG4gICAgICAgIC8vIERldGVybWluaW5nIGlkZW50aWZpZXIgZm9yIGNhbGN1bGF0aW5nIHRyZWF0bWVudCBwZXJjZW50YWdlICh0cmVhdG1lbnRQY3QpXG4gICAgICAgIGNvbnN0IGRldGVybWluaW5nSWRlbnRpZmllciA9IGRlcGVuZGFudF9vbl90cmVhdG1lbnQgfHwgaWQ7XG5cbiAgICAgICAgLy8gdHJlYXRtZW50UGN0IGlzIHRoZSBwZXJjZW50YWdlIHZhbHVlIGZvciB0aGUgdHJlYXRtZW50IHVzZWQgdG8gZGV0ZXJtaW5lIGlmIGl0IHNob3VsZCBiZSBza2lwcGVkIG9yIG5vdFxuICAgICAgICAvLyB0cmVhdG1lbnRQY3QgaXMgMTAwIHdoZW4gZGVidWcgbW9kZSBpcyAxLCBlbnN1cmluZyBubyB0cmVhdG1lbnRzIGFyZSBza2lwcGVkXG4gICAgICAgIGNvbnN0IHRyZWF0bWVudFBjdCA9IGRlYnVnTW9kZSA9PT0gMSA/IDEwMCA6IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgZGV0ZXJtaW5pbmdJZGVudGlmaWVyLCA3KTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudFBjdDogXCIgKyB0cmVhdG1lbnRQY3QgKyBgIHdpdGggZGVidWcgbW9kZSAke2RlYnVnTW9kZSA/IFwib25cIiA6IFwib2ZmXCJ9YCk7XG4gICAgICAgIGxldCBzdWJWYXJpYW50SWQgPSBudWxsO1xuICAgICAgICBsZXQgcHJlcGFyZWQgPSBhY3Rpb25zO1xuICAgICAgICBpZiAoc3ViVmFyaWFudFJ1bGVTZXQpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgc3ViIHZhcmlhbnQgcnVsZSBzZXQgY2hlY2sgZm9yIHRyZWF0bWVudDogXCIgKyBpZCk7XG4gICAgICAgICAgc3ViVmFyaWFudElkID0gcnVsZUVuZ2luZS5jaGVja1N1YlZhcmlhbnRSdWxlcygpO1xuICAgICAgICAgIGlmIChzdWJWYXJpYW50SWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdWIgdmFyaWFudCB3aXRoIGlkOiBcIiwgc3ViVmFyaWFudElkKTtcbiAgICAgICAgICAgIHByZXBhcmVkID0gcHJlcGFyZUFjdGlvbnMoYWN0aW9ucywgc3ViVmFyaWFudElkKTtcbiAgICAgICAgICB9IGVsc2UgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHRyZWF0bWVudCB3aXRoIGRlZmF1bHQgdmFsdWVzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmVhdG1lbnRQY3QgPCB0cmVhdG1lbnRTa2lwUmF0aW8pIHtcbiAgICAgICAgICBsb2dnZXIubG9nKGBUcmVhdG1lbnQgJHtpZH0gc2tpcHBlZCBkdWUgdG8gdHJlYXRtZW50IHNwbGl0IHJhdGlvYCk7XG4gICAgICAgICAgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c1tpZF0gPSB7XG4gICAgICAgICAgICBkZXBlbmRhbnRfb25fdHJlYXRtZW50OiAoZGVwZW5kYW50X29uX3RyZWF0bWVudCB8fCBudWxsKSxcbiAgICAgICAgICAgIHN1YlZhcmlhbnRJZCxcbiAgICAgICAgICAgIGFjdGlvbnM6IHByZXBhcmVkLFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwcGx5VHJlYXRtZW50cyhwcmVwYXJlZCwgcHJvZHVjdEluZm8pO1xuICAgICAgICAgIGFwcGxpZWRUcmVhdG1lbnRJZHNbaWRdID0ge3N1YlZhcmlhbnRJZCwgYWN0aW9uczogcHJlcGFyZWR9O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcIlJ1bGUgY2hlY2sgZmFpbGVkIGZvciB0cmVhdG1lbnQ6IFwiLCBpZCk7XG4gICAgfTtcblxuICAgIC8vIFRlbXBvcmFyeSBjb2RlIGJsb2NrIHRvIHRyYWNrIGNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCB0b3RhbCBwcmljZVxuICAgIC8vIFRPRE86IFJlbW92ZSBvbmNlIHRoZSBpbmZvIGNhbiBiZSBvYnRhaW5lZCB2aWEgTG9va3VwIEFQSVxuICAgIGNvbnN0IGNvbGxlY3RDQUJhc2tldFByaWNlID0gKCkgPT4ge1xuICAgICAgY29uc3Qge0NPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRX0gPSBMT0NBTF9TVE9SQUdFX0tFWVM7XG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCIvc2lwYXJpcy1saXN0ZXNpLmh0bWxcIikpIHtcbiAgICAgICAgY29uc3QgcHJpY2VFbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcmljZVwiKSk7XG4gICAgICAgIHByaWNlRWxlbWVudHMucHVzaCguLi5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3LXByaWNlXCIpKSk7XG4gICAgICAgIGlmICghcHJpY2VFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiUHJpY2UgZWxlbWVudHMgbm90IGZvdW5kXCIpO1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKFwiUHJpY2UgZWxlbWVudHM6IFwiLCBwcmljZUVsZW1lbnRzKTtcbiAgICAgICAgY29uc3QgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgPSBwcmljZUVsZW1lbnRzLnJlZHVjZSgocmV0dXJuVmFsLCBlbGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuVmFsICs9IHBhcnNlSW50KGVsZW0udGV4dENvbnRlbnQucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIHRvdGFsIHByaWNlOiBcIiwgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UpO1xuICAgICAgICBpZiAoY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgPj0gMCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgICAgICAgQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCBjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCIvc2lwYXJpcy1vemV0aS5odG1sXCIpKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2FCYXNrZXRQcmljZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UpO1xuICAgICAgICBpZiAoY2FCYXNrZXRQcmljZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbGxlY3RDQUJhc2tldFByaWNlKCk7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiTXV0YXRpb24gb2JzZXJ2ZWQsIGNhbGxpbmcgY29sbGVjdENBQmFza2V0UHJpY2VcIik7XG4gICAgICAgIGNvbGxlY3RDQUJhc2tldFByaWNlKCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGJhc2tldENoZWNrb3V0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hlY2tvdXRGb3JtXCIpO1xuICAgICAgaWYgKGJhc2tldENoZWNrb3V0Rm9ybSkgb2JzZXJ2ZXIub2JzZXJ2ZShiYXNrZXRDaGVja291dEZvcm0sIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgfVxuICAgIC8vIEVuZCBvZiB0ZW1wb3JhcnkgY29kZSBibG9ja1xuXG4gICAgY29uc3QgW3RyZWF0bWVudHMsIHByb2R1Y3RJbmZvXSA9IGF3YWl0IFByb21pc2UuYWxsKFt0cmVhdG1lbnRzUHJvbWlzZSwgcHJvZHVjdEluZm9Qcm9taXNlXSk7XG5cbiAgICBsb2dnZXIubG9nKFwiRm91bmQgdHJlYXRtZW50czogXCIsIHRyZWF0bWVudHMpO1xuICAgIGxvZ2dlci5sb2coXCJGb3VuZCBjb29raWUgcGVyY2VudGFnZTogXCIsIGNvb2tpZVBjdCk7XG4gICAgbG9nZ2VyLmxvZyhcIlNwbGl0X3JhdGlvOiBcIiwgU1BMSVRfUkFUSU8pO1xuICAgIGxvZ2dlci5sb2coXCJjb29raWVQY3QgPCBTUExJVF9SQVRJT1wiLCBjb29raWVQY3QgPCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmluZm8oYENvbnRyb2wgZ3JvdXAgcmF0aW86ICR7U1BMSVRfUkFUSU99JWApO1xuXG4gICAgY29uc3QgdHJlYXRtZW50UmVwb3NpdG9yeSA9IG5ldyBUcmVhdG1lbnRSZXBvc2l0b3J5KHtcbiAgICAgIHRyZWF0bWVudHMsXG4gICAgICBjb29raWVQY3QsXG4gICAgfSk7XG4gICAgY2hlY2twb2ludChjaGVja3BvaW50cy5UcmVhdG1lbnRSZXBvc2l0b3J5Q3JlYXRlZCk7XG4gICAgY29uc3QgbWF0Y2hlZFRyZWF0bWVudHMgPSB0cmVhdG1lbnRSZXBvc2l0b3J5LmdldE1hdGNoZWRUcmVhdG1lbnRzKCk7XG4gICAgaWYgKCFtYXRjaGVkVHJlYXRtZW50cy5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJObyB0cmVhdG1lbnRzIG1hdGNoZWQsIHJldHVybmluZyB3aXRob3V0IGZ1cnRoZXIgYWN0aW9uXCIpO1xuICAgICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgICBtb25pdG9yLnNlbmRMb2dzKGlzT24sIFwiTm8gdHJlYXRtZW50cyBtYXRjaGVkXCIsIHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhcHBsaWVkVHJlYXRtZW50SWRzID0ge307XG4gICAgY29uc3QgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyA9IHt9O1xuICAgIGNvbnN0IHJlQXBwbHlUcmVhdG1lbnRzTWFwID0ge307XG4gICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgbWF0Y2hlZFRyZWF0bWVudHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQsIHByb2R1Y3RJbmZvKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIubG9nKFwiRXJyb3IgZXhlY3V0aW5nIHJ1bGVzXCIsIGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVHJlYXRtZW50c0FwcGxpZWQpO1xuICAgIGxvZ2dlci5sb2coXCJBcHBsaWVkIHRyZWF0bWVudHM6IFwiLCBhcHBsaWVkVHJlYXRtZW50SWRzKTtcblxuICAgIC8vIFVwZGF0ZSBtb25pdG9yIHdpdGggYXBwbGllZCB0cmVhdG1lbnRzXG4gICAgbW9uaXRvci51cGRhdGVUcmVhdG1lbnRzKGFwcGxpZWRUcmVhdG1lbnRJZHMsIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMpO1xuICAgIG1vbml0b3Iuc2VuZExvZ3MoaXNPbik7XG5cbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBtb25pdG9yLnVwZGF0ZUxhdGVzdENoYW5nZXMoYXBwbGllZFRyZWF0bWVudElkcywgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyk7XG4gICAgfSwgMTAwMCk7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyZUFwcGx5VHJlYXRtZW50c01hcCkpIHtcbiAgICAgIGNvbnN0IHRyZWF0bWVudElkcyA9IHJlQXBwbHlUcmVhdG1lbnRzTWFwW2tleV07XG4gICAgICBjb25zdCByZUFwcGx5VHJlYXRtZW50cyA9IG1hdGNoZWRUcmVhdG1lbnRzLmZpbHRlcigodCkgPT4gdHJlYXRtZW50SWRzLmluY2x1ZGVzKHQuaWQpKTtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJpbmZpbml0ZV9zY3JvbGxcIjoge1xuICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGluZmluaXRlX3Njcm9sbGApO1xuICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50LCBwcm9kdWN0SW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0aW1lb3V0XCI6IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSB0aW1lb3V0YCk7XG4gICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQsIHByb2R1Y3RJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbGVtZW50X2NoYW5nZVwiOiB7XG4gICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYXBwbHlTZWxlY3Rvckxpc3QgPSBBcnJheS5pc0FycmF5KHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yKSA/XG4gICAgICAgICAgICB0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvciA6IFt0cmVhdG1lbnQucmVhcHBseV9zZWxlY3Rvcl07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHJlYXBwbHlTZWxlY3Rvckxpc3QpIHtcbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gZWxlbWVudF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQsIHByb2R1Y3RJbmZvKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uX3Njcm9sbFwiOiB7XG4gICAgICAgICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gb25fc2Nyb2xsYCk7XG4gICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQsIHByb2R1Y3RJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlJlYXBwbHkgZXZlbnQgbm90IGZvdW5kOiBcIiwga2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgY2hlY2twb2ludChjaGVja3BvaW50cy5SZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgY29uc29sZS53YXJuKFwiTmV4dGRheTogXCIsIGVyci5tZXNzYWdlKTtcbiAgICBtb25pdG9yLnNlbmRMb2dzKGlzT24sIGVyci5tZXNzYWdlLCB0cnVlKTtcbiAgfVxufSkoKTtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicnVudGltZSIsInVuZGVmaW5lZCIsIk9wIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCIkU3ltYm9sIiwiU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJpdGVyYXRvciIsImFzeW5jSXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwidG9TdHJpbmdUYWdTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsImRlZmluZSIsIm9iaiIsImtleSIsInZhbHVlIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJlcnIiLCJ3cmFwIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJzZWxmIiwidHJ5TG9jc0xpc3QiLCJwcm90b0dlbmVyYXRvciIsIkdlbmVyYXRvciIsImdlbmVyYXRvciIsImNyZWF0ZSIsImNvbnRleHQiLCJDb250ZXh0IiwiX2ludm9rZSIsInN0YXRlIiwiR2VuU3RhdGVTdXNwZW5kZWRTdGFydCIsIm1ldGhvZCIsImFyZyIsIkdlblN0YXRlRXhlY3V0aW5nIiwiRXJyb3IiLCJHZW5TdGF0ZUNvbXBsZXRlZCIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsIkNvbnRpbnVlU2VudGluZWwiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsInJlY29yZCIsInRyeUNhdGNoIiwidHlwZSIsImRvbmUiLCJHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkIiwibWFrZUludm9rZU1ldGhvZCIsImZuIiwiY2FsbCIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJJdGVyYXRvclByb3RvdHlwZSIsInRoaXMiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJ2YWx1ZXMiLCJHcCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsImZvckVhY2giLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJpbnZva2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0IiwiX19hd2FpdCIsInRoZW4iLCJ1bndyYXBwZWQiLCJlcnJvciIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiVHlwZUVycm9yIiwiaW5mbyIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXRlcmFibGUiLCJpdGVyYXRvck1ldGhvZCIsImlzTmFOIiwibGVuZ3RoIiwiaSIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsIml0ZXIiLCJrZXlzIiwib2JqZWN0IiwicmV2ZXJzZSIsInBvcCIsInNraXBUZW1wUmVzZXQiLCJwcmV2IiwiY2hhckF0Iiwic2xpY2UiLCJzdG9wIiwicm9vdFJlY29yZCIsInJ2YWwiLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJmaW5hbGx5RW50cnkiLCJjb21wbGV0ZSIsImZpbmlzaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJhY2NpZGVudGFsU3RyaWN0TW9kZSIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIm8iLCJnZXQiLCJwcm9wIiwiX3R5cGVvZiIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwiYXJyMiIsIkFycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwibWluTGVuIiwidG9TdHJpbmciLCJmcm9tIiwidGVzdCIsIl9zbGljZWRUb0FycmF5IiwiaXNBcnJheSIsIl9pIiwiX3MiLCJfZSIsIl9hcnIiLCJfbiIsIl9kIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiZ2VuIiwiX25leHQiLCJfdGhyb3ciLCJfYXN5bmNUb0dlbmVyYXRvciIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkxPR19BUElfVVJMIiwiTU9CSUxFX01FRElBX1FVRVJZIiwiU0VTU0lPTl9TVE9SQUdFX0tFWVMiLCJMT0NBTF9TVE9SQUdFX0tFWVMiLCJMb2dnZXIiLCJvcmlnaW4iLCJERUJVRyIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwid2FybiIsImxvZ2dlciIsImNoZWNrRGF0YUxheWVyUnVsZSIsInJ1bGUiLCJKU09OIiwic3RyaW5naWZ5Iiwib3BlcmF0b3IiLCJjb25kaXRpb24iLCJydW50aW1lVmFsdWUiLCJkYXRhTGF5ZXJGaW5kZXIiLCJjb25kaXRpb25DaGVja2VyIiwiZGF0YUxheWVyIiwiaW5jbHVkZXMiLCJjaGVja1VybFJ1bGUiLCJyZXF1ZXN0VVJMIiwibG9jYXRpb24iLCJocmVmIiwicGF0aCIsImRlY29kZVVSSUNvbXBvbmVudCIsIlVSTCIsInNlYXJjaCIsInJlcGxhY2UiLCJwYXRobmFtZSIsImNyeXB0byIsInJhbmRvbVVVSURGYWxsYmFjayIsInJlbW92ZURvY3VtZW50SGlkZSIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiZmV0Y2hUcmVhdG1lbnRzIiwiZmV0Y2giLCJ0cmVhdG1lbnRzIiwianNvbiIsImV4dHJhY3RDb29raWVJZGVudGlmaWVyIiwiY29va2llU3RyaW5nIiwiY29va2llTmFtZSIsImlkZW50aWZpZXIiLCJzcGxpdCIsIm1hcCIsInYiLCJyZWR1Y2UiLCJhY2MiLCJ0cmltIiwiZGV0ZXJtaW5lUGN0Iiwic3Vic3RyaW5nTGVuZ3RoIiwic3Vic3RyaW5nRW5kUG9zaXRpb24iLCJzdWJzdHJpbmdTdGFydFBvc2l0aW9uIiwiZW5jb2RlZCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwic3VidGxlIiwiZGlnZXN0IiwiaGFzaEJ1ZmZlciIsImhhc2hBcnJheSIsIlVpbnQ4QXJyYXkiLCJoYXNoU3RyaW5nIiwiYiIsInBhZFN0YXJ0Iiwiam9pbiIsImhhc2hOdW1iZXIiLCJwYXJzZUludCIsInN1YnN0cmluZyIsImV4aXRTY3JvbGxMaXN0ZW5lciIsImNhbGxCYWNrIiwibGFzdFNjcm9sbFRvcCIsInNjcm9sbFRvcCIsImV4aXRTY3JvbGxJbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInN0eWxlQXBwbGljYXRvciIsImVsZW1lbnRzIiwic3R5bGVDaGFuZ2VzTWFwIiwiZWxlbWVudCIsImVudHJpZXMiLCJzdHlsZSIsImluamVjdFN0eWxlU2hlZXQiLCJzdHlsZVNoZWV0IiwiY3JlYXRlRWxlbWVudCIsInJlbCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInByZXBhcmVBY3Rpb25zIiwiYWN0aW9uc1RvUHJlcGFyZSIsInN1YlZhcmlhbnRJZCIsImFjdGlvbnMiLCJwYXJzZSIsImFjdGlvbiIsInN1YlZhcmlhbnRzIiwic3ViVmFyaWFudCIsImlkIiwicnVuVGltZVZhbHVlIiwibWluIiwibWF4IiwicmFuZG9tVVVJRCIsImMiLCJnZXRSYW5kb21WYWx1ZXMiLCJjb21wYXJlT2JqZWN0cyIsIm9iajEiLCJvYmoyIiwia2V5c0EiLCJrZXlzQiIsImdldElkZW50aWZpZXIiLCJjb29raWUiLCJleHRyYWN0SWRlbnRpZmllckludGVydmFsIiwic2V0VGltZW91dCIsImRlbGF5IiwibXMiLCJyZXMiLCJza3VDb2xsZWN0b3IiLCJORF9TS1VfTElTVCIsInNrdUxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZSIsImdldEF0dHJpYnV0ZSIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9kdWN0SW5mbyIsIlBPUFVQX0RJU1BMQVlfRkxBRyIsInRyYW5zZm9ybWVyIiwidHJlYXRtZW50IiwiYXBwbHlFdmVudCIsImNvbnRlbnRTZWxlY3RvciIsInNlbGVjdG9yIiwic2VsZWN0b3JGYWxsYmFjayIsIm1kQ29uZGl0aW9uIiwibW92ZV9zZWxlY3Rvcl8xIiwibW92ZV9zZWxlY3Rvcl8yIiwicmVwbGFjZUZuIiwiJCIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwicmVwbGFjZUZuRXhlY3V0b3IiLCJyZXBsYWNlRnVuY3Rpb24iLCJiaW5kIiwicmVwbGFjZUFsbCIsInZhbCIsImN1cnJlbnRSZXBsYWNlRm4iLCJTdHJpbmciLCJiZWZvcmUiLCJhZnRlciIsImNyZWF0ZVBvcHVwIiwibW9iaWxlIiwiZGlzcGxheVBvcHVwIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJ0aW1lb3V0IiwidGV4dCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJvcmlnaW5hbFRpdGxlIiwidGl0bGUiLCJoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlIiwiZWxlbWVudFNrdSIsImNhdGFsb2ciLCJtb3N0Vmlld2VkTGV2ZWwiLCJhdHRyaWJ1dGUiLCJjc3MiLCJwcm9wZXJ0eSIsInByb3BlcnR5VmFsdWUiLCJuMSIsIm4yIiwic3dhcE5vZGVzIiwiYXBwZW5kIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJwcmVwZW5kIiwiZXZlbnQiLCJ0aXRsZXMiLCJwYXJzZWRUaXRsZXMiLCJoaWRkZW4iLCJoYW5kbGVQb3B1cENsaWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInFQb3B1cCIsImdldEVsZW1lbnRCeUlkIiwicG9wdXBXcmFwcGVyIiwiYWRkIiwicG9wdXBDbG9zZUJ1dHRvbiIsImlubmVyVGV4dCIsIm9uY2xpY2siLCJjb250ZW50cyIsInNoaWZ0Iiwic3JjIiwidGVtcGxhdGUiLCJpbm5lckhUTUwiLCJwb3B1cCIsImNvbnRlbnQiLCJmaXJzdENoaWxkIiwiYm9keSIsImkxIiwiaTIiLCJwMSIsInBhcmVudE5vZGUiLCJwMiIsImlzRXF1YWxOb2RlIiwiY2hpbGRyZW4iLCJpbnNlcnRCZWZvcmUiLCJ0cmVhdG1lbnRBcHBsaWNhdG9yIiwidHJlYXRtZW50TGlzdCIsImpRdWVyeSIsIm1lc3NhZ2UiLCJhcHBseVRyZWF0bWVudHMiLCJjaGVja3BvaW50cyIsIkJlYWdsZUxvYWRlZCIsIkluaXRpYWxpemVkIiwiVXNlck9uT2ZmIiwiU2NyaXB0VGltZU91dCIsIlRyZWF0bWVudFJlcG9zaXRvcnlDcmVhdGVkIiwiVHJlYXRtZW50c0FwcGxpZWQiLCJSZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzIiwiYmVhZ2xlSW5mb0xheWVyIiwiY2hlY2twb2ludCIsImZpbmQiLCJ0aW1lIiwiRGF0ZSIsIm5vdyIsIl9kZWZpbmVQcm9wZXJ0eSIsIk1vbml0b3IiLCJkZWJ1Z01vZGUiLCJzZXNzaW9uSWQiLCJhcHBsaWVkVHJlYXRtZW50SWRzIiwiZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyIsImxhdGVzdENoYW5nZXMiLCJlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzIiwidmlld0lkIiwiaGVhZGVycyIsImlzTG9nZ2VkIiwiaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVyIiwiaXNPbiIsImVtcHR5IiwicmVhZHlTdGF0ZSIsImhhbmRsZVF1ZXVlTG9ncyIsInBhY2thZ2VMb2dEYXRhIiwicmVxdWVzdEJsb2IiLCJxdWV1ZUxvZ3MiLCJjaGFuZ2VzIiwiY29tcGFyZVRvIiwibSIsInByZXBhcmVMb2dCb2R5IiwidklkIiwiZGJtIiwiQmxvYiIsInQiLCJjdXJyZW50VVJMIiwiZ2FPYmplY3RzIiwiZ2FETEVsZW1lbnQiLCJ2aXNpbGFic2NrIiwidmxPYmplY3RzIiwiSXRlbXMiLCJ2bEVsZW1lbnQiLCJLIiwiViIsIm5kRGF0YSIsImNvb2tpZVZMSXNOZXciLCJPTV9JTlciLCJjb29raWVWTFBWaW5WaXNpdCIsIlZMX1BWQ291bnRJblZpc2l0IiwiY29va2llVkxWaXNpdER1cmF0aW9uIiwiVkxfVG90YWxEdXJhdGlvbiIsImNvb2tpZVZMVG90YWxQViIsIlZMX1RvdGFsUFYiLCJjb29raWVWTFRvdGFsVmlzaXQiLCJWTF9Ub3RhbFZpc2l0IiwiZ2FQYWdlVHlwZSIsIlBhZ2VUeXBlIiwiZ2FQcm9kdWN0TmFtZSIsImNvbnRlbnRfbmFtZSIsImdhVmlld1R5cGUiLCJjb250ZW50X3R5cGUiLCJnYVByb2R1Y3RDYXRlZ29yeSIsImNvbnRlbnRfY2F0ZWdvcnkiLCJnYVByb2R1Y3RJRCIsImNvbnRlbnRfaWRzIiwidnZzUHJvZHVjdENhdGVnb3J5Iiwidml2ZW5zZV9jYXRlZ29yeSIsImdhTGlzdGluZ05hbWUiLCJlY29tbWVyY2UiLCJkZXRhaWwiLCJhY3Rpb25GaWVsZCIsImxpc3QiLCJ2dnNJc1Nob3dyb29tIiwiaXNBZG1pbiIsInZ2c1Byb2R1Y3RHcm91cCIsInByb2R1Y3RHcm91cCIsInZ2c1VzZXJFbWFpbCIsInVzZXJFbWFpbCIsInZ2c1VzZXJJZCIsInVzZXJJZCIsInZ2c0NhdGVnb3J5IiwiZ2FBY3Rpb24iLCJBY3Rpb24iLCJnYUFjdGlvbkxhYmVsIiwiTGFiZWwiLCJnYUNhdGVnb3J5UHJvZHVjdENvbnQiLCJjYXRlZ29yeV9wcm9kdWN0X2NvdW50IiwiZ2FBY3Rpb25TdGVwIiwiY2hlY2tvdXQiLCJzdGVwIiwiZ2FBY3Rpb25Vc2VyIiwiZGltZW5zaW9uMTQiLCJwdXJjaGFzZSIsImdhQ2FydFByb2R1Y3RzIiwicHJvZHVjdHMiLCJ2dnNQRFBQcm9kdWN0Iiwidml2ZW5zZVByb2R1Y3RzIiwiZ2FQdXJjaGFzZUlkIiwiZ2FQdXJjaGFzZUFmZmlsaWF0aW9uIiwiYWZmaWxpYXRpb24iLCJnYVB1cmNoYXNlQ291cG9uIiwiY291cG9uIiwiZ2FQdXJjaGFzZVJldmVudWUiLCJyZXZlbnVlIiwiZ2FQdXJjaGFzZVNoaXBwaW5nIiwic2hpcHBpbmciLCJnYVB1cmNoYXNlVGF4IiwidGF4IiwiZ2FQdXJjaGFzZVBheVR5cGUiLCJkaW1lbnNpb24xNSIsIndpbmRvd1BhcmFtcyIsIndpbmRvd1NjcmVlbiIsInNjcmVlbiIsIndpbmRvd1ZQb3J0IiwidmlzdWFsVmlld3BvcnQiLCJ3aW5kb3dQUmF0aW8iLCJkZXZpY2VQaXhlbFJhdGlvIiwibmF2QWdlbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJuYXZIV0NvcmVzIiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsIm5hdkxhbmd1YWdlIiwibGFuZ3VhZ2UiLCJuYXZUb3VjaCIsIm1heFRvdWNoUG9pbnRzIiwibmF2UGxhdGZvcm0iLCJwbGF0Zm9ybSIsIm5hdlZlbmRvciIsInZlbmRvciIsInBDbGlja1NlZ21lbnQiLCJjb29raWVHYUlkIiwiY29va2llTGFzdEJyZWFkQ3J1bWIiLCJjb29raWVMYXN0Q2F0ZWdvcnkiLCJjb29raWVGaXJzdEVudHJ5Iiwic3IiLCJ1IiwiaG9zdG5hbWUiLCJyIiwicmVmZXJyZXIiLCJ3IiwiaW5uZXJXaWR0aCIsIndkbCIsInZ2c1B1cmNQcmljZUVsdCIsInRvdGFsUHJpY2VFbGVtZW50IiwidGV4dENvbnRlbnQiLCJ2dnNQdXJjVHlwZUVsdCIsInBheW1lbnRUaXRsZUVsZW1lbnQiLCJpc0V4aXRFdmVudENhcHR1cmVkIiwibG9nRGF0YSIsInBhY2thZ2VVcGRhdGVMb2dEYXRhIiwiY2FwdHVyZSIsInF1ZXVlZCIsInNlbmRCZWFjb24iLCJxdWV1ZUludGVydmFsIiwiVHJlYXRtZW50UmVwb3NpdG9yeSIsImNvb2tpZVBjdCIsInVzZXJTZWdtZW50IiwiZ2V0VXNlclNlZ21lbnQiLCJzZWdtZW50TWF0Y2hlZFRyZWF0bWVudHMiLCJmaWx0ZXIiLCJhcHBseV9vbl91c2VyX3NlZ21lbnQiLCJnZXRUcmVhdG1lbnRGaXh0dXJlcyIsInRyZWF0bWVudElkcyIsIlRSRUFUTUVOVFMiLCJ0cmVhdG1lbnRzT2JqIiwidGltZXN0YW1wIiwidHJlYXRtZW50V2l0aFRpbWVzdGFtcCIsImdldENvdW50ZXIiLCJjb3VudGVyIiwiUnVsZUVuZ2luZSIsImJhc2VSdWxlU2V0Iiwic3ViVmFyaWFudFJ1bGVTZXQiLCJjYWxsYmFjayIsImJpbmRpbmdzIiwiY2hlY2tSdWxlIiwiY2hhaW4iLCJjaGFpbl9jb25kaXRpb24iLCJydWxlU2F0aXNmaWVkIiwiZHVyYXRpb24iLCJnZXRTZXNzaW9uVGltZXN0YW1wIiwiZHVyYXRpb25IYW5kbGVyIiwiY3VycmVudEhpc3RvcnkiLCJoaXN0b3J5SGFuZGxlciIsImNoZWNrU2Vzc2lvblJ1bGUiLCJwYWdlVmlld3MiLCJwYWdlVmlld0hhbmRsZXIiLCJjYUJhc2tldFByaWNlIiwiY2FCYXNrZXRQcmljZUhhbmRsZXIiLCJjaGVja0NvdW50ZXJSdWxlIiwic2VsZWN0b3JBbGwiLCJtYWluU2VsZWN0b3IiLCJ0ZW1wVmFsIiwicmV0dXJuVmFsIiwiZWxlbSIsImNoZWNrRWxlbWVudFJ1bGUiLCJvcHRzIiwicnVsZUZ1bmN0aW9uIiwiY2hlY2tGdW5jdGlvblJ1bGUiLCJpc01vYmlsZSIsImNoZWNrRW52UnVsZSIsInByb2R1Y3RJbmZvTG9va3VwIiwiSGVhZGVycyIsIm1vZGUiLCJvayIsIm1vbml0b3IiLCJwcm9kdWN0SW5mb1Byb21pc2UiLCJORF9ERUJVR19NT0RFIiwicXVlcnlTdHJpbmciLCJyZW1vdmVJdGVtIiwic2VhcmNoUGFyYW1zIiwiZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMiLCJpbmRleE9mIiwibGFzdEluZGV4T2YiLCJpdGVtIiwiY29udGFpbnMiLCJHTE9WX09OIiwiUEFHRV9WSUVXUyIsIlNFU1NJT05fSUQiLCJTRVNTSU9OX1RJTUVTVEFNUCIsIlNFU1NJT05fSElTVE9SWSIsInBvcHVwRGlzcGxheUZsYWciLCJzZXNzaW9uVGltZXN0YW1wIiwic2Vzc2lvbkhpc3RvcnkiLCJ0cmVhdG1lbnRzUHJvbWlzZSIsIk9CU0VSVkVSX0NPTkZJRyIsInN1YnRyZWUiLCJjaGlsZExpc3QiLCJhdHRyaWJ1dGVzIiwiZW5nYWdlVHJlYXRtZW50IiwicEluZm8iLCJkZXZpY2UiLCJkZXBlbmRhbnRfb25fdHJlYXRtZW50IiwicmVhcHBseV9ldmVudCIsIndlaWdodCIsInJlYXBwbHlfZXZlbnRfYXJyYXkiLCJyZWFwcGx5RXZlbnQiLCJwcmV2aW91c1ZhbHVlIiwicmVBcHBseVRyZWF0bWVudHNNYXAiLCJydWxlRW5naW5lIiwiY2hlY2tSdWxlcyIsInRyZWF0bWVudFNraXBSYXRpbyIsIm1hdGNoZWRUcmVhdG1lbnRzIiwiZGV0ZXJtaW5pbmdJZGVudGlmaWVyIiwidHJlYXRtZW50UGN0IiwicHJlcGFyZWQiLCJjaGVja1N1YlZhcmlhbnRSdWxlcyIsImNvbGxlY3RDQUJhc2tldFByaWNlIiwiQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFIiwicHJpY2VFbGVtZW50cyIsImNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiYmFza2V0Q2hlY2tvdXRGb3JtIiwib2JzZXJ2ZSIsImFsbCIsInRyZWF0bWVudFJlcG9zaXRvcnkiLCJnZXRNYXRjaGVkVHJlYXRtZW50cyIsInNlbmRMb2dzIiwidXBkYXRlVHJlYXRtZW50cyIsInVwZGF0ZUxhdGVzdENoYW5nZXMiLCJyZUFwcGx5VHJlYXRtZW50cyIsIlJlc2l6ZU9ic2VydmVyIiwicmVhcHBseV9zZWxlY3RvciIsIm9uc2Nyb2xsIl0sInNvdXJjZVJvb3QiOiIifQ==

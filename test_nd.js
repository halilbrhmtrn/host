!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new _(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw a;return P()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=L(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=s(e,t,n);if("normal"===u.type){if(r=n.done?g:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=g,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",h={};function v(){}function m(){}function y(){}var w={};u(w,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(E([])));k&&k!==n&&r.call(k,a)&&(w=k);var S=y.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var u=s(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=s(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:P}}function P(){return{value:t,done:!0}}return m.prototype=y,u(S,"constructor",y),u(y,"constructor",m),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},x(I.prototype),u(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,u,"next",e)}function u(e){i(a,r,o,c,u,"throw",e)}c(void 0)}))}}var u=n(757),l=n.n(u),s="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",d="(max-width: 440px)",f="__nextday_session_id",p="ND_SessionTimestamp",g="ND_PageViews",h="ND_PopupDisplayFlag",v="ND_CABasketPrice",m="ND_Debug";function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";y(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(m)}return b(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),S=k;function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=new S("Nextday DataLayer Checker"),L=function(e){I.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=C(t);return F(o,n,r)},C=function(e){I.log("Searching dataLayer for key",e);var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(window.dataLayer);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(Object.keys(r).includes(e))return I.log("Found key ".concat(e," with value ").concat(r[e])),r[e]}}catch(e){n.e(e)}finally{n.f()}return I.log("Key ".concat(e," not found in dataLayer")),null},A=new S("Nextday Url Checker"),_=function(e){A.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return A.log("Checking path ".concat(a," matches rule path ").concat(r)),F(a,n,r)}};function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=new S("Nextday Utils");"randomUUID"in crypto||M();var O=function(){document.documentElement.classList.remove("nextDay-hide")},T=function(){var e=c(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},R=function(){var e=c(l().mark((function e(t){var n,r,o,a,i,c,u,s,d=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:8,o=(r=9)+n,t){e.next=5;break}return e.abrupt("return",-1);case 5:return a=(new TextEncoder).encode(t),e.next=8,crypto.subtle.digest("SHA-1",a);case 8:return i=e.sent,c=Array.from(new Uint8Array(i)),u=c.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),s=parseInt(u.substring(r,o),16),e.abrupt("return",s%100);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){var t=document.documentElement.scrollTop,n=setInterval((function(){var r=document.documentElement.scrollTop;t-400>r?(clearInterval(n),e()):t=r}),500)},D=function(e,t){N.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],a=0,i=Object.entries(t);a<i.length;a++){var c=o(i[a],2),u=c[0],l=c[1];r.style[u]=l}},U=function(){var e=c(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="https://host-b96.pages.dev/nd-styles.css",document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e,t){var n,r=JSON.parse(JSON.stringify(e)),o=E(r);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.subVariants;if(i){var c,u=E(i);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(l.id===t){for(var s in l)"id"!==s&&(a[s]=l[s]);return r}}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){o.e(e)}finally{o.f()}return r},F=function(e,t,n){if("notExist"===t)return e?(N.log("conditionChecker: -not satisfied- target does exist"),!1):(N.log("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return N.log("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(N.log("conditionChecker: -satisfied- target does exist"),!0):(N.log("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(N.log("conditionChecker: -satisfied- target contains value"),!0):(N.log("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(N.log("conditionChecker: -not satisfied- target contains value"),!1):(N.log("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(N.log("conditionChecker: -satisfied- target equals value"),!0):(N.log("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(N.log("conditionChecker: -satisfied- target does not equal value"),!0):(N.log("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(N.log("conditionChecker: -satisfied- target is greater than value"),!0):(N.log("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(N.log("conditionChecker: -satisfied- target is less than value"),!0):(N.log("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(N.log("conditionChecker: -satisfied- target is greater or equal than value"),!0):(N.log("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(N.log("conditionChecker: -satisfied- target is less or equal than value"),!0):(N.log("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=o(n.split(","),2),a=r[0],i=r[1];return a=parseInt(a),i=parseInt(i),e>=a&&e<=i?(N.log("conditionChecker: -satisfied- target is between min and max"),!0):(N.log("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return N.log("conditionChecker: condition is not defined ",t),!1}},M=function(){crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},J=function t(n,r){if(n===r)return!0;if("object"!==e(n)||"object"!==e(r)||null==n||null==r)return!1;var o=Object.keys(n),a=Object.keys(r);if(o.length!==a.length)return!1;var i=!0;return o.forEach((function(e){a.includes(e)||(i=!1),"function"!=typeof n[e]&&"function"!=typeof r[e]||n[e].toString()!==r[e].toString()&&(i=!1),t(n[e],r[e])||(i=!1)})),i},B=function(e){return new Promise((function(t){return setTimeout(t,e)}))},G=function(){var e="ND_SkuList",t=[],n={operator:"PageType",condition:"equal",value:"Homepage"};if(L(n))return null;if(n.value="Listingpage",L(n))return Array.from(document.querySelectorAll(".product-card")).forEach((function(e){t.push(e.getAttribute("data-product-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(N.log("Product SKUs not found on Listingpage"),null);if(n.value="Productpage",L(n)){var r=document.querySelector(".product-sku");return r?(t.push(r.getAttribute("data-sku")),sessionStorage.setItem(e,JSON.stringify(t)),t):(N.log("Product SKU not found on Productpage"),null)}return n.operator="path",n.value="/siparis-listesi.html",_(n)?(Array.from(document.querySelectorAll(".cart-inside")).forEach((function(e){t.push(e.getAttribute("data-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(N.log("Product SKUs not found on basket page"),null)):(N.log("Unidentified page type"),null)};function z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(){return Q=c(l().mark((function e(t,n){var r,o,a,i,u,s,f,p,g=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.length>2&&void 0!==g[2]&&g[2],r=new S("Nextday Apply Treatments"),o=h,a=function(e){r.log("Applying treatment: ",JSON.stringify(e));var t=e.operator,a=e.type,c=e.applyEvent,u=e.contentSelector,l=e.selector,g=e.selectorFallback,h=e.mdCondition,v=e.move_selector_1,m=e.move_selector_2,y=e.replaceFn,w=e.value,b=$(l);if(!h||window.matchMedia(h).matches)if(v&&!m||m&&!v)r.log("Both move selectors are required");else{if(v&&m){if(!$(v).length)return void r.log("Move selector 1 not found: ",v);if(!$(m).length)return void r.log("Move selector 2 not found: ",m)}else{if(!l)return void r.log("Selector not specified");if(!b.length&&"no-selector"!==l&&(r.log("Selector not found: ",l),r.log("Trying fallback selector: ",g),g&&(b=$(g)),!b.length))return void r.log("Fallback selector not found")}var k=function(e,t){if(e&&t.includes("{{REPLACE}}")){r.log("Executing replace function: ",e);var o={dataLayerFinder:C,productInfo:n},a=Function(e).bind(o);t=t.replaceAll("{{REPLACE}}",a())}return t};if(Array.isArray(w)?w.forEach((function(e,t){var n=y?y[t]||y:"";w[t]=k(n,e)})):w=k(y,w),"remove"===t)b&&(r.log("Removing: ",l),b.remove()),r.log("Cannot found element with selector: ",l);else if("insert"===t)switch(a){case"before":r.log("Inserting before: ",w),String(w).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),b.before(w);break;case"after":r.log("Inserting after: ",w),b.after(w);break;case"popup":if(0!==parseInt(sessionStorage.getItem(o))){r.log("Popup already displayed in session");break}if(r.log("Creating Popup: ",w),f(w,u),c){var S,x=window.matchMedia(d).matches,I=z(c);try{for(I.s();!(S=I.n()).done;)switch(S.value){case"exitIntent":r.log("Adding exit intent listener"),x?q(s):document.documentElement.addEventListener("mouseleave",s,{once:!0});break;case"copyIntent":r.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",s,{once:!0})}}catch(e){I.e(e)}finally{I.f()}}else setTimeout((function(){s()}),timeout)}else if("edit"===t)switch(a){case"text":r.log("Editing text: ",w),b.text(w);break;case"styleApplicator":r.log("Applying style: ",w);var L=document.querySelectorAll(l),A=JSON.parse(w);r.log("Style Changes Map: ",A),D(L,A);break;case"addClass":r.log("addding class to ".concat(b," named ").concat(w)),b.addClass(w);break;case"removeClass":r.log("remove class from ".concat(b," named ").concat(w)),b.removeClass(w);break;case"documentTitle":if(r.log("changing document title from ".concat(b," to ").concat(w)),c){var _,E=z(c);try{for(E.s();!(_=E.n()).done;)"tabChange"==_.value&&function(){r.log("catching event tabchange..");var e=document.title;document.addEventListener("visibilitychange",(function(t){return i(t,w,e)}))}()}catch(e){E.e(e)}finally{E.f()}}break;case"addBanner":if(!n){r.log("Product info unavailable");break}r.log("Adding banner: ",w);var P=JSON.parse(sessionStorage.getItem("ND_SkuList"))[0];if(!P){r.log("Could not find product sku");break}Object.keys(n).includes(P)&&n[P].catalog.mostViewedLevel<10&&b.before(w);break;default:r.log("Unknown edit type: ",a)}else if("setattribute"===t)switch(r.log("Setting attribute: ",attribute,w),attribute){case"src":b.css("content","url(".concat(w.trim(),")"));break;case"style":var N=w.split(":")[0].trim(),O=w.split(":")[1].trim();b.css(N,O,"!important")}else if("replace"===t)r.log("Replacing: ",w),b.replaceAll(w);else if("swap"===t){r.log("Swapping: ",v,m);var T=document.querySelector(v),j=document.querySelector(m);p(T,j)}else if("injectscript"===t)r.log("Injecting script: ",w),b.append("<script>".concat(w,"<\/script>"));else if("move"===t){r.log("Moving ".concat(v," to ").concat(m));var R=document.querySelector(v),U=document.querySelector(m);R.remove(),U.prepend(R)}else"noop"===t?r.log("Noop Operator: No operation is applied on target "):r.log("No such operator exists yet",t)}else r.log("Media condition mismatch: ",h)},i=function(){var e=c(l().mark((function e(t,n,r){var o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.isArray(n)?n:[n],a=0;case 2:if(!(a<o.length)){e.next=16;break}if(!document.hidden){e.next=12;break}return document.title=o[a],e.next=7,B(3e3);case 7:return document.title=r,e.next=10,B(3e3);case 10:e.next=13;break;case 12:document.title=r;case 13:a++,e.next=2;break;case 16:if(document.hidden){e.next=21;break}return document.title=r,e.abrupt("return");case 21:i(t,n,r);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),u=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0))},s=function e(){sessionStorage.setItem(o,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",u,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",u,!0)}),15e3)},f=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",u,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var i=a.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},p=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var c=0;c<a.children.length;c++)a.children[c].isEqualNode(t)&&(r=c);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},function e(t){if(window.jQuery){var n,o=z(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;try{a(i)}catch(e){r.log("Couldn't apply treatment ".concat(i.id," with error ").concat(e.message));continue}}}catch(e){o.e(e)}finally{o.f()}}else setTimeout((function(){e(t)}),10)}(t);case 11:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}var H=function(e,t){return Q.apply(this,arguments)};function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te=function(){function e(){y(this,e),this.logger=new S("Nextday Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentIds=null,this.eligibleNotAppliedTreatments=null,this.latestChanges=null,this.eligibleNotAppliedChanges=null,this.sessionId=sessionStorage.getItem(f),this.viewId=crypto.randomUUID(),this.headers={type:"application/json"},this.logger.log("Initializing with session id: "+this.sessionId),this.debugMode=window.localStorage.getItem(m)?"on":"off",this.initializeExitEventListener(),this.isLogged=!1}var t;return b(e,[{key:"updateTreatments",value:function(e,t){this.appliedTreatmentIds=e,this.eligibleNotAppliedTreatments=t}},{key:"sendLogs",value:(t=c(l().mark((function e(t){var n,r,o,a=this,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]&&i[2],(o=this.logger).log("Sending logs"),"complete"!==document.readyState?(o.log("Document ready state is not complete"),window.addEventListener("beforeunload",(function(){o.log("In beforeunload event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0),window.addEventListener("pagehide",(function(){o.log("In onpagehide event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0),window.addEventListener("load",(function(){o.log("In onload event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0)):this.handleQueueLogs(this.packageLogData(t,n,r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"handleQueueLogs",value:function(e){if(!this.isLogged){var t=this.logger;e?(t.log("Request blob to send: ",e),this.queueLogs(e),this.isLogged=!0):t.log("Could not create request blob")}}},{key:"updateLatestChanges",value:function(e,t){var n=this.appliedTreatmentIds,r=this.eligibleNotAppliedTreatments,o=this.logger;o.log("Updating latest changes");var a=this.latestChanges||n;J(a,e)||(o.log("Changes detected"),o.log("Changes: ",e),this.latestChanges=e),a=this.eligibleNotAppliedChanges||r,J(a,t)||(o.log("Changes detected"),o.log("Changes: ",e),this.eligibleNotAppliedChanges=t)}},{key:"packageLogData",value:function(e,t,n){var r=this.appliedTreatmentIds,o=this.eligibleNotAppliedTreatments,a=this.debugMode,i=this.headers,c=this.viewId,u=t||(Object.keys(r).length?"Treatments applied":"No treatments applied"),l=this.prepareLogBody();return l.vId=n?null:c,l.m=u,l.dbm=a,l.isOn=e,l.a=n?{}:r,l.e=n?{}:o,new Blob([JSON.stringify(l)],i)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.eligibleNotAppliedChanges,n=this.latestChanges,r=this.viewId;if(!n&&!t)return!1;var o={t:Date.now(),a:n||{},e:t||{},vId:r};return new Blob([JSON.stringify(o)],e)}},{key:"prepareLogBody",value:function(){var e,t=new URL(window.location.href),n={},r=Z(window.dataLayer);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=X(X({},n),o)}}catch(e){r.e(e)}finally{r.f()}var a=JSON.parse(j(document.cookie,"VL_CM_0")),i={};if(a&&a.Items){var c,u=Z(a.Items);try{for(u.s();!(c=u.n()).done;){var l=c.value;i[l.K]=decodeURIComponent(l.V)}}catch(e){u.e(e)}finally{u.f()}}var s={};return s.cookieVLIsNew=i.OM_INW,s.cookieVLPVinVisit=i.VL_PVCountInVisit,s.cookieVLVisitDuration=i.VL_TotalDuration,s.cookieVLTotalPV=i.VL_TotalPV,s.cookieVLTotalVisit=i.VL_TotalVisit,s.gaPageType=n.PageType,s.gaProductName=n.content_name,s.gaViewType=n.content_type,s.gaProductCategory=n.content_category,s.gaProductID=n.content_ids,s.vvsProductCategory=n.vivense_category,s.gaListingName=function(){try{return n.ecommerce.detail.actionField.list}catch(e){return null}}(),s.vvsIsShowroom=n.isAdmin,s.vvsProductGroup=n.productGroup,s.vvsUserEmail=n.userEmail,s.vvsUserId=n.userId,s.vvsCategory=n.vivense_category,s.gaAction=n.Action,s.gaActionLabel=n.Label,s.gaCategoryProductCont=n.category_product_count,s.gaActionStep=function(){try{return n.ecommerce.checkout.actionField.step}catch(e){return null}}(),s.gaActionUser=function(){try{return n.ecommerce.checkout.actionField.dimension14}catch(e){return null}}()||function(){try{return n.ecommerce.purchase.actionField.dimension14}catch(e){return null}}(),s.gaCartProducts=function(){try{return n.ecommerce.checkout.products}catch(e){return null}}()||function(){try{return n.ecommerce.purchase.products}catch(e){return null}}(),s.vvsPDPProduct=function(){try{return n.vivenseProducts[0]}catch(e){return null}}(),s.gaPurchaseId=function(){try{return n.ecommerce.purchase.actionField.id}catch(e){return null}}(),s.gaPurchaseAffiliation=function(){try{return n.ecommerce.purchase.actionField.affiliation}catch(e){return null}}(),s.gaPurchaseCoupon=function(){try{return n.ecommerce.purchase.actionField.coupon}catch(e){return null}}(),s.gaPurchaseRevenue=function(){try{return n.ecommerce.purchase.actionField.revenue}catch(e){return null}}(),s.gaPurchaseShipping=function(){try{return n.ecommerce.purchase.actionField.shipping}catch(e){return null}}(),s.gaPurchaseTax=function(){try{return n.ecommerce.purchase.actionField.tax}catch(e){return null}}(),s.gaPurchasePayType=function(){try{return n.ecommerce.purchase.actionField.dimension15}catch(e){return null}}(),s.windowParams=window.location.search,s.windowScreen=window.screen,s.windowVPort=window.visualViewport,s.windowPRatio=window.devicePixelRatio,s.navAgent=navigator.userAgent,s.navHWCores=navigator.hardwareConcurrency,s.navLanguage=navigator.language,s.navTouch=navigator.maxTouchPoints,s.navPlatform=navigator.platform,s.navVendor=navigator.vendor,s.pClickSegment=window.localStorage.getItem("personaClick_segment"),s.cookieGaId=j(document.cookie,"_ga"),s.cookieLastBreadCrumb=j(document.cookie,"lastbreadcrumb"),s.cookieLastCategory=j(document.cookie,"lastcategory"),s.cookieFirstEntry=decodeURIComponent(j(document.cookie,"vivensefirst")),s.v="0.0.23",s.n="nextday-session_id-".concat(this.sessionId),s.t=Date.now(),s.sr=80,s.u=t.href,s.d=t.hostname,s.r=document.referrer,s.w=window.innerWidth,s.c=document.cookie,s.wdl=window.dataLayer,s.vvsPurcPriceElt=function(){try{var e=document.querySelector("div.basket_inner_right > div.basket_summary > div.basket_summary_total > span:nth-child(2)");return e||(e=document.querySelector("#main > div > div.general-container > div.col-md-12 > div > div:nth-child(1) > div > div.row.order_final_row.total_row > div.order-final-number")),e&&e.textContent?e.textContent:null}catch(e){return null}}(),s.vvsPurcTypeElt=function(){try{var e=document.querySelector("body > div.main-custom-container > div.general-container > div > div > div > div.cart-header > div.payment_type_final_text > div");return e||(e=document.querySelector("#main > div > div.general-container > div:nth-child(2) > div > div > div.cart-header > div.cart-title-info > span")),e&&e.textContent?e.textContent:null}catch(e){return null}}(),s}},{key:"initializeExitEventListener",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}),{capture:!0}),window.addEventListener("pagehide",(function(){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger,n=navigator.sendBeacon(s,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(s,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}}]),e}(),ne=te,re=new S("Nextday Treatment Repository"),oe=function(){function e(t){y(this,e);var n=t.cookiePct,r=t.treatments;this.treatments=r,this.cookiePct=n}var t;return b(e,[{key:"getMatchedTreatments",value:function(){var e=this.getUserSegment(),t=this.treatments.filter((function(t){return t.apply_on_user_segment==e||"*"===t.apply_on_user_segment}));return re.log("".concat(t.length," treatments segment matched")),t.length?t:[]}},{key:"getUserSegment",value:function(){if(-1===this.cookiePct)throw re.log("New user has no segment"),new Error("New User");return this.cookiePct<50?"A":"B"}}],[{key:"getTreatments",value:(t=c(l().mark((function e(){var t,n,r,o,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return re.log("Treatments not found in local storage"),e.next=9,T();case 9:return r=e.sent,a={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return re.log("Treatments are expired"),e.next=19,T();case 19:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 23:return re.log("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),ae=oe,ie=new S("Nextday Counter Checker"),ce=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return ie.log("No such type",t),null}}catch(t){return ie.log("Could not get counter ".concat(e),t),null}},ue=new S("Nextday Element Checker"),le=new S("Nextday Function Checker"),se=new S("Nextday Session Checker"),de=new S("Nextday Env Checker");function fe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ge=new S("Nextday Rule Engine"),he=function(){function e(t){y(this,e);var n=t.baseRuleSet,r=t.subVariantRuleSet,o=t.callback,a=void 0===o?null:o;this.baseRuleSet=n,this.subVariantRuleSet=r,this.callback=a}return b(e,[{key:"checkRules",value:function(){var e,t=fe(this.baseRuleSet);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!this.checkRule(n))return!1}}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"checkSubVariantRules",value:function(){var e,t=fe(this.subVariantRuleSet);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(this.checkRule(n))return n.subVariantId}}catch(e){t.e(e)}finally{t.f()}return null}},{key:"checkRule",value:function(e){var t=e.chain,n=e.chain_condition,r=e.type,o=null;switch(r){case"session":o=function(e){se.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;return"duration"===t?function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(sessionStorage.getItem(p)))}catch(e){return se.log("Could not get session timestamp",e),Date.now()}}())/1e3;return F(n,e,parseInt(t))}(n,r):null}(e);break;case"counter":o=function(e){ie.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return function(e,t){var n=parseInt(ce(g,"session"));return ie.log("Page views counter value: ",n),null===n?(ie.log("Pageviews counter not found in session storage"),!1):F(n,e,parseInt(t))}(n,r);case"CABasketPrice":return function(e,t){var n=parseInt(ce(v,"local"));return ie.log("Coupon applicable basket price counter value: ",n),null===n?(ie.log("Coupon applicable basket price counter not found in local storage"),!1):F(n,e,parseInt(t))}(n,r);default:return ie.log("No such operator",t),!1}}(e);break;case"element":o=function(e){ue.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,c=e.selectorFallback,u=void 0===c?null:c,l=a;if(l&&!document.querySelector(l)&&(l=u||l),null===n)return F(document.querySelector(l),r,o);if(l&&!document.querySelector(l))return ue.log("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return ue.log("Selector not found on page"),!1;switch(l?t=document.querySelector(l):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var s;s=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(l).textContent.replace("TL","").replace(".",""));var d=parseInt(s);return F(d,r,o);case"classList":return F(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return F(f,r,o);default:return ue.log("Operator not defined"),!1}}(e);break;case"dataLayer":o=L(e);break;case"url":o=_(e);break;case"function":o=function(e){le.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if(!t)return le.log("Rule function not defined"),!1;var o=Function(t)();return F(o,n,r)}(e);break;case"environment":o=function(e){de.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(d).matches?"mobile":"desktop";return F(o,n,r)}}(e);break;default:return ge.log("No such rule type: ".concat(r)),null}if(t)switch(n){case"and":o=o&&this.checkRule(t);break;case"or":o=o||this.checkRule(t);break;case"xor":o=o!=this.checkRule(t);break;default:ge.log("No such chain condition")}return o}}]),e}(),ve=new S("Nextday Api"),me=function(){var e=c(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve.log("Starting product info lookup"),t=G()){e.next=5;break}return ve.log("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.next=9,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 9:if((r=e.sent).ok){e.next=13;break}return ve.log("Product info lookup failed"),e.abrupt("return",null);case 13:return e.next=15,r.json();case 15:if(r=e.sent){e.next=19;break}return ve.log("Product info extraction from response failed"),e.abrupt("return",null);case 19:return ve.log("Product info lookup successful"),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ye(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}c(l().mark((function t(){var n,r,i,u,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,r=me();try{(new S).info("Nextday initiated"),(i=window.location.search).includes("nd_debug=1")?window.localStorage.setItem(m,1):i.includes("nd_debug=2")?window.localStorage.setItem(m,2):i.includes("nd_debug=0")&&window.localStorage.removeItem(m)}catch(e){console.log("Could not determine if debug mode is on or off")}return u=new ne,t.prev=4,t.delegateYield(l().mark((function e(){var t,i,s,y,w,b,k,x,I,L,C,A,_,E,P,N,T,q,D,F,M,J,B,$,G,z;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new S).info("Nextday initiated"),i=function(){var e=c(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=j(document.cookie,"_ga");if(n)e(n);else{var r=setInterval((function(){(n=j(document.cookie,"_ga"))&&(clearInterval(r),e(n))}),10);setTimeout((function(){clearInterval(r),t(new Error("Could not extract cookie identifier"))}),1e3)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=5,i();case 5:return s=e.sent,t.log("Found cookie identifier: ",s),e.next=9,R(s);case 9:if(y=e.sent,window.localStorage.getItem(m)){e.next=20;break}if(!(y<80)){e.next=17;break}if(-1!==y){e.next=14;break}throw new Error("Could not determine cookie pct");case 14:n=!1,e.next=18;break;case 17:n=!0;case 18:e.next=21;break;case 20:t.info("Debug mode on: all applicable treatments will be applied");case 21:if(document.documentElement.classList.contains("nextDay-hide")){e.next=23;break}throw new Error("Nextday script timed out");case 23:if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GLOV",GLOV_ON:n?"true":"false"}),!1!==n){e.next=27;break}throw new Error("Control group: no treatments applied");case 27:return U(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,K=g,Q=h,W=f,Y=p,X=sessionStorage.getItem(K),Z=sessionStorage.getItem(Q),ee=sessionStorage.getItem(W),te=sessionStorage.getItem(Y),X?sessionStorage.setItem(K,parseInt(X)+1):sessionStorage.setItem(K,1),null===Z&&sessionStorage.setItem(Q,0),ee||sessionStorage.setItem(W,crypto.randomUUID()),te||sessionStorage.setItem(Y,Date.now()),setTimeout((function(){O()}),2e3),w=ae.getTreatments(),b=window.matchMedia(d).matches,k={subtree:!0,childList:!0,attributes:!0},x=function(){var e=c(l().mark((function e(n){var r,o,i,c,u,d,f,p,g,h,v,y,w,k,S,x,I,L,C,A;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,o=n.actions,i=n.baseRuleSet,c=n.device,u=n.dependant_on_treatment,d=n.reapply_event,f=n.subVariantRuleSet,p=n.weight,"mobile"!==c||b){e.next=4;break}return t.log("Treatment device 'mobile' mismatch"),e.abrupt("return");case 4:if("desktop"!==c||!b){e.next=7;break}return t.log("Treatment device 'desktop' mismatch"),e.abrupt("return");case 7:if(d){g=d,Array.isArray(d)||(g=[d]),t.log("Reapply event '".concat(d,"' found for treatment: ").concat(r)),h=ye(g);try{for(h.s();!(v=h.n()).done;)y=v.value,(w=F[y]?F[y]:[]).includes(r)?t.log("Treatment already added for reapply event"):F[y]=[].concat(a(w),[r])}catch(e){h.e(e)}finally{h.f()}}if(k=new he({baseRuleSet:i,subVariantRuleSet:f}),t.log("Starting base rule set check for treatment: "+r),i&&!k.checkRules()){e.next=32;break}return S=100-p||50,u&&(S=100-(null===(x=T.find((function(e){return e.id===u})))||void 0===x?void 0:x.weight)||50),t.log("Treatment skip ratio: "+S),I=u||r,e.next=17,R(s+I,7);case 17:if(L=e.sent,window.localStorage.getItem(m)&&"1"===window.localStorage.getItem(m)&&(L=100),t.log("TreatmentPct: "+L),C=null,A=o,f&&(t.log("Starting sub variant rule set check for treatment: "+r),(C=k.checkSubVariantRules())?(t.log("Applying sub variant with id: ",C),A=V(o,C)):t.log("Applying treatment with default values")),!(L<S)){e.next=29;break}return t.log("Treatment ".concat(r," skipped due to treatment split ratio")),D[r]={dependant_on_treatment:u||null,subVariantId:C,actions:A},e.abrupt("return");case 29:return H(A,P),q[r]={subVariantId:C,actions:A},e.abrupt("return");case 32:t.log("Rule check failed for treatment: ",r);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(I=function(){var e=v;if(window.location.href.includes("/siparis-listesi.html")){var n=Array.from(document.querySelectorAll(".price"));if(n.push.apply(n,a(Array.from(document.querySelectorAll(".new-price")))),!n.length)return t.log("Price elements not found"),void window.localStorage.setItem(e,0);t.log("Price elements: ",n);var r=n.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);t.log("Coupon applicable total price: ",r),r>=0&&window.localStorage.setItem(e,r)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)})(),window.location.href.includes("/siparis-listesi.html")&&(L=new MutationObserver((function(){t.log("Mutation observed, calling collectCABasketPrice"),I()})),(C=document.querySelector("#checkoutForm"))&&L.observe(C,k)),e.next=39,Promise.all([w,r]);case 39:if(A=e.sent,_=o(A,2),E=_[0],P=_[1],t.log("Found treatments: ",E),t.log("Found cookie percentage: ",y),t.log("Split_ratio: ",80),t.log("cookiePct < SPLIT_RATIO",y<80),t.info("Control group ratio: ".concat(80,"%")),N=new ae({treatments:E,cookiePct:y}),(T=N.getMatchedTreatments()).length){e.next=55;break}return t.log("No treatments matched, returning without further action"),O(),u.sendLogs(n,"No treatments matched",!0),e.abrupt("return",{v:void 0});case 55:q={},D={},F={},M=ye(T),e.prev=59,M.s();case 61:if((J=M.n()).done){e.next=73;break}return B=J.value,e.prev=63,e.next=66,x(B);case 66:e.next=71;break;case 68:e.prev=68,e.t0=e.catch(63),t.log("Error executing rules",e.t0);case 71:e.next=61;break;case 73:e.next=78;break;case 75:e.prev=75,e.t1=e.catch(59),M.e(e.t1);case 78:return e.prev=78,M.f(),e.finish(78);case 81:for(t.info("Treatments applied"),O(),t.log("Applied treatments: ",q),u.updateTreatments(q,D),u.sendLogs(n),setInterval((function(){u.updateLatestChanges(q,D)}),1e3),$=function(){var e=z[G],n=F[e],r=T.filter((function(e){return n.includes(e.id)}));switch(e){case"infinite_scroll":var o=new ResizeObserver((function(){var e,n=ye(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.log("Retrying treatment ".concat(o.id," from infinite_scroll")),x(o)}}catch(e){n.e(e)}finally{n.f()}}));o.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,n=ye(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.log("Retrying treatment ".concat(o.id," from timeout")),x(o)}}catch(e){n.e(e)}finally{n.f()}}),500);break;case"element_change":var a,i=ye(r);try{var c=function(){var e,n=a.value,r=ye(Array.isArray(n.reapply_selector)?n.reapply_selector:[n.reapply_selector]);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=document.querySelector(o);i&&new MutationObserver((function(){t.log("Retrying treatment ".concat(n.id," from element_change")),x(n)})).observe(i,k)}}catch(e){r.e(e)}finally{r.f()}};for(i.s();!(a=i.n()).done;)c()}catch(e){i.e(e)}finally{i.f()}break;case"on_scroll":window.onscroll=function(){var e,n=ye(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.log("Retrying treatment ".concat(o.id," from on_scroll")),x(o)}}catch(e){n.e(e)}finally{n.f()}};break;default:t.log("Reapply event not found: ",e)}},G=0,z=Object.keys(F);G<z.length;G++)$();case 89:case"end":return e.stop()}var K,Q,W,Y,X,Z,ee,te}),e,null,[[59,75,78,81],[63,68]])}))(),"t0",6);case 6:if("object"!==e(s=t.t0)){t.next=9;break}return t.abrupt("return",s.v);case 9:t.next=16;break;case 11:t.prev=11,t.t1=t.catch(4),O(),console.warn("Nextday: ",t.t1.message),u.sendLogs(n,t.t1.message,!0);case 16:case"end":return t.stop()}}),t,null,[[4,11]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUEzQyxvQkFDQWtVLEVBQWdCdFMsSUFIUyxnQ0FPN0IsTUFDRixRQUNFckgsRUFBT0QsSUFBSSw0QkFBNkI5TCxLQWxEOUMsTUFBa0JkLE9BQU9tSCxLQUFLNmYsR0FBOUIsZUFBcUQsSUFyT3hELGtDWnNIc0MsSUFDOUJsQixFQUFZOVIsRUFBb0IrUixFQUFZQyxFQUM3QzdCLEVBQ0E4QixFQUNBdk0sR0FDQXdNLEtZM0hQLG1MQTRSRzdYLElBQ0ExQixRQUFRa2MsS0FBSyxZQUFhLEtBQUkzUCxTQUM5QnVNLEVBQVE0QyxTQUFTck8sRUFBTSxLQUFJZCxTQUFTLEdBOVJ2Qyx5REFBRCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlMaWtlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aEhvbGVzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5TGltaXQuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVJlc3QuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS91cmxDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBwbHlUcmVhdG1lbnRzL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5TW9uaXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvY291bnRlckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9lbGVtZW50Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2Z1bmN0aW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3Nlc3Npb25DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZW52Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheUFwaS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlDbGllbnRTREsvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqW2tleV07XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBJRSA4IGhhcyBhIGJyb2tlbiBPYmplY3QuZGVmaW5lUHJvcGVydHkgdGhhdCBvbmx5IHdvcmtzIG9uIERPTSBvYmplY3RzLlxuICAgIGRlZmluZSh7fSwgXCJcIik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRlZmluZSA9IGZ1bmN0aW9uKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIGRlZmluZShJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgZGVmaW5lKEdwLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoXG4gICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgdG9TdHJpbmdUYWdTeW1ib2wsXG4gICAgXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICk7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGFzeW5jSXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yXCIpO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgZGVmaW5lKEdwLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIGRlZmluZShHcCwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhISBjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiA/IG1vZHVsZS5leHBvcnRzIDoge31cbikpO1xuXG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgaW4gbW9kZXJuIGVuZ2luZXNcbiAgLy8gd2UgY2FuIGV4cGxpY2l0bHkgYWNjZXNzIGdsb2JhbFRoaXMuIEluIG9sZGVyIGVuZ2luZXMgd2UgY2FuIGVzY2FwZVxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSBcIm9iamVjdFwiKSB7XG4gICAgZ2xvYmFsVGhpcy5yZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xuICB9IGVsc2Uge1xuICAgIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG4gIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRoSG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRoSG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXlMaW1pdCBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVSZXN0IGZyb20gXCIuL25vbkl0ZXJhYmxlUmVzdC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG5cbiAgaWYgKF9pID09IG51bGwpIHJldHVybjtcbiAgdmFyIF9hcnIgPSBbXTtcbiAgdmFyIF9uID0gdHJ1ZTtcbiAgdmFyIF9kID0gZmFsc2U7XG5cbiAgdmFyIF9zLCBfZTtcblxuICB0cnkge1xuICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kID0gdHJ1ZTtcbiAgICBfZSA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aG91dEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVTcHJlYWQgZnJvbSBcIi4vbm9uSXRlcmFibGVTcHJlYWQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gIHRyeSB7XG4gICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaW5mby5kb25lKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cbiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTtcbiAgICAgIH1cblxuICAgICAgX25leHQodW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgfTtcbn0iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5leHBvcnQgY29uc3QgQ09PS0lFX05BTUUgPSBcIl9nYVwiO1xuLy8gVE9ETyByZXZlcnQgdGhlIGZvbGxvd2luZyBzdGFnaW5nIGVudiBjaGVjayBhZnRlciBtb3ZpbmcgdG8gbmV3IGJyYW5jaCBzdHJ1Y3R1cmVcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRTX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi90cmVhdG1lbnRzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBTVFlMRVNIRUVUX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi9uZC1zdHlsZXMuY3NzXCI7XG5leHBvcnQgY29uc3QgTE9HX0FQSV9VUkwgPSBcImh0dHBzOi8vZXVyb3BlLXdlc3QzLW5leHRkYXktMzRlYjMuY2xvdWRmdW5jdGlvbnMubmV0L2FwaS9sb2dSZXNwb25zZVwiO1xuZXhwb3J0IGNvbnN0IExPT0tVUF9BUElfVVJMID0gXCJodHRwczovL2NhdGFsb2ctYXBpLmFkb3JhYWkuY29tXCI7XG5leHBvcnQgY29uc3QgTU9CSUxFX01FRElBX1FVRVJZID0gXCIobWF4LXdpZHRoOiA0NDBweClcIjtcbi8vIENvbnRyb2wgZ3JvdXAgcGVyY2VudGFnZVxuZXhwb3J0IGNvbnN0IFNQTElUX1JBVElPID0gODA7XG4vLyBTa2lwcGVkIHRyZWF0bWVudCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UX1JBVElPID0gNTA7XG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19EVVJBVElPTiA9IDE7XG5cbmV4cG9ydCBjb25zdCBTRVNTSU9OX1NUT1JBR0VfS0VZUyA9IHtcbiAgU0VTU0lPTl9JRDogXCJfX25leHRkYXlfc2Vzc2lvbl9pZFwiLFxuICBTRVNTSU9OX1RJTUVTVEFNUDogXCJORF9TZXNzaW9uVGltZXN0YW1wXCIsXG4gIFRSRUFUTUVOVFM6IFwiTkRfVHJlYXRtZW50c1wiLFxuICBQQUdFX1ZJRVdTOiBcIk5EX1BhZ2VWaWV3c1wiLFxuICBQT1BVUF9ESVNQTEFZX0ZMQUc6IFwiTkRfUG9wdXBEaXNwbGF5RmxhZ1wiLFxuICBORF9TS1VfTElTVDogXCJORF9Ta3VMaXN0XCIsXG59O1xuZXhwb3J0IGNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZUyA9IHtcbiAgQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFOiBcIk5EX0NBQmFza2V0UHJpY2VcIixcbiAgTkRfREVCVUdfTU9ERTogXCJORF9EZWJ1Z1wiLFxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59IiwiaW1wb3J0IHtMT0NBTF9TVE9SQUdFX0tFWVN9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuY2xhc3MgTG9nZ2VyIHtcbiAgY29uc3RydWN0b3Iob3JpZ2luID0gXCJOZXh0ZGF5IENsaWVudCBTREtcIikge1xuICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xuICAgIHRoaXMuREVCVUcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk5EX0RFQlVHX01PREUpO1xuICB9XG5cbiAgaW5mbyguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUuaW5mbyhgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGxvZyguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoREVCVUcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIGVycm9yKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5lcnJvcihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXI7XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBEYXRhTGF5ZXIgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRGF0YUxheWVyUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gZGF0YUxheWVyRmluZGVyKG9wZXJhdG9yKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkYXRhTGF5ZXJGaW5kZXIgPSAoa2V5KSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTZWFyY2hpbmcgZGF0YUxheWVyIGZvciBrZXlcIiwga2V5KTtcbiAgZm9yIChjb25zdCBvYmogb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGlmIChrZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIGxvZ2dlci5sb2coYEZvdW5kIGtleSAke2tleX0gd2l0aCB2YWx1ZSAke29ialtrZXldfWApO1xuICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgIH1cbiAgfVxuICBsb2dnZXIubG9nKGBLZXkgJHtrZXl9IG5vdCBmb3VuZCBpbiBkYXRhTGF5ZXJgKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgVXJsIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1VybFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJwYXRoXCI6IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RVUkw9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgY29uc3QgaXNBamF4ID0gcmVxdWVzdFVSTC5pbmNsdWRlcyhcImFqYXgvbW9iaWxlLXNlYXJjaC9sb2FkT3RoZXJQYWdlcy5waHBcIik7XG4gICAgICBjb25zdCBwYXRoID0gIWlzQWpheCA/IG5ldyBVUkwocmVxdWVzdFVSTCkucGF0aG5hbWUgOlxuICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICAgIG5ldyBVUkwocmVxdWVzdFVSTCkuc2VhcmNoLnJlcGxhY2UoXCI/b3JpZ2luYWxQYXRoPVwiLCBcIlwiKSxcbiAgICAgICk7XG4gICAgICBsb2dnZXIubG9nKGBDaGVja2luZyBwYXRoICR7cGF0aH0gbWF0Y2hlcyBydWxlIHBhdGggJHt2YWx1ZX1gKTtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHBhdGgsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFNUWUxFU0hFRVRfTE9DQVRJT04sIFRSRUFUTUVOVFNfTE9DQVRJT059IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjaGVja0RhdGFMYXllclJ1bGV9IGZyb20gXCIuL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tVcmxSdWxlfSBmcm9tIFwiLi9OZXh0ZGF5UnVsZUVuZ2luZS91cmxDaGVja2VyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVdGlsc1wiKTtcblxuaWYgKCEoXCJyYW5kb21VVUlEXCIgaW4gY3J5cHRvKSkge1xuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyMy8yODAwMjE4XG4gIC8vIExJQ0VOU0U6IGh0dHBzOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS80LjAvbGVnYWxjb2RlXG4gIHtcbiAgICByYW5kb21VVUlERmFsbGJhY2soKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlRG9jdW1lbnRIaWRlID0gKCkgPT4ge1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm5leHREYXktaGlkZVwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRyZWF0bWVudHMgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnRzXCIpO1xuICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2goVFJFQVRNRU5UU19MT0NBVElPTik7XG4gIHJldHVybiBhd2FpdCB0cmVhdG1lbnRzLmpzb24oKTtcbn07XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q29va2llSWRlbnRpZmllciA9IChjb29raWVTdHJpbmcsIGNvb2tpZU5hbWUpID0+IHtcbiAgaWYgKCFjb29raWVTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZCA9IGNvb2tpZVN0cmluZ1xuICAgICAgLnNwbGl0KFwiO1wiKVxuICAgICAgLm1hcCgodikgPT4gdi5zcGxpdChcIj1cIikpXG4gICAgICAucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgaWYgKHZbMF0gJiYgdlsxXSkge1xuICAgICAgICAgIGFjY1tkZWNvZGVVUklDb21wb25lbnQodlswXS50cmltKCkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2WzFdLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcblxuICBsZXQgaWRlbnRpZmllciA9IHBhcnNlZFtjb29raWVOYW1lXTtcbiAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGNvb2tpZU5hbWUgPT09IFwiX2dhXCIpIHtcbiAgICAvLyBleHRyYWN0IHVuaXF1ZSBpZGVudGlmaWVyIGZyb20gR0EgY29va2llXG4gICAgY29uc3QgaWRlbnRpZmllckluZGV4ID0gMjtcbiAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllci5zcGxpdChcIi5cIilbaWRlbnRpZmllckluZGV4XTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcjtcbn07XG5cbmV4cG9ydCBjb25zdCBkZXRlcm1pbmVQY3QgPSBhc3luYyAoaWRlbnRpZmllciwgc3Vic3RyaW5nTGVuZ3RoID0gOCkgPT4ge1xuICBjb25zdCBzdWJzdHJpbmdTdGFydFBvc2l0aW9uID0gOTtcbiAgY29uc3Qgc3Vic3RyaW5nRW5kUG9zaXRpb24gPSBzdWJzdHJpbmdTdGFydFBvc2l0aW9uICsgc3Vic3RyaW5nTGVuZ3RoO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgLy8gZW5jb2RlIHN0cmluZyB0byBhbiBhcnJheSBvZiA4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlc1xuICBjb25zdCBlbmNvZGVkID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGlkZW50aWZpZXIpO1xuXG4gIC8vIGhhc2ggdGhlIGVuY29kZWQgY29va2llIGludG8gYSBidWZmZXJcbiAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTFcIiwgZW5jb2RlZCk7XG5cbiAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxuICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcblxuICAvLyBjb252ZXJ0IGJ5dGVzIHRvIGhleCBzdHJpbmdcbiAgY29uc3QgaGFzaFN0cmluZyA9IGhhc2hBcnJheVxuICAgICAgLm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKVxuICAgICAgLmpvaW4oXCJcIik7XG5cbiAgLy8gTWFwIHRoZSBjb29raWUgaGFzaCB0byBhIG51bWJlciBiZXR3ZWVuIDAgLT4gOTksXG4gIC8vIHRoaXMgbnVtYmVyIGlzIHRoZSBvblJhdGlvblxuICBjb25zdCBoYXNoTnVtYmVyID0gcGFyc2VJbnQoaGFzaFN0cmluZy5zdWJzdHJpbmcoc3Vic3RyaW5nU3RhcnRQb3NpdGlvbiwgc3Vic3RyaW5nRW5kUG9zaXRpb24pLCAxNik7XG5cbiAgcmV0dXJuIGhhc2hOdW1iZXIgJSAxMDA7XG59O1xuXG5leHBvcnQgY29uc3QgZXhpdFNjcm9sbExpc3RlbmVyID0gKGNhbGxCYWNrKSA9PiB7XG4gIGNvbnN0IGxvb3AgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBpZiAobGFzdFNjcm9sbFRvcCAtIDQwMCA+IHNjcm9sbFRvcCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChleGl0U2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgY2FsbEJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdFNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgbGV0IGxhc3RTY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICBjb25zdCBleGl0U2Nyb2xsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChsb29wLCA1MDApO1xufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGFwcGx5IHRyZWF0bWVudHMgdG8gdGhlIHBhZ2Ugb24gc3BlY2lmaWMgbWVkaWEgdHlwZS5cbiAqIEBwYXJhbSB7TWVkaWFRdWVyeUxpc3R9IG1lZGlhUXVlcnlDb25kaXRpb24gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA1MDBweClcIilcbiAqIEBwYXJhbSB7RE9NTm9kZUxpc3QgfSBlbGVtZW50cyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2LnByb2R1Y3RfaW5mb1wiKVxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlQ2hhbmdlc01hcCB7IFwibWFyZ2luLXRvcFwiIDogXCIxMHJlbVwifVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IHN0eWxlQXBwbGljYXRvciA9IChlbGVtZW50cywgc3R5bGVDaGFuZ2VzTWFwKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZSBjaGFuZ2VzXCIsIHN0eWxlQ2hhbmdlc01hcCwgXCJ0byBlbGVtZW50c1wiLCBlbGVtZW50cyk7XG4gIGZvciAobGV0IGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdHlsZUNoYW5nZXNNYXApKSB7XG4gICAgICBlbGVtZW50LnN0eWxlW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpbmplY3RTdHlsZVNoZWV0ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gIHN0eWxlU2hlZXQucmVsID0gXCJzdHlsZXNoZWV0XCI7XG4gIHN0eWxlU2hlZXQudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgc3R5bGVTaGVldC5ocmVmID0gU1RZTEVTSEVFVF9MT0NBVElPTjtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVNoZWV0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlQWN0aW9ucyA9IChhY3Rpb25zVG9QcmVwYXJlLCBzdWJWYXJpYW50SWQpID0+IHtcbiAgY29uc3QgYWN0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYWN0aW9uc1RvUHJlcGFyZSkpO1xuICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgY29uc3Qge3N1YlZhcmlhbnRzfSA9IGFjdGlvbjtcbiAgICBpZiAoIXN1YlZhcmlhbnRzKSBjb250aW51ZTtcbiAgICBmb3IgKGNvbnN0IHN1YlZhcmlhbnQgb2Ygc3ViVmFyaWFudHMpIHtcbiAgICAgIGlmIChzdWJWYXJpYW50LmlkID09PSBzdWJWYXJpYW50SWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc3ViVmFyaWFudCkge1xuICAgICAgICAgIGlmIChrZXkgIT09IFwiaWRcIikge1xuICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBzdWJWYXJpYW50W2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gYWN0aW9ucztcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcyA9ICgpID0+IHtcbiAgY29uc3Qge1BBR0VfVklFV1MsIFBPUFVQX0RJU1BMQVlfRkxBRywgU0VTU0lPTl9JRCwgU0VTU0lPTl9USU1FU1RBTVB9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gIGNvbnN0IHBhZ2VWaWV3cyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEFHRV9WSUVXUyk7XG4gIGNvbnN0IHBvcHVwRGlzcGxheUZsYWcgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRyk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9JRCk7XG4gIGNvbnN0IHNlc3Npb25UaW1lc3RhbXAgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QKTtcbiAgaWYgKCFwYWdlVmlld3MpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBBR0VfVklFV1MsIDEpO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEFHRV9WSUVXUywgcGFyc2VJbnQocGFnZVZpZXdzKSArIDEpO1xuICB9XG4gIGlmIChwb3B1cERpc3BsYXlGbGFnID09PSBudWxsKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDApO1xuICB9XG4gIGlmICghc2Vzc2lvbklkKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0lELCBjcnlwdG8ucmFuZG9tVVVJRCgpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25UaW1lc3RhbXApIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QLCBEYXRlLm5vdygpKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbkNoZWNrZXIgPSAocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGlmIChjb25kaXRpb24gPT09IFwibm90RXhpc3RcIikge1xuICAgIGlmICghcnVuVGltZVZhbHVlKSB7XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChydW5UaW1lVmFsdWUgPT09IG51bGwgfHxcbiAgICBydW5UaW1lVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gbnVsbCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IHJ1blRpbWVWYWx1ZSBvciBjb25kaXRpb24gaXMgbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN3aXRjaCAoY29uZGl0aW9uKSB7XG4gICAgY2FzZSBcImV4aXN0XCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBleGlzdFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiY29udGFpbnNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90Q29udGFpbnNcIjpcbiAgICAgIGlmICghcnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGNvbnRhaW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGVxdWFscyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90RXF1YWxcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBsZXNzIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZ3JlYXRlckVxdWFsc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDw9IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImJldHdlZW5cIjoge1xuICAgICAgbGV0IFttaW4sIG1heF0gPSB2YWx1ZS5zcGxpdChcIixcIik7XG4gICAgICBtaW4gPSBwYXJzZUludChtaW4pO1xuICAgICAgbWF4ID0gcGFyc2VJbnQobWF4KTtcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gbWluICYmIHJ1blRpbWVWYWx1ZSA8PSBtYXgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IGNvbmRpdGlvbiBpcyBub3QgZGVmaW5lZCBcIiwgY29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJhbmRvbVVVSURGYWxsYmFjayA9ICgpID0+IHtcbiAgY3J5cHRvLnJhbmRvbVVVSUQgPSBmdW5jdGlvbiByYW5kb21VVUlEKCkge1xuICAgIHJldHVybiAoXG4gICAgICBbMWU3XSstMWUzKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZyxcbiAgICAgICAgKGMpID0+IChjIF4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiBjIC8gNCkudG9TdHJpbmcoMTYpLFxuICAgICk7XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgY29tcGFyZU9iamVjdHMgPSAob2JqMSwgb2JqMikgPT4ge1xuICBpZiAob2JqMSA9PT0gb2JqMikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKFxuICAgIHR5cGVvZiBvYmoxICE9PSBcIm9iamVjdFwiIHx8XG4gICAgICB0eXBlb2Ygb2JqMiAhPT0gXCJvYmplY3RcIiB8fFxuICAgICAgb2JqMSA9PSBudWxsIHx8XG4gICAgICBvYmoyID09IG51bGxcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qga2V5c0EgPSBPYmplY3Qua2V5cyhvYmoxKTtcbiAgY29uc3Qga2V5c0IgPSBPYmplY3Qua2V5cyhvYmoyKTtcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgcmVzdWx0ID0gdHJ1ZTtcblxuICBrZXlzQS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAoIWtleXNCLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBvYmoxW2tleV0gPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICAgIHR5cGVvZiBvYmoyW2tleV0gPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgaWYgKG9iajFba2V5XS50b1N0cmluZygpICE9PSBvYmoyW2tleV0udG9TdHJpbmcoKSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWNvbXBhcmVPYmplY3RzKG9iajFba2V5XSwgb2JqMltrZXldKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgbXMpKTtcblxuLy8gQ29sbGVjdCBwcm9kdWN0IFNLVXMgZnJvbSBwYWdlXG5leHBvcnQgY29uc3Qgc2t1Q29sbGVjdG9yID0gKCkgPT4ge1xuICBjb25zdCB7TkRfU0tVX0xJU1R9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gIGNvbnN0IHNrdUxpc3QgPSBbXTtcblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGhvbWUgcGFnZVxuICBjb25zdCBydWxlID0ge1xuICAgIG9wZXJhdG9yOiBcIlBhZ2VUeXBlXCIsXG4gICAgY29uZGl0aW9uOiBcImVxdWFsXCIsXG4gICAgdmFsdWU6IFwiSG9tZXBhZ2VcIixcbiAgfTtcbiAgaWYgKGNoZWNrRGF0YUxheWVyUnVsZShydWxlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBsaXN0aW5nIHBhZ2VcbiAgcnVsZS52YWx1ZSA9IFwiTGlzdGluZ3BhZ2VcIjtcbiAgaWYgKGNoZWNrRGF0YUxheWVyUnVsZShydWxlKSkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtY2FyZFwiKSk7XG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgc2t1TGlzdC5wdXNoKGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXNrdVwiKSk7XG4gICAgfSk7XG4gICAgaWYgKCFza3VMaXN0Lmxlbmd0aCkge1xuICAgICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgU0tVcyBub3QgZm91bmQgb24gTGlzdGluZ3BhZ2VcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShORF9TS1VfTElTVCwgSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCkpO1xuXG4gICAgcmV0dXJuIHNrdUxpc3Q7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIHByb2R1Y3QgcGFnZVxuICBydWxlLnZhbHVlID0gXCJQcm9kdWN0cGFnZVwiO1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC1za3VcIik7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1Ugbm90IGZvdW5kIG9uIFByb2R1Y3RwYWdlXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNrdUxpc3QucHVzaChlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc2t1XCIpKTtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNULCBKU09OLnN0cmluZ2lmeShza3VMaXN0KSk7XG5cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgYmFza2V0IHBhZ2VcbiAgcnVsZS5vcGVyYXRvciA9IFwicGF0aFwiO1xuICBydWxlLnZhbHVlID0gXCIvc2lwYXJpcy1saXN0ZXNpLmh0bWxcIjtcbiAgaWYgKGNoZWNrVXJsUnVsZShydWxlKSkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcnQtaW5zaWRlXCIpKTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBza3VMaXN0LnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNrdVwiKSk7XG4gICAgfSk7XG4gICAgaWYgKCFza3VMaXN0Lmxlbmd0aCkge1xuICAgICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgU0tVcyBub3QgZm91bmQgb24gYmFza2V0IHBhZ2VcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShORF9TS1VfTElTVCwgSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCkpO1xuXG4gICAgcmV0dXJuIHNrdUxpc3Q7XG4gIH1cblxuICBsb2dnZXIubG9nKFwiVW5pZGVudGlmaWVkIHBhZ2UgdHlwZVwiKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBSZXR1cm4gc2VsZWN0b3IgZm9yIGEgZ2l2ZW4gZWxlbWVudFxuLy8gcmVmOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNjYyOTE2MDgvOTEzODY1MVxuZXhwb3J0IGNvbnN0IGdldFNlbGVjdG9yID0gKGVsbSkgPT4ge1xuICBpZiAoZWxtLnRhZ05hbWUgPT09IFwiQk9EWVwiKSByZXR1cm4gXCJCT0RZXCI7XG4gIGNvbnN0IG5hbWVzID0gW107XG4gIHdoaWxlIChlbG0ucGFyZW50RWxlbWVudCAmJiBlbG0udGFnTmFtZSAhPT0gXCJCT0RZXCIpIHtcbiAgICBpZiAoZWxtLmlkKSB7XG4gICAgICBuYW1lcy51bnNoaWZ0KFwiI1wiICsgZWxtLmdldEF0dHJpYnV0ZShcImlkXCIpKTtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgYyA9IDE7IGxldCBlID0gZWxtO1xuICAgICAgZm9yICg7IGUucHJldmlvdXNFbGVtZW50U2libGluZzsgZSA9IGUucHJldmlvdXNFbGVtZW50U2libGluZywgYysrKSA7XG4gICAgICBuYW1lcy51bnNoaWZ0KGVsbS50YWdOYW1lICsgXCI6bnRoLWNoaWxkKFwiICsgYyArIFwiKVwiKTtcbiAgICB9XG4gICAgZWxtID0gZWxtLnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIG5hbWVzLmpvaW4oXCI+XCIpO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCB7ZXhpdFNjcm9sbExpc3RlbmVyLCBzdHlsZUFwcGxpY2F0b3IsIGRlbGF5fSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TU9CSUxFX01FRElBX1FVRVJZLCBTRVNTSU9OX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtkYXRhTGF5ZXJGaW5kZXJ9IGZyb20gXCIuLi9OZXh0ZGF5UnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuYXN5bmMgZnVuY3Rpb24gYXBwbHlUcmVhdG1lbnRzKHRyZWF0bWVudHMsIHByb2R1Y3RJbmZvLCBvYnNlcnZlciA9IGZhbHNlKSB7XG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEFwcGx5IFRyZWF0bWVudHNcIik7XG4gIGNvbnN0IHtQT1BVUF9ESVNQTEFZX0ZMQUd9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG5cbiAgY29uc3QgdHJhbnNmb3JtZXIgPSBmdW5jdGlvbiB0cmFuc2Zvcm1lcih0cmVhdG1lbnQpIHtcbiAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgdHJlYXRtZW50OiBcIiwgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50KSk7XG4gICAgY29uc3Qge1xuICAgICAgb3BlcmF0b3IsXG4gICAgICB0eXBlLFxuICAgICAgYXBwbHlFdmVudCxcbiAgICAgIGNvbnRlbnRTZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3JGYWxsYmFjayxcbiAgICAgIG1kQ29uZGl0aW9uLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8xLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8yLFxuICAgICAgcmVwbGFjZUZuLFxuICAgIH0gPSB0cmVhdG1lbnQ7XG4gICAgbGV0IHt2YWx1ZX0gPSB0cmVhdG1lbnQ7XG4gICAgbGV0IGVsZW1lbnQgPSAkKHNlbGVjdG9yKTtcblxuICAgIGNvbnN0IG1jID0gbWRDb25kaXRpb24gPyB3aW5kb3cubWF0Y2hNZWRpYShtZENvbmRpdGlvbikubWF0Y2hlcyA6IHRydWU7XG4gICAgaWYgKCFtYykge1xuICAgICAgbG9nZ2VyLmxvZyhcIk1lZGlhIGNvbmRpdGlvbiBtaXNtYXRjaDogXCIsIG1kQ29uZGl0aW9uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMSAmJiAhbW92ZV9zZWxlY3Rvcl8yKSB8fFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMiAmJiAhbW92ZV9zZWxlY3Rvcl8xKVxuICAgICkge1xuICAgICAgbG9nZ2VyLmxvZyhcIkJvdGggbW92ZSBzZWxlY3RvcnMgYXJlIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobW92ZV9zZWxlY3Rvcl8xICYmIG1vdmVfc2VsZWN0b3JfMikge1xuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMSkubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJNb3ZlIHNlbGVjdG9yIDEgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMikubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJNb3ZlIHNlbGVjdG9yIDIgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IHNwZWNpZmllZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICBpZiAoc2VsZWN0b3IgIT09IFwibm8tc2VsZWN0b3JcIikge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3QgZm91bmQ6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlRyeWluZyBmYWxsYmFjayBzZWxlY3RvcjogXCIsIHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmIChzZWxlY3RvckZhbGxiYWNrKSBlbGVtZW50ID0gJChzZWxlY3RvckZhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiRmFsbGJhY2sgc2VsZWN0b3Igbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlcGxhY2VGbkV4ZWN1dG9yID0gKHJlcGxhY2VGbiwgdmFsdWUpID0+IHtcbiAgICAgIGlmIChyZXBsYWNlRm4gJiYgdmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiRXhlY3V0aW5nIHJlcGxhY2UgZnVuY3Rpb246IFwiLCByZXBsYWNlRm4pO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICAgIGRhdGFMYXllckZpbmRlcixcbiAgICAgICAgICBwcm9kdWN0SW5mbyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVwbGFjZUZ1bmN0aW9uID0gRnVuY3Rpb24ocmVwbGFjZUZuKS5iaW5kKGNvbnRleHQpO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2VBbGwoXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlRnVuY3Rpb24oKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaCgodmFsLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZXBsYWNlRm4gPSByZXBsYWNlRm4gPyByZXBsYWNlRm5baV0gfHwgcmVwbGFjZUZuIDogXCJcIjtcbiAgICAgICAgdmFsdWVbaV0gPSByZXBsYWNlRm5FeGVjdXRvcihjdXJyZW50UmVwbGFjZUZuLCB2YWwpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gcmVwbGFjZUZuRXhlY3V0b3IocmVwbGFjZUZuLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKG9wZXJhdG9yID09PSBcInJlbW92ZVwiKSB7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVtb3Zpbmc6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiQ2Fubm90IGZvdW5kIGVsZW1lbnQgd2l0aCBzZWxlY3RvcjogXCIsIHNlbGVjdG9yKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImluc2VydFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJlZm9yZVwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbnNlcnRpbmcgYmVmb3JlOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGlmIChTdHJpbmcodmFsdWUpLmluY2x1ZGVzKFwibmQtYWRkLXRvLXdpblwiKSkge1xuICAgICAgICAgICAgJChcIi5uZC1hZGQtdG8td2luXCIpLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50LmJlZm9yZSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhZnRlclwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbnNlcnRpbmcgYWZ0ZXI6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5hZnRlcih2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3B1cFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRykpICE9PSAwKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJQb3B1cCBhbHJlYWR5IGRpc3BsYXllZCBpbiBzZXNzaW9uXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDcmVhdGluZyBQb3B1cDogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNyZWF0ZVBvcHVwKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBjb25zdCBtb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJleGl0SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgZXhpdCBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBleGl0U2Nyb2xsTGlzdGVuZXIoZGlzcGxheVBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtb3VzZWxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAge29uY2U6IHRydWV9LFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY29weUludGVudFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQWRkaW5nIGNvcHkgaW50ZW50IGxpc3RlbmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29weVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwLFxuICAgICAgICAgICAgICAgICAgICAgICAge29uY2U6IHRydWV9LFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGFwcGVuZCBwb3B1cCB0byBib2R5IGFmdGVyIHRpbWVvdXQgZXhwaXJlc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiZWRpdFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiRWRpdGluZyB0ZXh0OiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHlsZUFwcGxpY2F0b3JcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVDaGFuZ2VzTWFwID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiU3R5bGUgQ2hhbmdlcyBNYXA6IFwiLCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgICAgc3R5bGVBcHBsaWNhdG9yKGVsZW1lbnRzLCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZENsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgYWRkZGluZyBjbGFzcyB0byAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZW1vdmVDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYHJlbW92ZSBjbGFzcyBmcm9tICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRvY3VtZW50VGl0bGVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBjaGFuZ2luZyBkb2N1bWVudCB0aXRsZSBmcm9tICR7ZWxlbWVudH0gdG8gJHt2YWx1ZX1gKTtcbiAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmIChldmVudCA9PSBcInRhYkNoYW5nZVwiKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcImNhdGNoaW5nIGV2ZW50IHRhYmNoYW5nZS4uXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGl0bGUgPSBkb2N1bWVudC50aXRsZTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoZSkgPT5cbiAgICAgICAgICAgICAgICAgIGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UoZSwgdmFsdWUsIG9yaWdpbmFsVGl0bGUpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZEJhbm5lclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHtORF9TS1VfTElTVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgICAgICAgICAgIGlmICghcHJvZHVjdEluZm8pIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyB1bmF2YWlsYWJsZVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQWRkaW5nIGJhbm5lcjogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRTa3UgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJORF9Ta3VMaXN0XCIpKVswXTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudFNrdSkge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQ291bGQgbm90IGZpbmQgcHJvZHVjdCBza3VcIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwcm9kdWN0SW5mbykuaW5jbHVkZXMoZWxlbWVudFNrdSkgJiZcbiAgICAgICAgICAgICAgcHJvZHVjdEluZm9bZWxlbWVudFNrdV0uY2F0YWxvZy5tb3N0Vmlld2VkTGV2ZWwgPCAxMFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlVua25vd24gZWRpdCB0eXBlOiBcIiwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzZXRhdHRyaWJ1dGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgYXR0cmlidXRlOiBcIiwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGF0dHJpYnV0ZSkge1xuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgZWxlbWVudC5jc3MoXCJjb250ZW50XCIsIGB1cmwoJHt2YWx1ZS50cmltKCl9KWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhwcm9wZXJ0eSwgcHJvcGVydHlWYWx1ZSwgXCIhaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nOiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5yZXBsYWNlQWxsKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInN3YXBcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlN3YXBwaW5nOiBcIiwgbW92ZV9zZWxlY3Rvcl8xLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgY29uc3QgbjEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBuMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIHN3YXBOb2RlcyhuMSwgbjIpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5qZWN0c2NyaXB0XCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbmplY3Rpbmcgc2NyaXB0OiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5hcHBlbmQoYDxzY3JpcHQ+JHt2YWx1ZX08L3NjcmlwdD5gKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIm1vdmVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhgTW92aW5nICR7bW92ZV9zZWxlY3Rvcl8xfSB0byAke21vdmVfc2VsZWN0b3JfMn1gKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc291cmNlLnJlbW92ZSgpO1xuICAgICAgZGVzdGluYXRpb24ucHJlcGVuZChzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwibm9vcFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm9vcCBPcGVyYXRvcjogTm8gb3BlcmF0aW9uIGlzIGFwcGxpZWQgb24gdGFyZ2V0IFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggb3BlcmF0b3IgZXhpc3RzIHlldFwiLCBvcGVyYXRvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UgPSBhc3luYyAoZXZlbnQsIHRpdGxlcywgb3JpZ2luYWxUaXRsZSkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZFRpdGxlcyA9ICFBcnJheS5pc0FycmF5KHRpdGxlcykgPyBbdGl0bGVzXSA6IHRpdGxlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnNlZFRpdGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHBhcnNlZFRpdGxlc1tpXTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMzAwMCk7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMzAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UoZXZlbnQsIHRpdGxlcywgb3JpZ2luYWxUaXRsZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvcHVwQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBpZCA9IGV2ZW50LnRhcmdldC5pZDtcbiAgICBpZiAoaWQgJiYgaWQgPT09IFwibmQtcG9wdXBfX3dyYXBwZXJcIikge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXlQb3B1cCA9ICgpID0+IHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRywgMSk7XG4gICAgY29uc3QgcVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNncnQtc2hhZG93LWhvc3RcIik7XG4gICAgaWYgKHFQb3B1cCkgcVBvcHVwLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmQtcG9wdXBfX3dyYXBwZXJcIikuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJibG9ja1wiO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG5cbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29weVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH0sIDE1MDAwKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVQb3B1cCA9ICh2YWx1ZSwgY29udGVudFNlbGVjdG9yKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHBvcHVwIHdyYXBwZXJcbiAgICBjb25zdCBwb3B1cFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgcG9wdXBXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKTtcbiAgICBwb3B1cFdyYXBwZXIuaWQgPSBcIm5kLXBvcHVwX193cmFwcGVyXCI7XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibmQtcG9wdXBfX2J1dHRvbi1jbG9zZVwiKTtcbiAgICBwb3B1cENsb3NlQnV0dG9uLmlubmVyVGV4dCA9IFwiWFwiO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH07XG5cbiAgICBpZiAoY29udGVudFNlbGVjdG9yKSB7XG4gICAgICBjb25zdCBjb250ZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb250ZW50U2VsZWN0b3IpKTtcbiAgICAgIHdoaWxlICh2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpICYmIGNvbnRlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwie3tSRVBMQUNFfX1cIiwgY29udGVudHMuc2hpZnQoKS5zcmMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBwb3B1cCBmcm9tIHRyZWF0bWVudCBhbmQgYXBwZW5kIGNsb3NlIGJ1dHRvblxuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlLnRyaW0oKTtcbiAgICBjb25zdCBwb3B1cCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICBwb3B1cC5hcHBlbmRDaGlsZChwb3B1cENsb3NlQnV0dG9uKTtcbiAgICBwb3B1cFdyYXBwZXIuYXBwZW5kQ2hpbGQocG9wdXApO1xuXG4gICAgLy8gUmVtb3ZlIG9sZCBwb3B1cCBpZiBleGlzdHMgYmVmb3JlIGFwcGVuZGluZyBuZXcgb25lXG4gICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBvcHVwV3JhcHBlcik7XG4gIH07XG5cbiAgY29uc3Qgc3dhcE5vZGVzID0gZnVuY3Rpb24gc3dhcE5vZGVzKG4xLCBuMikge1xuICAgIGNvbnN0IHAxID0gbjEucGFyZW50Tm9kZTtcbiAgICBjb25zdCBwMiA9IG4yLnBhcmVudE5vZGU7XG4gICAgbGV0IGkxO1xuICAgIGxldCBpMjtcblxuICAgIGlmICghcDEgfHwgIXAyIHx8IHAxLmlzRXF1YWxOb2RlKG4yKSB8fCBwMi5pc0VxdWFsTm9kZShuMSkpIHJldHVybjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMS5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMSkpIHtcbiAgICAgICAgaTEgPSBpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAyLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocDIuY2hpbGRyZW5baV0uaXNFcXVhbE5vZGUobjIpKSB7XG4gICAgICAgIGkyID0gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocDEuaXNFcXVhbE5vZGUocDIpICYmIGkxIDwgaTIpIHtcbiAgICAgIGkyKys7XG4gICAgfVxuICAgIHAxLmluc2VydEJlZm9yZShuMiwgcDEuY2hpbGRyZW5baTFdKTtcbiAgICBwMi5pbnNlcnRCZWZvcmUobjEsIHAyLmNoaWxkcmVuW2kyXSk7XG4gIH07XG5cbiAgY29uc3QgdHJlYXRtZW50QXBwbGljYXRvciA9ICh0cmVhdG1lbnRMaXN0KSA9PiB7XG4gICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB0cmVhdG1lbnRBcHBsaWNhdG9yKHRyZWF0bWVudExpc3QpO1xuICAgICAgfSwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiB0cmVhdG1lbnRMaXN0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdHJhbnNmb3JtZXIodHJlYXRtZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcbiAgICAgICAgICAgICAgYENvdWxkbid0IGFwcGx5IHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gd2l0aCBlcnJvciAke2Vyci5tZXNzYWdlfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBTZXQgaWQgb2YgZmFpbGVkIHRyZWF0bWVudCB0byAtMSxcbiAgICAgICAgICAvLyBzbyB3ZSBrbm93IG5vdCB0byBsaXN0IGluIHRoZSBjdXN0b20gR0EgZXZlbnRcbiAgICAgICAgICAvLyB0cmVhdG1lbnRMaXN0W3RyZWF0bWVudF0uaWQgPSAtMTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBBcHBseSB0cmVhdG1lbnRzXG4gIHRyZWF0bWVudEFwcGxpY2F0b3IodHJlYXRtZW50cyk7XG59XG5leHBvcnQgZGVmYXVsdCBhcHBseVRyZWF0bWVudHM7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn0iLCJpbXBvcnQge0xPQ0FMX1NUT1JBR0VfS0VZUywgTE9HX0FQSV9VUkwsIFNFU1NJT05fU1RPUkFHRV9LRVlTLCBTUExJVF9SQVRJT30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjb21wYXJlT2JqZWN0cywgZXh0cmFjdENvb2tpZUlkZW50aWZpZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBNb25pdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBNb25pdG9yXCIpO1xuICAgIHRoaXMubG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBtb25pdG9yXCIpO1xuXG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50SWRzID0gbnVsbDtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMgPSBudWxsO1xuICAgIHRoaXMubGF0ZXN0Q2hhbmdlcyA9IG51bGw7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzID0gbnVsbDtcbiAgICB0aGlzLnNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9JRCk7XG4gICAgdGhpcy52aWV3SWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIHRoaXMuaGVhZGVycyA9IHtcbiAgICAgIHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgdGhpcy5sb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIHdpdGggc2Vzc2lvbiBpZDogXCIgKyB0aGlzLnNlc3Npb25JZCk7XG4gICAgdGhpcy5kZWJ1Z01vZGUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk5EX0RFQlVHX01PREUpID8gXCJvblwiIDogXCJvZmZcIjtcbiAgICB0aGlzLmluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcigpO1xuXG4gICAgdGhpcy5pc0xvZ2dlZCA9IGZhbHNlO1xuICB9XG5cbiAgdXBkYXRlVHJlYXRtZW50cyhhcHBsaWVkVHJlYXRtZW50SWRzLCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzKSB7XG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50SWRzID0gYXBwbGllZFRyZWF0bWVudElkcztcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMgPSBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzO1xuICB9XG5cbiAgYXN5bmMgc2VuZExvZ3MoaXNPbiwgbWVzc2FnZSA9IG51bGwsIGVtcHR5ID0gZmFsc2UpIHtcbiAgICBjb25zdCB7bG9nZ2VyfSA9IHRoaXM7XG4gICAgbG9nZ2VyLmxvZyhcIlNlbmRpbmcgbG9nc1wiKTtcblxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJEb2N1bWVudCByZWFkeSBzdGF0ZSBpcyBub3QgY29tcGxldGVcIik7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJJbiBiZWZvcmV1bmxvYWQgZXZlbnRcIik7XG4gICAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoaXNPbiwgbWVzc2FnZSwgZW1wdHkpKTtcbiAgICAgIH0sIHRydWUpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCAoKSA9PiB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJJbiBvbnBhZ2VoaWRlIGV2ZW50XCIpO1xuICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKGlzT24sIG1lc3NhZ2UsIGVtcHR5KSk7XG4gICAgICB9LCB0cnVlKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJJbiBvbmxvYWQgZXZlbnRcIik7XG4gICAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoaXNPbiwgbWVzc2FnZSwgZW1wdHkpKTtcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKGlzT24sIG1lc3NhZ2UsIGVtcHR5KSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUXVldWVMb2dzKHJlcXVlc3RCbG9iKSB7XG4gICAgaWYgKHRoaXMuaXNMb2dnZWQpIHJldHVybjtcbiAgICBjb25zdCB7bG9nZ2VyfSA9IHRoaXM7XG5cbiAgICBpZiAoIXJlcXVlc3RCbG9iKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQ291bGQgbm90IGNyZWF0ZSByZXF1ZXN0IGJsb2JcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJSZXF1ZXN0IGJsb2IgdG8gc2VuZDogXCIsIHJlcXVlc3RCbG9iKTtcbiAgICB0aGlzLnF1ZXVlTG9ncyhyZXF1ZXN0QmxvYik7XG5cbiAgICB0aGlzLmlzTG9nZ2VkID0gdHJ1ZTtcbiAgfVxuXG4gIHVwZGF0ZUxhdGVzdENoYW5nZXMoY2hhbmdlcywgZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcykge1xuICAgIGNvbnN0IHthcHBsaWVkVHJlYXRtZW50SWRzLCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzLCBsb2dnZXJ9ID0gdGhpcztcbiAgICBsb2dnZXIubG9nKFwiVXBkYXRpbmcgbGF0ZXN0IGNoYW5nZXNcIik7XG5cbiAgICBsZXQgY29tcGFyZVRvID0gdGhpcy5sYXRlc3RDaGFuZ2VzIHx8IGFwcGxpZWRUcmVhdG1lbnRJZHM7XG4gICAgaWYgKCFjb21wYXJlT2JqZWN0cyhjb21wYXJlVG8sIGNoYW5nZXMpKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQ2hhbmdlcyBkZXRlY3RlZFwiKTtcbiAgICAgIGxvZ2dlci5sb2coXCJDaGFuZ2VzOiBcIiwgY2hhbmdlcyk7XG4gICAgICB0aGlzLmxhdGVzdENoYW5nZXMgPSBjaGFuZ2VzO1xuICAgIH1cblxuICAgIGNvbXBhcmVUbyA9IHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcyB8fCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzO1xuICAgIGlmICghY29tcGFyZU9iamVjdHMoY29tcGFyZVRvLCBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzKSkge1xuICAgICAgbG9nZ2VyLmxvZyhcIkNoYW5nZXMgZGV0ZWN0ZWRcIik7XG4gICAgICBsb2dnZXIubG9nKFwiQ2hhbmdlczogXCIsIGNoYW5nZXMpO1xuICAgICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzID0gZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcztcbiAgICB9XG4gIH1cblxuICBwYWNrYWdlTG9nRGF0YShpc09uLCBtZXNzYWdlLCBlbXB0eSkge1xuICAgIGNvbnN0IHthcHBsaWVkVHJlYXRtZW50SWRzLFxuICAgICAgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyxcbiAgICAgIGRlYnVnTW9kZSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICB2aWV3SWR9ID0gdGhpcztcbiAgICBjb25zdCBtID0gbWVzc2FnZSA/IG1lc3NhZ2UgOiBPYmplY3Qua2V5cyhhcHBsaWVkVHJlYXRtZW50SWRzKS5sZW5ndGggPyBcIlRyZWF0bWVudHMgYXBwbGllZFwiIDpcbiAgICAgIFwiTm8gdHJlYXRtZW50cyBhcHBsaWVkXCI7XG4gICAgY29uc3QgYm9keSA9IHRoaXMucHJlcGFyZUxvZ0JvZHkoKTtcbiAgICBib2R5LnZJZCA9IGVtcHR5ID8gbnVsbCA6IHZpZXdJZDtcbiAgICBib2R5Lm0gPSBtO1xuICAgIGJvZHkuZGJtID0gZGVidWdNb2RlO1xuICAgIGJvZHkuaXNPbiA9IGlzT247XG4gICAgYm9keS5hID0gZW1wdHkgPyB7fSA6IGFwcGxpZWRUcmVhdG1lbnRJZHM7XG4gICAgYm9keS5lID0gZW1wdHkgPyB7fSA6IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHM7XG5cbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBwYWNrYWdlVXBkYXRlTG9nRGF0YSgpIHtcbiAgICBjb25zdCB7aGVhZGVycywgZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcywgbGF0ZXN0Q2hhbmdlcywgdmlld0lkfSA9IHRoaXM7XG4gICAgaWYgKCFsYXRlc3RDaGFuZ2VzICYmICFlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIHQ6IERhdGUubm93KCksXG4gICAgICBhOiBsYXRlc3RDaGFuZ2VzID8gbGF0ZXN0Q2hhbmdlcyA6IHt9LFxuICAgICAgZTogZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcyA/IGVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMgOiB7fSxcbiAgICAgIHZJZDogdmlld0lkLFxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShib2R5KV0sIGhlYWRlcnMpO1xuICB9XG5cbiAgcHJlcGFyZUxvZ0JvZHkoKSB7XG4gICAgY29uc3QgY3VycmVudFVSTCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgIGxldCBnYU9iamVjdHMgPSB7fTtcblxuICAgIGZvciAoY29uc3QgZ2FETEVsZW1lbnQgb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgICAgZ2FPYmplY3RzID0gey4uLmdhT2JqZWN0cywgLi4uZ2FETEVsZW1lbnR9O1xuICAgIH1cblxuICAgIGNvbnN0IHZpc2lsYWJzY2sgPSBKU09OLnBhcnNlKGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJWTF9DTV8wXCIpKTtcblxuICAgIGNvbnN0IHZsT2JqZWN0cyA9IHt9O1xuXG4gICAgaWYgKHZpc2lsYWJzY2sgJiYgdmlzaWxhYnNjay5JdGVtcykge1xuICAgICAgZm9yIChjb25zdCB2bEVsZW1lbnQgb2YgdmlzaWxhYnNjay5JdGVtcykge1xuICAgICAgICB2bE9iamVjdHNbdmxFbGVtZW50LktdID0gZGVjb2RlVVJJQ29tcG9uZW50KHZsRWxlbWVudC5WKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBuZERhdGEgPSB7fTtcblxuICAgIC8qIFZJU0lMQUJTICovXG5cbiAgICBuZERhdGEuY29va2llVkxJc05ldyA9IHZsT2JqZWN0cy5PTV9JTlc7XG4gICAgbmREYXRhLmNvb2tpZVZMUFZpblZpc2l0ID0gdmxPYmplY3RzLlZMX1BWQ291bnRJblZpc2l0O1xuICAgIG5kRGF0YS5jb29raWVWTFZpc2l0RHVyYXRpb24gPSB2bE9iamVjdHMuVkxfVG90YWxEdXJhdGlvbjtcbiAgICBuZERhdGEuY29va2llVkxUb3RhbFBWID0gdmxPYmplY3RzLlZMX1RvdGFsUFY7XG4gICAgbmREYXRhLmNvb2tpZVZMVG90YWxWaXNpdCA9IHZsT2JqZWN0cy5WTF9Ub3RhbFZpc2l0O1xuXG4gICAgLyogR0EgKi9cblxuICAgIG5kRGF0YS5nYVBhZ2VUeXBlID0gZ2FPYmplY3RzLlBhZ2VUeXBlO1xuICAgIG5kRGF0YS5nYVByb2R1Y3ROYW1lID0gZ2FPYmplY3RzLmNvbnRlbnRfbmFtZTtcbiAgICBuZERhdGEuZ2FWaWV3VHlwZSA9IGdhT2JqZWN0cy5jb250ZW50X3R5cGU7XG4gICAgbmREYXRhLmdhUHJvZHVjdENhdGVnb3J5ID0gZ2FPYmplY3RzLmNvbnRlbnRfY2F0ZWdvcnk7XG4gICAgbmREYXRhLmdhUHJvZHVjdElEID0gZ2FPYmplY3RzLmNvbnRlbnRfaWRzO1xuICAgIG5kRGF0YS52dnNQcm9kdWN0Q2F0ZWdvcnkgPSBnYU9iamVjdHMudml2ZW5zZV9jYXRlZ29yeTtcbiAgICBuZERhdGEuZ2FMaXN0aW5nTmFtZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLmRldGFpbC5hY3Rpb25GaWVsZC5saXN0O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEudnZzSXNTaG93cm9vbSA9IGdhT2JqZWN0cy5pc0FkbWluO1xuICAgIG5kRGF0YS52dnNQcm9kdWN0R3JvdXAgPSBnYU9iamVjdHMucHJvZHVjdEdyb3VwO1xuICAgIG5kRGF0YS52dnNVc2VyRW1haWwgPSBnYU9iamVjdHMudXNlckVtYWlsO1xuICAgIG5kRGF0YS52dnNVc2VySWQgPSBnYU9iamVjdHMudXNlcklkO1xuICAgIG5kRGF0YS52dnNDYXRlZ29yeSA9IGdhT2JqZWN0cy52aXZlbnNlX2NhdGVnb3J5O1xuICAgIG5kRGF0YS5nYUFjdGlvbiA9IGdhT2JqZWN0cy5BY3Rpb247XG4gICAgbmREYXRhLmdhQWN0aW9uTGFiZWwgPSBnYU9iamVjdHMuTGFiZWw7XG4gICAgbmREYXRhLmdhQ2F0ZWdvcnlQcm9kdWN0Q29udCA9IGdhT2JqZWN0cy5jYXRlZ29yeV9wcm9kdWN0X2NvdW50O1xuICAgIG5kRGF0YS5nYUFjdGlvblN0ZXAgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5jaGVja291dC5hY3Rpb25GaWVsZC5zdGVwO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FBY3Rpb25Vc2VyID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UuY2hlY2tvdXQuYWN0aW9uRmllbGQuZGltZW5zaW9uMTQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpIHx8IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmRpbWVuc2lvbjE0O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FDYXJ0UHJvZHVjdHMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5jaGVja291dC5wcm9kdWN0cztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCkgfHwgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UucHJvZHVjdHM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS52dnNQRFBQcm9kdWN0ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy52aXZlbnNlUHJvZHVjdHNbMF07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS5nYVB1cmNoYXNlSWQgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5pZDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLmdhUHVyY2hhc2VBZmZpbGlhdGlvbiA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmFmZmlsaWF0aW9uO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZUNvdXBvbiA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmNvdXBvbjtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLmdhUHVyY2hhc2VSZXZlbnVlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQucmV2ZW51ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLmdhUHVyY2hhc2VTaGlwcGluZyA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLnNoaXBwaW5nO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZVRheCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLnRheDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLmdhUHVyY2hhc2VQYXlUeXBlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuZGltZW5zaW9uMTU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgLyogd2luZG93ICovXG4gICAgbmREYXRhLndpbmRvd1BhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgbmREYXRhLndpbmRvd1NjcmVlbiA9IHdpbmRvdy5zY3JlZW47XG4gICAgbmREYXRhLndpbmRvd1ZQb3J0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0O1xuICAgIG5kRGF0YS53aW5kb3dQUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcblxuICAgIC8qIG5hdmlnYXRvciAqL1xuICAgIG5kRGF0YS5uYXZBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgbmREYXRhLm5hdkhXQ29yZXMgPSBuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeTtcbiAgICBuZERhdGEubmF2TGFuZ3VhZ2UgPSBuYXZpZ2F0b3IubGFuZ3VhZ2U7XG4gICAgbmREYXRhLm5hdlRvdWNoID0gbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzO1xuICAgIG5kRGF0YS5uYXZQbGF0Zm9ybSA9IG5hdmlnYXRvci5wbGF0Zm9ybTtcbiAgICBuZERhdGEubmF2VmVuZG9yID0gbmF2aWdhdG9yLnZlbmRvcjtcblxuICAgIC8qIHBlcnNvbmFDbGljayAqL1xuICAgIG5kRGF0YS5wQ2xpY2tTZWdtZW50ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicGVyc29uYUNsaWNrX3NlZ21lbnRcIik7XG5cbiAgICAvKiBjb29raWVzICovXG4gICAgbmREYXRhLmNvb2tpZUdhSWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwiX2dhXCIpO1xuICAgIG5kRGF0YS5jb29raWVMYXN0QnJlYWRDcnVtYiA9IGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJsYXN0YnJlYWRjcnVtYlwiKTtcbiAgICBuZERhdGEuY29va2llTGFzdENhdGVnb3J5ID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcImxhc3RjYXRlZ29yeVwiKTtcbiAgICBuZERhdGEuY29va2llRmlyc3RFbnRyeSA9IGRlY29kZVVSSUNvbXBvbmVudChleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwidml2ZW5zZWZpcnN0XCIpKTtcblxuICAgIC8qIE5leHRkYXkgZGF0YSAqL1xuICAgIG5kRGF0YS52ID0gXCIwLjAuMjNcIjtcbiAgICBuZERhdGEubiA9IGBuZXh0ZGF5LXNlc3Npb25faWQtJHt0aGlzLnNlc3Npb25JZH1gO1xuICAgIG5kRGF0YS50ID0gRGF0ZS5ub3coKTtcbiAgICBuZERhdGEuc3IgPSBTUExJVF9SQVRJTztcblxuICAgIC8qIG1pc2NlbGxhbmVvdXMgKi9cbiAgICBuZERhdGEudSA9IGN1cnJlbnRVUkwuaHJlZjtcbiAgICBuZERhdGEuZCA9IGN1cnJlbnRVUkwuaG9zdG5hbWU7XG4gICAgbmREYXRhLnIgPSBkb2N1bWVudC5yZWZlcnJlcixcbiAgICBuZERhdGEudyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIG5kRGF0YS5jID0gZG9jdW1lbnQuY29va2llO1xuICAgIG5kRGF0YS53ZGwgPSB3aW5kb3cuZGF0YUxheWVyO1xuXG4gICAgLyogVml2ZW5zZSBzcGVjaWZpYyAqL1xuICAgIG5kRGF0YS52dnNQdXJjUHJpY2VFbHQgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBkZXNrdG9wIHNlbGVjdG9yXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgIGxldCB0b3RhbFByaWNlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuYmFza2V0X2lubmVyX3JpZ2h0ID4gZGl2LmJhc2tldF9zdW1tYXJ5ID4gZGl2LmJhc2tldF9zdW1tYXJ5X3RvdGFsID4gc3BhbjpudGgtY2hpbGQoMilcIik7XG4gICAgICAgIGlmICghdG90YWxQcmljZUVsZW1lbnQpIHtcbiAgICAgICAgICAvLyBtb2JpbGUgc2VsZWN0b3JcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICAgIHRvdGFsUHJpY2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluID4gZGl2ID4gZGl2LmdlbmVyYWwtY29udGFpbmVyID4gZGl2LmNvbC1tZC0xMiA+IGRpdiA+IGRpdjpudGgtY2hpbGQoMSkgPiBkaXYgPiBkaXYucm93Lm9yZGVyX2ZpbmFsX3Jvdy50b3RhbF9yb3cgPiBkaXYub3JkZXItZmluYWwtbnVtYmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdG90YWxQcmljZUVsZW1lbnQpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIXRvdGFsUHJpY2VFbGVtZW50LnRleHRDb250ZW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRvdGFsUHJpY2VFbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEudnZzUHVyY1R5cGVFbHQgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBkZXNrdG9wIHNlbGVjdG9yXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgIGxldCBwYXltZW50VGl0bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHkgPiBkaXYubWFpbi1jdXN0b20tY29udGFpbmVyID4gZGl2LmdlbmVyYWwtY29udGFpbmVyID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2LmNhcnQtaGVhZGVyID4gZGl2LnBheW1lbnRfdHlwZV9maW5hbF90ZXh0ID4gZGl2XCIpO1xuICAgICAgICBpZiAoIXBheW1lbnRUaXRsZUVsZW1lbnQpIHtcbiAgICAgICAgICAvLyBtb2JpbGUgc2VsZWN0b3JcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICAgIHBheW1lbnRUaXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4gPiBkaXYgPiBkaXYuZ2VuZXJhbC1jb250YWluZXIgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2ID4gZGl2ID4gZGl2LmNhcnQtaGVhZGVyID4gZGl2LmNhcnQtdGl0bGUtaW5mbyA+IHNwYW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXltZW50VGl0bGVFbGVtZW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCFwYXltZW50VGl0bGVFbGVtZW50LnRleHRDb250ZW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHBheW1lbnRUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgcmV0dXJuIG5kRGF0YTtcbiAgfVxuXG4gIGluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICBjb25zdCB7bG9nZ2VyfSA9IHRoaXM7XG4gICAgbGV0IGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSBmYWxzZTtcbiAgICBsb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIGV4aXQgZXZlbnQgbGlzdGVuZXJcIik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiYmVmb3JldW5sb2FkXCIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBiZWZvcmV1bmxvYWQgZXZlbnRcIik7XG4gICAgICAgICAgY29uc3QgbG9nRGF0YSA9IHRoaXMucGFja2FnZVVwZGF0ZUxvZ0RhdGEoKTtcbiAgICAgICAgICBpZiAoIWxvZ0RhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJObyBjaGFuZ2VzIHRvIGxvZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5xdWV1ZUxvZ3MobG9nRGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIHtjYXB0dXJlOiB0cnVlfSxcbiAgICApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcInBhZ2VoaWRlXCIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBwYWdlaGlkZSBldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5wYWNrYWdlVXBkYXRlTG9nRGF0YSgpO1xuICAgICAgICAgIGlmICghbG9nRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIGNoYW5nZXMgdG8gbG9nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnF1ZXVlTG9ncyhsb2dEYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9LFxuICAgICk7XG4gIH1cblxuICBxdWV1ZUxvZ3MobG9nRGF0YSkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsZXQgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgIGNvbnN0IHF1ZXVlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoIXF1ZXVlZCkgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocXVldWVJbnRlcnZhbCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIHF1ZXVlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgIGlmICghcXVldWVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIG5vdCBxdWV1ZWRcIik7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvcjtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFRSRUFUTUVOVFNfRFVSQVRJT059IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7ZmV0Y2hUcmVhdG1lbnRzfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgVHJlYXRtZW50IFJlcG9zaXRvcnlcIik7XG5cbmNsYXNzIFRyZWF0bWVudFJlcG9zaXRvcnkge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgY29uc3Qge2Nvb2tpZVBjdCwgdHJlYXRtZW50c30gPSBib2R5O1xuICAgIHRoaXMudHJlYXRtZW50cyA9IHRyZWF0bWVudHM7XG4gICAgdGhpcy5jb29raWVQY3QgPSBjb29raWVQY3Q7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VHJlYXRtZW50cygpIHtcbiAgICBsb2dnZXIubG9nKFwiTG9hZGluZyB0cmVhdG1lbnRzXCIpO1xuICAgIGNvbnN0IHtUUkVBVE1FTlRTfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgIGNvbnN0IHRyZWF0bWVudHNPYmogPSBKU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFRSRUFUTUVOVFMpKTtcbiAgICBsZXQgdHJlYXRtZW50cyA9IHRyZWF0bWVudHNPYmo/LnRyZWF0bWVudHM7XG4gICAgY29uc3QgdGltZXN0YW1wID0gdHJlYXRtZW50c09iaj8udGltZXN0YW1wO1xuICAgIGlmICghdHJlYXRtZW50cyB8fCAhdGltZXN0YW1wKSB7XG4gICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50cyBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgIH07XG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShUUkVBVE1FTlRTLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnRXaXRoVGltZXN0YW1wKSk7XG4gICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICB9XG4gICAgaWYgKHRpbWVzdGFtcCkge1xuICAgICAgY29uc3QgZWxhcHNlZERheXMgPSAoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG4gICAgICBpZiAoZWxhcHNlZERheXMgPiBUUkVBVE1FTlRTX0RVUkFUSU9OKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIGFyZSBleHBpcmVkXCIpO1xuICAgICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHRyZWF0bWVudHMsXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gICAgICB9XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIGFyZSBsb2FkZWQgZnJvbSBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICB9XG5cbiAgZ2V0TWF0Y2hlZFRyZWF0bWVudHMoKSB7XG4gICAgY29uc3QgdXNlclNlZ21lbnQgPSB0aGlzLmdldFVzZXJTZWdtZW50KCk7XG5cbiAgICBjb25zdCBzZWdtZW50TWF0Y2hlZFRyZWF0bWVudHMgPSB0aGlzLnRyZWF0bWVudHMuZmlsdGVyKFxuICAgICAgICAodCkgPT5cbiAgICAgICAgICB0LmFwcGx5X29uX3VzZXJfc2VnbWVudCA9PSB1c2VyU2VnbWVudCB8fFxuICAgICAgICB0LmFwcGx5X29uX3VzZXJfc2VnbWVudCA9PT0gXCIqXCIsXG4gICAgKTtcbiAgICBsb2dnZXIubG9nKGAke3NlZ21lbnRNYXRjaGVkVHJlYXRtZW50cy5sZW5ndGh9IHRyZWF0bWVudHMgc2VnbWVudCBtYXRjaGVkYCk7XG4gICAgaWYgKCFzZWdtZW50TWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSByZXR1cm4gW107XG4gICAgcmV0dXJuIHNlZ21lbnRNYXRjaGVkVHJlYXRtZW50cztcbiAgfVxuXG4gIGdldFVzZXJTZWdtZW50KCkge1xuICAgIGlmICh0aGlzLmNvb2tpZVBjdCA9PT0gLTEpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJOZXcgdXNlciBoYXMgbm8gc2VnbWVudFwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5ldyBVc2VyXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb29raWVQY3QgPCA1MCkgcmV0dXJuIFwiQVwiO1xuICAgIHJldHVybiBcIkJcIjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmVhdG1lbnRSZXBvc2l0b3J5O1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZUywgTE9DQUxfU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBDb3VudGVyIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0NvdW50ZXJSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhZ2VWaWV3XCI6XG4gICAgICByZXR1cm4gcGFnZVZpZXdIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJDQUJhc2tldFByaWNlXCI6XG4gICAgICByZXR1cm4gY2FCYXNrZXRQcmljZUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5sb2coXCJObyBzdWNoIG9wZXJhdG9yXCIsIG9wZXJhdG9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuY29uc3QgZ2V0Q291bnRlciA9IChjb3VudGVyLCB0eXBlKSA9PiB7XG4gIHRyeSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwic2Vzc2lvblwiOlxuICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShjb3VudGVyKTtcbiAgICAgIGNhc2UgXCJsb2NhbFwiOlxuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oY291bnRlcik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCB0eXBlXCIsIHR5cGUpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5sb2coYENvdWxkIG5vdCBnZXQgY291bnRlciAke2NvdW50ZXJ9YCwgZXJyKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgcGFnZVZpZXdIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgcGFnZVZpZXdzID0gcGFyc2VJbnQoZ2V0Q291bnRlcihTRVNTSU9OX1NUT1JBR0VfS0VZUy5QQUdFX1ZJRVdTLCBcInNlc3Npb25cIikpO1xuICBsb2dnZXIubG9nKFwiUGFnZSB2aWV3cyBjb3VudGVyIHZhbHVlOiBcIiwgcGFnZVZpZXdzKTtcbiAgaWYgKHBhZ2VWaWV3cyA9PT0gbnVsbCkge1xuICAgIGxvZ2dlci5sb2coXCJQYWdldmlld3MgY291bnRlciBub3QgZm91bmQgaW4gc2Vzc2lvbiBzdG9yYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYWdlVmlld3MsIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbmNvbnN0IGNhQmFza2V0UHJpY2VIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgY2FCYXNrZXRQcmljZSA9IHBhcnNlSW50KFxuICAgICAgZ2V0Q291bnRlcihMT0NBTF9TVE9SQUdFX0tFWVMuQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCBcImxvY2FsXCIpKTtcbiAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCBwcmljZSBjb3VudGVyIHZhbHVlOiBcIiwgY2FCYXNrZXRQcmljZSk7XG4gIGlmIChjYUJhc2tldFByaWNlID09PSBudWxsKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCBwcmljZSBjb3VudGVyIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihjYUJhc2tldFByaWNlLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBFbGVtZW50IENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0VsZW1lbnRSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZSwgc2VsZWN0b3IsIHNlbGVjdG9yQWxsLCBzZWxlY3RvckZhbGxiYWNrID0gbnVsbH0gPSBydWxlO1xuICBsZXQgbWFpblNlbGVjdG9yID0gc2VsZWN0b3I7XG4gIGlmIChtYWluU2VsZWN0b3IgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIG1haW5TZWxlY3RvciA9IHNlbGVjdG9yRmFsbGJhY2sgPyBzZWxlY3RvckZhbGxiYWNrIDogbWFpblNlbGVjdG9yO1xuICB9XG5cbiAgaWYgKG9wZXJhdG9yID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgfVxuICBpZiAobWFpblNlbGVjdG9yICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IGZvdW5kIG9uIHBhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChzZWxlY3RvckFsbCAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvckFsbCkpIHtcbiAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IGZvdW5kIG9uIHBhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGV0IGVsZW1lbnQ7XG4gIGlmIChtYWluU2VsZWN0b3IpIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3Rvcik7XG4gIGVsc2UgaWYgKHNlbGVjdG9yQWxsKSBlbGVtZW50ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yQWxsKSk7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJ0ZXh0LW51bWJlclwiOiB7XG4gICAgICBsZXQgdGVtcFZhbDtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgICAgIHRlbXBWYWwgPSBlbGVtZW50LnJlZHVjZSgocmV0dXJuVmFsLCBlbGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuVmFsICs9IHBhcnNlSW50KGVsZW0udGV4dENvbnRlbnQucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXBWYWwgPSBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikudGV4dENvbnRlbnRcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgfVxuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gcGFyc2VJbnQodGVtcFZhbCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiY2xhc3NMaXN0XCI6XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihBcnJheS5mcm9tKGVsZW1lbnQuY2xhc3NMaXN0KSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcImNvdW50XCI6IHtcbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IEFycmF5LmlzQXJyYXkoZWxlbWVudCkgPyBlbGVtZW50Lmxlbmd0aCA6IGVsZW1lbnQgPyAxIDogMDtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIubG9nKFwiT3BlcmF0b3Igbm90IGRlZmluZWRcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBGdW5jdGlvbiBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tGdW5jdGlvblJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGlmICghb3BlcmF0b3IpIHtcbiAgICBsb2dnZXIubG9nKFwiUnVsZSBmdW5jdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgcnVsZUZ1bmN0aW9uID0gRnVuY3Rpb24ob3BlcmF0b3IpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBydWxlRnVuY3Rpb24oKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBTZXNzaW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1Nlc3Npb25SdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICByZXR1cm4gZHVyYXRpb25IYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgZ2V0U2Vzc2lvblRpbWVzdGFtcCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IERhdGUocGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1RJTUVTVEFNUCkpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkNvdWxkIG5vdCBnZXQgc2Vzc2lvbiB0aW1lc3RhbXBcIiwgZXJyKTtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxufTtcblxuY29uc3QgZHVyYXRpb25IYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgZHVyYXRpb24gPSAoRGF0ZS5ub3coKSAtIGdldFNlc3Npb25UaW1lc3RhbXAoKSkgLyAxMDAwO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkdXJhdGlvbiwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBFbnYgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRW52UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImRldmljZV90eXBlXCI6IHtcbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzID8gXCJtb2JpbGVcIiA6IFwiZGVza3RvcFwiO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoaXNNb2JpbGUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7Y2hlY2tDb3VudGVyUnVsZX0gZnJvbSBcIi4vY291bnRlckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tEYXRhTGF5ZXJSdWxlfSBmcm9tIFwiLi9kYXRhTGF5ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRWxlbWVudFJ1bGV9IGZyb20gXCIuL2VsZW1lbnRDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRnVuY3Rpb25SdWxlfSBmcm9tIFwiLi9mdW5jdGlvbkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tTZXNzaW9uUnVsZX0gZnJvbSBcIi4vc2Vzc2lvbkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tVcmxSdWxlfSBmcm9tIFwiLi91cmxDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRW52UnVsZX0gZnJvbSBcIi4vZW52Q2hlY2tlclwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBSdWxlIEVuZ2luZVwiKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVsZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7YmFzZVJ1bGVTZXQsIHN1YlZhcmlhbnRSdWxlU2V0LCBjYWxsYmFjayA9IG51bGx9ID0gYm9keTtcbiAgICB0aGlzLmJhc2VSdWxlU2V0ID0gYmFzZVJ1bGVTZXQ7XG4gICAgdGhpcy5zdWJWYXJpYW50UnVsZVNldCA9IHN1YlZhcmlhbnRSdWxlU2V0O1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIGNoZWNrUnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuYmFzZVJ1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmICghcnVsZVNhdGlzZmllZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY2hlY2tTdWJWYXJpYW50UnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuc3ViVmFyaWFudFJ1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmIChydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBydWxlLnN1YlZhcmlhbnRJZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjaGVja1J1bGUocnVsZSkge1xuICAgIGNvbnN0IHtjaGFpbiwgY2hhaW5fY29uZGl0aW9uLCB0eXBlfSA9IHJ1bGU7XG4gICAgbGV0IHJ1bGVTYXRpc2ZpZWQgPSBudWxsO1xuICAgIC8vIGNoZWNrIHJ1bGVcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1Nlc3Npb25SdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb3VudGVyXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0NvdW50ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbGVtZW50XCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0VsZW1lbnRSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkYXRhTGF5ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRGF0YUxheWVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1VybFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0Z1bmN0aW9uUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZW52aXJvbm1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRW52UnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIubG9nKGBObyBzdWNoIHJ1bGUgdHlwZTogJHt0eXBlfWApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoY2hhaW4pIHtcbiAgICAgIHN3aXRjaCAoY2hhaW5fY29uZGl0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJhbmRcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAmJiB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkIHx8IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkICE9IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCBjaGFpbiBjb25kaXRpb25cIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlU2F0aXNmaWVkO1xuICB9XG59XG4iLCJpbXBvcnQge3NrdUNvbGxlY3Rvcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge0xPT0tVUF9BUElfVVJMfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEFwaVwiKTtcblxuZXhwb3J0IGNvbnN0IHByb2R1Y3RJbmZvTG9va3VwID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgcHJvZHVjdCBpbmZvIGxvb2t1cFwiKTtcbiAgY29uc3Qgc2t1TGlzdCA9IHNrdUNvbGxlY3RvcigpO1xuICBpZiAoIXNrdUxpc3QpIHtcbiAgICBsb2dnZXIubG9nKFwiTm8gc2t1IGZvdW5kXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBoZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gIGxldCBwcm9kdWN0SW5mbyA9IGF3YWl0IGZldGNoKExPT0tVUF9BUElfVVJMLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShza3VMaXN0KSxcbiAgICBoZWFkZXJzLFxuICAgIG1vZGU6IFwiY29yc1wiLFxuICB9KTtcbiAgaWYgKCFwcm9kdWN0SW5mby5vaykge1xuICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IGluZm8gbG9va3VwIGZhaWxlZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBwcm9kdWN0SW5mbyA9IGF3YWl0IHByb2R1Y3RJbmZvLmpzb24oKTtcbiAgaWYgKCFwcm9kdWN0SW5mbykge1xuICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IGluZm8gZXh0cmFjdGlvbiBmcm9tIHJlc3BvbnNlIGZhaWxlZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIGxvb2t1cCBzdWNjZXNzZnVsXCIpO1xuICByZXR1cm4gcHJvZHVjdEluZm87XG59O1xuIiwiaW1wb3J0IGFwcGx5VHJlYXRtZW50cyBmcm9tIFwiLi4vTmV4dGRheUFwcGx5VHJlYXRtZW50cy9pbmRleFwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgTW9uaXRvciBmcm9tIFwiLi4vTmV4dGRheU1vbml0b3IvaW5kZXhcIjtcbmltcG9ydCBUcmVhdG1lbnRSZXBvc2l0b3J5IGZyb20gXCIuLi9OZXh0ZGF5VHJlYXRtZW50UmVwb3NpdG9yeS9pbmRleFwiO1xuaW1wb3J0IFJ1bGVFbmdpbmUgZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lXCI7XG5pbXBvcnQge3Byb2R1Y3RJbmZvTG9va3VwfSBmcm9tIFwiLi4vTmV4dGRheUFwaVwiO1xuaW1wb3J0IHtDT09LSUVfTkFNRSxcbiAgTU9CSUxFX01FRElBX1FVRVJZLFxuICBTUExJVF9SQVRJTyxcbiAgTE9DQUxfU1RPUkFHRV9LRVlTLFxuICBUUkVBVE1FTlRfUkFUSU8sXG59IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIGV4dHJhY3RDb29raWVJZGVudGlmaWVyLFxuICBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcyxcbiAgaW5qZWN0U3R5bGVTaGVldCxcbiAgcmVtb3ZlRG9jdW1lbnRIaWRlLFxuICBkZXRlcm1pbmVQY3QsXG4gIHByZXBhcmVBY3Rpb25zLFxufSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuKGFzeW5jIGZ1bmN0aW9uKCkge1xuICBsZXQgaXNPbiA9IG51bGw7XG4gIGNvbnN0IHByb2R1Y3RJbmZvUHJvbWlzZSA9IHByb2R1Y3RJbmZvTG9va3VwKCk7XG4gIHRyeSB7XG4gICAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuICAgIGxvZ2dlci5pbmZvKFwiTmV4dGRheSBpbml0aWF0ZWRcIik7XG4gICAgY29uc3QgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTFcIikpIHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSwgMSk7XG4gICAgfSBlbHNlIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTJcIikpIHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSwgMik7XG4gICAgfSBlbHNlIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTBcIikpIHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGlmIGRlYnVnIG1vZGUgaXMgb24gb3Igb2ZmXCIpO1xuICB9XG4gIGNvbnN0IG1vbml0b3IgPSBuZXcgTW9uaXRvcigpO1xuICB0cnkge1xuICAgIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcbiAgICBsb2dnZXIuaW5mbyhcIk5leHRkYXkgaW5pdGlhdGVkXCIpO1xuXG4gICAgY29uc3QgZ2V0SWRlbnRpZmllciA9IGFzeW5jICgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCBpZCA9IGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgQ09PS0lFX05BTUUpO1xuICAgICAgICBpZiAoaWQpIHJlc29sdmUoaWQpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zdCBleHRyYWN0SWRlbnRpZmllckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIENPT0tJRV9OQU1FKTtcbiAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICAgICAgICByZXNvbHZlKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkNvdWxkIG5vdCBleHRyYWN0IGNvb2tpZSBpZGVudGlmaWVyXCIpKTtcbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGlkZW50aWZpZXIgPSBhd2FpdCBnZXRJZGVudGlmaWVyKCk7XG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGNvb2tpZSBpZGVudGlmaWVyOiBcIiwgaWRlbnRpZmllcik7XG4gICAgY29uc3QgY29va2llUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIpO1xuICAgIGlmICghd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFKSkge1xuICAgICAgaWYgKGNvb2tpZVBjdCA8IFNQTElUX1JBVElPKSB7XG4gICAgICAgIGlmIChjb29raWVQY3QgPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGRldGVybWluZSBjb29raWUgcGN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlzT24gPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpc09uID0gdHJ1ZTtcbiAgICB9IGVsc2UgbG9nZ2VyLmluZm8oXCJEZWJ1ZyBtb2RlIG9uOiBhbGwgYXBwbGljYWJsZSB0cmVhdG1lbnRzIHdpbGwgYmUgYXBwbGllZFwiKTtcblxuICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcIm5leHREYXktaGlkZVwiKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV4dGRheSBzY3JpcHQgdGltZWQgb3V0XCIpO1xuICAgIH1cbiAgICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcbiAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogKGlzT24gPyBcInRydWVcIiA6IFwiZmFsc2VcIil9KTtcbiAgICBpZiAoaXNPbiA9PT0gZmFsc2UpIHRocm93IG5ldyBFcnJvcihcIkNvbnRyb2wgZ3JvdXA6IG5vIHRyZWF0bWVudHMgYXBwbGllZFwiKTtcbiAgICBpbmplY3RTdHlsZVNoZWV0KCk7XG4gICAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIH0sIDIwMDApO1xuICAgIGNvbnN0IHRyZWF0bWVudHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRzKCk7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgY29uc3QgT0JTRVJWRVJfQ09ORklHID0ge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZX07XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgIGNvbnN0IGVuZ2FnZVRyZWF0bWVudCA9IGFzeW5jICh0cmVhdG1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGFjdGlvbnMsXG4gICAgICAgIGJhc2VSdWxlU2V0LFxuICAgICAgICBkZXZpY2UsXG4gICAgICAgIGRlcGVuZGFudF9vbl90cmVhdG1lbnQsXG4gICAgICAgIHJlYXBwbHlfZXZlbnQsXG4gICAgICAgIHN1YlZhcmlhbnRSdWxlU2V0LFxuICAgICAgICB3ZWlnaHQsXG4gICAgICB9ID0gdHJlYXRtZW50O1xuICAgICAgaWYgKGRldmljZSA9PT0gXCJtb2JpbGVcIiAmJiAhaXNNb2JpbGUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBkZXZpY2UgJ21vYmlsZScgbWlzbWF0Y2hcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZXZpY2UgPT09IFwiZGVza3RvcFwiICYmIGlzTW9iaWxlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgZGV2aWNlICdkZXNrdG9wJyBtaXNtYXRjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJlYXBwbHlfZXZlbnQpIHtcbiAgICAgICAgbGV0IHJlYXBwbHlfZXZlbnRfYXJyYXkgPSByZWFwcGx5X2V2ZW50O1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVhcHBseV9ldmVudCkpIHJlYXBwbHlfZXZlbnRfYXJyYXkgPSBbcmVhcHBseV9ldmVudF07XG4gICAgICAgIGxvZ2dlci5sb2coYFJlYXBwbHkgZXZlbnQgJyR7cmVhcHBseV9ldmVudH0nIGZvdW5kIGZvciB0cmVhdG1lbnQ6ICR7aWR9YCk7XG4gICAgICAgIGZvciAoY29uc3QgcmVhcHBseUV2ZW50IG9mIHJlYXBwbHlfZXZlbnRfYXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA/XG4gICAgICAgICAgICAgIHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gOiBbXTtcbiAgICAgICAgICBpZiAocHJldmlvdXNWYWx1ZS5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgYWxyZWFkeSBhZGRlZCBmb3IgcmVhcHBseSBldmVudFwiKTtcbiAgICAgICAgICB9IGVsc2UgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA9IFsuLi5wcmV2aW91c1ZhbHVlLCBpZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHJ1bGVFbmdpbmUgPSBuZXcgUnVsZUVuZ2luZSh7YmFzZVJ1bGVTZXQsIHN1YlZhcmlhbnRSdWxlU2V0fSk7XG4gICAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgYmFzZSBydWxlIHNldCBjaGVjayBmb3IgdHJlYXRtZW50OiBcIiArIGlkKTtcbiAgICAgIGlmICghYmFzZVJ1bGVTZXQgfHwgcnVsZUVuZ2luZS5jaGVja1J1bGVzKCkpIHtcbiAgICAgICAgbGV0IHRyZWF0bWVudFNraXBSYXRpbyA9IDEwMCAtIHdlaWdodCB8fCBUUkVBVE1FTlRfUkFUSU87XG4gICAgICAgIGlmIChkZXBlbmRhbnRfb25fdHJlYXRtZW50KSB7XG4gICAgICAgICAgLy8gSWYgZGVwZW5kYW50IG9uIHRyZWF0bWVudCBpcyBmb3VuZCBhbmQgaGFzIHdlaWdodDsgdXNlIGl0cyBza2lwIHJhdGlvXG4gICAgICAgICAgdHJlYXRtZW50U2tpcFJhdGlvID0gMTAwIC0gbWF0Y2hlZFRyZWF0bWVudHMuZmluZCgodCkgPT4gdC5pZCA9PT0gZGVwZW5kYW50X29uX3RyZWF0bWVudCk/LndlaWdodCB8fFxuICAgICAgICAgIFRSRUFUTUVOVF9SQVRJTztcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IHNraXAgcmF0aW86IFwiICsgdHJlYXRtZW50U2tpcFJhdGlvKTtcbiAgICAgICAgY29uc3QgZElkID0gZGVwZW5kYW50X29uX3RyZWF0bWVudCB8fCBpZDtcbiAgICAgICAgbGV0IHRyZWF0bWVudFBjdCA9IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgZElkLCA3KTtcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSkgJiZcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFKSA9PT0gXCIxXCIpIHtcbiAgICAgICAgICB0cmVhdG1lbnRQY3QgPSAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudFBjdDogXCIgKyB0cmVhdG1lbnRQY3QpO1xuICAgICAgICBsZXQgc3ViVmFyaWFudElkID0gbnVsbDtcbiAgICAgICAgbGV0IHByZXBhcmVkID0gYWN0aW9ucztcbiAgICAgICAgaWYgKHN1YlZhcmlhbnRSdWxlU2V0KSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHN1YiB2YXJpYW50IHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgICAgIHN1YlZhcmlhbnRJZCA9IHJ1bGVFbmdpbmUuY2hlY2tTdWJWYXJpYW50UnVsZXMoKTtcbiAgICAgICAgICBpZiAoc3ViVmFyaWFudElkKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3ViIHZhcmlhbnQgd2l0aCBpZDogXCIsIHN1YlZhcmlhbnRJZCk7XG4gICAgICAgICAgICBwcmVwYXJlZCA9IHByZXBhcmVBY3Rpb25zKGFjdGlvbnMsIHN1YlZhcmlhbnRJZCk7XG4gICAgICAgICAgfSBlbHNlIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQgd2l0aCBkZWZhdWx0IHZhbHVlc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJlYXRtZW50UGN0IDwgdHJlYXRtZW50U2tpcFJhdGlvKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgVHJlYXRtZW50ICR7aWR9IHNraXBwZWQgZHVlIHRvIHRyZWF0bWVudCBzcGxpdCByYXRpb2ApO1xuICAgICAgICAgIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNbaWRdID0ge1xuICAgICAgICAgICAgZGVwZW5kYW50X29uX3RyZWF0bWVudDogKGRlcGVuZGFudF9vbl90cmVhdG1lbnQgfHwgbnVsbCksXG4gICAgICAgICAgICBzdWJWYXJpYW50SWQsXG4gICAgICAgICAgICBhY3Rpb25zOiBwcmVwYXJlZCxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcHBseVRyZWF0bWVudHMocHJlcGFyZWQsIHByb2R1Y3RJbmZvKTtcbiAgICAgICAgICBhcHBsaWVkVHJlYXRtZW50SWRzW2lkXSA9IHtzdWJWYXJpYW50SWQsIGFjdGlvbnM6IHByZXBhcmVkfTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJSdWxlIGNoZWNrIGZhaWxlZCBmb3IgdHJlYXRtZW50OiBcIiwgaWQpO1xuICAgIH07XG5cbiAgICAvLyBUZW1wb3JhcnkgY29kZSBibG9jayB0byB0cmFjayBjb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgdG90YWwgcHJpY2VcbiAgICAvLyBUT0RPOiBSZW1vdmUgb25jZSB0aGUgaW5mbyBjYW4gYmUgb2J0YWluZWQgdmlhIExvb2t1cCBBUElcbiAgICBjb25zdCBjb2xsZWN0Q0FCYXNrZXRQcmljZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHtDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0V9ID0gTE9DQUxfU1RPUkFHRV9LRVlTO1xuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgICAgIGNvbnN0IHByaWNlRWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJpY2VcIikpO1xuICAgICAgICBwcmljZUVsZW1lbnRzLnB1c2goLi4uQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5ldy1wcmljZVwiKSkpO1xuICAgICAgICBpZiAoIXByaWNlRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlByaWNlIGVsZW1lbnRzIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZyhcIlByaWNlIGVsZW1lbnRzOiBcIiwgcHJpY2VFbGVtZW50cyk7XG4gICAgICAgIGNvbnN0IGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID0gcHJpY2VFbGVtZW50cy5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICAgIHJldHVyblZhbCArPSBwYXJzZUludChlbGVtLnRleHRDb250ZW50LnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSB0b3RhbCBwcmljZTogXCIsIGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlKTtcbiAgICAgICAgaWYgKGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID49IDApIHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgICAgIENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtb3pldGkuaHRtbFwiKSkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNhQmFza2V0UHJpY2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFKTtcbiAgICAgICAgaWYgKGNhQmFza2V0UHJpY2UgPT09IG51bGwpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb2xsZWN0Q0FCYXNrZXRQcmljZSgpO1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiKSkge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk11dGF0aW9uIG9ic2VydmVkLCBjYWxsaW5nIGNvbGxlY3RDQUJhc2tldFByaWNlXCIpO1xuICAgICAgICBjb2xsZWN0Q0FCYXNrZXRQcmljZSgpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBiYXNrZXRDaGVja291dEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NoZWNrb3V0Rm9ybVwiKTtcbiAgICAgIGlmIChiYXNrZXRDaGVja291dEZvcm0pIG9ic2VydmVyLm9ic2VydmUoYmFza2V0Q2hlY2tvdXRGb3JtLCBPQlNFUlZFUl9DT05GSUcpO1xuICAgIH1cbiAgICAvLyBFbmQgb2YgdGVtcG9yYXJ5IGNvZGUgYmxvY2tcblxuICAgIGNvbnN0IFt0cmVhdG1lbnRzLCBwcm9kdWN0SW5mb10gPSBhd2FpdCBQcm9taXNlLmFsbChbdHJlYXRtZW50c1Byb21pc2UsIHByb2R1Y3RJbmZvUHJvbWlzZV0pO1xuXG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIHRyZWF0bWVudHM6IFwiLCB0cmVhdG1lbnRzKTtcbiAgICBsb2dnZXIubG9nKFwiRm91bmQgY29va2llIHBlcmNlbnRhZ2U6IFwiLCBjb29raWVQY3QpO1xuICAgIGxvZ2dlci5sb2coXCJTcGxpdF9yYXRpbzogXCIsIFNQTElUX1JBVElPKTtcbiAgICBsb2dnZXIubG9nKFwiY29va2llUGN0IDwgU1BMSVRfUkFUSU9cIiwgY29va2llUGN0IDwgU1BMSVRfUkFUSU8pO1xuICAgIGxvZ2dlci5pbmZvKGBDb250cm9sIGdyb3VwIHJhdGlvOiAke1NQTElUX1JBVElPfSVgKTtcblxuICAgIGNvbnN0IHRyZWF0bWVudFJlcG9zaXRvcnkgPSBuZXcgVHJlYXRtZW50UmVwb3NpdG9yeSh7XG4gICAgICB0cmVhdG1lbnRzLFxuICAgICAgY29va2llUGN0LFxuICAgIH0pO1xuICAgIGNvbnN0IG1hdGNoZWRUcmVhdG1lbnRzID0gdHJlYXRtZW50UmVwb3NpdG9yeS5nZXRNYXRjaGVkVHJlYXRtZW50cygpO1xuICAgIGlmICghbWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm8gdHJlYXRtZW50cyBtYXRjaGVkLCByZXR1cm5pbmcgd2l0aG91dCBmdXJ0aGVyIGFjdGlvblwiKTtcbiAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgICAgbW9uaXRvci5zZW5kTG9ncyhpc09uLCBcIk5vIHRyZWF0bWVudHMgbWF0Y2hlZFwiLCB0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYXBwbGllZFRyZWF0bWVudElkcyA9IHt9O1xuICAgIGNvbnN0IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMgPSB7fTtcbiAgICBjb25zdCByZUFwcGx5VHJlYXRtZW50c01hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIG1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIubG9nKFwiRXJyb3IgZXhlY3V0aW5nIHJ1bGVzXCIsIGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIGxvZ2dlci5pbmZvKFwiVHJlYXRtZW50cyBhcHBsaWVkXCIpO1xuICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBtb25pdG9yIHdpdGggYXBwbGllZCB0cmVhdG1lbnRzXG4gICAgbG9nZ2VyLmxvZyhcIkFwcGxpZWQgdHJlYXRtZW50czogXCIsIGFwcGxpZWRUcmVhdG1lbnRJZHMpO1xuICAgIG1vbml0b3IudXBkYXRlVHJlYXRtZW50cyhhcHBsaWVkVHJlYXRtZW50SWRzLCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzKTtcbiAgICBtb25pdG9yLnNlbmRMb2dzKGlzT24pO1xuXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgbW9uaXRvci51cGRhdGVMYXRlc3RDaGFuZ2VzKGFwcGxpZWRUcmVhdG1lbnRJZHMsIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMpO1xuICAgIH0sIDEwMDApO1xuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMocmVBcHBseVRyZWF0bWVudHNNYXApKSB7XG4gICAgICBjb25zdCB0cmVhdG1lbnRJZHMgPSByZUFwcGx5VHJlYXRtZW50c01hcFtrZXldO1xuICAgICAgY29uc3QgcmVBcHBseVRyZWF0bWVudHMgPSBtYXRjaGVkVHJlYXRtZW50cy5maWx0ZXIoKHQpID0+IHRyZWF0bWVudElkcy5pbmNsdWRlcyh0LmlkKSk7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIFwiaW5maW5pdGVfc2Nyb2xsXCI6IHtcbiAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBpbmZpbml0ZV9zY3JvbGxgKTtcbiAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0aW1lb3V0XCI6IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSB0aW1lb3V0YCk7XG4gICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVsZW1lbnRfY2hhbmdlXCI6IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcmVhcHBseVNlbGVjdG9yTGlzdCA9IEFycmF5LmlzQXJyYXkodHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3IpID9cbiAgICAgICAgICAgIHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yIDogW3RyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2VsZWN0b3Igb2YgcmVhcHBseVNlbGVjdG9yTGlzdCkge1xuICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBlbGVtZW50X2NoYW5nZWApO1xuICAgICAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCBPQlNFUlZFUl9DT05GSUcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvbl9zY3JvbGxcIjoge1xuICAgICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIG9uX3Njcm9sbGApO1xuICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlJlYXBwbHkgZXZlbnQgbm90IGZvdW5kOiBcIiwga2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIGNvbnNvbGUud2FybihcIk5leHRkYXk6IFwiLCBlcnIubWVzc2FnZSk7XG4gICAgbW9uaXRvci5zZW5kTG9ncyhpc09uLCBlcnIubWVzc2FnZSwgdHJ1ZSk7XG4gIH1cbn0pKCk7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInJ1bnRpbWUiLCJ1bmRlZmluZWQiLCJPcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIlN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZXJyIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwic2VsZiIsInRyeUxvY3NMaXN0IiwicHJvdG9HZW5lcmF0b3IiLCJHZW5lcmF0b3IiLCJnZW5lcmF0b3IiLCJjcmVhdGUiLCJjb250ZXh0IiwiQ29udGV4dCIsIl9pbnZva2UiLCJzdGF0ZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJtZXRob2QiLCJhcmciLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkVycm9yIiwiR2VuU3RhdGVDb21wbGV0ZWQiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJkb25lIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJmbiIsImNhbGwiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJ0aGlzIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VsdCIsIl9fYXdhaXQiLCJ0aGVuIiwidW53cmFwcGVkIiwiZXJyb3IiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsIlR5cGVFcnJvciIsImluZm8iLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJsb2NzIiwiZW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImxlbmd0aCIsImkiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJpdGVyIiwia2V5cyIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZ2V0IiwicHJvcCIsIl90eXBlb2YiLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIm1pbkxlbiIsInRvU3RyaW5nIiwiZnJvbSIsInRlc3QiLCJfc2xpY2VkVG9BcnJheSIsImlzQXJyYXkiLCJfaSIsIl9zIiwiX2UiLCJfYXJyIiwiX24iLCJfZCIsIl90b0NvbnN1bWFibGVBcnJheSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsIl9uZXh0IiwiX3Rocm93IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJMT0dfQVBJX1VSTCIsIk1PQklMRV9NRURJQV9RVUVSWSIsIlNFU1NJT05fU1RPUkFHRV9LRVlTIiwiTE9DQUxfU1RPUkFHRV9LRVlTIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiTG9nZ2VyIiwib3JpZ2luIiwiREVCVUciLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY29uc29sZSIsImxvZyIsImxvZ2dlciIsImNoZWNrRGF0YUxheWVyUnVsZSIsInJ1bGUiLCJKU09OIiwic3RyaW5naWZ5Iiwib3BlcmF0b3IiLCJjb25kaXRpb24iLCJydW50aW1lVmFsdWUiLCJkYXRhTGF5ZXJGaW5kZXIiLCJjb25kaXRpb25DaGVja2VyIiwiZGF0YUxheWVyIiwiaW5jbHVkZXMiLCJjaGVja1VybFJ1bGUiLCJyZXF1ZXN0VVJMIiwibG9jYXRpb24iLCJocmVmIiwicGF0aCIsImRlY29kZVVSSUNvbXBvbmVudCIsIlVSTCIsInNlYXJjaCIsInJlcGxhY2UiLCJwYXRobmFtZSIsImNyeXB0byIsInJhbmRvbVVVSURGYWxsYmFjayIsInJlbW92ZURvY3VtZW50SGlkZSIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiZmV0Y2hUcmVhdG1lbnRzIiwiZmV0Y2giLCJ0cmVhdG1lbnRzIiwianNvbiIsImV4dHJhY3RDb29raWVJZGVudGlmaWVyIiwiY29va2llU3RyaW5nIiwiY29va2llTmFtZSIsImlkZW50aWZpZXIiLCJzcGxpdCIsIm1hcCIsInYiLCJyZWR1Y2UiLCJhY2MiLCJ0cmltIiwiZGV0ZXJtaW5lUGN0Iiwic3Vic3RyaW5nTGVuZ3RoIiwic3Vic3RyaW5nRW5kUG9zaXRpb24iLCJzdWJzdHJpbmdTdGFydFBvc2l0aW9uIiwiZW5jb2RlZCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwic3VidGxlIiwiZGlnZXN0IiwiaGFzaEJ1ZmZlciIsImhhc2hBcnJheSIsIlVpbnQ4QXJyYXkiLCJoYXNoU3RyaW5nIiwiYiIsInBhZFN0YXJ0Iiwiam9pbiIsImhhc2hOdW1iZXIiLCJwYXJzZUludCIsInN1YnN0cmluZyIsImV4aXRTY3JvbGxMaXN0ZW5lciIsImNhbGxCYWNrIiwibGFzdFNjcm9sbFRvcCIsInNjcm9sbFRvcCIsImV4aXRTY3JvbGxJbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInN0eWxlQXBwbGljYXRvciIsImVsZW1lbnRzIiwic3R5bGVDaGFuZ2VzTWFwIiwiZWxlbWVudCIsImVudHJpZXMiLCJzdHlsZSIsImluamVjdFN0eWxlU2hlZXQiLCJzdHlsZVNoZWV0IiwiY3JlYXRlRWxlbWVudCIsInJlbCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInByZXBhcmVBY3Rpb25zIiwiYWN0aW9uc1RvUHJlcGFyZSIsInN1YlZhcmlhbnRJZCIsImFjdGlvbnMiLCJwYXJzZSIsImFjdGlvbiIsInN1YlZhcmlhbnRzIiwic3ViVmFyaWFudCIsImlkIiwicnVuVGltZVZhbHVlIiwibWluIiwibWF4IiwicmFuZG9tVVVJRCIsImMiLCJnZXRSYW5kb21WYWx1ZXMiLCJjb21wYXJlT2JqZWN0cyIsIm9iajEiLCJvYmoyIiwia2V5c0EiLCJrZXlzQiIsImRlbGF5IiwibXMiLCJyZXMiLCJzZXRUaW1lb3V0Iiwic2t1Q29sbGVjdG9yIiwiTkRfU0tVX0xJU1QiLCJza3VMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsImUiLCJnZXRBdHRyaWJ1dGUiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJxdWVyeVNlbGVjdG9yIiwicHJvZHVjdEluZm8iLCJQT1BVUF9ESVNQTEFZX0ZMQUciLCJ0cmFuc2Zvcm1lciIsInRyZWF0bWVudCIsImFwcGx5RXZlbnQiLCJjb250ZW50U2VsZWN0b3IiLCJzZWxlY3RvciIsInNlbGVjdG9yRmFsbGJhY2siLCJtZENvbmRpdGlvbiIsIm1vdmVfc2VsZWN0b3JfMSIsIm1vdmVfc2VsZWN0b3JfMiIsInJlcGxhY2VGbiIsIiQiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsInJlcGxhY2VGbkV4ZWN1dG9yIiwicmVwbGFjZUZ1bmN0aW9uIiwiYmluZCIsInJlcGxhY2VBbGwiLCJ2YWwiLCJjdXJyZW50UmVwbGFjZUZuIiwiU3RyaW5nIiwiYmVmb3JlIiwiYWZ0ZXIiLCJjcmVhdGVQb3B1cCIsIm1vYmlsZSIsImRpc3BsYXlQb3B1cCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmNlIiwidGltZW91dCIsInRleHQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwib3JpZ2luYWxUaXRsZSIsInRpdGxlIiwiaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSIsImVsZW1lbnRTa3UiLCJjYXRhbG9nIiwibW9zdFZpZXdlZExldmVsIiwiYXR0cmlidXRlIiwiY3NzIiwicHJvcGVydHkiLCJwcm9wZXJ0eVZhbHVlIiwibjEiLCJuMiIsInN3YXBOb2RlcyIsImFwcGVuZCIsInNvdXJjZSIsImRlc3RpbmF0aW9uIiwicHJlcGVuZCIsImV2ZW50IiwidGl0bGVzIiwicGFyc2VkVGl0bGVzIiwiaGlkZGVuIiwiaGFuZGxlUG9wdXBDbGljayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJxUG9wdXAiLCJnZXRFbGVtZW50QnlJZCIsInBvcHVwV3JhcHBlciIsImFkZCIsInBvcHVwQ2xvc2VCdXR0b24iLCJpbm5lclRleHQiLCJvbmNsaWNrIiwiY29udGVudHMiLCJzaGlmdCIsInNyYyIsInRlbXBsYXRlIiwiaW5uZXJIVE1MIiwicG9wdXAiLCJjb250ZW50IiwiZmlyc3RDaGlsZCIsImJvZHkiLCJpMSIsImkyIiwicDEiLCJwYXJlbnROb2RlIiwicDIiLCJpc0VxdWFsTm9kZSIsImNoaWxkcmVuIiwiaW5zZXJ0QmVmb3JlIiwidHJlYXRtZW50QXBwbGljYXRvciIsInRyZWF0bWVudExpc3QiLCJqUXVlcnkiLCJtZXNzYWdlIiwiYXBwbHlUcmVhdG1lbnRzIiwiX2RlZmluZVByb3BlcnR5IiwiTW9uaXRvciIsImFwcGxpZWRUcmVhdG1lbnRJZHMiLCJlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzIiwibGF0ZXN0Q2hhbmdlcyIsImVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMiLCJzZXNzaW9uSWQiLCJ2aWV3SWQiLCJoZWFkZXJzIiwiZGVidWdNb2RlIiwiaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVyIiwiaXNMb2dnZWQiLCJpc09uIiwiZW1wdHkiLCJyZWFkeVN0YXRlIiwiaGFuZGxlUXVldWVMb2dzIiwicGFja2FnZUxvZ0RhdGEiLCJyZXF1ZXN0QmxvYiIsInF1ZXVlTG9ncyIsImNoYW5nZXMiLCJjb21wYXJlVG8iLCJtIiwicHJlcGFyZUxvZ0JvZHkiLCJ2SWQiLCJkYm0iLCJCbG9iIiwidCIsIkRhdGUiLCJub3ciLCJjdXJyZW50VVJMIiwiZ2FPYmplY3RzIiwiZ2FETEVsZW1lbnQiLCJ2aXNpbGFic2NrIiwiY29va2llIiwidmxPYmplY3RzIiwiSXRlbXMiLCJ2bEVsZW1lbnQiLCJLIiwiViIsIm5kRGF0YSIsImNvb2tpZVZMSXNOZXciLCJPTV9JTlciLCJjb29raWVWTFBWaW5WaXNpdCIsIlZMX1BWQ291bnRJblZpc2l0IiwiY29va2llVkxWaXNpdER1cmF0aW9uIiwiVkxfVG90YWxEdXJhdGlvbiIsImNvb2tpZVZMVG90YWxQViIsIlZMX1RvdGFsUFYiLCJjb29raWVWTFRvdGFsVmlzaXQiLCJWTF9Ub3RhbFZpc2l0IiwiZ2FQYWdlVHlwZSIsIlBhZ2VUeXBlIiwiZ2FQcm9kdWN0TmFtZSIsImNvbnRlbnRfbmFtZSIsImdhVmlld1R5cGUiLCJjb250ZW50X3R5cGUiLCJnYVByb2R1Y3RDYXRlZ29yeSIsImNvbnRlbnRfY2F0ZWdvcnkiLCJnYVByb2R1Y3RJRCIsImNvbnRlbnRfaWRzIiwidnZzUHJvZHVjdENhdGVnb3J5Iiwidml2ZW5zZV9jYXRlZ29yeSIsImdhTGlzdGluZ05hbWUiLCJlY29tbWVyY2UiLCJkZXRhaWwiLCJhY3Rpb25GaWVsZCIsImxpc3QiLCJ2dnNJc1Nob3dyb29tIiwiaXNBZG1pbiIsInZ2c1Byb2R1Y3RHcm91cCIsInByb2R1Y3RHcm91cCIsInZ2c1VzZXJFbWFpbCIsInVzZXJFbWFpbCIsInZ2c1VzZXJJZCIsInVzZXJJZCIsInZ2c0NhdGVnb3J5IiwiZ2FBY3Rpb24iLCJBY3Rpb24iLCJnYUFjdGlvbkxhYmVsIiwiTGFiZWwiLCJnYUNhdGVnb3J5UHJvZHVjdENvbnQiLCJjYXRlZ29yeV9wcm9kdWN0X2NvdW50IiwiZ2FBY3Rpb25TdGVwIiwiY2hlY2tvdXQiLCJzdGVwIiwiZ2FBY3Rpb25Vc2VyIiwiZGltZW5zaW9uMTQiLCJwdXJjaGFzZSIsImdhQ2FydFByb2R1Y3RzIiwicHJvZHVjdHMiLCJ2dnNQRFBQcm9kdWN0Iiwidml2ZW5zZVByb2R1Y3RzIiwiZ2FQdXJjaGFzZUlkIiwiZ2FQdXJjaGFzZUFmZmlsaWF0aW9uIiwiYWZmaWxpYXRpb24iLCJnYVB1cmNoYXNlQ291cG9uIiwiY291cG9uIiwiZ2FQdXJjaGFzZVJldmVudWUiLCJyZXZlbnVlIiwiZ2FQdXJjaGFzZVNoaXBwaW5nIiwic2hpcHBpbmciLCJnYVB1cmNoYXNlVGF4IiwidGF4IiwiZ2FQdXJjaGFzZVBheVR5cGUiLCJkaW1lbnNpb24xNSIsIndpbmRvd1BhcmFtcyIsIndpbmRvd1NjcmVlbiIsInNjcmVlbiIsIndpbmRvd1ZQb3J0IiwidmlzdWFsVmlld3BvcnQiLCJ3aW5kb3dQUmF0aW8iLCJkZXZpY2VQaXhlbFJhdGlvIiwibmF2QWdlbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJuYXZIV0NvcmVzIiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsIm5hdkxhbmd1YWdlIiwibGFuZ3VhZ2UiLCJuYXZUb3VjaCIsIm1heFRvdWNoUG9pbnRzIiwibmF2UGxhdGZvcm0iLCJwbGF0Zm9ybSIsIm5hdlZlbmRvciIsInZlbmRvciIsInBDbGlja1NlZ21lbnQiLCJjb29raWVHYUlkIiwiY29va2llTGFzdEJyZWFkQ3J1bWIiLCJjb29raWVMYXN0Q2F0ZWdvcnkiLCJjb29raWVGaXJzdEVudHJ5Iiwic3IiLCJ1IiwiaG9zdG5hbWUiLCJyIiwicmVmZXJyZXIiLCJ3IiwiaW5uZXJXaWR0aCIsIndkbCIsInZ2c1B1cmNQcmljZUVsdCIsInRvdGFsUHJpY2VFbGVtZW50IiwidGV4dENvbnRlbnQiLCJ2dnNQdXJjVHlwZUVsdCIsInBheW1lbnRUaXRsZUVsZW1lbnQiLCJpc0V4aXRFdmVudENhcHR1cmVkIiwibG9nRGF0YSIsInBhY2thZ2VVcGRhdGVMb2dEYXRhIiwiY2FwdHVyZSIsInF1ZXVlZCIsInNlbmRCZWFjb24iLCJxdWV1ZUludGVydmFsIiwiVHJlYXRtZW50UmVwb3NpdG9yeSIsImNvb2tpZVBjdCIsInVzZXJTZWdtZW50IiwiZ2V0VXNlclNlZ21lbnQiLCJzZWdtZW50TWF0Y2hlZFRyZWF0bWVudHMiLCJmaWx0ZXIiLCJhcHBseV9vbl91c2VyX3NlZ21lbnQiLCJUUkVBVE1FTlRTIiwidHJlYXRtZW50c09iaiIsInRpbWVzdGFtcCIsInRyZWF0bWVudFdpdGhUaW1lc3RhbXAiLCJnZXRDb3VudGVyIiwiY291bnRlciIsIlJ1bGVFbmdpbmUiLCJiYXNlUnVsZVNldCIsInN1YlZhcmlhbnRSdWxlU2V0IiwiY2FsbGJhY2siLCJjaGVja1J1bGUiLCJjaGFpbiIsImNoYWluX2NvbmRpdGlvbiIsInJ1bGVTYXRpc2ZpZWQiLCJkdXJhdGlvbiIsImdldFNlc3Npb25UaW1lc3RhbXAiLCJkdXJhdGlvbkhhbmRsZXIiLCJjaGVja1Nlc3Npb25SdWxlIiwicGFnZVZpZXdzIiwicGFnZVZpZXdIYW5kbGVyIiwiY2FCYXNrZXRQcmljZSIsImNhQmFza2V0UHJpY2VIYW5kbGVyIiwiY2hlY2tDb3VudGVyUnVsZSIsInNlbGVjdG9yQWxsIiwibWFpblNlbGVjdG9yIiwidGVtcFZhbCIsInJldHVyblZhbCIsImVsZW0iLCJjaGVja0VsZW1lbnRSdWxlIiwicnVsZUZ1bmN0aW9uIiwiY2hlY2tGdW5jdGlvblJ1bGUiLCJpc01vYmlsZSIsImNoZWNrRW52UnVsZSIsInByb2R1Y3RJbmZvTG9va3VwIiwiSGVhZGVycyIsIm1vZGUiLCJvayIsInByb2R1Y3RJbmZvUHJvbWlzZSIsInF1ZXJ5U3RyaW5nIiwicmVtb3ZlSXRlbSIsIm1vbml0b3IiLCJnZXRJZGVudGlmaWVyIiwiZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCIsImNvbnRhaW5zIiwiR0xPVl9PTiIsIlBBR0VfVklFV1MiLCJTRVNTSU9OX0lEIiwiU0VTU0lPTl9USU1FU1RBTVAiLCJwb3B1cERpc3BsYXlGbGFnIiwic2Vzc2lvblRpbWVzdGFtcCIsInRyZWF0bWVudHNQcm9taXNlIiwiT0JTRVJWRVJfQ09ORklHIiwic3VidHJlZSIsImNoaWxkTGlzdCIsImF0dHJpYnV0ZXMiLCJlbmdhZ2VUcmVhdG1lbnQiLCJkZXZpY2UiLCJkZXBlbmRhbnRfb25fdHJlYXRtZW50IiwicmVhcHBseV9ldmVudCIsIndlaWdodCIsInJlYXBwbHlfZXZlbnRfYXJyYXkiLCJyZWFwcGx5RXZlbnQiLCJwcmV2aW91c1ZhbHVlIiwicmVBcHBseVRyZWF0bWVudHNNYXAiLCJydWxlRW5naW5lIiwiY2hlY2tSdWxlcyIsInRyZWF0bWVudFNraXBSYXRpbyIsIm1hdGNoZWRUcmVhdG1lbnRzIiwiZmluZCIsImRJZCIsInRyZWF0bWVudFBjdCIsInByZXBhcmVkIiwiY2hlY2tTdWJWYXJpYW50UnVsZXMiLCJjb2xsZWN0Q0FCYXNrZXRQcmljZSIsIkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSIsInByaWNlRWxlbWVudHMiLCJjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImJhc2tldENoZWNrb3V0Rm9ybSIsIm9ic2VydmUiLCJhbGwiLCJ0cmVhdG1lbnRSZXBvc2l0b3J5IiwiZ2V0TWF0Y2hlZFRyZWF0bWVudHMiLCJzZW5kTG9ncyIsInVwZGF0ZVRyZWF0bWVudHMiLCJ1cGRhdGVMYXRlc3RDaGFuZ2VzIiwidHJlYXRtZW50SWRzIiwicmVBcHBseVRyZWF0bWVudHMiLCJSZXNpemVPYnNlcnZlciIsInJlYXBwbHlfc2VsZWN0b3IiLCJvbnNjcm9sbCIsIndhcm4iXSwic291cmNlUm9vdCI6IiJ9

!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new _(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw a;return O()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=L(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?g:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=g,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",h={};function v(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(E([])));k&&k!==n&&r.call(k,a)&&(b=k);var x=y.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var u=l(e[o],e,a);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:O}}function O(){return{value:t,done:!0}}return m.prototype=y,u(x,"constructor",y),u(y,"constructor",m),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(I.prototype),u(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,u,"next",e)}function u(e){i(a,r,o,c,u,"throw",e)}c(void 0)}))}}var u=n(757),s=n.n(u);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",g="(max-width: 440px)",h="__nextday_session_id",v="ND_SessionTimestamp",m="BN_SessionHistory",y="ND_PageViews",b="ND_PopupDisplayFlag",w="ND_SkuList",k="ND_CABasketPrice",x="ND_Debug",S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";l(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(x)}return f(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}},{key:"warn",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).warn.apply(e,["[".concat(t,"]")].concat(r))}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),I=S;function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=new I("Nextday DataLayer Checker"),A=function(e){C.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=_(t);return J(o,n,r)},_=function(e){C.log("Searching dataLayer for key",e);var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(window.dataLayer);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(Object.keys(r).includes(e))return C.log("Found key ".concat(e," with value ").concat(r[e])),r[e]}}catch(e){n.e(e)}finally{n.f()}return C.log("Key ".concat(e," not found in dataLayer")),null},E=new I("Nextday Url Checker"),O=function(e){E.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return E.log("Checking path ".concat(a," matches rule path ").concat(r)),J(a,n,r)}};function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=new I("Nextday Utils");"randomUUID"in crypto||B();var j=function(){document.documentElement.classList.remove("nextDay-hide")},R=function(){var e=c(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},D=function(){var e=c(s().mark((function e(t){var n,r,o,a,i,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=8+(n=9),t){e.next=5;break}return e.abrupt("return",-1);case 5:return o=(new TextEncoder).encode(t),e.next=8,crypto.subtle.digest("SHA-1",o);case 8:return a=e.sent,i=Array.from(new Uint8Array(a)),c=i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),u=parseInt(c.substring(n,r),16),e.abrupt("return",u%100);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=document.documentElement.scrollTop,n=setInterval((function(){var r=document.documentElement.scrollTop;t-400>r?(clearInterval(n),e()):t=r}),500)},V=function(e,t){T.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],a=0,i=Object.entries(t);a<i.length;a++){var c=o(i[a],2),u=c[0],s=c[1];r.style[u]=s}},F=function(){var e=c(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="https://host-b96.pages.dev/nd-styles.css",document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e,t){var n,r=JSON.parse(JSON.stringify(e)),o=P(r);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.subVariants;if(i){var c,u=P(i);try{for(u.s();!(c=u.n()).done;){var s=c.value;if(s.id===t){for(var l in s)"id"!==l&&(a[l]=s[l]);return r}}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){o.e(e)}finally{o.f()}return r},J=function(e,t,n){if("notExist"===t)return e?(T.log("conditionChecker: -not satisfied- target does exist"),!1):(T.log("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return T.log("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(T.log("conditionChecker: -satisfied- target does exist"),!0):(T.log("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(T.log("conditionChecker: -satisfied- target contains value"),!0):(T.log("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(T.log("conditionChecker: -not satisfied- target contains value"),!1):(T.log("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(T.log("conditionChecker: -satisfied- target equals value"),!0):(T.log("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(T.log("conditionChecker: -satisfied- target does not equal value"),!0):(T.log("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(T.log("conditionChecker: -satisfied- target is greater than value"),!0):(T.log("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(T.log("conditionChecker: -satisfied- target is less than value"),!0):(T.log("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(T.log("conditionChecker: -satisfied- target is greater or equal than value"),!0):(T.log("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(T.log("conditionChecker: -satisfied- target is less or equal than value"),!0):(T.log("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=o(n.split(","),2),a=r[0],i=r[1];return a=parseInt(a),i=parseInt(i),e>=a&&e<=i?(T.log("conditionChecker: -satisfied- target is between min and max"),!0):(T.log("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return T.log("conditionChecker: condition is not defined ",t),!1}},B=function(){crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},G=function t(n,r){if(n===r)return!0;if("object"!==e(n)||"object"!==e(r)||null==n||null==r)return!1;var o=Object.keys(n),a=Object.keys(r);if(o.length!==a.length)return!1;var i=!0;return o.forEach((function(e){a.includes(e)||(i=!1),"function"!=typeof n[e]&&"function"!=typeof r[e]||n[e].toString()!==r[e].toString()&&(i=!1),t(n[e],r[e])||(i=!1)})),i},z=function(){var e=c(s().mark((function e(){var t,n=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"_ga",e.abrupt("return",new Promise((function(e,n){var r=q(document.cookie,t);if(r)e(r);else{var o=setInterval((function(){(r=q(document.cookie,t))&&(clearInterval(o),e(r))}),10);setTimeout((function(){clearInterval(o),n(new Error("Could not extract cookie identifier"))}),1e3)}})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){return new Promise((function(t){return setTimeout(t,e)}))},K=function(){var e=w,t=[],n={operator:"PageType",condition:"equal",value:"Homepage"};if(A(n))return null;if(n.value="Listingpage",A(n))return Array.from(document.querySelectorAll(".product-card")).forEach((function(e){t.push(e.getAttribute("data-product-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(T.log("Product SKUs not found on Listingpage"),null);if(n.value="Productpage",A(n)){var r=document.querySelector(".product-sku");return r?(t.push(r.getAttribute("data-sku")),sessionStorage.setItem(e,JSON.stringify(t)),t):(T.log("Product SKU not found on Productpage"),null)}return n.operator="path",n.value="/siparis-listesi.html",O(n)?(Array.from(document.querySelectorAll(".cart-inside")).forEach((function(e){t.push(e.getAttribute("data-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(T.log("Product SKUs not found on basket page"),null)):(T.log("Unidentified page type"),null)};function Q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(){return Y=c(s().mark((function e(t,n){var r,o,a,i,u,l,d,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new I("Nextday Apply Treatments"),o=b,a=function(e){r.log("Applying treatment: ",JSON.stringify(e));var t=e.operator,a=e.type,c=e.applyEvent,u=e.contentSelector,s=e.selector,p=e.selectorFallback,h=e.mdCondition,v=e.move_selector_1,m=e.move_selector_2,y=e.replaceFn,b=e.value,w=$(s);if(!h||window.matchMedia(h).matches)if(v&&!m||m&&!v)r.log("Both move selectors are required");else{if(v&&m){if(!$(v).length)return void r.log("Move selector 1 not found: ",v);if(!$(m).length)return void r.log("Move selector 2 not found: ",m)}else{if(!s)return void r.log("Selector not specified");if(!w.length&&"no-selector"!==s&&(r.log("Selector not found: ",s),r.log("Trying fallback selector: ",p),p&&(w=$(p)),!w.length))return void r.log("Fallback selector not found")}var k=function(e,t){if(e&&t.includes("{{REPLACE}}")){r.log("Executing replace function: ",e);var o={dataLayerFinder:_,productInfo:n},a=Function(e).bind(o);t=t.replaceAll("{{REPLACE}}",a())}return t};if(Array.isArray(b)?b.forEach((function(e,t){var n=y?y[t]||y:"";b[t]=k(n,e)})):b=k(y,b),"remove"===t)w&&(r.log("Removing: ",s),w.remove()),r.log("Cannot found element with selector: ",s);else if("insert"===t)switch(a){case"before":r.log("Inserting before: ",b),String(b).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),w.before(b);break;case"after":r.log("Inserting after: ",b),w.after(b);break;case"popup":if(0!==parseInt(sessionStorage.getItem(o))){r.log("Popup already displayed in session");break}if(r.log("Creating Popup: ",b),d(b,u),c){var x,S=window.matchMedia(g).matches,I=Q(c);try{for(I.s();!(x=I.n()).done;)switch(x.value){case"exitIntent":r.log("Adding exit intent listener"),S?U(l):document.documentElement.addEventListener("mouseleave",l,{once:!0});break;case"copyIntent":r.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",l,{once:!0})}}catch(e){I.e(e)}finally{I.f()}}else setTimeout((function(){l()}),timeout)}else if("edit"===t)switch(a){case"text":r.log("Editing text: ",b),w.text(b);break;case"styleApplicator":r.log("Applying style: ",b);var L=document.querySelectorAll(s),C=JSON.parse(b);r.log("Style Changes Map: ",C),V(L,C);break;case"addClass":r.log("addding class to ".concat(w," named ").concat(b)),w.addClass(b);break;case"removeClass":r.log("remove class from ".concat(w," named ").concat(b)),w.removeClass(b);break;case"documentTitle":if(r.log("changing document title from ".concat(w," to ").concat(b)),c){var A,E=Q(c);try{for(E.s();!(A=E.n()).done;)"tabChange"==A.value&&function(){r.log("catching event tabchange..");var e=document.title;document.addEventListener("visibilitychange",(function(t){return i(t,b,e)}))}()}catch(e){E.e(e)}finally{E.f()}}break;case"addBanner":if(!n){r.log("Product info unavailable");break}r.log("Adding banner: ",b);var O=JSON.parse(sessionStorage.getItem("ND_SkuList"))[0];if(!O){r.log("Could not find product sku");break}Object.keys(n).includes(O)&&w.before(b);break;default:r.log("Unknown edit type: ",a)}else if("setattribute"===t)switch(r.log("Setting attribute: ",attribute,b),attribute){case"src":w.css("content","url(".concat(b.trim(),")"));break;case"style":var P=b.split(":")[0].trim(),N=b.split(":")[1].trim();w.css(P,N,"!important")}else if("replace"===t)r.log("Replacing: ",b),w.replaceAll(b);else if("swap"===t){r.log("Swapping: ",v,m);var T=document.querySelector(v),j=document.querySelector(m);f(T,j)}else if("injectscript"===t)r.log("Injecting script: ",b),w.append("<script>".concat(b,"<\/script>"));else if("move"===t){r.log("Moving ".concat(v," to ").concat(m));var R=document.querySelector(v),q=document.querySelector(m);R.remove(),q.prepend(R)}else"noop"===t?r.log("Noop Operator: No operation is applied on target "):r.log("No such operator exists yet",t)}else r.log("Media condition mismatch: ",h)},i=function(){var e=c(s().mark((function e(t,n,r){var o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.isArray(n)?n:[n],a=0;case 2:if(!(a<o.length)){e.next=16;break}if(!document.hidden){e.next=12;break}return document.title=o[a],e.next=7,H(3e3);case 7:return document.title=r,e.next=10,H(3e3);case 10:e.next=13;break;case 12:document.title=r;case 13:a++,e.next=2;break;case 16:if(document.hidden){e.next=21;break}return document.title=r,e.abrupt("return");case 21:i(t,n,r);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),u=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0))},l=function e(){sessionStorage.setItem(o,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",u,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",u,!0)}),15e3)},d=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",u,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var i=a.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},f=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var c=0;c<a.children.length;c++)a.children[c].isEqualNode(t)&&(r=c);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},function e(t){if(window.jQuery){var n,o=Q(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;try{a(i)}catch(e){r.log("Couldn't apply treatment ".concat(i.id," with error ").concat(e.message));continue}}}catch(e){o.e(e)}finally{o.f()}}else setTimeout((function(){e(t)}),10)}(t);case 10:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}var X=function(e,t){return Y.apply(this,arguments)},Z=new I("BeagleCheckpoint"),ee={BeagleLoaded:1,Initialized:2,UserOnOff:3,ScriptTimeOut:7,TreatmentRepositoryCreated:4,TreatmentsApplied:5,ReapplyTreatmentListeners:6};window.beagleInfoLayer=window.beagleInfoLayer||{checkpoints:[]};var te=function(e){try{Z.log("Checkpoint: '".concat(e,"' Reached!")),window.beagleInfoLayer.checkpoints.push({checkpoint:Object.keys(ee).find((function(t){return ee[t]===e})),id:e,time:Date.now()})}catch(e){Z.warn(e)}};function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=function(){function e(t){l(this,e),this.logger=new I("Nextday Monitor"),this.sessionId=sessionStorage.getItem(h),this.logger.log("Initializing monitor with session id: "+this.sessionId),this.appliedTreatmentIds=null,this.eligibleNotAppliedTreatments=null,this.latestChanges=null,this.eligibleNotAppliedChanges=null,this.viewId=crypto.randomUUID(),this.headers={type:"application/json"},this.debugMode=t?"on":"off",this.isLogged=!1,this.initializeExitEventListener()}var t;return f(e,[{key:"updateTreatments",value:function(e,t){this.appliedTreatmentIds=e,this.eligibleNotAppliedTreatments=t}},{key:"sendLogs",value:(t=c(s().mark((function e(t){var n,r,o,a=this,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]&&i[2],(o=this.logger).log("Sending logs"),"complete"!==document.readyState?(o.log("Document ready state is not complete"),window.addEventListener("beforeunload",(function(){o.log("In beforeunload event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0),window.addEventListener("pagehide",(function(){o.log("In onpagehide event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0),window.addEventListener("load",(function(){o.log("In onload event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0)):this.handleQueueLogs(this.packageLogData(t,n,r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"handleQueueLogs",value:function(e){if(!this.isLogged){var t=this.logger;e?(t.log("Request blob to send: ",e),this.queueLogs(e),this.isLogged=!0):t.log("Could not create request blob")}}},{key:"updateLatestChanges",value:function(e,t){var n=this.appliedTreatmentIds,r=this.eligibleNotAppliedTreatments,o=this.logger;o.log("Updating latest changes");var a=this.latestChanges||n;G(a,e)||(o.log("Changes detected"),o.log("Changes: ",e),this.latestChanges=e),a=this.eligibleNotAppliedChanges||r,G(a,t)||(o.log("Changes detected"),o.log("Changes: ",e),this.eligibleNotAppliedChanges=t)}},{key:"packageLogData",value:function(e,t,n){var r=this.appliedTreatmentIds,o=this.eligibleNotAppliedTreatments,a=this.debugMode,i=this.headers,c=this.viewId,u=t||(Object.keys(r).length?"Treatments applied":"No treatments applied"),s=this.prepareLogBody();return s.vId=n?null:c,s.m=u,s.dbm=a,s.isOn=e,s.a=n?{}:r,s.e=n?{}:o,new Blob([JSON.stringify(s)],i)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.eligibleNotAppliedChanges,n=this.latestChanges,r=this.viewId;if(!n&&!t)return!1;var o={t:Date.now(),a:n||{},e:t||{},vId:r,beagleInfoLayer:window.beagleInfoLayer||{}};return new Blob([JSON.stringify(o)],e)}},{key:"prepareLogBody",value:function(){var e,t=new URL(window.location.href),n={},r=ae(window.dataLayer);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=oe(oe({},n),o)}}catch(e){r.e(e)}finally{r.f()}var a=JSON.parse(q(document.cookie,"VL_CM_0")),i={};if(a&&a.Items){var c,u=ae(a.Items);try{for(u.s();!(c=u.n()).done;){var s=c.value;i[s.K]=decodeURIComponent(s.V)}}catch(e){u.e(e)}finally{u.f()}}var l={};return l.cookieVLIsNew=i.OM_INW,l.cookieVLPVinVisit=i.VL_PVCountInVisit,l.cookieVLVisitDuration=i.VL_TotalDuration,l.cookieVLTotalPV=i.VL_TotalPV,l.cookieVLTotalVisit=i.VL_TotalVisit,l.gaPageType=n.PageType,l.gaProductName=n.content_name,l.gaViewType=n.content_type,l.gaProductCategory=n.content_category,l.gaProductID=n.content_ids,l.vvsProductCategory=n.vivense_category,l.gaListingName=function(){try{return n.ecommerce.detail.actionField.list}catch(e){return null}}(),l.vvsIsShowroom=n.isAdmin,l.vvsProductGroup=n.productGroup,l.vvsUserEmail=n.userEmail,l.vvsUserId=n.userId,l.vvsCategory=n.vivense_category,l.gaAction=n.Action,l.gaActionLabel=n.Label,l.gaCategoryProductCont=n.category_product_count,l.gaActionStep=function(){try{return n.ecommerce.checkout.actionField.step}catch(e){return null}}(),l.gaActionUser=function(){try{return n.ecommerce.checkout.actionField.dimension14}catch(e){return null}}()||function(){try{return n.ecommerce.purchase.actionField.dimension14}catch(e){return null}}(),l.gaCartProducts=function(){try{return n.ecommerce.checkout.products}catch(e){return null}}()||function(){try{return n.ecommerce.purchase.products}catch(e){return null}}(),l.vvsPDPProduct=function(){try{return n.vivenseProducts[0]}catch(e){return null}}(),l.gaPurchaseId=function(){try{return n.ecommerce.purchase.actionField.id}catch(e){return null}}(),l.gaPurchaseAffiliation=function(){try{return n.ecommerce.purchase.actionField.affiliation}catch(e){return null}}(),l.gaPurchaseCoupon=function(){try{return n.ecommerce.purchase.actionField.coupon}catch(e){return null}}(),l.gaPurchaseRevenue=function(){try{return n.ecommerce.purchase.actionField.revenue}catch(e){return null}}(),l.gaPurchaseShipping=function(){try{return n.ecommerce.purchase.actionField.shipping}catch(e){return null}}(),l.gaPurchaseTax=function(){try{return n.ecommerce.purchase.actionField.tax}catch(e){return null}}(),l.gaPurchasePayType=function(){try{return n.ecommerce.purchase.actionField.dimension15}catch(e){return null}}(),l.windowParams=window.location.search,l.windowScreen=window.screen,l.windowVPort=window.visualViewport,l.windowPRatio=window.devicePixelRatio,l.navAgent=navigator.userAgent,l.navHWCores=navigator.hardwareConcurrency,l.navLanguage=navigator.language,l.navTouch=navigator.maxTouchPoints,l.navPlatform=navigator.platform,l.navVendor=navigator.vendor,l.pClickSegment=window.localStorage.getItem("personaClick_segment"),l.cookieGaId=q(document.cookie,"_ga"),l.cookieLastBreadCrumb=q(document.cookie,"lastbreadcrumb"),l.cookieLastCategory=q(document.cookie,"lastcategory"),l.cookieFirstEntry=decodeURIComponent(q(document.cookie,"vivensefirst")),l.v="0.0.24",l.n="nextday-session_id-".concat(this.sessionId),l.t=Date.now(),l.sr=50,l.u=t.href,l.d=t.hostname,l.r=document.referrer,l.w=window.innerWidth,l.c=document.cookie,l.wdl=window.dataLayer,l.beagleInfoLayer=window.beagleInfoLayer||{},l.vvsPurcPriceElt=function(){try{var e=document.querySelector("div.basket_inner_right > div.basket_summary > div.basket_summary_total > span:nth-child(2)");return e||(e=document.querySelector("#main > div > div.general-container > div.col-md-12 > div > div:nth-child(1) > div > div.row.order_final_row.total_row > div.order-final-number")),e&&e.textContent?e.textContent:null}catch(e){return null}}(),l.vvsPurcTypeElt=function(){try{var e=document.querySelector("body > div.main-custom-container > div.general-container > div > div > div > div.cart-header > div.payment_type_final_text > div");return e||(e=document.querySelector("#main > div > div.general-container > div:nth-child(2) > div > div > div.cart-header > div.cart-title-info > span")),e&&e.textContent?e.textContent:null}catch(e){return null}}(),l}},{key:"initializeExitEventListener",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}),{capture:!0}),window.addEventListener("pagehide",(function(){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger,n=navigator.sendBeacon(p,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(p,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}}]),e}(),ue=ce,se=new I("Nextday Treatment Repository"),le=function(){function e(t){l(this,e);var n=t.cookiePct,r=t.treatments;this.treatments=r,this.cookiePct=n}var t;return f(e,[{key:"getMatchedTreatments",value:function(){var e=this.getUserSegment(),t=this.treatments.filter((function(t){return t.apply_on_user_segment==e||"*"===t.apply_on_user_segment}));return se.log("".concat(t.length," treatments segment matched")),t.length?t:[]}},{key:"getUserSegment",value:function(){if(-1===this.cookiePct)throw se.log("New user has no segment"),new Error("New User");return this.cookiePct<50?"A":"B"}}],[{key:"getTreatments",value:(t=c(s().mark((function e(){var t,n,r,o,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return se.log("Treatments not found in local storage"),e.next=9,R();case 9:return r=e.sent,a={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return se.log("Treatments are expired"),e.next=19,R();case 19:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 23:return se.log("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),de=le,fe=new I("Nextday Counter Checker"),pe=function(e){fe.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return he(n,r);case"CABasketPrice":return ve(n,r);default:return fe.log("No such operator",t),!1}},ge=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return fe.log("No such type",t),null}}catch(t){return fe.log("Could not get counter ".concat(e),t),null}},he=function(e,t){var n=parseInt(ge(y,"session"));return fe.log("Page views counter value: ",n),null===n?(fe.log("Pageviews counter not found in session storage"),!1):J(n,e,parseInt(t))},ve=function(e,t){var n=parseInt(ge(k,"local"));return fe.log("Coupon applicable basket price counter value: ",n),null===n?(fe.log("Coupon applicable basket price counter not found in local storage"),!1):J(n,e,parseInt(t))},me=new I("Nextday Element Checker"),ye=function(e){me.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,c=e.selectorFallback,u=void 0===c?null:c,s=a;if(s&&!document.querySelector(s)&&(s=u||s),null===n)return J(document.querySelector(s),r,o);if(s&&!document.querySelector(s))return me.log("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return me.log("Selector not found on page"),!1;switch(s?t=document.querySelector(s):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var l;l=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(s).textContent.replace("TL","").replace(".",""));var d=parseInt(l);return J(d,r,o);case"classList":return J(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return J(f,r,o);default:return me.log("Operator not defined"),!1}},be=new I("Nextday Function Checker"),we=function(e,t){be.log("Checking rule",JSON.stringify(e));var n=t.productInfo,r=e.operator,o=e.condition,a=e.value,i=e.bindings;if(!r)return be.log("Rule function not defined"),!1;var c={};"productInfo"==i&&(c={productInfo:n});var u=Function(r).bind(c)();return J(u,o,a)},ke=new I("Nextday Session Checker"),xe=function(e){ke.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"duration":return Se(n,r);case"history":return Ie(n,r);default:return null}},Se=function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(window.sessionStorage.getItem(v)))}catch(e){return ke.log("Could not get session timestamp",e),Date.now()}}())/1e3;return J(n,e,parseInt(t))},Ie=function(e,t){var n,r=null===(n=window.sessionStorage.getItem(m))||void 0===n?void 0:n.split(",");return J(r,e,t)},Le=new I("Nextday Env Checker"),Ce=function(e){Le.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(g).matches?"mobile":"desktop";return J(o,n,r)}},Ae=new I("Nextday RandomPct Checker"),_e=function(){var e=c(s().mark((function e(t){var n,r,o,a,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ae.log("Checking rule",JSON.stringify(t)),n=t.condition,r=t.value,o=t.salt){e.next=5;break}return Ae.log("Salt is not defined"),e.abrupt("return",!1);case 5:return e.next=7,z();case 7:return a=e.sent,e.next=10,D(a+o);case 10:return i=e.sent,c=i,e.abrupt("return",J(c,n,r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ee(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pe=new I("Nextday Rule Engine"),Ne=function(){function e(t){l(this,e);var n=t.baseRuleSet,r=t.subVariantRuleSet,o=t.bindings,a=t.callback,i=void 0===a?null:a;this.baseRuleSet=n,this.subVariantRuleSet=r,this.callback=i,this.bindings=o}var t,n,r;return f(e,[{key:"checkRules",value:(r=c(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ee(this.baseRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return r.apply(this,arguments)})},{key:"checkSubVariantRules",value:(n=c(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ee(this.subVariantRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.subVariantId);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return n.apply(this,arguments)})},{key:"checkRule",value:(t=c(s().mark((function e(t){var n,r,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.chain,r=t.chain_condition,o=t.type,a=null,e.t0=o,e.next="session"===e.t0?5:"counter"===e.t0?7:"element"===e.t0?9:"dataLayer"===e.t0?11:"url"===e.t0?13:"function"===e.t0?15:"environment"===e.t0?17:"random"===e.t0?19:23;break;case 5:return a=xe(t),e.abrupt("break",25);case 7:return a=pe(t),e.abrupt("break",25);case 9:return a=ye(t),e.abrupt("break",25);case 11:return a=A(t),e.abrupt("break",25);case 13:return a=O(t),e.abrupt("break",25);case 15:return a=we(t,this.bindings),e.abrupt("break",25);case 17:return a=Ce(t),e.abrupt("break",25);case 19:return e.next=21,_e(t);case 21:return a=e.sent,e.abrupt("break",25);case 23:return Pe.log("No such rule type: ".concat(o)),e.abrupt("return",null);case 25:if(!n){e.next=51;break}e.t1=r,e.next="and"===e.t1?29:"or"===e.t1?36:"xor"===e.t1?43:49;break;case 29:if(e.t2=a,!e.t2){e.next=34;break}return e.next=33,this.checkRule(n);case 33:e.t2=e.sent;case 34:return a=e.t2,e.abrupt("break",51);case 36:if(e.t3=a,e.t3){e.next=41;break}return e.next=40,this.checkRule(n);case 40:e.t3=e.sent;case 41:return a=e.t3,e.abrupt("break",51);case 43:return e.t4=a,e.next=46,this.checkRule(n);case 46:return e.t5=e.sent,a=e.t4!=e.t5,e.abrupt("break",51);case 49:return Pe.log("No such chain condition"),e.abrupt("break",51);case 51:return e.abrupt("return",a);case 52:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Te=new I("Nextday Api"),je=function(){var e=c(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Te.log("Starting product info lookup"),t=K()){e.next=5;break}return Te.log("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.prev=7,e.next=10,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),Te.warn("Fetch to catalog api failed"),e.abrupt("return",null);case 17:if(r.ok){e.next=20;break}return Te.log("Product info lookup failed"),e.abrupt("return",null);case 20:return e.next=22,r.json();case 22:if(r=e.sent){e.next=26;break}return Te.log("Product info extraction from response failed"),e.abrupt("return",null);case 26:return Te.log("Product info lookup successful"),e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}();function Re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}c(s().mark((function t(){var n,r,i,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return te(ee.BeagleLoaded),n=null,r=null,(i=new I).info("Nextday initializing"),t.prev=5,t.delegateYield(s().mark((function e(){var t,u,l,d,f,p,w,S,I,L,C,A,_,E,O,P,N,T,R,q,U,V,J,B,$,G,H,K;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=je(),void 0,le=void 0,se=x,le=window.location.search,u=le.includes("nd_debug=1")?(window.localStorage.setItem(se,1),1):le.includes("nd_debug=2")?(window.localStorage.setItem(se,2),2):le.includes("nd_debug=0")?(window.localStorage.removeItem(se),0):parseInt(window.localStorage.getItem(se))||0,r=new ue(u),te(ee.Initialized),e.next=6,z();case 6:return l=e.sent,i.log("Found cookie identifier: ",l),e.next=10,D(l);case 10:if(d=e.sent,u){e.next=21;break}if(!(d<50)){e.next=18;break}if(-1!==d){e.next=15;break}throw new Error("Could not determine cookie pct");case 15:n=!1,e.next=19;break;case 18:n=!0;case 19:e.next=22;break;case 21:i.info("Debug mode on: all applicable treatments will be applied");case 22:if(f=window.location.search,p=u&&f.includes("filter=")?f.slice(f.indexOf("[")+1,f.lastIndexOf("]")).split(",").map((function(e){return parseInt(e,10)})):null,te(ee.UserOnOff),document.documentElement.classList.contains("nextDay-hide")){e.next=28;break}throw te(ee.ScriptTimeOut),new Error("Nextday script timed out");case 28:if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GLOV",GLOV_ON:n?"true":"false"}),!1!==n){e.next=32;break}throw new Error("Control group: no treatments applied");case 32:return F(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Q=y,W=b,Y=h,Z=v,ne=m,re=sessionStorage.getItem(Q),oe=sessionStorage.getItem(W),ae=sessionStorage.getItem(Y),ie=sessionStorage.getItem(Z),ce=sessionStorage.getItem(ne),re?sessionStorage.setItem(Q,parseInt(re)+1):sessionStorage.setItem(Q,1),null===oe&&sessionStorage.setItem(W,0),ae||sessionStorage.setItem(Y,crypto.randomUUID()),ie||sessionStorage.setItem(Z,Date.now()),ce?sessionStorage.setItem(ne,[window.location.pathname,ce]):sessionStorage.setItem(ne,[window.location.pathname]),setTimeout((function(){j()}),2e3),w=de.getTreatments(),S=window.matchMedia(g).matches,I={subtree:!0,childList:!0,attributes:!0},L=function(){var e=c(s().mark((function e(t){var n,r,o,c,d,f,g,h,v,m,y,b,w,k,x,I,L,C,A,_,E;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.actions,o=t.baseRuleSet,c=t.device,d=t.dependant_on_treatment,f=t.reapply_event,g=t.subVariantRuleSet,h=t.weight,!p||p.includes(n)){e.next=3;break}return e.abrupt("return");case 3:if("mobile"!==c||S){e.next=6;break}return i.log("Treatment device 'mobile' mismatch"),e.abrupt("return");case 6:if("desktop"!==c||!S){e.next=9;break}return i.log("Treatment device 'desktop' mismatch"),e.abrupt("return");case 9:if(f){v=f,Array.isArray(f)||(v=[f]),i.log("Reapply event '".concat(f,"' found for treatment: ").concat(n)),m=Re(v);try{for(m.s();!(y=m.n()).done;)b=y.value,(w=V[b]?V[b]:[]).includes(n)?i.log("Treatment already added for reapply event"):V[b]=[].concat(a(w),[n])}catch(e){m.e(e)}finally{m.f()}}if(k=new Ne({baseRuleSet:o,subVariantRuleSet:g,bindings:{productInfo:N}}),i.log("Starting base rule set check for treatment: "+n),e.t0=!o,e.t0){e.next=18;break}return e.next=17,k.checkRules();case 17:e.t0=e.sent;case 18:if(!e.t0){e.next=44;break}if(x=100===h?0:100-h||50,d&&(L=null===(I=R.find((function(e){return e.id===d})))||void 0===I?void 0:I.weight,x=100===L?0:100-L||50),i.log("Treatment skip ratio: "+x),C=d||n,1!==u){e.next=27;break}e.t1=100,e.next=30;break;case 27:return e.next=29,D(l+C);case 29:e.t1=e.sent;case 30:if(A=e.t1,i.log("TreatmentPct: "+A+" with debug mode ".concat(u?"on":"off")),_=null,E=r,g&&(i.log("Starting sub variant rule set check for treatment: "+n),(_=k.checkSubVariantRules())?(i.log("Applying sub variant with id: ",_),E=M(r,_)):i.log("Applying treatment with default values")),!(A<x)){e.next=41;break}return i.log("Treatment ".concat(n," skipped due to treatment split ratio")),U[n]={dependant_on_treatment:d||null,subVariantId:_,actions:E},e.abrupt("return");case 41:return X(E,N),q[n]={subVariantId:_,actions:E},e.abrupt("return");case 44:i.log("Rule check failed for treatment: ",n);case 45:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(C=function(){var e=k;if(window.location.href.includes("/siparis-listesi.html")){var t=Array.from(document.querySelectorAll(".price"));if(t.push.apply(t,a(Array.from(document.querySelectorAll(".new-price")))),!t.length)return i.log("Price elements not found"),void window.localStorage.setItem(e,0);i.log("Price elements: ",t);var n=t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);i.log("Coupon applicable total price: ",n),n>=0&&window.localStorage.setItem(e,n)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)})(),window.location.href.includes("/siparis-listesi.html")&&(A=new MutationObserver((function(){i.log("Mutation observed, calling collectCABasketPrice"),C()})),(_=document.querySelector("#checkoutForm"))&&A.observe(_,I)),e.next=44,Promise.all([w,t]);case 44:if(E=e.sent,O=o(E,2),P=O[0],N=O[1],i.log("Found treatments: ",P),i.log("Found cookie percentage: ",d),i.log("Split_ratio: ",50),i.log("cookiePct < SPLIT_RATIO",d<50),i.info("Control group ratio: ".concat(50,"%")),T=new de({treatments:P,cookiePct:d}),te(ee.TreatmentRepositoryCreated),(R=T.getMatchedTreatments()).length){e.next=61;break}return i.log("No treatments matched, returning without further action"),j(),r.sendLogs(n,"No treatments matched",!0),e.abrupt("return",{v:void 0});case 61:q={},U={},V={},J=Re(R),e.prev=65,J.s();case 67:if((B=J.n()).done){e.next=79;break}return $=B.value,e.prev=69,e.next=72,L($);case 72:e.next=77;break;case 74:e.prev=74,e.t0=e.catch(69),i.log("Error executing rules",e.t0);case 77:e.next=67;break;case 79:e.next=84;break;case 81:e.prev=81,e.t1=e.catch(65),J.e(e.t1);case 84:return e.prev=84,J.f(),e.finish(84);case 87:for(j(),te(ee.TreatmentsApplied),i.log("Applied treatments: ",q),r.updateTreatments(q,U),r.sendLogs(n),setInterval((function(){r.updateLatestChanges(q,U)}),1e3),G=function(){var e=K[H],t=V[e],n=R.filter((function(e){return t.includes(e.id)}));switch(e){case"infinite_scroll":var r=new ResizeObserver((function(){var e,t=Re(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from infinite_scroll")),L(r)}}catch(e){t.e(e)}finally{t.f()}}));r.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,t=Re(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from timeout")),L(r)}}catch(e){t.e(e)}finally{t.f()}}),500);break;case"element_change":var o,a=Re(n);try{var c=function(){var e,t=o.value,n=Re(Array.isArray(t.reapply_selector)?t.reapply_selector:[t.reapply_selector]);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=document.querySelector(r);a&&new MutationObserver((function(){i.log("Retrying treatment ".concat(t.id," from element_change")),L(t)})).observe(a,I)}}catch(e){n.e(e)}finally{n.f()}};for(a.s();!(o=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}break;case"on_scroll":window.onscroll=function(){var e,t=Re(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from on_scroll")),L(r)}}catch(e){t.e(e)}finally{t.f()}};break;case"query_search_change":var u=window.location.search,s=new MutationObserver((function(){if(window.location.search!==u){u=window.location.search;var e,t=Re(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from query_search_change")),L(r)}}catch(e){t.e(e)}finally{t.f()}}}));s.observe(document,I);break;default:i.log("Reapply event not found: ",e)}},H=0,K=Object.keys(V);H<K.length;H++)G();te(ee.ReapplyTreatmentListeners);case 96:case"end":return e.stop()}var Q,W,Y,Z,ne,re,oe,ae,ie,ce,se,le}),e,null,[[65,81,84,87],[69,74]])}))(),"t0",7);case 7:if("object"!==e(u=t.t0)){t.next=10;break}return t.abrupt("return",u.v);case 10:t.next=17;break;case 12:t.prev=12,t.t1=t.catch(5),j(),console.warn("Nextday: ",t.t1.message),r.sendLogs(n,t.t1.message,!0);case 17:case"end":return t.stop()}}),t,null,[[5,12]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OVJ2Qyx5REFBRCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlMaWtlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aEhvbGVzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5TGltaXQuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVJlc3QuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS91cmxDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBwbHlUcmVhdG1lbnRzL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQmVhZ2xlQ2hlY2twb2ludC9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheU1vbml0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5VHJlYXRtZW50UmVwb3NpdG9yeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2NvdW50ZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZWxlbWVudENoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9mdW5jdGlvbkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9zZXNzaW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2VudkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9yYW5kb21OdW1iZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBpL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheUNsaWVudFNESy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBkZWZpbmUoR3AsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShcbiAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCxcbiAgICBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgKTtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgZGVmaW5lKEdwLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9KTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCBpbiBtb2Rlcm4gZW5naW5lc1xuICAvLyB3ZSBjYW4gZXhwbGljaXRseSBhY2Nlc3MgZ2xvYmFsVGhpcy4gSW4gb2xkZXIgZW5naW5lcyB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBnbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG4gIH0gZWxzZSB7XG4gICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGU7IH07XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgX3R5cGVvZihvYmopO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufSIsImltcG9ydCBhcnJheVdpdGhIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheUxpbWl0IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVJlc3QgZnJvbSBcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IG5vbkl0ZXJhYmxlUmVzdCgpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRob3V0SG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRob3V0SG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVNwcmVhZCBmcm9tIFwiLi9ub25JdGVyYWJsZVNwcmVhZC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59IiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuZXhwb3J0IGNvbnN0IENPT0tJRV9OQU1FID0gXCJfZ2FcIjtcbi8vIFRPRE8gcmV2ZXJ0IHRoZSBmb2xsb3dpbmcgc3RhZ2luZyBlbnYgY2hlY2sgYWZ0ZXIgbW92aW5nIHRvIG5ldyBicmFuY2ggc3RydWN0dXJlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19MT0NBVElPTiA9IFwiaHR0cHM6Ly9ob3N0LWI5Ni5wYWdlcy5kZXYvdHJlYXRtZW50cy5qc29uXCI7XG5leHBvcnQgY29uc3QgU1RZTEVTSEVFVF9MT0NBVElPTiA9IFwiaHR0cHM6Ly9ob3N0LWI5Ni5wYWdlcy5kZXYvbmQtc3R5bGVzLmNzc1wiO1xuZXhwb3J0IGNvbnN0IExPR19BUElfVVJMID0gXCJodHRwczovL2V1cm9wZS13ZXN0My1uZXh0ZGF5LTM0ZWIzLmNsb3VkZnVuY3Rpb25zLm5ldC9hcGkvbG9nUmVzcG9uc2VcIjtcbmV4cG9ydCBjb25zdCBMT09LVVBfQVBJX1VSTCA9IFwiaHR0cHM6Ly9jYXRhbG9nLWFwaS5hZG9yYWFpLmNvbVwiO1xuZXhwb3J0IGNvbnN0IE1PQklMRV9NRURJQV9RVUVSWSA9IFwiKG1heC13aWR0aDogNDQwcHgpXCI7XG4vLyBDb250cm9sIGdyb3VwIHBlcmNlbnRhZ2VcbmV4cG9ydCBjb25zdCBTUExJVF9SQVRJTyA9IDUwO1xuLy8gU2tpcHBlZCB0cmVhdG1lbnQgcGVyY2VudGFnZVxuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVF9SQVRJTyA9IDUwO1xuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVFNfRFVSQVRJT04gPSAxO1xuXG5leHBvcnQgY29uc3QgU0VTU0lPTl9TVE9SQUdFX0tFWVMgPSB7XG4gIFNFU1NJT05fSUQ6IFwiX19uZXh0ZGF5X3Nlc3Npb25faWRcIixcbiAgU0VTU0lPTl9USU1FU1RBTVA6IFwiTkRfU2Vzc2lvblRpbWVzdGFtcFwiLFxuICBTRVNTSU9OX0hJU1RPUlk6IFwiQk5fU2Vzc2lvbkhpc3RvcnlcIixcbiAgVFJFQVRNRU5UUzogXCJORF9UcmVhdG1lbnRzXCIsXG4gIFBBR0VfVklFV1M6IFwiTkRfUGFnZVZpZXdzXCIsXG4gIFBPUFVQX0RJU1BMQVlfRkxBRzogXCJORF9Qb3B1cERpc3BsYXlGbGFnXCIsXG4gIE5EX1NLVV9MSVNUOiBcIk5EX1NrdUxpc3RcIixcbn07XG5leHBvcnQgY29uc3QgTE9DQUxfU1RPUkFHRV9LRVlTID0ge1xuICBDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0U6IFwiTkRfQ0FCYXNrZXRQcmljZVwiLFxuICBORF9ERUJVR19NT0RFOiBcIk5EX0RlYnVnXCIsXG59O1xuIiwiaW1wb3J0IHtMT0NBTF9TVE9SQUdFX0tFWVN9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuY2xhc3MgTG9nZ2VyIHtcbiAgY29uc3RydWN0b3Iob3JpZ2luID0gXCJOZXh0ZGF5IENsaWVudCBTREtcIikge1xuICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xuICAgIHRoaXMuREVCVUcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk5EX0RFQlVHX01PREUpO1xuICB9XG5cbiAgaW5mbyguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUuaW5mbyhgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGxvZyguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoREVCVUcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHdhcm4oLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLndhcm4oYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cblxuICBlcnJvciguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUuZXJyb3IoYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRGF0YUxheWVyIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0RhdGFMYXllclJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IGRhdGFMYXllckZpbmRlcihvcGVyYXRvcik7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGF0YUxheWVyRmluZGVyID0gKGtleSkgPT4ge1xuICBsb2dnZXIubG9nKFwiU2VhcmNoaW5nIGRhdGFMYXllciBmb3Iga2V5XCIsIGtleSk7XG4gIGZvciAoY29uc3Qgb2JqIG9mIHdpbmRvdy5kYXRhTGF5ZXIpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBpZiAoa2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICBsb2dnZXIubG9nKGBGb3VuZCBrZXkgJHtrZXl9IHdpdGggdmFsdWUgJHtvYmpba2V5XX1gKTtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9XG4gIH1cbiAgbG9nZ2VyLmxvZyhgS2V5ICR7a2V5fSBub3QgZm91bmQgaW4gZGF0YUxheWVyYCk7XG4gIHJldHVybiBudWxsO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFVybCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tVcmxSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwicGF0aFwiOiB7XG4gICAgICBjb25zdCByZXF1ZXN0VVJMPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgIGNvbnN0IGlzQWpheCA9IHJlcXVlc3RVUkwuaW5jbHVkZXMoXCJhamF4L21vYmlsZS1zZWFyY2gvbG9hZE90aGVyUGFnZXMucGhwXCIpO1xuICAgICAgY29uc3QgcGF0aCA9ICFpc0FqYXggPyBuZXcgVVJMKHJlcXVlc3RVUkwpLnBhdGhuYW1lIDpcbiAgICAgIGRlY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgICBuZXcgVVJMKHJlcXVlc3RVUkwpLnNlYXJjaC5yZXBsYWNlKFwiP29yaWdpbmFsUGF0aD1cIiwgXCJcIiksXG4gICAgICApO1xuICAgICAgbG9nZ2VyLmxvZyhgQ2hlY2tpbmcgcGF0aCAke3BhdGh9IG1hdGNoZXMgcnVsZSBwYXRoICR7dmFsdWV9YCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYXRoLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQge2NoZWNrRGF0YUxheWVyUnVsZX0gZnJvbSBcIi4vTmV4dGRheVJ1bGVFbmdpbmUvZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1VybFJ1bGV9IGZyb20gXCIuL05leHRkYXlSdWxlRW5naW5lL3VybENoZWNrZXJcIjtcbmltcG9ydCB7XG4gIENPT0tJRV9OQU1FLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBTVFlMRVNIRUVUX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRTX0xPQ0FUSU9OfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFV0aWxzXCIpO1xuXG5pZiAoIShcInJhbmRvbVVVSURcIiBpbiBjcnlwdG8pKSB7XG4gIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzLzI4MDAyMThcbiAgLy8gTElDRU5TRTogaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LXNhLzQuMC9sZWdhbGNvZGVcbiAge1xuICAgIHJhbmRvbVVVSURGYWxsYmFjaygpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCByZW1vdmVEb2N1bWVudEhpZGUgPSAoKSA9PiB7XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibmV4dERheS1oaWRlXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoVHJlYXRtZW50cyA9IGFzeW5jICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkZldGNoaW5nIHRyZWF0bWVudHNcIik7XG4gIGNvbnN0IHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaChUUkVBVE1FTlRTX0xPQ0FUSU9OKTtcbiAgcmV0dXJuIGF3YWl0IHRyZWF0bWVudHMuanNvbigpO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RDb29raWVJZGVudGlmaWVyID0gKGNvb2tpZVN0cmluZywgY29va2llTmFtZSkgPT4ge1xuICBpZiAoIWNvb2tpZVN0cmluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgcGFyc2VkID0gY29va2llU3RyaW5nXG4gICAgICAuc3BsaXQoXCI7XCIpXG4gICAgICAubWFwKCh2KSA9PiB2LnNwbGl0KFwiPVwiKSlcbiAgICAgIC5yZWR1Y2UoKGFjYywgdikgPT4ge1xuICAgICAgICBpZiAodlswXSAmJiB2WzFdKSB7XG4gICAgICAgICAgYWNjW2RlY29kZVVSSUNvbXBvbmVudCh2WzBdLnRyaW0oKSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZbMV0udHJpbSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuXG4gIGxldCBpZGVudGlmaWVyID0gcGFyc2VkW2Nvb2tpZU5hbWVdO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoY29va2llTmFtZSA9PT0gXCJfZ2FcIikge1xuICAgIC8vIGV4dHJhY3QgdW5pcXVlIGlkZW50aWZpZXIgZnJvbSBHQSBjb29raWVcbiAgICBjb25zdCBpZGVudGlmaWVySW5kZXggPSAyO1xuICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyLnNwbGl0KFwiLlwiKVtpZGVudGlmaWVySW5kZXhdO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGRldGVybWluZVBjdCA9IGFzeW5jIChpZGVudGlmaWVyKSA9PiB7XG4gIGNvbnN0IHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24gPSA5O1xuICBjb25zdCBzdWJzdHJpbmdMZW5ndGggPSA4O1xuICBjb25zdCBzdWJzdHJpbmdFbmRQb3NpdGlvbiA9IHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24gKyBzdWJzdHJpbmdMZW5ndGg7XG4gIGlmICghaWRlbnRpZmllcikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICAvLyBlbmNvZGUgc3RyaW5nIHRvIGFuIGFycmF5IG9mIDgtYml0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzXG4gIGNvbnN0IGVuY29kZWQgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoaWRlbnRpZmllcik7XG5cbiAgLy8gaGFzaCB0aGUgZW5jb2RlZCBjb29raWUgaW50byBhIGJ1ZmZlclxuICBjb25zdCBoYXNoQnVmZmVyID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMVwiLCBlbmNvZGVkKTtcblxuICAvLyBjb252ZXJ0IGJ1ZmZlciB0byBieXRlIGFycmF5XG4gIGNvbnN0IGhhc2hBcnJheSA9IEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoaGFzaEJ1ZmZlcikpO1xuXG4gIC8vIGNvbnZlcnQgYnl0ZXMgdG8gaGV4IHN0cmluZ1xuICBjb25zdCBoYXNoU3RyaW5nID0gaGFzaEFycmF5XG4gICAgICAubWFwKChiKSA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpXG4gICAgICAuam9pbihcIlwiKTtcblxuICAvLyBNYXAgdGhlIGNvb2tpZSBoYXNoIHRvIGEgbnVtYmVyIGJldHdlZW4gMCAtPiA5OSxcbiAgLy8gdGhpcyBudW1iZXIgaXMgdGhlIG9uUmF0aW9uXG4gIGNvbnN0IGhhc2hOdW1iZXIgPSBwYXJzZUludChoYXNoU3RyaW5nLnN1YnN0cmluZyhzdWJzdHJpbmdTdGFydFBvc2l0aW9uLCBzdWJzdHJpbmdFbmRQb3NpdGlvbiksIDE2KTtcblxuICByZXR1cm4gaGFzaE51bWJlciAlIDEwMDtcbn07XG5cbmV4cG9ydCBjb25zdCBleGl0U2Nyb2xsTGlzdGVuZXIgPSAoY2FsbEJhY2spID0+IHtcbiAgY29uc3QgbG9vcCA9ICgpID0+IHtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIGlmIChsYXN0U2Nyb2xsVG9wIC0gNDAwID4gc2Nyb2xsVG9wKSB7XG4gICAgICBjbGVhckludGVydmFsKGV4aXRTY3JvbGxJbnRlcnZhbCk7XG4gICAgICBjYWxsQmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0U2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICBsZXQgbGFzdFNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIGNvbnN0IGV4aXRTY3JvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGxvb3AsIDUwMCk7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYXBwbHkgdHJlYXRtZW50cyB0byB0aGUgcGFnZSBvbiBzcGVjaWZpYyBtZWRpYSB0eXBlLlxuICogQHBhcmFtIHtNZWRpYVF1ZXJ5TGlzdH0gbWVkaWFRdWVyeUNvbmRpdGlvbiB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDUwMHB4KVwiKVxuICogQHBhcmFtIHtET01Ob2RlTGlzdCB9IGVsZW1lbnRzIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXYucHJvZHVjdF9pbmZvXCIpXG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVDaGFuZ2VzTWFwIHsgXCJtYXJnaW4tdG9wXCIgOiBcIjEwcmVtXCJ9XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3Qgc3R5bGVBcHBsaWNhdG9yID0gKGVsZW1lbnRzLCBzdHlsZUNoYW5nZXNNYXApID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHN0eWxlIGNoYW5nZXNcIiwgc3R5bGVDaGFuZ2VzTWFwLCBcInRvIGVsZW1lbnRzXCIsIGVsZW1lbnRzKTtcbiAgZm9yIChsZXQgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlQ2hhbmdlc01hcCkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdFN0eWxlU2hlZXQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgc3R5bGVTaGVldC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgc3R5bGVTaGVldC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICBzdHlsZVNoZWV0LmhyZWYgPSBTVFlMRVNIRUVUX0xPQ0FUSU9OO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlU2hlZXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmVBY3Rpb25zID0gKGFjdGlvbnNUb1ByZXBhcmUsIHN1YlZhcmlhbnRJZCkgPT4ge1xuICBjb25zdCBhY3Rpb25zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhY3Rpb25zVG9QcmVwYXJlKSk7XG4gIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICBjb25zdCB7c3ViVmFyaWFudHN9ID0gYWN0aW9uO1xuICAgIGlmICghc3ViVmFyaWFudHMpIGNvbnRpbnVlO1xuICAgIGZvciAoY29uc3Qgc3ViVmFyaWFudCBvZiBzdWJWYXJpYW50cykge1xuICAgICAgaWYgKHN1YlZhcmlhbnQuaWQgPT09IHN1YlZhcmlhbnRJZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdWJWYXJpYW50KSB7XG4gICAgICAgICAgaWYgKGtleSAhPT0gXCJpZFwiKSB7XG4gICAgICAgICAgICBhY3Rpb25ba2V5XSA9IHN1YlZhcmlhbnRba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhY3Rpb25zO1xufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzID0gKCkgPT4ge1xuICBjb25zdCB7UEFHRV9WSUVXUywgUE9QVVBfRElTUExBWV9GTEFHLCBTRVNTSU9OX0lELCBTRVNTSU9OX1RJTUVTVEFNUCwgU0VTU0lPTl9ISVNUT1JZfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuXG4gIGNvbnN0IHBhZ2VWaWV3cyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEFHRV9WSUVXUyk7XG4gIGNvbnN0IHBvcHVwRGlzcGxheUZsYWcgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRyk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9JRCk7XG4gIGNvbnN0IHNlc3Npb25UaW1lc3RhbXAgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QKTtcbiAgY29uc3Qgc2Vzc2lvbkhpc3RvcnkgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fSElTVE9SWSk7XG5cbiAgaWYgKCFwYWdlVmlld3MpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBBR0VfVklFV1MsIDEpO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEFHRV9WSUVXUywgcGFyc2VJbnQocGFnZVZpZXdzKSArIDEpO1xuICB9XG4gIGlmIChwb3B1cERpc3BsYXlGbGFnID09PSBudWxsKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDApO1xuICB9XG4gIGlmICghc2Vzc2lvbklkKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0lELCBjcnlwdG8ucmFuZG9tVVVJRCgpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25UaW1lc3RhbXApIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QLCBEYXRlLm5vdygpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25IaXN0b3J5KSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0hJU1RPUlksIFt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVdKTtcbiAgfSBlbHNlIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgc2Vzc2lvbkhpc3RvcnldKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbkNoZWNrZXIgPSAocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGlmIChjb25kaXRpb24gPT09IFwibm90RXhpc3RcIikge1xuICAgIGlmICghcnVuVGltZVZhbHVlKSB7XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChydW5UaW1lVmFsdWUgPT09IG51bGwgfHxcbiAgICBydW5UaW1lVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gbnVsbCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IHJ1blRpbWVWYWx1ZSBvciBjb25kaXRpb24gaXMgbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN3aXRjaCAoY29uZGl0aW9uKSB7XG4gICAgY2FzZSBcImV4aXN0XCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBleGlzdFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiY29udGFpbnNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90Q29udGFpbnNcIjpcbiAgICAgIGlmICghcnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGNvbnRhaW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGVxdWFscyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90RXF1YWxcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBsZXNzIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZ3JlYXRlckVxdWFsc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDw9IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImJldHdlZW5cIjoge1xuICAgICAgbGV0IFttaW4sIG1heF0gPSB2YWx1ZS5zcGxpdChcIixcIik7XG4gICAgICBtaW4gPSBwYXJzZUludChtaW4pO1xuICAgICAgbWF4ID0gcGFyc2VJbnQobWF4KTtcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gbWluICYmIHJ1blRpbWVWYWx1ZSA8PSBtYXgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IGNvbmRpdGlvbiBpcyBub3QgZGVmaW5lZCBcIiwgY29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJhbmRvbVVVSURGYWxsYmFjayA9ICgpID0+IHtcbiAgY3J5cHRvLnJhbmRvbVVVSUQgPSBmdW5jdGlvbiByYW5kb21VVUlEKCkge1xuICAgIHJldHVybiAoXG4gICAgICBbMWU3XSstMWUzKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZyxcbiAgICAgICAgKGMpID0+IChjIF4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiBjIC8gNCkudG9TdHJpbmcoMTYpLFxuICAgICk7XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgY29tcGFyZU9iamVjdHMgPSAob2JqMSwgb2JqMikgPT4ge1xuICBpZiAob2JqMSA9PT0gb2JqMikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKFxuICAgIHR5cGVvZiBvYmoxICE9PSBcIm9iamVjdFwiIHx8XG4gICAgICB0eXBlb2Ygb2JqMiAhPT0gXCJvYmplY3RcIiB8fFxuICAgICAgb2JqMSA9PSBudWxsIHx8XG4gICAgICBvYmoyID09IG51bGxcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qga2V5c0EgPSBPYmplY3Qua2V5cyhvYmoxKTtcbiAgY29uc3Qga2V5c0IgPSBPYmplY3Qua2V5cyhvYmoyKTtcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgcmVzdWx0ID0gdHJ1ZTtcblxuICBrZXlzQS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAoIWtleXNCLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBvYmoxW2tleV0gPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICAgIHR5cGVvZiBvYmoyW2tleV0gPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgaWYgKG9iajFba2V5XS50b1N0cmluZygpICE9PSBvYmoyW2tleV0udG9TdHJpbmcoKSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWNvbXBhcmVPYmplY3RzKG9iajFba2V5XSwgb2JqMltrZXldKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldERlYnVnTW9kZSA9ICgpID0+IHtcbiAgY29uc3Qge05EX0RFQlVHX01PREV9ID0gTE9DQUxfU1RPUkFHRV9LRVlTO1xuICBjb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTFcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTkRfREVCVUdfTU9ERSwgMSk7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MlwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShORF9ERUJVR19NT0RFLCAyKTtcbiAgICByZXR1cm4gMjtcbiAgfVxuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0wXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKE5EX0RFQlVHX01PREUpO1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IGN1cnJlbnQgPSBwYXJzZUludCh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTkRfREVCVUdfTU9ERSkpO1xuICByZXR1cm4gKGN1cnJlbnQgfHwgMCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SWRlbnRpZmllciA9IGFzeW5jIChjb29raWVOYW1lID0gQ09PS0lFX05BTUUpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIGNvb2tpZU5hbWUpO1xuICAgIGlmIChpZCkgcmVzb2x2ZShpZCk7XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBleHRyYWN0SWRlbnRpZmllckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZCA9IGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgY29va2llTmFtZSk7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCk7XG4gICAgICAgICAgcmVzb2x2ZShpZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQ291bGQgbm90IGV4dHJhY3QgY29va2llIGlkZW50aWZpZXJcIikpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxheSA9IChtcykgPT4gbmV3IFByb21pc2UoKHJlcykgPT4gc2V0VGltZW91dChyZXMsIG1zKSk7XG5cbi8vIENvbGxlY3QgcHJvZHVjdCBTS1VzIGZyb20gcGFnZVxuZXhwb3J0IGNvbnN0IHNrdUNvbGxlY3RvciA9ICgpID0+IHtcbiAgY29uc3Qge05EX1NLVV9MSVNUfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICBjb25zdCBza3VMaXN0ID0gW107XG5cbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBob21lIHBhZ2VcbiAgY29uc3QgcnVsZSA9IHtcbiAgICBvcGVyYXRvcjogXCJQYWdlVHlwZVwiLFxuICAgIGNvbmRpdGlvbjogXCJlcXVhbFwiLFxuICAgIHZhbHVlOiBcIkhvbWVwYWdlXCIsXG4gIH07XG4gIGlmIChjaGVja0RhdGFMYXllclJ1bGUocnVsZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgbGlzdGluZyBwYWdlXG4gIHJ1bGUudmFsdWUgPSBcIkxpc3RpbmdwYWdlXCI7XG4gIGlmIChjaGVja0RhdGFMYXllclJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0LWNhcmRcIikpO1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHNrdUxpc3QucHVzaChlLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1za3VcIikpO1xuICAgIH0pO1xuICAgIGlmICghc2t1TGlzdC5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IFNLVXMgbm90IGZvdW5kIG9uIExpc3RpbmdwYWdlXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTkRfU0tVX0xJU1QsIEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpKTtcblxuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBwcm9kdWN0IHBhZ2VcbiAgcnVsZS52YWx1ZSA9IFwiUHJvZHVjdHBhZ2VcIjtcbiAgaWYgKGNoZWNrRGF0YUxheWVyUnVsZShydWxlKSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2R1Y3Qtc2t1XCIpO1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgU0tVIG5vdCBmb3VuZCBvbiBQcm9kdWN0cGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBza3VMaXN0LnB1c2goZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNrdVwiKSk7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShORF9TS1VfTElTVCwgSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCkpO1xuXG4gICAgcmV0dXJuIHNrdUxpc3Q7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGJhc2tldCBwYWdlXG4gIHJ1bGUub3BlcmF0b3IgPSBcInBhdGhcIjtcbiAgcnVsZS52YWx1ZSA9IFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCI7XG4gIGlmIChjaGVja1VybFJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJ0LWluc2lkZVwiKSk7XG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgc2t1TGlzdC5wdXNoKGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1za3VcIikpO1xuICAgIH0pO1xuICAgIGlmICghc2t1TGlzdC5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IFNLVXMgbm90IGZvdW5kIG9uIGJhc2tldCBwYWdlXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTkRfU0tVX0xJU1QsIEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpKTtcblxuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgbG9nZ2VyLmxvZyhcIlVuaWRlbnRpZmllZCBwYWdlIHR5cGVcIik7XG4gIHJldHVybiBudWxsO1xufTtcblxuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtleGl0U2Nyb2xsTGlzdGVuZXIsIHN0eWxlQXBwbGljYXRvciwgZGVsYXl9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUlksIFNFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2RhdGFMYXllckZpbmRlcn0gZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5hc3luYyBmdW5jdGlvbiBhcHBseVRyZWF0bWVudHModHJlYXRtZW50cywgcHJvZHVjdEluZm8pIHtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBwbHkgVHJlYXRtZW50c1wiKTtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBR30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCB0cmFuc2Zvcm1lciA9IGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyZWF0bWVudCkge1xuICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQ6IFwiLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnQpKTtcbiAgICBjb25zdCB7XG4gICAgICBvcGVyYXRvcixcbiAgICAgIHR5cGUsXG4gICAgICBhcHBseUV2ZW50LFxuICAgICAgY29udGVudFNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3IsXG4gICAgICBzZWxlY3RvckZhbGxiYWNrLFxuICAgICAgbWRDb25kaXRpb24sXG4gICAgICBtb3ZlX3NlbGVjdG9yXzEsXG4gICAgICBtb3ZlX3NlbGVjdG9yXzIsXG4gICAgICByZXBsYWNlRm4sXG4gICAgfSA9IHRyZWF0bWVudDtcbiAgICBsZXQge3ZhbHVlfSA9IHRyZWF0bWVudDtcbiAgICBsZXQgZWxlbWVudCA9ICQoc2VsZWN0b3IpO1xuXG4gICAgY29uc3QgbWMgPSBtZENvbmRpdGlvbiA/IHdpbmRvdy5tYXRjaE1lZGlhKG1kQ29uZGl0aW9uKS5tYXRjaGVzIDogdHJ1ZTtcbiAgICBpZiAoIW1jKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTWVkaWEgY29uZGl0aW9uIG1pc21hdGNoOiBcIiwgbWRDb25kaXRpb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAobW92ZV9zZWxlY3Rvcl8xICYmICFtb3ZlX3NlbGVjdG9yXzIpIHx8XG4gICAgICAobW92ZV9zZWxlY3Rvcl8yICYmICFtb3ZlX3NlbGVjdG9yXzEpXG4gICAgKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQm90aCBtb3ZlIHNlbGVjdG9ycyBhcmUgcmVxdWlyZWRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb3ZlX3NlbGVjdG9yXzEgJiYgbW92ZV9zZWxlY3Rvcl8yKSB7XG4gICAgICBpZiAoISQobW92ZV9zZWxlY3Rvcl8xKS5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk1vdmUgc2VsZWN0b3IgMSBub3QgZm91bmQ6IFwiLCBtb3ZlX3NlbGVjdG9yXzEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoISQobW92ZV9zZWxlY3Rvcl8yKS5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk1vdmUgc2VsZWN0b3IgMiBub3QgZm91bmQ6IFwiLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3Qgc3BlY2lmaWVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgIGlmIChzZWxlY3RvciAhPT0gXCJuby1zZWxlY3RvclwiKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBmb3VuZDogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVHJ5aW5nIGZhbGxiYWNrIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKHNlbGVjdG9yRmFsbGJhY2spIGVsZW1lbnQgPSAkKHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJGYWxsYmFjayBzZWxlY3RvciBub3QgZm91bmRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVwbGFjZUZuRXhlY3V0b3IgPSAocmVwbGFjZUZuLCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHJlcGxhY2VGbiAmJiB2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJFeGVjdXRpbmcgcmVwbGFjZSBmdW5jdGlvbjogXCIsIHJlcGxhY2VGbik7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgICAgZGF0YUxheWVyRmluZGVyLFxuICAgICAgICAgIHByb2R1Y3RJbmZvLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXBsYWNlRnVuY3Rpb24gPSBGdW5jdGlvbihyZXBsYWNlRm4pLmJpbmQoY29udGV4dCk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZUFsbChcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VGdW5jdGlvbigpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKCh2YWwsIGkpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFJlcGxhY2VGbiA9IHJlcGxhY2VGbiA/IHJlcGxhY2VGbltpXSB8fCByZXBsYWNlRm4gOiBcIlwiO1xuICAgICAgICB2YWx1ZVtpXSA9IHJlcGxhY2VGbkV4ZWN1dG9yKGN1cnJlbnRSZXBsYWNlRm4sIHZhbCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAob3BlcmF0b3IgPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJSZW1vdmluZzogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJDYW5ub3QgZm91bmQgZWxlbWVudCB3aXRoIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3IpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5zZXJ0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBiZWZvcmU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgaWYgKFN0cmluZyh2YWx1ZSkuaW5jbHVkZXMoXCJuZC1hZGQtdG8td2luXCIpKSB7XG4gICAgICAgICAgICAkKFwiLm5kLWFkZC10by13aW5cIikucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFmdGVyXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBhZnRlcjogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmFmdGVyKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcHVwXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKSkgIT09IDApIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlBvcHVwIGFscmVhZHkgZGlzcGxheWVkIGluIHNlc3Npb25cIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkNyZWF0aW5nIFBvcHVwOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY3JlYXRlUG9wdXAodmFsdWUsIGNvbnRlbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImV4aXRJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBleGl0IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGV4aXRTY3JvbGxMaXN0ZW5lcihkaXNwbGF5UG9wdXApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1vdXNlbGVhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7b25jZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb3B5SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgY29weSBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb3B5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB7b25jZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gYXBwZW5kIHBvcHVwIHRvIGJvZHkgYWZ0ZXIgdGltZW91dCBleHBpcmVzXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCgpO1xuICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJlZGl0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIHRleHQ6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC50ZXh0KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlQXBwbGljYXRvclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUNoYW5nZXNNYXAgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJTdHlsZSBDaGFuZ2VzIE1hcDogXCIsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgICAgICBzdHlsZUFwcGxpY2F0b3IoZWxlbWVudHMsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQ2xhc3NcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBhZGRkaW5nIGNsYXNzIHRvICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJlbW92ZUNsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgcmVtb3ZlIGNsYXNzIGZyb20gJHtlbGVtZW50fSBuYW1lZCAke3ZhbHVlfWApO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3ModmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG9jdW1lbnRUaXRsZVwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYGNoYW5naW5nIGRvY3VtZW50IHRpdGxlIGZyb20gJHtlbGVtZW50fSB0byAke3ZhbHVlfWApO1xuICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50ID09IFwidGFiQ2hhbmdlXCIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiY2F0Y2hpbmcgZXZlbnQgdGFiY2hhbmdlLi5cIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIChlKSA9PlxuICAgICAgICAgICAgICAgICAgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZShlLCB2YWx1ZSwgb3JpZ2luYWxUaXRsZSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQmFubmVyXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qge05EX1NLVV9MSVNUfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgICAgICAgICAgaWYgKCFwcm9kdWN0SW5mbykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIHVuYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgYmFubmVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudFNrdSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShORF9TS1VfTElTVCkpWzBdO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50U2t1KSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgZmluZCBwcm9kdWN0IHNrdVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb2R1Y3RJbmZvKS5pbmNsdWRlcyhlbGVtZW50U2t1KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlVua25vd24gZWRpdCB0eXBlOiBcIiwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzZXRhdHRyaWJ1dGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgYXR0cmlidXRlOiBcIiwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGF0dHJpYnV0ZSkge1xuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgZWxlbWVudC5jc3MoXCJjb250ZW50XCIsIGB1cmwoJHt2YWx1ZS50cmltKCl9KWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhwcm9wZXJ0eSwgcHJvcGVydHlWYWx1ZSwgXCIhaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nOiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5yZXBsYWNlQWxsKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInN3YXBcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlN3YXBwaW5nOiBcIiwgbW92ZV9zZWxlY3Rvcl8xLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgY29uc3QgbjEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBuMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIHN3YXBOb2RlcyhuMSwgbjIpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5qZWN0c2NyaXB0XCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbmplY3Rpbmcgc2NyaXB0OiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5hcHBlbmQoYDxzY3JpcHQ+JHt2YWx1ZX08L3NjcmlwdD5gKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIm1vdmVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhgTW92aW5nICR7bW92ZV9zZWxlY3Rvcl8xfSB0byAke21vdmVfc2VsZWN0b3JfMn1gKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc291cmNlLnJlbW92ZSgpO1xuICAgICAgZGVzdGluYXRpb24ucHJlcGVuZChzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwibm9vcFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm9vcCBPcGVyYXRvcjogTm8gb3BlcmF0aW9uIGlzIGFwcGxpZWQgb24gdGFyZ2V0IFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggb3BlcmF0b3IgZXhpc3RzIHlldFwiLCBvcGVyYXRvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UgPSBhc3luYyAoZXZlbnQsIHRpdGxlcywgb3JpZ2luYWxUaXRsZSkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZFRpdGxlcyA9ICFBcnJheS5pc0FycmF5KHRpdGxlcykgPyBbdGl0bGVzXSA6IHRpdGxlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnNlZFRpdGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHBhcnNlZFRpdGxlc1tpXTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMzAwMCk7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMzAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UoZXZlbnQsIHRpdGxlcywgb3JpZ2luYWxUaXRsZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvcHVwQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBpZCA9IGV2ZW50LnRhcmdldC5pZDtcbiAgICBpZiAoaWQgJiYgaWQgPT09IFwibmQtcG9wdXBfX3dyYXBwZXJcIikge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXlQb3B1cCA9ICgpID0+IHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRywgMSk7XG4gICAgY29uc3QgcVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNncnQtc2hhZG93LWhvc3RcIik7XG4gICAgaWYgKHFQb3B1cCkgcVBvcHVwLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmQtcG9wdXBfX3dyYXBwZXJcIikuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJibG9ja1wiO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG5cbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29weVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH0sIDE1MDAwKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVQb3B1cCA9ICh2YWx1ZSwgY29udGVudFNlbGVjdG9yKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHBvcHVwIHdyYXBwZXJcbiAgICBjb25zdCBwb3B1cFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgcG9wdXBXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKTtcbiAgICBwb3B1cFdyYXBwZXIuaWQgPSBcIm5kLXBvcHVwX193cmFwcGVyXCI7XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibmQtcG9wdXBfX2J1dHRvbi1jbG9zZVwiKTtcbiAgICBwb3B1cENsb3NlQnV0dG9uLmlubmVyVGV4dCA9IFwiWFwiO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH07XG5cbiAgICBpZiAoY29udGVudFNlbGVjdG9yKSB7XG4gICAgICBjb25zdCBjb250ZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb250ZW50U2VsZWN0b3IpKTtcbiAgICAgIHdoaWxlICh2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpICYmIGNvbnRlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwie3tSRVBMQUNFfX1cIiwgY29udGVudHMuc2hpZnQoKS5zcmMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBwb3B1cCBmcm9tIHRyZWF0bWVudCBhbmQgYXBwZW5kIGNsb3NlIGJ1dHRvblxuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlLnRyaW0oKTtcbiAgICBjb25zdCBwb3B1cCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICBwb3B1cC5hcHBlbmRDaGlsZChwb3B1cENsb3NlQnV0dG9uKTtcbiAgICBwb3B1cFdyYXBwZXIuYXBwZW5kQ2hpbGQocG9wdXApO1xuXG4gICAgLy8gUmVtb3ZlIG9sZCBwb3B1cCBpZiBleGlzdHMgYmVmb3JlIGFwcGVuZGluZyBuZXcgb25lXG4gICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBvcHVwV3JhcHBlcik7XG4gIH07XG5cbiAgY29uc3Qgc3dhcE5vZGVzID0gZnVuY3Rpb24gc3dhcE5vZGVzKG4xLCBuMikge1xuICAgIGNvbnN0IHAxID0gbjEucGFyZW50Tm9kZTtcbiAgICBjb25zdCBwMiA9IG4yLnBhcmVudE5vZGU7XG4gICAgbGV0IGkxO1xuICAgIGxldCBpMjtcblxuICAgIGlmICghcDEgfHwgIXAyIHx8IHAxLmlzRXF1YWxOb2RlKG4yKSB8fCBwMi5pc0VxdWFsTm9kZShuMSkpIHJldHVybjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMS5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMSkpIHtcbiAgICAgICAgaTEgPSBpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAyLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocDIuY2hpbGRyZW5baV0uaXNFcXVhbE5vZGUobjIpKSB7XG4gICAgICAgIGkyID0gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocDEuaXNFcXVhbE5vZGUocDIpICYmIGkxIDwgaTIpIHtcbiAgICAgIGkyKys7XG4gICAgfVxuICAgIHAxLmluc2VydEJlZm9yZShuMiwgcDEuY2hpbGRyZW5baTFdKTtcbiAgICBwMi5pbnNlcnRCZWZvcmUobjEsIHAyLmNoaWxkcmVuW2kyXSk7XG4gIH07XG5cbiAgY29uc3QgdHJlYXRtZW50QXBwbGljYXRvciA9ICh0cmVhdG1lbnRMaXN0KSA9PiB7XG4gICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB0cmVhdG1lbnRBcHBsaWNhdG9yKHRyZWF0bWVudExpc3QpO1xuICAgICAgfSwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiB0cmVhdG1lbnRMaXN0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdHJhbnNmb3JtZXIodHJlYXRtZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcbiAgICAgICAgICAgICAgYENvdWxkbid0IGFwcGx5IHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gd2l0aCBlcnJvciAke2Vyci5tZXNzYWdlfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBTZXQgaWQgb2YgZmFpbGVkIHRyZWF0bWVudCB0byAtMSxcbiAgICAgICAgICAvLyBzbyB3ZSBrbm93IG5vdCB0byBsaXN0IGluIHRoZSBjdXN0b20gR0EgZXZlbnRcbiAgICAgICAgICAvLyB0cmVhdG1lbnRMaXN0W3RyZWF0bWVudF0uaWQgPSAtMTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBBcHBseSB0cmVhdG1lbnRzXG4gIHRyZWF0bWVudEFwcGxpY2F0b3IodHJlYXRtZW50cyk7XG59XG5leHBvcnQgZGVmYXVsdCBhcHBseVRyZWF0bWVudHM7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUNoZWNrcG9pbnRcIik7XG5leHBvcnQgY29uc3QgY2hlY2twb2ludHMgPSB7XG4gIEJlYWdsZUxvYWRlZDogMSxcbiAgSW5pdGlhbGl6ZWQ6IDIsXG4gIFVzZXJPbk9mZjogMyxcbiAgU2NyaXB0VGltZU91dDogNyxcbiAgVHJlYXRtZW50UmVwb3NpdG9yeUNyZWF0ZWQ6IDQsXG4gIFRyZWF0bWVudHNBcHBsaWVkOiA1LFxuICBSZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzOiA2LFxufTtcbndpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgPSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyIHx8IHtjaGVja3BvaW50czogW119O1xuXG5leHBvcnQgY29uc3QgY2hlY2twb2ludCA9IChjaGVja3BvaW50KSA9PntcbiAgdHJ5IHtcbiAgICBsb2dnZXIubG9nKGBDaGVja3BvaW50OiAnJHtjaGVja3BvaW50fScgUmVhY2hlZCFgKTtcbiAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmNoZWNrcG9pbnRzLnB1c2goe1xuICAgICAgY2hlY2twb2ludDogT2JqZWN0LmtleXMoY2hlY2twb2ludHMpLmZpbmQoKGtleSkgPT4gY2hlY2twb2ludHNba2V5XSA9PT0gY2hlY2twb2ludCksXG4gICAgICBpZDogY2hlY2twb2ludCxcbiAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIud2FybihlKTtcbiAgfVxuICByZXR1cm47XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59IiwiaW1wb3J0IHtMT0dfQVBJX1VSTCwgU0VTU0lPTl9TVE9SQUdFX0tFWVMsIFNQTElUX1JBVElPfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbXBhcmVPYmplY3RzLCBleHRyYWN0Q29va2llSWRlbnRpZmllcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuZXhwb3J0IGNsYXNzIE1vbml0b3Ige1xuICBjb25zdHJ1Y3RvcihkZWJ1Z01vZGUpIHtcbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IE1vbml0b3JcIik7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSUQpO1xuICAgIHRoaXMubG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBtb25pdG9yIHdpdGggc2Vzc2lvbiBpZDogXCIgKyB0aGlzLnNlc3Npb25JZCk7XG5cbiAgICB0aGlzLmFwcGxpZWRUcmVhdG1lbnRJZHMgPSBudWxsO1xuICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyA9IG51bGw7XG4gICAgdGhpcy5sYXRlc3RDaGFuZ2VzID0gbnVsbDtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMgPSBudWxsO1xuICAgIHRoaXMudmlld0lkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICB0aGlzLmhlYWRlcnMgPSB7XG4gICAgICB0eXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIHRoaXMuZGVidWdNb2RlID0gZGVidWdNb2RlID8gXCJvblwiIDogXCJvZmZcIjtcbiAgICB0aGlzLmlzTG9nZ2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLmluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcigpO1xuICB9XG5cbiAgdXBkYXRlVHJlYXRtZW50cyhhcHBsaWVkVHJlYXRtZW50SWRzLCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzKSB7XG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50SWRzID0gYXBwbGllZFRyZWF0bWVudElkcztcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMgPSBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzO1xuICB9XG5cbiAgYXN5bmMgc2VuZExvZ3MoaXNPbiwgbWVzc2FnZSA9IG51bGwsIGVtcHR5ID0gZmFsc2UpIHtcbiAgICBjb25zdCB7bG9nZ2VyfSA9IHRoaXM7XG4gICAgbG9nZ2VyLmxvZyhcIlNlbmRpbmcgbG9nc1wiKTtcblxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJEb2N1bWVudCByZWFkeSBzdGF0ZSBpcyBub3QgY29tcGxldGVcIik7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJJbiBiZWZvcmV1bmxvYWQgZXZlbnRcIik7XG4gICAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoaXNPbiwgbWVzc2FnZSwgZW1wdHkpKTtcbiAgICAgIH0sIHRydWUpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCAoKSA9PiB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJJbiBvbnBhZ2VoaWRlIGV2ZW50XCIpO1xuICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKGlzT24sIG1lc3NhZ2UsIGVtcHR5KSk7XG4gICAgICB9LCB0cnVlKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJJbiBvbmxvYWQgZXZlbnRcIik7XG4gICAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoaXNPbiwgbWVzc2FnZSwgZW1wdHkpKTtcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKGlzT24sIG1lc3NhZ2UsIGVtcHR5KSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUXVldWVMb2dzKHJlcXVlc3RCbG9iKSB7XG4gICAgaWYgKHRoaXMuaXNMb2dnZWQpIHJldHVybjtcbiAgICBjb25zdCB7bG9nZ2VyfSA9IHRoaXM7XG5cbiAgICBpZiAoIXJlcXVlc3RCbG9iKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQ291bGQgbm90IGNyZWF0ZSByZXF1ZXN0IGJsb2JcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJSZXF1ZXN0IGJsb2IgdG8gc2VuZDogXCIsIHJlcXVlc3RCbG9iKTtcbiAgICB0aGlzLnF1ZXVlTG9ncyhyZXF1ZXN0QmxvYik7XG5cbiAgICB0aGlzLmlzTG9nZ2VkID0gdHJ1ZTtcbiAgfVxuXG4gIHVwZGF0ZUxhdGVzdENoYW5nZXMoY2hhbmdlcywgZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcykge1xuICAgIGNvbnN0IHthcHBsaWVkVHJlYXRtZW50SWRzLCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzLCBsb2dnZXJ9ID0gdGhpcztcbiAgICBsb2dnZXIubG9nKFwiVXBkYXRpbmcgbGF0ZXN0IGNoYW5nZXNcIik7XG5cbiAgICBsZXQgY29tcGFyZVRvID0gdGhpcy5sYXRlc3RDaGFuZ2VzIHx8IGFwcGxpZWRUcmVhdG1lbnRJZHM7XG4gICAgaWYgKCFjb21wYXJlT2JqZWN0cyhjb21wYXJlVG8sIGNoYW5nZXMpKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQ2hhbmdlcyBkZXRlY3RlZFwiKTtcbiAgICAgIGxvZ2dlci5sb2coXCJDaGFuZ2VzOiBcIiwgY2hhbmdlcyk7XG4gICAgICB0aGlzLmxhdGVzdENoYW5nZXMgPSBjaGFuZ2VzO1xuICAgIH1cblxuICAgIGNvbXBhcmVUbyA9IHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcyB8fCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzO1xuICAgIGlmICghY29tcGFyZU9iamVjdHMoY29tcGFyZVRvLCBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzKSkge1xuICAgICAgbG9nZ2VyLmxvZyhcIkNoYW5nZXMgZGV0ZWN0ZWRcIik7XG4gICAgICBsb2dnZXIubG9nKFwiQ2hhbmdlczogXCIsIGNoYW5nZXMpO1xuICAgICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzID0gZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcztcbiAgICB9XG4gIH1cblxuICBwYWNrYWdlTG9nRGF0YShpc09uLCBtZXNzYWdlLCBlbXB0eSkge1xuICAgIGNvbnN0IHthcHBsaWVkVHJlYXRtZW50SWRzLFxuICAgICAgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyxcbiAgICAgIGRlYnVnTW9kZSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICB2aWV3SWR9ID0gdGhpcztcbiAgICBjb25zdCBtID0gbWVzc2FnZSA/IG1lc3NhZ2UgOiBPYmplY3Qua2V5cyhhcHBsaWVkVHJlYXRtZW50SWRzKS5sZW5ndGggPyBcIlRyZWF0bWVudHMgYXBwbGllZFwiIDpcbiAgICAgIFwiTm8gdHJlYXRtZW50cyBhcHBsaWVkXCI7XG4gICAgY29uc3QgYm9keSA9IHRoaXMucHJlcGFyZUxvZ0JvZHkoKTtcbiAgICBib2R5LnZJZCA9IGVtcHR5ID8gbnVsbCA6IHZpZXdJZDtcbiAgICBib2R5Lm0gPSBtO1xuICAgIGJvZHkuZGJtID0gZGVidWdNb2RlO1xuICAgIGJvZHkuaXNPbiA9IGlzT247XG4gICAgYm9keS5hID0gZW1wdHkgPyB7fSA6IGFwcGxpZWRUcmVhdG1lbnRJZHM7XG4gICAgYm9keS5lID0gZW1wdHkgPyB7fSA6IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHM7XG5cbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBwYWNrYWdlVXBkYXRlTG9nRGF0YSgpIHtcbiAgICBjb25zdCB7aGVhZGVycywgZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcywgbGF0ZXN0Q2hhbmdlcywgdmlld0lkfSA9IHRoaXM7XG4gICAgaWYgKCFsYXRlc3RDaGFuZ2VzICYmICFlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIHQ6IERhdGUubm93KCksXG4gICAgICBhOiBsYXRlc3RDaGFuZ2VzID8gbGF0ZXN0Q2hhbmdlcyA6IHt9LFxuICAgICAgZTogZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcyA/IGVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMgOiB7fSxcbiAgICAgIHZJZDogdmlld0lkLFxuICAgICAgYmVhZ2xlSW5mb0xheWVyOiB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyIHx8IHt9LFxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShib2R5KV0sIGhlYWRlcnMpO1xuICB9XG5cbiAgcHJlcGFyZUxvZ0JvZHkoKSB7XG4gICAgY29uc3QgY3VycmVudFVSTCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgIGxldCBnYU9iamVjdHMgPSB7fTtcblxuICAgIGZvciAoY29uc3QgZ2FETEVsZW1lbnQgb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgICAgZ2FPYmplY3RzID0gey4uLmdhT2JqZWN0cywgLi4uZ2FETEVsZW1lbnR9O1xuICAgIH1cblxuICAgIGNvbnN0IHZpc2lsYWJzY2sgPSBKU09OLnBhcnNlKGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJWTF9DTV8wXCIpKTtcblxuICAgIGNvbnN0IHZsT2JqZWN0cyA9IHt9O1xuXG4gICAgaWYgKHZpc2lsYWJzY2sgJiYgdmlzaWxhYnNjay5JdGVtcykge1xuICAgICAgZm9yIChjb25zdCB2bEVsZW1lbnQgb2YgdmlzaWxhYnNjay5JdGVtcykge1xuICAgICAgICB2bE9iamVjdHNbdmxFbGVtZW50LktdID0gZGVjb2RlVVJJQ29tcG9uZW50KHZsRWxlbWVudC5WKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBuZERhdGEgPSB7fTtcblxuICAgIC8qIFZJU0lMQUJTICovXG5cbiAgICBuZERhdGEuY29va2llVkxJc05ldyA9IHZsT2JqZWN0cy5PTV9JTlc7XG4gICAgbmREYXRhLmNvb2tpZVZMUFZpblZpc2l0ID0gdmxPYmplY3RzLlZMX1BWQ291bnRJblZpc2l0O1xuICAgIG5kRGF0YS5jb29raWVWTFZpc2l0RHVyYXRpb24gPSB2bE9iamVjdHMuVkxfVG90YWxEdXJhdGlvbjtcbiAgICBuZERhdGEuY29va2llVkxUb3RhbFBWID0gdmxPYmplY3RzLlZMX1RvdGFsUFY7XG4gICAgbmREYXRhLmNvb2tpZVZMVG90YWxWaXNpdCA9IHZsT2JqZWN0cy5WTF9Ub3RhbFZpc2l0O1xuXG4gICAgLyogR0EgKi9cblxuICAgIG5kRGF0YS5nYVBhZ2VUeXBlID0gZ2FPYmplY3RzLlBhZ2VUeXBlO1xuICAgIG5kRGF0YS5nYVByb2R1Y3ROYW1lID0gZ2FPYmplY3RzLmNvbnRlbnRfbmFtZTtcbiAgICBuZERhdGEuZ2FWaWV3VHlwZSA9IGdhT2JqZWN0cy5jb250ZW50X3R5cGU7XG4gICAgbmREYXRhLmdhUHJvZHVjdENhdGVnb3J5ID0gZ2FPYmplY3RzLmNvbnRlbnRfY2F0ZWdvcnk7XG4gICAgbmREYXRhLmdhUHJvZHVjdElEID0gZ2FPYmplY3RzLmNvbnRlbnRfaWRzO1xuICAgIG5kRGF0YS52dnNQcm9kdWN0Q2F0ZWdvcnkgPSBnYU9iamVjdHMudml2ZW5zZV9jYXRlZ29yeTtcbiAgICBuZERhdGEuZ2FMaXN0aW5nTmFtZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLmRldGFpbC5hY3Rpb25GaWVsZC5saXN0O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEudnZzSXNTaG93cm9vbSA9IGdhT2JqZWN0cy5pc0FkbWluO1xuICAgIG5kRGF0YS52dnNQcm9kdWN0R3JvdXAgPSBnYU9iamVjdHMucHJvZHVjdEdyb3VwO1xuICAgIG5kRGF0YS52dnNVc2VyRW1haWwgPSBnYU9iamVjdHMudXNlckVtYWlsO1xuICAgIG5kRGF0YS52dnNVc2VySWQgPSBnYU9iamVjdHMudXNlcklkO1xuICAgIG5kRGF0YS52dnNDYXRlZ29yeSA9IGdhT2JqZWN0cy52aXZlbnNlX2NhdGVnb3J5O1xuICAgIG5kRGF0YS5nYUFjdGlvbiA9IGdhT2JqZWN0cy5BY3Rpb247XG4gICAgbmREYXRhLmdhQWN0aW9uTGFiZWwgPSBnYU9iamVjdHMuTGFiZWw7XG4gICAgbmREYXRhLmdhQ2F0ZWdvcnlQcm9kdWN0Q29udCA9IGdhT2JqZWN0cy5jYXRlZ29yeV9wcm9kdWN0X2NvdW50O1xuICAgIG5kRGF0YS5nYUFjdGlvblN0ZXAgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5jaGVja291dC5hY3Rpb25GaWVsZC5zdGVwO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FBY3Rpb25Vc2VyID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UuY2hlY2tvdXQuYWN0aW9uRmllbGQuZGltZW5zaW9uMTQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpIHx8IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmRpbWVuc2lvbjE0O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FDYXJ0UHJvZHVjdHMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5jaGVja291dC5wcm9kdWN0cztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCkgfHwgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UucHJvZHVjdHM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS52dnNQRFBQcm9kdWN0ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy52aXZlbnNlUHJvZHVjdHNbMF07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS5nYVB1cmNoYXNlSWQgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5pZDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLmdhUHVyY2hhc2VBZmZpbGlhdGlvbiA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmFmZmlsaWF0aW9uO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZUNvdXBvbiA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmNvdXBvbjtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLmdhUHVyY2hhc2VSZXZlbnVlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQucmV2ZW51ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLmdhUHVyY2hhc2VTaGlwcGluZyA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLnNoaXBwaW5nO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZVRheCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLnRheDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLmdhUHVyY2hhc2VQYXlUeXBlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuZGltZW5zaW9uMTU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgLyogd2luZG93ICovXG4gICAgbmREYXRhLndpbmRvd1BhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgbmREYXRhLndpbmRvd1NjcmVlbiA9IHdpbmRvdy5zY3JlZW47XG4gICAgbmREYXRhLndpbmRvd1ZQb3J0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0O1xuICAgIG5kRGF0YS53aW5kb3dQUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcblxuICAgIC8qIG5hdmlnYXRvciAqL1xuICAgIG5kRGF0YS5uYXZBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgbmREYXRhLm5hdkhXQ29yZXMgPSBuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeTtcbiAgICBuZERhdGEubmF2TGFuZ3VhZ2UgPSBuYXZpZ2F0b3IubGFuZ3VhZ2U7XG4gICAgbmREYXRhLm5hdlRvdWNoID0gbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzO1xuICAgIG5kRGF0YS5uYXZQbGF0Zm9ybSA9IG5hdmlnYXRvci5wbGF0Zm9ybTtcbiAgICBuZERhdGEubmF2VmVuZG9yID0gbmF2aWdhdG9yLnZlbmRvcjtcblxuICAgIC8qIHBlcnNvbmFDbGljayAqL1xuICAgIG5kRGF0YS5wQ2xpY2tTZWdtZW50ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicGVyc29uYUNsaWNrX3NlZ21lbnRcIik7XG5cbiAgICAvKiBjb29raWVzICovXG4gICAgbmREYXRhLmNvb2tpZUdhSWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwiX2dhXCIpO1xuICAgIG5kRGF0YS5jb29raWVMYXN0QnJlYWRDcnVtYiA9IGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJsYXN0YnJlYWRjcnVtYlwiKTtcbiAgICBuZERhdGEuY29va2llTGFzdENhdGVnb3J5ID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcImxhc3RjYXRlZ29yeVwiKTtcbiAgICBuZERhdGEuY29va2llRmlyc3RFbnRyeSA9IGRlY29kZVVSSUNvbXBvbmVudChleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwidml2ZW5zZWZpcnN0XCIpKTtcblxuICAgIC8qIE5leHRkYXkgZGF0YSAqL1xuICAgIG5kRGF0YS52ID0gXCIwLjAuMjRcIjtcbiAgICBuZERhdGEubiA9IGBuZXh0ZGF5LXNlc3Npb25faWQtJHt0aGlzLnNlc3Npb25JZH1gO1xuICAgIG5kRGF0YS50ID0gRGF0ZS5ub3coKTtcbiAgICBuZERhdGEuc3IgPSBTUExJVF9SQVRJTztcblxuICAgIC8qIG1pc2NlbGxhbmVvdXMgKi9cbiAgICBuZERhdGEudSA9IGN1cnJlbnRVUkwuaHJlZjtcbiAgICBuZERhdGEuZCA9IGN1cnJlbnRVUkwuaG9zdG5hbWU7XG4gICAgbmREYXRhLnIgPSBkb2N1bWVudC5yZWZlcnJlcixcbiAgICBuZERhdGEudyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIG5kRGF0YS5jID0gZG9jdW1lbnQuY29va2llO1xuICAgIG5kRGF0YS53ZGwgPSB3aW5kb3cuZGF0YUxheWVyO1xuICAgIG5kRGF0YS5iZWFnbGVJbmZvTGF5ZXIgPSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyIHx8IHt9O1xuXG4gICAgLyogVml2ZW5zZSBzcGVjaWZpYyAqL1xuICAgIG5kRGF0YS52dnNQdXJjUHJpY2VFbHQgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBkZXNrdG9wIHNlbGVjdG9yXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgIGxldCB0b3RhbFByaWNlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuYmFza2V0X2lubmVyX3JpZ2h0ID4gZGl2LmJhc2tldF9zdW1tYXJ5ID4gZGl2LmJhc2tldF9zdW1tYXJ5X3RvdGFsID4gc3BhbjpudGgtY2hpbGQoMilcIik7XG4gICAgICAgIGlmICghdG90YWxQcmljZUVsZW1lbnQpIHtcbiAgICAgICAgICAvLyBtb2JpbGUgc2VsZWN0b3JcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICAgIHRvdGFsUHJpY2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluID4gZGl2ID4gZGl2LmdlbmVyYWwtY29udGFpbmVyID4gZGl2LmNvbC1tZC0xMiA+IGRpdiA+IGRpdjpudGgtY2hpbGQoMSkgPiBkaXYgPiBkaXYucm93Lm9yZGVyX2ZpbmFsX3Jvdy50b3RhbF9yb3cgPiBkaXYub3JkZXItZmluYWwtbnVtYmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdG90YWxQcmljZUVsZW1lbnQpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIXRvdGFsUHJpY2VFbGVtZW50LnRleHRDb250ZW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRvdGFsUHJpY2VFbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEudnZzUHVyY1R5cGVFbHQgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBkZXNrdG9wIHNlbGVjdG9yXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgIGxldCBwYXltZW50VGl0bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHkgPiBkaXYubWFpbi1jdXN0b20tY29udGFpbmVyID4gZGl2LmdlbmVyYWwtY29udGFpbmVyID4gZGl2ID4gZGl2ID4gZGl2ID4gZGl2LmNhcnQtaGVhZGVyID4gZGl2LnBheW1lbnRfdHlwZV9maW5hbF90ZXh0ID4gZGl2XCIpO1xuICAgICAgICBpZiAoIXBheW1lbnRUaXRsZUVsZW1lbnQpIHtcbiAgICAgICAgICAvLyBtb2JpbGUgc2VsZWN0b3JcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICAgIHBheW1lbnRUaXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4gPiBkaXYgPiBkaXYuZ2VuZXJhbC1jb250YWluZXIgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2ID4gZGl2ID4gZGl2LmNhcnQtaGVhZGVyID4gZGl2LmNhcnQtdGl0bGUtaW5mbyA+IHNwYW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXltZW50VGl0bGVFbGVtZW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCFwYXltZW50VGl0bGVFbGVtZW50LnRleHRDb250ZW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHBheW1lbnRUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgcmV0dXJuIG5kRGF0YTtcbiAgfVxuXG4gIGluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICBjb25zdCB7bG9nZ2VyfSA9IHRoaXM7XG4gICAgbGV0IGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSBmYWxzZTtcbiAgICBsb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIGV4aXQgZXZlbnQgbGlzdGVuZXJcIik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiYmVmb3JldW5sb2FkXCIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBiZWZvcmV1bmxvYWQgZXZlbnRcIik7XG4gICAgICAgICAgY29uc3QgbG9nRGF0YSA9IHRoaXMucGFja2FnZVVwZGF0ZUxvZ0RhdGEoKTtcbiAgICAgICAgICBpZiAoIWxvZ0RhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJObyBjaGFuZ2VzIHRvIGxvZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5xdWV1ZUxvZ3MobG9nRGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIHtjYXB0dXJlOiB0cnVlfSxcbiAgICApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcInBhZ2VoaWRlXCIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBwYWdlaGlkZSBldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5wYWNrYWdlVXBkYXRlTG9nRGF0YSgpO1xuICAgICAgICAgIGlmICghbG9nRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIGNoYW5nZXMgdG8gbG9nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnF1ZXVlTG9ncyhsb2dEYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9LFxuICAgICk7XG4gIH1cblxuICBxdWV1ZUxvZ3MobG9nRGF0YSkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsZXQgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgIGNvbnN0IHF1ZXVlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoIXF1ZXVlZCkgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocXVldWVJbnRlcnZhbCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIHF1ZXVlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgIGlmICghcXVldWVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIG5vdCBxdWV1ZWRcIik7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvcjtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFRSRUFUTUVOVFNfRFVSQVRJT059IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7ZmV0Y2hUcmVhdG1lbnRzfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgVHJlYXRtZW50IFJlcG9zaXRvcnlcIik7XG5cbmNsYXNzIFRyZWF0bWVudFJlcG9zaXRvcnkge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgY29uc3Qge2Nvb2tpZVBjdCwgdHJlYXRtZW50c30gPSBib2R5O1xuICAgIHRoaXMudHJlYXRtZW50cyA9IHRyZWF0bWVudHM7XG4gICAgdGhpcy5jb29raWVQY3QgPSBjb29raWVQY3Q7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VHJlYXRtZW50cygpIHtcbiAgICBsb2dnZXIubG9nKFwiTG9hZGluZyB0cmVhdG1lbnRzXCIpO1xuICAgIGNvbnN0IHtUUkVBVE1FTlRTfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgIGNvbnN0IHRyZWF0bWVudHNPYmogPSBKU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFRSRUFUTUVOVFMpKTtcbiAgICBsZXQgdHJlYXRtZW50cyA9IHRyZWF0bWVudHNPYmo/LnRyZWF0bWVudHM7XG4gICAgY29uc3QgdGltZXN0YW1wID0gdHJlYXRtZW50c09iaj8udGltZXN0YW1wO1xuICAgIGlmICghdHJlYXRtZW50cyB8fCAhdGltZXN0YW1wKSB7XG4gICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50cyBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgIH07XG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShUUkVBVE1FTlRTLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnRXaXRoVGltZXN0YW1wKSk7XG4gICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICB9XG4gICAgaWYgKHRpbWVzdGFtcCkge1xuICAgICAgY29uc3QgZWxhcHNlZERheXMgPSAoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG4gICAgICBpZiAoZWxhcHNlZERheXMgPiBUUkVBVE1FTlRTX0RVUkFUSU9OKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIGFyZSBleHBpcmVkXCIpO1xuICAgICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHRyZWF0bWVudHMsXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gICAgICB9XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIGFyZSBsb2FkZWQgZnJvbSBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICB9XG5cbiAgZ2V0TWF0Y2hlZFRyZWF0bWVudHMoKSB7XG4gICAgY29uc3QgdXNlclNlZ21lbnQgPSB0aGlzLmdldFVzZXJTZWdtZW50KCk7XG5cbiAgICBjb25zdCBzZWdtZW50TWF0Y2hlZFRyZWF0bWVudHMgPSB0aGlzLnRyZWF0bWVudHMuZmlsdGVyKFxuICAgICAgICAodCkgPT5cbiAgICAgICAgICB0LmFwcGx5X29uX3VzZXJfc2VnbWVudCA9PSB1c2VyU2VnbWVudCB8fFxuICAgICAgICB0LmFwcGx5X29uX3VzZXJfc2VnbWVudCA9PT0gXCIqXCIsXG4gICAgKTtcbiAgICBsb2dnZXIubG9nKGAke3NlZ21lbnRNYXRjaGVkVHJlYXRtZW50cy5sZW5ndGh9IHRyZWF0bWVudHMgc2VnbWVudCBtYXRjaGVkYCk7XG4gICAgaWYgKCFzZWdtZW50TWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSByZXR1cm4gW107XG4gICAgcmV0dXJuIHNlZ21lbnRNYXRjaGVkVHJlYXRtZW50cztcbiAgfVxuXG4gIGdldFVzZXJTZWdtZW50KCkge1xuICAgIGlmICh0aGlzLmNvb2tpZVBjdCA9PT0gLTEpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJOZXcgdXNlciBoYXMgbm8gc2VnbWVudFwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5ldyBVc2VyXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb29raWVQY3QgPCA1MCkgcmV0dXJuIFwiQVwiO1xuICAgIHJldHVybiBcIkJcIjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmVhdG1lbnRSZXBvc2l0b3J5O1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZUywgTE9DQUxfU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBDb3VudGVyIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0NvdW50ZXJSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhZ2VWaWV3XCI6XG4gICAgICByZXR1cm4gcGFnZVZpZXdIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJDQUJhc2tldFByaWNlXCI6XG4gICAgICByZXR1cm4gY2FCYXNrZXRQcmljZUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5sb2coXCJObyBzdWNoIG9wZXJhdG9yXCIsIG9wZXJhdG9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuY29uc3QgZ2V0Q291bnRlciA9IChjb3VudGVyLCB0eXBlKSA9PiB7XG4gIHRyeSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwic2Vzc2lvblwiOlxuICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShjb3VudGVyKTtcbiAgICAgIGNhc2UgXCJsb2NhbFwiOlxuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oY291bnRlcik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCB0eXBlXCIsIHR5cGUpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5sb2coYENvdWxkIG5vdCBnZXQgY291bnRlciAke2NvdW50ZXJ9YCwgZXJyKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgcGFnZVZpZXdIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgcGFnZVZpZXdzID0gcGFyc2VJbnQoZ2V0Q291bnRlcihTRVNTSU9OX1NUT1JBR0VfS0VZUy5QQUdFX1ZJRVdTLCBcInNlc3Npb25cIikpO1xuICBsb2dnZXIubG9nKFwiUGFnZSB2aWV3cyBjb3VudGVyIHZhbHVlOiBcIiwgcGFnZVZpZXdzKTtcbiAgaWYgKHBhZ2VWaWV3cyA9PT0gbnVsbCkge1xuICAgIGxvZ2dlci5sb2coXCJQYWdldmlld3MgY291bnRlciBub3QgZm91bmQgaW4gc2Vzc2lvbiBzdG9yYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYWdlVmlld3MsIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbmNvbnN0IGNhQmFza2V0UHJpY2VIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgY2FCYXNrZXRQcmljZSA9IHBhcnNlSW50KFxuICAgICAgZ2V0Q291bnRlcihMT0NBTF9TVE9SQUdFX0tFWVMuQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCBcImxvY2FsXCIpKTtcbiAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCBwcmljZSBjb3VudGVyIHZhbHVlOiBcIiwgY2FCYXNrZXRQcmljZSk7XG4gIGlmIChjYUJhc2tldFByaWNlID09PSBudWxsKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCBwcmljZSBjb3VudGVyIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihjYUJhc2tldFByaWNlLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBFbGVtZW50IENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0VsZW1lbnRSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZSwgc2VsZWN0b3IsIHNlbGVjdG9yQWxsLCBzZWxlY3RvckZhbGxiYWNrID0gbnVsbH0gPSBydWxlO1xuICBsZXQgbWFpblNlbGVjdG9yID0gc2VsZWN0b3I7XG4gIGlmIChtYWluU2VsZWN0b3IgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIG1haW5TZWxlY3RvciA9IHNlbGVjdG9yRmFsbGJhY2sgPyBzZWxlY3RvckZhbGxiYWNrIDogbWFpblNlbGVjdG9yO1xuICB9XG5cbiAgaWYgKG9wZXJhdG9yID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgfVxuICBpZiAobWFpblNlbGVjdG9yICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IGZvdW5kIG9uIHBhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChzZWxlY3RvckFsbCAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvckFsbCkpIHtcbiAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IGZvdW5kIG9uIHBhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGV0IGVsZW1lbnQ7XG4gIGlmIChtYWluU2VsZWN0b3IpIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3Rvcik7XG4gIGVsc2UgaWYgKHNlbGVjdG9yQWxsKSBlbGVtZW50ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yQWxsKSk7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJ0ZXh0LW51bWJlclwiOiB7XG4gICAgICBsZXQgdGVtcFZhbDtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgICAgIHRlbXBWYWwgPSBlbGVtZW50LnJlZHVjZSgocmV0dXJuVmFsLCBlbGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuVmFsICs9IHBhcnNlSW50KGVsZW0udGV4dENvbnRlbnQucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXBWYWwgPSBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikudGV4dENvbnRlbnRcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgfVxuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gcGFyc2VJbnQodGVtcFZhbCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiY2xhc3NMaXN0XCI6XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihBcnJheS5mcm9tKGVsZW1lbnQuY2xhc3NMaXN0KSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcImNvdW50XCI6IHtcbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IEFycmF5LmlzQXJyYXkoZWxlbWVudCkgPyBlbGVtZW50Lmxlbmd0aCA6IGVsZW1lbnQgPyAxIDogMDtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIubG9nKFwiT3BlcmF0b3Igbm90IGRlZmluZWRcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBGdW5jdGlvbiBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tGdW5jdGlvblJ1bGUgPSAocnVsZSwgb3B0cykgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge3Byb2R1Y3RJbmZvfSA9IG9wdHM7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZSwgYmluZGluZ3N9ID0gcnVsZTtcbiAgaWYgKCFvcGVyYXRvcikge1xuICAgIGxvZ2dlci5sb2coXCJSdWxlIGZ1bmN0aW9uIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQgY29udGV4dCA9IHt9O1xuICBpZiAoYmluZGluZ3MgPT0gXCJwcm9kdWN0SW5mb1wiKSB7XG4gICAgY29udGV4dCA9IHtcbiAgICAgIHByb2R1Y3RJbmZvLFxuICAgIH07XG4gIH1cbiAgY29uc3QgcnVsZUZ1bmN0aW9uID0gRnVuY3Rpb24ob3BlcmF0b3IpLmJpbmQoY29udGV4dCk7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IHJ1bGVGdW5jdGlvbigpO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFNlc3Npb24gQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrU2Vzc2lvblJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwiZHVyYXRpb25cIjpcbiAgICAgIHJldHVybiBkdXJhdGlvbkhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcImhpc3RvcnlcIjpcbiAgICAgIHJldHVybiBoaXN0b3J5SGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IGdldFNlc3Npb25UaW1lc3RhbXAgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHBhcnNlSW50KHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fVElNRVNUQU1QKSkpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIubG9nKFwiQ291bGQgbm90IGdldCBzZXNzaW9uIHRpbWVzdGFtcFwiLCBlcnIpO1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9XG59O1xuXG5jb25zdCBkdXJhdGlvbkhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBkdXJhdGlvbiA9IChEYXRlLm5vdygpIC0gZ2V0U2Vzc2lvblRpbWVzdGFtcCgpKSAvIDEwMDA7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGR1cmF0aW9uLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG5jb25zdCBoaXN0b3J5SGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRIaXN0b3J5ID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9ISVNUT1JZKT8uc3BsaXQoXCIsXCIpO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihjdXJyZW50SGlzdG9yeSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TU9CSUxFX01FRElBX1FVRVJZfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEVudiBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tFbnZSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwiZGV2aWNlX3R5cGVcIjoge1xuICAgICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXMgPyBcIm1vYmlsZVwiIDogXCJkZXNrdG9wXCI7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihpc01vYmlsZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyLCBkZXRlcm1pbmVQY3QsIGdldElkZW50aWZpZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBSYW5kb21QY3QgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrUmFuZG9tTnVtYmVyUnVsZSA9IGFzeW5jIChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7Y29uZGl0aW9uLCB2YWx1ZSwgc2FsdH0gPSBydWxlO1xuICBpZiAoIXNhbHQpIHtcbiAgICBsb2dnZXIubG9nKFwiU2FsdCBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgaWRlbnRpZmllciA9IGF3YWl0IGdldElkZW50aWZpZXIoKTtcbiAgY29uc3QgcmFuZG9tUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyBzYWx0KTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gcmFuZG9tUGN0O1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7Y2hlY2tDb3VudGVyUnVsZX0gZnJvbSBcIi4vY291bnRlckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tEYXRhTGF5ZXJSdWxlfSBmcm9tIFwiLi9kYXRhTGF5ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRWxlbWVudFJ1bGV9IGZyb20gXCIuL2VsZW1lbnRDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRnVuY3Rpb25SdWxlfSBmcm9tIFwiLi9mdW5jdGlvbkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tTZXNzaW9uUnVsZX0gZnJvbSBcIi4vc2Vzc2lvbkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tVcmxSdWxlfSBmcm9tIFwiLi91cmxDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRW52UnVsZX0gZnJvbSBcIi4vZW52Q2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1JhbmRvbU51bWJlclJ1bGV9IGZyb20gXCIuL3JhbmRvbU51bWJlckNoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgUnVsZSBFbmdpbmVcIik7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1bGVFbmdpbmUge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgY29uc3Qge2Jhc2VSdWxlU2V0LCBzdWJWYXJpYW50UnVsZVNldCwgYmluZGluZ3MsIGNhbGxiYWNrID0gbnVsbH0gPSBib2R5O1xuICAgIHRoaXMuYmFzZVJ1bGVTZXQgPSBiYXNlUnVsZVNldDtcbiAgICB0aGlzLnN1YlZhcmlhbnRSdWxlU2V0ID0gc3ViVmFyaWFudFJ1bGVTZXQ7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuYmluZGluZ3MgPSBiaW5kaW5ncztcbiAgfVxuXG4gIGFzeW5jIGNoZWNrUnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuYmFzZVJ1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmICghcnVsZVNhdGlzZmllZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tTdWJWYXJpYW50UnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuc3ViVmFyaWFudFJ1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmIChydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBydWxlLnN1YlZhcmlhbnRJZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBjaGVja1J1bGUocnVsZSkge1xuICAgIGNvbnN0IHtjaGFpbiwgY2hhaW5fY29uZGl0aW9uLCB0eXBlfSA9IHJ1bGU7XG4gICAgbGV0IHJ1bGVTYXRpc2ZpZWQgPSBudWxsO1xuICAgIC8vIGNoZWNrIHJ1bGVcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1Nlc3Npb25SdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb3VudGVyXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0NvdW50ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbGVtZW50XCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0VsZW1lbnRSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkYXRhTGF5ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRGF0YUxheWVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1VybFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0Z1bmN0aW9uUnVsZShydWxlLCB0aGlzLmJpbmRpbmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZW52aXJvbm1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRW52UnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmFuZG9tXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCBjaGVja1JhbmRvbU51bWJlclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmxvZyhgTm8gc3VjaCBydWxlIHR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGNoYWluKSB7XG4gICAgICBzd2l0Y2ggKGNoYWluX2NvbmRpdGlvbikge1xuICAgICAgICBjYXNlIFwiYW5kXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgJiYgYXdhaXQgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCB8fCBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4b3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAhPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggY2hhaW4gY29uZGl0aW9uXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZVNhdGlzZmllZDtcbiAgfVxufVxuIiwiaW1wb3J0IHtza3VDb2xsZWN0b3J9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtMT09LVVBfQVBJX1VSTH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBBcGlcIik7XG5cbmV4cG9ydCBjb25zdCBwcm9kdWN0SW5mb0xvb2t1cCA9IGFzeW5jICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHByb2R1Y3QgaW5mbyBsb29rdXBcIik7XG4gIGNvbnN0IHNrdUxpc3QgPSBza3VDb2xsZWN0b3IoKTtcbiAgaWYgKCFza3VMaXN0KSB7XG4gICAgbG9nZ2VyLmxvZyhcIk5vIHNrdSBmb3VuZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgaGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICBsZXQgcHJvZHVjdEluZm87XG4gIHRyeSB7XG4gICAgcHJvZHVjdEluZm8gPSBhd2FpdCBmZXRjaChMT09LVVBfQVBJX1VSTCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpLFxuICAgICAgaGVhZGVycyxcbiAgICAgIG1vZGU6IFwiY29yc1wiLFxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLndhcm4oXCJGZXRjaCB0byBjYXRhbG9nIGFwaSBmYWlsZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKCFwcm9kdWN0SW5mby5vaykge1xuICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IGluZm8gbG9va3VwIGZhaWxlZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBwcm9kdWN0SW5mbyA9IGF3YWl0IHByb2R1Y3RJbmZvLmpzb24oKTtcbiAgaWYgKCFwcm9kdWN0SW5mbykge1xuICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IGluZm8gZXh0cmFjdGlvbiBmcm9tIHJlc3BvbnNlIGZhaWxlZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIGxvb2t1cCBzdWNjZXNzZnVsXCIpO1xuICByZXR1cm4gcHJvZHVjdEluZm87XG59O1xuIiwiaW1wb3J0IGFwcGx5VHJlYXRtZW50cyBmcm9tIFwiLi4vTmV4dGRheUFwcGx5VHJlYXRtZW50cy9pbmRleFwiO1xuaW1wb3J0IHtjaGVja3BvaW50LCBjaGVja3BvaW50c30gZnJvbSBcIi4uL0JlYWdsZUNoZWNrcG9pbnRcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IE1vbml0b3IgZnJvbSBcIi4uL05leHRkYXlNb25pdG9yL2luZGV4XCI7XG5pbXBvcnQgVHJlYXRtZW50UmVwb3NpdG9yeSBmcm9tIFwiLi4vTmV4dGRheVRyZWF0bWVudFJlcG9zaXRvcnkvaW5kZXhcIjtcbmltcG9ydCBSdWxlRW5naW5lIGZyb20gXCIuLi9OZXh0ZGF5UnVsZUVuZ2luZVwiO1xuaW1wb3J0IHtwcm9kdWN0SW5mb0xvb2t1cH0gZnJvbSBcIi4uL05leHRkYXlBcGlcIjtcbmltcG9ydCB7XG4gIE1PQklMRV9NRURJQV9RVUVSWSxcbiAgU1BMSVRfUkFUSU8sXG4gIExPQ0FMX1NUT1JBR0VfS0VZUyxcbiAgVFJFQVRNRU5UX1JBVElPLFxufSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBnZXRJZGVudGlmaWVyLFxuICBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcyxcbiAgaW5qZWN0U3R5bGVTaGVldCxcbiAgcmVtb3ZlRG9jdW1lbnRIaWRlLFxuICBkZXRlcm1pbmVQY3QsXG4gIHByZXBhcmVBY3Rpb25zLFxuICBnZXREZWJ1Z01vZGUsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuXG4oYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuQmVhZ2xlTG9hZGVkKTtcbiAgbGV0IGlzT24gPSBudWxsO1xuICBsZXQgbW9uaXRvciA9IG51bGw7XG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcbiAgbG9nZ2VyLmluZm8oXCJOZXh0ZGF5IGluaXRpYWxpemluZ1wiKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBwcm9kdWN0SW5mb1Byb21pc2UgPSBwcm9kdWN0SW5mb0xvb2t1cCgpO1xuICAgIC8vIGNoZWNrIGlmIGRlYnVnIG1vZGUgaXMgb25cbiAgICBjb25zdCBkZWJ1Z01vZGUgPSBnZXREZWJ1Z01vZGUoKTtcbiAgICBtb25pdG9yID0gbmV3IE1vbml0b3IoZGVidWdNb2RlKTtcbiAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLkluaXRpYWxpemVkKTtcblxuICAgIGNvbnN0IGlkZW50aWZpZXIgPSBhd2FpdCBnZXRJZGVudGlmaWVyKCk7XG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGNvb2tpZSBpZGVudGlmaWVyOiBcIiwgaWRlbnRpZmllcik7XG4gICAgY29uc3QgY29va2llUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIpO1xuICAgIGlmICghZGVidWdNb2RlKSB7XG4gICAgICBpZiAoY29va2llUGN0IDwgU1BMSVRfUkFUSU8pIHtcbiAgICAgICAgaWYgKGNvb2tpZVBjdCA9PT0gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGNvb2tpZSBwY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlzT24gPSB0cnVlO1xuICAgIH0gZWxzZSBsb2dnZXIuaW5mbyhcIkRlYnVnIG1vZGUgb246IGFsbCBhcHBsaWNhYmxlIHRyZWF0bWVudHMgd2lsbCBiZSBhcHBsaWVkXCIpO1xuXG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICBjb25zdCBkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyA9IGRlYnVnTW9kZSA/IHNlYXJjaFBhcmFtcy5pbmNsdWRlcyhcImZpbHRlcj1cIikgPyBzZWFyY2hQYXJhbXMuc2xpY2UoXG4gICAgICAgIHNlYXJjaFBhcmFtcy5pbmRleE9mKFwiW1wiKSArIDEsXG4gICAgICAgIHNlYXJjaFBhcmFtcy5sYXN0SW5kZXhPZihcIl1cIiksXG4gICAgKS5zcGxpdChcIixcIikubWFwKChpdGVtKSA9PiBwYXJzZUludChpdGVtLCAxMCkpOiBudWxsIDogbnVsbDtcblxuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVXNlck9uT2ZmKTtcblxuICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcIm5leHREYXktaGlkZVwiKSkge1xuICAgICAgY2hlY2twb2ludChjaGVja3BvaW50cy5TY3JpcHRUaW1lT3V0KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5leHRkYXkgc2NyaXB0IHRpbWVkIG91dFwiKTtcbiAgICB9XG4gICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG4gICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IChpc09uID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpfSk7XG4gICAgaWYgKGlzT24gPT09IGZhbHNlKSB0aHJvdyBuZXcgRXJyb3IoXCJDb250cm9sIGdyb3VwOiBubyB0cmVhdG1lbnRzIGFwcGxpZWRcIik7XG4gICAgaW5qZWN0U3R5bGVTaGVldCgpO1xuICAgIGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICB9LCAyMDAwKTtcbiAgICBjb25zdCB0cmVhdG1lbnRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50cygpO1xuICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzO1xuICAgIGNvbnN0IE9CU0VSVkVSX0NPTkZJRyA9IHtzdWJ0cmVlOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIGF0dHJpYnV0ZXM6IHRydWV9O1xuXG4gICAgY29uc3QgZW5nYWdlVHJlYXRtZW50ID0gYXN5bmMgKHRyZWF0bWVudCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBpZCxcbiAgICAgICAgYWN0aW9ucyxcbiAgICAgICAgYmFzZVJ1bGVTZXQsXG4gICAgICAgIGRldmljZSxcbiAgICAgICAgZGVwZW5kYW50X29uX3RyZWF0bWVudCxcbiAgICAgICAgcmVhcHBseV9ldmVudCxcbiAgICAgICAgc3ViVmFyaWFudFJ1bGVTZXQsXG4gICAgICAgIHdlaWdodCxcbiAgICAgIH0gPSB0cmVhdG1lbnQ7XG4gICAgICBpZiAoZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgJiYgIWRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGV2aWNlID09PSBcIm1vYmlsZVwiICYmICFpc01vYmlsZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IGRldmljZSAnbW9iaWxlJyBtaXNtYXRjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRldmljZSA9PT0gXCJkZXNrdG9wXCIgJiYgaXNNb2JpbGUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBkZXZpY2UgJ2Rlc2t0b3AnIG1pc21hdGNoXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocmVhcHBseV9ldmVudCkge1xuICAgICAgICBsZXQgcmVhcHBseV9ldmVudF9hcnJheSA9IHJlYXBwbHlfZXZlbnQ7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWFwcGx5X2V2ZW50KSkgcmVhcHBseV9ldmVudF9hcnJheSA9IFtyZWFwcGx5X2V2ZW50XTtcbiAgICAgICAgbG9nZ2VyLmxvZyhgUmVhcHBseSBldmVudCAnJHtyZWFwcGx5X2V2ZW50fScgZm91bmQgZm9yIHRyZWF0bWVudDogJHtpZH1gKTtcbiAgICAgICAgZm9yIChjb25zdCByZWFwcGx5RXZlbnQgb2YgcmVhcHBseV9ldmVudF9hcnJheSkge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID9cbiAgICAgICAgICAgICAgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA6IFtdO1xuICAgICAgICAgIGlmIChwcmV2aW91c1ZhbHVlLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBhbHJlYWR5IGFkZGVkIGZvciByZWFwcGx5IGV2ZW50XCIpO1xuICAgICAgICAgIH0gZWxzZSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID0gWy4uLnByZXZpb3VzVmFsdWUsIGlkXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgYmluZGluZ3MgPSB7cHJvZHVjdEluZm99O1xuICAgICAgY29uc3QgcnVsZUVuZ2luZSA9IG5ldyBSdWxlRW5naW5lKHtiYXNlUnVsZVNldCwgc3ViVmFyaWFudFJ1bGVTZXQsIGJpbmRpbmdzfSk7XG4gICAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgYmFzZSBydWxlIHNldCBjaGVjayBmb3IgdHJlYXRtZW50OiBcIiArIGlkKTtcbiAgICAgIGlmICghYmFzZVJ1bGVTZXQgfHwgYXdhaXQgcnVsZUVuZ2luZS5jaGVja1J1bGVzKCkpIHtcbiAgICAgICAgbGV0IHRyZWF0bWVudFNraXBSYXRpbyA9IHdlaWdodCA9PT0gMTAwID8gMCA6ICgxMDAgLSB3ZWlnaHQgfHwgVFJFQVRNRU5UX1JBVElPKTtcbiAgICAgICAgaWYgKGRlcGVuZGFudF9vbl90cmVhdG1lbnQpIHtcbiAgICAgICAgICAvLyBJZiBkZXBlbmRhbnQgb24gdHJlYXRtZW50IGlzIGZvdW5kIGFuZCBoYXMgd2VpZ2h0OyB1c2UgaXRzIHNraXAgcmF0aW9cbiAgICAgICAgICBjb25zdCBkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCA9IG1hdGNoZWRUcmVhdG1lbnRzLmZpbmQoKHQpID0+IHQuaWQgPT09IGRlcGVuZGFudF9vbl90cmVhdG1lbnQpPy53ZWlnaHQ7XG4gICAgICAgICAgdHJlYXRtZW50U2tpcFJhdGlvID0gZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHQgPT09IDEwMCA/IDAgOiAoMTAwIC0gZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHR8fFxuICAgICAgICAgICAgVFJFQVRNRU5UX1JBVElPKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IHNraXAgcmF0aW86IFwiICsgdHJlYXRtZW50U2tpcFJhdGlvKTtcbiAgICAgICAgLy8gRGV0ZXJtaW5pbmcgaWRlbnRpZmllciBmb3IgY2FsY3VsYXRpbmcgdHJlYXRtZW50IHBlcmNlbnRhZ2UgKHRyZWF0bWVudFBjdClcbiAgICAgICAgY29uc3QgZGV0ZXJtaW5pbmdJZGVudGlmaWVyID0gZGVwZW5kYW50X29uX3RyZWF0bWVudCB8fCBpZDtcblxuICAgICAgICAvLyB0cmVhdG1lbnRQY3QgaXMgdGhlIHBlcmNlbnRhZ2UgdmFsdWUgZm9yIHRoZSB0cmVhdG1lbnQgdXNlZCB0byBkZXRlcm1pbmUgaWYgaXQgc2hvdWxkIGJlIHNraXBwZWQgb3Igbm90XG4gICAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyAxMDAgd2hlbiBkZWJ1ZyBtb2RlIGlzIDEsIGVuc3VyaW5nIG5vIHRyZWF0bWVudHMgYXJlIHNraXBwZWRcbiAgICAgICAgY29uc3QgdHJlYXRtZW50UGN0ID0gZGVidWdNb2RlID09PSAxID8gMTAwIDogYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyBkZXRlcm1pbmluZ0lkZW50aWZpZXIpO1xuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50UGN0OiBcIiArIHRyZWF0bWVudFBjdCArIGAgd2l0aCBkZWJ1ZyBtb2RlICR7ZGVidWdNb2RlID8gXCJvblwiIDogXCJvZmZcIn1gKTtcbiAgICAgICAgbGV0IHN1YlZhcmlhbnRJZCA9IG51bGw7XG4gICAgICAgIGxldCBwcmVwYXJlZCA9IGFjdGlvbnM7XG4gICAgICAgIGlmIChzdWJWYXJpYW50UnVsZVNldCkge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJTdGFydGluZyBzdWIgdmFyaWFudCBydWxlIHNldCBjaGVjayBmb3IgdHJlYXRtZW50OiBcIiArIGlkKTtcbiAgICAgICAgICBzdWJWYXJpYW50SWQgPSBydWxlRW5naW5lLmNoZWNrU3ViVmFyaWFudFJ1bGVzKCk7XG4gICAgICAgICAgaWYgKHN1YlZhcmlhbnRJZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHN1YiB2YXJpYW50IHdpdGggaWQ6IFwiLCBzdWJWYXJpYW50SWQpO1xuICAgICAgICAgICAgcHJlcGFyZWQgPSBwcmVwYXJlQWN0aW9ucyhhY3Rpb25zLCBzdWJWYXJpYW50SWQpO1xuICAgICAgICAgIH0gZWxzZSBsb2dnZXIubG9nKFwiQXBwbHlpbmcgdHJlYXRtZW50IHdpdGggZGVmYXVsdCB2YWx1ZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyZWF0bWVudFBjdCA8IHRyZWF0bWVudFNraXBSYXRpbykge1xuICAgICAgICAgIGxvZ2dlci5sb2coYFRyZWF0bWVudCAke2lkfSBza2lwcGVkIGR1ZSB0byB0cmVhdG1lbnQgc3BsaXQgcmF0aW9gKTtcbiAgICAgICAgICBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzW2lkXSA9IHtcbiAgICAgICAgICAgIGRlcGVuZGFudF9vbl90cmVhdG1lbnQ6IChkZXBlbmRhbnRfb25fdHJlYXRtZW50IHx8IG51bGwpLFxuICAgICAgICAgICAgc3ViVmFyaWFudElkLFxuICAgICAgICAgICAgYWN0aW9uczogcHJlcGFyZWQsXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXBwbHlUcmVhdG1lbnRzKHByZXBhcmVkLCBwcm9kdWN0SW5mbyk7XG4gICAgICAgICAgYXBwbGllZFRyZWF0bWVudElkc1tpZF0gPSB7c3ViVmFyaWFudElkLCBhY3Rpb25zOiBwcmVwYXJlZH07XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiUnVsZSBjaGVjayBmYWlsZWQgZm9yIHRyZWF0bWVudDogXCIsIGlkKTtcbiAgICB9O1xuXG4gICAgLy8gVGVtcG9yYXJ5IGNvZGUgYmxvY2sgdG8gdHJhY2sgY291cG9uIGFwcGxpY2FibGUgYmFza2V0IHRvdGFsIHByaWNlXG4gICAgLy8gVE9ETzogUmVtb3ZlIG9uY2UgdGhlIGluZm8gY2FuIGJlIG9idGFpbmVkIHZpYSBMb29rdXAgQVBJXG4gICAgY29uc3QgY29sbGVjdENBQmFza2V0UHJpY2UgPSAoKSA9PiB7XG4gICAgICBjb25zdCB7Q09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFfSA9IExPQ0FMX1NUT1JBR0VfS0VZUztcbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiKSkge1xuICAgICAgICBjb25zdCBwcmljZUVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByaWNlXCIpKTtcbiAgICAgICAgcHJpY2VFbGVtZW50cy5wdXNoKC4uLkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uZXctcHJpY2VcIikpKTtcbiAgICAgICAgaWYgKCFwcmljZUVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJQcmljZSBlbGVtZW50cyBub3QgZm91bmRcIik7XG4gICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgMCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5sb2coXCJQcmljZSBlbGVtZW50czogXCIsIHByaWNlRWxlbWVudHMpO1xuICAgICAgICBjb25zdCBjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSA9IHByaWNlRWxlbWVudHMucmVkdWNlKChyZXR1cm5WYWwsIGVsZW0pID0+IHtcbiAgICAgICAgICByZXR1cm5WYWwgKz0gcGFyc2VJbnQoZWxlbS50ZXh0Q29udGVudC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgICAgIH0sIDApO1xuICAgICAgICBsb2dnZXIubG9nKFwiQ291cG9uIGFwcGxpY2FibGUgdG90YWwgcHJpY2U6IFwiLCBjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSk7XG4gICAgICAgIGlmIChjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSA+PSAwKSB7XG4gICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICAgICAgICBDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcIi9zaXBhcmlzLW96ZXRpLmh0bWxcIikpIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjYUJhc2tldFByaWNlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSk7XG4gICAgICAgIGlmIChjYUJhc2tldFByaWNlID09PSBudWxsKSB7XG4gICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29sbGVjdENBQmFza2V0UHJpY2UoKTtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCIvc2lwYXJpcy1saXN0ZXNpLmh0bWxcIikpIHtcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJNdXRhdGlvbiBvYnNlcnZlZCwgY2FsbGluZyBjb2xsZWN0Q0FCYXNrZXRQcmljZVwiKTtcbiAgICAgICAgY29sbGVjdENBQmFza2V0UHJpY2UoKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgYmFza2V0Q2hlY2tvdXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGVja291dEZvcm1cIik7XG4gICAgICBpZiAoYmFza2V0Q2hlY2tvdXRGb3JtKSBvYnNlcnZlci5vYnNlcnZlKGJhc2tldENoZWNrb3V0Rm9ybSwgT0JTRVJWRVJfQ09ORklHKTtcbiAgICB9XG4gICAgLy8gRW5kIG9mIHRlbXBvcmFyeSBjb2RlIGJsb2NrXG5cbiAgICBjb25zdCBbdHJlYXRtZW50cywgcHJvZHVjdEluZm9dID0gYXdhaXQgUHJvbWlzZS5hbGwoW3RyZWF0bWVudHNQcm9taXNlLCBwcm9kdWN0SW5mb1Byb21pc2VdKTtcblxuICAgIGxvZ2dlci5sb2coXCJGb3VuZCB0cmVhdG1lbnRzOiBcIiwgdHJlYXRtZW50cyk7XG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGNvb2tpZSBwZXJjZW50YWdlOiBcIiwgY29va2llUGN0KTtcbiAgICBsb2dnZXIubG9nKFwiU3BsaXRfcmF0aW86IFwiLCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmxvZyhcImNvb2tpZVBjdCA8IFNQTElUX1JBVElPXCIsIGNvb2tpZVBjdCA8IFNQTElUX1JBVElPKTtcbiAgICBsb2dnZXIuaW5mbyhgQ29udHJvbCBncm91cCByYXRpbzogJHtTUExJVF9SQVRJT30lYCk7XG5cbiAgICBjb25zdCB0cmVhdG1lbnRSZXBvc2l0b3J5ID0gbmV3IFRyZWF0bWVudFJlcG9zaXRvcnkoe1xuICAgICAgdHJlYXRtZW50cyxcbiAgICAgIGNvb2tpZVBjdCxcbiAgICB9KTtcbiAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRyZWF0bWVudFJlcG9zaXRvcnlDcmVhdGVkKTtcbiAgICBjb25zdCBtYXRjaGVkVHJlYXRtZW50cyA9IHRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0TWF0Y2hlZFRyZWF0bWVudHMoKTtcbiAgICBpZiAoIW1hdGNoZWRUcmVhdG1lbnRzLmxlbmd0aCkge1xuICAgICAgbG9nZ2VyLmxvZyhcIk5vIHRyZWF0bWVudHMgbWF0Y2hlZCwgcmV0dXJuaW5nIHdpdGhvdXQgZnVydGhlciBhY3Rpb25cIik7XG4gICAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICAgIG1vbml0b3Iuc2VuZExvZ3MoaXNPbiwgXCJObyB0cmVhdG1lbnRzIG1hdGNoZWRcIiwgdHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFwcGxpZWRUcmVhdG1lbnRJZHMgPSB7fTtcbiAgICBjb25zdCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzID0ge307XG4gICAgY29uc3QgcmVBcHBseVRyZWF0bWVudHNNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiBtYXRjaGVkVHJlYXRtZW50cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkVycm9yIGV4ZWN1dGluZyBydWxlc1wiLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRyZWF0bWVudHNBcHBsaWVkKTtcbiAgICBsb2dnZXIubG9nKFwiQXBwbGllZCB0cmVhdG1lbnRzOiBcIiwgYXBwbGllZFRyZWF0bWVudElkcyk7XG5cbiAgICAvLyBVcGRhdGUgbW9uaXRvciB3aXRoIGFwcGxpZWQgdHJlYXRtZW50c1xuICAgIG1vbml0b3IudXBkYXRlVHJlYXRtZW50cyhhcHBsaWVkVHJlYXRtZW50SWRzLCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzKTtcbiAgICBtb25pdG9yLnNlbmRMb2dzKGlzT24pO1xuXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgbW9uaXRvci51cGRhdGVMYXRlc3RDaGFuZ2VzKGFwcGxpZWRUcmVhdG1lbnRJZHMsIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMpO1xuICAgIH0sIDEwMDApO1xuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMocmVBcHBseVRyZWF0bWVudHNNYXApKSB7XG4gICAgICBjb25zdCB0cmVhdG1lbnRJZHMgPSByZUFwcGx5VHJlYXRtZW50c01hcFtrZXldO1xuICAgICAgY29uc3QgcmVBcHBseVRyZWF0bWVudHMgPSBtYXRjaGVkVHJlYXRtZW50cy5maWx0ZXIoKHQpID0+IHRyZWF0bWVudElkcy5pbmNsdWRlcyh0LmlkKSk7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIFwiaW5maW5pdGVfc2Nyb2xsXCI6IHtcbiAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBpbmZpbml0ZV9zY3JvbGxgKTtcbiAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0aW1lb3V0XCI6IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSB0aW1lb3V0YCk7XG4gICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVsZW1lbnRfY2hhbmdlXCI6IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcmVhcHBseVNlbGVjdG9yTGlzdCA9IEFycmF5LmlzQXJyYXkodHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3IpID9cbiAgICAgICAgICAgIHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yIDogW3RyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2VsZWN0b3Igb2YgcmVhcHBseVNlbGVjdG9yTGlzdCkge1xuICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBlbGVtZW50X2NoYW5nZWApO1xuICAgICAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCBPQlNFUlZFUl9DT05GSUcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvbl9zY3JvbGxcIjoge1xuICAgICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIG9uX3Njcm9sbGApO1xuICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJxdWVyeV9zZWFyY2hfY2hhbmdlXCI6IHtcbiAgICAgICAgICBsZXQgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnNlYXJjaCAhPT0gcXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBxdWVyeV9zZWFyY2hfY2hhbmdlYCk7XG4gICAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCBPQlNFUlZFUl9DT05GSUcpO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlJlYXBwbHkgZXZlbnQgbm90IGZvdW5kOiBcIiwga2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgY2hlY2twb2ludChjaGVja3BvaW50cy5SZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgY29uc29sZS53YXJuKFwiTmV4dGRheTogXCIsIGVyci5tZXNzYWdlKTtcbiAgICBtb25pdG9yLnNlbmRMb2dzKGlzT24sIGVyci5tZXNzYWdlLCB0cnVlKTtcbiAgfVxufSkoKTtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicnVudGltZSIsInVuZGVmaW5lZCIsIk9wIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCIkU3ltYm9sIiwiU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJpdGVyYXRvciIsImFzeW5jSXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwidG9TdHJpbmdUYWdTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsImRlZmluZSIsIm9iaiIsImtleSIsInZhbHVlIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJlcnIiLCJ3cmFwIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJzZWxmIiwidHJ5TG9jc0xpc3QiLCJwcm90b0dlbmVyYXRvciIsIkdlbmVyYXRvciIsImdlbmVyYXRvciIsImNyZWF0ZSIsImNvbnRleHQiLCJDb250ZXh0IiwiX2ludm9rZSIsInN0YXRlIiwiR2VuU3RhdGVTdXNwZW5kZWRTdGFydCIsIm1ldGhvZCIsImFyZyIsIkdlblN0YXRlRXhlY3V0aW5nIiwiRXJyb3IiLCJHZW5TdGF0ZUNvbXBsZXRlZCIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsIkNvbnRpbnVlU2VudGluZWwiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsInJlY29yZCIsInRyeUNhdGNoIiwidHlwZSIsImRvbmUiLCJHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkIiwibWFrZUludm9rZU1ldGhvZCIsImZuIiwiY2FsbCIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJJdGVyYXRvclByb3RvdHlwZSIsInRoaXMiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJ2YWx1ZXMiLCJHcCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsImZvckVhY2giLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJpbnZva2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0IiwiX19hd2FpdCIsInRoZW4iLCJ1bndyYXBwZWQiLCJlcnJvciIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiVHlwZUVycm9yIiwiaW5mbyIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXRlcmFibGUiLCJpdGVyYXRvck1ldGhvZCIsImlzTmFOIiwibGVuZ3RoIiwiaSIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsIml0ZXIiLCJrZXlzIiwib2JqZWN0IiwicmV2ZXJzZSIsInBvcCIsInNraXBUZW1wUmVzZXQiLCJwcmV2IiwiY2hhckF0Iiwic2xpY2UiLCJzdG9wIiwicm9vdFJlY29yZCIsInJ2YWwiLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJmaW5hbGx5RW50cnkiLCJjb21wbGV0ZSIsImZpbmlzaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJhY2NpZGVudGFsU3RyaWN0TW9kZSIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIm8iLCJnZXQiLCJwcm9wIiwiX3R5cGVvZiIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwiYXJyMiIsIkFycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwibWluTGVuIiwidG9TdHJpbmciLCJmcm9tIiwidGVzdCIsIl9zbGljZWRUb0FycmF5IiwiaXNBcnJheSIsIl9pIiwiX3MiLCJfZSIsIl9hcnIiLCJfbiIsIl9kIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiZ2VuIiwiX25leHQiLCJfdGhyb3ciLCJfYXN5bmNUb0dlbmVyYXRvciIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkxPR19BUElfVVJMIiwiTU9CSUxFX01FRElBX1FVRVJZIiwiU0VTU0lPTl9TVE9SQUdFX0tFWVMiLCJMT0NBTF9TVE9SQUdFX0tFWVMiLCJMb2dnZXIiLCJvcmlnaW4iLCJERUJVRyIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwid2FybiIsImxvZ2dlciIsImNoZWNrRGF0YUxheWVyUnVsZSIsInJ1bGUiLCJKU09OIiwic3RyaW5naWZ5Iiwib3BlcmF0b3IiLCJjb25kaXRpb24iLCJydW50aW1lVmFsdWUiLCJkYXRhTGF5ZXJGaW5kZXIiLCJjb25kaXRpb25DaGVja2VyIiwiZGF0YUxheWVyIiwiaW5jbHVkZXMiLCJjaGVja1VybFJ1bGUiLCJyZXF1ZXN0VVJMIiwibG9jYXRpb24iLCJocmVmIiwicGF0aCIsImRlY29kZVVSSUNvbXBvbmVudCIsIlVSTCIsInNlYXJjaCIsInJlcGxhY2UiLCJwYXRobmFtZSIsImNyeXB0byIsInJhbmRvbVVVSURGYWxsYmFjayIsInJlbW92ZURvY3VtZW50SGlkZSIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiZmV0Y2hUcmVhdG1lbnRzIiwiZmV0Y2giLCJ0cmVhdG1lbnRzIiwianNvbiIsImV4dHJhY3RDb29raWVJZGVudGlmaWVyIiwiY29va2llU3RyaW5nIiwiY29va2llTmFtZSIsImlkZW50aWZpZXIiLCJzcGxpdCIsIm1hcCIsInYiLCJyZWR1Y2UiLCJhY2MiLCJ0cmltIiwiZGV0ZXJtaW5lUGN0Iiwic3Vic3RyaW5nRW5kUG9zaXRpb24iLCJzdWJzdHJpbmdTdGFydFBvc2l0aW9uIiwiZW5jb2RlZCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwic3VidGxlIiwiZGlnZXN0IiwiaGFzaEJ1ZmZlciIsImhhc2hBcnJheSIsIlVpbnQ4QXJyYXkiLCJoYXNoU3RyaW5nIiwiYiIsInBhZFN0YXJ0Iiwiam9pbiIsImhhc2hOdW1iZXIiLCJwYXJzZUludCIsInN1YnN0cmluZyIsImV4aXRTY3JvbGxMaXN0ZW5lciIsImNhbGxCYWNrIiwibGFzdFNjcm9sbFRvcCIsInNjcm9sbFRvcCIsImV4aXRTY3JvbGxJbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInN0eWxlQXBwbGljYXRvciIsImVsZW1lbnRzIiwic3R5bGVDaGFuZ2VzTWFwIiwiZWxlbWVudCIsImVudHJpZXMiLCJzdHlsZSIsImluamVjdFN0eWxlU2hlZXQiLCJzdHlsZVNoZWV0IiwiY3JlYXRlRWxlbWVudCIsInJlbCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInByZXBhcmVBY3Rpb25zIiwiYWN0aW9uc1RvUHJlcGFyZSIsInN1YlZhcmlhbnRJZCIsImFjdGlvbnMiLCJwYXJzZSIsImFjdGlvbiIsInN1YlZhcmlhbnRzIiwic3ViVmFyaWFudCIsImlkIiwicnVuVGltZVZhbHVlIiwibWluIiwibWF4IiwicmFuZG9tVVVJRCIsImMiLCJnZXRSYW5kb21WYWx1ZXMiLCJjb21wYXJlT2JqZWN0cyIsIm9iajEiLCJvYmoyIiwia2V5c0EiLCJrZXlzQiIsImdldElkZW50aWZpZXIiLCJjb29raWUiLCJleHRyYWN0SWRlbnRpZmllckludGVydmFsIiwic2V0VGltZW91dCIsImRlbGF5IiwibXMiLCJyZXMiLCJza3VDb2xsZWN0b3IiLCJORF9TS1VfTElTVCIsInNrdUxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZSIsImdldEF0dHJpYnV0ZSIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9kdWN0SW5mbyIsIlBPUFVQX0RJU1BMQVlfRkxBRyIsInRyYW5zZm9ybWVyIiwidHJlYXRtZW50IiwiYXBwbHlFdmVudCIsImNvbnRlbnRTZWxlY3RvciIsInNlbGVjdG9yIiwic2VsZWN0b3JGYWxsYmFjayIsIm1kQ29uZGl0aW9uIiwibW92ZV9zZWxlY3Rvcl8xIiwibW92ZV9zZWxlY3Rvcl8yIiwicmVwbGFjZUZuIiwiJCIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwicmVwbGFjZUZuRXhlY3V0b3IiLCJyZXBsYWNlRnVuY3Rpb24iLCJiaW5kIiwicmVwbGFjZUFsbCIsInZhbCIsImN1cnJlbnRSZXBsYWNlRm4iLCJTdHJpbmciLCJiZWZvcmUiLCJhZnRlciIsImNyZWF0ZVBvcHVwIiwibW9iaWxlIiwiZGlzcGxheVBvcHVwIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJ0aW1lb3V0IiwidGV4dCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJvcmlnaW5hbFRpdGxlIiwidGl0bGUiLCJoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlIiwiZWxlbWVudFNrdSIsImF0dHJpYnV0ZSIsImNzcyIsInByb3BlcnR5IiwicHJvcGVydHlWYWx1ZSIsIm4xIiwibjIiLCJzd2FwTm9kZXMiLCJhcHBlbmQiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsInByZXBlbmQiLCJldmVudCIsInRpdGxlcyIsInBhcnNlZFRpdGxlcyIsImhpZGRlbiIsImhhbmRsZVBvcHVwQ2xpY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicVBvcHVwIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3B1cFdyYXBwZXIiLCJhZGQiLCJwb3B1cENsb3NlQnV0dG9uIiwiaW5uZXJUZXh0Iiwib25jbGljayIsImNvbnRlbnRzIiwic2hpZnQiLCJzcmMiLCJ0ZW1wbGF0ZSIsImlubmVySFRNTCIsInBvcHVwIiwiY29udGVudCIsImZpcnN0Q2hpbGQiLCJib2R5IiwiaTEiLCJpMiIsInAxIiwicGFyZW50Tm9kZSIsInAyIiwiaXNFcXVhbE5vZGUiLCJjaGlsZHJlbiIsImluc2VydEJlZm9yZSIsInRyZWF0bWVudEFwcGxpY2F0b3IiLCJ0cmVhdG1lbnRMaXN0IiwialF1ZXJ5IiwibWVzc2FnZSIsImFwcGx5VHJlYXRtZW50cyIsImNoZWNrcG9pbnRzIiwiQmVhZ2xlTG9hZGVkIiwiSW5pdGlhbGl6ZWQiLCJVc2VyT25PZmYiLCJTY3JpcHRUaW1lT3V0IiwiVHJlYXRtZW50UmVwb3NpdG9yeUNyZWF0ZWQiLCJUcmVhdG1lbnRzQXBwbGllZCIsIlJlYXBwbHlUcmVhdG1lbnRMaXN0ZW5lcnMiLCJiZWFnbGVJbmZvTGF5ZXIiLCJjaGVja3BvaW50IiwiZmluZCIsInRpbWUiLCJEYXRlIiwibm93IiwiX2RlZmluZVByb3BlcnR5IiwiTW9uaXRvciIsImRlYnVnTW9kZSIsInNlc3Npb25JZCIsImFwcGxpZWRUcmVhdG1lbnRJZHMiLCJlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzIiwibGF0ZXN0Q2hhbmdlcyIsImVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMiLCJ2aWV3SWQiLCJoZWFkZXJzIiwiaXNMb2dnZWQiLCJpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXIiLCJpc09uIiwiZW1wdHkiLCJyZWFkeVN0YXRlIiwiaGFuZGxlUXVldWVMb2dzIiwicGFja2FnZUxvZ0RhdGEiLCJyZXF1ZXN0QmxvYiIsInF1ZXVlTG9ncyIsImNoYW5nZXMiLCJjb21wYXJlVG8iLCJtIiwicHJlcGFyZUxvZ0JvZHkiLCJ2SWQiLCJkYm0iLCJCbG9iIiwidCIsImN1cnJlbnRVUkwiLCJnYU9iamVjdHMiLCJnYURMRWxlbWVudCIsInZpc2lsYWJzY2siLCJ2bE9iamVjdHMiLCJJdGVtcyIsInZsRWxlbWVudCIsIksiLCJWIiwibmREYXRhIiwiY29va2llVkxJc05ldyIsIk9NX0lOVyIsImNvb2tpZVZMUFZpblZpc2l0IiwiVkxfUFZDb3VudEluVmlzaXQiLCJjb29raWVWTFZpc2l0RHVyYXRpb24iLCJWTF9Ub3RhbER1cmF0aW9uIiwiY29va2llVkxUb3RhbFBWIiwiVkxfVG90YWxQViIsImNvb2tpZVZMVG90YWxWaXNpdCIsIlZMX1RvdGFsVmlzaXQiLCJnYVBhZ2VUeXBlIiwiUGFnZVR5cGUiLCJnYVByb2R1Y3ROYW1lIiwiY29udGVudF9uYW1lIiwiZ2FWaWV3VHlwZSIsImNvbnRlbnRfdHlwZSIsImdhUHJvZHVjdENhdGVnb3J5IiwiY29udGVudF9jYXRlZ29yeSIsImdhUHJvZHVjdElEIiwiY29udGVudF9pZHMiLCJ2dnNQcm9kdWN0Q2F0ZWdvcnkiLCJ2aXZlbnNlX2NhdGVnb3J5IiwiZ2FMaXN0aW5nTmFtZSIsImVjb21tZXJjZSIsImRldGFpbCIsImFjdGlvbkZpZWxkIiwibGlzdCIsInZ2c0lzU2hvd3Jvb20iLCJpc0FkbWluIiwidnZzUHJvZHVjdEdyb3VwIiwicHJvZHVjdEdyb3VwIiwidnZzVXNlckVtYWlsIiwidXNlckVtYWlsIiwidnZzVXNlcklkIiwidXNlcklkIiwidnZzQ2F0ZWdvcnkiLCJnYUFjdGlvbiIsIkFjdGlvbiIsImdhQWN0aW9uTGFiZWwiLCJMYWJlbCIsImdhQ2F0ZWdvcnlQcm9kdWN0Q29udCIsImNhdGVnb3J5X3Byb2R1Y3RfY291bnQiLCJnYUFjdGlvblN0ZXAiLCJjaGVja291dCIsInN0ZXAiLCJnYUFjdGlvblVzZXIiLCJkaW1lbnNpb24xNCIsInB1cmNoYXNlIiwiZ2FDYXJ0UHJvZHVjdHMiLCJwcm9kdWN0cyIsInZ2c1BEUFByb2R1Y3QiLCJ2aXZlbnNlUHJvZHVjdHMiLCJnYVB1cmNoYXNlSWQiLCJnYVB1cmNoYXNlQWZmaWxpYXRpb24iLCJhZmZpbGlhdGlvbiIsImdhUHVyY2hhc2VDb3Vwb24iLCJjb3Vwb24iLCJnYVB1cmNoYXNlUmV2ZW51ZSIsInJldmVudWUiLCJnYVB1cmNoYXNlU2hpcHBpbmciLCJzaGlwcGluZyIsImdhUHVyY2hhc2VUYXgiLCJ0YXgiLCJnYVB1cmNoYXNlUGF5VHlwZSIsImRpbWVuc2lvbjE1Iiwid2luZG93UGFyYW1zIiwid2luZG93U2NyZWVuIiwic2NyZWVuIiwid2luZG93VlBvcnQiLCJ2aXN1YWxWaWV3cG9ydCIsIndpbmRvd1BSYXRpbyIsImRldmljZVBpeGVsUmF0aW8iLCJuYXZBZ2VudCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm5hdkhXQ29yZXMiLCJoYXJkd2FyZUNvbmN1cnJlbmN5IiwibmF2TGFuZ3VhZ2UiLCJsYW5ndWFnZSIsIm5hdlRvdWNoIiwibWF4VG91Y2hQb2ludHMiLCJuYXZQbGF0Zm9ybSIsInBsYXRmb3JtIiwibmF2VmVuZG9yIiwidmVuZG9yIiwicENsaWNrU2VnbWVudCIsImNvb2tpZUdhSWQiLCJjb29raWVMYXN0QnJlYWRDcnVtYiIsImNvb2tpZUxhc3RDYXRlZ29yeSIsImNvb2tpZUZpcnN0RW50cnkiLCJzciIsInUiLCJob3N0bmFtZSIsInIiLCJyZWZlcnJlciIsInciLCJpbm5lcldpZHRoIiwid2RsIiwidnZzUHVyY1ByaWNlRWx0IiwidG90YWxQcmljZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsInZ2c1B1cmNUeXBlRWx0IiwicGF5bWVudFRpdGxlRWxlbWVudCIsImlzRXhpdEV2ZW50Q2FwdHVyZWQiLCJsb2dEYXRhIiwicGFja2FnZVVwZGF0ZUxvZ0RhdGEiLCJjYXB0dXJlIiwicXVldWVkIiwic2VuZEJlYWNvbiIsInF1ZXVlSW50ZXJ2YWwiLCJUcmVhdG1lbnRSZXBvc2l0b3J5IiwiY29va2llUGN0IiwidXNlclNlZ21lbnQiLCJnZXRVc2VyU2VnbWVudCIsInNlZ21lbnRNYXRjaGVkVHJlYXRtZW50cyIsImZpbHRlciIsImFwcGx5X29uX3VzZXJfc2VnbWVudCIsIlRSRUFUTUVOVFMiLCJ0cmVhdG1lbnRzT2JqIiwidGltZXN0YW1wIiwidHJlYXRtZW50V2l0aFRpbWVzdGFtcCIsImNoZWNrQ291bnRlclJ1bGUiLCJwYWdlVmlld0hhbmRsZXIiLCJjYUJhc2tldFByaWNlSGFuZGxlciIsImdldENvdW50ZXIiLCJjb3VudGVyIiwicGFnZVZpZXdzIiwiY2FCYXNrZXRQcmljZSIsImNoZWNrRWxlbWVudFJ1bGUiLCJzZWxlY3RvckFsbCIsIm1haW5TZWxlY3RvciIsInRlbXBWYWwiLCJyZXR1cm5WYWwiLCJlbGVtIiwiY2hlY2tGdW5jdGlvblJ1bGUiLCJvcHRzIiwiYmluZGluZ3MiLCJydWxlRnVuY3Rpb24iLCJjaGVja1Nlc3Npb25SdWxlIiwiZHVyYXRpb25IYW5kbGVyIiwiaGlzdG9yeUhhbmRsZXIiLCJkdXJhdGlvbiIsImdldFNlc3Npb25UaW1lc3RhbXAiLCJjdXJyZW50SGlzdG9yeSIsImNoZWNrRW52UnVsZSIsImlzTW9iaWxlIiwiY2hlY2tSYW5kb21OdW1iZXJSdWxlIiwic2FsdCIsInJhbmRvbVBjdCIsIlJ1bGVFbmdpbmUiLCJiYXNlUnVsZVNldCIsInN1YlZhcmlhbnRSdWxlU2V0IiwiY2FsbGJhY2siLCJjaGVja1J1bGUiLCJjaGFpbiIsImNoYWluX2NvbmRpdGlvbiIsInJ1bGVTYXRpc2ZpZWQiLCJwcm9kdWN0SW5mb0xvb2t1cCIsIkhlYWRlcnMiLCJtb2RlIiwib2siLCJtb25pdG9yIiwicHJvZHVjdEluZm9Qcm9taXNlIiwiTkRfREVCVUdfTU9ERSIsInF1ZXJ5U3RyaW5nIiwicmVtb3ZlSXRlbSIsInNlYXJjaFBhcmFtcyIsImRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzIiwiaW5kZXhPZiIsImxhc3RJbmRleE9mIiwiaXRlbSIsImNvbnRhaW5zIiwiR0xPVl9PTiIsIlBBR0VfVklFV1MiLCJTRVNTSU9OX0lEIiwiU0VTU0lPTl9USU1FU1RBTVAiLCJTRVNTSU9OX0hJU1RPUlkiLCJwb3B1cERpc3BsYXlGbGFnIiwic2Vzc2lvblRpbWVzdGFtcCIsInNlc3Npb25IaXN0b3J5IiwidHJlYXRtZW50c1Byb21pc2UiLCJPQlNFUlZFUl9DT05GSUciLCJzdWJ0cmVlIiwiY2hpbGRMaXN0IiwiYXR0cmlidXRlcyIsImVuZ2FnZVRyZWF0bWVudCIsImRldmljZSIsImRlcGVuZGFudF9vbl90cmVhdG1lbnQiLCJyZWFwcGx5X2V2ZW50Iiwid2VpZ2h0IiwicmVhcHBseV9ldmVudF9hcnJheSIsInJlYXBwbHlFdmVudCIsInByZXZpb3VzVmFsdWUiLCJyZUFwcGx5VHJlYXRtZW50c01hcCIsInJ1bGVFbmdpbmUiLCJjaGVja1J1bGVzIiwidHJlYXRtZW50U2tpcFJhdGlvIiwiZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHQiLCJtYXRjaGVkVHJlYXRtZW50cyIsImRldGVybWluaW5nSWRlbnRpZmllciIsInRyZWF0bWVudFBjdCIsInByZXBhcmVkIiwiY2hlY2tTdWJWYXJpYW50UnVsZXMiLCJjb2xsZWN0Q0FCYXNrZXRQcmljZSIsIkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSIsInByaWNlRWxlbWVudHMiLCJjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImJhc2tldENoZWNrb3V0Rm9ybSIsIm9ic2VydmUiLCJhbGwiLCJ0cmVhdG1lbnRSZXBvc2l0b3J5IiwiZ2V0TWF0Y2hlZFRyZWF0bWVudHMiLCJzZW5kTG9ncyIsInVwZGF0ZVRyZWF0bWVudHMiLCJ1cGRhdGVMYXRlc3RDaGFuZ2VzIiwidHJlYXRtZW50SWRzIiwicmVBcHBseVRyZWF0bWVudHMiLCJSZXNpemVPYnNlcnZlciIsInJlYXBwbHlfc2VsZWN0b3IiLCJvbnNjcm9sbCJdLCJzb3VyY2VSb290IjoiIn0=

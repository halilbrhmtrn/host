!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new T(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw a;return E()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=L(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?v:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",g={};function h(){}function m(){}function y(){}var w={};s(w,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=y.prototype=h.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var s=l(e[o],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:E}}function E(){return{value:t,done:!0}}return m.prototype=y,s(x,"constructor",y),s(y,"constructor",m),m.displayName=s(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),s(x,c,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}var s=n(757),u=n.n(s);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=window.location.href.includes("staging.vivense")?"https://ndvivense.glov.ai/weights_staging.json":"https://ndvivense.glov.ai/weights.json",v="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",g="(max-width: 440px)",h="__nextday_session_id",m="ND_SessionTimestamp",y="BN_SessionHistory",w="ND_PageViews",b="ND_PopupDisplayFlag",k="ND_SkuList",x="ND_CABasketPrice",S="ND_Debug",I="ND_OutOfScope",L="ND_UserId",O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";l(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(S)}return f(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}},{key:"warn",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).warn.apply(e,["[".concat(t,"]")].concat(r))}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),A=O;function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=new A("Nextday DataLayer Checker"),E=function(e){C.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=P(t);return ue(o,n,r)},P=function(e){C.log("Searching beagleInfoLayer for key ",e);var t=window.beagleInfoLayer[e];if(e.includes("."))try{var n=e.split(".");t=window.beagleInfoLayer[n[0]];for(var r=1;r<n.length;r++)t=t[n[r]]}catch(n){C.log("Couldn't extract key ".concat(e," from beagleInfoLayer")),t=null}if(t)return C.log("Found key ".concat(e," with value ").concat(t)),t;C.log("Key ".concat(e," not found in beagleInfoLayer")),C.log("Searching dataLayer for key ",e);var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(window.dataLayer);try{for(a.s();!(o=a.n()).done;){var i=o.value;if(Object.keys(i).includes(e))return C.log("Found key ".concat(e," with value ").concat(i[e])),i[e]}}catch(e){a.e(e)}finally{a.f()}return C.log("Key ".concat(e," not found in dataLayer")),null},_=new A("Nextday Url Checker"),N=function(e){_.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return _.log("Checking path ".concat(a," matches rule path ").concat(r)),ue(a,n,r)}};function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.beagleInfoLayer=window.beagleInfoLayer||{checkpoints:[],a:{},e:{}};var M={PageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,content_name:/(?:content_name[ ]*:[ ]*")(.*)(?:")/,content_name_alt:/(?:content_name'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAPageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderId:/(?:purchase[\s\S]*actionField[\s\S]*'id'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderRev:/(?:purchase[\s\S]*actionField[\s\S]*'revenue'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderType:/(?:purchase[\s\S]*actionField[\s\S]*'dimension15'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAIsAdmin:/(?:dataLayer[\s\S]*'isAdmin'[ ]*:[ ]*")(.*)(?:")/},V={BeagleLoaded:1,Initialized:2,UserOnOff:3,ScriptTimeOut:7,TreatmentRepositoryCreated:4,TreatmentsApplied:5,ReapplyTreatmentListeners:6,TimeoutThresholdReached:8},F=new A("BeagleInfoLayer"),B=function(){F.log("Initializing beagleInfoLayer"),W();var e=document.getElementsByTagName("script");if(e&&e.length)for(var t=0,n=e.length-1;n>-1;n--)for(var r=e[n].textContent,o=0,a=Object.keys(M);o<a.length;o++){var i=a[o],c=M[i].exec(r);if(c=c?c[1]:null){i.indexOf("_alt")>0&&(i=i.substring(0,i.lastIndexOf("_alt")));try{G(i,decodeURIComponent(JSON.parse('"'+c+'"')))}catch(e){F.warn("Could not decode foundVal ".concat(c)),G(i,null)}if((t+=1)===Object.keys(M).length)return}}else F.warn("Could not parse body")},J=function(e){try{F.log("Checkpoint: '".concat(e,"' Reached!")),window.beagleInfoLayer.checkpoints.push({checkpoint:Object.keys(V).find((function(t){return V[t]===e})),id:e,time:Date.now()})}catch(e){F.warn(e)}},G=function(e,t){null!=e&&null!=t&&(window.beagleInfoLayer[e]=t)},H=function(e,t){window.beagleInfoLayer.a[e]=t},z=function(e,t){window.beagleInfoLayer.e[e]=t},W=function(){var e,t,n,r,o,a,i,c,s,u,l,d,f,p,v,g,m,y,w,b,k,x,S,I,L,O,A,T,C,E,P,_,N,j,D,U,M,V,B,J,H,$,z,W,K=crypto.randomUUID(),Q=sessionStorage.getItem(h),Y=new URL(window.location.href),X=(null===(e=window.navigator)||void 0===e||null===(t=e.userAgentData)||void 0===t?void 0:t.platform)||(null===(n=window.navigator)||void 0===n?void 0:n.platform)||(null===(r=window.navigator)||void 0===r?void 0:r.userAgent),Z={},ee=q(window.dataLayer);try{for(ee.s();!(W=ee.n()).done;){var te=W.value;Z=R(R({},Z),te)}}catch(e){ee.e(e)}finally{ee.f()}var re=JSON.parse(ne(document.cookie,"VL_CM_0")),oe={};if(re&&re.Items){var ae,ie=q(re.Items);try{for(ie.s();!(ae=ie.n()).done;){var ce=ae.value;oe[ce.K]=decodeURIComponent(ce.V)}}catch(e){ie.e(e)}finally{ie.f()}}G("cookieVLPVinVisit",oe.VL_PVCountInVisit),G("cookieVLVisitDuration",oe.VL_TotalDuration),G("cookieVLTotalPV",oe.VL_TotalPV),G("cookieVLTotalVisit",oe.VL_TotalVisit),G("gaPageType",Z.PageType),G("gaProductName",Z.content_name),G("gaViewType",Z.content_type),G("gaProductCategory",Z.content_category),G("gaProductID",Z.content_ids),G("vvsProductCategory",Z.vivense_category),G("gaListingName",null===(o=Z.ecommerce)||void 0===o||null===(a=o.detail)||void 0===a||null===(i=a.actionField)||void 0===i?void 0:i.list),G("vvsIsShowroom",void 0===window.isAdmin?Z.isAdmin:window.isAdmin),G("vvsProductGroup",Z.productGroup),G("vvsUserId",Z.userId),G("vvsCategory",Z.vivense_category),G("gaCategoryProductCont",Z.category_product_count),G("gaCartProducts",(null===(c=Z.ecommerce)||void 0===c||null===(s=c.checkout)||void 0===s?void 0:s.products)||(null===(u=Z.ecommerce)||void 0===u||null===(l=u.purchase)||void 0===l?void 0:l.products)),G("vvsPDPProduct",null===(d=Z.vivenseProducts)||void 0===d?void 0:d.pop()),G("gaPurchaseId",null===(f=Z.ecommerce)||void 0===f||null===(p=f.purchase)||void 0===p||null===(v=p.actionField)||void 0===v?void 0:v.id),G("gaPurchaseRevenue",null===(g=Z.ecommerce)||void 0===g||null===(m=g.purchase)||void 0===m||null===(y=m.actionField)||void 0===y?void 0:y.revenue),G("gaPurchasePayType",null===(w=Z.ecommerce)||void 0===w||null===(b=w.purchase)||void 0===b||null===(k=b.actionField)||void 0===k?void 0:k.dimension15),G("windowParams",window.location.search),G("windowPRatio",window.devicePixelRatio),G("windowInner",window.innerWidth);var se={};se.availHeight=null===(x=window.screen)||void 0===x?void 0:x.availHeight,se.availHeight=null===(S=window.screen)||void 0===S?void 0:S.availHeight,se.availLeft=null===(I=window.screen)||void 0===I?void 0:I.availLeft,se.availTop=null===(L=window.screen)||void 0===L?void 0:L.availTop,se.availWidth=null===(O=window.screen)||void 0===O?void 0:O.availWidth,se.colorDepth=null===(A=window.screen)||void 0===A?void 0:A.colorDepth,se.height=null===(T=window.screen)||void 0===T?void 0:T.height,se.pixelDepth=null===(C=window.screen)||void 0===C?void 0:C.pixelDepth,se.width=null===(E=window.screen)||void 0===E?void 0:E.width,G("windowScreen",se);var ue={};if(ue.height=null===(P=window.visualViewport)||void 0===P?void 0:P.height,ue.offsetLeft=null===(_=window.visualViewport)||void 0===_?void 0:_.offsetLeft,ue.offsetTop=null===(N=window.visualViewport)||void 0===N?void 0:N.offsetTop,ue.onresize=null===(j=window.visualViewport)||void 0===j?void 0:j.onresize,ue.onscroll=null===(D=window.visualViewport)||void 0===D?void 0:D.onscroll,ue.pageLeft=null===(U=window.visualViewport)||void 0===U?void 0:U.pageLeft,ue.pageTop=null===(M=window.visualViewport)||void 0===M?void 0:M.pageTop,ue.scale=null===(V=window.visualViewport)||void 0===V?void 0:V.scale,ue.width=null===(B=window.visualViewport)||void 0===B?void 0:B.width,G("windowVPort",ue),screen.width){var le=parseInt(screen.width),de=screen.height?parseInt(screen.height):0;if(0!==le&&0!==de){if(/iPad|iPhone|iPod/.test(X)&&window.devicePixelRatio)le=Math.round(le*window.devicePixelRatio),de=Math.round(de*window.devicePixelRatio);else if(90===Math.abs(window.orientation)){var fe=le;le=de,de=fe}G("window",le+"x"+de)}}if(G("navHistSize",null===(J=window.history)||void 0===J?void 0:J.length),G("navAgent",navigator.userAgent),!window.beagleInfoLayer.navAgent&&navigator.userAgentData){var pe,ve,he,me,ye,we=null===(pe=navigator)||void 0===pe||null===(ve=pe.userAgentData)||void 0===ve||null===(he=ve.brands)||void 0===he?void 0:he.map((function(e){return e.brand+":"+e.version})).join();we+=null!==(me=navigator)&&void 0!==me&&null!==(ye=me.userAgentData)&&void 0!==ye&&ye.mobile?"mobi":" ",G("navAgent",we+=X)}G("navHWCores",navigator.hardwareConcurrency),G("navLanguage",navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage),G("navTouch",navigator.maxTouchPoints),G("navPlatform",X),G("navVendor",navigator.vendor),G("cookieGaId",ne(document.cookie,"_ga")),G("cookieLastBreadCrumb",ne(document.cookie,"lastbreadcrumb")),G("cookieLastCategory",ne(document.cookie,"lastcategory")),G("cookieFirstEntry",decodeURIComponent(ne(document.cookie,"vivensefirst")));var be={};if(window.performance&&window.performance.getEntriesByType("navigation")[0]){var ke=window.performance.getEntriesByType("navigation")[0];be.pld=Math.round(ke.domContentLoadedEventEnd-ke.connectStart),be.net=Math.round(ke.connectEnd-ke.fetchStart),be.srv=Math.round(ke.responseStart-ke.requestStart),be.tfr=Math.round(ke.responseEnd-ke.responseStart),be.dmi=Math.round(ke.domInteractive-ke.responseEnd),be.dcp=Math.round(ke.domComplete-ke.domInteractive),be.onl=Math.round(ke.loadEventEnd-ke.loadEventStart)}G("perfMetrics",be),G("internetSpeed",null===(H=window.navigator)||void 0===H||null===($=H.connection)||void 0===$?void 0:$.downlink);var xe,Se,Ie=q(document.querySelectorAll('[type="application/ld+json"]'));try{for(Ie.s();!(xe=Ie.n()).done;){var Le=xe.value;try{var Oe=Le.textContent,Ae=JSON.parse(Oe),Te="@";switch(Ae["@type"]){case"Organization":case"WebSite":break;case"CollectionPage":var Ce,Ee=q(Ae.breadcrumb.itemListElement);try{for(Ee.s();!(Ce=Ee.n()).done;)Te+=" | "+Ce.value.item.name}catch(e){Ee.e(e)}finally{Ee.f()}G("sorgBreadcrumb",Te);var Pe={};Pe.name=Ae.mainEntity.name,Pe.countItems=Ae.mainEntity.numberOfItems,G("sorgListing",Pe);break;case"BreadcrumbList":var _e,Ne=q(Ae.itemListElement);try{for(Ne.s();!(_e=Ne.n()).done;)Te+=" | "+_e.value.name}catch(e){Ne.e(e)}finally{Ne.f()}G("sorgBreadcrumb",Te);break;case"Product":var je={};je.sku=Ae.sku,je.name=Ae.name,Ae.offers&&(je.price=Ae.offers.price,je.priceCurrency=Ae.offers.priceCurrency,je.priceValidUntil=Ae.offers.priceValidUntil),G("sorgProduct",je);break;default:console.log(Ae)}}catch(e){F.warn(e.message)}}}catch(e){Ie.e(e)}finally{Ie.f()}G("v","0.0.27"),G("n","nextday-session_id-".concat(Q)),G("sr",50),G("donttrack",navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack),G("u",Y.href),G("d",Y.hostname),G("r",document.referrer),G("vId",K),G("isOn",null);try{G("vvsCntFavProds",window.favoriteProducts?JSON.parse(window.favoriteProducts).length:null)}catch(e){G("vvsCntFavProds",null),F.warn(e.message)}G("vvsHasSetEmail",window.userEmail.length>0),G("vvsLoginType",window.userId>0?"member":"guest"),Se=document.querySelector('[class*="basket_summary_total"], [class*="total_row"]'),G("vvsPurcPriceElt",Se?Se.innerText:null),Se=document.querySelector('[class*="order_follow_numb"], [class*="cart-title-bottom"]'),G("vvsPurchaseOrderID",Se?Se.innerText:null),Se=document.querySelector('[class*="payment_type_title"], [class*="cart-title-info"]'),G("vvsPurcTypeElt",Se?Se.innerText:null),Se=document.querySelector('[id*="breadcrumb-ol"], [class*="long-breadcrumb"]'),G("vvsViewCrumb",Se?Se.innerText:null),Se=document.querySelector('[class*="order-final-number"]'),G("vvsCartTotal",Se?Se.innerText:null),Se=document.querySelector('[class*="basket_total_price"]'),G("vvsViewBasketTotal",Se?Se.innerText:null),Se=document.querySelector('[id*="cart_quantity"], [class*="basket_length"]'),G("vvsViewBasketCount",Se?Se.innerText:null),Se=document.querySelector('[class*="welcome_username"]'),G("vvsViewLoggedin",!!Se&&Se.innerText.length>0),Se=document.querySelectorAll('[class*="vivense-showrooms"] > *'),G("vvsPDPShowroomCount",Se?Se.length:null),Se=document.querySelector('[class*="delivery-date"]'),G("vvsPDPDeliveryDate",Se?Se.innerText:null),G("vvsPDPDeliveryDateFormatted",ge(null===(z=Se)||void 0===z?void 0:z.innerText)),Se=document.querySelector('[class*="product-title"], [class*="header-bottom"]'),G("vvsPDPTitle",Se?Se.innerText:null),Se=document.querySelector('[class*="count-of-product"]'),G("vvsPLPItemCount",Se?Se.innerText:null),Se=document.querySelector('[class*="subcategories-title"]'),G("vvsPLPName",Se?Se.innerText:null)};function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=new A("Nextday Utils"),X={ocak:0,"şubat":1,mart:2,nisan:3,"mayıs":4,haziran:5,temmuz:6,"ağustos":7,"eylül":8,ekim:9,"kasım":10,"aralık":11};"randomUUID"in crypto||(crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))});var Z=function(){document.documentElement.classList.remove("nextDay-hide")},ee=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y.log("Fetching treatment weights"),e.next=3,fetch(p);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},re=function(){var e=c(u().mark((function e(t){var n,r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=8+(n=9),t){e.next=5;break}return e.abrupt("return",-1);case 5:return e.next=7,oe(t);case 7:return o=e.sent,a=parseInt(o.substring(n,r),16),e.abrupt("return",a%100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=c(u().mark((function e(t){var n,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,o=Array.from(new Uint8Array(r)),e.abrupt("return",o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=document.documentElement.scrollTop,n=setInterval((function(){var r=document.documentElement.scrollTop;t-400>r?(clearInterval(n),e()):t=r}),500)},ie=function(e,t){Y.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],a=0,i=Object.entries(t);a<i.length;a++){var c=o(i[a],2),s=c[0],u=c[1];r.style[s]=u}},ce=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="https://host-b96.pages.dev/nd-styles.css",document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=c(u().mark((function e(t,n,r){var o,a,i,c,s,l,d,f,p,v,g,h,m,y,w,b,k,x,S,I,L;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=JSON.parse(JSON.stringify(n)),a=null,i=K(o),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=55;break}if(s=c.value,l=s.businessRuleTransformations,d=s.variants,l||d){e.next=10;break}return e.abrupt("continue",53);case 10:if(r&&l){f=K(l);try{for(f.s();!(p=f.n()).done;)if((v=p.value).id===r)for(g in v)"id"!==g&&(s[g]=v[g])}catch(e){f.e(e)}finally{f.f()}}if(!d){e.next=53;break}h=0,m=Object.keys(d);case 13:if(!(h<m.length)){e.next=53;break}return y=m[h],e.next=17,re(t+y);case 17:if(!(e.sent<s.variants[y].weight)){e.next=50;break}if(a=y,!r||!d[y].businessRuleTransformations){e.next=48;break}w=K(d[y].businessRuleTransformations),e.prev=22,w.s();case 24:if((b=w.n()).done){e.next=38;break}if((k=b.value).id!=r){e.next=36;break}x=0,S=Object.keys(k);case 28:if(!(x<S.length)){e.next=36;break}if("id"!==(I=S[x])){e.next=32;break}return e.abrupt("continue",33);case 32:s[I]=k[I];case 33:x++,e.next=28;break;case 36:e.next=24;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(22),w.e(e.t0);case 43:return e.prev=43,w.f(),e.finish(43);case 46:e.next=49;break;case 48:for(L in d[y])"weight"!==L&&"businessRuleTransformations"!==L&&(s[L]=d[y][L]);case 49:return e.abrupt("break",53);case 50:h++,e.next=13;break;case 53:e.next=5;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(3),i.e(e.t1);case 60:return e.prev=60,i.f(),e.finish(60);case 63:return e.abrupt("return",[o,a]);case 64:case"end":return e.stop()}}),e,null,[[3,57,60,63],[22,40,43,46]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ue=function(e,t,n){if("notExist"===t)return e?(Y.log("conditionChecker: -not satisfied- target does exist"),!1):(Y.log("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return Y.log("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(Y.log("conditionChecker: -satisfied- target does exist"),!0):(Y.log("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(Y.log("conditionChecker: -satisfied- target contains value"),!0):(Y.log("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(Y.log("conditionChecker: -not satisfied- target contains value"),!1):(Y.log("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(Y.log("conditionChecker: -satisfied- target equals value"),!0):(Y.log("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(Y.log("conditionChecker: -satisfied- target does not equal value"),!0):(Y.log("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(Y.log("conditionChecker: -satisfied- target is greater than value"),!0):(Y.log("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(Y.log("conditionChecker: -satisfied- target is less than value"),!0):(Y.log("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(Y.log("conditionChecker: -satisfied- target is greater or equal than value"),!0):(Y.log("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(Y.log("conditionChecker: -satisfied- target is less or equal than value"),!0):(Y.log("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=o(n.split(","),2),a=r[0],i=r[1];return a=parseInt(a),i=parseInt(i),e>=a&&e<=i?(Y.log("conditionChecker: -satisfied- target is between min and max"),!0):(Y.log("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return Y.log("conditionChecker: condition is not defined ",t),!1}},le=function(){var e=S,t=I,n=window.location.search;if(n.includes("nd_debug=1"))return window.localStorage.setItem(e,1),window.localStorage.setItem(t,!0),G("dbm","on"),1;if(n.includes("nd_debug=2"))return window.localStorage.setItem(e,2),window.localStorage.setItem(t,!0),G("dbm","on"),2;if(n.includes("nd_debug=0"))return window.localStorage.removeItem(e),window.localStorage.setItem(t,!0),G("dbm","off"),0;var r=parseInt(window.localStorage.getItem(e));return G("dbm",r?"on":"off"),r||0},de=function(){var e=c(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"_ga",e.abrupt("return",new Promise((function(e,n){var r=window.localStorage.getItem(L);if(r&&e(r),r=ne(document.cookie,t))window.localStorage.setItem(L,r),e(r);else{var o=setInterval((function(){(r=ne(document.cookie,t))&&(clearInterval(o),window.localStorage.setItem(L,r),e(r))}),10);setTimeout((function(){clearInterval(o),n(new Error("Could not extract cookie identifier"))}),1e3)}})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(e){return new Promise((function(t){return setTimeout(t,e)}))},pe=function(){var e=k,t=[],n={operator:"PageType",condition:"equal",value:"Homepage"};if(E(n))return null;if(n.value="Listingpage",E(n))return Array.from(document.querySelectorAll(".product-card")).forEach((function(e){t.push(e.getAttribute("data-product-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(Y.log("Product SKUs not found on Listingpage"),null);if(n.value="Productpage",E(n)){var r,o,a,i=document.querySelector(".product-sku");return i?(t.push(i.getAttribute("data-sku")||(null===(r=i.textContent)||void 0===r||null===(o=r.trim())||void 0===o||null===(a=o.replace(/\)/g,""))||void 0===a?void 0:a.replace(/\(/g,""))),sessionStorage.setItem(e,JSON.stringify(t)),t):(Y.log("Product SKU not found on Productpage"),null)}return n.operator="path",n.value="/siparis-listesi.html",N(n)?(Array.from(document.querySelectorAll(".cart-inside")).forEach((function(e){t.push(e.getAttribute("data-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(Y.log("Product SKUs not found on basket page"),null)):(Y.log("Unidentified page type"),null)},ve=function(){return navigator.sendBeacon&&"function"==typeof navigator.sendBeacon},ge=function(e){if(!e||"string"!=typeof e)return e;var t=e.match("([\\d]+)-([\\d]+)\\s?([\\wıüğşöçİÖÇĞÜ]+)");if(!t||4!==t.length)return e;try{var n=new Date,r=X[t[3].toLowerCase()];if(!r)return e;var o=r>=n.getMonth()?n.getFullYear():n.getFullYear()+1,a=new Date(o,r,parseInt(t[1])),i=new Date(o,r,parseInt(t[2])),c=Math.ceil(Math.abs(a-n)/864e5),s=Math.ceil(Math.abs(i-n)/864e5),u=c<7?0:Math.ceil(c/7),l=s<7?0:Math.ceil(s/7);return 0===u&&0===l?"".concat(c," - ").concat(s," GÜN İÇİNDE"):0===u&&l>=1?"".concat(c," GÜN - ").concat(l," HAFTA İÇİNDE"):u===l?"".concat(u," HAFTA İÇİNDE"):"".concat(u," - ").concat(l," HAFTA İÇİNDE")}catch(t){return e}},he=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";var r=e.indexOf(t);if(r<0)return e;for(;e.indexOf(t)>=0;){var o=e.indexOf(t);e=(o>0?e.substring(0,o):"")+n+e.substring(o+t.length)}return e};function me(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(){return we=c(u().mark((function e(t,n){var r,o,a,i,s,l,d,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new A("Nextday Apply Treatments"),o=b,a=function(e){r.log("Applying treatment: ",JSON.stringify(e));var t=e.operator,a=e.type,c=e.applyEvent,s=e.contentSelector,u=e.selector,p=e.selectorFallback,v=e.mdCondition,h=e.move_selector_1,m=e.move_selector_2,y=e.replaceFn,w=e.value,b=$(u);if(!v||window.matchMedia(v).matches)if(h&&!m||m&&!h)r.log("Both move selectors are required");else{if(h&&m){if(!$(h).length)return void r.log("Move selector 1 not found: ",h);if(!$(m).length)return void r.log("Move selector 2 not found: ",m)}else{if(!u)return void r.log("Selector not specified");if(!b.length&&"no-selector"!==u&&(r.log("Selector not found: ",u),r.log("Trying fallback selector: ",p),p&&(b=$(p)),!b.length))return void r.log("Fallback selector not found")}var k=function(e,t){if(e&&t.includes("{{REPLACE}}")){r.log("Executing replace function: ",e);var o={dataLayerFinder:P,productInfo:n},a=Function(e).bind(o);t=he(t,"{{REPLACE}}",a())}return t};if(Array.isArray(w)?w.forEach((function(e,t){var n=y?y[t]||y:"";w[t]=k(n,e)})):w=k(y,w),"remove"===t)b&&(r.log("Removing: ",u),b.remove()),r.log("Cannot found element with selector: ",u);else if("insert"===t)switch(a){case"before":r.log("Inserting before: ",w),String(w).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),b.before(w);break;case"after":r.log("Inserting after: ",w),b.after(w);break;case"popup":if(0!==parseInt(sessionStorage.getItem(o))){r.log("Popup already displayed in session");break}if(r.log("Creating Popup: ",w),d(w,s),c){var x,S=window.matchMedia(g).matches,I=me(c);try{for(I.s();!(x=I.n()).done;)switch(x.value){case"exitIntent":r.log("Adding exit intent listener"),S?ae(l):document.documentElement.addEventListener("mouseleave",l,{once:!0});break;case"copyIntent":r.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",l,{once:!0})}}catch(e){I.e(e)}finally{I.f()}}else setTimeout((function(){l()}),timeout)}else if("edit"===t)switch(a){case"text":r.log("Editing text: ",w),b.text(w);break;case"html":r.log("Editing html: ",w),b.html(w);break;case"styleApplicator":r.log("Applying style: ",w);var L=JSON.parse(w);r.log("Style Changes Map: ",L),ie(b,L);break;case"addClass":r.log("addding class to ".concat(b," named ").concat(w)),b.addClass(w);break;case"removeClass":r.log("remove class from ".concat(b," named ").concat(w)),b.removeClass(w);break;case"documentTitle":if(r.log("changing document title from ".concat(b," to ").concat(w)),c){var O,A=me(c);try{for(A.s();!(O=A.n()).done;)"tabChange"==O.value&&function(){r.log("catching event tabchange..");var e=document.title;document.addEventListener("visibilitychange",(function(t){return i(t,w,e)}))}()}catch(e){A.e(e)}finally{A.f()}}break;case"addBanner":if(!n){r.log("Product info unavailable");break}r.log("Adding banner: ",w);var T=JSON.parse(sessionStorage.getItem("ND_SkuList"))[0];if(!T){r.log("Could not find product sku");break}Object.keys(n).includes(T)&&b.before(w);break;default:r.log("Unknown edit type: ",a)}else if("setattribute"===t)switch(r.log("Setting attribute: ",attribute,w),attribute){case"src":b.css("content","url(".concat(w.trim(),")"));break;case"style":var C=w.split(":")[0].trim(),E=w.split(":")[1].trim();b.css(C,E,"!important")}else if("replace"===t)r.log("Replacing: ",w),b.replaceAll(w);else if("swap"===t){r.log("Swapping: ",h,m);var _=document.querySelector(h),N=document.querySelector(m);f(_,N)}else if("injectscript"===t)r.log("Injecting script: ",w),b.append("<script>".concat(w,"<\/script>"));else if("move"===t){r.log("Moving ".concat(h," to ").concat(m));var j=document.querySelector(h),D=document.querySelector(m);j.remove(),D.prepend(j)}else"noop"===t?r.log("Noop Operator: No operation is applied on target "):r.log("No such operator exists yet",t)}else r.log("Media condition mismatch: ",v)},i=function(){var e=c(u().mark((function e(t,n,r){var o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.isArray(n)?n:[n],a=0;case 2:if(!(a<o.length)){e.next=16;break}if(!document.hidden){e.next=12;break}return document.title=o[a],e.next=7,fe(3e3);case 7:return document.title=r,e.next=10,fe(3e3);case 10:e.next=13;break;case 12:document.title=r;case 13:a++,e.next=2;break;case 16:if(document.hidden){e.next=21;break}return document.title=r,e.abrupt("return");case 21:i(t,n,r);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0))},l=function e(){sessionStorage.setItem(o,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",s,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",s,!0)}),15e3)},d=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",s,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var i=a.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},f=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var c=0;c<a.children.length;c++)a.children[c].isEqualNode(t)&&(r=c);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},function e(t){if(window.jQuery){var n,o=me(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;try{a(i)}catch(e){r.log("Couldn't apply treatment ".concat(i.id," with error ").concat(e.message));continue}}}catch(e){o.e(e)}finally{o.f()}}else setTimeout((function(){e(t)}),10)}(t);case 10:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}var be=function(e,t){return we.apply(this,arguments)};function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(){function e(){l(this,e),this.logger=new A("Nextday Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentsHash=null,this.appliedTreatmentsChanges=!1,this.eligibleNotAppliedTreatmentsHash=null,this.eligibleNotAppliedTreatmentsChanges=!1,this.headers={type:"application/json"},this.isLogged=!1,this.initializeExitEventListeners()}var t,n,r;return f(e,[{key:"sendLogs",value:(r=c(u().mark((function e(){var t,n,r,o=this,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:null,n=a.length>1&&void 0!==a[1]&&a[1],(r=this.logger).log("Sending logs"),"complete"!==document.readyState?(r.log("Document ready state is not complete"),window.addEventListener("load",(function(){r.log("In onload event"),o.handleQueueLogs(o.packageLogData(t),n)}),!0)):this.handleQueueLogs(this.packageLogData(t),n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"handleQueueLogs",value:(n=c(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>1&&void 0!==r[1]&&r[1]||!this.isLogged){e.next=3;break}return e.abrupt("return");case 3:if(n=this.logger,t){e.next=7;break}return n.log("Could not create request blob"),e.abrupt("return");case 7:return n.log("Request blob to send: ",t),this.queueLogs(t),this.isLogged=!0,e.next=12,oe(JSON.stringify(window.beagleInfoLayer.a));case 12:return this.appliedTreatmentsHash=e.sent,e.next=15,oe(JSON.stringify(window.beagleInfoLayer.e));case 15:this.eligibleNotAppliedTreatmentsHash=e.sent;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateLatestChanges",value:(t=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.log("Checking if there are changes"),e.next=4,oe(JSON.stringify(window.beagleInfoLayer.a));case 4:return t=e.sent,e.next=7,oe(JSON.stringify(window.beagleInfoLayer.e));case 7:n=e.sent,t!==this.appliedTreatmentsHash&&(this.appliedTreatmentsChanges=!0,this.appliedTreatmentsHash=t),n!==this.eligibleNotAppliedTreatmentsHash&&(this.eligibleNotAppliedTreatmentsChanges=!0,this.eligibleNotAppliedTreatmentsHash=n);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"packageLogData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.headers,n=xe({},window.beagleInfoLayer),r=e||(Object.keys(n.a||{}).length?"Treatments applied":"No treatments applied");return n.t=Date.now(),n.m=r,new Blob([JSON.stringify(n)],t)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.appliedTreatmentsChanges,n=this.eligibleNotAppliedTreatmentsChanges;if(!t&&!n)return!1;var r={t:Date.now(),a:t?window.beagleInfoLayer.a:{},e:n?window.beagleInfoLayer.e:{},vId:window.beagleInfoLayer.vId};return new Blob([JSON.stringify(r)],e)}},{key:"initializeExitEventListeners",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(e.isLogged){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0}),window.addEventListener("pagehide",(function(){if(e.isLogged){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger;if(ve()){var n=navigator.sendBeacon(v,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(v,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}else fetch(v,e)}}]),e}(),Ie=Se;function Le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ae=new A("Nextday Treatment Repository"),Te=function(){function e(t){l(this,e);var n=t.cookiePct,r=t.treatments,o=t.treatmentWeights;this.treatments=r,this.cookiePct=n,this.treatmentWeights=o}var t,n;return f(e,[{key:"getMatchedTreatments",value:function(){var e=this.treatmentWeights,t=this.getUserGroup(),n=this.treatments;if(e){var r,o=t&&e[t]?e[t]:e.default,a=Le(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(o[i.id]&&(i.weight=o[i.id].weight,i.actions.find((function(e){return e.variants})))){var c,s=Le(i.actions);try{for(s.s();!(c=s.n()).done;){var u=c.value;if(u.variants)for(var l=0,d=Object.keys(u.variants);l<d.length;l++){var f=d[l];u.variants[f].weight=o[i.id].variants[f]}}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){a.e(e)}finally{a.f()}}return Ae.log("".concat(n.length," treatments user group matched")),n.length?n:[]}},{key:"getUserGroup",value:function(){return window.matchMedia(g).matches?"UGB":"UGA"}}],[{key:"getTreatments",value:(n=c(u().mark((function e(){var t,n,r,o,a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ae.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return Ae.log("Treatments not found in local storage"),e.next=9,ee();case 9:return r=e.sent,a={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return Ae.log("Treatments are expired"),e.next=19,ee();case 19:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 23:return Ae.log("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getTreatmentWeights",value:(t=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),Ae.warn(e.t0.message),this.treatmentWeights=null;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return t.apply(this,arguments)})}]),e}(),Ce=Te,Ee=new A("Nextday Counter Checker"),Pe=function(e){Ee.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return Ne(n,r);case"CABasketPrice":return je(n,r);default:return Ee.log("No such operator",t),!1}},_e=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return Ee.log("No such type",t),null}}catch(t){return Ee.log("Could not get counter ".concat(e),t),null}},Ne=function(e,t){var n=parseInt(_e(w,"session"));return Ee.log("Page views counter value: ",n),null===n?(Ee.log("Pageviews counter not found in session storage"),!1):ue(n,e,parseInt(t))},je=function(e,t){var n=parseInt(_e(x,"local"));return Ee.log("Coupon applicable basket price counter value: ",n),null===n?(Ee.log("Coupon applicable basket price counter not found in local storage"),!1):ue(n,e,parseInt(t))},De=new A("Nextday Element Checker"),Re=function(e){De.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,c=e.selectorFallback,s=void 0===c?null:c,u=a;if(u&&!document.querySelector(u)&&(u=s||u),null===n)return ue(document.querySelector(u),r,o);if(u&&!document.querySelector(u))return De.log("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return De.log("Selector not found on page"),!1;switch(u?t=document.querySelector(u):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var l;l=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(u).textContent.replace("TL","").replace(".",""));var d=parseInt(l);return ue(d,r,o);case"classList":return ue(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return ue(f,r,o);default:return De.log("Operator not defined"),!1}},qe=new A("Nextday Function Checker"),Ue=function(e,t){qe.log("Checking rule",JSON.stringify(e));var n=t.productInfo,r=e.operator,o=e.condition,a=e.value,i=e.bindings;if(!r)return qe.log("Rule function not defined"),!1;var c={};"productInfo"==i&&(c={productInfo:n});var s=Function(r).bind(c)();return ue(s,o,a)},Me=new A("Nextday Session Checker"),Ve=function(e){Me.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"duration":return Fe(n,r);case"history":return Be(n,r);default:return null}},Fe=function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(window.sessionStorage.getItem(m)))}catch(e){return Me.log("Could not get session timestamp",e),Date.now()}}())/1e3;return ue(n,e,parseInt(t))},Be=function(e,t){var n,r=null===(n=window.sessionStorage.getItem(y))||void 0===n?void 0:n.split(",");return ue(r,e,t)},Je=new A("Nextday Env Checker"),Ge=function(e){Je.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(g).matches?"mobile":"desktop";return ue(o,n,r)}},He=new A("Nextday RandomPct Checker"),$e=function(){var e=c(u().mark((function e(t){var n,r,o,a,i,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He.log("Checking rule",JSON.stringify(t)),n=t.condition,r=t.value,o=t.salt){e.next=5;break}return He.log("Salt is not defined"),e.abrupt("return",!1);case 5:return e.next=7,de();case 7:return a=e.sent,e.next=10,re(a+o);case 10:return i=e.sent,c=i,e.abrupt("return",ue(c,n,r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ze(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke=new A("Nextday Rule Engine"),Qe=function(){function e(t){l(this,e);var n=t.baseRuleSet,r=t.businessRuleSet,o=t.bindings,a=t.callback,i=void 0===a?null:a;this.baseRuleSet=n,this.businessRuleSet=r,this.callback=i,this.bindings=o}var t,n,r;return f(e,[{key:"checkRules",value:(r=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ze(this.baseRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return r.apply(this,arguments)})},{key:"checkBusinessRules",value:(n=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ze(this.businessRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.businessRuleId);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return n.apply(this,arguments)})},{key:"checkRule",value:(t=c(u().mark((function e(t){var n,r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.chain,r=t.chain_condition,o=t.type,a=null,e.t0=o,e.next="session"===e.t0?5:"counter"===e.t0?7:"element"===e.t0?9:"dataLayer"===e.t0?11:"url"===e.t0?13:"function"===e.t0?15:"environment"===e.t0?17:"random"===e.t0?19:23;break;case 5:return a=Ve(t),e.abrupt("break",25);case 7:return a=Pe(t),e.abrupt("break",25);case 9:return a=Re(t),e.abrupt("break",25);case 11:return a=E(t),e.abrupt("break",25);case 13:return a=N(t),e.abrupt("break",25);case 15:return a=Ue(t,this.bindings),e.abrupt("break",25);case 17:return a=Ge(t),e.abrupt("break",25);case 19:return e.next=21,$e(t);case 21:return a=e.sent,e.abrupt("break",25);case 23:return Ke.log("No such rule type: ".concat(o)),e.abrupt("return",null);case 25:if(!n){e.next=51;break}e.t1=r,e.next="and"===e.t1?29:"or"===e.t1?36:"xor"===e.t1?43:49;break;case 29:if(e.t2=a,!e.t2){e.next=34;break}return e.next=33,this.checkRule(n);case 33:e.t2=e.sent;case 34:return a=e.t2,e.abrupt("break",51);case 36:if(e.t3=a,e.t3){e.next=41;break}return e.next=40,this.checkRule(n);case 40:e.t3=e.sent;case 41:return a=e.t3,e.abrupt("break",51);case 43:return e.t4=a,e.next=46,this.checkRule(n);case 46:return e.t5=e.sent,a=e.t4!=e.t5,e.abrupt("break",51);case 49:return Ke.log("No such chain condition"),e.abrupt("break",51);case 51:return e.abrupt("return",a);case 52:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Ye=new A("Nextday Api"),Xe=function(){var e=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ye.log("Starting product info lookup"),t=pe()){e.next=5;break}return Ye.log("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.prev=7,e.next=10,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),Ye.warn("Fetch to catalog api failed"),e.abrupt("return",null);case 17:if(r.ok){e.next=20;break}return Ye.log("Product info lookup failed"),e.abrupt("return",null);case 20:return e.next=22,r.json();case 22:if(r=e.sent){e.next=26;break}return Ye.log("Product info extraction from response failed"),e.abrupt("return",null);case 26:return Ye.log("Product info lookup successful"),e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}();function Ze(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}c(u().mark((function t(){var n,r,i,s,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return J(V.BeagleLoaded),n=null,r=new A,i="ND_TimeoutCount",s=0,r.info("Nextday initializing"),t.prev=6,t.delegateYield(u().mark((function e(){var t,l,d,f,p,v,k,S,L,O,A,T,C,E,P,_,N,j,D,R,q,U,M,F,$,W,K,Q,Y,X,ee;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(),l=Xe(),d=le(),n=new Ie,J(V.Initialized),e.next=7,de();case 7:return f=e.sent,r.log("Found cookie identifier: ",f),e.next=11,re(f);case 11:if(p=e.sent,d){e.next=29;break}if(!(p<50)){e.next=19;break}if(-1!==p){e.next=16;break}throw new Error("Could not determine cookie pct");case 16:G("isOn",!1),e.next=20;break;case 19:G("isOn",!0);case 20:if(J(V.UserOnOff),ve()){e.next=23;break}throw new Error("sendBeacon is not supported");case 23:if(!((s=parseInt(sessionStorage.getItem(i))||0)>1)){e.next=27;break}throw J(V.TimeoutThresholdReached),new Error("Nextday timeout threshold reached");case 27:e.next=31;break;case 29:r.info("Debug mode on: all applicable treatments will be applied"),window.localStorage.setItem(I,!0);case 31:if(document.documentElement.classList.contains("nextDay-hide")){e.next=35;break}throw J(V.ScriptTimeOut),sessionStorage.setItem(i,s+1),new Error("Nextday script timed out");case 35:if(null!==(t=window.beagleInfoLayer)&&void 0!==t&&t.vvsIsShowroom&&window.localStorage.setItem(I,!0),"true"===window.localStorage.getItem(I)?(r.warn("User is out of scope"),null!="isOn"&&delete window.beagleInfoLayer.isOn):(window.dataLayer=window.dataLayer||[],!0===(null===(v=window.beagleInfoLayer)||void 0===v?void 0:v.isOn)?window.dataLayer.push({event:"GLOV",GLOV_ON:"true"}):!1===(null===(k=window.beagleInfoLayer)||void 0===k?void 0:k.isOn)&&window.dataLayer.push({event:"GLOV",GLOV_ON:"false"})),!1!==window.beagleInfoLayer.isOn){e.next=40;break}throw new Error("Control group: no treatments applied");case 40:return n.sendLogs(),S=window.location.search,L=d&&S.includes("filter=")?S.slice(S.indexOf("[")+1,S.lastIndexOf("]")).split(",").map((function(e){return parseInt(e,10)})):null,ce(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,te=w,ne=b,oe=h,ae=m,ie=y,ue=sessionStorage.getItem(te),fe=sessionStorage.getItem(ne),pe=sessionStorage.getItem(oe),ge=sessionStorage.getItem(ae),he=sessionStorage.getItem(ie),ue?sessionStorage.setItem(te,parseInt(ue)+1):sessionStorage.setItem(te,1),null===fe&&sessionStorage.setItem(ne,0),pe||sessionStorage.setItem(oe,crypto.randomUUID()),ge||sessionStorage.setItem(ae,Date.now()),he?sessionStorage.setItem(ie,[window.location.pathname,he]):sessionStorage.setItem(ie,[window.location.pathname]),setTimeout((function(){Z()}),2e3),O=Ce.getTreatments(),A=Ce.getTreatmentWeights(),T=window.matchMedia(g).matches,C={subtree:!0,childList:!0,attributes:!0},E=function(){var e=c(u().mark((function e(t){var n,i,s,l,p,v,g,h,m,y,w,b,k,x,S,I,O,A,C,E,P,_,N,j,D;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,i=t.actions,s=t.baseRuleSet,l=t.device,p=t.dependant_on_treatment,v=t.reapply_event,g=t.businessRuleSet,h=t.weight,m=t.delay,!L||L.includes(n)){e.next=3;break}return e.abrupt("return");case 3:if("mobile"!==l||T){e.next=6;break}return r.log("Treatment device 'mobile' mismatch"),e.abrupt("return");case 6:if("desktop"!==l||!T){e.next=9;break}return r.log("Treatment device 'desktop' mismatch"),e.abrupt("return");case 9:if(v){y=v,Array.isArray(v)||(y=[v]),r.log("Reapply event '".concat(v,"' found for treatment: ").concat(n)),w=Ze(y);try{for(w.s();!(b=w.n()).done;)k=b.value,(x=$[k]?$[k]:[]).includes(n)?r.log("Treatment already added for reapply event"):$[k]=[].concat(a(x),[n])}catch(e){w.e(e)}finally{w.f()}}if(S=new Qe({baseRuleSet:s,businessRuleSet:g,bindings:{productInfo:U}}),r.log("Starting base rule set check for treatment: "+n),e.t0=!s,e.t0){e.next=18;break}return e.next=17,S.checkRules();case 17:e.t0=e.sent;case 18:if(!e.t0){e.next=56;break}if(I=100===h?0:100-h||50,p&&(A=null===(O=F.find((function(e){return e.id===p})))||void 0===O?void 0:O.weight,I=100===A?0:100-A||50),r.log("Treatment skip ratio: "+I),C=p||n,1!==d){e.next=27;break}e.t1=100,e.next=30;break;case 27:return e.next=29,re(f+C);case 29:e.t1=e.sent;case 30:if(E=e.t1,r.log("TreatmentPct: "+E+" with debug mode ".concat(d?"on":"off")),P=null,!g){e.next=39;break}return r.log("Starting sub variant rule set check for treatment: "+n),e.next=37,S.checkBusinessRules();case 37:(P=e.sent)?r.log("Applying business rule transformation with id: ",P):r.log("Applying treatment with default values");case 39:if(!(E<I)){e.next=43;break}return r.log("Treatment ".concat(n," skipped due to treatment split ratio")),z(n,{dependant_on_treatment:p||null,businessRuleId:P,variant:D}),e.abrupt("return");case 43:return e.next=45,se(f,i,P);case 45:if(_=e.sent,N=o(_,2),j=N[0],D=N[1],!m){e.next=52;break}return setTimeout(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(j,U);case 2:H(n,{businessRuleId:P,variant:D});case 3:case"end":return e.stop()}}),e)}))),m),e.abrupt("return");case 52:return e.next=54,be(j,U);case 54:return H(n,{businessRuleId:P,variant:D}),e.abrupt("return");case 56:r.log("Rule check failed for treatment: ",n);case 57:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(P=function(){var e=x;if(window.location.href.includes("/siparis-listesi.html")){var t=Array.from(document.querySelectorAll(".price"));if(t.push.apply(t,a(Array.from(document.querySelectorAll(".new-price")))),!t.length)return r.log("Price elements not found"),void window.localStorage.setItem(e,0);r.log("Price elements: ",t);var n=t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);r.log("Coupon applicable total price: ",n),n>=0&&window.localStorage.setItem(e,n)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)})(),window.location.href.includes("/siparis-listesi.html")&&(_=new MutationObserver((function(){r.log("Mutation observed, calling collectCABasketPrice"),P()})),(N=document.querySelector("#checkoutForm"))&&_.observe(N,C)),e.next=56,Promise.all([O,A,l]);case 56:if(j=e.sent,D=o(j,3),R=D[0],q=D[1],U=D[2],r.log("Found treatments: ",R),r.log("Found cookie percentage: ",p),r.log("Split_ratio: ",50),r.log("cookiePct < SPLIT_RATIO",p<50),r.info("Control group ratio: ".concat(50,"%")),M=new Ce({treatments:R,treatmentWeights:q,cookiePct:p}),J(V.TreatmentRepositoryCreated),(F=M.getMatchedTreatments()).length){e.next=73;break}return r.log("No treatments matched, returning without further action"),Z(),e.abrupt("return",{v:void 0});case 73:$={},W=Ze(F),e.prev=75,W.s();case 77:if((K=W.n()).done){e.next=89;break}return Q=K.value,e.prev=79,e.next=82,E(Q);case 82:e.next=87;break;case 84:e.prev=84,e.t0=e.catch(79),r.log("Error executing rules",e.t0);case 87:e.next=77;break;case 89:e.next=94;break;case 91:e.prev=91,e.t1=e.catch(75),W.e(e.t1);case 94:return e.prev=94,W.f(),e.finish(94);case 97:for(Z(),J(V.TreatmentsApplied),r.log("Applied treatments: ",window.beagleInfoLayer.a),setInterval((function(){n.updateLatestChanges()}),1e3),Y=function(){var e=ee[X],t=$[e],n=F.filter((function(e){return t.includes(e.id)}));switch(e){case"infinite_scroll":var o=new ResizeObserver((function(){var e,t=Ze(n);try{for(t.s();!(e=t.n()).done;){var o=e.value;r.log("Retrying treatment ".concat(o.id," from infinite_scroll")),E(o)}}catch(e){t.e(e)}finally{t.f()}}));o.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,t=Ze(n);try{for(t.s();!(e=t.n()).done;){var o=e.value;r.log("Retrying treatment ".concat(o.id," from timeout")),E(o)}}catch(e){t.e(e)}finally{t.f()}}),500);break;case"element_change":var a,i=Ze(n);try{var c=function(){var e,t=a.value,n=Ze(Array.isArray(t.reapply_selector)?t.reapply_selector:[t.reapply_selector]);try{for(n.s();!(e=n.n()).done;){var o=e.value,i=document.querySelector(o);i&&new MutationObserver((function(){r.log("Retrying treatment ".concat(t.id," from element_change")),E(t)})).observe(i,C)}}catch(e){n.e(e)}finally{n.f()}};for(i.s();!(a=i.n()).done;)c()}catch(e){i.e(e)}finally{i.f()}break;case"on_scroll":window.onscroll=function(){var e,t=Ze(n);try{for(t.s();!(e=t.n()).done;){var o=e.value;r.log("Retrying treatment ".concat(o.id," from on_scroll")),E(o)}}catch(e){t.e(e)}finally{t.f()}};break;case"query_search_change":var s=window.location.search,u=new MutationObserver((function(){if(window.location.search!==s){s=window.location.search;var e,t=Ze(n);try{for(t.s();!(e=t.n()).done;){var o=e.value;r.log("Retrying treatment ".concat(o.id," from query_search_change")),E(o)}}catch(e){t.e(e)}finally{t.f()}}}));u.observe(document,C);break;default:r.log("Reapply event not found: ",e)}},X=0,ee=Object.keys($);X<ee.length;X++)Y();J(V.ReapplyTreatmentListeners);case 104:case"end":return e.stop()}var te,ne,oe,ae,ie,ue,fe,pe,ge,he}),e,null,[[75,91,94,97],[79,84]])}))(),"t0",8);case 8:if("object"!==e(l=t.t0)){t.next=11;break}return t.abrupt("return",l.v);case 11:t.next=18;break;case 13:t.prev=13,t.t1=t.catch(6),Z(),console.warn("Nextday: ",t.t1.message),n.sendLogs(t.t1.message,!0);case 18:case"end":return t.stop()}}),t,null,[[6,13]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0MsU0FBVzBQLEVBQWEsQ0FDMUNBLEVBQWM3UixPQUFPQyxTQUFTa0MsT0FEWSxXQUVsQjhlLEdBRmtCLElBRTFDLDJCQUEyQyxLQUFoQ2hOLEVBQWdDLFFBQ3pDalQsRUFBT0YsSUFBUCw2QkFBaUNtVCxFQUFVdFAsR0FBM0MsOEJBQ0F3YSxFQUFnQmxMLElBSndCLG1DQVE5Q3VNLEVBQVNHLFFBQVE5YyxTQUFVa2IsR0FFM0IsTUFDRixRQUNFL2QsRUFBT0YsSUFBSSw0QkFBNkJsTSxLQWhFOUMsT0FBa0JkLE9BQU9tSCxLQUFLeWtCLEdBQTlCLGdCQUFxRCxJQW9FckRqYixFQUFXbEMsRUFBWWlCLDJCQWxVMUIsbUNiNEtzQyxJQUM5QjhhLEdBQVl2SyxHQUFvQndLLEdBQVlDLEdBQW1CQyxHQUVoRW5ELEdBQ0FvRCxHQUNBdFosR0FDQXVaLEdBQ0FDLEthbkxQLHFMQW9VR3BSLElBQ0EzTSxRQUFRRSxLQUFLLFlBQWEsS0FBSTJMLFNBQzlCK1EsRUFBUVMsU0FBUyxLQUFJeFIsU0FBUyxHQXRVakMseURBQUQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5TGlrZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhIb2xlcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVSZXN0LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvdXJsQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQmVhZ2xlSW5mb0xheWVyL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9zdHJpbmdVdGlscy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcHBseVRyZWF0bWVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5TW9uaXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvY291bnRlckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9lbGVtZW50Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2Z1bmN0aW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3Nlc3Npb25DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZW52Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3JhbmRvbU51bWJlckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcGkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5Q2xpZW50U0RLL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIGRlZmluZShHcCwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gIGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbik7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKFxuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sLFxuICAgIFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICApO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKTtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICBkZWZpbmUoR3AsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIGluIG1vZGVybiBlbmdpbmVzXG4gIC8vIHdlIGNhbiBleHBsaWNpdGx5IGFjY2VzcyBnbG9iYWxUaGlzLiBJbiBvbGRlciBlbmdpbmVzIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGdsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgfSBlbHNlIHtcbiAgICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZTsgfTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBfdHlwZW9mKG9iaik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59IiwiaW1wb3J0IGFycmF5V2l0aEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5TGltaXQgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5TGltaXQuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlUmVzdCBmcm9tIFwiLi9ub25JdGVyYWJsZVJlc3QuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuXG4gIHZhciBfcywgX2U7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImltcG9ydCBhcnJheVdpdGhvdXRIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhvdXRIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlU3ByZWFkIGZyb20gXCIuL25vbkl0ZXJhYmxlU3ByZWFkLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn0iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge3JlcGxhY2VBbGx9IGZyb20gXCIuL3N0cmluZ1V0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBDT09LSUVfTkFNRSA9IFwiX2dhXCI7XG4vLyBUT0RPIHJldmVydCB0aGUgZm9sbG93aW5nIHN0YWdpbmcgZW52IGNoZWNrIGFmdGVyIG1vdmluZyB0byBuZXcgYnJhbmNoIHN0cnVjdHVyZVxuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVFNfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L3RyZWF0bWVudHMuanNvblwiO1xuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OID0gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJzdGFnaW5nLnZpdmVuc2VcIikgPyBcImh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvd2VpZ2h0c19zdGFnaW5nLmpzb25cIiA6IFwiaHR0cHM6Ly9uZHZpdmVuc2UuZ2xvdi5haS93ZWlnaHRzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBTVFlMRVNIRUVUX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi9uZC1zdHlsZXMuY3NzXCI7XG5leHBvcnQgY29uc3QgTE9HX0FQSV9VUkwgPSBcImh0dHBzOi8vZXVyb3BlLXdlc3QzLW5leHRkYXktMzRlYjMuY2xvdWRmdW5jdGlvbnMubmV0L2FwaS9sb2dSZXNwb25zZVwiO1xuZXhwb3J0IGNvbnN0IExPT0tVUF9BUElfVVJMID0gXCJodHRwczovL2NhdGFsb2ctYXBpLmFkb3JhYWkuY29tXCI7XG5leHBvcnQgY29uc3QgTU9CSUxFX01FRElBX1FVRVJZID0gXCIobWF4LXdpZHRoOiA0NDBweClcIjtcbi8vIENvbnRyb2wgZ3JvdXAgcGVyY2VudGFnZVxuZXhwb3J0IGNvbnN0IFNQTElUX1JBVElPID0gNTA7XG4vLyBTa2lwcGVkIHRyZWF0bWVudCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UX1JBVElPID0gNTA7XG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19EVVJBVElPTiA9IDE7XG5leHBvcnQgY29uc3QgTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04gPSAxO1xuXG5cbmV4cG9ydCBjb25zdCBTRVNTSU9OX1NUT1JBR0VfS0VZUyA9IHtcbiAgU0VTU0lPTl9JRDogXCJfX25leHRkYXlfc2Vzc2lvbl9pZFwiLFxuICBTRVNTSU9OX1RJTUVTVEFNUDogXCJORF9TZXNzaW9uVGltZXN0YW1wXCIsXG4gIFNFU1NJT05fSElTVE9SWTogXCJCTl9TZXNzaW9uSGlzdG9yeVwiLFxuICBUUkVBVE1FTlRTOiBcIk5EX1RyZWF0bWVudHNcIixcbiAgUEFHRV9WSUVXUzogXCJORF9QYWdlVmlld3NcIixcbiAgUE9QVVBfRElTUExBWV9GTEFHOiBcIk5EX1BvcHVwRGlzcGxheUZsYWdcIixcbiAgTkRfU0tVX0xJU1Q6IFwiTkRfU2t1TGlzdFwiLFxuICBUSU1FT1VUX0NPVU5UOiBcIk5EX1RpbWVvdXRDb3VudFwiLFxufTtcbmV4cG9ydCBjb25zdCBMT0NBTF9TVE9SQUdFX0tFWVMgPSB7XG4gIENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRTogXCJORF9DQUJhc2tldFByaWNlXCIsXG4gIE5EX0RFQlVHX01PREU6IFwiTkRfRGVidWdcIixcbiAgT1VUX09GX1NDT1BFOiBcIk5EX091dE9mU2NvcGVcIixcbiAgVVNFUl9JRDogXCJORF9Vc2VySWRcIixcbn07XG4iLCJpbXBvcnQge0xPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5jbGFzcyBMb2dnZXIge1xuICBjb25zdHJ1Y3RvcihvcmlnaW4gPSBcIk5leHRkYXkgQ2xpZW50IFNES1wiKSB7XG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgdGhpcy5ERUJVRyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSk7XG4gIH1cblxuICBpbmZvKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5pbmZvKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmIChERUJVRykge1xuICAgICAgY29uc29sZS5sb2coYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgd2FybiguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUud2FybihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGVycm9yKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5lcnJvcihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXI7XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBEYXRhTGF5ZXIgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRGF0YUxheWVyUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gZGF0YUxheWVyRmluZGVyKG9wZXJhdG9yKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkYXRhTGF5ZXJGaW5kZXIgPSAoa2V5KSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTZWFyY2hpbmcgYmVhZ2xlSW5mb0xheWVyIGZvciBrZXkgXCIsIGtleSk7XG4gIGxldCByZXMgPSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyW2tleV07XG4gIGlmIChrZXkuaW5jbHVkZXMoXCIuXCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoXCIuXCIpO1xuICAgICAgcmVzID0gd2luZG93LmJlYWdsZUluZm9MYXllcltrZXlzWzBdXTtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXMgPSByZXNba2V5c1tpXV07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIubG9nKGBDb3VsZG4ndCBleHRyYWN0IGtleSAke2tleX0gZnJvbSBiZWFnbGVJbmZvTGF5ZXJgKTtcbiAgICAgIHJlcyA9IG51bGw7XG4gICAgfVxuICB9XG4gIGlmIChyZXMpIHtcbiAgICBsb2dnZXIubG9nKGBGb3VuZCBrZXkgJHtrZXl9IHdpdGggdmFsdWUgJHtyZXN9YCk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBsb2dnZXIubG9nKGBLZXkgJHtrZXl9IG5vdCBmb3VuZCBpbiBiZWFnbGVJbmZvTGF5ZXJgKTtcblxuICBsb2dnZXIubG9nKFwiU2VhcmNoaW5nIGRhdGFMYXllciBmb3Iga2V5IFwiLCBrZXkpO1xuICBmb3IgKGNvbnN0IG9iaiBvZiB3aW5kb3cuZGF0YUxheWVyKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgaWYgKGtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgbG9nZ2VyLmxvZyhgRm91bmQga2V5ICR7a2V5fSB3aXRoIHZhbHVlICR7b2JqW2tleV19YCk7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfVxuICB9XG4gIGxvZ2dlci5sb2coYEtleSAke2tleX0gbm90IGZvdW5kIGluIGRhdGFMYXllcmApO1xuICByZXR1cm4gbnVsbDtcbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVcmwgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrVXJsUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhdGhcIjoge1xuICAgICAgY29uc3QgcmVxdWVzdFVSTD0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICBjb25zdCBpc0FqYXggPSByZXF1ZXN0VVJMLmluY2x1ZGVzKFwiYWpheC9tb2JpbGUtc2VhcmNoL2xvYWRPdGhlclBhZ2VzLnBocFwiKTtcbiAgICAgIGNvbnN0IHBhdGggPSAhaXNBamF4ID8gbmV3IFVSTChyZXF1ZXN0VVJMKS5wYXRobmFtZSA6XG4gICAgICBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgbmV3IFVSTChyZXF1ZXN0VVJMKS5zZWFyY2gucmVwbGFjZShcIj9vcmlnaW5hbFBhdGg9XCIsIFwiXCIpLFxuICAgICAgKTtcbiAgICAgIGxvZ2dlci5sb2coYENoZWNraW5nIHBhdGggJHtwYXRofSBtYXRjaGVzIHJ1bGUgcGF0aCAke3ZhbHVlfWApO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocGF0aCwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59IiwiaW1wb3J0IHtleHRyYWN0Q29va2llSWRlbnRpZmllciwgZm9ybWF0RGVsaXZlcnlEYXRlfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFNQTElUX1JBVElPfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxud2luZG93LmJlYWdsZUluZm9MYXllciA9IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgfHwge2NoZWNrcG9pbnRzOiBbXSxcbiAgYToge30sIGU6IHt9fTtcblxuY29uc3QgcGFyc2luZ1JlZ2V4ID0ge1xuICBQYWdlVHlwZTogLyg/OlBhZ2VUeXBlJ1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgY29udGVudF9uYW1lOiAvKD86Y29udGVudF9uYW1lWyBdKjpbIF0qXCIpKC4qKSg/OlwiKS8sXG4gIGNvbnRlbnRfbmFtZV9hbHQ6IC8oPzpjb250ZW50X25hbWUnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICB2dnNTY3JHQVBhZ2VUeXBlOiAvKD86UGFnZVR5cGUnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICB2dnNTY3JHQU9yZGVySWQ6IC8oPzpwdXJjaGFzZVtcXHNcXFNdKmFjdGlvbkZpZWxkW1xcc1xcU10qJ2lkJ1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgdnZzU2NyR0FPcmRlclJldjogLyg/OnB1cmNoYXNlW1xcc1xcU10qYWN0aW9uRmllbGRbXFxzXFxTXSoncmV2ZW51ZSdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIHZ2c1NjckdBT3JkZXJUeXBlOiAvKD86cHVyY2hhc2VbXFxzXFxTXSphY3Rpb25GaWVsZFtcXHNcXFNdKidkaW1lbnNpb24xNSdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIHZ2c1NjckdBSXNBZG1pbjogLyg/OmRhdGFMYXllcltcXHNcXFNdKidpc0FkbWluJ1sgXSo6WyBdKlwiKSguKikoPzpcIikvLFxufTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrcG9pbnRzID0ge1xuICBCZWFnbGVMb2FkZWQ6IDEsXG4gIEluaXRpYWxpemVkOiAyLFxuICBVc2VyT25PZmY6IDMsXG4gIFNjcmlwdFRpbWVPdXQ6IDcsXG4gIFRyZWF0bWVudFJlcG9zaXRvcnlDcmVhdGVkOiA0LFxuICBUcmVhdG1lbnRzQXBwbGllZDogNSxcbiAgUmVhcHBseVRyZWF0bWVudExpc3RlbmVyczogNixcbiAgVGltZW91dFRocmVzaG9sZFJlYWNoZWQ6IDgsXG59O1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlSW5mb0xheWVyXCIpO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciA9ICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBiZWFnbGVJbmZvTGF5ZXJcIik7XG4gIHByZXBhcmVEYXRhKCk7XG5cbiAgY29uc3Qgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuICBpZiAoIXNjcmlwdHMgfHwgIXNjcmlwdHMubGVuZ3RoKSB7XG4gICAgbG9nZ2VyLndhcm4oXCJDb3VsZCBub3QgcGFyc2UgYm9keVwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGZvdW5kU2NyaXB0Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gc2NyaXB0cy5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgIGNvbnN0IHNjcmlwdFRleHRDb250ZW50ID0gc2NyaXB0c1tpXS50ZXh0Q29udGVudDtcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocGFyc2luZ1JlZ2V4KSkge1xuICAgICAgbGV0IGZvdW5kVmFsID0gcGFyc2luZ1JlZ2V4W2tleV0uZXhlYyhzY3JpcHRUZXh0Q29udGVudCk7XG4gICAgICBmb3VuZFZhbCA9IGZvdW5kVmFsID8gZm91bmRWYWxbMV0gOiBudWxsO1xuICAgICAgaWYgKGZvdW5kVmFsKSB7XG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihcIl9hbHRcIikgPiAwKSBrZXkgPSBrZXkuc3Vic3RyaW5nKDAsIGtleS5sYXN0SW5kZXhPZihcIl9hbHRcIikpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKGtleSwgZGVjb2RlVVJJQ29tcG9uZW50KEpTT04ucGFyc2UoXCJcXFwiXCIgKyBmb3VuZFZhbCArIFwiXFxcIlwiKSkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIud2FybihgQ291bGQgbm90IGRlY29kZSBmb3VuZFZhbCAke2ZvdW5kVmFsfWApO1xuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKGtleSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZm91bmRTY3JpcHRDb3VudCArPSAxO1xuICAgICAgICBpZiAoZm91bmRTY3JpcHRDb3VudCA9PT0gT2JqZWN0LmtleXMocGFyc2luZ1JlZ2V4KS5sZW5ndGgpIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjaGVja3BvaW50ID0gKGNoZWNrcG9pbnQpID0+e1xuICB0cnkge1xuICAgIGxvZ2dlci5sb2coYENoZWNrcG9pbnQ6ICcke2NoZWNrcG9pbnR9JyBSZWFjaGVkIWApO1xuICAgIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuY2hlY2twb2ludHMucHVzaCh7XG4gICAgICBjaGVja3BvaW50OiBPYmplY3Qua2V5cyhjaGVja3BvaW50cykuZmluZCgoa2V5KSA9PiBjaGVja3BvaW50c1trZXldID09PSBjaGVja3BvaW50KSxcbiAgICAgIGlkOiBjaGVja3BvaW50LFxuICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci53YXJuKGUpO1xuICB9XG4gIHJldHVybjtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRUb0JlYWdsZUluZm9MYXllciA9IChrZXksIHZhbHVlKSA9PiB7XG4gIGlmIChrZXkgPT09IG51bGwgfHwga2V5ID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyW2tleV0gPSB2YWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVGcm9tQmVhZ2xlSW5mb0xheWVyID0gKGtleSkgPT4ge1xuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gIGRlbGV0ZSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyW2tleV07XG59O1xuXG5leHBvcnQgY29uc3QgYWRkQXBwbGllZFRyZWF0bWVudCA9IChrZXksIHZhbHVlKSA9PiB7XG4gIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYVtrZXldID0gdmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkRWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50ID0gKGtleSwgdmFsdWUpID0+IHtcbiAgd2luZG93LmJlYWdsZUluZm9MYXllci5lW2tleV0gPSB2YWx1ZTtcbn07XG5cbmNvbnN0IHByZXBhcmVEYXRhID0gKCkgPT4ge1xuICBjb25zdCB2aWV3SWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICBjb25zdCBzZXNzaW9uSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSUQpO1xuICBjb25zdCBjdXJyZW50VVJMID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gIGNvbnN0IHBsYXRmb3JtID0gd2luZG93Lm5hdmlnYXRvcj8udXNlckFnZW50RGF0YT8ucGxhdGZvcm0gfHwgd2luZG93Lm5hdmlnYXRvcj8ucGxhdGZvcm0gfHxcbiAgd2luZG93Lm5hdmlnYXRvcj8udXNlckFnZW50O1xuXG4gIGxldCBnYU9iamVjdHMgPSB7fTtcblxuICBmb3IgKGNvbnN0IGdhRExFbGVtZW50IG9mIHdpbmRvdy5kYXRhTGF5ZXIpIHtcbiAgICBnYU9iamVjdHMgPSB7Li4uZ2FPYmplY3RzLCAuLi5nYURMRWxlbWVudH07XG4gIH1cblxuICBjb25zdCB2aXNpbGFic2NrID0gSlNPTi5wYXJzZShleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwiVkxfQ01fMFwiKSk7XG5cbiAgY29uc3QgdmxPYmplY3RzID0ge307XG5cbiAgaWYgKHZpc2lsYWJzY2sgJiYgdmlzaWxhYnNjay5JdGVtcykge1xuICAgIGZvciAoY29uc3QgdmxFbGVtZW50IG9mIHZpc2lsYWJzY2suSXRlbXMpIHtcbiAgICAgIHZsT2JqZWN0c1t2bEVsZW1lbnQuS10gPSBkZWNvZGVVUklDb21wb25lbnQodmxFbGVtZW50LlYpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyogVklTSUxBQlMgKi9cblxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZVZMUFZpblZpc2l0XCIsIHZsT2JqZWN0cy5WTF9QVkNvdW50SW5WaXNpdCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llVkxWaXNpdER1cmF0aW9uXCIsIHZsT2JqZWN0cy5WTF9Ub3RhbER1cmF0aW9uKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVWTFRvdGFsUFZcIiwgdmxPYmplY3RzLlZMX1RvdGFsUFYpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZVZMVG90YWxWaXNpdFwiLCB2bE9iamVjdHMuVkxfVG90YWxWaXNpdCk7XG5cbiAgLyogR0EgKi9cblxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUGFnZVR5cGVcIiwgZ2FPYmplY3RzLlBhZ2VUeXBlKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVByb2R1Y3ROYW1lXCIsIGdhT2JqZWN0cy5jb250ZW50X25hbWUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhVmlld1R5cGVcIiwgZ2FPYmplY3RzLmNvbnRlbnRfdHlwZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQcm9kdWN0Q2F0ZWdvcnlcIiwgZ2FPYmplY3RzLmNvbnRlbnRfY2F0ZWdvcnkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHJvZHVjdElEXCIsIGdhT2JqZWN0cy5jb250ZW50X2lkcyk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHJvZHVjdENhdGVnb3J5XCIsIGdhT2JqZWN0cy52aXZlbnNlX2NhdGVnb3J5KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYUxpc3RpbmdOYW1lXCIsIGdhT2JqZWN0cy5lY29tbWVyY2U/LmRldGFpbD8uYWN0aW9uRmllbGQ/Lmxpc3QpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0lzU2hvd3Jvb21cIiwgKHdpbmRvdy5pc0FkbWluPT09dW5kZWZpbmVkKSA/IGdhT2JqZWN0cy5pc0FkbWluIDogd2luZG93LmlzQWRtaW4pO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1Byb2R1Y3RHcm91cFwiLCBnYU9iamVjdHMucHJvZHVjdEdyb3VwKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNVc2VySWRcIiwgZ2FPYmplY3RzLnVzZXJJZCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzQ2F0ZWdvcnlcIiwgZ2FPYmplY3RzLnZpdmVuc2VfY2F0ZWdvcnkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhQ2F0ZWdvcnlQcm9kdWN0Q29udFwiLCBnYU9iamVjdHMuY2F0ZWdvcnlfcHJvZHVjdF9jb3VudCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FDYXJ0UHJvZHVjdHNcIiwgZ2FPYmplY3RzLmVjb21tZXJjZT8uY2hlY2tvdXQ/LnByb2R1Y3RzIHx8XG4gICAgZ2FPYmplY3RzLmVjb21tZXJjZT8ucHVyY2hhc2U/LnByb2R1Y3RzKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQRFBQcm9kdWN0XCIsIGdhT2JqZWN0cy52aXZlbnNlUHJvZHVjdHM/LnBvcCgpKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVB1cmNoYXNlSWRcIiwgZ2FPYmplY3RzLmVjb21tZXJjZT8ucHVyY2hhc2U/LmFjdGlvbkZpZWxkPy5pZCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQdXJjaGFzZVJldmVudWVcIiwgZ2FPYmplY3RzLmVjb21tZXJjZT8ucHVyY2hhc2U/LmFjdGlvbkZpZWxkPy5yZXZlbnVlKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVB1cmNoYXNlUGF5VHlwZVwiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5wdXJjaGFzZT8uYWN0aW9uRmllbGQ/LmRpbWVuc2lvbjE1KTtcblxuICAvKiB3aW5kb3cgdmlldyBhcmVhICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93UGFyYW1zXCIsIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd1BSYXRpb1wiLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93SW5uZXJcIiwgd2luZG93LmlubmVyV2lkdGgpO1xuXG4gIGNvbnN0IHdpbmRvd1NjcmVlbiA9IHt9O1xuICB3aW5kb3dTY3JlZW4uYXZhaWxIZWlnaHQgPSB3aW5kb3cuc2NyZWVuPy5hdmFpbEhlaWdodDtcbiAgd2luZG93U2NyZWVuLmF2YWlsSGVpZ2h0ID0gd2luZG93LnNjcmVlbj8uYXZhaWxIZWlnaHQ7XG4gIHdpbmRvd1NjcmVlbi5hdmFpbExlZnQgPSB3aW5kb3cuc2NyZWVuPy5hdmFpbExlZnQ7XG4gIHdpbmRvd1NjcmVlbi5hdmFpbFRvcCA9IHdpbmRvdy5zY3JlZW4/LmF2YWlsVG9wO1xuICB3aW5kb3dTY3JlZW4uYXZhaWxXaWR0aCA9IHdpbmRvdy5zY3JlZW4/LmF2YWlsV2lkdGg7XG4gIHdpbmRvd1NjcmVlbi5jb2xvckRlcHRoID0gd2luZG93LnNjcmVlbj8uY29sb3JEZXB0aDtcbiAgd2luZG93U2NyZWVuLmhlaWdodCA9IHdpbmRvdy5zY3JlZW4/LmhlaWdodDtcbiAgd2luZG93U2NyZWVuLnBpeGVsRGVwdGggPSB3aW5kb3cuc2NyZWVuPy5waXhlbERlcHRoO1xuICB3aW5kb3dTY3JlZW4ud2lkdGggPSB3aW5kb3cuc2NyZWVuPy53aWR0aDtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dTY3JlZW5cIiwgd2luZG93U2NyZWVuKTtcblxuICBjb25zdCB3aW5kb3dWUG9ydCA9IHt9O1xuICB3aW5kb3dWUG9ydC5oZWlnaHQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/LmhlaWdodDtcbiAgd2luZG93VlBvcnQub2Zmc2V0TGVmdCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ub2Zmc2V0TGVmdDtcbiAgd2luZG93VlBvcnQub2Zmc2V0VG9wID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5vZmZzZXRUb3A7XG4gIHdpbmRvd1ZQb3J0Lm9ucmVzaXplID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5vbnJlc2l6ZTtcbiAgd2luZG93VlBvcnQub25zY3JvbGwgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/Lm9uc2Nyb2xsO1xuICB3aW5kb3dWUG9ydC5wYWdlTGVmdCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ucGFnZUxlZnQ7XG4gIHdpbmRvd1ZQb3J0LnBhZ2VUb3AgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/LnBhZ2VUb3A7XG4gIHdpbmRvd1ZQb3J0LnNjYWxlID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5zY2FsZTtcbiAgd2luZG93VlBvcnQud2lkdGggPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/LndpZHRoO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd1ZQb3J0XCIsIHdpbmRvd1ZQb3J0KTtcblxuICBpZiAoc2NyZWVuLndpZHRoKSB7XG4gICAgbGV0IHdpZHRoID0gcGFyc2VJbnQoc2NyZWVuLndpZHRoKTtcbiAgICBsZXQgaGVpZ2h0ID0gKHNjcmVlbi5oZWlnaHQpID8gcGFyc2VJbnQoc2NyZWVuLmhlaWdodCkgOiAwO1xuICAgIGlmICh3aWR0aCAhPT0gMCAmJiBoZWlnaHQgIT09IDApIHtcbiAgICAgIGNvbnN0IGlPUyA9IC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KHBsYXRmb3JtKTtcbiAgICAgIGlmIChpT1MgJiYgd2luZG93LmRldmljZVBpeGVsUmF0aW8pIHtcbiAgICAgICAgLy8gaW9zIHByb3ZpZGVzIERQSXMsIG5lZWQgdG8gbXVsdGlwbHlcbiAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChNYXRoLmFicyh3aW5kb3cub3JpZW50YXRpb24pID09PSA5MCkge1xuICAgICAgICAgIC8vIHdlIGhhdmUgbGFuZHNjYXBlIG9yaWVudGF0aW9uXG4gICAgICAgICAgLy8gc3dpdGNoIHZhbHVlcyBmb3IgYWxsIGV4Y2VwdCBpb3NcbiAgICAgICAgICBjb25zdCB0ZW1wID0gd2lkdGg7XG4gICAgICAgICAgd2lkdGggPSBoZWlnaHQ7XG4gICAgICAgICAgaGVpZ2h0ID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dcIiwgd2lkdGggKyBcInhcIiArIGhlaWdodCk7XG4gICAgfVxuICB9XG5cbiAgLyogbmF2aWdhdG9yICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2SGlzdFNpemVcIiwgd2luZG93Lmhpc3Rvcnk/Lmxlbmd0aCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2QWdlbnRcIiwgbmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIC8vIGNoZWNrIGlmIHVzZXJBZ2VudERhdGEgaXMgc3VwcG9ydGVkIGFuZCB1c2VyQWdlbnQgaXMgbm90IGF2YWlsYWJsZSwgdXNlIGl0XG4gIGlmICghd2luZG93LmJlYWdsZUluZm9MYXllci5uYXZBZ2VudCkge1xuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50RGF0YSkge1xuICAgICAgLy8gdHVybiBicmFuZHMgYXJyYXkgaW50byBzdHJpbmdcbiAgICAgIGxldCBuYXZBZ2VudCA9IG5hdmlnYXRvcj8udXNlckFnZW50RGF0YT8uYnJhbmRzPy5tYXAoZnVuY3Rpb24oZSkge1xuICAgICAgICByZXR1cm4gZS5icmFuZCArIFwiOlwiICsgZS52ZXJzaW9uO1xuICAgICAgfSkuam9pbigpO1xuICAgICAgLy8gYWRkIG1vYmlsZSBpbmZvXG4gICAgICBuYXZBZ2VudCArPSAobmF2aWdhdG9yPy51c2VyQWdlbnREYXRhPy5tb2JpbGUgPyBcIm1vYmlcIiA6IFwiIFwiKTtcbiAgICAgIC8vIGFkZCBwbGF0Zm9ybSBpbmZvXG4gICAgICBuYXZBZ2VudCArPSBwbGF0Zm9ybTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2QWdlbnRcIiwgbmF2QWdlbnQpO1xuICAgIH1cbiAgfVxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdkhXQ29yZXNcIiwgbmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdkxhbmd1YWdlXCIsIG5hdmlnYXRvci5sYW5ndWFnZSB8fCBuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlIHx8XG4gICBuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2VG91Y2hcIiwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZQbGF0Zm9ybVwiLCBwbGF0Zm9ybSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2VmVuZG9yXCIsIG5hdmlnYXRvci52ZW5kb3IpO1xuXG4gIC8qIGNvb2tpZXMgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVHYUlkXCIsIGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJfZ2FcIikpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZUxhc3RCcmVhZENydW1iXCIsIGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJsYXN0YnJlYWRjcnVtYlwiKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llTGFzdENhdGVnb3J5XCIsIGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJsYXN0Y2F0ZWdvcnlcIikpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZUZpcnN0RW50cnlcIiwgZGVjb2RlVVJJQ29tcG9uZW50KFxuICAgICAgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcInZpdmVuc2VmaXJzdFwiKSkpO1xuXG4gIC8qIHBlcmZvcm1hbmNlIG1ldHJpY3MgKi9cbiAgY29uc3QgcGVyZk1ldHJpY3MgPSB7fTtcbiAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB3aW5kb3cucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm5hdmlnYXRpb25cIilbMF0pIHtcbiAgICBjb25zdCBwZXJmTmF2aWdhdGlvbk1ldHJpY3MgPSB3aW5kb3cucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm5hdmlnYXRpb25cIilbMF07XG4gICAgcGVyZk1ldHJpY3MucGxkID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tQ29udGVudExvYWRlZEV2ZW50RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmNvbm5lY3RTdGFydCk7XG4gICAgcGVyZk1ldHJpY3MubmV0ID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuY29ubmVjdEVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5mZXRjaFN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy5zcnYgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZVN0YXJ0IC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlcXVlc3RTdGFydCk7XG4gICAgcGVyZk1ldHJpY3MudGZyID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MucmVzcG9uc2VFbmQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MucmVzcG9uc2VTdGFydCk7XG4gICAgcGVyZk1ldHJpY3MuZG1pID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tSW50ZXJhY3RpdmUgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MucmVzcG9uc2VFbmQpO1xuICAgIHBlcmZNZXRyaWNzLmRjcCA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUNvbXBsZXRlIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUludGVyYWN0aXZlKTtcbiAgICBwZXJmTWV0cmljcy5vbmwgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5sb2FkRXZlbnRFbmQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MubG9hZEV2ZW50U3RhcnQpO1xuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwicGVyZk1ldHJpY3NcIiwgcGVyZk1ldHJpY3MpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImludGVybmV0U3BlZWRcIiwgd2luZG93Lm5hdmlnYXRvcj8uY29ubmVjdGlvbj8uZG93bmxpbmspO1xuXG4gIC8qIHNjaGVtYS5vcmcgZWxlbWVudHMgKi9cbiAgY29uc3Qgc2NoZW1hT3JnRWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbdHlwZT1cXFwiYXBwbGljYXRpb24vbGQranNvblxcXCJdXCIpO1xuXG4gIGZvciAoY29uc3Qgc1RhZyBvZiBzY2hlbWFPcmdFbHRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNudG50ID0gc1RhZy50ZXh0Q29udGVudDtcbiAgICAgIGNvbnN0IGpzb25jb250ZW50ID0gSlNPTi5wYXJzZShjbnRudCk7XG4gICAgICBsZXQgYmNydW1iX3N0cmluZyA9IFwiQFwiO1xuICAgICAgc3dpdGNoIChqc29uY29udGVudFtcIkB0eXBlXCJdKSB7XG4gICAgICAgIC8vIEhPTUVQQUdFXG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25cIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIldlYlNpdGVcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICAvLyBQTFBcbiAgICAgICAgY2FzZSBcIkNvbGxlY3Rpb25QYWdlXCI6IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGJjcnVtaXRlbSBvZiBqc29uY29udGVudFtcImJyZWFkY3J1bWJcIl1bXCJpdGVtTGlzdEVsZW1lbnRcIl0pIHtcbiAgICAgICAgICAgIGJjcnVtYl9zdHJpbmcgKz0gXCIgfCBcIiArIGJjcnVtaXRlbVtcIml0ZW1cIl1bXCJuYW1lXCJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNvcmdCcmVhZGNydW1iXCIsIGJjcnVtYl9zdHJpbmcpO1xuICAgICAgICAgIGNvbnN0IHNvcmdMaXN0aW5nID0ge307XG4gICAgICAgICAgc29yZ0xpc3RpbmcubmFtZSA9IGpzb25jb250ZW50W1wibWFpbkVudGl0eVwiXVtcIm5hbWVcIl07XG4gICAgICAgICAgc29yZ0xpc3RpbmcuY291bnRJdGVtcyA9IGpzb25jb250ZW50W1wibWFpbkVudGl0eVwiXVtcIm51bWJlck9mSXRlbXNcIl07XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzb3JnTGlzdGluZ1wiLCBzb3JnTGlzdGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICAvLyBQRFBcbiAgICAgICAgY2FzZSBcIkJyZWFkY3J1bWJMaXN0XCI6XG4gICAgICAgICAgZm9yIChjb25zdCBiY3J1bWl0ZW0gb2YganNvbmNvbnRlbnRbXCJpdGVtTGlzdEVsZW1lbnRcIl0pIHtcbiAgICAgICAgICAgIGJjcnVtYl9zdHJpbmcgKz0gXCIgfCBcIiArIGJjcnVtaXRlbVtcIm5hbWVcIl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic29yZ0JyZWFkY3J1bWJcIiwgYmNydW1iX3N0cmluZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJQcm9kdWN0XCI6IHtcbiAgICAgICAgICBjb25zdCBzb3JnUHJvZHVjdCA9IHt9O1xuICAgICAgICAgIHNvcmdQcm9kdWN0LnNrdSA9IGpzb25jb250ZW50W1wic2t1XCJdO1xuICAgICAgICAgIHNvcmdQcm9kdWN0Lm5hbWUgPSBqc29uY29udGVudFtcIm5hbWVcIl07XG4gICAgICAgICAgaWYgKGpzb25jb250ZW50W1wib2ZmZXJzXCJdKSB7XG4gICAgICAgICAgICBzb3JnUHJvZHVjdC5wcmljZSA9IGpzb25jb250ZW50W1wib2ZmZXJzXCJdW1wicHJpY2VcIl07XG4gICAgICAgICAgICBzb3JnUHJvZHVjdC5wcmljZUN1cnJlbmN5ID0ganNvbmNvbnRlbnRbXCJvZmZlcnNcIl1bXCJwcmljZUN1cnJlbmN5XCJdO1xuICAgICAgICAgICAgc29yZ1Byb2R1Y3QucHJpY2VWYWxpZFVudGlsID0ganNvbmNvbnRlbnRbXCJvZmZlcnNcIl1bXCJwcmljZVZhbGlkVW50aWxcIl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic29yZ1Byb2R1Y3RcIiwgc29yZ1Byb2R1Y3QpO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5sb2coanNvbmNvbnRlbnQpO1xuICAgICAgfSAvLyBzd2l0Y2hcbiAgICB9IGNhdGNoIChlcnIpIHsgLy8gdHJ5XG4gICAgICBsb2dnZXIud2FybihlcnIubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgLyogTmV4dGRheSBkYXRhICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidlwiLCBcIjAuMC4yN1wiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuXCIsIGBuZXh0ZGF5LXNlc3Npb25faWQtJHtzZXNzaW9uSWR9YCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic3JcIiwgU1BMSVRfUkFUSU8pO1xuXG4gIC8qIG1pc2NlbGxhbmVvdXMgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkb250dHJhY2tcIiwgbmF2aWdhdG9yLmRvTm90VHJhY2sgfHwgd2luZG93LmRvTm90VHJhY2sgfHwgbmF2aWdhdG9yLm1zRG9Ob3RUcmFjayk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidVwiLCBjdXJyZW50VVJMLmhyZWYpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRcIiwgY3VycmVudFVSTC5ob3N0bmFtZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiclwiLCBkb2N1bWVudC5yZWZlcnJlcik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidklkXCIsIHZpZXdJZCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiaXNPblwiLCBudWxsKTtcblxuICAvKiBWaXZlbnNlIHNwZWNpZmljICovXG4gIHRyeSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNDbnRGYXZQcm9kc1wiLCB3aW5kb3cuZmF2b3JpdGVQcm9kdWN0cyA/IEpTT04ucGFyc2Uod2luZG93LmZhdm9yaXRlUHJvZHVjdHMpLmxlbmd0aCA6IG51bGwpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0NudEZhdlByb2RzXCIsIG51bGwpO1xuICAgIGxvZ2dlci53YXJuKGVyci5tZXNzYWdlKTtcbiAgfVxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0hhc1NldEVtYWlsXCIsIHdpbmRvdy51c2VyRW1haWwubGVuZ3RoID4gMCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzTG9naW5UeXBlXCIsIHdpbmRvdy51c2VySWQgPiAwID8gXCJtZW1iZXJcIiA6IFwiZ3Vlc3RcIik7XG5cbiAgbGV0IHNlbGVjdGVkRWxlbWVudDtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwiYmFza2V0X3N1bW1hcnlfdG90YWxcXFwiXSwgW2NsYXNzKj1cXFwidG90YWxfcm93XFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHVyY1ByaWNlRWx0XCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJvcmRlcl9mb2xsb3dfbnVtYlxcXCJdLCBbY2xhc3MqPVxcXCJjYXJ0LXRpdGxlLWJvdHRvbVxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1B1cmNoYXNlT3JkZXJJRFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwicGF5bWVudF90eXBlX3RpdGxlXFxcIl0sIFtjbGFzcyo9XFxcImNhcnQtdGl0bGUtaW5mb1xcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1B1cmNUeXBlRWx0XCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbaWQqPVxcXCJicmVhZGNydW1iLW9sXFxcIl0sIFtjbGFzcyo9XFxcImxvbmctYnJlYWRjcnVtYlxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1ZpZXdDcnVtYlwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwib3JkZXItZmluYWwtbnVtYmVyXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzQ2FydFRvdGFsXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJiYXNrZXRfdG90YWxfcHJpY2VcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNWaWV3QmFza2V0VG90YWxcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltpZCo9XFxcImNhcnRfcXVhbnRpdHlcXFwiXSwgW2NsYXNzKj1cXFwiYmFza2V0X2xlbmd0aFxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1ZpZXdCYXNrZXRDb3VudFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwid2VsY29tZV91c2VybmFtZVxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1ZpZXdMb2dnZWRpblwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQubGVuZ3RoID4gMCA6IGZhbHNlKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2NsYXNzKj1cXFwidml2ZW5zZS1zaG93cm9vbXNcXFwiXSA+ICpcIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQU2hvd3Jvb21Db3VudFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5sZW5ndGggOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwiZGVsaXZlcnktZGF0ZVxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BEUERlbGl2ZXJ5RGF0ZVwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQRFBEZWxpdmVyeURhdGVGb3JtYXR0ZWRcIiwgZm9ybWF0RGVsaXZlcnlEYXRlKHNlbGVjdGVkRWxlbWVudD8uaW5uZXJUZXh0KSk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcInByb2R1Y3QtdGl0bGVcXFwiXSwgW2NsYXNzKj1cXFwiaGVhZGVyLWJvdHRvbVxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BEUFRpdGxlXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJjb3VudC1vZi1wcm9kdWN0XFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUExQSXRlbUNvdW50XCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJzdWJjYXRlZ29yaWVzLXRpdGxlXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUExQTmFtZVwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge2NoZWNrRGF0YUxheWVyUnVsZX0gZnJvbSBcIi4vTmV4dGRheVJ1bGVFbmdpbmUvZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1VybFJ1bGV9IGZyb20gXCIuL05leHRkYXlSdWxlRW5naW5lL3VybENoZWNrZXJcIjtcbmltcG9ydCB7YWRkVG9CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgQ09PS0lFX05BTUUsXG4gIExPQ0FMX1NUT1JBR0VfS0VZUyxcbiAgU0VTU0lPTl9TVE9SQUdFX0tFWVMsXG4gIFNUWUxFU0hFRVRfTE9DQVRJT04sXG4gIFRSRUFUTUVOVFNfTE9DQVRJT04sXG4gIFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFV0aWxzXCIpO1xuY29uc3QgbW9udGhzID0ge1xuICBcIm9jYWtcIjogMCxcbiAgXCLFn3ViYXRcIjogMSxcbiAgXCJtYXJ0XCI6IDIsXG4gIFwibmlzYW5cIjogMyxcbiAgXCJtYXnEsXNcIjogNCxcbiAgXCJoYXppcmFuXCI6IDUsXG4gIFwidGVtbXV6XCI6IDYsXG4gIFwiYcSfdXN0b3NcIjogNyxcbiAgXCJleWzDvGxcIjogOCxcbiAgXCJla2ltXCI6IDksXG4gIFwia2FzxLFtXCI6IDEwLFxuICBcImFyYWzEsWtcIjogMTEsXG59O1xuXG5leHBvcnQgY29uc3QgcmFuZG9tVVVJREZhbGxiYWNrID0gKCkgPT4ge1xuICBjcnlwdG8ucmFuZG9tVVVJRCA9IGZ1bmN0aW9uIHJhbmRvbVVVSUQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFsxZTddICsgLTFlMyArIC00ZTMgKyAtOGUzICsgLTFlMTEpLnJlcGxhY2UoL1swMThdL2csXG4gICAgICAgIChjKSA9PiAoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KSxcbiAgICApO1xuICB9O1xufTtcblxuaWYgKCEoXCJyYW5kb21VVUlEXCIgaW4gY3J5cHRvKSkge1xuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyMy8yODAwMjE4XG4gIC8vIExJQ0VOU0U6IGh0dHBzOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS80LjAvbGVnYWxjb2RlXG4gIHtcbiAgICByYW5kb21VVUlERmFsbGJhY2soKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlRG9jdW1lbnRIaWRlID0gKCkgPT4ge1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm5leHREYXktaGlkZVwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRyZWF0bWVudHMgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnRzXCIpO1xuICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2goVFJFQVRNRU5UU19MT0NBVElPTik7XG4gIHJldHVybiBhd2FpdCB0cmVhdG1lbnRzLmpzb24oKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRyZWF0bWVudFdlaWdodHMgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnQgd2VpZ2h0c1wiKTtcbiAgY29uc3QgdHJlYXRtZW50V2VpZ2h0cyA9IGF3YWl0IGZldGNoKFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OKTtcbiAgcmV0dXJuIGF3YWl0IHRyZWF0bWVudFdlaWdodHMuanNvbigpO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RDb29raWVJZGVudGlmaWVyID0gKGNvb2tpZVN0cmluZywgY29va2llTmFtZSkgPT4ge1xuICBpZiAoIWNvb2tpZVN0cmluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgcGFyc2VkID0gY29va2llU3RyaW5nXG4gICAgICAuc3BsaXQoXCI7XCIpXG4gICAgICAubWFwKCh2KSA9PiB2LnNwbGl0KFwiPVwiKSlcbiAgICAgIC5yZWR1Y2UoKGFjYywgdikgPT4ge1xuICAgICAgICBpZiAodlswXSAmJiB2WzFdKSB7XG4gICAgICAgICAgYWNjW2RlY29kZVVSSUNvbXBvbmVudCh2WzBdLnRyaW0oKSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZbMV0udHJpbSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuXG4gIGxldCBpZGVudGlmaWVyID0gcGFyc2VkW2Nvb2tpZU5hbWVdO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoY29va2llTmFtZSA9PT0gXCJfZ2FcIikge1xuICAgIC8vIGV4dHJhY3QgdW5pcXVlIGlkZW50aWZpZXIgZnJvbSBHQSBjb29raWVcbiAgICBjb25zdCBpZGVudGlmaWVySW5kZXggPSAyO1xuICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyLnNwbGl0KFwiLlwiKVtpZGVudGlmaWVySW5kZXhdO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGRldGVybWluZVBjdCA9IGFzeW5jIChpZGVudGlmaWVyKSA9PiB7XG4gIGNvbnN0IHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24gPSA5O1xuICBjb25zdCBzdWJzdHJpbmdMZW5ndGggPSA4O1xuICBjb25zdCBzdWJzdHJpbmdFbmRQb3NpdGlvbiA9IHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24gKyBzdWJzdHJpbmdMZW5ndGg7XG4gIGlmICghaWRlbnRpZmllcikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBjb25zdCBoYXNoU3RyaW5nID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhpZGVudGlmaWVyKTtcbiAgLy8gTWFwIHRoZSBjb29raWUgaGFzaCB0byBhIG51bWJlciBiZXR3ZWVuIDAgLT4gOTksXG4gIC8vIHRoaXMgbnVtYmVyIGlzIHRoZSBvblJhdGlvblxuICBjb25zdCBoYXNoTnVtYmVyID0gcGFyc2VJbnQoaGFzaFN0cmluZy5zdWJzdHJpbmcoc3Vic3RyaW5nU3RhcnRQb3NpdGlvbiwgc3Vic3RyaW5nRW5kUG9zaXRpb24pLCAxNik7XG5cbiAgcmV0dXJuIGhhc2hOdW1iZXIgJSAxMDA7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlSGFzaFN0cmluZyA9IGFzeW5jIChzdHJpbmdUb0hhc2gpID0+IHtcbiAgLy8gZW5jb2RlIHN0cmluZyB0byBhbiBhcnJheSBvZiA4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlc1xuICBjb25zdCBlbmNvZGVkID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHN0cmluZ1RvSGFzaCk7XG5cbiAgLy8gaGFzaCB0aGUgZW5jb2RlZCBjb29raWUgaW50byBhIGJ1ZmZlclxuICBjb25zdCBoYXNoQnVmZmVyID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMVwiLCBlbmNvZGVkKTtcblxuICAvLyBjb252ZXJ0IGJ1ZmZlciB0byBieXRlIGFycmF5XG4gIGNvbnN0IGhhc2hBcnJheSA9IEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoaGFzaEJ1ZmZlcikpO1xuXG4gIC8vIGNvbnZlcnQgYnl0ZXMgdG8gaGV4IHN0cmluZyBhbmQgcmV0dXJuXG4gIHJldHVybiBoYXNoQXJyYXkubWFwKChiKSA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpLmpvaW4oXCJcIik7XG59O1xuXG5leHBvcnQgY29uc3QgZXhpdFNjcm9sbExpc3RlbmVyID0gKGNhbGxCYWNrKSA9PiB7XG4gIGNvbnN0IGxvb3AgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBpZiAobGFzdFNjcm9sbFRvcCAtIDQwMCA+IHNjcm9sbFRvcCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChleGl0U2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgY2FsbEJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdFNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgbGV0IGxhc3RTY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICBjb25zdCBleGl0U2Nyb2xsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChsb29wLCA1MDApO1xufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGFwcGx5IHRyZWF0bWVudHMgdG8gdGhlIHBhZ2Ugb24gc3BlY2lmaWMgbWVkaWEgdHlwZS5cbiAqIEBwYXJhbSB7TWVkaWFRdWVyeUxpc3R9IG1lZGlhUXVlcnlDb25kaXRpb24gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA1MDBweClcIilcbiAqIEBwYXJhbSB7RE9NTm9kZUxpc3QgfSBlbGVtZW50cyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2LnByb2R1Y3RfaW5mb1wiKVxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlQ2hhbmdlc01hcCB7IFwibWFyZ2luLXRvcFwiIDogXCIxMHJlbVwifVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IHN0eWxlQXBwbGljYXRvciA9IChlbGVtZW50cywgc3R5bGVDaGFuZ2VzTWFwKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZSBjaGFuZ2VzXCIsIHN0eWxlQ2hhbmdlc01hcCwgXCJ0byBlbGVtZW50c1wiLCBlbGVtZW50cyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVDaGFuZ2VzTWFwKSkge1xuICAgICAgZWxlbWVudC5zdHlsZVtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgaW5qZWN0U3R5bGVTaGVldCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICBzdHlsZVNoZWV0LnJlbCA9IFwic3R5bGVzaGVldFwiO1xuICBzdHlsZVNoZWV0LnR5cGUgPSBcInRleHQvY3NzXCI7XG4gIHN0eWxlU2hlZXQuaHJlZiA9IFNUWUxFU0hFRVRfTE9DQVRJT047XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVTaGVldCk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJlcGFyZUFjdGlvbnMgPSBhc3luYyAoaWRlbnRpZmllciwgYWN0aW9uc1RvUHJlcGFyZSwgYnVzaW5lc3NSdWxlSWQpID0+IHtcbiAgY29uc3QgYWN0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYWN0aW9uc1RvUHJlcGFyZSkpO1xuICBsZXQgdmFyaWFudCA9IG51bGw7XG4gIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICBjb25zdCB7YnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zLCB2YXJpYW50c30gPSBhY3Rpb247XG4gICAgaWYgKCFidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMgJiYgIXZhcmlhbnRzKSBjb250aW51ZTtcbiAgICBpZiAoYnVzaW5lc3NSdWxlSWQgJiYgYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICBmb3IgKGNvbnN0IGJ1c2luZXNzVHJhbnNmb3JtYXRpb24gb2YgYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgIGlmIChidXNpbmVzc1RyYW5zZm9ybWF0aW9uLmlkID09PSBidXNpbmVzc1J1bGVJZCkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGJ1c2luZXNzVHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChrZXkgIT09IFwiaWRcIikge1xuICAgICAgICAgICAgICBhY3Rpb25ba2V5XSA9IGJ1c2luZXNzVHJhbnNmb3JtYXRpb25ba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZhcmlhbnRzKSB7XG4gICAgICBmb3IgKGNvbnN0IHZhcmlhbnRLZXkgb2YgT2JqZWN0LmtleXModmFyaWFudHMpKSB7XG4gICAgICAgIGNvbnN0IHJhbmRvbVBjdCA9IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgdmFyaWFudEtleSk7XG4gICAgICAgIGlmIChyYW5kb21QY3QgPCBhY3Rpb24udmFyaWFudHNbdmFyaWFudEtleV0ud2VpZ2h0KSB7XG4gICAgICAgICAgdmFyaWFudCA9IHZhcmlhbnRLZXk7XG4gICAgICAgICAgaWYgKGJ1c2luZXNzUnVsZUlkICYmIHZhcmlhbnRzW3ZhcmlhbnRLZXldLmJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBidXNpbmVzc1RyYW5zZm9ybWF0aW9uIG9mIHZhcmlhbnRzW3ZhcmlhbnRLZXldLmJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICAgICAgICBpZiAoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbi5pZCA9PSBidXNpbmVzc1J1bGVJZCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGJ1c2luZXNzVHJhbnNmb3JtYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcImlkXCIpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBidXNpbmVzc1RyYW5zZm9ybWF0aW9uW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhcmlhbnRzW3ZhcmlhbnRLZXldKSB7XG4gICAgICAgICAgICAgIGlmIChrZXkgIT09IFwid2VpZ2h0XCIgJiYga2V5ICE9PSBcImJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9uc1wiKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSB2YXJpYW50c1t2YXJpYW50S2V5XVtrZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBbYWN0aW9ucywgdmFyaWFudF07XG59O1xuXG5leHBvcnQgY29uc3QgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMgPSAoKSA9PiB7XG4gIGNvbnN0IHtQQUdFX1ZJRVdTLCBQT1BVUF9ESVNQTEFZX0ZMQUcsIFNFU1NJT05fSUQsIFNFU1NJT05fVElNRVNUQU1QLCBTRVNTSU9OX0hJU1RPUll9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG5cbiAgY29uc3QgcGFnZVZpZXdzID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQQUdFX1ZJRVdTKTtcbiAgY29uc3QgcG9wdXBEaXNwbGF5RmxhZyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKTtcbiAgY29uc3Qgc2Vzc2lvbklkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX0lEKTtcbiAgY29uc3Qgc2Vzc2lvblRpbWVzdGFtcCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVApO1xuICBjb25zdCBzZXNzaW9uSGlzdG9yeSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9ISVNUT1JZKTtcblxuICBpZiAoIXBhZ2VWaWV3cykge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEFHRV9WSUVXUywgMSk7XG4gIH0gZWxzZSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQQUdFX1ZJRVdTLCBwYXJzZUludChwYWdlVmlld3MpICsgMSk7XG4gIH1cbiAgaWYgKHBvcHVwRGlzcGxheUZsYWcgPT09IG51bGwpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRywgMCk7XG4gIH1cbiAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSUQsIGNyeXB0by5yYW5kb21VVUlEKCkpO1xuICB9XG4gIGlmICghc2Vzc2lvblRpbWVzdGFtcCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVAsIERhdGUubm93KCkpO1xuICB9XG4gIGlmICghc2Vzc2lvbkhpc3RvcnkpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZV0pO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9ISVNUT1JZLCBbd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCBzZXNzaW9uSGlzdG9yeV0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY29uZGl0aW9uQ2hlY2tlciA9IChydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgaWYgKGNvbmRpdGlvbiA9PT0gXCJub3RFeGlzdFwiKSB7XG4gICAgaWYgKCFydW5UaW1lVmFsdWUpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBleGlzdFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHJ1blRpbWVWYWx1ZSA9PT0gbnVsbCB8fFxuICAgIHJ1blRpbWVWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgY29uZGl0aW9uID09PSBudWxsIHx8XG4gICAgY29uZGl0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogcnVuVGltZVZhbHVlIG9yIGNvbmRpdGlvbiBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3dpdGNoIChjb25kaXRpb24pIHtcbiAgICBjYXNlIFwiZXhpc3RcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJjb250YWluc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBjb250YWlucyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RDb250YWluc1wiOlxuICAgICAgaWYgKCFydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBjb250YWlucyB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZXF1YWxcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGVxdWFsIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RFcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID4gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGdyZWF0ZXIgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibGVzc1RoYW5cIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPCB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPD0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGxlc3Mgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiYmV0d2VlblwiOiB7XG4gICAgICBsZXQgW21pbiwgbWF4XSA9IHZhbHVlLnNwbGl0KFwiLFwiKTtcbiAgICAgIG1pbiA9IHBhcnNlSW50KG1pbik7XG4gICAgICBtYXggPSBwYXJzZUludChtYXgpO1xuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+PSBtaW4gJiYgcnVuVGltZVZhbHVlIDw9IG1heCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkIFwiLCBjb25kaXRpb24pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGVidWdNb2RlID0gKCkgPT4ge1xuICBjb25zdCB7TkRfREVCVUdfTU9ERSwgT1VUX09GX1NDT1BFfSA9IExPQ0FMX1NUT1JBR0VfS0VZUztcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0xXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE5EX0RFQlVHX01PREUsIDEpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIFwib25cIik7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MlwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShORF9ERUJVR19NT0RFLCAyKTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oT1VUX09GX1NDT1BFLCB0cnVlKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCBcIm9uXCIpO1xuICAgIHJldHVybiAyO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTBcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTkRfREVCVUdfTU9ERSk7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE9VVF9PRl9TQ09QRSwgdHJ1ZSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvZmZcIik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgY3VycmVudCA9IHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShORF9ERUJVR19NT0RFKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIChjdXJyZW50ID8gXCJvblwiIDogXCJvZmZcIikpO1xuICByZXR1cm4gKGN1cnJlbnQgfHwgMCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SWRlbnRpZmllciA9IGFzeW5jIChjb29raWVOYW1lID0gQ09PS0lFX05BTUUpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQpO1xuICAgIGlmIChpZCkgcmVzb2x2ZShpZCk7XG4gICAgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIGNvb2tpZU5hbWUpO1xuICAgIGlmIChpZCkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lELCBpZCk7XG4gICAgICByZXNvbHZlKGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIGNvb2tpZU5hbWUpO1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuVVNFUl9JRCwgaWQpO1xuICAgICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICB9XG4gICAgICB9LCAxMCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChleHRyYWN0SWRlbnRpZmllckludGVydmFsKTtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkNvdWxkIG5vdCBleHRyYWN0IGNvb2tpZSBpZGVudGlmaWVyXCIpKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVsYXkgPSAobXMpID0+IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCBtcykpO1xuXG4vLyBDb2xsZWN0IHByb2R1Y3QgU0tVcyBmcm9tIHBhZ2VcbmV4cG9ydCBjb25zdCBza3VDb2xsZWN0b3IgPSAoKSA9PiB7XG4gIGNvbnN0IHtORF9TS1VfTElTVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgY29uc3Qgc2t1TGlzdCA9IFtdO1xuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgaG9tZSBwYWdlXG4gIGNvbnN0IHJ1bGUgPSB7XG4gICAgb3BlcmF0b3I6IFwiUGFnZVR5cGVcIixcbiAgICBjb25kaXRpb246IFwiZXF1YWxcIixcbiAgICB2YWx1ZTogXCJIb21lcGFnZVwiLFxuICB9O1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGxpc3RpbmcgcGFnZVxuICBydWxlLnZhbHVlID0gXCJMaXN0aW5ncGFnZVwiO1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1jYXJkXCIpKTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBza3VMaXN0LnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3Qtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBMaXN0aW5ncGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNULCBKU09OLnN0cmluZ2lmeShza3VMaXN0KSk7XG5cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgcHJvZHVjdCBwYWdlXG4gIHJ1bGUudmFsdWUgPSBcIlByb2R1Y3RwYWdlXCI7XG4gIGlmIChjaGVja0RhdGFMYXllclJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LXNrdVwiKTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IFNLVSBub3QgZm91bmQgb24gUHJvZHVjdHBhZ2VcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2t1TGlzdC5wdXNoKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1za3VcIikgfHwgZWxlbWVudC50ZXh0Q29udGVudD8udHJpbSgpPy5yZXBsYWNlKC9cXCkvZywgXCJcIik/LnJlcGxhY2UoL1xcKC9nLCBcIlwiKSk7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShORF9TS1VfTElTVCwgSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCkpO1xuXG4gICAgcmV0dXJuIHNrdUxpc3Q7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGJhc2tldCBwYWdlXG4gIHJ1bGUub3BlcmF0b3IgPSBcInBhdGhcIjtcbiAgcnVsZS52YWx1ZSA9IFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCI7XG4gIGlmIChjaGVja1VybFJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJ0LWluc2lkZVwiKSk7XG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgc2t1TGlzdC5wdXNoKGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1za3VcIikpO1xuICAgIH0pO1xuICAgIGlmICghc2t1TGlzdC5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IFNLVXMgbm90IGZvdW5kIG9uIGJhc2tldCBwYWdlXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTkRfU0tVX0xJU1QsIEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpKTtcblxuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgbG9nZ2VyLmxvZyhcIlVuaWRlbnRpZmllZCBwYWdlIHR5cGVcIik7XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2VuZEJlYWNvblN1cHBvcnRlZCA9ICgpID0+IG5hdmlnYXRvci5zZW5kQmVhY29uICYmIHR5cGVvZiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbiA9PT0gXCJmdW5jdGlvblwiO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0RGVsaXZlcnlEYXRlID0gKGRhdGUpID0+IHtcbiAgaWYgKCFkYXRlIHx8IHR5cGVvZiBkYXRlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gZGF0ZTtcblxuICBjb25zdCByZXN1bHQgPSBkYXRlLm1hdGNoKFwiKFtcXFxcZF0rKS0oW1xcXFxkXSspXFxcXHM/KFtcXFxcd8Sxw7zEn8Wfw7bDp8Sww5bDh8Sew5xdKylcIik7XG4gIGlmICghcmVzdWx0IHx8IHJlc3VsdC5sZW5ndGggIT09IDQpIHJldHVybiBkYXRlO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXG4gICAgY29uc3QgbW9udGhJbmRleCA9IG1vbnRoc1tyZXN1bHRbM10udG9Mb3dlckNhc2UoKV07XG4gICAgaWYgKCFtb250aEluZGV4KSByZXR1cm4gZGF0ZTtcblxuICAgIGNvbnN0IHllYXIgPSBtb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG5cbiAgICBjb25zdCBlc3RpbWF0ZWRTdGFydCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoSW5kZXgsIHBhcnNlSW50KHJlc3VsdFsxXSkpO1xuICAgIGNvbnN0IGVzdGltYXRlZEVuZCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoSW5kZXgsIHBhcnNlSW50KHJlc3VsdFsyXSkpO1xuXG5cbiAgICBjb25zdCBzdGFydERpZmZPdmVyRGF5cyA9IE1hdGguY2VpbChNYXRoLmFicyhlc3RpbWF0ZWRTdGFydCAtIHRvZGF5KSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG4gICAgY29uc3QgZW5kRGlmZk92ZXJEYXlzID0gTWF0aC5jZWlsKE1hdGguYWJzKGVzdGltYXRlZEVuZCAtIHRvZGF5KSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG5cbiAgICBjb25zdCBzdGFydERpZmZPdmVyV2Vla3MgPSBzdGFydERpZmZPdmVyRGF5cyA8IDcgPyAwIDogTWF0aC5jZWlsKHN0YXJ0RGlmZk92ZXJEYXlzIC8gNyk7XG4gICAgY29uc3QgZW5kRGlmZk92ZXJXZWVrcyA9IGVuZERpZmZPdmVyRGF5cyA8IDcgPyAwIDogTWF0aC5jZWlsKGVuZERpZmZPdmVyRGF5cyAvIDcpO1xuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gMCAmJiBlbmREaWZmT3ZlcldlZWtzID09PSAwKSB7XG4gICAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlckRheXN9IC0gJHtlbmREaWZmT3ZlckRheXN9IEfDnE4gxLDDh8SwTkRFYDtcbiAgICB9XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSAwICYmIGVuZERpZmZPdmVyV2Vla3MgPj0gMSkge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJEYXlzfSBHw5xOIC0gJHtlbmREaWZmT3ZlcldlZWtzfSBIQUZUQSDEsMOHxLBOREVgO1xuICAgIH1cblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IGVuZERpZmZPdmVyV2Vla3MpIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyV2Vla3N9IEhBRlRBIMSww4fEsE5ERWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJXZWVrc30gLSAke2VuZERpZmZPdmVyV2Vla3N9IEhBRlRBIMSww4fEsE5ERWA7XG4gIH0gY2F0Y2ggKGVyciApIHtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxufTtcbiIsImV4cG9ydCBjb25zdCByZXBsYWNlQWxsID0gKHN0ciwgZmluZCwgcmVwbGFjZSA9IFwiXCIpID0+IHtcbiAgaWYgKCFzdHIpIHJldHVybiBcIlwiO1xuXG4gIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZmluZCk7XG4gIGlmIChpbmRleCA8IDApIHJldHVybiBzdHI7XG5cbiAgd2hpbGUgKHN0ci5pbmRleE9mKGZpbmQpID49IDApIHtcbiAgICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKGZpbmQpO1xuICAgIHN0ciA9IChpbmRleCA+IDAgPyBzdHIuc3Vic3RyaW5nKDAsIGluZGV4KSA6IFwiXCIpICsgcmVwbGFjZSArIHN0ci5zdWJzdHJpbmcoaW5kZXggKyBmaW5kLmxlbmd0aCk7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCB7ZXhpdFNjcm9sbExpc3RlbmVyLCBzdHlsZUFwcGxpY2F0b3IsIGRlbGF5fSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7cmVwbGFjZUFsbH0gZnJvbSBcIi4uL3N0cmluZ1V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWSwgU0VTU0lPTl9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7ZGF0YUxheWVyRmluZGVyfSBmcm9tIFwiLi4vTmV4dGRheVJ1bGVFbmdpbmUvZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGFwcGx5VHJlYXRtZW50cyh0cmVhdG1lbnRzLCBwcm9kdWN0SW5mbykge1xuICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBBcHBseSBUcmVhdG1lbnRzXCIpO1xuICBjb25zdCB7UE9QVVBfRElTUExBWV9GTEFHfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuXG4gIGNvbnN0IHRyYW5zZm9ybWVyID0gZnVuY3Rpb24gdHJhbnNmb3JtZXIodHJlYXRtZW50KSB7XG4gICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHRyZWF0bWVudDogXCIsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudCkpO1xuICAgIGNvbnN0IHtcbiAgICAgIG9wZXJhdG9yLFxuICAgICAgdHlwZSxcbiAgICAgIGFwcGx5RXZlbnQsXG4gICAgICBjb250ZW50U2VsZWN0b3IsXG4gICAgICBzZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yRmFsbGJhY2ssXG4gICAgICBtZENvbmRpdGlvbixcbiAgICAgIG1vdmVfc2VsZWN0b3JfMSxcbiAgICAgIG1vdmVfc2VsZWN0b3JfMixcbiAgICAgIHJlcGxhY2VGbixcbiAgICB9ID0gdHJlYXRtZW50O1xuICAgIGxldCB7dmFsdWV9ID0gdHJlYXRtZW50O1xuICAgIGxldCBlbGVtZW50ID0gJChzZWxlY3Rvcik7XG5cbiAgICBjb25zdCBtYyA9IG1kQ29uZGl0aW9uID8gd2luZG93Lm1hdGNoTWVkaWEobWRDb25kaXRpb24pLm1hdGNoZXMgOiB0cnVlO1xuICAgIGlmICghbWMpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJNZWRpYSBjb25kaXRpb24gbWlzbWF0Y2g6IFwiLCBtZENvbmRpdGlvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAgIChtb3ZlX3NlbGVjdG9yXzEgJiYgIW1vdmVfc2VsZWN0b3JfMikgfHxcbiAgICAgIChtb3ZlX3NlbGVjdG9yXzIgJiYgIW1vdmVfc2VsZWN0b3JfMSlcbiAgICApIHtcbiAgICAgIGxvZ2dlci5sb2coXCJCb3RoIG1vdmUgc2VsZWN0b3JzIGFyZSByZXF1aXJlZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG1vdmVfc2VsZWN0b3JfMSAmJiBtb3ZlX3NlbGVjdG9yXzIpIHtcbiAgICAgIGlmICghJChtb3ZlX3NlbGVjdG9yXzEpLmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiTW92ZSBzZWxlY3RvciAxIG5vdCBmb3VuZDogXCIsIG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghJChtb3ZlX3NlbGVjdG9yXzIpLmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiTW92ZSBzZWxlY3RvciAyIG5vdCBmb3VuZDogXCIsIG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHNlbGVjdG9yICE9PSBcIm5vLXNlbGVjdG9yXCIpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IGZvdW5kOiBcIiwgc2VsZWN0b3IpO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJUcnlpbmcgZmFsbGJhY2sgc2VsZWN0b3I6IFwiLCBzZWxlY3RvckZhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoc2VsZWN0b3JGYWxsYmFjaykgZWxlbWVudCA9ICQoc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkZhbGxiYWNrIHNlbGVjdG9yIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCByZXBsYWNlRm5FeGVjdXRvciA9IChyZXBsYWNlRm4sIHZhbHVlKSA9PiB7XG4gICAgICBpZiAocmVwbGFjZUZuICYmIHZhbHVlLmluY2x1ZGVzKFwie3tSRVBMQUNFfX1cIikpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkV4ZWN1dGluZyByZXBsYWNlIGZ1bmN0aW9uOiBcIiwgcmVwbGFjZUZuKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgICBkYXRhTGF5ZXJGaW5kZXIsXG4gICAgICAgICAgcHJvZHVjdEluZm8sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcGxhY2VGdW5jdGlvbiA9IEZ1bmN0aW9uKHJlcGxhY2VGbikuYmluZChjb250ZXh0KTtcbiAgICAgICAgdmFsdWUgPSByZXBsYWNlQWxsKHZhbHVlLCBcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VGdW5jdGlvbigpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKCh2YWwsIGkpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFJlcGxhY2VGbiA9IHJlcGxhY2VGbiA/IHJlcGxhY2VGbltpXSB8fCByZXBsYWNlRm4gOiBcIlwiO1xuICAgICAgICB2YWx1ZVtpXSA9IHJlcGxhY2VGbkV4ZWN1dG9yKGN1cnJlbnRSZXBsYWNlRm4sIHZhbCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAob3BlcmF0b3IgPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJSZW1vdmluZzogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJDYW5ub3QgZm91bmQgZWxlbWVudCB3aXRoIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3IpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5zZXJ0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBiZWZvcmU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgaWYgKFN0cmluZyh2YWx1ZSkuaW5jbHVkZXMoXCJuZC1hZGQtdG8td2luXCIpKSB7XG4gICAgICAgICAgICAkKFwiLm5kLWFkZC10by13aW5cIikucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFmdGVyXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBhZnRlcjogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmFmdGVyKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcHVwXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKSkgIT09IDApIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlBvcHVwIGFscmVhZHkgZGlzcGxheWVkIGluIHNlc3Npb25cIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkNyZWF0aW5nIFBvcHVwOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY3JlYXRlUG9wdXAodmFsdWUsIGNvbnRlbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImV4aXRJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBleGl0IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGV4aXRTY3JvbGxMaXN0ZW5lcihkaXNwbGF5UG9wdXApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1vdXNlbGVhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7b25jZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb3B5SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgY29weSBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb3B5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB7b25jZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gYXBwZW5kIHBvcHVwIHRvIGJvZHkgYWZ0ZXIgdGltZW91dCBleHBpcmVzXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCgpO1xuICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJlZGl0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIHRleHQ6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC50ZXh0KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImh0bWxcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiRWRpdGluZyBodG1sOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHlsZUFwcGxpY2F0b3JcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUNoYW5nZXNNYXAgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJTdHlsZSBDaGFuZ2VzIE1hcDogXCIsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgICAgICBzdHlsZUFwcGxpY2F0b3IoZWxlbWVudCwgc3R5bGVDaGFuZ2VzTWFwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhZGRDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYGFkZGRpbmcgY2xhc3MgdG8gJHtlbGVtZW50fSBuYW1lZCAke3ZhbHVlfWApO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3ModmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVtb3ZlQ2xhc3NcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGByZW1vdmUgY2xhc3MgZnJvbSAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkb2N1bWVudFRpdGxlXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgY2hhbmdpbmcgZG9jdW1lbnQgdGl0bGUgZnJvbSAke2VsZW1lbnR9IHRvICR7dmFsdWV9YCk7XG4gICAgICAgICAgaWYgKGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBpZiAoZXZlbnQgPT0gXCJ0YWJDaGFuZ2VcIikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJjYXRjaGluZyBldmVudCB0YWJjaGFuZ2UuLlwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRpdGxlID0gZG9jdW1lbnQudGl0bGU7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgKGUpID0+XG4gICAgICAgICAgICAgICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGUsIHZhbHVlLCBvcmlnaW5hbFRpdGxlKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQmFubmVyXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qge05EX1NLVV9MSVNUfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgICAgICAgICAgaWYgKCFwcm9kdWN0SW5mbykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIHVuYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgYmFubmVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudFNrdSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShORF9TS1VfTElTVCkpWzBdO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50U2t1KSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgZmluZCBwcm9kdWN0IHNrdVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb2R1Y3RJbmZvKS5pbmNsdWRlcyhlbGVtZW50U2t1KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlVua25vd24gZWRpdCB0eXBlOiBcIiwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzZXRhdHRyaWJ1dGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgYXR0cmlidXRlOiBcIiwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGF0dHJpYnV0ZSkge1xuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgZWxlbWVudC5jc3MoXCJjb250ZW50XCIsIGB1cmwoJHt2YWx1ZS50cmltKCl9KWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhwcm9wZXJ0eSwgcHJvcGVydHlWYWx1ZSwgXCIhaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nOiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5yZXBsYWNlQWxsKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInN3YXBcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlN3YXBwaW5nOiBcIiwgbW92ZV9zZWxlY3Rvcl8xLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgY29uc3QgbjEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBuMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIHN3YXBOb2RlcyhuMSwgbjIpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5qZWN0c2NyaXB0XCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbmplY3Rpbmcgc2NyaXB0OiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5hcHBlbmQoYDxzY3JpcHQ+JHt2YWx1ZX08L3NjcmlwdD5gKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIm1vdmVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhgTW92aW5nICR7bW92ZV9zZWxlY3Rvcl8xfSB0byAke21vdmVfc2VsZWN0b3JfMn1gKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc291cmNlLnJlbW92ZSgpO1xuICAgICAgZGVzdGluYXRpb24ucHJlcGVuZChzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwibm9vcFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm9vcCBPcGVyYXRvcjogTm8gb3BlcmF0aW9uIGlzIGFwcGxpZWQgb24gdGFyZ2V0IFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggb3BlcmF0b3IgZXhpc3RzIHlldFwiLCBvcGVyYXRvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UgPSBhc3luYyAoZXZlbnQsIHRpdGxlcywgb3JpZ2luYWxUaXRsZSkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZFRpdGxlcyA9ICFBcnJheS5pc0FycmF5KHRpdGxlcykgPyBbdGl0bGVzXSA6IHRpdGxlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnNlZFRpdGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHBhcnNlZFRpdGxlc1tpXTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMzAwMCk7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMzAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UoZXZlbnQsIHRpdGxlcywgb3JpZ2luYWxUaXRsZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvcHVwQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBpZCA9IGV2ZW50LnRhcmdldC5pZDtcbiAgICBpZiAoaWQgJiYgaWQgPT09IFwibmQtcG9wdXBfX3dyYXBwZXJcIikge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXlQb3B1cCA9ICgpID0+IHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRywgMSk7XG4gICAgY29uc3QgcVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNncnQtc2hhZG93LWhvc3RcIik7XG4gICAgaWYgKHFQb3B1cCkgcVBvcHVwLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmQtcG9wdXBfX3dyYXBwZXJcIikuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJibG9ja1wiO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG5cbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29weVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH0sIDE1MDAwKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVQb3B1cCA9ICh2YWx1ZSwgY29udGVudFNlbGVjdG9yKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHBvcHVwIHdyYXBwZXJcbiAgICBjb25zdCBwb3B1cFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgcG9wdXBXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKTtcbiAgICBwb3B1cFdyYXBwZXIuaWQgPSBcIm5kLXBvcHVwX193cmFwcGVyXCI7XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibmQtcG9wdXBfX2J1dHRvbi1jbG9zZVwiKTtcbiAgICBwb3B1cENsb3NlQnV0dG9uLmlubmVyVGV4dCA9IFwiWFwiO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH07XG5cbiAgICBpZiAoY29udGVudFNlbGVjdG9yKSB7XG4gICAgICBjb25zdCBjb250ZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb250ZW50U2VsZWN0b3IpKTtcbiAgICAgIHdoaWxlICh2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpICYmIGNvbnRlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwie3tSRVBMQUNFfX1cIiwgY29udGVudHMuc2hpZnQoKS5zcmMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBwb3B1cCBmcm9tIHRyZWF0bWVudCBhbmQgYXBwZW5kIGNsb3NlIGJ1dHRvblxuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlLnRyaW0oKTtcbiAgICBjb25zdCBwb3B1cCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICBwb3B1cC5hcHBlbmRDaGlsZChwb3B1cENsb3NlQnV0dG9uKTtcbiAgICBwb3B1cFdyYXBwZXIuYXBwZW5kQ2hpbGQocG9wdXApO1xuXG4gICAgLy8gUmVtb3ZlIG9sZCBwb3B1cCBpZiBleGlzdHMgYmVmb3JlIGFwcGVuZGluZyBuZXcgb25lXG4gICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBvcHVwV3JhcHBlcik7XG4gIH07XG5cbiAgY29uc3Qgc3dhcE5vZGVzID0gZnVuY3Rpb24gc3dhcE5vZGVzKG4xLCBuMikge1xuICAgIGNvbnN0IHAxID0gbjEucGFyZW50Tm9kZTtcbiAgICBjb25zdCBwMiA9IG4yLnBhcmVudE5vZGU7XG4gICAgbGV0IGkxO1xuICAgIGxldCBpMjtcblxuICAgIGlmICghcDEgfHwgIXAyIHx8IHAxLmlzRXF1YWxOb2RlKG4yKSB8fCBwMi5pc0VxdWFsTm9kZShuMSkpIHJldHVybjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMS5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMSkpIHtcbiAgICAgICAgaTEgPSBpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAyLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocDIuY2hpbGRyZW5baV0uaXNFcXVhbE5vZGUobjIpKSB7XG4gICAgICAgIGkyID0gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocDEuaXNFcXVhbE5vZGUocDIpICYmIGkxIDwgaTIpIHtcbiAgICAgIGkyKys7XG4gICAgfVxuICAgIHAxLmluc2VydEJlZm9yZShuMiwgcDEuY2hpbGRyZW5baTFdKTtcbiAgICBwMi5pbnNlcnRCZWZvcmUobjEsIHAyLmNoaWxkcmVuW2kyXSk7XG4gIH07XG5cbiAgY29uc3QgdHJlYXRtZW50QXBwbGljYXRvciA9ICh0cmVhdG1lbnRMaXN0KSA9PiB7XG4gICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB0cmVhdG1lbnRBcHBsaWNhdG9yKHRyZWF0bWVudExpc3QpO1xuICAgICAgfSwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiB0cmVhdG1lbnRMaXN0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdHJhbnNmb3JtZXIodHJlYXRtZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcbiAgICAgICAgICAgICAgYENvdWxkbid0IGFwcGx5IHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gd2l0aCBlcnJvciAke2Vyci5tZXNzYWdlfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBTZXQgaWQgb2YgZmFpbGVkIHRyZWF0bWVudCB0byAtMSxcbiAgICAgICAgICAvLyBzbyB3ZSBrbm93IG5vdCB0byBsaXN0IGluIHRoZSBjdXN0b20gR0EgZXZlbnRcbiAgICAgICAgICAvLyB0cmVhdG1lbnRMaXN0W3RyZWF0bWVudF0uaWQgPSAtMTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBBcHBseSB0cmVhdG1lbnRzXG4gIHRyZWF0bWVudEFwcGxpY2F0b3IodHJlYXRtZW50cyk7XG59XG5leHBvcnQgZGVmYXVsdCBhcHBseVRyZWF0bWVudHM7XG4iLCJpbXBvcnQge0xPR19BUElfVVJMfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NyZWF0ZUhhc2hTdHJpbmcsIGlzU2VuZEJlYWNvblN1cHBvcnRlZH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuZXhwb3J0IGNsYXNzIE1vbml0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IE1vbml0b3JcIik7XG4gICAgdGhpcy5sb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIG1vbml0b3JcIik7XG5cbiAgICB0aGlzLmFwcGxpZWRUcmVhdG1lbnRzSGFzaCA9IG51bGw7XG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPSBmYWxzZTtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gbnVsbDtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gZmFsc2U7XG4gICAgdGhpcy5oZWFkZXJzID0ge1xuICAgICAgdHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICB0aGlzLmlzTG9nZ2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLmluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGFzeW5jIHNlbmRMb2dzKG1lc3NhZ2UgPSBudWxsLCBpc0Vycm9yID0gZmFsc2UpIHtcbiAgICBjb25zdCB7bG9nZ2VyfSA9IHRoaXM7XG4gICAgbG9nZ2VyLmxvZyhcIlNlbmRpbmcgbG9nc1wiKTtcblxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJEb2N1bWVudCByZWFkeSBzdGF0ZSBpcyBub3QgY29tcGxldGVcIik7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgICBsb2dnZXIubG9nKFwiSW4gb25sb2FkIGV2ZW50XCIpO1xuICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKG1lc3NhZ2UpLCBpc0Vycm9yKTtcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKG1lc3NhZ2UpLCBpc0Vycm9yKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVRdWV1ZUxvZ3MocmVxdWVzdEJsb2IsIGlzRXJyb3IgPSBmYWxzZSkge1xuICAgIGlmICghaXNFcnJvciAmJiB0aGlzLmlzTG9nZ2VkKSByZXR1cm47XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuXG4gICAgaWYgKCFyZXF1ZXN0QmxvYikge1xuICAgICAgbG9nZ2VyLmxvZyhcIkNvdWxkIG5vdCBjcmVhdGUgcmVxdWVzdCBibG9iXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsb2dnZXIubG9nKFwiUmVxdWVzdCBibG9iIHRvIHNlbmQ6IFwiLCByZXF1ZXN0QmxvYik7XG4gICAgdGhpcy5xdWV1ZUxvZ3MocmVxdWVzdEJsb2IpO1xuXG4gICAgdGhpcy5pc0xvZ2dlZCA9IHRydWU7XG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBhd2FpdCBjcmVhdGVIYXNoU3RyaW5nKEpTT04uc3RyaW5naWZ5KHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYSkpO1xuICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBhd2FpdCBjcmVhdGVIYXNoU3RyaW5nKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmUpKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUxhdGVzdENoYW5nZXMoKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxvZ2dlci5sb2coXCJDaGVja2luZyBpZiB0aGVyZSBhcmUgY2hhbmdlc1wiKTtcblxuICAgIGNvbnN0IGFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2ggPSBhd2FpdCBjcmVhdGVIYXNoU3RyaW5nKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmEpKTtcbiAgICBjb25zdCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2ggPSBhd2FpdCBjcmVhdGVIYXNoU3RyaW5nKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmUpKTtcblxuICAgIGlmIChhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoICE9PSB0aGlzLmFwcGxpZWRUcmVhdG1lbnRzSGFzaCkge1xuICAgICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPSB0cnVlO1xuICAgICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoO1xuICAgIH1cbiAgICBpZiAoZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoICE9PSB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoKSB7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2g7XG4gICAgfVxuICB9XG5cbiAgcGFja2FnZUxvZ0RhdGEobWVzc2FnZSA9IG51bGwpIHtcbiAgICBjb25zdCB7aGVhZGVyc30gPSB0aGlzO1xuICAgIGNvbnN0IGJvZHkgPSB7Li4ud2luZG93LmJlYWdsZUluZm9MYXllcn07XG4gICAgY29uc3QgbSA9IG1lc3NhZ2UgPyBtZXNzYWdlIDogT2JqZWN0LmtleXMoYm9keS5hIHx8IHt9KS5sZW5ndGggPyBcIlRyZWF0bWVudHMgYXBwbGllZFwiIDogXCJObyB0cmVhdG1lbnRzIGFwcGxpZWRcIjtcbiAgICBib2R5LnQgPSBEYXRlLm5vdygpO1xuICAgIGJvZHkubSA9IG07XG5cbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBwYWNrYWdlVXBkYXRlTG9nRGF0YSgpIHtcbiAgICBjb25zdCB7aGVhZGVycywgYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzLCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlc30gPSB0aGlzO1xuICAgIGlmICghYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzICYmICFlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcykgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICB0OiBEYXRlLm5vdygpLFxuICAgICAgYTogYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID8gd2luZG93LmJlYWdsZUluZm9MYXllci5hIDoge30sXG4gICAgICBlOiBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA/IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuZSA6IHt9LFxuICAgICAgdklkOiB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLnZJZCxcbiAgICB9O1xuICAgIHJldHVybiBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoYm9keSldLCBoZWFkZXJzKTtcbiAgfVxuXG4gIGluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxldCBpc0V4aXRFdmVudENhcHR1cmVkID0gZmFsc2U7XG4gICAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBleGl0IGV2ZW50IGxpc3RlbmVyXCIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImJlZm9yZXVubG9hZFwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBiZWZvcmV1bmxvYWQgZXZlbnRcIik7XG4gICAgICAgICAgY29uc3QgbG9nRGF0YSA9IHRoaXMucGFja2FnZVVwZGF0ZUxvZ0RhdGEoKTtcbiAgICAgICAgICBpZiAoIWxvZ0RhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJObyBjaGFuZ2VzIHRvIGxvZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5xdWV1ZUxvZ3MobG9nRGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIHtjYXB0dXJlOiB0cnVlfSxcbiAgICApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcInBhZ2VoaWRlXCIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuaXNMb2dnZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0V4aXRFdmVudENhcHR1cmVkKSByZXR1cm47XG4gICAgICAgICAgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluIHBhZ2VoaWRlIGV2ZW50XCIpO1xuICAgICAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLnBhY2thZ2VVcGRhdGVMb2dEYXRhKCk7XG4gICAgICAgICAgaWYgKCFsb2dEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gY2hhbmdlcyB0byBsb2dcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7Y2FwdHVyZTogdHJ1ZX0sXG4gICAgKTtcbiAgfVxuXG4gIHF1ZXVlTG9ncyhsb2dEYXRhKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuXG4gICAgaWYgKCFpc1NlbmRCZWFjb25TdXBwb3J0ZWQoKSkge1xuICAgICAgZmV0Y2goTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgY29uc3QgcXVldWVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICghcXVldWVkKSBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3MgcXVldWVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIH1cbiAgICB9LCAxMCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHF1ZXVlSW50ZXJ2YWwpO1xuICAgICAgaWYgKCFxdWV1ZWQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3Mgbm90IHF1ZXVlZFwiKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb25pdG9yO1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZUywgVFJFQVRNRU5UU19EVVJBVElPTiwgTU9CSUxFX01FRElBX1FVRVJZfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2ZldGNoVHJlYXRtZW50cywgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgVHJlYXRtZW50IFJlcG9zaXRvcnlcIik7XG5cbmNsYXNzIFRyZWF0bWVudFJlcG9zaXRvcnkge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgY29uc3Qge2Nvb2tpZVBjdCwgdHJlYXRtZW50cywgdHJlYXRtZW50V2VpZ2h0c30gPSBib2R5O1xuICAgIHRoaXMudHJlYXRtZW50cyA9IHRyZWF0bWVudHM7XG4gICAgdGhpcy5jb29raWVQY3QgPSBjb29raWVQY3Q7XG5cbiAgICB0aGlzLnRyZWF0bWVudFdlaWdodHMgPSB0cmVhdG1lbnRXZWlnaHRzO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFRyZWF0bWVudHMoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkxvYWRpbmcgdHJlYXRtZW50c1wiKTtcbiAgICBjb25zdCB7VFJFQVRNRU5UU30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgICBjb25zdCB0cmVhdG1lbnRzT2JqID0gSlNPTi5wYXJzZSh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShUUkVBVE1FTlRTKSk7XG4gICAgbGV0IHRyZWF0bWVudHMgPSB0cmVhdG1lbnRzT2JqPy50cmVhdG1lbnRzO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IHRyZWF0bWVudHNPYmo/LnRpbWVzdGFtcDtcbiAgICBpZiAoIXRyZWF0bWVudHMgfHwgIXRpbWVzdGFtcCkge1xuICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgbm90IGZvdW5kIGluIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICBjb25zdCB0cmVhdG1lbnRXaXRoVGltZXN0YW1wID0ge1xuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHRyZWF0bWVudHMsXG4gICAgICB9O1xuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gICAgfVxuICAgIGlmICh0aW1lc3RhbXApIHtcbiAgICAgIGNvbnN0IGVsYXBzZWREYXlzID0gKERhdGUubm93KCkgLSB0aW1lc3RhbXApIC8gKDEwMDAgKiAzNjAwICogMjQpO1xuICAgICAgaWYgKGVsYXBzZWREYXlzID4gVFJFQVRNRU5UU19EVVJBVElPTikge1xuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50cyBhcmUgZXhwaXJlZFwiKTtcbiAgICAgICAgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoVHJlYXRtZW50cygpO1xuICAgICAgICBjb25zdCB0cmVhdG1lbnRXaXRoVGltZXN0YW1wID0ge1xuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICB0cmVhdG1lbnRzLFxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShUUkVBVE1FTlRTLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnRXaXRoVGltZXN0YW1wKSk7XG4gICAgICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICAgICAgfVxuICAgIH1cbiAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50cyBhcmUgbG9hZGVkIGZyb20gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRXZWlnaHRzKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIud2FybihlcnIubWVzc2FnZSk7XG4gICAgICB0aGlzLnRyZWF0bWVudFdlaWdodHMgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1hdGNoZWRUcmVhdG1lbnRzKCkge1xuICAgIGNvbnN0IHRyZWF0bWVudFdlaWdodHMgPSB0aGlzLnRyZWF0bWVudFdlaWdodHM7XG4gICAgY29uc3QgdXNlckdyb3VwID0gdGhpcy5nZXRVc2VyR3JvdXAoKTtcbiAgICBjb25zdCB0cmVhdG1lbnRzID0gdGhpcy50cmVhdG1lbnRzO1xuICAgIGlmICh0cmVhdG1lbnRXZWlnaHRzKSB7XG4gICAgICBjb25zdCB1c2VyR3JvdXBXZWlnaHRzID0gKHVzZXJHcm91cCAmJiB0cmVhdG1lbnRXZWlnaHRzW3VzZXJHcm91cF0pID9cbiAgICAgIHRyZWF0bWVudFdlaWdodHNbdXNlckdyb3VwXSA6IHRyZWF0bWVudFdlaWdodHNbXCJkZWZhdWx0XCJdO1xuICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgdHJlYXRtZW50cykge1xuICAgICAgICAvLyBUcmVhdG1lbnQgd2VpZ2h0IGNhbiBiZSBzZXQgdG8gMCBpZiBub24tZXhpc3RlbnQgaW4gdXNlciBncm91cFxuICAgICAgICAvLyBpZiAoIXVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXSkgdHJlYXRtZW50LndlaWdodCA9IDA7XG4gICAgICAgIGlmICghdXNlckdyb3VwV2VpZ2h0c1t0cmVhdG1lbnQuaWRdKSBjb250aW51ZTtcbiAgICAgICAgdHJlYXRtZW50LndlaWdodCA9IHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXS53ZWlnaHQ7XG4gICAgICAgIGlmICh0cmVhdG1lbnQuYWN0aW9ucy5maW5kKChhKSA9PiBhLnZhcmlhbnRzKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIHRyZWF0bWVudC5hY3Rpb25zKSB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnZhcmlhbnRzKSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgdmFyaWFudEtleSBvZiBPYmplY3Qua2V5cyhhY3Rpb24udmFyaWFudHMpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCA9IHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXS52YXJpYW50c1t2YXJpYW50S2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxvZ2dlci5sb2coYCR7dHJlYXRtZW50cy5sZW5ndGh9IHRyZWF0bWVudHMgdXNlciBncm91cCBtYXRjaGVkYCk7XG4gICAgaWYgKCF0cmVhdG1lbnRzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICB9XG5cbiAgZ2V0VXNlckdyb3VwKCkge1xuICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzO1xuICAgIGlmIChpc01vYmlsZSkgcmV0dXJuIFwiVUdCXCI7XG4gICAgcmV0dXJuIFwiVUdBXCI7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJlYXRtZW50UmVwb3NpdG9yeTtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIExPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQ291bnRlciBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tDb3VudGVyUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJwYWdlVmlld1wiOlxuICAgICAgcmV0dXJuIHBhZ2VWaWV3SGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiQ0FCYXNrZXRQcmljZVwiOlxuICAgICAgcmV0dXJuIGNhQmFza2V0UHJpY2VIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCBvcGVyYXRvclwiLCBvcGVyYXRvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmNvbnN0IGdldENvdW50ZXIgPSAoY291bnRlciwgdHlwZSkgPT4ge1xuICB0cnkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oY291bnRlcik7XG4gICAgICBjYXNlIFwibG9jYWxcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvdW50ZXIpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggdHlwZVwiLCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIubG9nKGBDb3VsZCBub3QgZ2V0IGNvdW50ZXIgJHtjb3VudGVyfWAsIGVycik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IHBhZ2VWaWV3SGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IHBhZ2VWaWV3cyA9IHBhcnNlSW50KGdldENvdW50ZXIoU0VTU0lPTl9TVE9SQUdFX0tFWVMuUEFHRV9WSUVXUywgXCJzZXNzaW9uXCIpKTtcbiAgbG9nZ2VyLmxvZyhcIlBhZ2Ugdmlld3MgY291bnRlciB2YWx1ZTogXCIsIHBhZ2VWaWV3cyk7XG4gIGlmIChwYWdlVmlld3MgPT09IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKFwiUGFnZXZpZXdzIGNvdW50ZXIgbm90IGZvdW5kIGluIHNlc3Npb24gc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocGFnZVZpZXdzLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG5jb25zdCBjYUJhc2tldFByaWNlSGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGNhQmFza2V0UHJpY2UgPSBwYXJzZUludChcbiAgICAgIGdldENvdW50ZXIoTE9DQUxfU1RPUkFHRV9LRVlTLkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgXCJsb2NhbFwiKSk7XG4gIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgcHJpY2UgY291bnRlciB2YWx1ZTogXCIsIGNhQmFza2V0UHJpY2UpO1xuICBpZiAoY2FCYXNrZXRQcmljZSA9PT0gbnVsbCkge1xuICAgIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgcHJpY2UgY291bnRlciBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY2FCYXNrZXRQcmljZSwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRWxlbWVudCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tFbGVtZW50UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWUsIHNlbGVjdG9yLCBzZWxlY3RvckFsbCwgc2VsZWN0b3JGYWxsYmFjayA9IG51bGx9ID0gcnVsZTtcbiAgbGV0IG1haW5TZWxlY3RvciA9IHNlbGVjdG9yO1xuICBpZiAobWFpblNlbGVjdG9yICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBtYWluU2VsZWN0b3IgPSBzZWxlY3RvckZhbGxiYWNrID8gc2VsZWN0b3JGYWxsYmFjayA6IG1haW5TZWxlY3RvcjtcbiAgfVxuXG4gIGlmIChvcGVyYXRvciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gIH1cbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoc2VsZWN0b3JBbGwgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBlbGVtZW50O1xuICBpZiAobWFpblNlbGVjdG9yKSBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpO1xuICBlbHNlIGlmIChzZWxlY3RvckFsbCkgZWxlbWVudCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvckFsbCkpO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwidGV4dC1udW1iZXJcIjoge1xuICAgICAgbGV0IHRlbXBWYWw7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgICAgICB0ZW1wVmFsID0gZWxlbWVudC5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICAgIHJldHVyblZhbCArPSBwYXJzZUludChlbGVtLnRleHRDb250ZW50LnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wVmFsID0gcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLnRleHRDb250ZW50XG4gICAgICAgICAgICAucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IHBhcnNlSW50KHRlbXBWYWwpO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcImNsYXNzTGlzdFwiOlxuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoQXJyYXkuZnJvbShlbGVtZW50LmNsYXNzTGlzdCksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJjb3VudFwiOiB7XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBBcnJheS5pc0FycmF5KGVsZW1lbnQpID8gZWxlbWVudC5sZW5ndGggOiBlbGVtZW50ID8gMSA6IDA7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmxvZyhcIk9wZXJhdG9yIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRnVuY3Rpb24gQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRnVuY3Rpb25SdWxlID0gKHJ1bGUsIG9wdHMpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtwcm9kdWN0SW5mb30gPSBvcHRzO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWUsIGJpbmRpbmdzfSA9IHJ1bGU7XG4gIGlmICghb3BlcmF0b3IpIHtcbiAgICBsb2dnZXIubG9nKFwiUnVsZSBmdW5jdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGNvbnRleHQgPSB7fTtcbiAgaWYgKGJpbmRpbmdzID09IFwicHJvZHVjdEluZm9cIikge1xuICAgIGNvbnRleHQgPSB7XG4gICAgICBwcm9kdWN0SW5mbyxcbiAgICB9O1xuICB9XG4gIGNvbnN0IHJ1bGVGdW5jdGlvbiA9IEZ1bmN0aW9uKG9wZXJhdG9yKS5iaW5kKGNvbnRleHQpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBydWxlRnVuY3Rpb24oKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBTZXNzaW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1Nlc3Npb25SdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICByZXR1cm4gZHVyYXRpb25IYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJoaXN0b3J5XCI6XG4gICAgICByZXR1cm4gaGlzdG9yeUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBnZXRTZXNzaW9uVGltZXN0YW1wID0gKCkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludCh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1RJTUVTVEFNUCkpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkNvdWxkIG5vdCBnZXQgc2Vzc2lvbiB0aW1lc3RhbXBcIiwgZXJyKTtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxufTtcblxuY29uc3QgZHVyYXRpb25IYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgZHVyYXRpb24gPSAoRGF0ZS5ub3coKSAtIGdldFNlc3Npb25UaW1lc3RhbXAoKSkgLyAxMDAwO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkdXJhdGlvbiwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgaGlzdG9yeUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjdXJyZW50SGlzdG9yeSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSElTVE9SWSk/LnNwbGl0KFwiLFwiKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY3VycmVudEhpc3RvcnksIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBFbnYgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRW52UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImRldmljZV90eXBlXCI6IHtcbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzID8gXCJtb2JpbGVcIiA6IFwiZGVza3RvcFwiO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoaXNNb2JpbGUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlciwgZGV0ZXJtaW5lUGN0LCBnZXRJZGVudGlmaWVyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgUmFuZG9tUGN0IENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1JhbmRvbU51bWJlclJ1bGUgPSBhc3luYyAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge2NvbmRpdGlvbiwgdmFsdWUsIHNhbHR9ID0gcnVsZTtcbiAgaWYgKCFzYWx0KSB7XG4gICAgbG9nZ2VyLmxvZyhcIlNhbHQgaXMgbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGlkZW50aWZpZXIgPSBhd2FpdCBnZXRJZGVudGlmaWVyKCk7XG4gIGNvbnN0IHJhbmRvbVBjdCA9IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgc2FsdCk7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IHJhbmRvbVBjdDtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge2NoZWNrQ291bnRlclJ1bGV9IGZyb20gXCIuL2NvdW50ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRGF0YUxheWVyUnVsZX0gZnJvbSBcIi4vZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VsZW1lbnRSdWxlfSBmcm9tIFwiLi9lbGVtZW50Q2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0Z1bmN0aW9uUnVsZX0gZnJvbSBcIi4vZnVuY3Rpb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrU2Vzc2lvblJ1bGV9IGZyb20gXCIuL3Nlc3Npb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrVXJsUnVsZX0gZnJvbSBcIi4vdXJsQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VudlJ1bGV9IGZyb20gXCIuL2VudkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tSYW5kb21OdW1iZXJSdWxlfSBmcm9tIFwiLi9yYW5kb21OdW1iZXJDaGVja2VyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFJ1bGUgRW5naW5lXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSdWxlRW5naW5lIHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHtiYXNlUnVsZVNldCwgYnVzaW5lc3NSdWxlU2V0LCBiaW5kaW5ncywgY2FsbGJhY2sgPSBudWxsfSA9IGJvZHk7XG4gICAgdGhpcy5iYXNlUnVsZVNldCA9IGJhc2VSdWxlU2V0O1xuICAgIHRoaXMuYnVzaW5lc3NSdWxlU2V0ID0gYnVzaW5lc3NSdWxlU2V0O1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmJpbmRpbmdzID0gYmluZGluZ3M7XG4gIH1cblxuICBhc3luYyBjaGVja1J1bGVzKCkge1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiB0aGlzLmJhc2VSdWxlU2V0KSB7XG4gICAgICBjb25zdCBydWxlU2F0aXNmaWVkID0gYXdhaXQgdGhpcy5jaGVja1J1bGUocnVsZSk7XG4gICAgICBpZiAoIXJ1bGVTYXRpc2ZpZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGFzeW5jIGNoZWNrQnVzaW5lc3NSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5idXNpbmVzc1J1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmIChydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBydWxlLmJ1c2luZXNzUnVsZUlkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGFzeW5jIGNoZWNrUnVsZShydWxlKSB7XG4gICAgY29uc3Qge2NoYWluLCBjaGFpbl9jb25kaXRpb24sIHR5cGV9ID0gcnVsZTtcbiAgICBsZXQgcnVsZVNhdGlzZmllZCA9IG51bGw7XG4gICAgLy8gY2hlY2sgcnVsZVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrU2Vzc2lvblJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNvdW50ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrQ291bnRlclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVsZW1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRWxlbWVudFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRhdGFMYXllclwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1cmxcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrVXJsUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRnVuY3Rpb25SdWxlKHJ1bGUsIHRoaXMuYmluZGluZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbnZpcm9ubWVudFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tFbnZSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyYW5kb21cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGF3YWl0IGNoZWNrUmFuZG9tTnVtYmVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIubG9nKGBObyBzdWNoIHJ1bGUgdHlwZTogJHt0eXBlfWApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoY2hhaW4pIHtcbiAgICAgIHN3aXRjaCAoY2hhaW5fY29uZGl0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJhbmRcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAmJiBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkIHx8IGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkICE9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCBjaGFpbiBjb25kaXRpb25cIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlU2F0aXNmaWVkO1xuICB9XG59XG4iLCJpbXBvcnQge3NrdUNvbGxlY3Rvcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge0xPT0tVUF9BUElfVVJMfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEFwaVwiKTtcblxuZXhwb3J0IGNvbnN0IHByb2R1Y3RJbmZvTG9va3VwID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgcHJvZHVjdCBpbmZvIGxvb2t1cFwiKTtcbiAgY29uc3Qgc2t1TGlzdCA9IHNrdUNvbGxlY3RvcigpO1xuICBpZiAoIXNrdUxpc3QpIHtcbiAgICBsb2dnZXIubG9nKFwiTm8gc2t1IGZvdW5kXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBoZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gIGxldCBwcm9kdWN0SW5mbztcbiAgdHJ5IHtcbiAgICBwcm9kdWN0SW5mbyA9IGF3YWl0IGZldGNoKExPT0tVUF9BUElfVVJMLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCksXG4gICAgICBoZWFkZXJzLFxuICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIud2FybihcIkZldGNoIHRvIGNhdGFsb2cgYXBpIGZhaWxlZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIXByb2R1Y3RJbmZvLm9rKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyBsb29rdXAgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHByb2R1Y3RJbmZvID0gYXdhaXQgcHJvZHVjdEluZm8uanNvbigpO1xuICBpZiAoIXByb2R1Y3RJbmZvKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyBleHRyYWN0aW9uIGZyb20gcmVzcG9uc2UgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxvZ2dlci5sb2coXCJQcm9kdWN0IGluZm8gbG9va3VwIHN1Y2Nlc3NmdWxcIik7XG4gIHJldHVybiBwcm9kdWN0SW5mbztcbn07XG4iLCJpbXBvcnQgYXBwbHlUcmVhdG1lbnRzIGZyb20gXCIuLi9OZXh0ZGF5QXBwbHlUcmVhdG1lbnRzL2luZGV4XCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBNb25pdG9yIGZyb20gXCIuLi9OZXh0ZGF5TW9uaXRvci9pbmRleFwiO1xuaW1wb3J0IFRyZWF0bWVudFJlcG9zaXRvcnkgZnJvbSBcIi4uL05leHRkYXlUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4XCI7XG5pbXBvcnQgUnVsZUVuZ2luZSBmcm9tIFwiLi4vTmV4dGRheVJ1bGVFbmdpbmVcIjtcbmltcG9ydCB7cHJvZHVjdEluZm9Mb29rdXB9IGZyb20gXCIuLi9OZXh0ZGF5QXBpXCI7XG5pbXBvcnQge1xuICBjaGVja3BvaW50LFxuICBjaGVja3BvaW50cyxcbiAgYWRkQXBwbGllZFRyZWF0bWVudCxcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIsXG4gIHJlbW92ZUZyb21CZWFnbGVJbmZvTGF5ZXIsXG4gIGFkZEVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudCxcbiAgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcixcbn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgTU9CSUxFX01FRElBX1FVRVJZLFxuICBTUExJVF9SQVRJTyxcbiAgTE9DQUxfU1RPUkFHRV9LRVlTLFxuICBUUkVBVE1FTlRfUkFUSU8sXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTixcbn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgZ2V0SWRlbnRpZmllcixcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMsXG4gIGluamVjdFN0eWxlU2hlZXQsXG4gIHJlbW92ZURvY3VtZW50SGlkZSxcbiAgZGV0ZXJtaW5lUGN0LFxuICBwcmVwYXJlQWN0aW9ucyxcbiAgZ2V0RGVidWdNb2RlLFxuICBpc1NlbmRCZWFjb25TdXBwb3J0ZWQsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuXG4oYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuQmVhZ2xlTG9hZGVkKTtcbiAgbGV0IG1vbml0b3IgPSBudWxsO1xuICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4gIGNvbnN0IHtUSU1FT1VUX0NPVU5UfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICBsZXQgdGltZW91dENvdW50ZXIgPSAwO1xuICBsb2dnZXIuaW5mbyhcIk5leHRkYXkgaW5pdGlhbGl6aW5nXCIpO1xuICB0cnkge1xuICAgIGluaXRpYWxpemVCZWFnbGVJbmZvTGF5ZXIoKTtcbiAgICBjb25zdCBwcm9kdWN0SW5mb1Byb21pc2UgPSBwcm9kdWN0SW5mb0xvb2t1cCgpO1xuICAgIC8vIGNoZWNrIGlmIGRlYnVnIG1vZGUgaXMgb24sIGFsc28gYWRkcyBkYm0gdG8gYmVhZ2xlSW5mb0xheWVyXG4gICAgY29uc3QgZGVidWdNb2RlID0gZ2V0RGVidWdNb2RlKCk7XG4gICAgbW9uaXRvciA9IG5ldyBNb25pdG9yKCk7XG4gICAgY2hlY2twb2ludChjaGVja3BvaW50cy5Jbml0aWFsaXplZCk7XG5cbiAgICBjb25zdCBpZGVudGlmaWVyID0gYXdhaXQgZ2V0SWRlbnRpZmllcigpO1xuICAgIGxvZ2dlci5sb2coXCJGb3VuZCBjb29raWUgaWRlbnRpZmllcjogXCIsIGlkZW50aWZpZXIpO1xuICAgIGNvbnN0IGNvb2tpZVBjdCA9IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyKTtcbiAgICBpZiAoIWRlYnVnTW9kZSkge1xuICAgICAgaWYgKGNvb2tpZVBjdCA8IFNQTElUX1JBVElPKSB7XG4gICAgICAgIGlmIChjb29raWVQY3QgPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGRldGVybWluZSBjb29raWUgcGN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiaXNPblwiLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpc09uXCIsIHRydWUpO1xuXG4gICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlVzZXJPbk9mZik7XG5cbiAgICAgIGlmICghaXNTZW5kQmVhY29uU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2VuZEJlYWNvbiBpcyBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgfVxuXG4gICAgICB0aW1lb3V0Q291bnRlciA9IHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVElNRU9VVF9DT1VOVCkpIHx8IDA7XG4gICAgICBpZiAodGltZW91dENvdW50ZXIgPiBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTikge1xuICAgICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV4dGRheSB0aW1lb3V0IHRocmVzaG9sZCByZWFjaGVkXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuaW5mbyhcIkRlYnVnIG1vZGUgb246IGFsbCBhcHBsaWNhYmxlIHRyZWF0bWVudHMgd2lsbCBiZSBhcHBsaWVkXCIpO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIH1cblxuICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcIm5leHREYXktaGlkZVwiKSkge1xuICAgICAgY2hlY2twb2ludChjaGVja3BvaW50cy5TY3JpcHRUaW1lT3V0KTtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVElNRU9VVF9DT1VOVCwgdGltZW91dENvdW50ZXIgKyAxKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5leHRkYXkgc2NyaXB0IHRpbWVkIG91dFwiKTtcbiAgICB9XG5cbiAgICAvLyBWaXZlbnNlIHNwZWNpZmljXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhZG1pbiwgbWFraW5nIHRoZW0gb3V0IG9mIHNjb3BlXG4gICAgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LnZ2c0lzU2hvd3Jvb20pIHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuT1VUX09GX1NDT1BFLCB0cnVlKTtcbiAgICB9XG4gICAgLy8gVml2ZW5zZSBzcGVjaWZpY1xuXG4gICAgY29uc3QgaXNPdXRPZlNjb3BlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUpO1xuICAgIGlmIChpc091dE9mU2NvcGUgPT09IFwidHJ1ZVwiKSB7XG4gICAgICBsb2dnZXIud2FybihcIlVzZXIgaXMgb3V0IG9mIHNjb3BlXCIpO1xuICAgICAgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllcihcImlzT25cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIgPSB3aW5kb3cuZGF0YUxheWVyIHx8IFtdO1xuICAgICAgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LmlzT24gPT09IHRydWUpIHtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwidHJ1ZVwifSk7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LmlzT24gPT09IGZhbHNlKSB7XG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcImZhbHNlXCJ9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAod2luZG93LmJlYWdsZUluZm9MYXllci5pc09uID09PSBmYWxzZSkgdGhyb3cgbmV3IEVycm9yKFwiQ29udHJvbCBncm91cDogbm8gdHJlYXRtZW50cyBhcHBsaWVkXCIpO1xuICAgIG1vbml0b3Iuc2VuZExvZ3MoKTtcblxuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgY29uc3QgZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgPSBkZWJ1Z01vZGUgPyBzZWFyY2hQYXJhbXMuaW5jbHVkZXMoXCJmaWx0ZXI9XCIpID8gc2VhcmNoUGFyYW1zLnNsaWNlKFxuICAgICAgICBzZWFyY2hQYXJhbXMuaW5kZXhPZihcIltcIikgKyAxLFxuICAgICAgICBzZWFyY2hQYXJhbXMubGFzdEluZGV4T2YoXCJdXCIpLFxuICAgICkuc3BsaXQoXCIsXCIpLm1hcCgoaXRlbSkgPT4gcGFyc2VJbnQoaXRlbSwgMTApKTogbnVsbCA6IG51bGw7XG5cbiAgICBpbmplY3RTdHlsZVNoZWV0KCk7XG4gICAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIH0sIDIwMDApO1xuICAgIGNvbnN0IHRyZWF0bWVudHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRzKCk7XG4gICAgY29uc3QgdHJlYXRtZW50V2VpZ2h0c1Byb21pc2UgPSBUcmVhdG1lbnRSZXBvc2l0b3J5LmdldFRyZWF0bWVudFdlaWdodHMoKTtcbiAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICBjb25zdCBPQlNFUlZFUl9DT05GSUcgPSB7c3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfTtcblxuICAgIGNvbnN0IGVuZ2FnZVRyZWF0bWVudCA9IGFzeW5jICh0cmVhdG1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGFjdGlvbnMsXG4gICAgICAgIGJhc2VSdWxlU2V0LFxuICAgICAgICBkZXZpY2UsXG4gICAgICAgIGRlcGVuZGFudF9vbl90cmVhdG1lbnQsXG4gICAgICAgIHJlYXBwbHlfZXZlbnQsXG4gICAgICAgIGJ1c2luZXNzUnVsZVNldCxcbiAgICAgICAgd2VpZ2h0LFxuICAgICAgICBkZWxheSxcbiAgICAgIH0gPSB0cmVhdG1lbnQ7XG4gICAgICBpZiAoZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgJiYgIWRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGV2aWNlID09PSBcIm1vYmlsZVwiICYmICFpc01vYmlsZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IGRldmljZSAnbW9iaWxlJyBtaXNtYXRjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRldmljZSA9PT0gXCJkZXNrdG9wXCIgJiYgaXNNb2JpbGUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBkZXZpY2UgJ2Rlc2t0b3AnIG1pc21hdGNoXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocmVhcHBseV9ldmVudCkge1xuICAgICAgICBsZXQgcmVhcHBseV9ldmVudF9hcnJheSA9IHJlYXBwbHlfZXZlbnQ7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWFwcGx5X2V2ZW50KSkgcmVhcHBseV9ldmVudF9hcnJheSA9IFtyZWFwcGx5X2V2ZW50XTtcbiAgICAgICAgbG9nZ2VyLmxvZyhgUmVhcHBseSBldmVudCAnJHtyZWFwcGx5X2V2ZW50fScgZm91bmQgZm9yIHRyZWF0bWVudDogJHtpZH1gKTtcbiAgICAgICAgZm9yIChjb25zdCByZWFwcGx5RXZlbnQgb2YgcmVhcHBseV9ldmVudF9hcnJheSkge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID9cbiAgICAgICAgICAgICAgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA6IFtdO1xuICAgICAgICAgIGlmIChwcmV2aW91c1ZhbHVlLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBhbHJlYWR5IGFkZGVkIGZvciByZWFwcGx5IGV2ZW50XCIpO1xuICAgICAgICAgIH0gZWxzZSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID0gWy4uLnByZXZpb3VzVmFsdWUsIGlkXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgYmluZGluZ3MgPSB7cHJvZHVjdEluZm99O1xuICAgICAgY29uc3QgcnVsZUVuZ2luZSA9IG5ldyBSdWxlRW5naW5lKHtiYXNlUnVsZVNldCwgYnVzaW5lc3NSdWxlU2V0LCBiaW5kaW5nc30pO1xuICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIGJhc2UgcnVsZSBzZXQgY2hlY2sgZm9yIHRyZWF0bWVudDogXCIgKyBpZCk7XG4gICAgICBpZiAoIWJhc2VSdWxlU2V0IHx8IGF3YWl0IHJ1bGVFbmdpbmUuY2hlY2tSdWxlcygpKSB7XG4gICAgICAgIGxldCB0cmVhdG1lbnRTa2lwUmF0aW8gPSB3ZWlnaHQgPT09IDEwMCA/IDAgOiAoMTAwIC0gd2VpZ2h0IHx8IFRSRUFUTUVOVF9SQVRJTyk7XG4gICAgICAgIGlmIChkZXBlbmRhbnRfb25fdHJlYXRtZW50KSB7XG4gICAgICAgICAgLy8gSWYgZGVwZW5kYW50IG9uIHRyZWF0bWVudCBpcyBmb3VuZCBhbmQgaGFzIHdlaWdodDsgdXNlIGl0cyBza2lwIHJhdGlvXG4gICAgICAgICAgY29uc3QgZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHQgPSBtYXRjaGVkVHJlYXRtZW50cy5maW5kKCh0KSA9PiB0LmlkID09PSBkZXBlbmRhbnRfb25fdHJlYXRtZW50KT8ud2VpZ2h0O1xuICAgICAgICAgIHRyZWF0bWVudFNraXBSYXRpbyA9IGRlcGVuZGFudE9uVHJlYXRtZW50V2VpZ2h0ID09PSAxMDAgPyAwIDogKDEwMCAtIGRlcGVuZGFudE9uVHJlYXRtZW50V2VpZ2h0fHxcbiAgICAgICAgICAgIFRSRUFUTUVOVF9SQVRJTyk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBza2lwIHJhdGlvOiBcIiArIHRyZWF0bWVudFNraXBSYXRpbyk7XG4gICAgICAgIC8vIERldGVybWluaW5nIGlkZW50aWZpZXIgZm9yIGNhbGN1bGF0aW5nIHRyZWF0bWVudCBwZXJjZW50YWdlICh0cmVhdG1lbnRQY3QpXG4gICAgICAgIGNvbnN0IGRldGVybWluaW5nSWRlbnRpZmllciA9IGRlcGVuZGFudF9vbl90cmVhdG1lbnQgfHwgaWQ7XG5cbiAgICAgICAgLy8gdHJlYXRtZW50UGN0IGlzIHRoZSBwZXJjZW50YWdlIHZhbHVlIGZvciB0aGUgdHJlYXRtZW50IHVzZWQgdG8gZGV0ZXJtaW5lIGlmIGl0IHNob3VsZCBiZSBza2lwcGVkIG9yIG5vdFxuICAgICAgICAvLyB0cmVhdG1lbnRQY3QgaXMgMTAwIHdoZW4gZGVidWcgbW9kZSBpcyAxLCBlbnN1cmluZyBubyB0cmVhdG1lbnRzIGFyZSBza2lwcGVkXG4gICAgICAgIGNvbnN0IHRyZWF0bWVudFBjdCA9IGRlYnVnTW9kZSA9PT0gMSA/IDEwMCA6IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgZGV0ZXJtaW5pbmdJZGVudGlmaWVyKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudFBjdDogXCIgKyB0cmVhdG1lbnRQY3QgKyBgIHdpdGggZGVidWcgbW9kZSAke2RlYnVnTW9kZSA/IFwib25cIiA6IFwib2ZmXCJ9YCk7XG4gICAgICAgIGxldCBidXNpbmVzc1J1bGVJZCA9IG51bGw7XG4gICAgICAgIGlmIChidXNpbmVzc1J1bGVTZXQpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgc3ViIHZhcmlhbnQgcnVsZSBzZXQgY2hlY2sgZm9yIHRyZWF0bWVudDogXCIgKyBpZCk7XG4gICAgICAgICAgYnVzaW5lc3NSdWxlSWQgPSBhd2FpdCBydWxlRW5naW5lLmNoZWNrQnVzaW5lc3NSdWxlcygpO1xuICAgICAgICAgIGlmIChidXNpbmVzc1J1bGVJZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIGJ1c2luZXNzIHJ1bGUgdHJhbnNmb3JtYXRpb24gd2l0aCBpZDogXCIsIGJ1c2luZXNzUnVsZUlkKTtcbiAgICAgICAgICB9IGVsc2UgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHRyZWF0bWVudCB3aXRoIGRlZmF1bHQgdmFsdWVzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmVhdG1lbnRQY3QgPCB0cmVhdG1lbnRTa2lwUmF0aW8pIHtcbiAgICAgICAgICBsb2dnZXIubG9nKGBUcmVhdG1lbnQgJHtpZH0gc2tpcHBlZCBkdWUgdG8gdHJlYXRtZW50IHNwbGl0IHJhdGlvYCk7XG4gICAgICAgICAgYWRkRWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50KGlkLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwZW5kYW50X29uX3RyZWF0bWVudDogKGRlcGVuZGFudF9vbl90cmVhdG1lbnQgfHwgbnVsbCksXG4gICAgICAgICAgICAgICAgYnVzaW5lc3NSdWxlSWQsXG4gICAgICAgICAgICAgICAgdmFyaWFudCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtwcmVwYXJlZCwgdmFyaWFudF0gPSBhd2FpdCBwcmVwYXJlQWN0aW9ucyhpZGVudGlmaWVyLCBhY3Rpb25zLCBidXNpbmVzc1J1bGVJZCk7XG4gICAgICAgIGlmIChkZWxheSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgYXBwbHlUcmVhdG1lbnRzKHByZXBhcmVkLCBwcm9kdWN0SW5mbyk7XG4gICAgICAgICAgICBhZGRBcHBsaWVkVHJlYXRtZW50KGlkLCB7YnVzaW5lc3NSdWxlSWQsIHZhcmlhbnR9KTtcbiAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGFwcGx5VHJlYXRtZW50cyhwcmVwYXJlZCwgcHJvZHVjdEluZm8pO1xuICAgICAgICBhZGRBcHBsaWVkVHJlYXRtZW50KGlkLCB7YnVzaW5lc3NSdWxlSWQsIHZhcmlhbnR9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcIlJ1bGUgY2hlY2sgZmFpbGVkIGZvciB0cmVhdG1lbnQ6IFwiLCBpZCk7XG4gICAgfTtcblxuICAgIC8vIFRlbXBvcmFyeSBjb2RlIGJsb2NrIHRvIHRyYWNrIGNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCB0b3RhbCBwcmljZVxuICAgIC8vIFRPRE86IFJlbW92ZSBvbmNlIHRoZSBpbmZvIGNhbiBiZSBvYnRhaW5lZCB2aWEgTG9va3VwIEFQSVxuICAgIGNvbnN0IGNvbGxlY3RDQUJhc2tldFByaWNlID0gKCkgPT4ge1xuICAgICAgY29uc3Qge0NPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRX0gPSBMT0NBTF9TVE9SQUdFX0tFWVM7XG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCIvc2lwYXJpcy1saXN0ZXNpLmh0bWxcIikpIHtcbiAgICAgICAgY29uc3QgcHJpY2VFbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcmljZVwiKSk7XG4gICAgICAgIHByaWNlRWxlbWVudHMucHVzaCguLi5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3LXByaWNlXCIpKSk7XG4gICAgICAgIGlmICghcHJpY2VFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiUHJpY2UgZWxlbWVudHMgbm90IGZvdW5kXCIpO1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKFwiUHJpY2UgZWxlbWVudHM6IFwiLCBwcmljZUVsZW1lbnRzKTtcbiAgICAgICAgY29uc3QgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgPSBwcmljZUVsZW1lbnRzLnJlZHVjZSgocmV0dXJuVmFsLCBlbGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuVmFsICs9IHBhcnNlSW50KGVsZW0udGV4dENvbnRlbnQucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIHRvdGFsIHByaWNlOiBcIiwgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UpO1xuICAgICAgICBpZiAoY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgPj0gMCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgICAgICAgQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCBjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCIvc2lwYXJpcy1vemV0aS5odG1sXCIpKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2FCYXNrZXRQcmljZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UpO1xuICAgICAgICBpZiAoY2FCYXNrZXRQcmljZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbGxlY3RDQUJhc2tldFByaWNlKCk7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiTXV0YXRpb24gb2JzZXJ2ZWQsIGNhbGxpbmcgY29sbGVjdENBQmFza2V0UHJpY2VcIik7XG4gICAgICAgIGNvbGxlY3RDQUJhc2tldFByaWNlKCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGJhc2tldENoZWNrb3V0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hlY2tvdXRGb3JtXCIpO1xuICAgICAgaWYgKGJhc2tldENoZWNrb3V0Rm9ybSkgb2JzZXJ2ZXIub2JzZXJ2ZShiYXNrZXRDaGVja291dEZvcm0sIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgfVxuICAgIC8vIEVuZCBvZiB0ZW1wb3JhcnkgY29kZSBibG9ja1xuXG4gICAgY29uc3QgW3RyZWF0bWVudHMsIHRyZWF0bWVudFdlaWdodHMsIHByb2R1Y3RJbmZvXSA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBbdHJlYXRtZW50c1Byb21pc2UsIHRyZWF0bWVudFdlaWdodHNQcm9taXNlLCBwcm9kdWN0SW5mb1Byb21pc2VdKTtcblxuICAgIGxvZ2dlci5sb2coXCJGb3VuZCB0cmVhdG1lbnRzOiBcIiwgdHJlYXRtZW50cyk7XG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGNvb2tpZSBwZXJjZW50YWdlOiBcIiwgY29va2llUGN0KTtcbiAgICBsb2dnZXIubG9nKFwiU3BsaXRfcmF0aW86IFwiLCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmxvZyhcImNvb2tpZVBjdCA8IFNQTElUX1JBVElPXCIsIGNvb2tpZVBjdCA8IFNQTElUX1JBVElPKTtcbiAgICBsb2dnZXIuaW5mbyhgQ29udHJvbCBncm91cCByYXRpbzogJHtTUExJVF9SQVRJT30lYCk7XG5cbiAgICBjb25zdCB0cmVhdG1lbnRSZXBvc2l0b3J5ID0gbmV3IFRyZWF0bWVudFJlcG9zaXRvcnkoe1xuICAgICAgdHJlYXRtZW50cyxcbiAgICAgIHRyZWF0bWVudFdlaWdodHMsXG4gICAgICBjb29raWVQY3QsXG4gICAgfSk7XG4gICAgY2hlY2twb2ludChjaGVja3BvaW50cy5UcmVhdG1lbnRSZXBvc2l0b3J5Q3JlYXRlZCk7XG4gICAgY29uc3QgbWF0Y2hlZFRyZWF0bWVudHMgPSB0cmVhdG1lbnRSZXBvc2l0b3J5LmdldE1hdGNoZWRUcmVhdG1lbnRzKCk7XG4gICAgaWYgKCFtYXRjaGVkVHJlYXRtZW50cy5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJObyB0cmVhdG1lbnRzIG1hdGNoZWQsIHJldHVybmluZyB3aXRob3V0IGZ1cnRoZXIgYWN0aW9uXCIpO1xuICAgICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlQXBwbHlUcmVhdG1lbnRzTWFwID0ge307XG4gICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgbWF0Y2hlZFRyZWF0bWVudHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJFcnJvciBleGVjdXRpbmcgcnVsZXNcIiwgZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgY2hlY2twb2ludChjaGVja3BvaW50cy5UcmVhdG1lbnRzQXBwbGllZCk7XG4gICAgbG9nZ2VyLmxvZyhcIkFwcGxpZWQgdHJlYXRtZW50czogXCIsIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYSk7XG5cbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBtb25pdG9yLnVwZGF0ZUxhdGVzdENoYW5nZXMoKTtcbiAgICB9LCAxMDAwKTtcblxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlQXBwbHlUcmVhdG1lbnRzTWFwKSkge1xuICAgICAgY29uc3QgdHJlYXRtZW50SWRzID0gcmVBcHBseVRyZWF0bWVudHNNYXBba2V5XTtcbiAgICAgIGNvbnN0IHJlQXBwbHlUcmVhdG1lbnRzID0gbWF0Y2hlZFRyZWF0bWVudHMuZmlsdGVyKCh0KSA9PiB0cmVhdG1lbnRJZHMuaW5jbHVkZXModC5pZCkpO1xuICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgY2FzZSBcImluZmluaXRlX3Njcm9sbFwiOiB7XG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gaW5maW5pdGVfc2Nyb2xsYCk7XG4gICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGltZW91dFwiOiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gdGltZW91dGApO1xuICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbGVtZW50X2NoYW5nZVwiOiB7XG4gICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYXBwbHlTZWxlY3Rvckxpc3QgPSBBcnJheS5pc0FycmF5KHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yKSA/XG4gICAgICAgICAgICB0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvciA6IFt0cmVhdG1lbnQucmVhcHBseV9zZWxlY3Rvcl07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHJlYXBwbHlTZWxlY3Rvckxpc3QpIHtcbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gZWxlbWVudF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwgT0JTRVJWRVJfQ09ORklHKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25fc2Nyb2xsXCI6IHtcbiAgICAgICAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBvbl9zY3JvbGxgKTtcbiAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicXVlcnlfc2VhcmNoX2NoYW5nZVwiOiB7XG4gICAgICAgICAgbGV0IHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggIT09IHF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gcXVlcnlfc2VhcmNoX2NoYW5nZWApO1xuICAgICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgT0JTRVJWRVJfQ09ORklHKTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJSZWFwcGx5IGV2ZW50IG5vdCBmb3VuZDogXCIsIGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuUmVhcHBseVRyZWF0bWVudExpc3RlbmVycyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIGNvbnNvbGUud2FybihcIk5leHRkYXk6IFwiLCBlcnIubWVzc2FnZSk7XG4gICAgbW9uaXRvci5zZW5kTG9ncyhlcnIubWVzc2FnZSwgdHJ1ZSk7XG4gIH1cbn0pKCk7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInJ1bnRpbWUiLCJ1bmRlZmluZWQiLCJPcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIlN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZXJyIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwic2VsZiIsInRyeUxvY3NMaXN0IiwicHJvdG9HZW5lcmF0b3IiLCJHZW5lcmF0b3IiLCJnZW5lcmF0b3IiLCJjcmVhdGUiLCJjb250ZXh0IiwiQ29udGV4dCIsIl9pbnZva2UiLCJzdGF0ZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJtZXRob2QiLCJhcmciLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkVycm9yIiwiR2VuU3RhdGVDb21wbGV0ZWQiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJkb25lIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJmbiIsImNhbGwiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJ0aGlzIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VsdCIsIl9fYXdhaXQiLCJ0aGVuIiwidW53cmFwcGVkIiwiZXJyb3IiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsIlR5cGVFcnJvciIsImluZm8iLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJsb2NzIiwiZW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImxlbmd0aCIsImkiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJpdGVyIiwia2V5cyIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZ2V0IiwicHJvcCIsIl90eXBlb2YiLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIm1pbkxlbiIsInRvU3RyaW5nIiwiZnJvbSIsInRlc3QiLCJfc2xpY2VkVG9BcnJheSIsImlzQXJyYXkiLCJfaSIsIl9zIiwiX2UiLCJfYXJyIiwiX24iLCJfZCIsIl90b0NvbnN1bWFibGVBcnJheSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsIl9uZXh0IiwiX3Rocm93IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTiIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImluY2x1ZGVzIiwiTE9HX0FQSV9VUkwiLCJNT0JJTEVfTUVESUFfUVVFUlkiLCJTRVNTSU9OX1NUT1JBR0VfS0VZUyIsIkxPQ0FMX1NUT1JBR0VfS0VZUyIsIkxvZ2dlciIsIm9yaWdpbiIsIkRFQlVHIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNvbnNvbGUiLCJsb2ciLCJ3YXJuIiwibG9nZ2VyIiwiY2hlY2tEYXRhTGF5ZXJSdWxlIiwicnVsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvcGVyYXRvciIsImNvbmRpdGlvbiIsInJ1bnRpbWVWYWx1ZSIsImRhdGFMYXllckZpbmRlciIsImNvbmRpdGlvbkNoZWNrZXIiLCJyZXMiLCJiZWFnbGVJbmZvTGF5ZXIiLCJzcGxpdCIsImRhdGFMYXllciIsImNoZWNrVXJsUnVsZSIsInJlcXVlc3RVUkwiLCJwYXRoIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiVVJMIiwic2VhcmNoIiwicmVwbGFjZSIsInBhdGhuYW1lIiwiX2RlZmluZVByb3BlcnR5IiwiY2hlY2twb2ludHMiLCJlIiwicGFyc2luZ1JlZ2V4IiwiUGFnZVR5cGUiLCJjb250ZW50X25hbWUiLCJjb250ZW50X25hbWVfYWx0IiwidnZzU2NyR0FQYWdlVHlwZSIsInZ2c1NjckdBT3JkZXJJZCIsInZ2c1NjckdBT3JkZXJSZXYiLCJ2dnNTY3JHQU9yZGVyVHlwZSIsInZ2c1NjckdBSXNBZG1pbiIsIkJlYWdsZUxvYWRlZCIsIkluaXRpYWxpemVkIiwiVXNlck9uT2ZmIiwiU2NyaXB0VGltZU91dCIsIlRyZWF0bWVudFJlcG9zaXRvcnlDcmVhdGVkIiwiVHJlYXRtZW50c0FwcGxpZWQiLCJSZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzIiwiVGltZW91dFRocmVzaG9sZFJlYWNoZWQiLCJpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyIiwicHJlcGFyZURhdGEiLCJzY3JpcHRzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImZvdW5kU2NyaXB0Q291bnQiLCJzY3JpcHRUZXh0Q29udGVudCIsInRleHRDb250ZW50IiwiZm91bmRWYWwiLCJleGVjIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwiYWRkVG9CZWFnbGVJbmZvTGF5ZXIiLCJwYXJzZSIsImNoZWNrcG9pbnQiLCJmaW5kIiwiaWQiLCJ0aW1lIiwiRGF0ZSIsIm5vdyIsImFkZEFwcGxpZWRUcmVhdG1lbnQiLCJhZGRFbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnQiLCJ2aWV3SWQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwic2Vzc2lvbklkIiwic2Vzc2lvblN0b3JhZ2UiLCJjdXJyZW50VVJMIiwicGxhdGZvcm0iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnREYXRhIiwidXNlckFnZW50IiwiZ2FPYmplY3RzIiwiZ2FETEVsZW1lbnQiLCJ2aXNpbGFic2NrIiwiZXh0cmFjdENvb2tpZUlkZW50aWZpZXIiLCJjb29raWUiLCJ2bE9iamVjdHMiLCJJdGVtcyIsInZsRWxlbWVudCIsIksiLCJWIiwiVkxfUFZDb3VudEluVmlzaXQiLCJWTF9Ub3RhbER1cmF0aW9uIiwiVkxfVG90YWxQViIsIlZMX1RvdGFsVmlzaXQiLCJjb250ZW50X3R5cGUiLCJjb250ZW50X2NhdGVnb3J5IiwiY29udGVudF9pZHMiLCJ2aXZlbnNlX2NhdGVnb3J5IiwiZWNvbW1lcmNlIiwiZGV0YWlsIiwiYWN0aW9uRmllbGQiLCJsaXN0IiwiaXNBZG1pbiIsInByb2R1Y3RHcm91cCIsInVzZXJJZCIsImNhdGVnb3J5X3Byb2R1Y3RfY291bnQiLCJjaGVja291dCIsInByb2R1Y3RzIiwicHVyY2hhc2UiLCJ2aXZlbnNlUHJvZHVjdHMiLCJyZXZlbnVlIiwiZGltZW5zaW9uMTUiLCJkZXZpY2VQaXhlbFJhdGlvIiwiaW5uZXJXaWR0aCIsIndpbmRvd1NjcmVlbiIsImF2YWlsSGVpZ2h0Iiwic2NyZWVuIiwiYXZhaWxMZWZ0IiwiYXZhaWxUb3AiLCJhdmFpbFdpZHRoIiwiY29sb3JEZXB0aCIsImhlaWdodCIsInBpeGVsRGVwdGgiLCJ3aWR0aCIsIndpbmRvd1ZQb3J0IiwidmlzdWFsVmlld3BvcnQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib25yZXNpemUiLCJvbnNjcm9sbCIsInBhZ2VMZWZ0IiwicGFnZVRvcCIsInNjYWxlIiwicGFyc2VJbnQiLCJNYXRoIiwicm91bmQiLCJhYnMiLCJvcmllbnRhdGlvbiIsInRlbXAiLCJoaXN0b3J5IiwibmF2QWdlbnQiLCJicmFuZHMiLCJtYXAiLCJicmFuZCIsInZlcnNpb24iLCJqb2luIiwibW9iaWxlIiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsImxhbmd1YWdlIiwiYnJvd3Nlckxhbmd1YWdlIiwic3lzdGVtTGFuZ3VhZ2UiLCJ1c2VyTGFuZ3VhZ2UiLCJtYXhUb3VjaFBvaW50cyIsInZlbmRvciIsInBlcmZNZXRyaWNzIiwicGVyZm9ybWFuY2UiLCJnZXRFbnRyaWVzQnlUeXBlIiwicGVyZk5hdmlnYXRpb25NZXRyaWNzIiwicGxkIiwiZG9tQ29udGVudExvYWRlZEV2ZW50RW5kIiwiY29ubmVjdFN0YXJ0IiwibmV0IiwiY29ubmVjdEVuZCIsImZldGNoU3RhcnQiLCJzcnYiLCJyZXNwb25zZVN0YXJ0IiwicmVxdWVzdFN0YXJ0IiwidGZyIiwicmVzcG9uc2VFbmQiLCJkbWkiLCJkb21JbnRlcmFjdGl2ZSIsImRjcCIsImRvbUNvbXBsZXRlIiwib25sIiwibG9hZEV2ZW50RW5kIiwibG9hZEV2ZW50U3RhcnQiLCJjb25uZWN0aW9uIiwiZG93bmxpbmsiLCJzZWxlY3RlZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwic1RhZyIsImNudG50IiwianNvbmNvbnRlbnQiLCJiY3J1bWJfc3RyaW5nIiwic29yZ0xpc3RpbmciLCJjb3VudEl0ZW1zIiwic29yZ1Byb2R1Y3QiLCJza3UiLCJwcmljZSIsInByaWNlQ3VycmVuY3kiLCJwcmljZVZhbGlkVW50aWwiLCJtZXNzYWdlIiwiZG9Ob3RUcmFjayIsIm1zRG9Ob3RUcmFjayIsImhvc3RuYW1lIiwicmVmZXJyZXIiLCJmYXZvcml0ZVByb2R1Y3RzIiwidXNlckVtYWlsIiwicXVlcnlTZWxlY3RvciIsImlubmVyVGV4dCIsImZvcm1hdERlbGl2ZXJ5RGF0ZSIsIm1vbnRocyIsImMiLCJnZXRSYW5kb21WYWx1ZXMiLCJVaW50OEFycmF5IiwicmVtb3ZlRG9jdW1lbnRIaWRlIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiZmV0Y2hUcmVhdG1lbnRzIiwiZmV0Y2giLCJ0cmVhdG1lbnRzIiwianNvbiIsImZldGNoVHJlYXRtZW50V2VpZ2h0cyIsInRyZWF0bWVudFdlaWdodHMiLCJjb29raWVTdHJpbmciLCJjb29raWVOYW1lIiwiaWRlbnRpZmllciIsInYiLCJyZWR1Y2UiLCJhY2MiLCJ0cmltIiwiZGV0ZXJtaW5lUGN0Iiwic3Vic3RyaW5nRW5kUG9zaXRpb24iLCJzdWJzdHJpbmdTdGFydFBvc2l0aW9uIiwiY3JlYXRlSGFzaFN0cmluZyIsImhhc2hTdHJpbmciLCJoYXNoTnVtYmVyIiwic3RyaW5nVG9IYXNoIiwiZW5jb2RlZCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwic3VidGxlIiwiZGlnZXN0IiwiaGFzaEJ1ZmZlciIsImhhc2hBcnJheSIsImIiLCJwYWRTdGFydCIsImV4aXRTY3JvbGxMaXN0ZW5lciIsImNhbGxCYWNrIiwibGFzdFNjcm9sbFRvcCIsInNjcm9sbFRvcCIsImV4aXRTY3JvbGxJbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInN0eWxlQXBwbGljYXRvciIsImVsZW1lbnRzIiwic3R5bGVDaGFuZ2VzTWFwIiwiZWxlbWVudCIsImVudHJpZXMiLCJzdHlsZSIsImluamVjdFN0eWxlU2hlZXQiLCJzdHlsZVNoZWV0IiwiY3JlYXRlRWxlbWVudCIsInJlbCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInByZXBhcmVBY3Rpb25zIiwiYWN0aW9uc1RvUHJlcGFyZSIsImJ1c2luZXNzUnVsZUlkIiwiYWN0aW9ucyIsInZhcmlhbnQiLCJhY3Rpb24iLCJidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMiLCJ2YXJpYW50cyIsImJ1c2luZXNzVHJhbnNmb3JtYXRpb24iLCJ2YXJpYW50S2V5Iiwid2VpZ2h0IiwicnVuVGltZVZhbHVlIiwibWluIiwibWF4IiwiZ2V0RGVidWdNb2RlIiwiTkRfREVCVUdfTU9ERSIsIk9VVF9PRl9TQ09QRSIsInF1ZXJ5U3RyaW5nIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjdXJyZW50IiwiZ2V0SWRlbnRpZmllciIsImV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwiLCJzZXRUaW1lb3V0IiwiZGVsYXkiLCJtcyIsInNrdUNvbGxlY3RvciIsIk5EX1NLVV9MSVNUIiwic2t1TGlzdCIsImdldEF0dHJpYnV0ZSIsImlzU2VuZEJlYWNvblN1cHBvcnRlZCIsInNlbmRCZWFjb24iLCJkYXRlIiwibWF0Y2giLCJ0b2RheSIsIm1vbnRoSW5kZXgiLCJ0b0xvd2VyQ2FzZSIsInllYXIiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZXN0aW1hdGVkU3RhcnQiLCJlc3RpbWF0ZWRFbmQiLCJzdGFydERpZmZPdmVyRGF5cyIsImNlaWwiLCJlbmREaWZmT3ZlckRheXMiLCJzdGFydERpZmZPdmVyV2Vla3MiLCJlbmREaWZmT3ZlcldlZWtzIiwicmVwbGFjZUFsbCIsInN0ciIsImluZGV4IiwicHJvZHVjdEluZm8iLCJQT1BVUF9ESVNQTEFZX0ZMQUciLCJ0cmFuc2Zvcm1lciIsInRyZWF0bWVudCIsImFwcGx5RXZlbnQiLCJjb250ZW50U2VsZWN0b3IiLCJzZWxlY3RvciIsInNlbGVjdG9yRmFsbGJhY2siLCJtZENvbmRpdGlvbiIsIm1vdmVfc2VsZWN0b3JfMSIsIm1vdmVfc2VsZWN0b3JfMiIsInJlcGxhY2VGbiIsIiQiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsInJlcGxhY2VGbkV4ZWN1dG9yIiwicmVwbGFjZUZ1bmN0aW9uIiwiYmluZCIsInZhbCIsImN1cnJlbnRSZXBsYWNlRm4iLCJTdHJpbmciLCJiZWZvcmUiLCJhZnRlciIsImNyZWF0ZVBvcHVwIiwiZGlzcGxheVBvcHVwIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJ0aW1lb3V0IiwidGV4dCIsImh0bWwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwib3JpZ2luYWxUaXRsZSIsInRpdGxlIiwiaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSIsImVsZW1lbnRTa3UiLCJhdHRyaWJ1dGUiLCJjc3MiLCJwcm9wZXJ0eSIsInByb3BlcnR5VmFsdWUiLCJuMSIsIm4yIiwic3dhcE5vZGVzIiwiYXBwZW5kIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJwcmVwZW5kIiwiZXZlbnQiLCJ0aXRsZXMiLCJwYXJzZWRUaXRsZXMiLCJoaWRkZW4iLCJoYW5kbGVQb3B1cENsaWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInFQb3B1cCIsImdldEVsZW1lbnRCeUlkIiwicG9wdXBXcmFwcGVyIiwiYWRkIiwicG9wdXBDbG9zZUJ1dHRvbiIsIm9uY2xpY2siLCJjb250ZW50cyIsInNoaWZ0Iiwic3JjIiwidGVtcGxhdGUiLCJpbm5lckhUTUwiLCJwb3B1cCIsImNvbnRlbnQiLCJmaXJzdENoaWxkIiwiYm9keSIsImkxIiwiaTIiLCJwMSIsInBhcmVudE5vZGUiLCJwMiIsImlzRXF1YWxOb2RlIiwiY2hpbGRyZW4iLCJpbnNlcnRCZWZvcmUiLCJ0cmVhdG1lbnRBcHBsaWNhdG9yIiwidHJlYXRtZW50TGlzdCIsImpRdWVyeSIsImFwcGx5VHJlYXRtZW50cyIsIk1vbml0b3IiLCJhcHBsaWVkVHJlYXRtZW50c0hhc2giLCJhcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMiLCJlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCIsImVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzIiwiaGVhZGVycyIsImlzTG9nZ2VkIiwiaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVycyIsImlzRXJyb3IiLCJyZWFkeVN0YXRlIiwiaGFuZGxlUXVldWVMb2dzIiwicGFja2FnZUxvZ0RhdGEiLCJyZXF1ZXN0QmxvYiIsInF1ZXVlTG9ncyIsImFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2giLCJlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2giLCJtIiwidCIsIkJsb2IiLCJ2SWQiLCJpc0V4aXRFdmVudENhcHR1cmVkIiwibG9nRGF0YSIsInBhY2thZ2VVcGRhdGVMb2dEYXRhIiwiY2FwdHVyZSIsInF1ZXVlZCIsInF1ZXVlSW50ZXJ2YWwiLCJUcmVhdG1lbnRSZXBvc2l0b3J5IiwiY29va2llUGN0IiwidXNlckdyb3VwIiwiZ2V0VXNlckdyb3VwIiwidXNlckdyb3VwV2VpZ2h0cyIsIlRSRUFUTUVOVFMiLCJ0cmVhdG1lbnRzT2JqIiwidGltZXN0YW1wIiwidHJlYXRtZW50V2l0aFRpbWVzdGFtcCIsImNoZWNrQ291bnRlclJ1bGUiLCJwYWdlVmlld0hhbmRsZXIiLCJjYUJhc2tldFByaWNlSGFuZGxlciIsImdldENvdW50ZXIiLCJjb3VudGVyIiwicGFnZVZpZXdzIiwiY2FCYXNrZXRQcmljZSIsImNoZWNrRWxlbWVudFJ1bGUiLCJzZWxlY3RvckFsbCIsIm1haW5TZWxlY3RvciIsInRlbXBWYWwiLCJyZXR1cm5WYWwiLCJlbGVtIiwiY2hlY2tGdW5jdGlvblJ1bGUiLCJvcHRzIiwiYmluZGluZ3MiLCJydWxlRnVuY3Rpb24iLCJjaGVja1Nlc3Npb25SdWxlIiwiZHVyYXRpb25IYW5kbGVyIiwiaGlzdG9yeUhhbmRsZXIiLCJkdXJhdGlvbiIsImdldFNlc3Npb25UaW1lc3RhbXAiLCJjdXJyZW50SGlzdG9yeSIsImNoZWNrRW52UnVsZSIsImlzTW9iaWxlIiwiY2hlY2tSYW5kb21OdW1iZXJSdWxlIiwic2FsdCIsInJhbmRvbVBjdCIsIlJ1bGVFbmdpbmUiLCJiYXNlUnVsZVNldCIsImJ1c2luZXNzUnVsZVNldCIsImNhbGxiYWNrIiwiY2hlY2tSdWxlIiwiY2hhaW4iLCJjaGFpbl9jb25kaXRpb24iLCJydWxlU2F0aXNmaWVkIiwicHJvZHVjdEluZm9Mb29rdXAiLCJIZWFkZXJzIiwibW9kZSIsIm9rIiwibW9uaXRvciIsIlRJTUVPVVRfQ09VTlQiLCJ0aW1lb3V0Q291bnRlciIsInByb2R1Y3RJbmZvUHJvbWlzZSIsImRlYnVnTW9kZSIsImNvbnRhaW5zIiwidnZzSXNTaG93cm9vbSIsImlzT24iLCJHTE9WX09OIiwic2VuZExvZ3MiLCJzZWFyY2hQYXJhbXMiLCJkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyIsIml0ZW0iLCJQQUdFX1ZJRVdTIiwiU0VTU0lPTl9JRCIsIlNFU1NJT05fVElNRVNUQU1QIiwiU0VTU0lPTl9ISVNUT1JZIiwicG9wdXBEaXNwbGF5RmxhZyIsInNlc3Npb25UaW1lc3RhbXAiLCJzZXNzaW9uSGlzdG9yeSIsInRyZWF0bWVudHNQcm9taXNlIiwidHJlYXRtZW50V2VpZ2h0c1Byb21pc2UiLCJPQlNFUlZFUl9DT05GSUciLCJzdWJ0cmVlIiwiY2hpbGRMaXN0IiwiYXR0cmlidXRlcyIsImVuZ2FnZVRyZWF0bWVudCIsImRldmljZSIsImRlcGVuZGFudF9vbl90cmVhdG1lbnQiLCJyZWFwcGx5X2V2ZW50IiwicmVhcHBseV9ldmVudF9hcnJheSIsInJlYXBwbHlFdmVudCIsInByZXZpb3VzVmFsdWUiLCJyZUFwcGx5VHJlYXRtZW50c01hcCIsInJ1bGVFbmdpbmUiLCJjaGVja1J1bGVzIiwidHJlYXRtZW50U2tpcFJhdGlvIiwiZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHQiLCJtYXRjaGVkVHJlYXRtZW50cyIsImRldGVybWluaW5nSWRlbnRpZmllciIsInRyZWF0bWVudFBjdCIsImNoZWNrQnVzaW5lc3NSdWxlcyIsInByZXBhcmVkIiwiY29sbGVjdENBQmFza2V0UHJpY2UiLCJDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UiLCJwcmljZUVsZW1lbnRzIiwiY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UiLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJiYXNrZXRDaGVja291dEZvcm0iLCJvYnNlcnZlIiwiYWxsIiwidHJlYXRtZW50UmVwb3NpdG9yeSIsImdldE1hdGNoZWRUcmVhdG1lbnRzIiwidXBkYXRlTGF0ZXN0Q2hhbmdlcyIsInRyZWF0bWVudElkcyIsInJlQXBwbHlUcmVhdG1lbnRzIiwiZmlsdGVyIiwiUmVzaXplT2JzZXJ2ZXIiLCJyZWFwcGx5X3NlbGVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==

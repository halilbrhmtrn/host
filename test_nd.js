!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw a;return T()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=L(i,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?v:f,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=v,n.method="throw",n.arg=c.arg)}}}(e,n,i),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",g={};function h(){}function m(){}function y(){}var w={};c(w,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=y.prototype=h.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,s){var c=l(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:T}}function T(){return{value:t,done:!0}}return m.prototype=y,c(x,"constructor",y),c(y,"constructor",m),m.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(I.prototype),c(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),c(x,s,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};function t(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function r(e){return function(){var n=this,r=arguments;return new Promise((function(o,a){var i=e.apply(n,r);function s(e){t(i,o,a,s,c,"next",e)}function c(e){t(i,o,a,s,c,"throw",e)}s(void 0)}))}}n.r(e),n.d(e,{m1:function(){return ce},jy:function(){return re},gw:function(){return de},o2:function(){return ne},Qz:function(){return te},WT:function(){return ee},mS:function(){return X},Z$:function(){return ve},K0:function(){return ue},xC:function(){return le},ec:function(){return ge},gG:function(){return he},vL:function(){return se},Z2:function(){return ae},$W:function(){return pe},cm:function(){return ie},dZ:function(){return Z},lC:function(){return fe},ck:function(){return oe}});var o=n(757),a=n.n(o);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";var r=e.indexOf(t);if(r<0)return e;for(;e.indexOf(t)>=0;){var o=e.indexOf(t);e=(o>0?e.substring(0,o):"")+n+e.substring(o+t.length)}return e},d=window.location.href.includes("staging.vivense")?"https://ndvivense.glov.ai/weights_staging.json":"https://ndvivense.glov.ai/weights.json",f=window.location.href.includes("staging.vivense")?"https://ndvivense.glov.ai/nd-styles_staging.css":"https://ndvivense.glov.ai/nd-styles.css?id=".concat(l((new Date).toISOString().substring(0,13).replace("T",""),"-","")),p="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",v="(max-width: 440px)",g=["pagetype","category","alltimePLPCategoryMode","sessionPLPCategoryMode","alltimePDPCategoryMode","sessionPDPCategoryMode","alltimeCartCategoryMode","sessionCartCategoryMode"],h="__nextday_session_id",m="ND_SessionTimestamp",y="BN_SessionHistory",w="ND_PageViews",b="ND_PopupDisplayFlag",k="ND_SkuListList",x="ND_SkuListBasket",S="Nd_ProductInfoBasket",I="ND_CABasketPrice",L="ND_Debug",C="ND_OutOfScope",P="ND_UserId",O="ND_Seg_",A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";s(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(L)}return u(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}},{key:"failed",value:function(){var e,t=this.DEBUG,n=this.origin;if(t){for(var r="%c%s   ",o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];a.forEach((function(e){switch(i(e)){case"bigint":case"number":case"boolean":r+="%d   ";break;case"string":r+="%s   ";break;default:r+="%o   "}})),(e=console).log.apply(e,[r,"color: red","[".concat(n,"]")].concat(a))}}},{key:"success",value:function(){var e,t=this.DEBUG,n=this.origin;if(t){for(var r="%c%s   ",o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];a.forEach((function(e){switch(i(e)){case"bigint":case"number":case"boolean":r+="%d   ";break;case"string":r+="%s   ";break;default:r+="%o   "}})),(e=console).log.apply(e,[r,"color: green","[".concat(n,"]")].concat(a))}}},{key:"warn",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).warn.apply(e,["[".concat(t,"]")].concat(r))}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),T=A;function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.beagleInfoLayer=window.beagleInfoLayer||{checkpoints:[],a:{},e:{},f:{}};var V={PageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,content_name:/(?:content_name[ ]*:[ ]*")(.*)(?:")/,content_name_alt:/(?:content_name'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAPageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderId:/(?:purchase[\s\S]*actionField[\s\S]*'id'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderRev:/(?:purchase[\s\S]*actionField[\s\S]*'revenue'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderType:/(?:purchase[\s\S]*actionField[\s\S]*'dimension15'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAIsAdmin:/(?:dataLayer[\s\S]*'isAdmin'[ ]*:[ ]*")(.*)(?:")/},U={BeagleLoaded:1,Initialized:2,UserOnOff:3,ScriptTimeOut:7,TreatmentRepositoryCreated:4,TreatmentsApplied:5,ReapplyTreatmentListeners:6,TimeoutThresholdReached:8},H=new T("BeagleInfoLayer"),F=function(){var e=r(a().mark((function e(){var t,n,r,o,i,s,c,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.log("Initializing beagleInfoLayer"),t=document.scripts,n=t.length;try{W()}catch(e){console.warn("Could not prepare log data: ",e.message)}if(t&&n){e.next=7;break}return H.warn("Could not parse body"),e.abrupt("return");case 7:r=0,o=t.length-1;case 9:if(!(o>-1)){e.next=35;break}i=t[o].textContent,s=0,c=Object.keys(V);case 12:if(!(s<c.length)){e.next=32;break}if(u=c[s],!(l=(l=V[u].exec(i))?l[1]:null)){e.next=29;break}u.indexOf("_alt")>0&&(u=u.substring(0,u.lastIndexOf("_alt"))),e.prev=18,J(u,decodeURIComponent(JSON.parse('"'+l+'"'))),e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(18),H.warn("Could not decode foundVal ".concat(l)),e.abrupt("continue",29);case 26:if((r+=1)!==Object.keys(V).length){e.next=29;break}return e.abrupt("return");case 29:s++,e.next=12;break;case 32:o--,e.next=9;break;case 35:return e.next=37,de(10);case 37:if(n===t.length){e.next=41;break}return H.log("New scripts detected, re-initializing beagleInfoLayer"),e.next=41,F();case 41:case"end":return e.stop()}}),e,null,[[18,22]])})));return function(){return e.apply(this,arguments)}}(),B=function(e){try{H.log("Checkpoint: '".concat(e,"' Reached!")),window.beagleInfoLayer.checkpoints.push({checkpoint:Object.keys(U).find((function(t){return U[t]===e})),id:e,time:Date.now()})}catch(e){H.warn(e)}},J=function(e,t){null!=e&&null!=t&&(window.beagleInfoLayer[e]=t)},G=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a={businessRuleId:t,variant:n};switch(r){case"applied":window.beagleInfoLayer.a[e]=a;break;case"skipped":a.dependant_on_treatment=o,window.beagleInfoLayer.e[e]=a;break;case"failed":window.beagleInfoLayer.f[e]=a}},W=function(){var e,t,n,r,o,a,i,s,c,u,l,d,f,p,v,g,m,y,w,b,k,x,S,I,L,C,P,O,A,T,E,_,N,D,j,q,V,U,F,B,G,W,$,z,K=crypto.randomUUID(),Q=sessionStorage.getItem(h),Y=new URL(window.location.href),Z=(null===(e=window.navigator)||void 0===e||null===(t=e.userAgentData)||void 0===t?void 0:t.platform)||(null===(n=window.navigator)||void 0===n?void 0:n.platform)||(null===(r=window.navigator)||void 0===r?void 0:r.userAgent),X={},ee=M(window.dataLayer);try{for(ee.s();!(z=ee.n()).done;){var ne=z.value;X=R(R({},X),ne)}}catch(e){ee.e(e)}finally{ee.f()}var re=JSON.parse(te(document.cookie,"VL_CM_0")),oe={};if(re&&re.Items){var ae,ie=M(re.Items);try{for(ie.s();!(ae=ie.n()).done;){var se=ae.value;oe[se.K]=decodeURIComponent(se.V)}}catch(e){ie.e(e)}finally{ie.f()}}J("cookieVLPVinVisit",oe.VL_PVCountInVisit),J("cookieVLVisitDuration",oe.VL_TotalDuration),J("cookieVLTotalPV",oe.VL_TotalPV),J("cookieVLTotalVisit",oe.VL_TotalVisit),J("gaPageType",X.PageType),J("gaProductName",X.content_name),J("gaViewType",X.content_type),J("gaProductCategory",X.content_category),J("gaProductID",X.content_ids),J("vvsProductCategory",X.vivense_category),J("gaListingName",null===(o=X.ecommerce)||void 0===o||null===(a=o.detail)||void 0===a||null===(i=a.actionField)||void 0===i?void 0:i.list),J("vvsIsShowroom",void 0===window.isAdmin?X.isAdmin:window.isAdmin),J("vvsProductGroup",X.productGroup),J("vvsUserId",X.userId),J("vvsCategory",X.vivense_category),J("gaCategoryProductCont",X.category_product_count),J("gaCartProducts",(null===(s=X.ecommerce)||void 0===s||null===(c=s.checkout)||void 0===c?void 0:c.products)||(null===(u=X.ecommerce)||void 0===u||null===(l=u.purchase)||void 0===l?void 0:l.products)),J("vvsPDPProduct",null===(d=X.vivenseProducts)||void 0===d?void 0:d.pop()),J("gaPurchaseId",null===(f=X.ecommerce)||void 0===f||null===(p=f.purchase)||void 0===p||null===(v=p.actionField)||void 0===v?void 0:v.id),J("gaPurchaseRevenue",null===(g=X.ecommerce)||void 0===g||null===(m=g.purchase)||void 0===m||null===(y=m.actionField)||void 0===y?void 0:y.revenue),J("gaPurchasePayType",null===(w=X.ecommerce)||void 0===w||null===(b=w.purchase)||void 0===b||null===(k=b.actionField)||void 0===k?void 0:k.dimension15),J("windowParams",window.location.search),J("windowPRatio",window.devicePixelRatio),J("windowInner",window.innerWidth);var ce={};ce.availHeight=null===(x=window.screen)||void 0===x?void 0:x.availHeight,ce.availHeight=null===(S=window.screen)||void 0===S?void 0:S.availHeight,ce.availLeft=null===(I=window.screen)||void 0===I?void 0:I.availLeft,ce.availTop=null===(L=window.screen)||void 0===L?void 0:L.availTop,ce.availWidth=null===(C=window.screen)||void 0===C?void 0:C.availWidth,ce.colorDepth=null===(P=window.screen)||void 0===P?void 0:P.colorDepth,ce.height=null===(O=window.screen)||void 0===O?void 0:O.height,ce.pixelDepth=null===(A=window.screen)||void 0===A?void 0:A.pixelDepth,ce.width=null===(T=window.screen)||void 0===T?void 0:T.width,J("windowScreen",ce);var ue={};if(ue.height=null===(E=window.visualViewport)||void 0===E?void 0:E.height,ue.offsetLeft=null===(_=window.visualViewport)||void 0===_?void 0:_.offsetLeft,ue.offsetTop=null===(N=window.visualViewport)||void 0===N?void 0:N.offsetTop,ue.onresize=null===(D=window.visualViewport)||void 0===D?void 0:D.onresize,ue.onscroll=null===(j=window.visualViewport)||void 0===j?void 0:j.onscroll,ue.pageLeft=null===(q=window.visualViewport)||void 0===q?void 0:q.pageLeft,ue.pageTop=null===(V=window.visualViewport)||void 0===V?void 0:V.pageTop,ue.scale=null===(U=window.visualViewport)||void 0===U?void 0:U.scale,ue.width=null===(F=window.visualViewport)||void 0===F?void 0:F.width,J("windowVPort",ue),screen.width){var le=parseInt(screen.width),de=screen.height?parseInt(screen.height):0;if(0!==le&&0!==de){if(/iPad|iPhone|iPod/.test(Z)&&window.devicePixelRatio)le=Math.round(le*window.devicePixelRatio),de=Math.round(de*window.devicePixelRatio);else if(90===Math.abs(window.orientation)){var fe=le;le=de,de=fe}J("window",le+"x"+de)}}if(J("navHistSize",null===(B=window.history)||void 0===B?void 0:B.length),J("navAgent",navigator.userAgent),!window.beagleInfoLayer.navAgent&&navigator.userAgentData){var pe,ge,he,me,ye,we=null===(pe=navigator)||void 0===pe||null===(ge=pe.userAgentData)||void 0===ge||null===(he=ge.brands)||void 0===he?void 0:he.map((function(e){return e.brand+":"+e.version})).join();we+=null!==(me=navigator)&&void 0!==me&&null!==(ye=me.userAgentData)&&void 0!==ye&&ye.mobile?"mobi":" ",J("navAgent",we+=Z)}J("navHWCores",navigator.hardwareConcurrency),J("navLanguage",navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage),J("navTouch",navigator.maxTouchPoints),J("navPlatform",Z),J("navVendor",navigator.vendor),J("cookieGaId",te(document.cookie,"_ga")),J("cookieLastBreadCrumb",te(document.cookie,"lastbreadcrumb")),J("cookieLastCategory",te(document.cookie,"lastcategory")),J("cookieFirstEntry",decodeURIComponent(te(document.cookie,"vivensefirst")));var be={};if(window.performance&&window.performance.getEntriesByType("navigation")[0]){var ke=window.performance.getEntriesByType("navigation")[0];be.pld=Math.round(ke.domContentLoadedEventEnd-ke.connectStart),be.net=Math.round(ke.connectEnd-ke.fetchStart),be.srv=Math.round(ke.responseStart-ke.requestStart),be.tfr=Math.round(ke.responseEnd-ke.responseStart),be.dmi=Math.round(ke.domInteractive-ke.responseEnd),be.dcp=Math.round(ke.domComplete-ke.domInteractive),be.onl=Math.round(ke.loadEventEnd-ke.loadEventStart)}J("perfMetrics",be),J("internetSpeed",null===(G=window.navigator)||void 0===G||null===(W=G.connection)||void 0===W?void 0:W.downlink);var xe,Se,Ie=M(document.querySelectorAll('[type="application/ld+json"]'));try{for(Ie.s();!(xe=Ie.n()).done;){var Le=xe.value;try{var Ce=Le.textContent,Pe=JSON.parse(Ce),Oe="@";switch(Pe["@type"]){case"Organization":case"WebSite":break;case"CollectionPage":var Ae,Te=M(Pe.breadcrumb.itemListElement);try{for(Te.s();!(Ae=Te.n()).done;)Oe+=" | "+Ae.value.item.name}catch(e){Te.e(e)}finally{Te.f()}J("sorgBreadcrumb",Oe);var Ee={};Ee.name=Pe.mainEntity.name,Ee.countItems=Pe.mainEntity.numberOfItems,J("sorgListing",Ee);break;case"BreadcrumbList":var _e,Ne=M(Pe.itemListElement);try{for(Ne.s();!(_e=Ne.n()).done;)Oe+=" | "+_e.value.name}catch(e){Ne.e(e)}finally{Ne.f()}J("sorgBreadcrumb",Oe);break;case"Product":var De={};De.sku=Pe.sku,De.name=Pe.name,Pe.offers&&(De.price=Pe.offers.price,De.priceCurrency=Pe.offers.priceCurrency,De.priceValidUntil=Pe.offers.priceValidUntil),J("sorgProduct",De);break;default:console.log(Pe)}}catch(e){H.warn(e.message)}}}catch(e){Ie.e(e)}finally{Ie.f()}J("v","0.0.27"),J("n","nextday-session_id-".concat(Q)),J("sr",50),J("donttrack",navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack),J("u",Y.href),J("d",Y.hostname),J("r",document.referrer),J("vId",K),J("isOn",null);try{J("vvsCntFavProds",window.favoriteProducts?JSON.parse(window.favoriteProducts).length:null)}catch(e){J("vvsCntFavProds",null),H.warn(e.message)}J("vvsHasSetEmail",window.userEmail.length>0),J("vvsLoginType",window.userId>0?"member":"guest"),Se=document.querySelector('[class*="basket_summary_total"], [class*="total_row"]'),J("vvsPurcPriceElt",Se?Se.innerText:null),Se=document.querySelector('[class*="order_follow_numb"], [class*="cart-title-bottom"]'),J("vvsPurchaseOrderID",Se?Se.innerText:null),Se=document.querySelector('[class*="payment_type_title"], [class*="cart-title-info"]'),J("vvsPurcTypeElt",Se?Se.innerText:null),Se=document.querySelector('[id*="breadcrumb-ol"], [class*="long-breadcrumb"]'),J("vvsViewCrumb",Se?Se.innerText:null),Se=document.querySelector('[class*="order-final-number"]'),J("vvsCartTotal",Se?Se.innerText:null),Se=document.querySelector('[class*="basket_total_price"]'),J("vvsViewBasketTotal",Se?Se.innerText:null),Se=document.querySelector('[id*="cart_quantity"], [class*="basket_length"]'),J("vvsViewBasketCount",Se?Se.innerText:null),Se=document.querySelector('[class*="welcome_username"]'),J("vvsViewLoggedin",!!Se&&Se.innerText.length>0),Se=document.querySelectorAll('[class*="vivense-showrooms"] > *'),J("vvsPDPShowroomCount",Se?Se.length:null),Se=document.querySelector('[class*="delivery-date"]'),J("vvsPDPDeliveryDate",Se?Se.innerText:null),J("vvsPDPDeliveryDateFormatted",ve(null===($=Se)||void 0===$?void 0:$.innerText)),Se=document.querySelector('[class*="product-title"], [class*="header-bottom"]'),J("vvsPDPTitle",Se?Se.innerText:null),Se=document.querySelector('[class*="count-of-product"]'),J("vvsPLPItemCount",Se?Se.innerText:null),Se=document.querySelector('[class*="subcategories-title"]'),J("vvsPLPName",Se?Se.innerText:null)};function z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=new T("Nextday Utils"),Y={ocak:0,"şubat":1,mart:2,nisan:3,"mayıs":4,haziran:5,temmuz:6,"ağustos":7,"eylül":8,ekim:9,"kasım":10,"aralık":11};"randomUUID"in crypto||(crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))});var Z=function(){document.documentElement.classList.remove("nextDay-hide")},X=function(){var e=r(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=r(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q.log("Fetching treatment weights"),e.next=3,fetch(d);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},ne=function(){var e=r(a().mark((function e(t){var n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=8+(n=9),t){e.next=5;break}return e.abrupt("return",-1);case 5:return e.next=7,re(t);case 7:return o=e.sent,i=parseInt(o.substring(n,r),16),e.abrupt("return",i%100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=r(a().mark((function e(t){var n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,o=Array.from(new Uint8Array(r)),e.abrupt("return",o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(e,t){Q.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],o=0,a=Object.entries(t);o<a.length;o++){var i=D(a[o],2),s=i[0],c=i[1];r.style[s]=c}},ae=function(){var e=r(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href=f,document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=r(a().mark((function e(t,n,r){var o,i,s,c,u,l,d,f,p,v,g,h,m,y,w,b,k,x,S,I,L;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=JSON.parse(JSON.stringify(n)),i=null,s=z(o),e.prev=3,s.s();case 5:if((c=s.n()).done){e.next=55;break}if(u=c.value,l=u.businessRuleTransformations,d=u.variants,l||d){e.next=10;break}return e.abrupt("continue",53);case 10:if(r&&l){f=z(l);try{for(f.s();!(p=f.n()).done;)if((v=p.value).id===r)for(g in v)"id"!==g&&(u[g]=v[g])}catch(e){f.e(e)}finally{f.f()}}if(!d){e.next=53;break}h=0,m=Object.keys(d);case 13:if(!(h<m.length)){e.next=53;break}return y=m[h],e.next=17,ne(t+y);case 17:if(!(e.sent<u.variants[y].weight)){e.next=50;break}if(i=y,!r||!d[y].businessRuleTransformations){e.next=48;break}w=z(d[y].businessRuleTransformations),e.prev=22,w.s();case 24:if((b=w.n()).done){e.next=38;break}if((k=b.value).id!=r){e.next=36;break}x=0,S=Object.keys(k);case 28:if(!(x<S.length)){e.next=36;break}if("id"!==(I=S[x])){e.next=32;break}return e.abrupt("continue",33);case 32:u[I]=k[I];case 33:x++,e.next=28;break;case 36:e.next=24;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(22),w.e(e.t0);case 43:return e.prev=43,w.f(),e.finish(43);case 46:e.next=49;break;case 48:for(L in d[y])"weight"!==L&&"businessRuleTransformations"!==L&&(u[L]=d[y][L]);case 49:return e.abrupt("break",53);case 50:h++,e.next=13;break;case 53:e.next=5;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(3),s.e(e.t1);case 60:return e.prev=60,s.f(),e.finish(60);case 63:return e.abrupt("return",[o,i]);case 64:case"end":return e.stop()}}),e,null,[[3,57,60,63],[22,40,43,46]])})));return function(t,n,r){return e.apply(this,arguments)}}(),se=function(){var e=w,t=b,n=h,r=m,o=y,a=sessionStorage.getItem(e),i=sessionStorage.getItem(t),s=sessionStorage.getItem(n),c=sessionStorage.getItem(r),u=sessionStorage.getItem(o);a?sessionStorage.setItem(e,parseInt(a)+1):sessionStorage.setItem(e,1),null===i&&sessionStorage.setItem(t,0),s||sessionStorage.setItem(n,crypto.randomUUID()),c||sessionStorage.setItem(r,Date.now()),u?sessionStorage.setItem(o,[window.location.pathname,u]):sessionStorage.setItem(o,[window.location.pathname])},ce=function(e,t,n){if("notExist"===t)return e?(Q.failed("conditionChecker: -not satisfied- target does exist"),!1):(Q.success("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return Q.failed("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(Q.success("conditionChecker: -satisfied- target does exist"),!0):(Q.failed("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(Q.success("conditionChecker: -satisfied- target contains value"),!0):(Q.failed("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(Q.failed("conditionChecker: -not satisfied- target contains value"),!1):(Q.success("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(Q.success("conditionChecker: -satisfied- target equals value"),!0):(Q.failed("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(Q.success("conditionChecker: -satisfied- target does not equal value"),!0):(Q.failed("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(Q.success("conditionChecker: -satisfied- target is greater than value"),!0):(Q.failed("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(Q.success("conditionChecker: -satisfied- target is less than value"),!0):(Q.failed("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(Q.success("conditionChecker: -satisfied- target is greater or equal than value"),!0):(Q.failed("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(Q.success("conditionChecker: -satisfied- target is less or equal than value"),!0):(Q.failed("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=D(n.split(","),2),o=r[0],a=r[1];return o=parseInt(o),a=parseInt(a),e>=o&&e<=a?(Q.success("conditionChecker: -satisfied- target is between min and max"),!0):(Q.failed("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return Q.failed("conditionChecker: condition is not defined ",t),!1}},ue=function(){var e=L,t=C,n=window.location.search;if(n.includes("nd_debug=1"))return window.localStorage.setItem(e,1),window.localStorage.setItem(t,!0),J("dbm","on"),1;if(n.includes("nd_debug=2"))return window.localStorage.setItem(e,2),window.localStorage.setItem(t,!0),J("dbm","on"),2;if(n.includes("nd_debug=0"))return window.localStorage.removeItem(e),window.localStorage.setItem(t,!0),J("dbm","off"),0;var r=parseInt(window.localStorage.getItem(e));return J("dbm",r?"on":"off"),r||0},le=function(){var e=r(a().mark((function e(){var t,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"_ga",e.abrupt("return",new Promise((function(e,n){var r=window.localStorage.getItem(P);if(r&&e(r),r=te(document.cookie,t))window.localStorage.setItem(P,r),e(r);else{var o=setInterval((function(){(r=te(document.cookie,t))&&(clearInterval(o),window.localStorage.setItem(P,r),e(r))}),10);setTimeout((function(){clearInterval(o),n(new Error("Could not extract cookie identifier"))}),1e3)}})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(e){return new Promise((function(t){return setTimeout(t,e)}))},fe=function(){var e,t,n,r=k,o=[],a=Array.from(document.querySelectorAll(".product-card"));return a.forEach((function(e){o.push(e.getAttribute("data-product-sku"))})),o.length?(sessionStorage.setItem(r,JSON.stringify(o)),o):(a=document.querySelector(".product-sku"))?(o.push(a.getAttribute("data-sku")||(null===(e=a.textContent)||void 0===e||null===(t=e.trim())||void 0===t||null===(n=t.replace(/\)/g,""))||void 0===n?void 0:n.replace(/\(/g,""))),sessionStorage.setItem(r,JSON.stringify(o)),o):(a=Array.from(document.querySelectorAll(".cart-inside")))?(a.forEach((function(e){o.push(e.getAttribute("data-sku"))})),o.length?(sessionStorage.setItem("ND_SkuListBasket",JSON.stringify(o)),o):o):(Q.failed("Not able to extract SKUs from page"),null)},pe=function(){return navigator.sendBeacon&&"function"==typeof navigator.sendBeacon},ve=function(e){if(!e||"string"!=typeof e)return e;var t={startMonthIndex:void 0,endMonthIndex:void 0,startDay:void 0,endDay:void 0},n=e.match("([\\d]+)-([\\d]+)\\s?([\\wıüğşöçİÖÇĞÜ]+)");if(n&&4===n.length)t.startDay=parseInt(n[1]),t.endDay=parseInt(n[2]),t.startMonthIndex=Y[n[3].toLowerCase()],t.endMonthIndex=t.startMonthIndex;else{if(!(n=e.match("([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜ]+)-([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜ]+)"))||5!==n.length)return e;t.startDay=parseInt(n[1]),t.startMonthIndex=Y[n[2].toLowerCase()],t.endDay=parseInt(n[3]),t.endMonthIndex=Y[n[4].toLowerCase()]}try{var r=new Date;if(!t.startMonthIndex||!t.endMonthIndex)return e;var o=t.startMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,a=t.endMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,i=new Date(o,t.startMonthIndex,t.startDay),s=new Date(a,t.endMonthIndex,t.endDay),c=Math.ceil(Math.abs(i-r)/864e5),u=Math.ceil(Math.abs(s-r)/864e5),l=c<7?0:Math.ceil(c/7),d=u<7?0:Math.ceil(u/7);return 0===l&&0===d?"".concat(c," - ").concat(u," Gün"):0===l&&d>=1?"".concat(c," Gün - ").concat(d," Hafta"):l===d?"".concat(l," Hafta"):"".concat(l," - ").concat(d," Hafta")}catch(t){return e}};function ge(e){if(e&&0!==e.length){var t,n={},r=void 0,o=0,a=z(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;"object"===i(s)&&(s=s[Object.keys(s)[0]]),n[s]?n[s]++:n[s]=1,o<n[s]&&(r=s,o=n[s])}}catch(e){a.e(e)}finally{a.f()}return E({},r,o)}}var he=function(e,t){var n=setTimeout(t,e);document.ontouchstart=function(){clearTimeout(n),n=setTimeout(t,e)}};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(){function e(){s(this,e),this.logger=new T("Nextday Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentsHash=null,this.appliedTreatmentsChanges=!1,this.eligibleNotAppliedTreatmentsHash=null,this.eligibleNotAppliedTreatmentsChanges=!1,this.headers={type:"text/plain"},this.isLogged=!1,this.initializeExitEventListeners()}var t,n,o;return u(e,[{key:"sendLogs",value:(o=r(a().mark((function e(){var t,n,r,o=this,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=i.length>1&&void 0!==i[1]&&i[1],(r=this.logger).log("Sending logs"),"complete"!==document.readyState?(r.log("Document ready state is not complete"),window.addEventListener("load",(function(){r.log("In onload event"),o.handleQueueLogs(o.packageLogData(t),n)}),!0)):this.handleQueueLogs(this.packageLogData(t),n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"handleQueueLogs",value:(n=r(a().mark((function e(t){var n,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>1&&void 0!==r[1]&&r[1]||!this.isLogged){e.next=3;break}return e.abrupt("return");case 3:if(n=this.logger,t){e.next=7;break}return n.failed("Could not create request blob"),e.abrupt("return");case 7:return n.log("Request blob to send: ",t),this.queueLogs(t),this.isLogged=!0,e.next=12,re(JSON.stringify(window.beagleInfoLayer.a));case 12:return this.appliedTreatmentsHash=e.sent,e.next=15,re(JSON.stringify(window.beagleInfoLayer.e));case 15:this.eligibleNotAppliedTreatmentsHash=e.sent;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateLatestChanges",value:(t=r(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(JSON.stringify(window.beagleInfoLayer.a));case 2:return t=e.sent,e.next=5,re(JSON.stringify(window.beagleInfoLayer.e));case 5:n=e.sent,t!==this.appliedTreatmentsHash&&(this.appliedTreatmentsChanges=!0,this.appliedTreatmentsHash=t),n!==this.eligibleNotAppliedTreatmentsHash&&(this.eligibleNotAppliedTreatmentsChanges=!0,this.eligibleNotAppliedTreatmentsHash=n);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"packageLogData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.headers;this.attachSegmentationPayloadToBeagleInfoLayer();var n=ye({},window.beagleInfoLayer),r=e||(Object.keys(n.a||{}).length?"Treatments applied":"No treatments applied");return n.t=Date.now(),n.m=r,new Blob([JSON.stringify(n)],t)}},{key:"attachSegmentationPayloadToBeagleInfoLayer",value:function(){[localStorage,sessionStorage].forEach((function(e){e&&Object.keys(e).filter((function(e){return e.indexOf(O)>=0})).map((function(e){return{key:e,layerKey:e.replace(O,"")}})).forEach((function(t){var n=t.key,r=t.layerKey;return window.beagleInfoLayer[r]=function(e,t){try{var n=JSON.parse(t);return function(e){return!!g.includes(e)||!(!e.toString().toLowerCase().startsWith("alltime")||!e.endsWith("mode"))}(e.replace(O,""))&&(n=ge(n)),n}catch(e){return t}}(n,e.getItem(n))}))}))}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.appliedTreatmentsChanges,n=this.eligibleNotAppliedTreatmentsChanges;if(!t&&!n)return!1;var r={t:Date.now(),a:t?window.beagleInfoLayer.a:{},e:n?window.beagleInfoLayer.e:{},vId:window.beagleInfoLayer.vId};return new Blob([JSON.stringify(r)],e)}},{key:"initializeExitEventListeners",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(e.isLogged){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0}),window.addEventListener("pagehide",(function(){if(e.isLogged){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger;if(pe()){var n=navigator.sendBeacon(p,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(p,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}else fetch(p,e)}}]),e}(),be=we,ke=new T("Nextday Url Checker"),xe=function(e){ke.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return ke.log("Checking path ".concat(a," matches rule path ").concat(r)),ce(a,n,r)}},Se=new T("Nextday Api"),Ie=function(){var e=r(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Se.log("Starting product info lookup"),t=fe()){e.next=5;break}return Se.failed("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.prev=7,e.next=10,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),Se.warn("Fetch to catalog api failed"),e.abrupt("return",null);case 17:if(r.ok){e.next=20;break}return Se.failed("Product info lookup failed"),e.abrupt("return",null);case 20:return e.next=22,r.json();case 22:if(r=e.sent){e.next=26;break}return Se.failed("Product info extraction from response failed"),e.abrupt("return",null);case 26:return Se.success("Product info lookup successful"),S,xe({operator:"path",condition:"equal",value:"/siparis-listesi.html"})&&sessionStorage.setItem("Nd_ProductInfoBasket",JSON.stringify(r)),e.abrupt("return",r);case 31:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}();function Le(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pe=new T("Nextday DataLayer Checker"),Oe=function(e){Pe.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=Ae(t);return ce(o,n,r)},Ae=function(e){Pe.log("Searching beagleInfoLayer for key ",e);var t=window.beagleInfoLayer[e];if(e.includes("."))try{var n=e.split(".");t=window.beagleInfoLayer[n[0]];for(var r=1;r<n.length;r++)t=t[n[r]]}catch(n){Pe.failed("Couldn't extract key ".concat(e," from beagleInfoLayer")),t=null}if(t)return Pe.success("Found key ".concat(e," with value ").concat(t)),t;Pe.failed("Key ".concat(e," not found in beagleInfoLayer")),Pe.log("Searching dataLayer for key ",e);var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}(window.dataLayer);try{for(a.s();!(o=a.n()).done;){var i=o.value;if(Object.keys(i).includes(e))return Pe.success("Found key ".concat(e," with value ").concat(i[e])),i[e]}}catch(e){a.e(e)}finally{a.f()}return Pe.failed("Key ".concat(e," not found in dataLayer")),null},Te=new T("ReplaceUtils");function Ee(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t&&n.includes("{{REPLACE}}")){Te.log("Executing replace function: ",t);var a={dataLayerFinder:Ae,productInfo:r},i=Function(t).bind(a);return o?n.replace("{{REPLACE}}",i()):(0,e.replaceAll)(n,"{{REPLACE}}",i())}return n}var _e=function(e,t,n){return Array.isArray(e)?e.forEach((function(r,o){var a=t?t[o]||t:"";e[o]=Ee(a,r,n)})):Array.isArray(t)?t.forEach((function(r,o){if("object"===i(r)){var a=function(e){var t=e.storage,n=e.key,r=e.type,o=null;if("session"===t&&(o=window.sessionStorage.getItem(n),r))try{o=(o=JSON.parse(o))[o.length-1][r]}catch(e){Te.failed("Could not parse ".concat(o))}return o}(r);e=e.replace("{{REPLACE}}",a)}else e=Ee(t,e,n,!0)})):e=Ee(t,e,n),e};function Ne(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function je(){return je=r(a().mark((function e(t,n){var o,i,s,c,u,d,f,p,g,h,m,y,w;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new T("Nextday Apply Actions"),i=b,s=n.productInfo,c=n.skuList,u=function(e){o.log("Applying action: ",JSON.stringify(e));var t=e.operator,n=e.type,r=e.applyEvent,a=e.contentSelector,c=e.selector,u=e.selectorFallback,l=e.mdCondition,d=e.move_selector_1,g=e.move_selector_2,w=e.replaceFn,b=e.pType;if("noop"!==t){var k=e.value,x=$(c);if(l&&!window.matchMedia(l).matches)return o.failed("Media condition mismatch: ",l),!1;if(d&&!g||g&&!d)return o.failed("Both move selectors are required"),!1;if(d&&g){if(!$(d).length)return o.failed("Move selector 1 not found: ",d),!1;if(!$(g).length)return o.failed("Move selector 2 not found: ",g),!1}else{if(!c)return o.failed("Selector not specified"),!1;if(!x.length){if(!$(u).length&&"remove"===t)return;if("no-selector"!==c&&(o.failed("Selector not found: ",c),o.log("Trying fallback selector: ",u),u&&(x=$(u)),!x.length))return o.failed("Fallback selector not found"),!1}}if(w&&(k=_e(k,w,s)),"remove"===t)x&&(o.log("Removing: ",c),x.remove()),o.log("Cannot found element with selector: ",c);else if("insert"===t)switch(n){case"before":o.log("Inserting before: ",k),String(k).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),x.before(k);break;case"after":o.log("Inserting after: ",k),x.after(k);break;case"append":o.log("Appending value: ",k),x.append(k);break;case"popup":if(0!==parseInt(sessionStorage.getItem(i))){o.log("Popup already displayed in session");break}if(o.log("Creating Popup: ",k),b&&(k=f(s,b,k)),m(k,a),r){var S,I=window.matchMedia(v).matches,L=Ne(r);try{for(L.s();!(S=L.n()).done;)switch(S.value){case"exitIntent":var C,P;o.log("Adding exit intent listener"),I?(window.addEventListener("visibilitychange",h,{once:!0}),null!==(C=window.beagleInfoLayer)&&void 0!==C&&C.r.includes(null===(P=window.beagleInfoLayer)||void 0===P?void 0:P.d)||window.history&&"function"==typeof window.history.pushState&&(window.history.pushState("temp",""),window.addEventListener("popstate",h,{once:!0})),he(12e4,h)):document.documentElement.addEventListener("mouseleave",h,{once:!0});break;case"copyIntent":o.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",h,{once:!0})}}catch(e){L.e(e)}finally{L.f()}}else setTimeout((function(){h()}),timeout);break;default:o.failed("Type: ".concat(n," not found for operator: ").concat(t))}else if("edit"===t)switch(n){case"text":o.log("Editing text: ",k),x.text(k);break;case"html":o.log("Editing html: ",k),x.html(k);break;case"styleApplicator":o.log("Applying style: ",k);var O=JSON.parse(k);o.log("Style Changes Map: ",O),oe(x,O);break;case"addClass":o.log("addding class to ".concat(x," named ").concat(k)),x.addClass(k);break;case"removeClass":o.log("remove class from ".concat(x," named ").concat(k)),x.removeClass(k);break;case"documentTitle":if(o.log("changing document title from ".concat(x," to ").concat(k)),r){var A,T=Ne(r);try{for(T.s();!(A=T.n()).done;)"tabChange"==A.value&&function(){o.log("catching event tabchange..");var e=document.title;document.addEventListener("visibilitychange",(function(t){return p(t,k,e)}))}()}catch(e){T.e(e)}finally{T.f()}}break;default:o.log("Unknown edit type: ",n)}else if("setattribute"===t)switch(o.log("Setting attribute: ",attribute,k),attribute){case"src":x.css("content","url(".concat(k.trim(),")"));break;case"style":var E=k.split(":")[0].trim(),_=k.split(":")[1].trim();x.css(E,_,"!important")}else if("replace"===t)o.log("Replacing: ",k),x.replaceAll(k);else if("swap"===t){o.log("Swapping: ",d,g);var N=document.querySelector(d),D=document.querySelector(g);y(N,D)}else if("injectscript"===t)o.log("Injecting script: ",k),x.append("<script>".concat(k,"<\/script>"));else if("move"===t){o.log("Moving ".concat(d," to ").concat(g));var j=document.querySelector(d),R=document.querySelector(g);j.remove(),R.prepend(j)}else if("productInfoLookup"===t){var M=f(s,b,k);x.before(M)}else o.failed("No such operator exists yet",t)}else o.failed("Noop Operator: No operation is applied on target ")},d=function(e,t){return e&&t.includes("{{REPLACE_PRODUCTINFO}}")&&(t=l(t,"{{REPLACE_PRODUCTINFO}}",e)),t},f=function(e,t,n){var r=c[0],a=null;switch(t){case"transactionIn2Weeks":var i;a=d(null===(i=e[r].catalog.transactionIn2Weeks)||void 0===i?void 0:i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n),o.log("Replacing transcationIn2Weeks ",e[r].catalog.transactionIn2Weeks);break;case"addToCartIn2Weeks":var s;a=d(null===(s=e[r].catalog.addToCartIn2Weeks)||void 0===s?void 0:s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n),o.log("Replacing AddToCartCount ",e[r].catalog.addToCartIn2Weeks);break;case"productViewCount":var u;a=d(null===(u=e[r].catalog.productViewCount)||void 0===u?void 0:u.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n),o.log("Replacing productViewCount for",e[r].catalog.productViewCount);break;default:o.failed("no such type found for productInfoLookup operator")}return a},p=function(){var e=r(a().mark((function e(t,n,r){var o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.isArray(n)?n:[n],i=0;case 2:if(!(i<o.length)){e.next=16;break}if(!document.hidden){e.next=12;break}return document.title=o[i],e.next=7,de(3e3);case 7:return document.title=r,e.next=10,de(3e3);case 10:e.next=13;break;case 12:document.title=r;case 13:i++,e.next=2;break;case 16:if(document.hidden){e.next=21;break}return document.title=r,e.abrupt("return");case 21:p(t,n,r);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0),window.removeEventListener("touchend",e,!0))},h=function e(){if(!(parseInt(sessionStorage.getItem(i))>0)){sessionStorage.setItem(i,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",g,!0),window.addEventListener("touchend",g,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),document.documentElement.removeEventListener("visibilitychange",e,{once:!0}),document.documentElement.removeEventListener("popstate",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",g,!0),window.removeEventListener("touchend",g,!0)}),15e3)}},m=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",g,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var i=a.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},y=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var s=0;s<a.children.length;s++)a.children[s].isEqualNode(t)&&(r=s);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},w=function e(t){if(window.jQuery){var n,r=Ne(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;try{if(!1===u(a))return!1}catch(e){return o.failed("Couldn't apply action ".concat(a," with error ").concat(e.message)),e}}}catch(e){r.e(e)}finally{r.f()}}else setTimeout((function(){e(t)}),10)},e.abrupt("return",w(t));case 13:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}var Re=function(e,t){return je.apply(this,arguments)};function Me(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ve=new T("Nextday Treatment Repository"),Ue=function(){function e(t){s(this,e);var n=t.treatments,r=t.treatmentWeights;this.treatments=n,this.treatmentWeights=r}var t,n;return u(e,[{key:"getMatchedTreatments",value:function(){var e=this.treatmentWeights,t=this.getUserGroup(),n=this.treatments;if(e){var r,o=t&&e[t]?e[t]:e.default,a=Me(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(o[i.id]&&(i.weight=o[i.id].weight,i.actions.find((function(e){return e.variants})))){var s,c=Me(i.actions);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.variants)for(var l=0,d=Object.keys(u.variants);l<d.length;l++){var f,p,v,g=d[l];null!==(f=o[i.id])&&void 0!==f&&f.variants&&null!==(p=o[i.id])&&void 0!==p&&p.variants[g]&&(u.variants[g].weight=null===(v=o[i.id])||void 0===v?void 0:v.variants[g])}}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){a.e(e)}finally{a.f()}}return Ve.log("".concat(n.length," treatments user group matched")),n.length?n:[]}},{key:"getUserGroup",value:function(){return window.matchMedia(v).matches?"UGB":"UGA"}}],[{key:"getTreatments",value:(n=r(a().mark((function e(){var t,n,r,o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ve.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return Ve.failed("Treatments not found in local storage"),e.next=9,X();case 9:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return Ve.failed("Treatments are expired"),e.next=19,X();case 19:return r=e.sent,s={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(s)),e.abrupt("return",r);case 23:return Ve.success("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getTreatmentWeights",value:(t=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),Ve.warn(e.t0.message),this.treatmentWeights=null;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return t.apply(this,arguments)})}]),e}(),He=Ue,Fe=new T("Nextday Counter Checker"),Be=function(e){Fe.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return Ge(n,r);case"CABasketPrice":return We(n,r);default:return Fe.failed("No such operator",t),!1}},Je=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return Fe.failed("No such type",t),null}}catch(t){return Fe.failed("Could not get counter ".concat(e),t),null}},Ge=function(e,t){var n=parseInt(Je(w,"session"));return Fe.log("Page views counter value: ",n),null===n?(Fe.failed("Pageviews counter not found in session storage"),!1):ce(n,e,parseInt(t))},We=function(e,t){var n=parseInt(Je(I,"local"));return Fe.log("Coupon applicable basket price counter value: ",n),null===n?(Fe.failed("Coupon applicable basket price counter not found in local storage"),!1):ce(n,e,parseInt(t))},$e=new T("Nextday Element Checker"),ze=function(e){$e.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,s=e.selectorFallback,c=void 0===s?null:s,u=a;if(u&&!document.querySelector(u)&&(u=c||u),null===n)return ce(document.querySelector(u),r,o);if(u&&!document.querySelector(u))return $e.failed("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return $e.failed("Selector not found on page"),!1;switch(u?t=document.querySelector(u):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var l;l=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(u).textContent.replace("TL","").replace(".",""));var d=parseInt(l);return ce(d,r,o);case"classList":return ce(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return ce(f,r,o);case"style":var p=getComputedStyle(t),v=o.split(":")[0].trim(),g=o.split(":")[1].trim(),h=p[v];return ce(h,r,g);default:return $e.failed("Operator not defined"),!1}},Ke=new T("Nextday Function Checker"),Qe=function(e,t){Ke.log("Checking rule",JSON.stringify(e));var n=t.productInfo,r=e.operator,o=e.condition,a=e.value,i=e.bindings;if(!r)return Ke.failed("Rule function not defined"),!1;var s={};"productInfo"==i&&(s={productInfo:n});var c=Function(r).bind(s)();return ce(c,o,a)},Ye=new T("Nextday Session Checker"),Ze=function(e){Ye.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"duration":return Xe(n,r);case"history":return et(n,r);default:return null}},Xe=function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(window.sessionStorage.getItem(m)))}catch(e){return Ye.failed("Could not get session timestamp",e),Date.now()}}())/1e3;return ce(n,e,parseInt(t))},et=function(e,t){var n,r=null===(n=window.sessionStorage.getItem(y))||void 0===n?void 0:n.split(",");return ce(r,e,t)},tt=new T("Nextday Env Checker"),nt=function(e){tt.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(v).matches?"mobile":"desktop";return ce(o,n,r)}},rt=new T("Nextday RandomPct Checker"),ot=function(){var e=r(a().mark((function e(t){var n,r,o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rt.log("Checking rule",JSON.stringify(t)),n=t.condition,r=t.value,o=t.salt){e.next=5;break}return rt.failed("Salt is not defined"),e.abrupt("return",!1);case 5:return e.next=7,le();case 7:return i=e.sent,e.next=10,ne(i+o);case 10:return s=e.sent,c=s,e.abrupt("return",ce(c,n,r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=new T("Nextday ProductInfo Checker"),it=function(e,t){at.log("Checking rule",JSON.stringify(e));var n=e.operator,r=e.condition,o=e.value,a=null;switch(n){case"transactionIn2Weeks":at.log("Getting TransactionCount for sku ",t.skuList[0]),a=st(t.skuList[0],t.productInfo);break;case"addToCartIn2Weeks":at.log("Getting AddToCartCount for sku ",t.skuList[0]),a=ct(t.skuList[0],t.productInfo);break;case"productViewCount":at.log("Getting productViewCount for sku ",t.skuList[0]),a=ut(t.skuList[0],t.productInfo)}return ce(a,r,o)},st=function(e,t){var n,r;return null===(n=t[e])||void 0===n||null===(r=n.catalog)||void 0===r?void 0:r.transactionIn2Weeks},ct=function(e,t){var n,r;return null===(n=t[e])||void 0===n||null===(r=n.catalog)||void 0===r?void 0:r.addToCartIn2Weeks},ut=function(e,t){var n,r;return null===(n=t[e])||void 0===n||null===(r=n.catalog)||void 0===r?void 0:r.productViewCount};function lt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ft=new T("Nextday Rule Engine"),pt=function(){function e(t){s(this,e);var n=t.baseRuleSet,r=t.businessRuleSet,o=t.bindings,a=t.callback,i=void 0===a?null:a;this.baseRuleSet=n,this.businessRuleSet=r,this.callback=i,this.bindings=o}var t,n,o;return u(e,[{key:"checkRules",value:(o=r(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=lt(this.baseRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return o.apply(this,arguments)})},{key:"checkBusinessRules",value:(n=r(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=lt(this.businessRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.businessRuleId);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return n.apply(this,arguments)})},{key:"checkRule",value:(t=r(a().mark((function e(t){var n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.chain,r=t.chain_condition,o=t.type,i=null,e.t0=o,e.next="session"===e.t0?5:"counter"===e.t0?7:"element"===e.t0?9:"dataLayer"===e.t0?11:"url"===e.t0?13:"function"===e.t0?15:"environment"===e.t0?17:"random"===e.t0?19:"productInfoLookup"===e.t0?23:25;break;case 5:return i=Ze(t),e.abrupt("break",27);case 7:return i=Be(t),e.abrupt("break",27);case 9:return i=ze(t),e.abrupt("break",27);case 11:return i=Oe(t),e.abrupt("break",27);case 13:return i=xe(t),e.abrupt("break",27);case 15:return i=Qe(t,this.bindings),e.abrupt("break",27);case 17:return i=nt(t),e.abrupt("break",27);case 19:return e.next=21,ot(t);case 21:return i=e.sent,e.abrupt("break",27);case 23:return i=it(t,this.bindings),e.abrupt("break",27);case 25:return ft.failed("No such rule type: ".concat(o)),e.abrupt("return",null);case 27:if(!n){e.next=53;break}e.t1=r,e.next="and"===e.t1?31:"or"===e.t1?38:"xor"===e.t1?45:51;break;case 31:if(e.t2=i,!e.t2){e.next=36;break}return e.next=35,this.checkRule(n);case 35:e.t2=e.sent;case 36:return i=e.t2,e.abrupt("break",53);case 38:if(e.t3=i,e.t3){e.next=43;break}return e.next=42,this.checkRule(n);case 42:e.t3=e.sent;case 43:return i=e.t3,e.abrupt("break",53);case 45:return e.t4=i,e.next=48,this.checkRule(n);case 48:return e.t5=e.sent,i=e.t4!=e.t5,e.abrupt("break",53);case 51:return ft.failed("No such chain condition"),e.abrupt("break",53);case 53:return e.abrupt("return",i);case 54:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function vt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ht=new T("BeagleOnComponent"),mt=function(){var e=r(a().mark((function e(t,n,o,i){var s,c,u,l,d,f,p,g,h,m,y,w,b,L,C,P,O,A,T,E,_,N,j,R,M,q,V,H;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H=function(){var e=I;if(window.location.href.includes("/siparis-listesi.html")){var t=Array.from(document.querySelectorAll(".price"));if(t.push.apply(t,Le(Array.from(document.querySelectorAll(".new-price")))),!t.length)return ht.failed("Price elements not found"),void window.localStorage.setItem(e,0);ht.log("Price elements: ",t);var n=t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);ht.log("Coupon applicable total price: ",n),n>=0&&window.localStorage.setItem(e,n)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)},V=function(){return V=r(a().mark((function e(n){var r,o,s,u,l,f,v,m,y,w,b,k,x,S,I,L,C,O,E,_,N,j,R,M,q,V,U,H,F;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,o=n.actions,s=n.baseRuleSet,u=n.device,l=n.dependant_on_treatment,f=n.reapply_event,v=n.businessRuleSet,m=n.weight,y=n.delay,w=n.productInfoStorage,!c||c.includes(r)){e.next=3;break}return e.abrupt("return");case 3:if("mobile"!==u||d){e.next=6;break}return ht.failed("Treatment device 'mobile' mismatch"),e.abrupt("return");case 6:if("desktop"!==u||!d){e.next=9;break}return ht.failed("Treatment device 'desktop' mismatch"),e.abrupt("return");case 9:if(f){b=f,Array.isArray(f)||(b=[f]),ht.log("Reapply event '".concat(f,"' found for treatment: ").concat(r)),k=vt(b);try{for(k.s();!(x=k.n()).done;)S=x.value,(I=T[S]?T[S]:[]).includes(r)?ht.log("Treatment already added for reapply event"):T[S]=[].concat(Le(I),[r])}catch(e){k.e(e)}finally{k.f()}}if(L=JSON.parse(sessionStorage.getItem(p)),C=P,w&&(L=JSON.parse(sessionStorage.getItem(g)),C=JSON.parse(sessionStorage.getItem(h))),E=new pt({baseRuleSet:s,businessRuleSet:v,bindings:O={productInfo:C,skuList:L}}),ht.log("Starting base rule set check for treatment: "+r),e.t0=!s,e.t0){e.next=21;break}return e.next=20,E.checkRules();case 20:e.t0=e.sent;case 21:if(!e.t0){e.next=63;break}if(_=100===m?0:100-m||50,l&&(j=null===(N=A.find((function(e){return e.id===l})))||void 0===N?void 0:N.weight,_=100===j?0:100-j||50),ht.log("Treatment skip ratio: "+_),R=l||r,1!==i){e.next=30;break}e.t1=100,e.next=33;break;case 30:return e.next=32,ne(t+R);case 32:e.t1=e.sent;case 33:if(M=e.t1,ht.log("TreatmentPct: "+M+" with debug mode ".concat(i?"on":"off")),q=null,!v){e.next=42;break}return ht.log("Starting sub variant rule set check for treatment: "+r),e.next=40,E.checkBusinessRules();case 40:(q=e.sent)?ht.log("Applying business rule transformation with id: ",q):ht.log("Applying treatment with default values");case 42:if(!(M<_)){e.next=46;break}return ht.log("Treatment ".concat(r," skipped due to treatment split ratio")),G(r,q,F,"skipped",l),e.abrupt("return");case 46:return e.next=48,ie(t,o,q);case 48:if(V=e.sent,U=D(V,2),H=U[0],F=U[1],!y){e.next=55;break}return e.next=55,y(y);case 55:return e.next=57,Re(H,O);case 57:if(!1!==e.sent){e.next=61;break}return G(r,q,F,"failed"),e.abrupt("return");case 61:return G(r,q,F,"applied"),e.abrupt("return");case 63:ht.failed("Rule check failed for treatment: ",r);case 64:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)},q=function(e){return V.apply(this,arguments)},n.sendLogs(),s=window.location.search,c=i&&s.includes("filter=")?s.slice(s.indexOf("[")+1,s.lastIndexOf("]")).split(",").map((function(e){return parseInt(e,10)})):null,ae(),se(),setTimeout((function(){Z()}),2e3),u=He.getTreatments(),l=He.getTreatmentWeights(),d=window.matchMedia(v).matches,f={subtree:!0,childList:!0,attributes:!0},p=k,g=x,h=S,H(),window.location.href.includes("/siparis-listesi.html")&&(m=new MutationObserver((function(){ht.log("Mutation observed, calling collectCABasketPrice"),H()})),(y=document.querySelector("#checkoutForm"))&&m.observe(y,f)),e.next=18,Promise.all([u,l,o]);case 18:if(w=e.sent,b=D(w,3),L=b[0],C=b[1],P=b[2],ht.success("Found treatments: ",L),O=new He({treatments:L,treatmentWeights:C}),B(U.TreatmentRepositoryCreated),(A=O.getMatchedTreatments()).length){e.next=31;break}return ht.log("No treatments matched, returning without further action"),Z(),e.abrupt("return");case 31:T={},E=vt(A),e.prev=33,E.s();case 35:if((_=E.n()).done){e.next=47;break}return N=_.value,e.prev=37,e.next=40,q(N);case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(37),ht.failed("Error executing rules",e.t0);case 45:e.next=35;break;case 47:e.next=52;break;case 49:e.prev=49,e.t1=e.catch(33),E.e(e.t1);case 52:return e.prev=52,E.f(),e.finish(52);case 55:for(Z(),B(U.TreatmentsApplied),ht.success("Applied treatments: ",window.beagleInfoLayer.a),setInterval((function(){n.updateLatestChanges()}),1e3),j=function(){var e=M[R],t=T[e],n=A.filter((function(e){return t.includes(e.id)}));switch(e){case"infinite_scroll":var r=new ResizeObserver((function(){var e,t=vt(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;ht.log("Retrying treatment ".concat(r.id," from infinite_scroll")),q(r)}}catch(e){t.e(e)}finally{t.f()}}));r.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,t=vt(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;ht.log("Retrying treatment ".concat(r.id," from timeout")),q(r)}}catch(e){t.e(e)}finally{t.f()}}),500);break;case"element_change":var o,a=vt(n);try{var i=function(){var e,t=o.value,n=vt(Array.isArray(t.reapply_selector)?t.reapply_selector:[t.reapply_selector]);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=document.querySelector(r);a&&new MutationObserver((function(){ht.log("Retrying treatment ".concat(t.id," from element_change")),q(t)})).observe(a,f)}}catch(e){n.e(e)}finally{n.f()}};for(a.s();!(o=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}break;case"on_scroll":window.onscroll=function(){var e,t=vt(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;ht.log("Retrying treatment ".concat(r.id," from on_scroll")),q(r)}}catch(e){t.e(e)}finally{t.f()}};break;case"query_search_change":var s=window.location.search,c=new MutationObserver((function(){if(window.location.search!==s){s=window.location.search;var e,t=vt(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;ht.log("Retrying treatment ".concat(r.id," from query_search_change")),q(r)}}catch(e){t.e(e)}finally{t.f()}}}));c.observe(document,f);break;default:ht.failed("Reapply event not found: ",e)}},R=0,M=Object.keys(T);R<M.length;R++)j();B(U.ReapplyTreatmentListeners);case 62:case"end":return e.stop()}}),e,null,[[33,49,52,55],[37,42]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),yt=mt;function wt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ct(e,n),o=r.key,a=r.storage,i=r.initialValue;(!i||parseFloat(i)<parseFloat(t))&&a.setItem(o,t)},xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ct(e,t),r=n.key,o=n.storage,a=n.initialValue;a||o.setItem(r,0),o.setItem(r,parseInt(o.getItem(r))+1)},St=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ct(e,n),o=r.key,a=r.storage;a.setItem(o,t)},It=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ct(e,n),o=r.key,a=r.storage,i=r.initialValue;i||"true"===(null==i?void 0:i.toString().trim())||a.setItem(o,t)},Lt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"list",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t&&""!==t){var o=Ct(e,r),a=o.key,i=o.storage,s=o.initialValue;if("list"===n)return s||(s=[]),s.push(t),void i.setItem(a,JSON.stringify(s));if("map"===n)return s||(s={}),s[t]||(s[t]=0),s[t]+=1,void i.setItem(a,JSON.stringify(s));throw new Error("f=addMode; unexpected type="+n)}},Ct=function(e,t){var n=O+e,r=t?window.sessionStorage:window.localStorage;return{key:n,storage:r,initialValue:_t(r.getItem(n))}},Pt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ct(e,n),o=r.key,a=r.storage,i=r.initialValue;i||a.setItem(o,t)},Ot=function(){var e,t,n,r,o,a,i=window.beagleInfoLayer;if(i){if([localStorage,sessionStorage].forEach((function(e){Object.keys(e).filter((function(e){return e.startsWith("ND_Seg_current")})).forEach((function(t){return e.removeItem(t)}))})),Lt("category",i.gaProductCategory,"list",!0),xt("alltimeHitCount",!1),xt("sessionHitCount",!0),i.vvsCartTotal){var s=l(i.vvsCartTotal.replace(" TL",""),".","");kt("alltimeBasketTotalMax",s,!1),kt("sessionBasketTotalMax",s,!0),St("currentBasketTotal",s,!0)}if(i.gaCartProducts){var c,u={price:0,category:null},d={sum:0,avg:0,count:0},f=wt(i.gaCartProducts);try{for(f.s();!(c=f.n()).done;){var p=c.value;Lt("alltimeCartCategoryMode",p.category,"list",!1),Lt("sessionCartCategoryMode",p.category,"list",!0);var v=parseFloat(p.price);v>u.price&&(u={price:u.price,category:p.category}),"EKHZM-KUR1"!==p.id&&"EKH-353"!==p.id&&"KURULUM HİZMETİ"!==p.list&&(d.count+=1,d.sum+=v,d.avg=parseFloat(d.sum/d.count).toFixed(2))}}catch(e){f.e(e)}finally{f.f()}d.count>0&&St("sessionBasketTotalAvg",JSON.stringify(d),!0),u.price>0&&St("currentCartMaxpriceCategory",u.category,!0)}if(i.PageType)switch(Lt("pagetype",i.PageType,"list",!0),i.PageType){case"Homepage":xt("alltimeHomeHitCount",!1),xt("sessionHomeHitCount",!0);break;case"Listingpage":Lt("alltimePLPCategoryMode",{name:i.vvsPLPName,link:window.location.pathname},"list",!1),Lt("sessionPLPCategoryMode",{name:i.vvsPLPName,link:window.location.pathname},"list",!0),St("currentPLPCategory",i.vvsPLPName,!0),xt("alltimePLPHitCount",!1),xt("sessionPLPHitCount",!1);break;case"Productpage":Lt("alltimePDPCategoryMode",i.gaProductCategory,"list",!1),Lt("sessionPDPCategoryMode",i.gaProductCategory,"list",!0),xt("alltimePDPHitCount",!1),xt("sessionPDPHitCount",!0),St("currentPDPCategory",i.gaProductCategory,!0),St("currentPDPGroup",i.vvsCategory,!0),St("currentPDPShowroomAvail",i.vvsIsShowroom||!1,!0),St("currentPDPPrice",null===(e=i.vvsPDPProduct)||void 0===e?void 0:e.price,!0)}if((null===(t=i.u)||void 0===t?void 0:t.indexOf("siparis-listesi.html"))>=0&&(Lt("pagetype","Basket","list",!0),xt("alltimeCartHitCount",!1),xt("sessionCartHitCount",!0)),(null===(n=i.u)||void 0===n?void 0:n.indexOf("adres-listesi.html"))>=0&&(Lt("pagetype","Address","list",!0),xt("alltimeAddressHitCount",!1),xt("sessionAddressHitCount",!0)),(null===(r=i.u)||void 0===r?void 0:r.indexOf("odeme.html"))>=0&&(Lt("pagetype","Payment","list",!0),xt("alltimePaymentHitCount",!1),xt("sessionPaymentHitCount",!0)),(null===(o=i.u)||void 0===o?void 0:o.indexOf("siparis-ozeti.html"))>=0&&(Lt("pagetype","Purchase","list",!0),xt("alltimePurchaseHitCount",!1),xt("sessionPurchaseHitCount",!0),St("currentPurchasedProducts",JSON.stringify(function(){var e,t=[],n=wt(window.dataLayer);try{for(n.s();!(e=n.n()).done;){var r,o,a=null===(r=e.value.ecommerce)||void 0===r||null===(o=r.purchase)||void 0===o?void 0:o.products;if(a){var i,s=wt(a);try{for(s.s();!(i=s.n()).done;){var c=i.value;t.push(c.id.toLowerCase())}}catch(e){s.e(e)}finally{s.f()}return t}}}catch(e){n.e(e)}finally{n.f()}var u=document.querySelectorAll('[class*="product_sku_code"]');if(u){for(var l=0;l<u.length;l++)t.push(u[l].innerText.toLowerCase().trim());return t}var d,f=wt(document.querySelectorAll('[src*="www.googleadservices.com/pagead/conversion"]'));try{for(f.s();!(d=f.n()).done;){var p=d.value.getAttribute("src").split("item=")[1];if(p){var v,g=wt(p.split("**"));try{for(g.s();!(v=g.n()).done;){var h=v.value.split("*")[2];h&&t.push(h.trim().toLowerCase())}}catch(e){g.e(e)}finally{g.f()}}}}catch(e){f.e(e)}finally{f.f()}return t}()),!0)),(null===(a=i.u)||void 0===a?void 0:a.indexOf("vivense-uye-kayit.html"))>=0&&(Lt("pagetype","Register","list",!0),xt("alltimeSignupHitCount",!1),xt("sessionSignupHitCount",!0)),i.window){var g=i.window.split("x"),h=g[1]+"x"+g[0];St("windowshape",h),St("browserWindowShape",i.window),Lt("sessionDistinctWindowShapes",h,"map",!0)}Lt("sessionDistinctAgents",i.navAgent,"map",!0),St("currentLoginMember",i.vvsViewLoggedin,!0),St("sessionLoginMember",i.vvsViewLoggedin,!0),It("alltimeLoginMember",i.vvsViewLoggedin,!1),It("dbm","on"===i.dbm,!1),It("isShowroom","true"==i.vvsScrGAIsAdmin,!1);var m=i.vvsCntFavProds>=0;St("currentHasFavorites",m,!0),St("alltimeHasFavorites",m,!1),Tt(),At(),Et()}},At=function(){var e,t,n,r,o,a=(o=null===(n=window.navigator)||void 0===n||null===(r=n.userAgent)||void 0===r?void 0:r.toLocaleLowerCase())?o.indexOf("iphone")>=0||o.indexOf("ipad")>=0?"ios":o.indexOf("android")>=0?"android":o.indexOf("mac")>=0?"mac":o.indexOf("windows")>=0?"windows":o.indexOf("linux")>=0?"linux":o.indexOf("X11")>=0?"unix":"na":null;Pt("browserNavDevice",a);var i=null;["android","ios"].includes(a)?i="mobile":["linux","unix","mac"].includes(a)&&(i="desktop"),Pt("browserNavPlatform",i),Pt("browserColorDepth",screen.colorDepth),kt("browserNavHistSize",null===(e=window.history)||void 0===e?void 0:e.length),St("browserNavHWCores",null!==(t=navigator)&&void 0!==t&&t.hardwareConcurrency?navigator.hardwareConcurrency:-1);var s=navigator.language?navigator.language.indexOf("-")>=0?navigator.language.split("-")[0]:navigator.language:"na";St("browserNavLanguage",s),St("browserNavVendor",navigator.vendor)},Tt=function(){if(document.referrer){var e=new URL(document.referrer).host;e&&(e.indexOf("vivense.com")>=0?Pt("sessionFirstEntry","direct"):Pt("referrer",e))}},Et=function(){var e=new Date;St("currentDayOfWeek",e.getDay(),!0),St("currentHourOfDay",e.getHours(),!0)};function _t(e){try{return JSON.parse(e)}catch(t){return e}}r(a().mark((function e(){var t,n,r,o,i,s,c,u,l,d,f,p,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(U.BeagleLoaded),t=null,n=null,r=new T,o="ND_TimeoutCount",i=0,r.info("Nextday initializing"),e.prev=7,c=F(),u=Ie(),l=ue(),t=new be,B(U.Initialized),e.next=15,le();case 15:return d=e.sent,r.log("Found cookie identifier: ",d),e.next=19,ne(d);case 19:if(f=e.sent,l){e.next=39;break}if(!(f<50)){e.next=28;break}if(-1!==f){e.next=24;break}throw new Error("Could not determine cookie pct");case 24:J("isOn",n=!1),e.next=30;break;case 28:J("isOn",n=!0);case 30:if(B(U.UserOnOff),pe()){e.next=33;break}throw new Error("sendBeacon is not supported");case 33:if(!((i=parseInt(sessionStorage.getItem(o))||0)>1)){e.next=37;break}throw B(U.TimeoutThresholdReached),new Error("Nextday timeout threshold reached");case 37:e.next=41;break;case 39:r.info("Debug mode on: all applicable treatments will be applied"),window.localStorage.setItem(C,!0);case 41:if(document.documentElement.classList.contains("nextDay-hide")){e.next=45;break}throw B(U.ScriptTimeOut),sessionStorage.setItem(o,i+1),new Error("Nextday script timed out");case 45:return e.next=47,c;case 47:if(Ot(),null!==(s=window.beagleInfoLayer)&&void 0!==s&&s.vvsIsShowroom&&window.localStorage.setItem(C,!0),"true"===window.localStorage.getItem(C)?(r.warn("User is out of scope"),null!="isOn"&&delete window.beagleInfoLayer.isOn):(window.dataLayer=window.dataLayer||[],!0===(null===(p=window.beagleInfoLayer)||void 0===p?void 0:p.isOn)?window.dataLayer.push({event:"GLOV",GLOV_ON:"true"}):!1===(null===(v=window.beagleInfoLayer)||void 0===v?void 0:v.isOn)&&window.dataLayer.push({event:"GLOV",GLOV_ON:"false"})),!1!==n){e.next=53;break}throw new Error("Control group: no treatments applied");case 53:r.log("Found cookie percentage: ",f),r.log("Split_ratio: ",50),r.log("cookiePct < SPLIT_RATIO",f<50),r.info("Control group ratio: ".concat(50,"%")),yt(d,t,u,l),e.next=65;break;case 60:e.prev=60,e.t0=e.catch(7),Z(),console.warn("Nextday: ",e.t0.message),t.sendLogs(e.t0.message,!0);case 65:case"end":return e.stop()}}),e,null,[[7,60]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixldkJBdkJ5SyxPQUFPMEMsZ0JBQVAsT3VCRUgxQyxPQUFPc0csVUFBWXRHLE9BQU9zRyxXQUFhLElBQ0YsS0FBakMsVUFBQXRHLE9BQU8wQyx1QkFBUCxlQUF3QnNsQixNQUMxQmhvQixPQUFPc0csVUFBVWhNLEtBQUssQ0FBQ3FpQixNQUFPLE9BQVEyTCxRQUFTLFVBQ0wsS0FBakMsVUFBQXRvQixPQUFPMEMsdUJBQVAsZUFBd0JzbEIsT0FDakNob0IsT0FBT3NHLFVBQVVoTSxLQUFLLENBQUNxaUIsTUFBTyxPQUFRMkwsUUFBUyxZQUl0QyxJQUFUTixFQTlFUCx1QkE4RTZCLElBQUlqeEIsTUFBTSx3Q0E5RXZDLFFBZ0ZHZ04sRUFBTzVDLElBQUksNEJBQTZCaW5CLEdBQ3hDcmtCLEVBQU81QyxJQUFJLGdCaEMvRlksSWdDZ0d2QjRDLEVBQU81QyxJQUFJLDBCQUEyQmluQixFaENoR2YsSWdDaUd2QnJrQixFQUFPckssS0FBUCwrQmhDakd1QixHZ0NpR3ZCLE1BRUFtb0IsR0FBUzlTLEVBQVkrUyxFQUFTQyxFQUFvQkMsR0FyRnJELGtEQXVGRzdULElBQ0FqTixRQUFRSSxLQUFLLFlBQWEsS0FBSStDLFNBQzlCeWQsRUFBUTRCLFNBQVMsS0FBSXJmLFNBQVMsR0F6RmpDLHlEQUFELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9zdHJpbmdVdGlscy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlMaWtlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aEhvbGVzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5TGltaXQuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVJlc3QuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9CZWFnbGVJbmZvTGF5ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlNb25pdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvdXJsQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcGkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheUFwcGx5QWN0aW9ucy9yZXBsYWNlLXV0aWxzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheUFwcGx5QWN0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvY291bnRlckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9lbGVtZW50Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2Z1bmN0aW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3Nlc3Npb25DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZW52Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3JhbmRvbU51bWJlckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9wcm9kdWN0SW5mb0NoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL0JlYWdsZU9uL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvc2VnbWVudGF0aW9uLXV0aWxzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheUNsaWVudFNESy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBkZWZpbmUoR3AsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShcbiAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCxcbiAgICBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgKTtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgZGVmaW5lKEdwLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9KTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCBpbiBtb2Rlcm4gZW5naW5lc1xuICAvLyB3ZSBjYW4gZXhwbGljaXRseSBhY2Nlc3MgZ2xvYmFsVGhpcy4gSW4gb2xkZXIgZW5naW5lcyB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBnbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG4gIH0gZWxzZSB7XG4gICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGU7IH07XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBfdHlwZW9mKG9iaik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn0iLCJleHBvcnQgY29uc3QgcmVwbGFjZUFsbCA9IChzdHIsIGZpbmQsIHJlcGxhY2UgPSBcIlwiKSA9PiB7XG4gIGlmICghc3RyKSByZXR1cm4gXCJcIjtcblxuICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKGZpbmQpO1xuICBpZiAoaW5kZXggPCAwKSByZXR1cm4gc3RyO1xuXG4gIHdoaWxlIChzdHIuaW5kZXhPZihmaW5kKSA+PSAwKSB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihmaW5kKTtcbiAgICBzdHIgPSAoaW5kZXggPiAwID8gc3RyLnN1YnN0cmluZygwLCBpbmRleCkgOiBcIlwiKSArIHJlcGxhY2UgKyBzdHIuc3Vic3RyaW5nKGluZGV4ICsgZmluZC5sZW5ndGgpO1xuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge3JlcGxhY2VBbGx9IGZyb20gXCIuL3N0cmluZ1V0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBDT09LSUVfTkFNRSA9IFwiX2dhXCI7XG4vLyBUT0RPIHJldmVydCB0aGUgZm9sbG93aW5nIHN0YWdpbmcgZW52IGNoZWNrIGFmdGVyIG1vdmluZyB0byBuZXcgYnJhbmNoIHN0cnVjdHVyZVxuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVFNfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L3RyZWF0bWVudHMuanNvblwiO1xuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OID0gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJzdGFnaW5nLnZpdmVuc2VcIikgPyBcImh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvd2VpZ2h0c19zdGFnaW5nLmpzb25cIiA6IFwiaHR0cHM6Ly9uZHZpdmVuc2UuZ2xvdi5haS93ZWlnaHRzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBTVFlMRVNIRUVUX0xPQ0FUSU9OID0gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJzdGFnaW5nLnZpdmVuc2VcIikgPyBcImh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvbmQtc3R5bGVzX3N0YWdpbmcuY3NzXCIgOiBgaHR0cHM6Ly9uZHZpdmVuc2UuZ2xvdi5haS9uZC1zdHlsZXMuY3NzP2lkPSR7cmVwbGFjZUFsbChuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEzKS5yZXBsYWNlKFwiVFwiLCBcIlwiKSwgXCItXCIsIFwiXCIpfWA7XG5leHBvcnQgY29uc3QgTE9HX0FQSV9VUkwgPSBcImh0dHBzOi8vZXVyb3BlLXdlc3QzLW5leHRkYXktMzRlYjMuY2xvdWRmdW5jdGlvbnMubmV0L2FwaS9sb2dSZXNwb25zZVwiO1xuZXhwb3J0IGNvbnN0IExPT0tVUF9BUElfVVJMID0gXCJodHRwczovL2NhdGFsb2ctYXBpLmFkb3JhYWkuY29tXCI7XG5leHBvcnQgY29uc3QgTU9CSUxFX01FRElBX1FVRVJZID0gXCIobWF4LXdpZHRoOiA0NDBweClcIjtcbi8vIENvbnRyb2wgZ3JvdXAgcGVyY2VudGFnZVxuZXhwb3J0IGNvbnN0IFNQTElUX1JBVElPID0gNTA7XG4vLyBTa2lwcGVkIHRyZWF0bWVudCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UX1JBVElPID0gNTA7XG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19EVVJBVElPTiA9IDE7XG5leHBvcnQgY29uc3QgTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04gPSAxO1xuZXhwb3J0IGNvbnN0IExJU1RfTU9ERV9CRUFHTEVfS0VZUyA9IFtcInBhZ2V0eXBlXCIsIFwiY2F0ZWdvcnlcIiwgXCJhbGx0aW1lUExQQ2F0ZWdvcnlNb2RlXCIsIFwic2Vzc2lvblBMUENhdGVnb3J5TW9kZVwiLFxuICBcImFsbHRpbWVQRFBDYXRlZ29yeU1vZGVcIiwgXCJzZXNzaW9uUERQQ2F0ZWdvcnlNb2RlXCIsIFwiYWxsdGltZUNhcnRDYXRlZ29yeU1vZGVcIiwgXCJzZXNzaW9uQ2FydENhdGVnb3J5TW9kZVwiXTtcblxuXG5leHBvcnQgY29uc3QgU0VTU0lPTl9TVE9SQUdFX0tFWVMgPSB7XG4gIFNFU1NJT05fSUQ6IFwiX19uZXh0ZGF5X3Nlc3Npb25faWRcIixcbiAgU0VTU0lPTl9USU1FU1RBTVA6IFwiTkRfU2Vzc2lvblRpbWVzdGFtcFwiLFxuICBTRVNTSU9OX0hJU1RPUlk6IFwiQk5fU2Vzc2lvbkhpc3RvcnlcIixcbiAgVFJFQVRNRU5UUzogXCJORF9UcmVhdG1lbnRzXCIsXG4gIFBBR0VfVklFV1M6IFwiTkRfUGFnZVZpZXdzXCIsXG4gIFBPUFVQX0RJU1BMQVlfRkxBRzogXCJORF9Qb3B1cERpc3BsYXlGbGFnXCIsXG4gIE5EX1NLVV9MSVNUOiBcIk5EX1NrdUxpc3RMaXN0XCIsXG4gIE5EX1NLVV9MSVNUX0JBU0tFVDogXCJORF9Ta3VMaXN0QmFza2V0XCIsXG4gIE5EX1NLVV9JTkZPOiBcIk5EX1Byb2R1Y3RJbmZvTGlzdFwiLFxuICBORF9TS1VfSU5GT19CQVNLRVQ6IFwiTmRfUHJvZHVjdEluZm9CYXNrZXRcIixcbiAgVElNRU9VVF9DT1VOVDogXCJORF9UaW1lb3V0Q291bnRcIixcbn07XG5leHBvcnQgY29uc3QgTE9DQUxfU1RPUkFHRV9LRVlTID0ge1xuICBDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0U6IFwiTkRfQ0FCYXNrZXRQcmljZVwiLFxuICBORF9ERUJVR19NT0RFOiBcIk5EX0RlYnVnXCIsXG4gIE9VVF9PRl9TQ09QRTogXCJORF9PdXRPZlNjb3BlXCIsXG4gIFVTRVJfSUQ6IFwiTkRfVXNlcklkXCIsXG59O1xuXG5leHBvcnQgY29uc3QgQ1VTVE9NX1NUT1JBR0VfUFJFRklYID0gXCJORF9TZWdfXCI7XG4iLCJpbXBvcnQge0xPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5jbGFzcyBMb2dnZXIge1xuICBjb25zdHJ1Y3RvcihvcmlnaW4gPSBcIk5leHRkYXkgQ2xpZW50IFNES1wiKSB7XG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgdGhpcy5ERUJVRyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSk7XG4gIH1cblxuICBpbmZvKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5pbmZvKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmIChERUJVRykge1xuICAgICAgY29uc29sZS5sb2coYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgZmFpbGVkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmICghREVCVUcpIHJldHVybjtcbiAgICBsZXQgbWVzc2FnZUNvbmZpZyA9IFwiJWMlcyAgIFwiO1xuXG4gICAgYXJncy5mb3JFYWNoKChhcmd1bWVudCkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBhcmd1bWVudDtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICBtZXNzYWdlQ29uZmlnICs9IFwiJWQgICBcIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVzICAgXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVvICAgXCI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2cobWVzc2FnZUNvbmZpZywgXCJjb2xvcjogcmVkXCIsIGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgc3VjY2VzcyguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoIURFQlVHKSByZXR1cm47XG4gICAgbGV0IG1lc3NhZ2VDb25maWcgPSBcIiVjJXMgICBcIjtcblxuICAgIGFyZ3MuZm9yRWFjaCgoYXJndW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgYXJndW1lbnQ7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVkICAgXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlcyAgIFwiO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlbyAgIFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2VDb25maWcsIFwiY29sb3I6IGdyZWVuXCIsIGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgd2FybiguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUud2FybihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGVycm9yKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5lcnJvcihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXI7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRoSG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRoSG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXlMaW1pdCBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVSZXN0IGZyb20gXCIuL25vbkl0ZXJhYmxlUmVzdC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG5cbiAgaWYgKF9pID09IG51bGwpIHJldHVybjtcbiAgdmFyIF9hcnIgPSBbXTtcbiAgdmFyIF9uID0gdHJ1ZTtcbiAgdmFyIF9kID0gZmFsc2U7XG5cbiAgdmFyIF9zLCBfZTtcblxuICB0cnkge1xuICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kID0gdHJ1ZTtcbiAgICBfZSA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiaW1wb3J0IHtkZWxheSwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIsIGZvcm1hdERlbGl2ZXJ5RGF0ZX0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTLCBTUExJVF9SQVRJT30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbndpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgPSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyIHx8IHtjaGVja3BvaW50czogW10sXG4gIGE6IHt9LCBlOiB7fSwgZjoge319O1xuXG5jb25zdCBwYXJzaW5nUmVnZXggPSB7XG4gIFBhZ2VUeXBlOiAvKD86UGFnZVR5cGUnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICBjb250ZW50X25hbWU6IC8oPzpjb250ZW50X25hbWVbIF0qOlsgXSpcIikoLiopKD86XCIpLyxcbiAgY29udGVudF9uYW1lX2FsdDogLyg/OmNvbnRlbnRfbmFtZSdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIHZ2c1NjckdBUGFnZVR5cGU6IC8oPzpQYWdlVHlwZSdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIHZ2c1NjckdBT3JkZXJJZDogLyg/OnB1cmNoYXNlW1xcc1xcU10qYWN0aW9uRmllbGRbXFxzXFxTXSonaWQnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICB2dnNTY3JHQU9yZGVyUmV2OiAvKD86cHVyY2hhc2VbXFxzXFxTXSphY3Rpb25GaWVsZFtcXHNcXFNdKidyZXZlbnVlJ1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgdnZzU2NyR0FPcmRlclR5cGU6IC8oPzpwdXJjaGFzZVtcXHNcXFNdKmFjdGlvbkZpZWxkW1xcc1xcU10qJ2RpbWVuc2lvbjE1J1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgdnZzU2NyR0FJc0FkbWluOiAvKD86ZGF0YUxheWVyW1xcc1xcU10qJ2lzQWRtaW4nWyBdKjpbIF0qXCIpKC4qKSg/OlwiKS8sXG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2twb2ludHMgPSB7XG4gIEJlYWdsZUxvYWRlZDogMSxcbiAgSW5pdGlhbGl6ZWQ6IDIsXG4gIFVzZXJPbk9mZjogMyxcbiAgU2NyaXB0VGltZU91dDogNyxcbiAgVHJlYXRtZW50UmVwb3NpdG9yeUNyZWF0ZWQ6IDQsXG4gIFRyZWF0bWVudHNBcHBsaWVkOiA1LFxuICBSZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzOiA2LFxuICBUaW1lb3V0VGhyZXNob2xkUmVhY2hlZDogOCxcbn07XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVJbmZvTGF5ZXJcIik7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIGJlYWdsZUluZm9MYXllclwiKTtcbiAgY29uc3Qgc2NyaXB0cyA9IGRvY3VtZW50LnNjcmlwdHM7XG4gIGNvbnN0IHNjcmlwdHNMZW5ndGggPSBzY3JpcHRzLmxlbmd0aDtcblxuICB0cnkge1xuICAgIHByZXBhcmVEYXRhKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUud2FybihcIkNvdWxkIG5vdCBwcmVwYXJlIGxvZyBkYXRhOiBcIiwgZXJyLm1lc3NhZ2UpO1xuICB9XG5cbiAgaWYgKCFzY3JpcHRzIHx8ICFzY3JpcHRzTGVuZ3RoKSB7XG4gICAgbG9nZ2VyLndhcm4oXCJDb3VsZCBub3QgcGFyc2UgYm9keVwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGZvdW5kU2NyaXB0Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gc2NyaXB0cy5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgIGNvbnN0IHNjcmlwdFRleHRDb250ZW50ID0gc2NyaXB0c1tpXS50ZXh0Q29udGVudDtcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocGFyc2luZ1JlZ2V4KSkge1xuICAgICAgbGV0IGZvdW5kVmFsID0gcGFyc2luZ1JlZ2V4W2tleV0uZXhlYyhzY3JpcHRUZXh0Q29udGVudCk7XG4gICAgICBmb3VuZFZhbCA9IGZvdW5kVmFsID8gZm91bmRWYWxbMV0gOiBudWxsO1xuICAgICAgaWYgKGZvdW5kVmFsKSB7XG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihcIl9hbHRcIikgPiAwKSBrZXkgPSBrZXkuc3Vic3RyaW5nKDAsIGtleS5sYXN0SW5kZXhPZihcIl9hbHRcIikpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKGtleSwgZGVjb2RlVVJJQ29tcG9uZW50KEpTT04ucGFyc2UoXCJcXFwiXCIgKyBmb3VuZFZhbCArIFwiXFxcIlwiKSkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIud2FybihgQ291bGQgbm90IGRlY29kZSBmb3VuZFZhbCAke2ZvdW5kVmFsfWApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvdW5kU2NyaXB0Q291bnQgKz0gMTtcbiAgICAgICAgaWYgKGZvdW5kU2NyaXB0Q291bnQgPT09IE9iamVjdC5rZXlzKHBhcnNpbmdSZWdleCkubGVuZ3RoKSByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGF3YWl0IGRlbGF5KDEwKTtcbiAgLy8gc2NyaXB0cyB3aWxsIGJlIGR5bmFtaWNhbGx5IHVwZGF0ZWQsIGNhbiBoYXZlIGRpZmZlcmVudCBsZW5ndGhzIGJldHdlZW4gd2hlbiBpbml0aWFsaXplZCBhbmQgd2hlbiBjaGVja2luZ1xuICBpZiAoc2NyaXB0c0xlbmd0aCAhPT0gc2NyaXB0cy5sZW5ndGgpIHtcbiAgICBsb2dnZXIubG9nKFwiTmV3IHNjcmlwdHMgZGV0ZWN0ZWQsIHJlLWluaXRpYWxpemluZyBiZWFnbGVJbmZvTGF5ZXJcIik7XG4gICAgYXdhaXQgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcigpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2twb2ludCA9IChjaGVja3BvaW50KSA9PntcbiAgdHJ5IHtcbiAgICBsb2dnZXIubG9nKGBDaGVja3BvaW50OiAnJHtjaGVja3BvaW50fScgUmVhY2hlZCFgKTtcbiAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmNoZWNrcG9pbnRzLnB1c2goe1xuICAgICAgY2hlY2twb2ludDogT2JqZWN0LmtleXMoY2hlY2twb2ludHMpLmZpbmQoKGtleSkgPT4gY2hlY2twb2ludHNba2V5XSA9PT0gY2hlY2twb2ludCksXG4gICAgICBpZDogY2hlY2twb2ludCxcbiAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIud2FybihlKTtcbiAgfVxuICByZXR1cm47XG59O1xuXG5leHBvcnQgY29uc3QgYWRkVG9CZWFnbGVJbmZvTGF5ZXIgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgd2luZG93LmJlYWdsZUluZm9MYXllcltrZXldID0gdmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllciA9IChrZXkpID0+IHtcbiAgaWYgKGtleSA9PT0gbnVsbCB8fCBrZXkgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBkZWxldGUgd2luZG93LmJlYWdsZUluZm9MYXllcltrZXldO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFRyZWF0bWVudCA9IChpZCwgYnVzaW5lc3NSdWxlSWQsIHZhcmlhbnQsIHN0YXR1cywgZGVwZW5kYW50X29uX3RyZWF0bWVudCA9IG51bGwpID0+IHtcbiAgY29uc3QgdmFsdWUgPSB7YnVzaW5lc3NSdWxlSWQsIHZhcmlhbnR9O1xuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgXCJhcHBsaWVkXCI6XG4gICAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmFbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwic2tpcHBlZFwiOlxuICAgICAgdmFsdWUuZGVwZW5kYW50X29uX3RyZWF0bWVudCA9IGRlcGVuZGFudF9vbl90cmVhdG1lbnQ7XG4gICAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmVbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZmFpbGVkXCI6XG4gICAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmZbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuY29uc3QgcHJlcGFyZURhdGEgPSAoKSA9PiB7XG4gIGNvbnN0IHZpZXdJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9JRCk7XG4gIGNvbnN0IGN1cnJlbnRVUkwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgY29uc3QgcGxhdGZvcm0gPSB3aW5kb3cubmF2aWdhdG9yPy51c2VyQWdlbnREYXRhPy5wbGF0Zm9ybSB8fCB3aW5kb3cubmF2aWdhdG9yPy5wbGF0Zm9ybSB8fFxuICB3aW5kb3cubmF2aWdhdG9yPy51c2VyQWdlbnQ7XG5cbiAgbGV0IGdhT2JqZWN0cyA9IHt9O1xuXG4gIGZvciAoY29uc3QgZ2FETEVsZW1lbnQgb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgIGdhT2JqZWN0cyA9IHsuLi5nYU9iamVjdHMsIC4uLmdhRExFbGVtZW50fTtcbiAgfVxuXG4gIGNvbnN0IHZpc2lsYWJzY2sgPSBKU09OLnBhcnNlKGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJWTF9DTV8wXCIpKTtcblxuICBjb25zdCB2bE9iamVjdHMgPSB7fTtcblxuICBpZiAodmlzaWxhYnNjayAmJiB2aXNpbGFic2NrLkl0ZW1zKSB7XG4gICAgZm9yIChjb25zdCB2bEVsZW1lbnQgb2YgdmlzaWxhYnNjay5JdGVtcykge1xuICAgICAgdmxPYmplY3RzW3ZsRWxlbWVudC5LXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2bEVsZW1lbnQuVik7XG4gICAgfVxuICB9XG5cblxuICAvKiBWSVNJTEFCUyAqL1xuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llVkxQVmluVmlzaXRcIiwgdmxPYmplY3RzLlZMX1BWQ291bnRJblZpc2l0KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVWTFZpc2l0RHVyYXRpb25cIiwgdmxPYmplY3RzLlZMX1RvdGFsRHVyYXRpb24pO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZVZMVG90YWxQVlwiLCB2bE9iamVjdHMuVkxfVG90YWxQVik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llVkxUb3RhbFZpc2l0XCIsIHZsT2JqZWN0cy5WTF9Ub3RhbFZpc2l0KTtcblxuICAvKiBHQSAqL1xuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQYWdlVHlwZVwiLCBnYU9iamVjdHMuUGFnZVR5cGUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHJvZHVjdE5hbWVcIiwgZ2FPYmplY3RzLmNvbnRlbnRfbmFtZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FWaWV3VHlwZVwiLCBnYU9iamVjdHMuY29udGVudF90eXBlKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVByb2R1Y3RDYXRlZ29yeVwiLCBnYU9iamVjdHMuY29udGVudF9jYXRlZ29yeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQcm9kdWN0SURcIiwgZ2FPYmplY3RzLmNvbnRlbnRfaWRzKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQcm9kdWN0Q2F0ZWdvcnlcIiwgZ2FPYmplY3RzLnZpdmVuc2VfY2F0ZWdvcnkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhTGlzdGluZ05hbWVcIiwgZ2FPYmplY3RzLmVjb21tZXJjZT8uZGV0YWlsPy5hY3Rpb25GaWVsZD8ubGlzdCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzSXNTaG93cm9vbVwiLCAod2luZG93LmlzQWRtaW49PT11bmRlZmluZWQpID8gZ2FPYmplY3RzLmlzQWRtaW4gOiB3aW5kb3cuaXNBZG1pbik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHJvZHVjdEdyb3VwXCIsIGdhT2JqZWN0cy5wcm9kdWN0R3JvdXApO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1VzZXJJZFwiLCBnYU9iamVjdHMudXNlcklkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNDYXRlZ29yeVwiLCBnYU9iamVjdHMudml2ZW5zZV9jYXRlZ29yeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FDYXRlZ29yeVByb2R1Y3RDb250XCIsIGdhT2JqZWN0cy5jYXRlZ29yeV9wcm9kdWN0X2NvdW50KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYUNhcnRQcm9kdWN0c1wiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5jaGVja291dD8ucHJvZHVjdHMgfHxcbiAgICBnYU9iamVjdHMuZWNvbW1lcmNlPy5wdXJjaGFzZT8ucHJvZHVjdHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BEUFByb2R1Y3RcIiwgZ2FPYmplY3RzLnZpdmVuc2VQcm9kdWN0cz8ucG9wKCkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHVyY2hhc2VJZFwiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5wdXJjaGFzZT8uYWN0aW9uRmllbGQ/LmlkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVB1cmNoYXNlUmV2ZW51ZVwiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5wdXJjaGFzZT8uYWN0aW9uRmllbGQ/LnJldmVudWUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHVyY2hhc2VQYXlUeXBlXCIsIGdhT2JqZWN0cy5lY29tbWVyY2U/LnB1cmNoYXNlPy5hY3Rpb25GaWVsZD8uZGltZW5zaW9uMTUpO1xuXG4gIC8qIHdpbmRvdyB2aWV3IGFyZWEgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dQYXJhbXNcIiwgd2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93UFJhdGlvXCIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dJbm5lclwiLCB3aW5kb3cuaW5uZXJXaWR0aCk7XG5cbiAgY29uc3Qgd2luZG93U2NyZWVuID0ge307XG4gIHdpbmRvd1NjcmVlbi5hdmFpbEhlaWdodCA9IHdpbmRvdy5zY3JlZW4/LmF2YWlsSGVpZ2h0O1xuICB3aW5kb3dTY3JlZW4uYXZhaWxIZWlnaHQgPSB3aW5kb3cuc2NyZWVuPy5hdmFpbEhlaWdodDtcbiAgd2luZG93U2NyZWVuLmF2YWlsTGVmdCA9IHdpbmRvdy5zY3JlZW4/LmF2YWlsTGVmdDtcbiAgd2luZG93U2NyZWVuLmF2YWlsVG9wID0gd2luZG93LnNjcmVlbj8uYXZhaWxUb3A7XG4gIHdpbmRvd1NjcmVlbi5hdmFpbFdpZHRoID0gd2luZG93LnNjcmVlbj8uYXZhaWxXaWR0aDtcbiAgd2luZG93U2NyZWVuLmNvbG9yRGVwdGggPSB3aW5kb3cuc2NyZWVuPy5jb2xvckRlcHRoO1xuICB3aW5kb3dTY3JlZW4uaGVpZ2h0ID0gd2luZG93LnNjcmVlbj8uaGVpZ2h0O1xuICB3aW5kb3dTY3JlZW4ucGl4ZWxEZXB0aCA9IHdpbmRvdy5zY3JlZW4/LnBpeGVsRGVwdGg7XG4gIHdpbmRvd1NjcmVlbi53aWR0aCA9IHdpbmRvdy5zY3JlZW4/LndpZHRoO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd1NjcmVlblwiLCB3aW5kb3dTY3JlZW4pO1xuXG4gIGNvbnN0IHdpbmRvd1ZQb3J0ID0ge307XG4gIHdpbmRvd1ZQb3J0LmhlaWdodCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8uaGVpZ2h0O1xuICB3aW5kb3dWUG9ydC5vZmZzZXRMZWZ0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5vZmZzZXRMZWZ0O1xuICB3aW5kb3dWUG9ydC5vZmZzZXRUb3AgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/Lm9mZnNldFRvcDtcbiAgd2luZG93VlBvcnQub25yZXNpemUgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/Lm9ucmVzaXplO1xuICB3aW5kb3dWUG9ydC5vbnNjcm9sbCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ub25zY3JvbGw7XG4gIHdpbmRvd1ZQb3J0LnBhZ2VMZWZ0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5wYWdlTGVmdDtcbiAgd2luZG93VlBvcnQucGFnZVRvcCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ucGFnZVRvcDtcbiAgd2luZG93VlBvcnQuc2NhbGUgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/LnNjYWxlO1xuICB3aW5kb3dWUG9ydC53aWR0aCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ud2lkdGg7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93VlBvcnRcIiwgd2luZG93VlBvcnQpO1xuXG4gIGlmIChzY3JlZW4ud2lkdGgpIHtcbiAgICBsZXQgd2lkdGggPSBwYXJzZUludChzY3JlZW4ud2lkdGgpO1xuICAgIGxldCBoZWlnaHQgPSAoc2NyZWVuLmhlaWdodCkgPyBwYXJzZUludChzY3JlZW4uaGVpZ2h0KSA6IDA7XG4gICAgaWYgKHdpZHRoICE9PSAwICYmIGhlaWdodCAhPT0gMCkge1xuICAgICAgY29uc3QgaU9TID0gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QocGxhdGZvcm0pO1xuICAgICAgaWYgKGlPUyAmJiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgICAvLyBpb3MgcHJvdmlkZXMgRFBJcywgbmVlZCB0byBtdWx0aXBseVxuICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHdpbmRvdy5vcmllbnRhdGlvbikgPT09IDkwKSB7XG4gICAgICAgICAgLy8gd2UgaGF2ZSBsYW5kc2NhcGUgb3JpZW50YXRpb25cbiAgICAgICAgICAvLyBzd2l0Y2ggdmFsdWVzIGZvciBhbGwgZXhjZXB0IGlvc1xuICAgICAgICAgIGNvbnN0IHRlbXAgPSB3aWR0aDtcbiAgICAgICAgICB3aWR0aCA9IGhlaWdodDtcbiAgICAgICAgICBoZWlnaHQgPSB0ZW1wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd1wiLCB3aWR0aCArIFwieFwiICsgaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKiBuYXZpZ2F0b3IgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZIaXN0U2l6ZVwiLCB3aW5kb3cuaGlzdG9yeT8ubGVuZ3RoKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZBZ2VudFwiLCBuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgLy8gY2hlY2sgaWYgdXNlckFnZW50RGF0YSBpcyBzdXBwb3J0ZWQgYW5kIHVzZXJBZ2VudCBpcyBub3QgYXZhaWxhYmxlLCB1c2UgaXRcbiAgaWYgKCF3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLm5hdkFnZW50KSB7XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnREYXRhKSB7XG4gICAgICAvLyB0dXJuIGJyYW5kcyBhcnJheSBpbnRvIHN0cmluZ1xuICAgICAgbGV0IG5hdkFnZW50ID0gbmF2aWdhdG9yPy51c2VyQWdlbnREYXRhPy5icmFuZHM/Lm1hcChmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBlLmJyYW5kICsgXCI6XCIgKyBlLnZlcnNpb247XG4gICAgICB9KS5qb2luKCk7XG4gICAgICAvLyBhZGQgbW9iaWxlIGluZm9cbiAgICAgIG5hdkFnZW50ICs9IChuYXZpZ2F0b3I/LnVzZXJBZ2VudERhdGE/Lm1vYmlsZSA/IFwibW9iaVwiIDogXCIgXCIpO1xuICAgICAgLy8gYWRkIHBsYXRmb3JtIGluZm9cbiAgICAgIG5hdkFnZW50ICs9IHBsYXRmb3JtO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZBZ2VudFwiLCBuYXZBZ2VudCk7XG4gICAgfVxuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2SFdDb3Jlc1wiLCBuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2TGFuZ3VhZ2VcIiwgbmF2aWdhdG9yLmxhbmd1YWdlIHx8IG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2UgfHxcbiAgIG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZUb3VjaFwiLCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdlBsYXRmb3JtXCIsIHBsYXRmb3JtKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZWZW5kb3JcIiwgbmF2aWdhdG9yLnZlbmRvcik7XG5cbiAgLyogY29va2llcyAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZUdhSWRcIiwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcIl9nYVwiKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llTGFzdEJyZWFkQ3J1bWJcIiwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcImxhc3RicmVhZGNydW1iXCIpKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVMYXN0Q2F0ZWdvcnlcIiwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcImxhc3RjYXRlZ29yeVwiKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llRmlyc3RFbnRyeVwiLCBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwidml2ZW5zZWZpcnN0XCIpKSk7XG5cbiAgLyogcGVyZm9ybWFuY2UgbWV0cmljcyAqL1xuICBjb25zdCBwZXJmTWV0cmljcyA9IHt9O1xuICBpZiAod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibmF2aWdhdGlvblwiKVswXSkge1xuICAgIGNvbnN0IHBlcmZOYXZpZ2F0aW9uTWV0cmljcyA9IHdpbmRvdy5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibmF2aWdhdGlvblwiKVswXTtcbiAgICBwZXJmTWV0cmljcy5wbGQgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5kb21Db250ZW50TG9hZGVkRXZlbnRFbmQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MuY29ubmVjdFN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy5uZXQgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5jb25uZWN0RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmZldGNoU3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLnNydiA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlU3RhcnQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MucmVxdWVzdFN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy50ZnIgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZUVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZVN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy5kbWkgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5kb21JbnRlcmFjdGl2ZSAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZUVuZCk7XG4gICAgcGVyZk1ldHJpY3MuZGNwID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tQ29tcGxldGUgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tSW50ZXJhY3RpdmUpO1xuICAgIHBlcmZNZXRyaWNzLm9ubCA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmxvYWRFdmVudEVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5sb2FkRXZlbnRTdGFydCk7XG4gIH1cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJwZXJmTWV0cmljc1wiLCBwZXJmTWV0cmljcyk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiaW50ZXJuZXRTcGVlZFwiLCB3aW5kb3cubmF2aWdhdG9yPy5jb25uZWN0aW9uPy5kb3dubGluayk7XG5cbiAgLyogc2NoZW1hLm9yZyBlbGVtZW50cyAqL1xuICBjb25zdCBzY2hlbWFPcmdFbHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIlt0eXBlPVxcXCJhcHBsaWNhdGlvbi9sZCtqc29uXFxcIl1cIik7XG5cbiAgZm9yIChjb25zdCBzVGFnIG9mIHNjaGVtYU9yZ0VsdHMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY250bnQgPSBzVGFnLnRleHRDb250ZW50O1xuICAgICAgY29uc3QganNvbmNvbnRlbnQgPSBKU09OLnBhcnNlKGNudG50KTtcbiAgICAgIGxldCBiY3J1bWJfc3RyaW5nID0gXCJAXCI7XG4gICAgICBzd2l0Y2ggKGpzb25jb250ZW50W1wiQHR5cGVcIl0pIHtcbiAgICAgICAgLy8gSE9NRVBBR0VcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvblwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiV2ViU2l0ZVwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIFBMUFxuICAgICAgICBjYXNlIFwiQ29sbGVjdGlvblBhZ2VcIjoge1xuICAgICAgICAgIGZvciAoY29uc3QgYmNydW1pdGVtIG9mIGpzb25jb250ZW50W1wiYnJlYWRjcnVtYlwiXVtcIml0ZW1MaXN0RWxlbWVudFwiXSkge1xuICAgICAgICAgICAgYmNydW1iX3N0cmluZyArPSBcIiB8IFwiICsgYmNydW1pdGVtW1wiaXRlbVwiXVtcIm5hbWVcIl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic29yZ0JyZWFkY3J1bWJcIiwgYmNydW1iX3N0cmluZyk7XG4gICAgICAgICAgY29uc3Qgc29yZ0xpc3RpbmcgPSB7fTtcbiAgICAgICAgICBzb3JnTGlzdGluZy5uYW1lID0ganNvbmNvbnRlbnRbXCJtYWluRW50aXR5XCJdW1wibmFtZVwiXTtcbiAgICAgICAgICBzb3JnTGlzdGluZy5jb3VudEl0ZW1zID0ganNvbmNvbnRlbnRbXCJtYWluRW50aXR5XCJdW1wibnVtYmVyT2ZJdGVtc1wiXTtcbiAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNvcmdMaXN0aW5nXCIsIHNvcmdMaXN0aW5nKTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIFBEUFxuICAgICAgICBjYXNlIFwiQnJlYWRjcnVtYkxpc3RcIjpcbiAgICAgICAgICBmb3IgKGNvbnN0IGJjcnVtaXRlbSBvZiBqc29uY29udGVudFtcIml0ZW1MaXN0RWxlbWVudFwiXSkge1xuICAgICAgICAgICAgYmNydW1iX3N0cmluZyArPSBcIiB8IFwiICsgYmNydW1pdGVtW1wibmFtZVwiXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzb3JnQnJlYWRjcnVtYlwiLCBiY3J1bWJfc3RyaW5nKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlByb2R1Y3RcIjoge1xuICAgICAgICAgIGNvbnN0IHNvcmdQcm9kdWN0ID0ge307XG4gICAgICAgICAgc29yZ1Byb2R1Y3Quc2t1ID0ganNvbmNvbnRlbnRbXCJza3VcIl07XG4gICAgICAgICAgc29yZ1Byb2R1Y3QubmFtZSA9IGpzb25jb250ZW50W1wibmFtZVwiXTtcbiAgICAgICAgICBpZiAoanNvbmNvbnRlbnRbXCJvZmZlcnNcIl0pIHtcbiAgICAgICAgICAgIHNvcmdQcm9kdWN0LnByaWNlID0ganNvbmNvbnRlbnRbXCJvZmZlcnNcIl1bXCJwcmljZVwiXTtcbiAgICAgICAgICAgIHNvcmdQcm9kdWN0LnByaWNlQ3VycmVuY3kgPSBqc29uY29udGVudFtcIm9mZmVyc1wiXVtcInByaWNlQ3VycmVuY3lcIl07XG4gICAgICAgICAgICBzb3JnUHJvZHVjdC5wcmljZVZhbGlkVW50aWwgPSBqc29uY29udGVudFtcIm9mZmVyc1wiXVtcInByaWNlVmFsaWRVbnRpbFwiXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzb3JnUHJvZHVjdFwiLCBzb3JnUHJvZHVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmxvZyhqc29uY29udGVudCk7XG4gICAgICB9IC8vIHN3aXRjaFxuICAgIH0gY2F0Y2ggKGVycikgeyAvLyB0cnlcbiAgICAgIGxvZ2dlci53YXJuKGVyci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKiBOZXh0ZGF5IGRhdGEgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2XCIsIFwiMC4wLjI3XCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5cIiwgYG5leHRkYXktc2Vzc2lvbl9pZC0ke3Nlc3Npb25JZH1gKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzclwiLCBTUExJVF9SQVRJTyk7XG5cbiAgLyogbWlzY2VsbGFuZW91cyAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRvbnR0cmFja1wiLCBuYXZpZ2F0b3IuZG9Ob3RUcmFjayB8fCB3aW5kb3cuZG9Ob3RUcmFjayB8fCBuYXZpZ2F0b3IubXNEb05vdFRyYWNrKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ1XCIsIGN1cnJlbnRVUkwuaHJlZik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZFwiLCBjdXJyZW50VVJMLmhvc3RuYW1lKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJyXCIsIGRvY3VtZW50LnJlZmVycmVyKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2SWRcIiwgdmlld0lkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpc09uXCIsIG51bGwpO1xuXG4gIC8qIFZpdmVuc2Ugc3BlY2lmaWMgKi9cbiAgdHJ5IHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0NudEZhdlByb2RzXCIsIHdpbmRvdy5mYXZvcml0ZVByb2R1Y3RzID8gSlNPTi5wYXJzZSh3aW5kb3cuZmF2b3JpdGVQcm9kdWN0cykubGVuZ3RoIDogbnVsbCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzQ250RmF2UHJvZHNcIiwgbnVsbCk7XG4gICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzSGFzU2V0RW1haWxcIiwgd2luZG93LnVzZXJFbWFpbC5sZW5ndGggPiAwKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNMb2dpblR5cGVcIiwgd2luZG93LnVzZXJJZCA+IDAgPyBcIm1lbWJlclwiIDogXCJndWVzdFwiKTtcblxuICBsZXQgc2VsZWN0ZWRFbGVtZW50O1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJiYXNrZXRfc3VtbWFyeV90b3RhbFxcXCJdLCBbY2xhc3MqPVxcXCJ0b3RhbF9yb3dcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQdXJjUHJpY2VFbHRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcIm9yZGVyX2ZvbGxvd19udW1iXFxcIl0sIFtjbGFzcyo9XFxcImNhcnQtdGl0bGUtYm90dG9tXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHVyY2hhc2VPcmRlcklEXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJwYXltZW50X3R5cGVfdGl0bGVcXFwiXSwgW2NsYXNzKj1cXFwiY2FydC10aXRsZS1pbmZvXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHVyY1R5cGVFbHRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltpZCo9XFxcImJyZWFkY3J1bWItb2xcXFwiXSwgW2NsYXNzKj1cXFwibG9uZy1icmVhZGNydW1iXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0NydW1iXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJvcmRlci1maW5hbC1udW1iZXJcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNDYXJ0VG90YWxcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcImJhc2tldF90b3RhbF9wcmljZVxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1ZpZXdCYXNrZXRUb3RhbFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2lkKj1cXFwiY2FydF9xdWFudGl0eVxcXCJdLCBbY2xhc3MqPVxcXCJiYXNrZXRfbGVuZ3RoXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0Jhc2tldENvdW50XCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJ3ZWxjb21lX3VzZXJuYW1lXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0xvZ2dlZGluXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dC5sZW5ndGggPiAwIDogZmFsc2UpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbY2xhc3MqPVxcXCJ2aXZlbnNlLXNob3dyb29tc1xcXCJdID4gKlwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQRFBTaG93cm9vbUNvdW50XCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50Lmxlbmd0aCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJkZWxpdmVyeS1kYXRlXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQRGVsaXZlcnlEYXRlXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BEUERlbGl2ZXJ5RGF0ZUZvcm1hdHRlZFwiLCBmb3JtYXREZWxpdmVyeURhdGUoc2VsZWN0ZWRFbGVtZW50Py5pbm5lclRleHQpKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwicHJvZHVjdC10aXRsZVxcXCJdLCBbY2xhc3MqPVxcXCJoZWFkZXItYm90dG9tXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQVGl0bGVcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcImNvdW50LW9mLXByb2R1Y3RcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQTFBJdGVtQ291bnRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcInN1YmNhdGVnb3JpZXMtdGl0bGVcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQTFBOYW1lXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCB7YWRkVG9CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgQ09PS0lFX05BTUUsXG4gIExPQ0FMX1NUT1JBR0VfS0VZUyxcbiAgU0VTU0lPTl9TVE9SQUdFX0tFWVMsXG4gIFNUWUxFU0hFRVRfTE9DQVRJT04sXG4gIFRSRUFUTUVOVFNfTE9DQVRJT04sXG4gIFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFV0aWxzXCIpO1xuY29uc3QgbW9udGhzID0ge1xuICBcIm9jYWtcIjogMCxcbiAgXCLFn3ViYXRcIjogMSxcbiAgXCJtYXJ0XCI6IDIsXG4gIFwibmlzYW5cIjogMyxcbiAgXCJtYXnEsXNcIjogNCxcbiAgXCJoYXppcmFuXCI6IDUsXG4gIFwidGVtbXV6XCI6IDYsXG4gIFwiYcSfdXN0b3NcIjogNyxcbiAgXCJleWzDvGxcIjogOCxcbiAgXCJla2ltXCI6IDksXG4gIFwia2FzxLFtXCI6IDEwLFxuICBcImFyYWzEsWtcIjogMTEsXG59O1xuY29uc3QgcmFuZG9tVVVJREZhbGxiYWNrID0gKCkgPT4ge1xuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyMy8yODAwMjE4XG4gIC8vIExJQ0VOU0U6IGh0dHBzOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS80LjAvbGVnYWxjb2RlXG4gIGNyeXB0by5yYW5kb21VVUlEID0gZnVuY3Rpb24gcmFuZG9tVVVJRCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgWzFlN10gKyAtMWUzICsgLTRlMyArIC04ZTMgKyAtMWUxMSkucmVwbGFjZSgvWzAxOF0vZyxcbiAgICAgICAgKGMpID0+IChjIF4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiBjIC8gNCkudG9TdHJpbmcoMTYpLFxuICAgICk7XG4gIH07XG59O1xuXG5pZiAoIShcInJhbmRvbVVVSURcIiBpbiBjcnlwdG8pKSB7XG4gIHJhbmRvbVVVSURGYWxsYmFjaygpO1xufVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlRG9jdW1lbnRIaWRlID0gKCkgPT4ge1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm5leHREYXktaGlkZVwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRyZWF0bWVudHMgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnRzXCIpO1xuICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2goVFJFQVRNRU5UU19MT0NBVElPTik7XG4gIHJldHVybiBhd2FpdCB0cmVhdG1lbnRzLmpzb24oKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRyZWF0bWVudFdlaWdodHMgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnQgd2VpZ2h0c1wiKTtcbiAgY29uc3QgdHJlYXRtZW50V2VpZ2h0cyA9IGF3YWl0IGZldGNoKFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OKTtcbiAgcmV0dXJuIGF3YWl0IHRyZWF0bWVudFdlaWdodHMuanNvbigpO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RDb29raWVJZGVudGlmaWVyID0gKGNvb2tpZVN0cmluZywgY29va2llTmFtZSkgPT4ge1xuICBpZiAoIWNvb2tpZVN0cmluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgcGFyc2VkID0gY29va2llU3RyaW5nXG4gICAgICAuc3BsaXQoXCI7XCIpXG4gICAgICAubWFwKCh2KSA9PiB2LnNwbGl0KFwiPVwiKSlcbiAgICAgIC5yZWR1Y2UoKGFjYywgdikgPT4ge1xuICAgICAgICBpZiAodlswXSAmJiB2WzFdKSB7XG4gICAgICAgICAgYWNjW2RlY29kZVVSSUNvbXBvbmVudCh2WzBdLnRyaW0oKSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZbMV0udHJpbSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuXG4gIGxldCBpZGVudGlmaWVyID0gcGFyc2VkW2Nvb2tpZU5hbWVdO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoY29va2llTmFtZSA9PT0gXCJfZ2FcIikge1xuICAgIC8vIGV4dHJhY3QgdW5pcXVlIGlkZW50aWZpZXIgZnJvbSBHQSBjb29raWVcbiAgICBjb25zdCBpZGVudGlmaWVySW5kZXggPSAyO1xuICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyLnNwbGl0KFwiLlwiKVtpZGVudGlmaWVySW5kZXhdO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGRldGVybWluZVBjdCA9IGFzeW5jIChpZGVudGlmaWVyKSA9PiB7XG4gIGNvbnN0IHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24gPSA5O1xuICBjb25zdCBzdWJzdHJpbmdMZW5ndGggPSA4O1xuICBjb25zdCBzdWJzdHJpbmdFbmRQb3NpdGlvbiA9IHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24gKyBzdWJzdHJpbmdMZW5ndGg7XG4gIGlmICghaWRlbnRpZmllcikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBjb25zdCBoYXNoU3RyaW5nID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhpZGVudGlmaWVyKTtcbiAgLy8gTWFwIHRoZSBjb29raWUgaGFzaCB0byBhIG51bWJlciBiZXR3ZWVuIDAgLT4gOTksXG4gIC8vIHRoaXMgbnVtYmVyIGlzIHRoZSBvblJhdGlvblxuICBjb25zdCBoYXNoTnVtYmVyID0gcGFyc2VJbnQoaGFzaFN0cmluZy5zdWJzdHJpbmcoc3Vic3RyaW5nU3RhcnRQb3NpdGlvbiwgc3Vic3RyaW5nRW5kUG9zaXRpb24pLCAxNik7XG5cbiAgcmV0dXJuIGhhc2hOdW1iZXIgJSAxMDA7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlSGFzaFN0cmluZyA9IGFzeW5jIChzdHJpbmdUb0hhc2gpID0+IHtcbiAgLy8gZW5jb2RlIHN0cmluZyB0byBhbiBhcnJheSBvZiA4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlc1xuICBjb25zdCBlbmNvZGVkID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHN0cmluZ1RvSGFzaCk7XG5cbiAgLy8gaGFzaCB0aGUgZW5jb2RlZCBjb29raWUgaW50byBhIGJ1ZmZlclxuICBjb25zdCBoYXNoQnVmZmVyID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMVwiLCBlbmNvZGVkKTtcblxuICAvLyBjb252ZXJ0IGJ1ZmZlciB0byBieXRlIGFycmF5XG4gIGNvbnN0IGhhc2hBcnJheSA9IEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoaGFzaEJ1ZmZlcikpO1xuXG4gIC8vIGNvbnZlcnQgYnl0ZXMgdG8gaGV4IHN0cmluZyBhbmQgcmV0dXJuXG4gIHJldHVybiBoYXNoQXJyYXkubWFwKChiKSA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpLmpvaW4oXCJcIik7XG59O1xuXG5leHBvcnQgY29uc3QgZXhpdFNjcm9sbExpc3RlbmVyID0gKGNhbGxCYWNrKSA9PiB7XG4gIGNvbnN0IGxvb3AgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBpZiAobGFzdFNjcm9sbFRvcCAtIDQwMCA+IHNjcm9sbFRvcCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChleGl0U2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgY2FsbEJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdFNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgbGV0IGxhc3RTY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICBjb25zdCBleGl0U2Nyb2xsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChsb29wLCA1MDApO1xufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGFwcGx5IHRyZWF0bWVudHMgdG8gdGhlIHBhZ2Ugb24gc3BlY2lmaWMgbWVkaWEgdHlwZS5cbiAqIEBwYXJhbSB7TWVkaWFRdWVyeUxpc3R9IG1lZGlhUXVlcnlDb25kaXRpb24gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA1MDBweClcIilcbiAqIEBwYXJhbSB7RE9NTm9kZUxpc3QgfSBlbGVtZW50cyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2LnByb2R1Y3RfaW5mb1wiKVxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlQ2hhbmdlc01hcCB7IFwibWFyZ2luLXRvcFwiIDogXCIxMHJlbVwifVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IHN0eWxlQXBwbGljYXRvciA9IChlbGVtZW50cywgc3R5bGVDaGFuZ2VzTWFwKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZSBjaGFuZ2VzXCIsIHN0eWxlQ2hhbmdlc01hcCwgXCJ0byBlbGVtZW50c1wiLCBlbGVtZW50cyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVDaGFuZ2VzTWFwKSkge1xuICAgICAgZWxlbWVudC5zdHlsZVtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgaW5qZWN0U3R5bGVTaGVldCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICBzdHlsZVNoZWV0LnJlbCA9IFwic3R5bGVzaGVldFwiO1xuICBzdHlsZVNoZWV0LnR5cGUgPSBcInRleHQvY3NzXCI7XG4gIHN0eWxlU2hlZXQuaHJlZiA9IFNUWUxFU0hFRVRfTE9DQVRJT047XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVTaGVldCk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJlcGFyZUFjdGlvbnMgPSBhc3luYyAoaWRlbnRpZmllciwgYWN0aW9uc1RvUHJlcGFyZSwgYnVzaW5lc3NSdWxlSWQpID0+IHtcbiAgY29uc3QgYWN0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYWN0aW9uc1RvUHJlcGFyZSkpO1xuICBsZXQgdmFyaWFudCA9IG51bGw7XG4gIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICBjb25zdCB7YnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zLCB2YXJpYW50c30gPSBhY3Rpb247XG4gICAgaWYgKCFidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMgJiYgIXZhcmlhbnRzKSBjb250aW51ZTtcbiAgICBpZiAoYnVzaW5lc3NSdWxlSWQgJiYgYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICBmb3IgKGNvbnN0IGJ1c2luZXNzVHJhbnNmb3JtYXRpb24gb2YgYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgIGlmIChidXNpbmVzc1RyYW5zZm9ybWF0aW9uLmlkID09PSBidXNpbmVzc1J1bGVJZCkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGJ1c2luZXNzVHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChrZXkgIT09IFwiaWRcIikge1xuICAgICAgICAgICAgICBhY3Rpb25ba2V5XSA9IGJ1c2luZXNzVHJhbnNmb3JtYXRpb25ba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZhcmlhbnRzKSB7XG4gICAgICBmb3IgKGNvbnN0IHZhcmlhbnRLZXkgb2YgT2JqZWN0LmtleXModmFyaWFudHMpKSB7XG4gICAgICAgIGNvbnN0IHJhbmRvbVBjdCA9IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgdmFyaWFudEtleSk7XG4gICAgICAgIGlmIChyYW5kb21QY3QgPCBhY3Rpb24udmFyaWFudHNbdmFyaWFudEtleV0ud2VpZ2h0KSB7XG4gICAgICAgICAgdmFyaWFudCA9IHZhcmlhbnRLZXk7XG4gICAgICAgICAgaWYgKGJ1c2luZXNzUnVsZUlkICYmIHZhcmlhbnRzW3ZhcmlhbnRLZXldLmJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBidXNpbmVzc1RyYW5zZm9ybWF0aW9uIG9mIHZhcmlhbnRzW3ZhcmlhbnRLZXldLmJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICAgICAgICBpZiAoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbi5pZCA9PSBidXNpbmVzc1J1bGVJZCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGJ1c2luZXNzVHJhbnNmb3JtYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcImlkXCIpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBidXNpbmVzc1RyYW5zZm9ybWF0aW9uW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhcmlhbnRzW3ZhcmlhbnRLZXldKSB7XG4gICAgICAgICAgICAgIGlmIChrZXkgIT09IFwid2VpZ2h0XCIgJiYga2V5ICE9PSBcImJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9uc1wiKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSB2YXJpYW50c1t2YXJpYW50S2V5XVtrZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBbYWN0aW9ucywgdmFyaWFudF07XG59O1xuXG5leHBvcnQgY29uc3QgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMgPSAoKSA9PiB7XG4gIGNvbnN0IHtQQUdFX1ZJRVdTLCBQT1BVUF9ESVNQTEFZX0ZMQUcsIFNFU1NJT05fSUQsIFNFU1NJT05fVElNRVNUQU1QLCBTRVNTSU9OX0hJU1RPUll9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG5cbiAgY29uc3QgcGFnZVZpZXdzID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQQUdFX1ZJRVdTKTtcbiAgY29uc3QgcG9wdXBEaXNwbGF5RmxhZyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKTtcbiAgY29uc3Qgc2Vzc2lvbklkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX0lEKTtcbiAgY29uc3Qgc2Vzc2lvblRpbWVzdGFtcCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVApO1xuICBjb25zdCBzZXNzaW9uSGlzdG9yeSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9ISVNUT1JZKTtcblxuICBpZiAoIXBhZ2VWaWV3cykge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEFHRV9WSUVXUywgMSk7XG4gIH0gZWxzZSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQQUdFX1ZJRVdTLCBwYXJzZUludChwYWdlVmlld3MpICsgMSk7XG4gIH1cbiAgaWYgKHBvcHVwRGlzcGxheUZsYWcgPT09IG51bGwpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRywgMCk7XG4gIH1cbiAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSUQsIGNyeXB0by5yYW5kb21VVUlEKCkpO1xuICB9XG4gIGlmICghc2Vzc2lvblRpbWVzdGFtcCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVAsIERhdGUubm93KCkpO1xuICB9XG4gIGlmICghc2Vzc2lvbkhpc3RvcnkpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZV0pO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9ISVNUT1JZLCBbd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCBzZXNzaW9uSGlzdG9yeV0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY29uZGl0aW9uQ2hlY2tlciA9IChydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgaWYgKGNvbmRpdGlvbiA9PT0gXCJub3RFeGlzdFwiKSB7XG4gICAgaWYgKCFydW5UaW1lVmFsdWUpIHtcbiAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChydW5UaW1lVmFsdWUgPT09IG51bGwgfHxcbiAgICBydW5UaW1lVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gbnVsbCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IHJ1blRpbWVWYWx1ZSBvciBjb25kaXRpb24gaXMgbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN3aXRjaCAoY29uZGl0aW9uKSB7XG4gICAgY2FzZSBcImV4aXN0XCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImNvbnRhaW5zXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBjb250YWlucyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RDb250YWluc1wiOlxuICAgICAgaWYgKCFydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGNvbnRhaW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcIm5vdEVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID4gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPD0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImJldHdlZW5cIjoge1xuICAgICAgbGV0IFttaW4sIG1heF0gPSB2YWx1ZS5zcGxpdChcIixcIik7XG4gICAgICBtaW4gPSBwYXJzZUludChtaW4pO1xuICAgICAgbWF4ID0gcGFyc2VJbnQobWF4KTtcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gbWluICYmIHJ1blRpbWVWYWx1ZSA8PSBtYXgpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgYmV0d2VlbiBtaW4gYW5kIG1heFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgYmV0d2VlbiBtaW4gYW5kIG1heFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiBjb25kaXRpb24gaXMgbm90IGRlZmluZWQgXCIsIGNvbmRpdGlvbik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWJ1Z01vZGUgPSAoKSA9PiB7XG4gIGNvbnN0IHtORF9ERUJVR19NT0RFLCBPVVRfT0ZfU0NPUEV9ID0gTE9DQUxfU1RPUkFHRV9LRVlTO1xuICBjb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTFcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTkRfREVCVUdfTU9ERSwgMSk7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE9VVF9PRl9TQ09QRSwgdHJ1ZSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvblwiKTtcbiAgICByZXR1cm4gMTtcbiAgfVxuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0yXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE5EX0RFQlVHX01PREUsIDIpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIFwib25cIik7XG4gICAgcmV0dXJuIDI7XG4gIH1cbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MFwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShORF9ERUJVR19NT0RFKTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oT1VUX09GX1NDT1BFLCB0cnVlKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCBcIm9mZlwiKTtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBjb25zdCBjdXJyZW50ID0gcGFyc2VJbnQod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKE5EX0RFQlVHX01PREUpKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgKGN1cnJlbnQgPyBcIm9uXCIgOiBcIm9mZlwiKSk7XG4gIHJldHVybiAoY3VycmVudCB8fCAwKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJZGVudGlmaWVyID0gYXN5bmMgKGNvb2tpZU5hbWUgPSBDT09LSUVfTkFNRSkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBpZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuVVNFUl9JRCk7XG4gICAgaWYgKGlkKSByZXNvbHZlKGlkKTtcbiAgICBpZCA9IGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgY29va2llTmFtZSk7XG4gICAgaWYgKGlkKSB7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQsIGlkKTtcbiAgICAgIHJlc29sdmUoaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBleHRyYWN0SWRlbnRpZmllckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZCA9IGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgY29va2llTmFtZSk7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCk7XG4gICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lELCBpZCk7XG4gICAgICAgICAgcmVzb2x2ZShpZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQ291bGQgbm90IGV4dHJhY3QgY29va2llIGlkZW50aWZpZXJcIikpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxheSA9IChtcykgPT4gbmV3IFByb21pc2UoKHJlcykgPT4gc2V0VGltZW91dChyZXMsIG1zKSk7XG5cbi8vIENvbGxlY3QgcHJvZHVjdCBTS1VzIGZyb20gcGFnZVxuZXhwb3J0IGNvbnN0IHNrdUNvbGxlY3RvciA9ICgpID0+IHtcbiAgY29uc3Qge05EX1NLVV9MSVNUX0JBU0tFVCwgTkRfU0tVX0xJU1R9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gIGNvbnN0IHNrdUxpc3QgPSBbXTtcblxuICAvLyBMaXN0aW5nIHBhZ2VcbiAgbGV0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtY2FyZFwiKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcbiAgICBza3VMaXN0LnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3Qtc2t1XCIpKTtcbiAgfSk7XG4gIGlmIChza3VMaXN0Lmxlbmd0aCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTkRfU0tVX0xJU1QsIEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpKTtcbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIC8vIFByb2R1Y3QgUGFnZVxuICBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC1za3VcIik7XG4gIGlmIChlbGVtZW50cykge1xuICAgIHNrdUxpc3QucHVzaChlbGVtZW50cy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNrdVwiKSB8fCBlbGVtZW50cy50ZXh0Q29udGVudD8udHJpbSgpPy5yZXBsYWNlKC9cXCkvZywgXCJcIik/LnJlcGxhY2UoL1xcKC9nLCBcIlwiKSk7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShORF9TS1VfTElTVCwgSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCkpO1xuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgLy8gQmFza2V0IFBhZ2VcbiAgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FydC1pbnNpZGVcIikpO1xuICBpZiAoZWxlbWVudHMpIHtcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBza3VMaXN0LnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNrdVwiKSk7XG4gICAgfSk7XG4gICAgaWYgKHNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNUX0JBU0tFVCwgSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCkpO1xuICAgICAgcmV0dXJuIHNrdUxpc3Q7XG4gICAgfVxuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgbG9nZ2VyLmZhaWxlZChcIk5vdCBhYmxlIHRvIGV4dHJhY3QgU0tVcyBmcm9tIHBhZ2VcIik7XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2VuZEJlYWNvblN1cHBvcnRlZCA9ICgpID0+IG5hdmlnYXRvci5zZW5kQmVhY29uICYmIHR5cGVvZiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbiA9PT0gXCJmdW5jdGlvblwiO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0RGVsaXZlcnlEYXRlID0gKGRhdGUpID0+IHtcbiAgaWYgKCFkYXRlIHx8IHR5cGVvZiBkYXRlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gZGF0ZTtcblxuICBjb25zdCByZXN1bHQgPSB7XG4gICAgc3RhcnRNb250aEluZGV4OiB1bmRlZmluZWQsXG4gICAgZW5kTW9udGhJbmRleDogdW5kZWZpbmVkLFxuICAgIHN0YXJ0RGF5OiB1bmRlZmluZWQsXG4gICAgZW5kRGF5OiB1bmRlZmluZWQsXG4gIH07XG5cbiAgbGV0IG1hdGNoID0gZGF0ZS5tYXRjaChcIihbXFxcXGRdKyktKFtcXFxcZF0rKVxcXFxzPyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcXSspXCIpO1xuICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID09PSA0KSB7XG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5lbmREYXkgPSBwYXJzZUludChtYXRjaFsyXSk7XG4gICAgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFszXS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IHJlc3VsdC5zdGFydE1vbnRoSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgbWF0Y2ggPSBkYXRlLm1hdGNoKFwiKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcXSspLShbXFxcXGRdKylcXFxccysoW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnF0rKVwiKTtcbiAgICBpZiAoIW1hdGNoIHx8IG1hdGNoLmxlbmd0aCAhPT0gNSkgcmV0dXJuIGRhdGU7XG5cbiAgICByZXN1bHQuc3RhcnREYXkgPSBwYXJzZUludChtYXRjaFsxXSk7XG4gICAgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFsyXS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXN1bHQuZW5kRGF5ID0gcGFyc2VJbnQobWF0Y2hbM10pO1xuICAgIHJlc3VsdC5lbmRNb250aEluZGV4ID0gbW9udGhzW21hdGNoWzRdLnRvTG93ZXJDYXNlKCldO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG5cbiAgICBpZiAoIXJlc3VsdC5zdGFydE1vbnRoSW5kZXggfHwgIXJlc3VsdC5lbmRNb250aEluZGV4KSByZXR1cm4gZGF0ZTtcblxuICAgIGNvbnN0IHN0YXJ0WWVhciA9IHJlc3VsdC5zdGFydE1vbnRoSW5kZXggPj0gdG9kYXkuZ2V0TW9udGgoKSA/IHRvZGF5LmdldEZ1bGxZZWFyKCkgOiB0b2RheS5nZXRGdWxsWWVhcigpICsgMTtcbiAgICBjb25zdCBlbmRZZWFyID0gcmVzdWx0LmVuZE1vbnRoSW5kZXggPj0gdG9kYXkuZ2V0TW9udGgoKSA/IHRvZGF5LmdldEZ1bGxZZWFyKCkgOiB0b2RheS5nZXRGdWxsWWVhcigpICsgMTtcblxuICAgIGNvbnN0IGVzdGltYXRlZFN0YXJ0ID0gbmV3IERhdGUoc3RhcnRZZWFyLCByZXN1bHQuc3RhcnRNb250aEluZGV4LCByZXN1bHQuc3RhcnREYXkpO1xuICAgIGNvbnN0IGVzdGltYXRlZEVuZCA9IG5ldyBEYXRlKGVuZFllYXIsIHJlc3VsdC5lbmRNb250aEluZGV4LCByZXN1bHQuZW5kRGF5KTtcblxuXG4gICAgY29uc3Qgc3RhcnREaWZmT3ZlckRheXMgPSBNYXRoLmNlaWwoTWF0aC5hYnMoZXN0aW1hdGVkU3RhcnQgLSB0b2RheSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICAgIGNvbnN0IGVuZERpZmZPdmVyRGF5cyA9IE1hdGguY2VpbChNYXRoLmFicyhlc3RpbWF0ZWRFbmQgLSB0b2RheSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuXG4gICAgY29uc3Qgc3RhcnREaWZmT3ZlcldlZWtzID0gc3RhcnREaWZmT3ZlckRheXMgPCA3ID8gMCA6IE1hdGguY2VpbChzdGFydERpZmZPdmVyRGF5cyAvIDcpO1xuICAgIGNvbnN0IGVuZERpZmZPdmVyV2Vla3MgPSBlbmREaWZmT3ZlckRheXMgPCA3ID8gMCA6IE1hdGguY2VpbChlbmREaWZmT3ZlckRheXMgLyA3KTtcblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IDAgJiYgZW5kRGlmZk92ZXJXZWVrcyA9PT0gMCkge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJEYXlzfSAtICR7ZW5kRGlmZk92ZXJEYXlzfSBHw7xuYDtcbiAgICB9XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSAwICYmIGVuZERpZmZPdmVyV2Vla3MgPj0gMSkge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJEYXlzfSBHw7xuIC0gJHtlbmREaWZmT3ZlcldlZWtzfSBIYWZ0YWA7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gZW5kRGlmZk92ZXJXZWVrcykge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICAgIH1cblxuICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyV2Vla3N9IC0gJHtlbmREaWZmT3ZlcldlZWtzfSBIYWZ0YWA7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBkYXRlO1xuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9zdEZyZXF1ZW50KGFycikge1xuICBpZiAoIWFyciB8fCBhcnIubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIGNvbnN0IGZyZXEgPXt9O1xuICBsZXQgbGFiZWwgPSB1bmRlZmluZWQ7XG4gIGxldCBjb3VudD0wO1xuICBmb3IgKGxldCBrIG9mIGFycikge1xuICAgIGlmICh0eXBlb2YgayA9PT0gXCJvYmplY3RcIikgayA9IGtbT2JqZWN0LmtleXMoaylbMF1dO1xuXG4gICAgaWYgKGZyZXFba10pIHtcbiAgICAgIGZyZXFba10rKztcbiAgICB9IGVsc2Uge1xuICAgICAgZnJlcVtrXT0xO1xuICAgIH1cblxuICAgIGlmIChjb3VudCA8IGZyZXFba10pIHtcbiAgICAgIGxhYmVsID0gaztcbiAgICAgIGNvdW50PWZyZXFba107XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBbbGFiZWxdOiBjb3VudCxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGlkbGVUaW1lciA9ICh0aW1lT3V0LCBjYWxsQmFjaykgPT4ge1xuICBsZXQgaWRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxCYWNrLCB0aW1lT3V0KTtcblxuICBkb2N1bWVudC5vbnRvdWNoc3RhcnQgPSByZXNldFRpbWVyO1xuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZXIoKSB7XG4gICAgY2xlYXJUaW1lb3V0KGlkbGVUaW1lb3V0KTtcbiAgICBpZGxlVGltZW91dCA9IHNldFRpbWVvdXQoY2FsbEJhY2ssIHRpbWVPdXQpO1xuICB9XG59O1xuIiwiaW1wb3J0IHtDVVNUT01fU1RPUkFHRV9QUkVGSVgsIExJU1RfTU9ERV9CRUFHTEVfS0VZUywgTE9HX0FQSV9VUkx9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7Y3JlYXRlSGFzaFN0cmluZywgZ2V0TW9zdEZyZXF1ZW50LCBpc1NlbmRCZWFjb25TdXBwb3J0ZWR9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBNb25pdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBNb25pdG9yXCIpO1xuICAgIHRoaXMubG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBtb25pdG9yXCIpO1xuXG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBudWxsO1xuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gZmFsc2U7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCA9IG51bGw7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA9IGZhbHNlO1xuICAgIHRoaXMuaGVhZGVycyA9IHtcbiAgICAgIHR5cGU6IFwidGV4dC9wbGFpblwiLFxuICAgIH07XG4gICAgdGhpcy5pc0xvZ2dlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5pbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBhc3luYyBzZW5kTG9ncyhtZXNzYWdlID0gbnVsbCwgaXNFcnJvciA9IGZhbHNlKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxvZ2dlci5sb2coXCJTZW5kaW5nIGxvZ3NcIik7XG5cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiRG9jdW1lbnQgcmVhZHkgc3RhdGUgaXMgbm90IGNvbXBsZXRlXCIpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIG9ubG9hZCBldmVudFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlUXVldWVMb2dzKHJlcXVlc3RCbG9iLCBpc0Vycm9yID0gZmFsc2UpIHtcbiAgICBpZiAoIWlzRXJyb3IgJiYgdGhpcy5pc0xvZ2dlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghcmVxdWVzdEJsb2IpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJDb3VsZCBub3QgY3JlYXRlIHJlcXVlc3QgYmxvYlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlJlcXVlc3QgYmxvYiB0byBzZW5kOiBcIiwgcmVxdWVzdEJsb2IpO1xuICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcblxuICAgIHRoaXMuaXNMb2dnZWQgPSB0cnVlO1xuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhKU09OLnN0cmluZ2lmeSh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmEpKTtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5lKSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVMYXRlc3RDaGFuZ2VzKCkge1xuICAgIGNvbnN0IGFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2ggPSBhd2FpdCBjcmVhdGVIYXNoU3RyaW5nKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmEpKTtcbiAgICBjb25zdCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2ggPSBhd2FpdCBjcmVhdGVIYXNoU3RyaW5nKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmUpKTtcblxuICAgIGlmIChhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoICE9PSB0aGlzLmFwcGxpZWRUcmVhdG1lbnRzSGFzaCkge1xuICAgICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPSB0cnVlO1xuICAgICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoO1xuICAgIH1cbiAgICBpZiAoZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoICE9PSB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoKSB7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2g7XG4gICAgfVxuICB9XG5cbiAgcGFja2FnZUxvZ0RhdGEobWVzc2FnZSA9IG51bGwpIHtcbiAgICBjb25zdCB7aGVhZGVyc30gPSB0aGlzO1xuICAgIHRoaXMuYXR0YWNoU2VnbWVudGF0aW9uUGF5bG9hZFRvQmVhZ2xlSW5mb0xheWVyKCk7XG4gICAgY29uc3QgYm9keSA9IHsuLi53aW5kb3cuYmVhZ2xlSW5mb0xheWVyfTtcbiAgICBjb25zdCBtID0gbWVzc2FnZSA/IG1lc3NhZ2UgOiBPYmplY3Qua2V5cyhib2R5LmEgfHwge30pLmxlbmd0aCA/IFwiVHJlYXRtZW50cyBhcHBsaWVkXCIgOiBcIk5vIHRyZWF0bWVudHMgYXBwbGllZFwiO1xuICAgIGJvZHkudCA9IERhdGUubm93KCk7XG4gICAgYm9keS5tID0gbTtcblxuICAgIHJldHVybiBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoYm9keSldLCBoZWFkZXJzKTtcbiAgfVxuXG4gIGF0dGFjaFNlZ21lbnRhdGlvblBheWxvYWRUb0JlYWdsZUluZm9MYXllcigpIHtcbiAgICAvLyBzZWdtZW50YXRpb24gcGFyYW1zXG4gICAgY29uc3QgaXNGcmVxdWVuY3lSZXF1aXJlZCA9IChrZXkpID0+IHtcbiAgICAgIGlmIChMSVNUX01PREVfQkVBR0xFX0tFWVMuaW5jbHVkZXMoa2V5KSkgcmV0dXJuIHRydWU7XG5cbiAgICAgIGNvbnN0IF9rZXkgPSBrZXkudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKF9rZXkuc3RhcnRzV2l0aChcImFsbHRpbWVcIikgJiYga2V5LmVuZHNXaXRoKFwibW9kZVwiKSkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIGNvbnN0IG1hcCA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgcGF5bG9hZCA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICBpZiAoaXNGcmVxdWVuY3lSZXF1aXJlZChrZXkucmVwbGFjZShDVVNUT01fU1RPUkFHRV9QUkVGSVgsIFwiXCIpKSkge1xuICAgICAgICAgIHBheWxvYWQgPSBnZXRNb3N0RnJlcXVlbnQocGF5bG9hZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHB1dCA9IChzdG9yYWdlKSA9PiB7XG4gICAgICBzdG9yYWdlICYmIE9iamVjdC5rZXlzKHN0b3JhZ2UpXG4gICAgICAgICAgLmZpbHRlcigoa2V5KSA9PiBrZXkuaW5kZXhPZihDVVNUT01fU1RPUkFHRV9QUkVGSVgpID49IDApXG4gICAgICAgICAgLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge2tleSwgbGF5ZXJLZXk6IGtleS5yZXBsYWNlKENVU1RPTV9TVE9SQUdFX1BSRUZJWCwgXCJcIil9O1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZvckVhY2goKHtrZXksIGxheWVyS2V5fSkgPT4gd2luZG93LmJlYWdsZUluZm9MYXllcltsYXllcktleV0gPSBtYXAoa2V5LCBzdG9yYWdlLmdldEl0ZW0oa2V5KSkpO1xuICAgIH07XG5cbiAgICBbbG9jYWxTdG9yYWdlLCBzZXNzaW9uU3RvcmFnZV0uZm9yRWFjaChwdXQpO1xuICB9XG5cbiAgcGFja2FnZVVwZGF0ZUxvZ0RhdGEoKSB7XG4gICAgY29uc3Qge2hlYWRlcnMsIGFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcywgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXN9ID0gdGhpcztcbiAgICBpZiAoIWFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyAmJiAhZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgdDogRGF0ZS5ub3coKSxcbiAgICAgIGE6IGFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA/IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYSA6IHt9LFxuICAgICAgZTogZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPyB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmUgOiB7fSxcbiAgICAgIHZJZDogd2luZG93LmJlYWdsZUluZm9MYXllci52SWQsXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsZXQgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IGZhbHNlO1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgZXhpdCBldmVudCBsaXN0ZW5lclwiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJiZWZvcmV1bmxvYWRcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5pc0xvZ2dlZCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzRXhpdEV2ZW50Q2FwdHVyZWQpIHJldHVybjtcbiAgICAgICAgICBpc0V4aXRFdmVudENhcHR1cmVkID0gdHJ1ZTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW4gYmVmb3JldW5sb2FkIGV2ZW50XCIpO1xuICAgICAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLnBhY2thZ2VVcGRhdGVMb2dEYXRhKCk7XG4gICAgICAgICAgaWYgKCFsb2dEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gY2hhbmdlcyB0byBsb2dcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7Y2FwdHVyZTogdHJ1ZX0sXG4gICAgKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJwYWdlaGlkZVwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBwYWdlaGlkZSBldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5wYWNrYWdlVXBkYXRlTG9nRGF0YSgpO1xuICAgICAgICAgIGlmICghbG9nRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIGNoYW5nZXMgdG8gbG9nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnF1ZXVlTG9ncyhsb2dEYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9LFxuICAgICk7XG4gIH1cblxuICBxdWV1ZUxvZ3MobG9nRGF0YSkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghaXNTZW5kQmVhY29uU3VwcG9ydGVkKCkpIHtcbiAgICAgIGZldGNoKExPR19BUElfVVJMLCBsb2dEYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgIGNvbnN0IHF1ZXVlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoIXF1ZXVlZCkgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocXVldWVJbnRlcnZhbCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIHF1ZXVlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgIGlmICghcXVldWVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIG5vdCBxdWV1ZWRcIik7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvcjtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFVybCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tVcmxSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwicGF0aFwiOiB7XG4gICAgICBjb25zdCByZXF1ZXN0VVJMPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgIGNvbnN0IGlzQWpheCA9IHJlcXVlc3RVUkwuaW5jbHVkZXMoXCJhamF4L21vYmlsZS1zZWFyY2gvbG9hZE90aGVyUGFnZXMucGhwXCIpO1xuICAgICAgY29uc3QgcGF0aCA9ICFpc0FqYXggPyBuZXcgVVJMKHJlcXVlc3RVUkwpLnBhdGhuYW1lIDpcbiAgICAgIGRlY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgICBuZXcgVVJMKHJlcXVlc3RVUkwpLnNlYXJjaC5yZXBsYWNlKFwiP29yaWdpbmFsUGF0aD1cIiwgXCJcIiksXG4gICAgICApO1xuICAgICAgbG9nZ2VyLmxvZyhgQ2hlY2tpbmcgcGF0aCAke3BhdGh9IG1hdGNoZXMgcnVsZSBwYXRoICR7dmFsdWV9YCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYXRoLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQge3NrdUNvbGxlY3Rvcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge0xPT0tVUF9BUElfVVJMLCBTRVNTSU9OX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQge2NoZWNrVXJsUnVsZX0gZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lL3VybENoZWNrZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBpXCIpO1xuXG5leHBvcnQgY29uc3QgcHJvZHVjdEluZm9Mb29rdXAgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTdGFydGluZyBwcm9kdWN0IGluZm8gbG9va3VwXCIpO1xuICBjb25zdCBza3VMaXN0ID0gc2t1Q29sbGVjdG9yKCk7XG4gIGlmICghc2t1TGlzdCkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJObyBza3UgZm91bmRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgbGV0IHByb2R1Y3RJbmZvO1xuICB0cnkge1xuICAgIHByb2R1Y3RJbmZvID0gYXdhaXQgZmV0Y2goTE9PS1VQX0FQSV9VUkwsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShza3VMaXN0KSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBtb2RlOiBcImNvcnNcIixcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci53YXJuKFwiRmV0Y2ggdG8gY2F0YWxvZyBhcGkgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghcHJvZHVjdEluZm8ub2spIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiUHJvZHVjdCBpbmZvIGxvb2t1cCBmYWlsZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcHJvZHVjdEluZm8gPSBhd2FpdCBwcm9kdWN0SW5mby5qc29uKCk7XG4gIGlmICghcHJvZHVjdEluZm8pIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiUHJvZHVjdCBpbmZvIGV4dHJhY3Rpb24gZnJvbSByZXNwb25zZSBmYWlsZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbG9nZ2VyLnN1Y2Nlc3MoXCJQcm9kdWN0IGluZm8gbG9va3VwIHN1Y2Nlc3NmdWxcIik7XG4gIGNvbnN0IHtORF9TS1VfSU5GT19CQVNLRVR9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gIGNvbnN0IHJ1bGUgPSB7XG4gICAgb3BlcmF0b3I6IFwicGF0aFwiLFxuICAgIGNvbmRpdGlvbjogXCJlcXVhbFwiLFxuICAgIHZhbHVlOiBcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiLFxuICB9O1xuICAvLyBDaGVjayBpZiBwYWdlIGlzIGJhc2tldCBwYWdlXG4gIGlmIChjaGVja1VybFJ1bGUocnVsZSkpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9JTkZPX0JBU0tFVCwgSlNPTi5zdHJpbmdpZnkocHJvZHVjdEluZm8pKTtcbiAgfVxuICByZXR1cm4gcHJvZHVjdEluZm87XG59O1xuIiwiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aG91dEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVTcHJlYWQgZnJvbSBcIi4vbm9uSXRlcmFibGVTcHJlYWQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBEYXRhTGF5ZXIgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRGF0YUxheWVyUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gZGF0YUxheWVyRmluZGVyKG9wZXJhdG9yKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkYXRhTGF5ZXJGaW5kZXIgPSAoa2V5KSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTZWFyY2hpbmcgYmVhZ2xlSW5mb0xheWVyIGZvciBrZXkgXCIsIGtleSk7XG4gIGxldCByZXMgPSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyW2tleV07XG4gIGlmIChrZXkuaW5jbHVkZXMoXCIuXCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoXCIuXCIpO1xuICAgICAgcmVzID0gd2luZG93LmJlYWdsZUluZm9MYXllcltrZXlzWzBdXTtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXMgPSByZXNba2V5c1tpXV07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKGBDb3VsZG4ndCBleHRyYWN0IGtleSAke2tleX0gZnJvbSBiZWFnbGVJbmZvTGF5ZXJgKTtcbiAgICAgIHJlcyA9IG51bGw7XG4gICAgfVxuICB9XG4gIGlmIChyZXMpIHtcbiAgICBsb2dnZXIuc3VjY2VzcyhgRm91bmQga2V5ICR7a2V5fSB3aXRoIHZhbHVlICR7cmVzfWApO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgbG9nZ2VyLmZhaWxlZChgS2V5ICR7a2V5fSBub3QgZm91bmQgaW4gYmVhZ2xlSW5mb0xheWVyYCk7XG5cbiAgbG9nZ2VyLmxvZyhcIlNlYXJjaGluZyBkYXRhTGF5ZXIgZm9yIGtleSBcIiwga2V5KTtcbiAgZm9yIChjb25zdCBvYmogb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGlmIChrZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIGxvZ2dlci5zdWNjZXNzKGBGb3VuZCBrZXkgJHtrZXl9IHdpdGggdmFsdWUgJHtvYmpba2V5XX1gKTtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9XG4gIH1cbiAgbG9nZ2VyLmZhaWxlZChgS2V5ICR7a2V5fSBub3QgZm91bmQgaW4gZGF0YUxheWVyYCk7XG4gIHJldHVybiBudWxsO1xufTtcbiIsImltcG9ydCB7ZGF0YUxheWVyRmluZGVyfSBmcm9tIFwiLi4vTmV4dGRheVJ1bGVFbmdpbmUvZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtyZXBsYWNlQWxsfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiUmVwbGFjZVV0aWxzXCIpO1xuXG5jb25zdCByZXBsYWNlciA9ICh2YWx1ZSwgcmVwbGFjZUZuLCBwcm9kdWN0SW5mbykgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICB2YWx1ZS5mb3JFYWNoKCh2YWwsIGkpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRSZXBsYWNlRm4gPSByZXBsYWNlRm4gPyByZXBsYWNlRm5baV0gfHwgcmVwbGFjZUZuIDogXCJcIjtcbiAgICAgIHZhbHVlW2ldID0gcmVwbGFjZUZuRXhlY3V0b3IoY3VycmVudFJlcGxhY2VGbiwgdmFsLCBwcm9kdWN0SW5mbyk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZXBsYWNlRm4pKSB7XG4gICAgcmVwbGFjZUZuLmZvckVhY2goKHJGbiwgaSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiByRm4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29uc3QgcmVwbGFjZVZhbCA9IHJlcGxhY2VPYmplY3RFeHRyYWN0b3IockZuKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZVZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHJlcGxhY2VGbkV4ZWN1dG9yKHJlcGxhY2VGbiwgdmFsdWUsIHByb2R1Y3RJbmZvLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IHJlcGxhY2VGbkV4ZWN1dG9yKHJlcGxhY2VGbiwgdmFsdWUsIHByb2R1Y3RJbmZvKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5mdW5jdGlvbiByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlLCBwcm9kdWN0SW5mbywgc2luZ2xlID0gZmFsc2UpIHtcbiAgaWYgKHJlcGxhY2VGbiAmJiB2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkV4ZWN1dGluZyByZXBsYWNlIGZ1bmN0aW9uOiBcIiwgcmVwbGFjZUZuKTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgZGF0YUxheWVyRmluZGVyLFxuICAgICAgcHJvZHVjdEluZm8sXG4gICAgfTtcbiAgICBjb25zdCByZXBsYWNlRnVuY3Rpb24gPSBGdW5jdGlvbihyZXBsYWNlRm4pLmJpbmQoY29udGV4dCk7XG4gICAgaWYgKHNpbmdsZSkgcmV0dXJuIHZhbHVlLnJlcGxhY2UoXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlRnVuY3Rpb24oKSk7XG4gICAgcmV0dXJuIHJlcGxhY2VBbGwodmFsdWUsIFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZUZ1bmN0aW9uKCkpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZU9iamVjdEV4dHJhY3RvcihyZXBsYWNlRm4pIHtcbiAgY29uc3Qge3N0b3JhZ2UsIGtleSwgdHlwZX0gPSByZXBsYWNlRm47XG4gIGxldCByZXBsYWNlVmFsID0gbnVsbDtcbiAgc3dpdGNoIChzdG9yYWdlKSB7XG4gICAgY2FzZSBcInNlc3Npb25cIjoge1xuICAgICAgcmVwbGFjZVZhbCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICBpZiAodHlwZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlcGxhY2VWYWwgPSBKU09OLnBhcnNlKHJlcGxhY2VWYWwpO1xuICAgICAgICAgIHJlcGxhY2VWYWwgPSByZXBsYWNlVmFsW3JlcGxhY2VWYWwubGVuZ3RoIC0gMV1bdHlwZV07XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoYENvdWxkIG5vdCBwYXJzZSAke3JlcGxhY2VWYWx9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gcmVwbGFjZVZhbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVwbGFjZXI7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge3N0eWxlQXBwbGljYXRvciwgZGVsYXksIGlkbGVUaW1lcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge3JlcGxhY2VBbGx9IGZyb20gXCIuLi9zdHJpbmdVdGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUlksIFNFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgcmVwbGFjZXIgZnJvbSBcIi4vcmVwbGFjZS11dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGFwcGx5QWN0aW9ucyhhY3Rpb25zLCBiaW5kaW5ncykge1xuICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBBcHBseSBBY3Rpb25zXCIpO1xuICBjb25zdCB7UE9QVVBfRElTUExBWV9GTEFHfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICBjb25zdCB7cHJvZHVjdEluZm8sIHNrdUxpc3R9ID0gYmluZGluZ3M7XG5cbiAgY29uc3QgdHJhbnNmb3JtZXIgPSBmdW5jdGlvbiB0cmFuc2Zvcm1lcihhY3Rpb24pIHtcbiAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgYWN0aW9uOiBcIiwgSlNPTi5zdHJpbmdpZnkoYWN0aW9uKSk7XG4gICAgY29uc3Qge1xuICAgICAgb3BlcmF0b3IsXG4gICAgICB0eXBlLFxuICAgICAgYXBwbHlFdmVudCxcbiAgICAgIGNvbnRlbnRTZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3JGYWxsYmFjayxcbiAgICAgIG1kQ29uZGl0aW9uLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8xLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8yLFxuICAgICAgcmVwbGFjZUZuLFxuICAgICAgcFR5cGUsXG4gICAgfSA9IGFjdGlvbjtcbiAgICBpZiAob3BlcmF0b3IgPT09IFwibm9vcFwiKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiTm9vcCBPcGVyYXRvcjogTm8gb3BlcmF0aW9uIGlzIGFwcGxpZWQgb24gdGFyZ2V0IFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHt2YWx1ZX0gPSBhY3Rpb247XG4gICAgbGV0IGVsZW1lbnQgPSAkKHNlbGVjdG9yKTtcblxuICAgIGNvbnN0IG1jID0gbWRDb25kaXRpb24gPyB3aW5kb3cubWF0Y2hNZWRpYShtZENvbmRpdGlvbikubWF0Y2hlcyA6IHRydWU7XG4gICAgaWYgKCFtYykge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIk1lZGlhIGNvbmRpdGlvbiBtaXNtYXRjaDogXCIsIG1kQ29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMSAmJiAhbW92ZV9zZWxlY3Rvcl8yKSB8fFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMiAmJiAhbW92ZV9zZWxlY3Rvcl8xKVxuICAgICkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkJvdGggbW92ZSBzZWxlY3RvcnMgYXJlIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobW92ZV9zZWxlY3Rvcl8xICYmIG1vdmVfc2VsZWN0b3JfMikge1xuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMSkubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJNb3ZlIHNlbGVjdG9yIDEgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMikubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJNb3ZlIHNlbGVjdG9yIDIgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IHNwZWNpZmllZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICBpZiAoISQoc2VsZWN0b3JGYWxsYmFjaykubGVuZ3RoICYmIG9wZXJhdG9yID09PSBcInJlbW92ZVwiKSByZXR1cm47XG4gICAgICAgIGlmIChzZWxlY3RvciAhPT0gXCJuby1zZWxlY3RvclwiKSB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBmb3VuZDogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVHJ5aW5nIGZhbGxiYWNrIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKHNlbGVjdG9yRmFsbGJhY2spIGVsZW1lbnQgPSAkKHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJGYWxsYmFjayBzZWxlY3RvciBub3QgZm91bmRcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlcGxhY2VGbikge1xuICAgICAgdmFsdWUgPSByZXBsYWNlcih2YWx1ZSwgcmVwbGFjZUZuLCBwcm9kdWN0SW5mbyk7XG4gICAgfVxuICAgIGlmIChvcGVyYXRvciA9PT0gXCJyZW1vdmVcIikge1xuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlJlbW92aW5nOiBcIiwgc2VsZWN0b3IpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcIkNhbm5vdCBmb3VuZCBlbGVtZW50IHdpdGggc2VsZWN0b3I6IFwiLCBzZWxlY3Rvcik7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJpbnNlcnRcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJiZWZvcmVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW5zZXJ0aW5nIGJlZm9yZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICBpZiAoU3RyaW5nKHZhbHVlKS5pbmNsdWRlcyhcIm5kLWFkZC10by13aW5cIikpIHtcbiAgICAgICAgICAgICQoXCIubmQtYWRkLXRvLXdpblwiKS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5iZWZvcmUodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW5zZXJ0aW5nIGFmdGVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXBwZW5kXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGVuZGluZyB2YWx1ZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmFwcGVuZCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3B1cFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRykpICE9PSAwKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJQb3B1cCBhbHJlYWR5IGRpc3BsYXllZCBpbiBzZXNzaW9uXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDcmVhdGluZyBQb3B1cDogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChwVHlwZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IGdldFByb2R1Y3RJbmZvKHByb2R1Y3RJbmZvLCBwVHlwZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlYXRlUG9wdXAodmFsdWUsIGNvbnRlbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImV4aXRJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBleGl0IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGV4aXRTY3JvbGxMaXN0ZW5lcihkaXNwbGF5UG9wdXApO1xuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBkaXNwbGF5UG9wdXAsIHtvbmNlOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuYmVhZ2xlSW5mb0xheWVyPy5yLmluY2x1ZGVzKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LmQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Lmhpc3RvcnkgJiYgdHlwZW9mIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShcInRlbXBcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZXIoMTIwMDAwLCBkaXNwbGF5UG9wdXApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBkaXNwbGF5UG9wdXAsIHtvbmNlOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY29weUludGVudFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQWRkaW5nIGNvcHkgaW50ZW50IGxpc3RlbmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGFwcGVuZCBwb3B1cCB0byBib2R5IGFmdGVyIHRpbWVvdXQgZXhwaXJlc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoYFR5cGU6ICR7dHlwZX0gbm90IGZvdW5kIGZvciBvcGVyYXRvcjogJHtvcGVyYXRvcn1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImVkaXRcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkVkaXRpbmcgdGV4dDogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LnRleHQodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIGh0bWw6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlQXBwbGljYXRvclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlQ2hhbmdlc01hcCA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlN0eWxlIENoYW5nZXMgTWFwOiBcIiwgc3R5bGVDaGFuZ2VzTWFwKTtcbiAgICAgICAgICAgIHN0eWxlQXBwbGljYXRvcihlbGVtZW50LCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZENsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgYWRkZGluZyBjbGFzcyB0byAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZW1vdmVDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYHJlbW92ZSBjbGFzcyBmcm9tICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRvY3VtZW50VGl0bGVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBjaGFuZ2luZyBkb2N1bWVudCB0aXRsZSBmcm9tICR7ZWxlbWVudH0gdG8gJHt2YWx1ZX1gKTtcbiAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmIChldmVudCA9PSBcInRhYkNoYW5nZVwiKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcImNhdGNoaW5nIGV2ZW50IHRhYmNoYW5nZS4uXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGl0bGUgPSBkb2N1bWVudC50aXRsZTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoZSkgPT5cbiAgICAgICAgICAgICAgICAgIGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UoZSwgdmFsdWUsIG9yaWdpbmFsVGl0bGUpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlVua25vd24gZWRpdCB0eXBlOiBcIiwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzZXRhdHRyaWJ1dGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgYXR0cmlidXRlOiBcIiwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGF0dHJpYnV0ZSkge1xuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgZWxlbWVudC5jc3MoXCJjb250ZW50XCIsIGB1cmwoJHt2YWx1ZS50cmltKCl9KWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhwcm9wZXJ0eSwgcHJvcGVydHlWYWx1ZSwgXCIhaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nOiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5yZXBsYWNlQWxsKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInN3YXBcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlN3YXBwaW5nOiBcIiwgbW92ZV9zZWxlY3Rvcl8xLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgY29uc3QgbjEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBuMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIHN3YXBOb2RlcyhuMSwgbjIpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5qZWN0c2NyaXB0XCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbmplY3Rpbmcgc2NyaXB0OiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5hcHBlbmQoYDxzY3JpcHQ+JHt2YWx1ZX08L3NjcmlwdD5gKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIm1vdmVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhgTW92aW5nICR7bW92ZV9zZWxlY3Rvcl8xfSB0byAke21vdmVfc2VsZWN0b3JfMn1gKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc291cmNlLnJlbW92ZSgpO1xuICAgICAgZGVzdGluYXRpb24ucHJlcGVuZChzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicHJvZHVjdEluZm9Mb29rdXBcIikge1xuICAgICAgY29uc3QgcmVzID0gZ2V0UHJvZHVjdEluZm8ocHJvZHVjdEluZm8sIHBUeXBlLCB2YWx1ZSk7XG4gICAgICBlbGVtZW50LmJlZm9yZShyZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiTm8gc3VjaCBvcGVyYXRvciBleGlzdHMgeWV0XCIsIG9wZXJhdG9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVwbGFjZVdpdGhWYWwgPSAodmFsdWUsIGh0bWxTdHIpID0+IHtcbiAgICBpZiAodmFsdWUgJiYgaHRtbFN0ci5pbmNsdWRlcyhcInt7UkVQTEFDRV9QUk9EVUNUSU5GT319XCIpKSB7XG4gICAgICBodG1sU3RyID0gcmVwbGFjZUFsbChodG1sU3RyLCBcInt7UkVQTEFDRV9QUk9EVUNUSU5GT319XCIsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxTdHI7XG4gIH07XG4gIGNvbnN0IGdldFByb2R1Y3RJbmZvID0gKHByb2R1Y3RJbmZvLCB0eXBlLCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRTa3UgPSBza3VMaXN0WzBdO1xuICAgIGxldCByZXMgPSBudWxsO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInRyYW5zYWN0aW9uSW4yV2Vla3NcIjoge1xuICAgICAgICByZXMgPSByZXBsYWNlV2l0aFZhbChwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLnRyYW5zYWN0aW9uSW4yV2Vla3M/LnRvU3RyaW5nKCkucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgXCIsXCIpLCB2YWx1ZSk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJSZXBsYWNpbmcgdHJhbnNjYXRpb25JbjJXZWVrcyBcIiwgcHJvZHVjdEluZm9bZWxlbWVudFNrdV0uY2F0YWxvZy50cmFuc2FjdGlvbkluMldlZWtzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiYWRkVG9DYXJ0SW4yV2Vla3NcIjoge1xuICAgICAgICByZXMgPSByZXBsYWNlV2l0aFZhbChwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLmFkZFRvQ2FydEluMldlZWtzPy50b1N0cmluZygpLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLFwiKSwgdmFsdWUpO1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nIEFkZFRvQ2FydENvdW50IFwiLCBwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLmFkZFRvQ2FydEluMldlZWtzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwicHJvZHVjdFZpZXdDb3VudFwiOiB7XG4gICAgICAgIHJlcyA9IHJlcGxhY2VXaXRoVmFsKHByb2R1Y3RJbmZvW2VsZW1lbnRTa3VdLmNhdGFsb2cucHJvZHVjdFZpZXdDb3VudD8udG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIixcIiksIHZhbHVlKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZyBwcm9kdWN0Vmlld0NvdW50IGZvclwiLCBwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLnByb2R1Y3RWaWV3Q291bnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJubyBzdWNoIHR5cGUgZm91bmQgZm9yIHByb2R1Y3RJbmZvTG9va3VwIG9wZXJhdG9yXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICBjb25zdCBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlID0gYXN5bmMgKGV2ZW50LCB0aXRsZXMsIG9yaWdpbmFsVGl0bGUpID0+IHtcbiAgICBjb25zdCBwYXJzZWRUaXRsZXMgPSAhQXJyYXkuaXNBcnJheSh0aXRsZXMpID8gW3RpdGxlc10gOiB0aXRsZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJzZWRUaXRsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBwYXJzZWRUaXRsZXNbaV07XG4gICAgICAgIGF3YWl0IGRlbGF5KDMwMDApO1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICAgIGF3YWl0IGRlbGF5KDMwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGV2ZW50LCB0aXRsZXMsIG9yaWdpbmFsVGl0bGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQb3B1cENsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgaWQgPSBldmVudC50YXJnZXQuaWQ7XG4gICAgaWYgKGlkICYmIGlkID09PSBcIm5kLXBvcHVwX193cmFwcGVyXCIpIHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheVBvcHVwID0gKCkgPT4ge1xuICAgIGlmIChwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRykpID4gMCkgcmV0dXJuO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHLCAxKTtcbiAgICBjb25zdCBxUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dydC1zaGFkb3ctaG9zdFwiKTtcbiAgICBpZiAocVBvcHVwKSBxUG9wdXAuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKS5zdHlsZVtcImRpc3BsYXlcIl0gPSBcImJsb2NrXCI7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9LCAxNTAwMCk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlUG9wdXAgPSAodmFsdWUsIGNvbnRlbnRTZWxlY3RvcikgPT4ge1xuICAgIC8vIENyZWF0ZSBwb3B1cCB3cmFwcGVyXG4gICAgY29uc3QgcG9wdXBXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgIHBvcHVwV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwibmQtcG9wdXBfX3dyYXBwZXJcIik7XG4gICAgcG9wdXBXcmFwcGVyLmlkID0gXCJuZC1wb3B1cF9fd3JhcHBlclwiO1xuXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGNsb3NlIGJ1dHRvblxuICAgIGNvbnN0IHBvcHVwQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChcIm5kLXBvcHVwX19idXR0b24tY2xvc2VcIik7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIlhcIjtcbiAgICBwb3B1cENsb3NlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgaWYgKGNvbnRlbnRTZWxlY3Rvcikge1xuICAgICAgY29uc3QgY29udGVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29udGVudFNlbGVjdG9yKSk7XG4gICAgICB3aGlsZSAodmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSAmJiBjb250ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIGNvbnRlbnRzLnNoaWZ0KCkuc3JjKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgZnJvbSBhY3Rpb24gYW5kIGFwcGVuZCBjbG9zZSBidXR0b25cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZS50cmltKCk7XG4gICAgY29uc3QgcG9wdXAgPSB0ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgcG9wdXAuYXBwZW5kQ2hpbGQocG9wdXBDbG9zZUJ1dHRvbik7XG4gICAgcG9wdXBXcmFwcGVyLmFwcGVuZENoaWxkKHBvcHVwKTtcblxuICAgIC8vIFJlbW92ZSBvbGQgcG9wdXAgaWYgZXhpc3RzIGJlZm9yZSBhcHBlbmRpbmcgbmV3IG9uZVxuICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwb3B1cFdyYXBwZXIpO1xuICB9O1xuXG4gIGNvbnN0IHN3YXBOb2RlcyA9IGZ1bmN0aW9uIHN3YXBOb2RlcyhuMSwgbjIpIHtcbiAgICBjb25zdCBwMSA9IG4xLnBhcmVudE5vZGU7XG4gICAgY29uc3QgcDIgPSBuMi5wYXJlbnROb2RlO1xuICAgIGxldCBpMTtcbiAgICBsZXQgaTI7XG5cbiAgICBpZiAoIXAxIHx8ICFwMiB8fCBwMS5pc0VxdWFsTm9kZShuMikgfHwgcDIuaXNFcXVhbE5vZGUobjEpKSByZXR1cm47XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAxLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocDEuY2hpbGRyZW5baV0uaXNFcXVhbE5vZGUobjEpKSB7XG4gICAgICAgIGkxID0gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMi5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAyLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4yKSkge1xuICAgICAgICBpMiA9IGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHAxLmlzRXF1YWxOb2RlKHAyKSAmJiBpMSA8IGkyKSB7XG4gICAgICBpMisrO1xuICAgIH1cbiAgICBwMS5pbnNlcnRCZWZvcmUobjIsIHAxLmNoaWxkcmVuW2kxXSk7XG4gICAgcDIuaW5zZXJ0QmVmb3JlKG4xLCBwMi5jaGlsZHJlbltpMl0pO1xuICB9O1xuXG4gIGNvbnN0IGFjdGlvbkFwcGxpY2F0b3IgPSAoYWN0aW9ucykgPT4ge1xuICAgIGlmICghd2luZG93LmpRdWVyeSkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgYWN0aW9uQXBwbGljYXRvcihhY3Rpb25zKTtcbiAgICAgIH0sIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRyYW5zZm9ybWVyKGFjdGlvbik7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoYENvdWxkbid0IGFwcGx5IGFjdGlvbiAke2FjdGlvbn0gd2l0aCBlcnJvciAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICAgIHJldHVybiBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQXBwbHkgYWN0aW9uc1xuICByZXR1cm4gYWN0aW9uQXBwbGljYXRvcihhY3Rpb25zKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGFwcGx5QWN0aW9ucztcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFRSRUFUTUVOVFNfRFVSQVRJT04sIE1PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtmZXRjaFRyZWF0bWVudHMsIGZldGNoVHJlYXRtZW50V2VpZ2h0c30gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFRyZWF0bWVudCBSZXBvc2l0b3J5XCIpO1xuXG5jbGFzcyBUcmVhdG1lbnRSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHt0cmVhdG1lbnRzLCB0cmVhdG1lbnRXZWlnaHRzfSA9IGJvZHk7XG4gICAgdGhpcy50cmVhdG1lbnRzID0gdHJlYXRtZW50cztcblxuICAgIHRoaXMudHJlYXRtZW50V2VpZ2h0cyA9IHRyZWF0bWVudFdlaWdodHM7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VHJlYXRtZW50cygpIHtcbiAgICBsb2dnZXIubG9nKFwiTG9hZGluZyB0cmVhdG1lbnRzXCIpO1xuICAgIGNvbnN0IHtUUkVBVE1FTlRTfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgIGNvbnN0IHRyZWF0bWVudHNPYmogPSBKU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFRSRUFUTUVOVFMpKTtcbiAgICBsZXQgdHJlYXRtZW50cyA9IHRyZWF0bWVudHNPYmo/LnRyZWF0bWVudHM7XG4gICAgY29uc3QgdGltZXN0YW1wID0gdHJlYXRtZW50c09iaj8udGltZXN0YW1wO1xuICAgIGlmICghdHJlYXRtZW50cyB8fCAhdGltZXN0YW1wKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiVHJlYXRtZW50cyBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgIH07XG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShUUkVBVE1FTlRTLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnRXaXRoVGltZXN0YW1wKSk7XG4gICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICB9XG4gICAgaWYgKHRpbWVzdGFtcCkge1xuICAgICAgY29uc3QgZWxhcHNlZERheXMgPSAoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG4gICAgICBpZiAoZWxhcHNlZERheXMgPiBUUkVBVE1FTlRTX0RVUkFUSU9OKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJUcmVhdG1lbnRzIGFyZSBleHBpcmVkXCIpO1xuICAgICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHRyZWF0bWVudHMsXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gICAgICB9XG4gICAgfVxuICAgIGxvZ2dlci5zdWNjZXNzKFwiVHJlYXRtZW50cyBhcmUgbG9hZGVkIGZyb20gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRXZWlnaHRzKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIud2FybihlcnIubWVzc2FnZSk7XG4gICAgICB0aGlzLnRyZWF0bWVudFdlaWdodHMgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1hdGNoZWRUcmVhdG1lbnRzKCkge1xuICAgIGNvbnN0IHRyZWF0bWVudFdlaWdodHMgPSB0aGlzLnRyZWF0bWVudFdlaWdodHM7XG4gICAgY29uc3QgdXNlckdyb3VwID0gdGhpcy5nZXRVc2VyR3JvdXAoKTtcbiAgICBjb25zdCB0cmVhdG1lbnRzID0gdGhpcy50cmVhdG1lbnRzO1xuICAgIGlmICh0cmVhdG1lbnRXZWlnaHRzKSB7XG4gICAgICBjb25zdCB1c2VyR3JvdXBXZWlnaHRzID0gKHVzZXJHcm91cCAmJiB0cmVhdG1lbnRXZWlnaHRzW3VzZXJHcm91cF0pID9cbiAgICAgIHRyZWF0bWVudFdlaWdodHNbdXNlckdyb3VwXSA6IHRyZWF0bWVudFdlaWdodHNbXCJkZWZhdWx0XCJdO1xuICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgdHJlYXRtZW50cykge1xuICAgICAgICAvLyBUcmVhdG1lbnQgd2VpZ2h0IGNhbiBiZSBzZXQgdG8gMCBpZiBub24tZXhpc3RlbnQgaW4gdXNlciBncm91cFxuICAgICAgICAvLyBpZiAoIXVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXSkgdHJlYXRtZW50LndlaWdodCA9IDA7XG4gICAgICAgIGlmICghdXNlckdyb3VwV2VpZ2h0c1t0cmVhdG1lbnQuaWRdKSBjb250aW51ZTtcbiAgICAgICAgdHJlYXRtZW50LndlaWdodCA9IHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXS53ZWlnaHQ7XG4gICAgICAgIGlmICh0cmVhdG1lbnQuYWN0aW9ucy5maW5kKChhKSA9PiBhLnZhcmlhbnRzKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIHRyZWF0bWVudC5hY3Rpb25zKSB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnZhcmlhbnRzKSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgdmFyaWFudEtleSBvZiBPYmplY3Qua2V5cyhhY3Rpb24udmFyaWFudHMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXT8udmFyaWFudHMgJiYgdXNlckdyb3VwV2VpZ2h0c1t0cmVhdG1lbnQuaWRdPy52YXJpYW50c1t2YXJpYW50S2V5XSkge1xuICAgICAgICAgICAgICAgICAgYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCA9IHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXT8udmFyaWFudHNbdmFyaWFudEtleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbG9nZ2VyLmxvZyhgJHt0cmVhdG1lbnRzLmxlbmd0aH0gdHJlYXRtZW50cyB1c2VyIGdyb3VwIG1hdGNoZWRgKTtcbiAgICBpZiAoIXRyZWF0bWVudHMubGVuZ3RoKSByZXR1cm4gW107XG4gICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gIH1cblxuICBnZXRVc2VyR3JvdXAoKSB7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgaWYgKGlzTW9iaWxlKSByZXR1cm4gXCJVR0JcIjtcbiAgICByZXR1cm4gXCJVR0FcIjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmVhdG1lbnRSZXBvc2l0b3J5O1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZUywgTE9DQUxfU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBDb3VudGVyIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0NvdW50ZXJSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhZ2VWaWV3XCI6XG4gICAgICByZXR1cm4gcGFnZVZpZXdIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJDQUJhc2tldFByaWNlXCI6XG4gICAgICByZXR1cm4gY2FCYXNrZXRQcmljZUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJObyBzdWNoIG9wZXJhdG9yXCIsIG9wZXJhdG9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuY29uc3QgZ2V0Q291bnRlciA9IChjb3VudGVyLCB0eXBlKSA9PiB7XG4gIHRyeSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwic2Vzc2lvblwiOlxuICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShjb3VudGVyKTtcbiAgICAgIGNhc2UgXCJsb2NhbFwiOlxuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oY291bnRlcik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiTm8gc3VjaCB0eXBlXCIsIHR5cGUpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5mYWlsZWQoYENvdWxkIG5vdCBnZXQgY291bnRlciAke2NvdW50ZXJ9YCwgZXJyKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgcGFnZVZpZXdIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgcGFnZVZpZXdzID0gcGFyc2VJbnQoZ2V0Q291bnRlcihTRVNTSU9OX1NUT1JBR0VfS0VZUy5QQUdFX1ZJRVdTLCBcInNlc3Npb25cIikpO1xuICBsb2dnZXIubG9nKFwiUGFnZSB2aWV3cyBjb3VudGVyIHZhbHVlOiBcIiwgcGFnZVZpZXdzKTtcbiAgaWYgKHBhZ2VWaWV3cyA9PT0gbnVsbCkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJQYWdldmlld3MgY291bnRlciBub3QgZm91bmQgaW4gc2Vzc2lvbiBzdG9yYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYWdlVmlld3MsIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbmNvbnN0IGNhQmFza2V0UHJpY2VIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgY2FCYXNrZXRQcmljZSA9IHBhcnNlSW50KFxuICAgICAgZ2V0Q291bnRlcihMT0NBTF9TVE9SQUdFX0tFWVMuQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCBcImxvY2FsXCIpKTtcbiAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCBwcmljZSBjb3VudGVyIHZhbHVlOiBcIiwgY2FCYXNrZXRQcmljZSk7XG4gIGlmIChjYUJhc2tldFByaWNlID09PSBudWxsKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCBwcmljZSBjb3VudGVyIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihjYUJhc2tldFByaWNlLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBFbGVtZW50IENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0VsZW1lbnRSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZSwgc2VsZWN0b3IsIHNlbGVjdG9yQWxsLCBzZWxlY3RvckZhbGxiYWNrID0gbnVsbH0gPSBydWxlO1xuICBsZXQgbWFpblNlbGVjdG9yID0gc2VsZWN0b3I7XG4gIGlmIChtYWluU2VsZWN0b3IgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIG1haW5TZWxlY3RvciA9IHNlbGVjdG9yRmFsbGJhY2sgPyBzZWxlY3RvckZhbGxiYWNrIDogbWFpblNlbGVjdG9yO1xuICB9XG5cbiAgaWYgKG9wZXJhdG9yID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgfVxuICBpZiAobWFpblNlbGVjdG9yICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IGZvdW5kIG9uIHBhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChzZWxlY3RvckFsbCAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvckFsbCkpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IGZvdW5kIG9uIHBhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGV0IGVsZW1lbnQ7XG4gIGlmIChtYWluU2VsZWN0b3IpIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3Rvcik7XG4gIGVsc2UgaWYgKHNlbGVjdG9yQWxsKSBlbGVtZW50ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yQWxsKSk7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJ0ZXh0LW51bWJlclwiOiB7XG4gICAgICBsZXQgdGVtcFZhbDtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgICAgIHRlbXBWYWwgPSBlbGVtZW50LnJlZHVjZSgocmV0dXJuVmFsLCBlbGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuVmFsICs9IHBhcnNlSW50KGVsZW0udGV4dENvbnRlbnQucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXBWYWwgPSBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikudGV4dENvbnRlbnRcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgfVxuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gcGFyc2VJbnQodGVtcFZhbCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiY2xhc3NMaXN0XCI6XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihBcnJheS5mcm9tKGVsZW1lbnQuY2xhc3NMaXN0KSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcImNvdW50XCI6IHtcbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IEFycmF5LmlzQXJyYXkoZWxlbWVudCkgPyBlbGVtZW50Lmxlbmd0aCA6IGVsZW1lbnQgPyAxIDogMDtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNhc2UgXCJzdHlsZVwiOiB7XG4gICAgICBjb25zdCBlbGVtZW50U3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgIGNvbnN0IHN0eWxlS2V5ID0gdmFsdWUuc3BsaXQoXCI6XCIpWzBdLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0eWxlVmFsdWUgPSB2YWx1ZS5zcGxpdChcIjpcIilbMV0udHJpbSgpO1xuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gZWxlbWVudFN0eWxlc1tzdHlsZUtleV07XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgc3R5bGVWYWx1ZSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiT3BlcmF0b3Igbm90IGRlZmluZWRcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBGdW5jdGlvbiBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tGdW5jdGlvblJ1bGUgPSAocnVsZSwgb3B0cykgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge3Byb2R1Y3RJbmZvfSA9IG9wdHM7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZSwgYmluZGluZ3N9ID0gcnVsZTtcbiAgaWYgKCFvcGVyYXRvcikge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJSdWxlIGZ1bmN0aW9uIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQgY29udGV4dCA9IHt9O1xuICBpZiAoYmluZGluZ3MgPT0gXCJwcm9kdWN0SW5mb1wiKSB7XG4gICAgY29udGV4dCA9IHtcbiAgICAgIHByb2R1Y3RJbmZvLFxuICAgIH07XG4gIH1cbiAgY29uc3QgcnVsZUZ1bmN0aW9uID0gRnVuY3Rpb24ob3BlcmF0b3IpLmJpbmQoY29udGV4dCk7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IHJ1bGVGdW5jdGlvbigpO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFNlc3Npb24gQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrU2Vzc2lvblJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwiZHVyYXRpb25cIjpcbiAgICAgIHJldHVybiBkdXJhdGlvbkhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcImhpc3RvcnlcIjpcbiAgICAgIHJldHVybiBoaXN0b3J5SGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IGdldFNlc3Npb25UaW1lc3RhbXAgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHBhcnNlSW50KHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fVElNRVNUQU1QKSkpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGdldCBzZXNzaW9uIHRpbWVzdGFtcFwiLCBlcnIpO1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9XG59O1xuXG5jb25zdCBkdXJhdGlvbkhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBkdXJhdGlvbiA9IChEYXRlLm5vdygpIC0gZ2V0U2Vzc2lvblRpbWVzdGFtcCgpKSAvIDEwMDA7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGR1cmF0aW9uLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG5jb25zdCBoaXN0b3J5SGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRIaXN0b3J5ID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9ISVNUT1JZKT8uc3BsaXQoXCIsXCIpO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihjdXJyZW50SGlzdG9yeSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TU9CSUxFX01FRElBX1FVRVJZfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEVudiBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tFbnZSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwiZGV2aWNlX3R5cGVcIjoge1xuICAgICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXMgPyBcIm1vYmlsZVwiIDogXCJkZXNrdG9wXCI7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihpc01vYmlsZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyLCBkZXRlcm1pbmVQY3QsIGdldElkZW50aWZpZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBSYW5kb21QY3QgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrUmFuZG9tTnVtYmVyUnVsZSA9IGFzeW5jIChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7Y29uZGl0aW9uLCB2YWx1ZSwgc2FsdH0gPSBydWxlO1xuICBpZiAoIXNhbHQpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiU2FsdCBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgaWRlbnRpZmllciA9IGF3YWl0IGdldElkZW50aWZpZXIoKTtcbiAgY29uc3QgcmFuZG9tUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyBzYWx0KTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gcmFuZG9tUGN0O1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgUHJvZHVjdEluZm8gQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrUHJvZHVjdEluZm9SdWxlID0gKHJ1bGUsIG9wdHMpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBsZXQgcnVudGltZVZhbHVlID0gbnVsbDtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInRyYW5zYWN0aW9uSW4yV2Vla3NcIjoge1xuICAgICAgbG9nZ2VyLmxvZyhcIkdldHRpbmcgVHJhbnNhY3Rpb25Db3VudCBmb3Igc2t1IFwiLCBvcHRzLnNrdUxpc3RbMF0pO1xuICAgICAgcnVudGltZVZhbHVlID0gZ2V0VHJhbnNhY3Rpb25Db3VudChvcHRzLnNrdUxpc3RbMF0sIG9wdHMucHJvZHVjdEluZm8pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJhZGRUb0NhcnRJbjJXZWVrc1wiOiB7XG4gICAgICBsb2dnZXIubG9nKFwiR2V0dGluZyBBZGRUb0NhcnRDb3VudCBmb3Igc2t1IFwiLCBvcHRzLnNrdUxpc3RbMF0pO1xuICAgICAgcnVudGltZVZhbHVlID0gZ2V0QWRkVG9DYXJ0Q291bnQob3B0cy5za3VMaXN0WzBdLCBvcHRzLnByb2R1Y3RJbmZvKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFwicHJvZHVjdFZpZXdDb3VudFwiOiB7XG4gICAgICBsb2dnZXIubG9nKFwiR2V0dGluZyBwcm9kdWN0Vmlld0NvdW50IGZvciBza3UgXCIsIG9wdHMuc2t1TGlzdFswXSk7XG4gICAgICBydW50aW1lVmFsdWUgPSBnZXRQcmV2aWV3Q291bnQob3B0cy5za3VMaXN0WzBdLCBvcHRzLnByb2R1Y3RJbmZvKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcblxuY29uc3QgZ2V0VHJhbnNhY3Rpb25Db3VudCA9IChza3UsIHByb2R1Y3RJbmZvKSA9PiB7XG4gIHJldHVybiBwcm9kdWN0SW5mb1tza3VdPy5jYXRhbG9nPy50cmFuc2FjdGlvbkluMldlZWtzO1xufTtcblxuY29uc3QgZ2V0QWRkVG9DYXJ0Q291bnQgPSAoc2t1LCBwcm9kdWN0SW5mbykgPT4ge1xuICByZXR1cm4gcHJvZHVjdEluZm9bc2t1XT8uY2F0YWxvZz8uYWRkVG9DYXJ0SW4yV2Vla3M7XG59O1xuXG5jb25zdCBnZXRQcmV2aWV3Q291bnQgPSAoc2t1LCBwcm9kdWN0SW5mbykgPT4ge1xuICByZXR1cm4gcHJvZHVjdEluZm9bc2t1XT8uY2F0YWxvZz8ucHJvZHVjdFZpZXdDb3VudDtcbn07XG4iLCJpbXBvcnQge2NoZWNrQ291bnRlclJ1bGV9IGZyb20gXCIuL2NvdW50ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRGF0YUxheWVyUnVsZX0gZnJvbSBcIi4vZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VsZW1lbnRSdWxlfSBmcm9tIFwiLi9lbGVtZW50Q2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0Z1bmN0aW9uUnVsZX0gZnJvbSBcIi4vZnVuY3Rpb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrU2Vzc2lvblJ1bGV9IGZyb20gXCIuL3Nlc3Npb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrVXJsUnVsZX0gZnJvbSBcIi4vdXJsQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VudlJ1bGV9IGZyb20gXCIuL2VudkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tSYW5kb21OdW1iZXJSdWxlfSBmcm9tIFwiLi9yYW5kb21OdW1iZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrUHJvZHVjdEluZm9SdWxlfSBmcm9tIFwiLi9wcm9kdWN0SW5mb0NoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgUnVsZSBFbmdpbmVcIik7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1bGVFbmdpbmUge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgY29uc3Qge2Jhc2VSdWxlU2V0LCBidXNpbmVzc1J1bGVTZXQsIGJpbmRpbmdzLCBjYWxsYmFjayA9IG51bGx9ID0gYm9keTtcbiAgICB0aGlzLmJhc2VSdWxlU2V0ID0gYmFzZVJ1bGVTZXQ7XG4gICAgdGhpcy5idXNpbmVzc1J1bGVTZXQgPSBidXNpbmVzc1J1bGVTZXQ7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuYmluZGluZ3MgPSBiaW5kaW5ncztcbiAgfVxuXG4gIGFzeW5jIGNoZWNrUnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuYmFzZVJ1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmICghcnVsZVNhdGlzZmllZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tCdXNpbmVzc1J1bGVzKCkge1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiB0aGlzLmJ1c2luZXNzUnVsZVNldCkge1xuICAgICAgY29uc3QgcnVsZVNhdGlzZmllZCA9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgaWYgKHJ1bGVTYXRpc2ZpZWQpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGUuYnVzaW5lc3NSdWxlSWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tSdWxlKHJ1bGUpIHtcbiAgICBjb25zdCB7Y2hhaW4sIGNoYWluX2NvbmRpdGlvbiwgdHlwZX0gPSBydWxlO1xuICAgIGxldCBydWxlU2F0aXNmaWVkID0gbnVsbDtcbiAgICAvLyBjaGVjayBydWxlXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwic2Vzc2lvblwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tTZXNzaW9uUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY291bnRlclwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tDb3VudGVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZWxlbWVudFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tFbGVtZW50UnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0YUxheWVyXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0RhdGFMYXllclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInVybFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tVcmxSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tGdW5jdGlvblJ1bGUocnVsZSwgdGhpcy5iaW5kaW5ncyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVudmlyb25tZW50XCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0VudlJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJhbmRvbVwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gYXdhaXQgY2hlY2tSYW5kb21OdW1iZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwcm9kdWN0SW5mb0xvb2t1cFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tQcm9kdWN0SW5mb1J1bGUocnVsZSwgdGhpcy5iaW5kaW5ncyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChgTm8gc3VjaCBydWxlIHR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGNoYWluKSB7XG4gICAgICBzd2l0Y2ggKGNoYWluX2NvbmRpdGlvbikge1xuICAgICAgICBjYXNlIFwiYW5kXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgJiYgYXdhaXQgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCB8fCBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4b3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAhPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIk5vIHN1Y2ggY2hhaW4gY29uZGl0aW9uXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZVNhdGlzZmllZDtcbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgYXBwbHlBY3Rpb25zIGZyb20gXCIuLi9OZXh0ZGF5QXBwbHlBY3Rpb25zL2luZGV4XCI7XG5pbXBvcnQgVHJlYXRtZW50UmVwb3NpdG9yeSBmcm9tIFwiLi4vTmV4dGRheVRyZWF0bWVudFJlcG9zaXRvcnkvaW5kZXhcIjtcbmltcG9ydCBSdWxlRW5naW5lIGZyb20gXCIuLi9OZXh0ZGF5UnVsZUVuZ2luZVwiO1xuaW1wb3J0IHtcbiAgY2hlY2twb2ludCxcbiAgY2hlY2twb2ludHMsXG4gIGFkZFRyZWF0bWVudCxcbn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgTU9CSUxFX01FRElBX1FVRVJZLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIFRSRUFUTUVOVF9SQVRJTyxcbiAgU0VTU0lPTl9TVE9SQUdFX0tFWVMsXG59IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzLFxuICBpbmplY3RTdHlsZVNoZWV0LFxuICByZW1vdmVEb2N1bWVudEhpZGUsXG4gIGRldGVybWluZVBjdCxcbiAgcHJlcGFyZUFjdGlvbnMsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuXG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVPbkNvbXBvbmVudFwiKTtcblxuY29uc3QgYmVhZ2xlT24gPSBhc3luYyAoaWRlbnRpZmllciwgbW9uaXRvciwgcHJvZHVjdEluZm9Qcm9taXNlLCBkZWJ1Z01vZGUpID0+IHtcbiAgbW9uaXRvci5zZW5kTG9ncygpO1xuXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGNvbnN0IGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzID0gZGVidWdNb2RlID8gc2VhcmNoUGFyYW1zLmluY2x1ZGVzKFwiZmlsdGVyPVwiKSA/IHNlYXJjaFBhcmFtcy5zbGljZShcbiAgICAgIHNlYXJjaFBhcmFtcy5pbmRleE9mKFwiW1wiKSArIDEsXG4gICAgICBzZWFyY2hQYXJhbXMubGFzdEluZGV4T2YoXCJdXCIpLFxuICApLnNwbGl0KFwiLFwiKS5tYXAoKGl0ZW0pID0+IHBhcnNlSW50KGl0ZW0sIDEwKSk6IG51bGwgOiBudWxsO1xuXG4gIGluamVjdFN0eWxlU2hlZXQoKTtcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMoKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gIH0sIDIwMDApO1xuICBjb25zdCB0cmVhdG1lbnRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50cygpO1xuICBjb25zdCB0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50V2VpZ2h0cygpO1xuICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgY29uc3QgT0JTRVJWRVJfQ09ORklHID0ge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZX07XG4gIGNvbnN0IHtcbiAgICBORF9TS1VfTElTVCwgTkRfU0tVX0xJU1RfQkFTS0VULFxuICAgIE5EX1NLVV9JTkZPX0JBU0tFVCxcbiAgfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuXG5cbiAgLy8gVGVtcG9yYXJ5IGNvZGUgYmxvY2tcbiAgY29sbGVjdENBQmFza2V0UHJpY2UoKTtcbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJNdXRhdGlvbiBvYnNlcnZlZCwgY2FsbGluZyBjb2xsZWN0Q0FCYXNrZXRQcmljZVwiKTtcbiAgICAgIGNvbGxlY3RDQUJhc2tldFByaWNlKCk7XG4gICAgfSk7XG4gICAgY29uc3QgYmFza2V0Q2hlY2tvdXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGVja291dEZvcm1cIik7XG4gICAgaWYgKGJhc2tldENoZWNrb3V0Rm9ybSkgb2JzZXJ2ZXIub2JzZXJ2ZShiYXNrZXRDaGVja291dEZvcm0sIE9CU0VSVkVSX0NPTkZJRyk7XG4gIH1cbiAgLy8gRW5kIG9mIHRlbXBvcmFyeSBjb2RlIGJsb2NrXG5cbiAgY29uc3QgW3RyZWF0bWVudHMsIHRyZWF0bWVudFdlaWdodHMsIHByb2R1Y3RJbmZvXSA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgW3RyZWF0bWVudHNQcm9taXNlLCB0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSwgcHJvZHVjdEluZm9Qcm9taXNlXSk7XG5cbiAgbG9nZ2VyLnN1Y2Nlc3MoXCJGb3VuZCB0cmVhdG1lbnRzOiBcIiwgdHJlYXRtZW50cyk7XG5cbiAgY29uc3QgdHJlYXRtZW50UmVwb3NpdG9yeSA9IG5ldyBUcmVhdG1lbnRSZXBvc2l0b3J5KHtcbiAgICB0cmVhdG1lbnRzLFxuICAgIHRyZWF0bWVudFdlaWdodHMsXG4gIH0pO1xuICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRyZWF0bWVudFJlcG9zaXRvcnlDcmVhdGVkKTtcbiAgY29uc3QgbWF0Y2hlZFRyZWF0bWVudHMgPSB0cmVhdG1lbnRSZXBvc2l0b3J5LmdldE1hdGNoZWRUcmVhdG1lbnRzKCk7XG4gIGlmICghbWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIk5vIHRyZWF0bWVudHMgbWF0Y2hlZCwgcmV0dXJuaW5nIHdpdGhvdXQgZnVydGhlciBhY3Rpb25cIik7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlQXBwbHlUcmVhdG1lbnRzTWFwID0ge307XG4gIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIG1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkVycm9yIGV4ZWN1dGluZyBydWxlc1wiLCBlcnIpO1xuICAgIH1cbiAgfVxuICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgY2hlY2twb2ludChjaGVja3BvaW50cy5UcmVhdG1lbnRzQXBwbGllZCk7XG4gIGxvZ2dlci5zdWNjZXNzKFwiQXBwbGllZCB0cmVhdG1lbnRzOiBcIiwgd2luZG93LmJlYWdsZUluZm9MYXllci5hKTtcblxuICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgbW9uaXRvci51cGRhdGVMYXRlc3RDaGFuZ2VzKCk7XG4gIH0sIDEwMDApO1xuXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlQXBwbHlUcmVhdG1lbnRzTWFwKSkge1xuICAgIGNvbnN0IHRyZWF0bWVudElkcyA9IHJlQXBwbHlUcmVhdG1lbnRzTWFwW2tleV07XG4gICAgY29uc3QgcmVBcHBseVRyZWF0bWVudHMgPSBtYXRjaGVkVHJlYXRtZW50cy5maWx0ZXIoKHQpID0+IHRyZWF0bWVudElkcy5pbmNsdWRlcyh0LmlkKSk7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgXCJpbmZpbml0ZV9zY3JvbGxcIjoge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGluZmluaXRlX3Njcm9sbGApO1xuICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0aW1lb3V0XCI6IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSB0aW1lb3V0YCk7XG4gICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVsZW1lbnRfY2hhbmdlXCI6IHtcbiAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICBjb25zdCByZWFwcGx5U2VsZWN0b3JMaXN0ID0gQXJyYXkuaXNBcnJheSh0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvcikgP1xuICAgICAgICAgICAgdHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3IgOiBbdHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3JdO1xuICAgICAgICAgIGZvciAoY29uc3Qgc2VsZWN0b3Igb2YgcmVhcHBseVNlbGVjdG9yTGlzdCkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gZWxlbWVudF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwgT0JTRVJWRVJfQ09ORklHKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwib25fc2Nyb2xsXCI6IHtcbiAgICAgICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBvbl9zY3JvbGxgKTtcbiAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicXVlcnlfc2VhcmNoX2NoYW5nZVwiOiB7XG4gICAgICAgIGxldCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggIT09IHF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgICBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gcXVlcnlfc2VhcmNoX2NoYW5nZWApO1xuICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCBPQlNFUlZFUl9DT05GSUcpO1xuICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJSZWFwcGx5IGV2ZW50IG5vdCBmb3VuZDogXCIsIGtleSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlJlYXBwbHlUcmVhdG1lbnRMaXN0ZW5lcnMpO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIGFjdGlvbnMsXG4gICAgICBiYXNlUnVsZVNldCxcbiAgICAgIGRldmljZSxcbiAgICAgIGRlcGVuZGFudF9vbl90cmVhdG1lbnQsXG4gICAgICByZWFwcGx5X2V2ZW50LFxuICAgICAgYnVzaW5lc3NSdWxlU2V0LFxuICAgICAgd2VpZ2h0LFxuICAgICAgZGVsYXksXG4gICAgICBwcm9kdWN0SW5mb1N0b3JhZ2UsXG4gICAgfSA9IHRyZWF0bWVudDtcbiAgICBpZiAoZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgJiYgIWRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZGV2aWNlID09PSBcIm1vYmlsZVwiICYmICFpc01vYmlsZSkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIlRyZWF0bWVudCBkZXZpY2UgJ21vYmlsZScgbWlzbWF0Y2hcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChkZXZpY2UgPT09IFwiZGVza3RvcFwiICYmIGlzTW9iaWxlKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiVHJlYXRtZW50IGRldmljZSAnZGVza3RvcCcgbWlzbWF0Y2hcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZWFwcGx5X2V2ZW50KSB7XG4gICAgICBsZXQgcmVhcHBseV9ldmVudF9hcnJheSA9IHJlYXBwbHlfZXZlbnQ7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVhcHBseV9ldmVudCkpIHJlYXBwbHlfZXZlbnRfYXJyYXkgPSBbcmVhcHBseV9ldmVudF07XG4gICAgICBsb2dnZXIubG9nKGBSZWFwcGx5IGV2ZW50ICcke3JlYXBwbHlfZXZlbnR9JyBmb3VuZCBmb3IgdHJlYXRtZW50OiAke2lkfWApO1xuICAgICAgZm9yIChjb25zdCByZWFwcGx5RXZlbnQgb2YgcmVhcHBseV9ldmVudF9hcnJheSkge1xuICAgICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA/XG4gICAgICAgICAgICAgIHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gOiBbXTtcbiAgICAgICAgaWYgKHByZXZpb3VzVmFsdWUuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBhbHJlYWR5IGFkZGVkIGZvciByZWFwcGx5IGV2ZW50XCIpO1xuICAgICAgICB9IGVsc2UgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA9IFsuLi5wcmV2aW91c1ZhbHVlLCBpZF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHNrdUxpc3QgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTkRfU0tVX0xJU1QpKTtcbiAgICBsZXQgcEluZm8gPSBwcm9kdWN0SW5mbztcblxuICAgIGlmIChwcm9kdWN0SW5mb1N0b3JhZ2UpIHtcbiAgICAgIHNrdUxpc3QgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTkRfU0tVX0xJU1RfQkFTS0VUKSk7XG4gICAgICBwSW5mbyA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShORF9TS1VfSU5GT19CQVNLRVQpKTtcbiAgICB9XG5cbiAgICBjb25zdCBiaW5kaW5ncyA9IHtwcm9kdWN0SW5mbzogcEluZm8sIHNrdUxpc3R9O1xuICAgIGNvbnN0IHJ1bGVFbmdpbmUgPSBuZXcgUnVsZUVuZ2luZSh7YmFzZVJ1bGVTZXQsIGJ1c2luZXNzUnVsZVNldCwgYmluZGluZ3N9KTtcbiAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgYmFzZSBydWxlIHNldCBjaGVjayBmb3IgdHJlYXRtZW50OiBcIiArIGlkKTtcbiAgICBpZiAoIWJhc2VSdWxlU2V0IHx8IGF3YWl0IHJ1bGVFbmdpbmUuY2hlY2tSdWxlcygpKSB7XG4gICAgICBsZXQgdHJlYXRtZW50U2tpcFJhdGlvID0gd2VpZ2h0ID09PSAxMDAgPyAwIDogKDEwMCAtIHdlaWdodCB8fCBUUkVBVE1FTlRfUkFUSU8pO1xuICAgICAgaWYgKGRlcGVuZGFudF9vbl90cmVhdG1lbnQpIHtcbiAgICAgICAgLy8gSWYgZGVwZW5kYW50IG9uIHRyZWF0bWVudCBpcyBmb3VuZCBhbmQgaGFzIHdlaWdodDsgdXNlIGl0cyBza2lwIHJhdGlvXG4gICAgICAgIGNvbnN0IGRlcGVuZGFudE9uVHJlYXRtZW50V2VpZ2h0ID0gbWF0Y2hlZFRyZWF0bWVudHMuZmluZCgodCkgPT4gdC5pZCA9PT0gZGVwZW5kYW50X29uX3RyZWF0bWVudCk/LndlaWdodDtcbiAgICAgICAgdHJlYXRtZW50U2tpcFJhdGlvID0gZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHQgPT09IDEwMCA/IDAgOiAoMTAwIC0gZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHR8fFxuICAgICAgICAgICAgVFJFQVRNRU5UX1JBVElPKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgc2tpcCByYXRpbzogXCIgKyB0cmVhdG1lbnRTa2lwUmF0aW8pO1xuICAgICAgLy8gRGV0ZXJtaW5pbmcgaWRlbnRpZmllciBmb3IgY2FsY3VsYXRpbmcgdHJlYXRtZW50IHBlcmNlbnRhZ2UgKHRyZWF0bWVudFBjdClcbiAgICAgIGNvbnN0IGRldGVybWluaW5nSWRlbnRpZmllciA9IGRlcGVuZGFudF9vbl90cmVhdG1lbnQgfHwgaWQ7XG5cbiAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIHRyZWF0bWVudCB1c2VkIHRvIGRldGVybWluZSBpZiBpdCBzaG91bGQgYmUgc2tpcHBlZCBvciBub3RcbiAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyAxMDAgd2hlbiBkZWJ1ZyBtb2RlIGlzIDEsIGVuc3VyaW5nIG5vIHRyZWF0bWVudHMgYXJlIHNraXBwZWRcbiAgICAgIGNvbnN0IHRyZWF0bWVudFBjdCA9IGRlYnVnTW9kZSA9PT0gMSA/IDEwMCA6IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgZGV0ZXJtaW5pbmdJZGVudGlmaWVyKTtcbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRQY3Q6IFwiICsgdHJlYXRtZW50UGN0ICsgYCB3aXRoIGRlYnVnIG1vZGUgJHtkZWJ1Z01vZGUgPyBcIm9uXCIgOiBcIm9mZlwifWApO1xuICAgICAgbGV0IGJ1c2luZXNzUnVsZUlkID0gbnVsbDtcbiAgICAgIGlmIChidXNpbmVzc1J1bGVTZXQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHN1YiB2YXJpYW50IHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgICBidXNpbmVzc1J1bGVJZCA9IGF3YWl0IHJ1bGVFbmdpbmUuY2hlY2tCdXNpbmVzc1J1bGVzKCk7XG4gICAgICAgIGlmIChidXNpbmVzc1J1bGVJZCkge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBidXNpbmVzcyBydWxlIHRyYW5zZm9ybWF0aW9uIHdpdGggaWQ6IFwiLCBidXNpbmVzc1J1bGVJZCk7XG4gICAgICAgIH0gZWxzZSBsb2dnZXIubG9nKFwiQXBwbHlpbmcgdHJlYXRtZW50IHdpdGggZGVmYXVsdCB2YWx1ZXNcIik7XG4gICAgICB9XG4gICAgICBpZiAodHJlYXRtZW50UGN0IDwgdHJlYXRtZW50U2tpcFJhdGlvKSB7XG4gICAgICAgIGxvZ2dlci5sb2coYFRyZWF0bWVudCAke2lkfSBza2lwcGVkIGR1ZSB0byB0cmVhdG1lbnQgc3BsaXQgcmF0aW9gKTtcbiAgICAgICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgXCJza2lwcGVkXCIsIGRlcGVuZGFudF9vbl90cmVhdG1lbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbcHJlcGFyZWQsIHZhcmlhbnRdID0gYXdhaXQgcHJlcGFyZUFjdGlvbnMoaWRlbnRpZmllciwgYWN0aW9ucywgYnVzaW5lc3NSdWxlSWQpO1xuICAgICAgLy8gZGVsYXkgbG9naWMgbmVlZHMgcmVmYWN0b3Jpbmcgd2hlbiBpdCB3aWxsIGJlIHVzZWQgYWdhaW5cbiAgICAgIGlmIChkZWxheSkgYXdhaXQgZGVsYXkoZGVsYXkpO1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBwbHlBY3Rpb25zKHByZXBhcmVkLCBiaW5kaW5ncyk7XG4gICAgICBpZiAocmVzID09PSBmYWxzZSkge1xuICAgICAgICBhZGRUcmVhdG1lbnQoaWQsIGJ1c2luZXNzUnVsZUlkLCB2YXJpYW50LCBcImZhaWxlZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgXCJhcHBsaWVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsb2dnZXIuZmFpbGVkKFwiUnVsZSBjaGVjayBmYWlsZWQgZm9yIHRyZWF0bWVudDogXCIsIGlkKTtcbiAgfVxuXG4gIC8vIFRlbXBvcmFyeSBjb2RlIGJsb2NrIHRvIHRyYWNrIGNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCB0b3RhbCBwcmljZVxuICAvLyBUT0RPOiBSZW1vdmUgb25jZSB0aGUgaW5mbyBjYW4gYmUgb2J0YWluZWQgdmlhIG9iamVjdCBvbiB3aW5kb3dcbiAgZnVuY3Rpb24gY29sbGVjdENBQmFza2V0UHJpY2UoKSB7XG4gICAgY29uc3Qge0NPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRX0gPSBMT0NBTF9TVE9SQUdFX0tFWVM7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgICBjb25zdCBwcmljZUVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByaWNlXCIpKTtcbiAgICAgIHByaWNlRWxlbWVudHMucHVzaCguLi5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3LXByaWNlXCIpKSk7XG4gICAgICBpZiAoIXByaWNlRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJQcmljZSBlbGVtZW50cyBub3QgZm91bmRcIik7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiUHJpY2UgZWxlbWVudHM6IFwiLCBwcmljZUVsZW1lbnRzKTtcbiAgICAgIGNvbnN0IGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID0gcHJpY2VFbGVtZW50cy5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICByZXR1cm5WYWwgKz0gcGFyc2VJbnQoZWxlbS50ZXh0Q29udGVudC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgfSwgMCk7XG4gICAgICBsb2dnZXIubG9nKFwiQ291cG9uIGFwcGxpY2FibGUgdG90YWwgcHJpY2U6IFwiLCBjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSk7XG4gICAgICBpZiAoY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgPj0gMCkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgICBDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtb3pldGkuaHRtbFwiKSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNhQmFza2V0UHJpY2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFKTtcbiAgICAgIGlmIChjYUJhc2tldFByaWNlID09PSBudWxsKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgYmVhZ2xlT247XG4iLCJpbXBvcnQge0NVU1RPTV9TVE9SQUdFX1BSRUZJWH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge3JlcGxhY2VBbGx9IGZyb20gXCIuL3N0cmluZ1V0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBhZGRNYXggPSAobmFtZSwgdmFsdWUsIGlzU2Vzc2lvblN0b3JhZ2UgPSBmYWxzZSkgPT4ge1xuICBjb25zdCB7a2V5LCBzdG9yYWdlLCBpbml0aWFsVmFsdWV9ID0gaW5pdChuYW1lLCBpc1Nlc3Npb25TdG9yYWdlKTtcblxuICBpZiAoIWluaXRpYWxWYWx1ZSB8fCBwYXJzZUZsb2F0KGluaXRpYWxWYWx1ZSkgPCBwYXJzZUZsb2F0KHZhbHVlKSkge1xuICAgIHN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGFkZENvdW50ZXIgPSAobmFtZSwgaXNTZXNzaW9uU3RvcmFnZSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHtrZXksIHN0b3JhZ2UsIGluaXRpYWxWYWx1ZX0gPSBpbml0KG5hbWUsIGlzU2Vzc2lvblN0b3JhZ2UpO1xuXG4gIGlmICghaW5pdGlhbFZhbHVlKSBzdG9yYWdlLnNldEl0ZW0oa2V5LCAwKTtcblxuICBzdG9yYWdlLnNldEl0ZW0oa2V5LCBwYXJzZUludChzdG9yYWdlLmdldEl0ZW0oa2V5KSkgKyAxKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRWYWx1ZSA9IChuYW1lLCB2YWx1ZSwgaXNTZXNzaW9uU3RvcmFnZSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHtrZXksIHN0b3JhZ2V9ID0gaW5pdChuYW1lLCBpc1Nlc3Npb25TdG9yYWdlKTtcblxuICBzdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVsZXRlVmFsdWUgPSAobmFtZSwgaXNTZXNzaW9uU3RvcmFnZSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHtrZXksIHN0b3JhZ2V9ID0gaW5pdChuYW1lLCBpc1Nlc3Npb25TdG9yYWdlKTtcblxuICBzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbn07XG5cbi8vIHRydWUgaXNlIGRldmFtIGV0IGZhbHNlIGlzZSB0cnVlIG9sbWEgc2Fuc8SxIG9sYWJpbGlyXG5leHBvcnQgY29uc3Qgc2V0UG9zaXRpdmUgPSAobmFtZSwgdmFsdWUsIGlzU2Vzc2lvblN0b3JhZ2UgPSBmYWxzZSkgPT4ge1xuICBjb25zdCB7a2V5LCBzdG9yYWdlLCBpbml0aWFsVmFsdWV9ID0gaW5pdChuYW1lLCBpc1Nlc3Npb25TdG9yYWdlKTtcblxuICBpZiAoaW5pdGlhbFZhbHVlIHx8IGluaXRpYWxWYWx1ZT8udG9TdHJpbmcoKS50cmltKCkgPT09IFwidHJ1ZVwiKSByZXR1cm47XG4gIHN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRBdmcgPSAobmFtZSwgdmFsdWUsIGlzU2Vzc2lvblN0b3JhZ2UgPSBmYWxzZSkgPT4ge1xuICBsZXQge2tleSwgc3RvcmFnZSwgaW5pdGlhbFZhbHVlfSA9IGluaXQobmFtZSwgaXNTZXNzaW9uU3RvcmFnZSk7XG5cbiAgaWYgKCFpbml0aWFsVmFsdWUpIHtcbiAgICBpbml0aWFsVmFsdWUgPSB7XG4gICAgICBjb3VudDogMCxcbiAgICAgIHN1bTogMCxcbiAgICAgIGF2ZzogMCxcbiAgICB9O1xuICB9XG5cbiAgaW5pdGlhbFZhbHVlLmNvdW50ID0gcGFyc2VJbnQoaW5pdGlhbFZhbHVlLmNvdW50KSArIDE7XG4gIGluaXRpYWxWYWx1ZS5zdW0gPSBwYXJzZUZsb2F0KGluaXRpYWxWYWx1ZS5zdW0pICsgcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIGluaXRpYWxWYWx1ZS5hdmcgPSBwYXJzZUZsb2F0KGluaXRpYWxWYWx1ZS5zdW0gLyBpbml0aWFsVmFsdWUuY291bnQpLnRvRml4ZWQoMik7XG5cbiAgc3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoaW5pdGlhbFZhbHVlKSk7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkTW9kZSA9IChuYW1lLCB2YWx1ZSwgdHlwZSA9IFwibGlzdFwiLCBpc1Nlc3Npb25TdG9yYWdlID0gZmFsc2UpID0+IHtcbiAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gXCJcIikgcmV0dXJuO1xuXG4gIGxldCB7a2V5LCBzdG9yYWdlLCBpbml0aWFsVmFsdWV9ID0gaW5pdChuYW1lLCBpc1Nlc3Npb25TdG9yYWdlKTtcbiAgaWYgKHR5cGUgPT09IFwibGlzdFwiKSB7XG4gICAgaWYgKCFpbml0aWFsVmFsdWUpIGluaXRpYWxWYWx1ZSA9IFtdO1xuXG4gICAgaW5pdGlhbFZhbHVlLnB1c2godmFsdWUpO1xuICAgIHN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KGluaXRpYWxWYWx1ZSkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0eXBlID09PSBcIm1hcFwiKSB7XG4gICAgaWYgKCFpbml0aWFsVmFsdWUpIGluaXRpYWxWYWx1ZSA9IHt9O1xuXG4gICAgaWYgKCFpbml0aWFsVmFsdWVbdmFsdWVdKSB7XG4gICAgICBpbml0aWFsVmFsdWVbdmFsdWVdID0gMDtcbiAgICB9XG5cbiAgICBpbml0aWFsVmFsdWVbdmFsdWVdICs9IDE7XG5cbiAgICBzdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShpbml0aWFsVmFsdWUpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoXCJmPWFkZE1vZGU7IHVuZXhwZWN0ZWQgdHlwZT1cIiArIHR5cGUpO1xufTtcblxuY29uc3QgaW5pdCA9IChuYW1lLCBpc1Nlc3Npb25TdG9yYWdlKSA9PiB7XG4gIGNvbnN0IGtleSA9IENVU1RPTV9TVE9SQUdFX1BSRUZJWCArIG5hbWU7XG4gIGNvbnN0IHN0b3JhZ2UgPSBpc1Nlc3Npb25TdG9yYWdlID8gd2luZG93LnNlc3Npb25TdG9yYWdlIDogd2luZG93LmxvY2FsU3RvcmFnZTtcblxuICByZXR1cm4ge1xuICAgIGtleSxcbiAgICBzdG9yYWdlLFxuICAgIGluaXRpYWxWYWx1ZTogcGFyc2VJZkpzb24oc3RvcmFnZS5nZXRJdGVtKGtleSkpLFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHB1dElmTm90RXhpc3RzID0gKG5hbWUsIHZhbHVlLCBpc1Nlc3Npb25TdG9yYWdlID0gZmFsc2UpID0+IHtcbiAgY29uc3Qge2tleSwgc3RvcmFnZSwgaW5pdGlhbFZhbHVlfSA9IGluaXQobmFtZSwgaXNTZXNzaW9uU3RvcmFnZSk7XG5cbiAgaWYgKGluaXRpYWxWYWx1ZSkgcmV0dXJuO1xuXG4gIHN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZWVkU2VnbWVudGF0aW9uID0gKCkgPT4ge1xuICBjb25zdCBsYXllciA9IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI7XG4gIGlmICghbGF5ZXIpIHJldHVybjtcblxuICBjbGVhblVwQ3VycmVudFByZWZpeGVkS2V5cygpO1xuICBhZGRNb2RlKFwiY2F0ZWdvcnlcIiwgbGF5ZXIuZ2FQcm9kdWN0Q2F0ZWdvcnksIFwibGlzdFwiLCB0cnVlKTtcblxuICBhZGRDb3VudGVyKFwiYWxsdGltZUhpdENvdW50XCIsIGZhbHNlKTtcbiAgYWRkQ291bnRlcihcInNlc3Npb25IaXRDb3VudFwiLCB0cnVlKTtcblxuICBpZiAobGF5ZXIudnZzQ2FydFRvdGFsKSB7XG4gICAgY29uc3QgdG90YWwgPSByZXBsYWNlQWxsKGxheWVyLnZ2c0NhcnRUb3RhbC5yZXBsYWNlKFwiIFRMXCIsIFwiXCIpLCBcIi5cIiwgXCJcIik7XG4gICAgYWRkTWF4KFwiYWxsdGltZUJhc2tldFRvdGFsTWF4XCIsIHRvdGFsLCBmYWxzZSk7XG4gICAgYWRkTWF4KFwic2Vzc2lvbkJhc2tldFRvdGFsTWF4XCIsIHRvdGFsLCB0cnVlKTtcbiAgICBzZXRWYWx1ZShcImN1cnJlbnRCYXNrZXRUb3RhbFwiLCB0b3RhbCwgdHJ1ZSk7XG4gIH1cblxuXG4gIGlmIChsYXllci5nYUNhcnRQcm9kdWN0cykge1xuICAgIGxldCBtYXhQcmljZUNhdGVnb3J5ID0ge3ByaWNlOiAwLCBjYXRlZ29yeTogbnVsbH07XG4gICAgY29uc3QgYXZnID0ge3N1bTogMCwgYXZnOiAwLCBjb3VudDogMH07XG5cbiAgICBmb3IgKGNvbnN0IHAgb2YgbGF5ZXIuZ2FDYXJ0UHJvZHVjdHMpIHtcbiAgICAgIGFkZE1vZGUoXCJhbGx0aW1lQ2FydENhdGVnb3J5TW9kZVwiLCBwLmNhdGVnb3J5LCBcImxpc3RcIiwgZmFsc2UpO1xuICAgICAgYWRkTW9kZShcInNlc3Npb25DYXJ0Q2F0ZWdvcnlNb2RlXCIsIHAuY2F0ZWdvcnksIFwibGlzdFwiLCB0cnVlKTtcblxuICAgICAgY29uc3QgcHJpY2UgPSBwYXJzZUZsb2F0KHAucHJpY2UpO1xuICAgICAgaWYgKHByaWNlID4gbWF4UHJpY2VDYXRlZ29yeS5wcmljZSkge1xuICAgICAgICBtYXhQcmljZUNhdGVnb3J5ID0ge1xuICAgICAgICAgIHByaWNlOiBtYXhQcmljZUNhdGVnb3J5LnByaWNlLFxuICAgICAgICAgIGNhdGVnb3J5OiBwLmNhdGVnb3J5LFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBrdXJ1bHVtIGhpem1ldGluaSBla2xlbWVzaW5cbiAgICAgIGlmIChwLmlkICE9PSBcIkVLSFpNLUtVUjFcIiAmJiBwLmlkICE9PSBcIkVLSC0zNTNcIiAmJiBwLmxpc3QgIT09IFwiS1VSVUxVTSBIxLBaTUVUxLBcIikge1xuICAgICAgICBhdmcuY291bnQgKz0gMTtcbiAgICAgICAgYXZnLnN1bSArPSBwcmljZTtcbiAgICAgICAgYXZnLmF2ZyA9IHBhcnNlRmxvYXQoYXZnLnN1bSAvIGF2Zy5jb3VudCkudG9GaXhlZCgyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXZnLmNvdW50ID4gMCkgc2V0VmFsdWUoXCJzZXNzaW9uQmFza2V0VG90YWxBdmdcIiwgSlNPTi5zdHJpbmdpZnkoYXZnKSwgdHJ1ZSk7XG5cbiAgICBpZiAobWF4UHJpY2VDYXRlZ29yeS5wcmljZSA+IDApIHtcbiAgICAgIHNldFZhbHVlKFwiY3VycmVudENhcnRNYXhwcmljZUNhdGVnb3J5XCIsIG1heFByaWNlQ2F0ZWdvcnkuY2F0ZWdvcnksIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChsYXllci5QYWdlVHlwZSkge1xuICAgIGFkZE1vZGUoXCJwYWdldHlwZVwiLCBsYXllci5QYWdlVHlwZSwgXCJsaXN0XCIsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsYXllci5QYWdlVHlwZSkge1xuICAgICAgY2FzZSBcIkhvbWVwYWdlXCI6XG4gICAgICAgIGFkZENvdW50ZXIoXCJhbGx0aW1lSG9tZUhpdENvdW50XCIsIGZhbHNlKTtcbiAgICAgICAgYWRkQ291bnRlcihcInNlc3Npb25Ib21lSGl0Q291bnRcIiwgdHJ1ZSk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJMaXN0aW5ncGFnZVwiOlxuICAgICAgICBhZGRNb2RlKFwiYWxsdGltZVBMUENhdGVnb3J5TW9kZVwiLCB7bmFtZTogbGF5ZXIudnZzUExQTmFtZSwgbGluazogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfSwgXCJsaXN0XCIsIGZhbHNlKTtcbiAgICAgICAgYWRkTW9kZShcInNlc3Npb25QTFBDYXRlZ29yeU1vZGVcIiwge25hbWU6IGxheWVyLnZ2c1BMUE5hbWUsIGxpbms6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZX0sIFwibGlzdFwiLCB0cnVlKTtcbiAgICAgICAgc2V0VmFsdWUoXCJjdXJyZW50UExQQ2F0ZWdvcnlcIiwgbGF5ZXIudnZzUExQTmFtZSwgdHJ1ZSk7XG4gICAgICAgIGFkZENvdW50ZXIoXCJhbGx0aW1lUExQSGl0Q291bnRcIiwgZmFsc2UpO1xuICAgICAgICBhZGRDb3VudGVyKFwic2Vzc2lvblBMUEhpdENvdW50XCIsIGZhbHNlKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJQcm9kdWN0cGFnZVwiOlxuICAgICAgICBhZGRNb2RlKFwiYWxsdGltZVBEUENhdGVnb3J5TW9kZVwiLCBsYXllci5nYVByb2R1Y3RDYXRlZ29yeSwgXCJsaXN0XCIsIGZhbHNlKTtcbiAgICAgICAgYWRkTW9kZShcInNlc3Npb25QRFBDYXRlZ29yeU1vZGVcIiwgbGF5ZXIuZ2FQcm9kdWN0Q2F0ZWdvcnksIFwibGlzdFwiLCB0cnVlKTtcbiAgICAgICAgYWRkQ291bnRlcihcImFsbHRpbWVQRFBIaXRDb3VudFwiLCBmYWxzZSk7XG4gICAgICAgIGFkZENvdW50ZXIoXCJzZXNzaW9uUERQSGl0Q291bnRcIiwgdHJ1ZSk7XG4gICAgICAgIHNldFZhbHVlKFwiY3VycmVudFBEUENhdGVnb3J5XCIsIGxheWVyLmdhUHJvZHVjdENhdGVnb3J5LCB0cnVlKTtcbiAgICAgICAgc2V0VmFsdWUoXCJjdXJyZW50UERQR3JvdXBcIiwgbGF5ZXIudnZzQ2F0ZWdvcnksIHRydWUpO1xuICAgICAgICBzZXRWYWx1ZShcImN1cnJlbnRQRFBTaG93cm9vbUF2YWlsXCIsIGxheWVyLnZ2c0lzU2hvd3Jvb20gfHwgZmFsc2UsIHRydWUpO1xuICAgICAgICBzZXRWYWx1ZShcImN1cnJlbnRQRFBQcmljZVwiLCBsYXllci52dnNQRFBQcm9kdWN0Py5wcmljZSwgdHJ1ZSk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGxheWVyLnU/LmluZGV4T2YoXCJzaXBhcmlzLWxpc3Rlc2kuaHRtbFwiKSA+PSAwKSB7XG4gICAgYWRkTW9kZShcInBhZ2V0eXBlXCIsIFwiQmFza2V0XCIsIFwibGlzdFwiLCB0cnVlKTtcbiAgICBhZGRDb3VudGVyKFwiYWxsdGltZUNhcnRIaXRDb3VudFwiLCBmYWxzZSk7XG4gICAgYWRkQ291bnRlcihcInNlc3Npb25DYXJ0SGl0Q291bnRcIiwgdHJ1ZSk7XG4gIH1cblxuICBpZiAobGF5ZXIudT8uaW5kZXhPZihcImFkcmVzLWxpc3Rlc2kuaHRtbFwiKSA+PSAwKSB7XG4gICAgYWRkTW9kZShcInBhZ2V0eXBlXCIsIFwiQWRkcmVzc1wiLCBcImxpc3RcIiwgdHJ1ZSk7XG4gICAgYWRkQ291bnRlcihcImFsbHRpbWVBZGRyZXNzSGl0Q291bnRcIiwgZmFsc2UpO1xuICAgIGFkZENvdW50ZXIoXCJzZXNzaW9uQWRkcmVzc0hpdENvdW50XCIsIHRydWUpO1xuICB9XG5cbiAgaWYgKGxheWVyLnU/LmluZGV4T2YoXCJvZGVtZS5odG1sXCIpID49IDApIHtcbiAgICBhZGRNb2RlKFwicGFnZXR5cGVcIiwgXCJQYXltZW50XCIsIFwibGlzdFwiLCB0cnVlKTtcblxuICAgIGFkZENvdW50ZXIoXCJhbGx0aW1lUGF5bWVudEhpdENvdW50XCIsIGZhbHNlKTtcbiAgICBhZGRDb3VudGVyKFwic2Vzc2lvblBheW1lbnRIaXRDb3VudFwiLCB0cnVlKTtcbiAgfVxuXG4gIGlmIChsYXllci51Py5pbmRleE9mKFwic2lwYXJpcy1vemV0aS5odG1sXCIpID49IDApIHtcbiAgICBhZGRNb2RlKFwicGFnZXR5cGVcIiwgXCJQdXJjaGFzZVwiLCBcImxpc3RcIiwgdHJ1ZSk7XG5cbiAgICBhZGRDb3VudGVyKFwiYWxsdGltZVB1cmNoYXNlSGl0Q291bnRcIiwgZmFsc2UpO1xuICAgIGFkZENvdW50ZXIoXCJzZXNzaW9uUHVyY2hhc2VIaXRDb3VudFwiLCB0cnVlKTtcbiAgICBzZXRWYWx1ZShcImN1cnJlbnRQdXJjaGFzZWRQcm9kdWN0c1wiLCBKU09OLnN0cmluZ2lmeShnZXRTb2xkUHJvZHVjdFNLVXMoKSksIHRydWUpO1xuICB9XG5cbiAgaWYgKGxheWVyLnU/LmluZGV4T2YoXCJ2aXZlbnNlLXV5ZS1rYXlpdC5odG1sXCIpID49IDApIHtcbiAgICBhZGRNb2RlKFwicGFnZXR5cGVcIiwgXCJSZWdpc3RlclwiLCBcImxpc3RcIiwgdHJ1ZSk7XG4gICAgYWRkQ291bnRlcihcImFsbHRpbWVTaWdudXBIaXRDb3VudFwiLCBmYWxzZSk7XG4gICAgYWRkQ291bnRlcihcInNlc3Npb25TaWdudXBIaXRDb3VudFwiLCB0cnVlKTtcbiAgfVxuXG4gIGlmIChsYXllci53aW5kb3cpIHtcbiAgICBjb25zdCBzcGxpdFdpbmRvdyA9IGxheWVyLndpbmRvdy5zcGxpdChcInhcIik7XG4gICAgY29uc3Qgd2luZG93c2hhcGUgPSBzcGxpdFdpbmRvd1sxXSArIFwieFwiICsgc3BsaXRXaW5kb3dbMF07XG4gICAgc2V0VmFsdWUoXCJ3aW5kb3dzaGFwZVwiLCB3aW5kb3dzaGFwZSk7XG4gICAgc2V0VmFsdWUoXCJicm93c2VyV2luZG93U2hhcGVcIiwgbGF5ZXIud2luZG93KTtcbiAgICBhZGRNb2RlKFwic2Vzc2lvbkRpc3RpbmN0V2luZG93U2hhcGVzXCIsIHdpbmRvd3NoYXBlLCBcIm1hcFwiLCB0cnVlKTtcbiAgfVxuXG4gIGFkZE1vZGUoXCJzZXNzaW9uRGlzdGluY3RBZ2VudHNcIiwgbGF5ZXIubmF2QWdlbnQsIFwibWFwXCIsIHRydWUpO1xuICBzZXRWYWx1ZShcImN1cnJlbnRMb2dpbk1lbWJlclwiLCBsYXllci52dnNWaWV3TG9nZ2VkaW4sIHRydWUpO1xuICBzZXRWYWx1ZShcInNlc3Npb25Mb2dpbk1lbWJlclwiLCBsYXllci52dnNWaWV3TG9nZ2VkaW4sIHRydWUpO1xuICBzZXRQb3NpdGl2ZShcImFsbHRpbWVMb2dpbk1lbWJlclwiLCBsYXllci52dnNWaWV3TG9nZ2VkaW4sIGZhbHNlKTtcbiAgc2V0UG9zaXRpdmUoXCJkYm1cIiwgbGF5ZXIuZGJtID09PSBcIm9uXCIsIGZhbHNlKTtcbiAgc2V0UG9zaXRpdmUoXCJpc1Nob3dyb29tXCIsIGxheWVyLnZ2c1NjckdBSXNBZG1pbiA9PSBcInRydWVcIiwgZmFsc2UpO1xuXG5cbiAgY29uc3QgaGFzRmF2b3JpdGVzID0gbGF5ZXIudnZzQ250RmF2UHJvZHMgPj0gMDtcbiAgc2V0VmFsdWUoXCJjdXJyZW50SGFzRmF2b3JpdGVzXCIsIGhhc0Zhdm9yaXRlcywgdHJ1ZSk7XG4gIHNldFZhbHVlKFwiYWxsdGltZUhhc0Zhdm9yaXRlc1wiLCBoYXNGYXZvcml0ZXMsIGZhbHNlKTtcblxuICBzZXRSZWZlcnJlcigpO1xuICBzZXRQbGF0Zm9ybSgpO1xuICBzZXREYXRlKCk7XG59O1xuXG5jb25zdCBzZXRQbGF0Zm9ybSA9ICgpID0+IHtcbiAgY29uc3QgZGV2aWNlID0gZ2V0T3MoKTtcblxuICBwdXRJZk5vdEV4aXN0cyhcImJyb3dzZXJOYXZEZXZpY2VcIiwgZGV2aWNlKTtcbiAgbGV0IHBsYXRmb3JtID0gbnVsbDtcblxuICBpZiAoW1wiYW5kcm9pZFwiLCBcImlvc1wiXS5pbmNsdWRlcyhkZXZpY2UpKSB7XG4gICAgcGxhdGZvcm0gPSBcIm1vYmlsZVwiO1xuICB9IGVsc2UgaWYgKFtcImxpbnV4XCIsIFwidW5peFwiLCBcIm1hY1wiXS5pbmNsdWRlcyhkZXZpY2UpKSB7XG4gICAgcGxhdGZvcm0gPSBcImRlc2t0b3BcIjtcbiAgfVxuXG4gIHB1dElmTm90RXhpc3RzKFwiYnJvd3Nlck5hdlBsYXRmb3JtXCIsIHBsYXRmb3JtKTtcbiAgcHV0SWZOb3RFeGlzdHMoXCJicm93c2VyQ29sb3JEZXB0aFwiLCBzY3JlZW4uY29sb3JEZXB0aCk7XG4gIGFkZE1heChcImJyb3dzZXJOYXZIaXN0U2l6ZVwiLCB3aW5kb3cuaGlzdG9yeT8ubGVuZ3RoKTtcbiAgc2V0VmFsdWUoXCJicm93c2VyTmF2SFdDb3Jlc1wiLCBuYXZpZ2F0b3I/LmhhcmR3YXJlQ29uY3VycmVuY3kgPyBuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSA6IC0xKTtcblxuXG4gIGNvbnN0IGxhbmd1YWdlID0gbmF2aWdhdG9yLmxhbmd1YWdlID9cbiAgICAobmF2aWdhdG9yLmxhbmd1YWdlLmluZGV4T2YoXCItXCIpID49IDAgPyBuYXZpZ2F0b3IubGFuZ3VhZ2Uuc3BsaXQoXCItXCIpWzBdIDogbmF2aWdhdG9yLmxhbmd1YWdlKSA6XG4gICAgXCJuYVwiO1xuICBzZXRWYWx1ZShcImJyb3dzZXJOYXZMYW5ndWFnZVwiLCBsYW5ndWFnZSk7XG4gIHNldFZhbHVlKFwiYnJvd3Nlck5hdlZlbmRvclwiLCBuYXZpZ2F0b3IudmVuZG9yKTtcbn07XG5cbmZ1bmN0aW9uIGdldE9zKCkge1xuICBjb25zdCB1c2VyQWdlbnQgPSB3aW5kb3cubmF2aWdhdG9yPy51c2VyQWdlbnQ/LnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cbiAgaWYgKCF1c2VyQWdlbnQpIHJldHVybiBudWxsO1xuXG4gIGlmICh1c2VyQWdlbnQuaW5kZXhPZihcImlwaG9uZVwiKSA+PSAwKSByZXR1cm4gXCJpb3NcIjtcbiAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKFwiaXBhZFwiKSA+PSAwKSByZXR1cm4gXCJpb3NcIjtcbiAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKFwiYW5kcm9pZFwiKSA+PSAwKSByZXR1cm4gXCJhbmRyb2lkXCI7XG4gIGlmICh1c2VyQWdlbnQuaW5kZXhPZihcIm1hY1wiKSA+PSAwKSByZXR1cm4gXCJtYWNcIjtcbiAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKFwid2luZG93c1wiKSA+PSAwKSByZXR1cm4gXCJ3aW5kb3dzXCI7XG4gIGlmICh1c2VyQWdlbnQuaW5kZXhPZihcImxpbnV4XCIpID49IDApIHJldHVybiBcImxpbnV4XCI7XG4gIGlmICh1c2VyQWdlbnQuaW5kZXhPZihcIlgxMVwiKSA+PSAwKSByZXR1cm4gXCJ1bml4XCI7XG5cbiAgcmV0dXJuIFwibmFcIjtcbn1cblxuXG5jb25zdCBzZXRSZWZlcnJlciA9ICgpID0+IHtcbiAgaWYgKCFkb2N1bWVudC5yZWZlcnJlcikgcmV0dXJuO1xuXG4gIGNvbnN0IHtob3N0fSA9IG5ldyBVUkwoZG9jdW1lbnQucmVmZXJyZXIpO1xuICBpZiAoIWhvc3QpIHJldHVybjtcblxuICBpZiAoaG9zdC5pbmRleE9mKFwidml2ZW5zZS5jb21cIikgPj0gMCkge1xuICAgIHB1dElmTm90RXhpc3RzKFwic2Vzc2lvbkZpcnN0RW50cnlcIiwgXCJkaXJlY3RcIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHV0SWZOb3RFeGlzdHMoXCJyZWZlcnJlclwiLCBob3N0KTtcbn07XG5cbmNvbnN0IHNldERhdGUgPSAoKSA9PiB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICBzZXRWYWx1ZShcImN1cnJlbnREYXlPZldlZWtcIiwgZGF0ZS5nZXREYXkoKSwgdHJ1ZSk7XG4gIHNldFZhbHVlKFwiY3VycmVudEhvdXJPZkRheVwiLCBkYXRlLmdldEhvdXJzKCksIHRydWUpO1xufTtcblxuZnVuY3Rpb24gcGFyc2VJZkpzb24ocGF5bG9hZCkge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHBheWxvYWQpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gcGF5bG9hZDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTb2xkUHJvZHVjdFNLVXMoKSB7XG4gIGNvbnN0IHNrdXMgPSBbXTtcbiAgZm9yIChjb25zdCBlbHQgb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgIGNvbnN0IHByb2RzID0gZWx0LmVjb21tZXJjZT8ucHVyY2hhc2U/LnByb2R1Y3RzO1xuICAgIGlmIChwcm9kcykge1xuICAgICAgZm9yIChjb25zdCBwcm9kIG9mIHByb2RzKSB7XG4gICAgICAgIHNrdXMucHVzaChwcm9kLmlkLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2t1cztcbiAgICB9XG4gIH1cblxuICAvKiBTRUFSQ0ggUEFHRSBDT05URU5UICh3b3JrcyBvbmx5IGZvciBkZXNrdG9wKSAqL1xuICBjb25zdCBwdXJjaGFzZWRTS1VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltjbGFzcyo9XFxcInByb2R1Y3Rfc2t1X2NvZGVcXFwiXVwiKTtcbiAgaWYgKHB1cmNoYXNlZFNLVXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHB1cmNoYXNlZFNLVXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNrdXMucHVzaChwdXJjaGFzZWRTS1VzW2ldLmlubmVyVGV4dC50b0xvd2VyQ2FzZSgpLnRyaW0oKSk7XG4gICAgfVxuICAgIHJldHVybiBza3VzO1xuICB9XG5cbiAgLyogU0NBTiBHT09HTEUgQUQgQ09OVkVSU0lPTiBMSU5LICovXG4gIGNvbnN0IHB1cmNoYXNlZFNLVXMyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltzcmMqPVxcXCJ3d3cuZ29vZ2xlYWRzZXJ2aWNlcy5jb20vcGFnZWFkL2NvbnZlcnNpb25cXFwiXVwiKTtcbiAgZm9yIChjb25zdCBlbHQgb2YgcHVyY2hhc2VkU0tVczIpIHtcbiAgICBjb25zdCBzID0gZWx0LmdldEF0dHJpYnV0ZShcInNyY1wiKS5zcGxpdChcIml0ZW09XCIpWzFdO1xuICAgIGlmIChzKSB7XG4gICAgICBjb25zdCB0ID0gcy5zcGxpdChcIioqXCIpO1xuICAgICAgZm9yIChjb25zdCBldCBvZiB0KSB7XG4gICAgICAgIGNvbnN0IGV0bCA9IGV0LnNwbGl0KFwiKlwiKTtcbiAgICAgICAgY29uc3Qgb3RoID0gZXRsWzJdO1xuICAgICAgICBpZiAob3RoKSBza3VzLnB1c2gob3RoLnRyaW0oKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2t1cztcbn1cblxuZnVuY3Rpb24gY2xlYW5VcEN1cnJlbnRQcmVmaXhlZEtleXMoKSB7XG4gIGNvbnN0IGNsZWFyID0gKHN0b3JhZ2UpID0+IHtcbiAgICBPYmplY3Qua2V5cyhzdG9yYWdlKVxuICAgICAgICAuZmlsdGVyKChrZXkpID0+IGtleS5zdGFydHNXaXRoKENVU1RPTV9TVE9SQUdFX1BSRUZJWCArIFwiY3VycmVudFwiKSlcbiAgICAgICAgLmZvckVhY2goKGtleSkgPT4gc3RvcmFnZS5yZW1vdmVJdGVtKGtleSkpO1xuICB9O1xuXG4gIFtsb2NhbFN0b3JhZ2UsIHNlc3Npb25TdG9yYWdlXS5mb3JFYWNoKGNsZWFyKTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZVNlZ21lbnQoKSB7XG4gIC8vIFRPRE8gaW1wbGVtZW50XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBNb25pdG9yIGZyb20gXCIuLi9OZXh0ZGF5TW9uaXRvci9pbmRleFwiO1xuaW1wb3J0IHtwcm9kdWN0SW5mb0xvb2t1cH0gZnJvbSBcIi4uL05leHRkYXlBcGlcIjtcbmltcG9ydCBiZWFnbGVPbiBmcm9tIFwiLi4vQmVhZ2xlT25cIjtcbmltcG9ydCB7XG4gIGNoZWNrcG9pbnQsXG4gIGNoZWNrcG9pbnRzLFxuICBhZGRUb0JlYWdsZUluZm9MYXllcixcbiAgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllcixcbiAgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcixcbn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgU1BMSVRfUkFUSU8sXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIE1BWF9USU1FT1VUX1BFUl9TRVNTSU9OLFxufSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBnZXRJZGVudGlmaWVyLFxuICByZW1vdmVEb2N1bWVudEhpZGUsXG4gIGRldGVybWluZVBjdCxcbiAgZ2V0RGVidWdNb2RlLFxuICBpc1NlbmRCZWFjb25TdXBwb3J0ZWQsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtmZWVkU2VnbWVudGF0aW9ufSBmcm9tIFwiLi4vc2VnbWVudGF0aW9uLXV0aWxzXCI7XG5cbihhc3luYyBmdW5jdGlvbigpIHtcbiAgY2hlY2twb2ludChjaGVja3BvaW50cy5CZWFnbGVMb2FkZWQpO1xuICBsZXQgbW9uaXRvciA9IG51bGw7XG4gIGxldCBpc09uID0gbnVsbDtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuICBjb25zdCB7VElNRU9VVF9DT1VOVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgbGV0IHRpbWVvdXRDb3VudGVyID0gMDtcbiAgbG9nZ2VyLmluZm8oXCJOZXh0ZGF5IGluaXRpYWxpemluZ1wiKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBiZWFnbGVJbmZvTGF5ZXJQcm9taXNlID0gaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcigpO1xuICAgIGNvbnN0IHByb2R1Y3RJbmZvUHJvbWlzZSA9IHByb2R1Y3RJbmZvTG9va3VwKCk7XG4gICAgLy8gY2hlY2sgaWYgZGVidWcgbW9kZSBpcyBvbiwgYWxzbyBhZGRzIGRibSB0byBiZWFnbGVJbmZvTGF5ZXJcbiAgICBjb25zdCBkZWJ1Z01vZGUgPSBnZXREZWJ1Z01vZGUoKTtcbiAgICBtb25pdG9yID0gbmV3IE1vbml0b3IoKTtcbiAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLkluaXRpYWxpemVkKTtcblxuICAgIGNvbnN0IGlkZW50aWZpZXIgPSBhd2FpdCBnZXRJZGVudGlmaWVyKCk7XG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGNvb2tpZSBpZGVudGlmaWVyOiBcIiwgaWRlbnRpZmllcik7XG4gICAgY29uc3QgY29va2llUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIpO1xuICAgIGlmICghZGVidWdNb2RlKSB7XG4gICAgICBpZiAoY29va2llUGN0IDwgU1BMSVRfUkFUSU8pIHtcbiAgICAgICAgaWYgKGNvb2tpZVBjdCA9PT0gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGNvb2tpZSBwY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImlzT25cIiwgaXNPbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc09uID0gdHJ1ZTtcbiAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpc09uXCIsIGlzT24pO1xuICAgICAgfVxuXG4gICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlVzZXJPbk9mZik7XG5cbiAgICAgIGlmICghaXNTZW5kQmVhY29uU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2VuZEJlYWNvbiBpcyBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgfVxuXG4gICAgICB0aW1lb3V0Q291bnRlciA9IHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVElNRU9VVF9DT1VOVCkpIHx8IDA7XG4gICAgICBpZiAodGltZW91dENvdW50ZXIgPiBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTikge1xuICAgICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV4dGRheSB0aW1lb3V0IHRocmVzaG9sZCByZWFjaGVkXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuaW5mbyhcIkRlYnVnIG1vZGUgb246IGFsbCBhcHBsaWNhYmxlIHRyZWF0bWVudHMgd2lsbCBiZSBhcHBsaWVkXCIpO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIH1cblxuICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcIm5leHREYXktaGlkZVwiKSkge1xuICAgICAgY2hlY2twb2ludChjaGVja3BvaW50cy5TY3JpcHRUaW1lT3V0KTtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVElNRU9VVF9DT1VOVCwgdGltZW91dENvdW50ZXIgKyAxKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5leHRkYXkgc2NyaXB0IHRpbWVkIG91dFwiKTtcbiAgICB9XG4gICAgYXdhaXQgYmVhZ2xlSW5mb0xheWVyUHJvbWlzZTtcbiAgICAvLyBWaXZlbnNlIHNwZWNpZmljXG5cbiAgICAvLyBzZWdtZW50IGJhc2VkXG4gICAgZmVlZFNlZ21lbnRhdGlvbigpO1xuXG5cbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFkbWluLCBtYWtpbmcgdGhlbSBvdXQgb2Ygc2NvcGVcbiAgICBpZiAod2luZG93LmJlYWdsZUluZm9MYXllcj8udnZzSXNTaG93cm9vbSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIH1cbiAgICAvLyBWaXZlbnNlIHNwZWNpZmljXG5cbiAgICBjb25zdCBpc091dE9mU2NvcGUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk9VVF9PRl9TQ09QRSk7XG4gICAgaWYgKGlzT3V0T2ZTY29wZSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIGxvZ2dlci53YXJuKFwiVXNlciBpcyBvdXQgb2Ygc2NvcGVcIik7XG4gICAgICByZW1vdmVGcm9tQmVhZ2xlSW5mb0xheWVyKFwiaXNPblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG4gICAgICBpZiAod2luZG93LmJlYWdsZUluZm9MYXllcj8uaXNPbiA9PT0gdHJ1ZSkge1xuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJ0cnVlXCJ9KTtcbiAgICAgIH0gZWxzZSBpZiAod2luZG93LmJlYWdsZUluZm9MYXllcj8uaXNPbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwiZmFsc2VcIn0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc09uID09PSBmYWxzZSkgdGhyb3cgbmV3IEVycm9yKFwiQ29udHJvbCBncm91cDogbm8gdHJlYXRtZW50cyBhcHBsaWVkXCIpO1xuXG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGNvb2tpZSBwZXJjZW50YWdlOiBcIiwgY29va2llUGN0KTtcbiAgICBsb2dnZXIubG9nKFwiU3BsaXRfcmF0aW86IFwiLCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmxvZyhcImNvb2tpZVBjdCA8IFNQTElUX1JBVElPXCIsIGNvb2tpZVBjdCA8IFNQTElUX1JBVElPKTtcbiAgICBsb2dnZXIuaW5mbyhgQ29udHJvbCBncm91cCByYXRpbzogJHtTUExJVF9SQVRJT30lYCk7XG5cbiAgICBiZWFnbGVPbihpZGVudGlmaWVyLCBtb25pdG9yLCBwcm9kdWN0SW5mb1Byb21pc2UsIGRlYnVnTW9kZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIGNvbnNvbGUud2FybihcIk5leHRkYXk6IFwiLCBlcnIubWVzc2FnZSk7XG4gICAgbW9uaXRvci5zZW5kTG9ncyhlcnIubWVzc2FnZSwgdHJ1ZSk7XG4gIH1cbn0pKCk7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInJ1bnRpbWUiLCJ1bmRlZmluZWQiLCJPcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIlN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZXJyIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwic2VsZiIsInRyeUxvY3NMaXN0IiwicHJvdG9HZW5lcmF0b3IiLCJHZW5lcmF0b3IiLCJnZW5lcmF0b3IiLCJjcmVhdGUiLCJjb250ZXh0IiwiQ29udGV4dCIsIl9pbnZva2UiLCJzdGF0ZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJtZXRob2QiLCJhcmciLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkVycm9yIiwiR2VuU3RhdGVDb21wbGV0ZWQiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJkb25lIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJmbiIsImNhbGwiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJ0aGlzIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VsdCIsIl9fYXdhaXQiLCJ0aGVuIiwidW53cmFwcGVkIiwiZXJyb3IiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsIlR5cGVFcnJvciIsImluZm8iLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJsb2NzIiwiZW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImxlbmd0aCIsImkiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJpdGVyIiwia2V5cyIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZ2V0IiwicHJvcCIsInIiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJfbmV4dCIsIl90aHJvdyIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiX3R5cGVvZiIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInJlcGxhY2VBbGwiLCJzdHIiLCJmaW5kIiwicmVwbGFjZSIsImluZGV4IiwiaW5kZXhPZiIsInN1YnN0cmluZyIsIlRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiaW5jbHVkZXMiLCJTVFlMRVNIRUVUX0xPQ0FUSU9OIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiTE9HX0FQSV9VUkwiLCJNT0JJTEVfTUVESUFfUVVFUlkiLCJMSVNUX01PREVfQkVBR0xFX0tFWVMiLCJTRVNTSU9OX1NUT1JBR0VfS0VZUyIsIkxPQ0FMX1NUT1JBR0VfS0VZUyIsIkNVU1RPTV9TVE9SQUdFX1BSRUZJWCIsIkxvZ2dlciIsIm9yaWdpbiIsIkRFQlVHIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlQ29uZmlnIiwiYXJndW1lbnQiLCJ3YXJuIiwiX2RlZmluZVByb3BlcnR5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJtaW5MZW4iLCJ0b1N0cmluZyIsImZyb20iLCJ0ZXN0IiwiX3NsaWNlZFRvQXJyYXkiLCJpc0FycmF5IiwiX2kiLCJfcyIsIl9lIiwiX2FyciIsIl9uIiwiX2QiLCJiZWFnbGVJbmZvTGF5ZXIiLCJjaGVja3BvaW50cyIsImUiLCJmIiwicGFyc2luZ1JlZ2V4IiwiUGFnZVR5cGUiLCJjb250ZW50X25hbWUiLCJjb250ZW50X25hbWVfYWx0IiwidnZzU2NyR0FQYWdlVHlwZSIsInZ2c1NjckdBT3JkZXJJZCIsInZ2c1NjckdBT3JkZXJSZXYiLCJ2dnNTY3JHQU9yZGVyVHlwZSIsInZ2c1NjckdBSXNBZG1pbiIsIkJlYWdsZUxvYWRlZCIsIkluaXRpYWxpemVkIiwiVXNlck9uT2ZmIiwiU2NyaXB0VGltZU91dCIsIlRyZWF0bWVudFJlcG9zaXRvcnlDcmVhdGVkIiwiVHJlYXRtZW50c0FwcGxpZWQiLCJSZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzIiwiVGltZW91dFRocmVzaG9sZFJlYWNoZWQiLCJsb2dnZXIiLCJpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyIiwic2NyaXB0cyIsImRvY3VtZW50Iiwic2NyaXB0c0xlbmd0aCIsInByZXBhcmVEYXRhIiwibWVzc2FnZSIsImZvdW5kU2NyaXB0Q291bnQiLCJzY3JpcHRUZXh0Q29udGVudCIsInRleHRDb250ZW50IiwiZm91bmRWYWwiLCJleGVjIiwibGFzdEluZGV4T2YiLCJhZGRUb0JlYWdsZUluZm9MYXllciIsImRlY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJwYXJzZSIsImRlbGF5IiwiY2hlY2twb2ludCIsImlkIiwidGltZSIsIm5vdyIsImFkZFRyZWF0bWVudCIsImJ1c2luZXNzUnVsZUlkIiwidmFyaWFudCIsInN0YXR1cyIsImRlcGVuZGFudF9vbl90cmVhdG1lbnQiLCJ2aWV3SWQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwic2Vzc2lvbklkIiwic2Vzc2lvblN0b3JhZ2UiLCJjdXJyZW50VVJMIiwiVVJMIiwicGxhdGZvcm0iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnREYXRhIiwidXNlckFnZW50IiwiZ2FPYmplY3RzIiwiZGF0YUxheWVyIiwiZ2FETEVsZW1lbnQiLCJ2aXNpbGFic2NrIiwiZXh0cmFjdENvb2tpZUlkZW50aWZpZXIiLCJjb29raWUiLCJ2bE9iamVjdHMiLCJJdGVtcyIsInZsRWxlbWVudCIsIksiLCJWIiwiVkxfUFZDb3VudEluVmlzaXQiLCJWTF9Ub3RhbER1cmF0aW9uIiwiVkxfVG90YWxQViIsIlZMX1RvdGFsVmlzaXQiLCJjb250ZW50X3R5cGUiLCJjb250ZW50X2NhdGVnb3J5IiwiY29udGVudF9pZHMiLCJ2aXZlbnNlX2NhdGVnb3J5IiwiZWNvbW1lcmNlIiwiZGV0YWlsIiwiYWN0aW9uRmllbGQiLCJsaXN0IiwiaXNBZG1pbiIsInByb2R1Y3RHcm91cCIsInVzZXJJZCIsImNhdGVnb3J5X3Byb2R1Y3RfY291bnQiLCJjaGVja291dCIsInByb2R1Y3RzIiwicHVyY2hhc2UiLCJ2aXZlbnNlUHJvZHVjdHMiLCJyZXZlbnVlIiwiZGltZW5zaW9uMTUiLCJzZWFyY2giLCJkZXZpY2VQaXhlbFJhdGlvIiwiaW5uZXJXaWR0aCIsIndpbmRvd1NjcmVlbiIsImF2YWlsSGVpZ2h0Iiwic2NyZWVuIiwiYXZhaWxMZWZ0IiwiYXZhaWxUb3AiLCJhdmFpbFdpZHRoIiwiY29sb3JEZXB0aCIsImhlaWdodCIsInBpeGVsRGVwdGgiLCJ3aWR0aCIsIndpbmRvd1ZQb3J0IiwidmlzdWFsVmlld3BvcnQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib25yZXNpemUiLCJvbnNjcm9sbCIsInBhZ2VMZWZ0IiwicGFnZVRvcCIsInNjYWxlIiwicGFyc2VJbnQiLCJNYXRoIiwicm91bmQiLCJhYnMiLCJvcmllbnRhdGlvbiIsInRlbXAiLCJoaXN0b3J5IiwibmF2QWdlbnQiLCJicmFuZHMiLCJtYXAiLCJicmFuZCIsInZlcnNpb24iLCJqb2luIiwibW9iaWxlIiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsImxhbmd1YWdlIiwiYnJvd3Nlckxhbmd1YWdlIiwic3lzdGVtTGFuZ3VhZ2UiLCJ1c2VyTGFuZ3VhZ2UiLCJtYXhUb3VjaFBvaW50cyIsInZlbmRvciIsInBlcmZNZXRyaWNzIiwicGVyZm9ybWFuY2UiLCJnZXRFbnRyaWVzQnlUeXBlIiwicGVyZk5hdmlnYXRpb25NZXRyaWNzIiwicGxkIiwiZG9tQ29udGVudExvYWRlZEV2ZW50RW5kIiwiY29ubmVjdFN0YXJ0IiwibmV0IiwiY29ubmVjdEVuZCIsImZldGNoU3RhcnQiLCJzcnYiLCJyZXNwb25zZVN0YXJ0IiwicmVxdWVzdFN0YXJ0IiwidGZyIiwicmVzcG9uc2VFbmQiLCJkbWkiLCJkb21JbnRlcmFjdGl2ZSIsImRjcCIsImRvbUNvbXBsZXRlIiwib25sIiwibG9hZEV2ZW50RW5kIiwibG9hZEV2ZW50U3RhcnQiLCJjb25uZWN0aW9uIiwiZG93bmxpbmsiLCJzZWxlY3RlZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwic1RhZyIsImNudG50IiwianNvbmNvbnRlbnQiLCJiY3J1bWJfc3RyaW5nIiwic29yZ0xpc3RpbmciLCJjb3VudEl0ZW1zIiwic29yZ1Byb2R1Y3QiLCJza3UiLCJwcmljZSIsInByaWNlQ3VycmVuY3kiLCJwcmljZVZhbGlkVW50aWwiLCJkb05vdFRyYWNrIiwibXNEb05vdFRyYWNrIiwiaG9zdG5hbWUiLCJyZWZlcnJlciIsImZhdm9yaXRlUHJvZHVjdHMiLCJ1c2VyRW1haWwiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJUZXh0IiwiZm9ybWF0RGVsaXZlcnlEYXRlIiwibW9udGhzIiwiYyIsImdldFJhbmRvbVZhbHVlcyIsIlVpbnQ4QXJyYXkiLCJyZW1vdmVEb2N1bWVudEhpZGUiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJmZXRjaFRyZWF0bWVudHMiLCJmZXRjaCIsInRyZWF0bWVudHMiLCJqc29uIiwiZmV0Y2hUcmVhdG1lbnRXZWlnaHRzIiwidHJlYXRtZW50V2VpZ2h0cyIsImNvb2tpZVN0cmluZyIsImNvb2tpZU5hbWUiLCJpZGVudGlmaWVyIiwic3BsaXQiLCJ2IiwicmVkdWNlIiwiYWNjIiwidHJpbSIsImRldGVybWluZVBjdCIsInN1YnN0cmluZ0VuZFBvc2l0aW9uIiwic3Vic3RyaW5nU3RhcnRQb3NpdGlvbiIsImNyZWF0ZUhhc2hTdHJpbmciLCJoYXNoU3RyaW5nIiwiaGFzaE51bWJlciIsInN0cmluZ1RvSGFzaCIsImVuY29kZWQiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsInN1YnRsZSIsImRpZ2VzdCIsImhhc2hCdWZmZXIiLCJoYXNoQXJyYXkiLCJiIiwicGFkU3RhcnQiLCJzdHlsZUFwcGxpY2F0b3IiLCJlbGVtZW50cyIsInN0eWxlQ2hhbmdlc01hcCIsImVsZW1lbnQiLCJlbnRyaWVzIiwic3R5bGUiLCJpbmplY3RTdHlsZVNoZWV0Iiwic3R5bGVTaGVldCIsImNyZWF0ZUVsZW1lbnQiLCJyZWwiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJwcmVwYXJlQWN0aW9ucyIsImFjdGlvbnNUb1ByZXBhcmUiLCJhY3Rpb25zIiwic3RyaW5naWZ5IiwiYWN0aW9uIiwiYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zIiwidmFyaWFudHMiLCJidXNpbmVzc1RyYW5zZm9ybWF0aW9uIiwidmFyaWFudEtleSIsIndlaWdodCIsImluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzIiwiUEFHRV9WSUVXUyIsIlBPUFVQX0RJU1BMQVlfRkxBRyIsIlNFU1NJT05fSUQiLCJTRVNTSU9OX1RJTUVTVEFNUCIsIlNFU1NJT05fSElTVE9SWSIsInBhZ2VWaWV3cyIsInBvcHVwRGlzcGxheUZsYWciLCJzZXNzaW9uVGltZXN0YW1wIiwic2Vzc2lvbkhpc3RvcnkiLCJzZXRJdGVtIiwicGF0aG5hbWUiLCJjb25kaXRpb25DaGVja2VyIiwicnVuVGltZVZhbHVlIiwiY29uZGl0aW9uIiwiZmFpbGVkIiwic3VjY2VzcyIsIm1pbiIsIm1heCIsImdldERlYnVnTW9kZSIsIk5EX0RFQlVHX01PREUiLCJPVVRfT0ZfU0NPUEUiLCJxdWVyeVN0cmluZyIsInJlbW92ZUl0ZW0iLCJjdXJyZW50IiwiZ2V0SWRlbnRpZmllciIsImV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzZXRUaW1lb3V0IiwibXMiLCJyZXMiLCJza3VDb2xsZWN0b3IiLCJORF9TS1VfTElTVCIsInNrdUxpc3QiLCJnZXRBdHRyaWJ1dGUiLCJpc1NlbmRCZWFjb25TdXBwb3J0ZWQiLCJzZW5kQmVhY29uIiwiZGF0ZSIsInN0YXJ0TW9udGhJbmRleCIsImVuZE1vbnRoSW5kZXgiLCJzdGFydERheSIsImVuZERheSIsIm1hdGNoIiwidG9Mb3dlckNhc2UiLCJ0b2RheSIsInN0YXJ0WWVhciIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJlbmRZZWFyIiwiZXN0aW1hdGVkU3RhcnQiLCJlc3RpbWF0ZWRFbmQiLCJzdGFydERpZmZPdmVyRGF5cyIsImNlaWwiLCJlbmREaWZmT3ZlckRheXMiLCJzdGFydERpZmZPdmVyV2Vla3MiLCJlbmREaWZmT3ZlcldlZWtzIiwiZ2V0TW9zdEZyZXF1ZW50IiwiZnJlcSIsImxhYmVsIiwiY291bnQiLCJrIiwiaWRsZVRpbWVyIiwidGltZU91dCIsImNhbGxCYWNrIiwiaWRsZVRpbWVvdXQiLCJvbnRvdWNoc3RhcnQiLCJjbGVhclRpbWVvdXQiLCJNb25pdG9yIiwiYXBwbGllZFRyZWF0bWVudHNIYXNoIiwiYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzIiwiZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0hhc2giLCJlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyIsImhlYWRlcnMiLCJpc0xvZ2dlZCIsImluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcnMiLCJpc0Vycm9yIiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVRdWV1ZUxvZ3MiLCJwYWNrYWdlTG9nRGF0YSIsInJlcXVlc3RCbG9iIiwicXVldWVMb2dzIiwiYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCIsImVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCIsImF0dGFjaFNlZ21lbnRhdGlvblBheWxvYWRUb0JlYWdsZUluZm9MYXllciIsImJvZHkiLCJtIiwidCIsIkJsb2IiLCJzdG9yYWdlIiwiZmlsdGVyIiwibGF5ZXJLZXkiLCJwYXlsb2FkIiwic3RhcnRzV2l0aCIsImVuZHNXaXRoIiwiaXNGcmVxdWVuY3lSZXF1aXJlZCIsInZJZCIsImlzRXhpdEV2ZW50Q2FwdHVyZWQiLCJsb2dEYXRhIiwicGFja2FnZVVwZGF0ZUxvZ0RhdGEiLCJjYXB0dXJlIiwicXVldWVkIiwicXVldWVJbnRlcnZhbCIsImNoZWNrVXJsUnVsZSIsInJ1bGUiLCJvcGVyYXRvciIsInJlcXVlc3RVUkwiLCJwYXRoIiwicHJvZHVjdEluZm9Mb29rdXAiLCJIZWFkZXJzIiwiYXBwZW5kIiwibW9kZSIsInByb2R1Y3RJbmZvIiwib2siLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJjaGVja0RhdGFMYXllclJ1bGUiLCJydW50aW1lVmFsdWUiLCJkYXRhTGF5ZXJGaW5kZXIiLCJyZXBsYWNlRm5FeGVjdXRvciIsInJlcGxhY2VGbiIsInNpbmdsZSIsInJlcGxhY2VGdW5jdGlvbiIsImJpbmQiLCJ2YWwiLCJjdXJyZW50UmVwbGFjZUZuIiwickZuIiwicmVwbGFjZVZhbCIsInJlcGxhY2VPYmplY3RFeHRyYWN0b3IiLCJiaW5kaW5ncyIsInRyYW5zZm9ybWVyIiwiYXBwbHlFdmVudCIsImNvbnRlbnRTZWxlY3RvciIsInNlbGVjdG9yIiwic2VsZWN0b3JGYWxsYmFjayIsIm1kQ29uZGl0aW9uIiwibW92ZV9zZWxlY3Rvcl8xIiwibW92ZV9zZWxlY3Rvcl8yIiwicFR5cGUiLCIkIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJyZXBsYWNlciIsIlN0cmluZyIsImJlZm9yZSIsImFmdGVyIiwiZ2V0UHJvZHVjdEluZm8iLCJjcmVhdGVQb3B1cCIsImRpc3BsYXlQb3B1cCIsIm9uY2UiLCJwdXNoU3RhdGUiLCJ0aW1lb3V0IiwidGV4dCIsImh0bWwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwib3JpZ2luYWxUaXRsZSIsInRpdGxlIiwiaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSIsImF0dHJpYnV0ZSIsImNzcyIsInByb3BlcnR5IiwicHJvcGVydHlWYWx1ZSIsIm4xIiwibjIiLCJzd2FwTm9kZXMiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsInByZXBlbmQiLCJyZXBsYWNlV2l0aFZhbCIsImh0bWxTdHIiLCJlbGVtZW50U2t1IiwiY2F0YWxvZyIsInRyYW5zYWN0aW9uSW4yV2Vla3MiLCJhZGRUb0NhcnRJbjJXZWVrcyIsInByb2R1Y3RWaWV3Q291bnQiLCJldmVudCIsInRpdGxlcyIsInBhcnNlZFRpdGxlcyIsImhpZGRlbiIsImhhbmRsZVBvcHVwQ2xpY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicVBvcHVwIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3B1cFdyYXBwZXIiLCJhZGQiLCJwb3B1cENsb3NlQnV0dG9uIiwib25jbGljayIsImNvbnRlbnRzIiwic2hpZnQiLCJzcmMiLCJ0ZW1wbGF0ZSIsImlubmVySFRNTCIsInBvcHVwIiwiY29udGVudCIsImZpcnN0Q2hpbGQiLCJpMSIsImkyIiwicDEiLCJwYXJlbnROb2RlIiwicDIiLCJpc0VxdWFsTm9kZSIsImNoaWxkcmVuIiwiaW5zZXJ0QmVmb3JlIiwiYWN0aW9uQXBwbGljYXRvciIsImpRdWVyeSIsImFwcGx5QWN0aW9ucyIsIlRyZWF0bWVudFJlcG9zaXRvcnkiLCJ1c2VyR3JvdXAiLCJnZXRVc2VyR3JvdXAiLCJ1c2VyR3JvdXBXZWlnaHRzIiwidHJlYXRtZW50IiwiVFJFQVRNRU5UUyIsInRyZWF0bWVudHNPYmoiLCJ0aW1lc3RhbXAiLCJ0cmVhdG1lbnRXaXRoVGltZXN0YW1wIiwiY2hlY2tDb3VudGVyUnVsZSIsInBhZ2VWaWV3SGFuZGxlciIsImNhQmFza2V0UHJpY2VIYW5kbGVyIiwiZ2V0Q291bnRlciIsImNvdW50ZXIiLCJjYUJhc2tldFByaWNlIiwiY2hlY2tFbGVtZW50UnVsZSIsInNlbGVjdG9yQWxsIiwibWFpblNlbGVjdG9yIiwidGVtcFZhbCIsInJldHVyblZhbCIsImVsZW0iLCJlbGVtZW50U3R5bGVzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInN0eWxlS2V5Iiwic3R5bGVWYWx1ZSIsImNoZWNrRnVuY3Rpb25SdWxlIiwib3B0cyIsInJ1bGVGdW5jdGlvbiIsImNoZWNrU2Vzc2lvblJ1bGUiLCJkdXJhdGlvbkhhbmRsZXIiLCJoaXN0b3J5SGFuZGxlciIsImR1cmF0aW9uIiwiZ2V0U2Vzc2lvblRpbWVzdGFtcCIsImN1cnJlbnRIaXN0b3J5IiwiY2hlY2tFbnZSdWxlIiwiaXNNb2JpbGUiLCJjaGVja1JhbmRvbU51bWJlclJ1bGUiLCJzYWx0IiwicmFuZG9tUGN0IiwiY2hlY2tQcm9kdWN0SW5mb1J1bGUiLCJnZXRUcmFuc2FjdGlvbkNvdW50IiwiZ2V0QWRkVG9DYXJ0Q291bnQiLCJnZXRQcmV2aWV3Q291bnQiLCJSdWxlRW5naW5lIiwiYmFzZVJ1bGVTZXQiLCJidXNpbmVzc1J1bGVTZXQiLCJjYWxsYmFjayIsImNoZWNrUnVsZSIsImNoYWluIiwiY2hhaW5fY29uZGl0aW9uIiwicnVsZVNhdGlzZmllZCIsImJlYWdsZU9uIiwibW9uaXRvciIsInByb2R1Y3RJbmZvUHJvbWlzZSIsImRlYnVnTW9kZSIsImVuZ2FnZVRyZWF0bWVudCIsImNvbGxlY3RDQUJhc2tldFByaWNlIiwiQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFIiwicHJpY2VFbGVtZW50cyIsImNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlIiwiZGV2aWNlIiwicmVhcHBseV9ldmVudCIsInByb2R1Y3RJbmZvU3RvcmFnZSIsImRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzIiwicmVhcHBseV9ldmVudF9hcnJheSIsInJlYXBwbHlFdmVudCIsInByZXZpb3VzVmFsdWUiLCJyZUFwcGx5VHJlYXRtZW50c01hcCIsInBJbmZvIiwiTkRfU0tVX0xJU1RfQkFTS0VUIiwiTkRfU0tVX0lORk9fQkFTS0VUIiwicnVsZUVuZ2luZSIsImNoZWNrUnVsZXMiLCJ0cmVhdG1lbnRTa2lwUmF0aW8iLCJkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCIsIm1hdGNoZWRUcmVhdG1lbnRzIiwiZGV0ZXJtaW5pbmdJZGVudGlmaWVyIiwidHJlYXRtZW50UGN0IiwiY2hlY2tCdXNpbmVzc1J1bGVzIiwicHJlcGFyZWQiLCJzZW5kTG9ncyIsInNlYXJjaFBhcmFtcyIsIml0ZW0iLCJ0cmVhdG1lbnRzUHJvbWlzZSIsInRyZWF0bWVudFdlaWdodHNQcm9taXNlIiwiT0JTRVJWRVJfQ09ORklHIiwic3VidHJlZSIsImNoaWxkTGlzdCIsImF0dHJpYnV0ZXMiLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJiYXNrZXRDaGVja291dEZvcm0iLCJvYnNlcnZlIiwiYWxsIiwidHJlYXRtZW50UmVwb3NpdG9yeSIsImdldE1hdGNoZWRUcmVhdG1lbnRzIiwidXBkYXRlTGF0ZXN0Q2hhbmdlcyIsInRyZWF0bWVudElkcyIsInJlQXBwbHlUcmVhdG1lbnRzIiwiUmVzaXplT2JzZXJ2ZXIiLCJyZWFwcGx5X3NlbGVjdG9yIiwiYWRkTWF4IiwiaXNTZXNzaW9uU3RvcmFnZSIsImluaXQiLCJpbml0aWFsVmFsdWUiLCJwYXJzZUZsb2F0IiwiYWRkQ291bnRlciIsInNldFZhbHVlIiwic2V0UG9zaXRpdmUiLCJhZGRNb2RlIiwicGFyc2VJZkpzb24iLCJwdXRJZk5vdEV4aXN0cyIsImZlZWRTZWdtZW50YXRpb24iLCJsYXllciIsImdhUHJvZHVjdENhdGVnb3J5IiwidnZzQ2FydFRvdGFsIiwidG90YWwiLCJnYUNhcnRQcm9kdWN0cyIsIm1heFByaWNlQ2F0ZWdvcnkiLCJjYXRlZ29yeSIsImF2ZyIsInN1bSIsInAiLCJ0b0ZpeGVkIiwidnZzUExQTmFtZSIsImxpbmsiLCJ2dnNDYXRlZ29yeSIsInZ2c0lzU2hvd3Jvb20iLCJ2dnNQRFBQcm9kdWN0IiwidSIsInNrdXMiLCJwcm9kcyIsInByb2QiLCJwdXJjaGFzZWRTS1VzIiwicyIsIm90aCIsImdldFNvbGRQcm9kdWN0U0tVcyIsInNwbGl0V2luZG93Iiwid2luZG93c2hhcGUiLCJ2dnNWaWV3TG9nZ2VkaW4iLCJkYm0iLCJoYXNGYXZvcml0ZXMiLCJ2dnNDbnRGYXZQcm9kcyIsInNldFJlZmVycmVyIiwic2V0UGxhdGZvcm0iLCJzZXREYXRlIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJob3N0IiwiZ2V0RGF5IiwiZ2V0SG91cnMiLCJpc09uIiwiVElNRU9VVF9DT1VOVCIsInRpbWVvdXRDb3VudGVyIiwiYmVhZ2xlSW5mb0xheWVyUHJvbWlzZSIsImNvb2tpZVBjdCIsImNvbnRhaW5zIiwiR0xPVl9PTiJdLCJzb3VyY2VSb290IjoiIn0=

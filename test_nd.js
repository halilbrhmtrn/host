!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw a;return E()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=L(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?v:f,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function g(){}function m(){}function y(){}var w={};s(w,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(T([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=y.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var s=l(e[o],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:E}}function E(){return{value:t,done:!0}}return m.prototype=y,s(x,"constructor",y),s(y,"constructor",m),m.displayName=s(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),s(x,c,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(o,a){var i=t.apply(n,r);function c(t){e(i,o,a,c,s,"next",t)}function s(t){e(i,o,a,c,s,"throw",t)}c(void 0)}))}}var r=n(757),o=n.n(r);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var u=window.location.href.includes("staging.vivense")?"https://ndvivense.glov.ai/weights_staging.json":"https://ndvivense.glov.ai/weights.json",l="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",d="(max-width: 440px)",f="__nextday_session_id",p="ND_SessionTimestamp",v="BN_SessionHistory",h="ND_PageViews",g="ND_PopupDisplayFlag",m="ND_SkuList",y="ND_CABasketPrice",w="ND_Debug",b="ND_OutOfScope",k="ND_UserId",x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";i(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(w)}return s(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}},{key:"failed",value:function(){for(var e,t=this.DEBUG,n=this.origin,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];o.forEach((function(e){return"object"==a(e)||"function"==typeof e?"[31m%s[0m"+JSON.stringify(e):"[31m%s[0m"+e.toString()})),t&&(e=console).log.apply(e,["[31m%s[0m [".concat(n,"]")].concat(o))}},{key:"success",value:function(){for(var e,t=this.DEBUG,n=this.origin,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];o.forEach((function(e){return"object"==a(e)||"function"==typeof e?"[31m%s[0m"+JSON.stringify(e):"[31m%s[0m"+e.toString()})),t&&(e=console).log.apply(e,["[32m%s[0m[".concat(n,"]")].concat(o))}},{key:"warn",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).warn.apply(e,["[".concat(t,"]")].concat(r))}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),S=x;function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=new S("Nextday DataLayer Checker"),E=function(e){T.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=P(t);return ce(o,n,r)},P=function(e){T.log("Searching beagleInfoLayer for key ",e);var t=window.beagleInfoLayer[e];if(e.includes("."))try{var n=e.split(".");t=window.beagleInfoLayer[n[0]];for(var r=1;r<n.length;r++)t=t[n[r]]}catch(n){T.failed("Couldn't extract key ".concat(e," from beagleInfoLayer")),t=null}if(t)return T.success("Found key ".concat(e," with value ").concat(t)),t;T.failed("Key ".concat(e," not found in beagleInfoLayer")),T.log("Searching dataLayer for key ",e);var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(window.dataLayer);try{for(a.s();!(o=a.n()).done;){var i=o.value;if(Object.keys(i).includes(e))return T.success("Found key ".concat(e," with value ").concat(i[e])),i[e]}}catch(e){a.e(e)}finally{a.f()}return T.failed("Key ".concat(e," not found in dataLayer")),null},_=new S("Nextday Url Checker"),N=function(e){_.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return _.log("Checking path ".concat(a," matches rule path ").concat(r)),ce(a,n,r)}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.beagleInfoLayer=window.beagleInfoLayer||{checkpoints:[],a:{},e:{},f:{}};var M={PageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,content_name:/(?:content_name[ ]*:[ ]*")(.*)(?:")/,content_name_alt:/(?:content_name'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAPageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderId:/(?:purchase[\s\S]*actionField[\s\S]*'id'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderRev:/(?:purchase[\s\S]*actionField[\s\S]*'revenue'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderType:/(?:purchase[\s\S]*actionField[\s\S]*'dimension15'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAIsAdmin:/(?:dataLayer[\s\S]*'isAdmin'[ ]*:[ ]*")(.*)(?:")/},U={BeagleLoaded:1,Initialized:2,UserOnOff:3,ScriptTimeOut:7,TreatmentRepositoryCreated:4,TreatmentsApplied:5,ReapplyTreatmentListeners:6,TimeoutThresholdReached:8},V=new S("BeagleInfoLayer"),F=function(){var e=t(o().mark((function e(){var t,n,r,a,i,c,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.log("Initializing beagleInfoLayer"),t=document.scripts,n=t.length;try{H()}catch(e){console.warn("Could not prepare log data: ",e.message)}if(t&&n){e.next=7;break}return V.warn("Could not parse body"),e.abrupt("return");case 7:r=0,a=t.length-1;case 9:if(!(a>-1)){e.next=35;break}i=t[a].textContent,c=0,s=Object.keys(M);case 12:if(!(c<s.length)){e.next=32;break}if(u=s[c],!(l=(l=M[u].exec(i))?l[1]:null)){e.next=29;break}u.indexOf("_alt")>0&&(u=u.substring(0,u.lastIndexOf("_alt"))),e.prev=18,J(u,decodeURIComponent(JSON.parse('"'+l+'"'))),e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(18),V.warn("Could not decode foundVal ".concat(l)),e.abrupt("continue",29);case 26:if((r+=1)!==Object.keys(M).length){e.next=29;break}return e.abrupt("return");case 29:c++,e.next=12;break;case 32:a--,e.next=9;break;case 35:return e.next=37,le(10);case 37:if(n===t.length){e.next=41;break}return V.log("New scripts detected, re-initializing beagleInfoLayer"),e.next=41,F();case 41:case"end":return e.stop()}}),e,null,[[18,22]])})));return function(){return e.apply(this,arguments)}}(),B=function(e){try{V.log("Checkpoint: '".concat(e,"' Reached!")),window.beagleInfoLayer.checkpoints.push({checkpoint:Object.keys(U).find((function(t){return U[t]===e})),id:e,time:Date.now()})}catch(e){V.warn(e)}},J=function(e,t){null!=e&&null!=t&&(window.beagleInfoLayer[e]=t)},G=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a={businessRuleId:t,variant:n};switch(r){case"applied":window.beagleInfoLayer.a[e]=a;break;case"skipped":a.dependant_on_treatment=o,window.beagleInfoLayer.e[e]=a;break;case"failed":window.beagleInfoLayer.f[e]=a}},H=function(){var e,t,n,r,o,a,i,c,s,u,l,d,p,v,h,g,m,y,w,b,k,x,S,I,L,O,A,C,T,E,P,_,N,j,q,M,U,F,B,G,H,$,z,W,K=crypto.randomUUID(),Q=sessionStorage.getItem(f),Y=new URL(window.location.href),X=(null===(e=window.navigator)||void 0===e||null===(t=e.userAgentData)||void 0===t?void 0:t.platform)||(null===(n=window.navigator)||void 0===n?void 0:n.platform)||(null===(r=window.navigator)||void 0===r?void 0:r.userAgent),Z={},te=R(window.dataLayer);try{for(te.s();!(W=te.n()).done;){var ne=W.value;Z=D(D({},Z),ne)}}catch(e){te.e(e)}finally{te.f()}var re=JSON.parse(ee(document.cookie,"VL_CM_0")),oe={};if(re&&re.Items){var ae,ie=R(re.Items);try{for(ie.s();!(ae=ie.n()).done;){var ce=ae.value;oe[ce.K]=decodeURIComponent(ce.V)}}catch(e){ie.e(e)}finally{ie.f()}}J("cookieVLPVinVisit",oe.VL_PVCountInVisit),J("cookieVLVisitDuration",oe.VL_TotalDuration),J("cookieVLTotalPV",oe.VL_TotalPV),J("cookieVLTotalVisit",oe.VL_TotalVisit),J("gaPageType",Z.PageType),J("gaProductName",Z.content_name),J("gaViewType",Z.content_type),J("gaProductCategory",Z.content_category),J("gaProductID",Z.content_ids),J("vvsProductCategory",Z.vivense_category),J("gaListingName",null===(o=Z.ecommerce)||void 0===o||null===(a=o.detail)||void 0===a||null===(i=a.actionField)||void 0===i?void 0:i.list),J("vvsIsShowroom",void 0===window.isAdmin?Z.isAdmin:window.isAdmin),J("vvsProductGroup",Z.productGroup),J("vvsUserId",Z.userId),J("vvsCategory",Z.vivense_category),J("gaCategoryProductCont",Z.category_product_count),J("gaCartProducts",(null===(c=Z.ecommerce)||void 0===c||null===(s=c.checkout)||void 0===s?void 0:s.products)||(null===(u=Z.ecommerce)||void 0===u||null===(l=u.purchase)||void 0===l?void 0:l.products)),J("vvsPDPProduct",null===(d=Z.vivenseProducts)||void 0===d?void 0:d.pop()),J("gaPurchaseId",null===(p=Z.ecommerce)||void 0===p||null===(v=p.purchase)||void 0===v||null===(h=v.actionField)||void 0===h?void 0:h.id),J("gaPurchaseRevenue",null===(g=Z.ecommerce)||void 0===g||null===(m=g.purchase)||void 0===m||null===(y=m.actionField)||void 0===y?void 0:y.revenue),J("gaPurchasePayType",null===(w=Z.ecommerce)||void 0===w||null===(b=w.purchase)||void 0===b||null===(k=b.actionField)||void 0===k?void 0:k.dimension15),J("windowParams",window.location.search),J("windowPRatio",window.devicePixelRatio),J("windowInner",window.innerWidth);var se={};se.availHeight=null===(x=window.screen)||void 0===x?void 0:x.availHeight,se.availHeight=null===(S=window.screen)||void 0===S?void 0:S.availHeight,se.availLeft=null===(I=window.screen)||void 0===I?void 0:I.availLeft,se.availTop=null===(L=window.screen)||void 0===L?void 0:L.availTop,se.availWidth=null===(O=window.screen)||void 0===O?void 0:O.availWidth,se.colorDepth=null===(A=window.screen)||void 0===A?void 0:A.colorDepth,se.height=null===(C=window.screen)||void 0===C?void 0:C.height,se.pixelDepth=null===(T=window.screen)||void 0===T?void 0:T.pixelDepth,se.width=null===(E=window.screen)||void 0===E?void 0:E.width,J("windowScreen",se);var ue={};if(ue.height=null===(P=window.visualViewport)||void 0===P?void 0:P.height,ue.offsetLeft=null===(_=window.visualViewport)||void 0===_?void 0:_.offsetLeft,ue.offsetTop=null===(N=window.visualViewport)||void 0===N?void 0:N.offsetTop,ue.onresize=null===(j=window.visualViewport)||void 0===j?void 0:j.onresize,ue.onscroll=null===(q=window.visualViewport)||void 0===q?void 0:q.onscroll,ue.pageLeft=null===(M=window.visualViewport)||void 0===M?void 0:M.pageLeft,ue.pageTop=null===(U=window.visualViewport)||void 0===U?void 0:U.pageTop,ue.scale=null===(F=window.visualViewport)||void 0===F?void 0:F.scale,ue.width=null===(B=window.visualViewport)||void 0===B?void 0:B.width,J("windowVPort",ue),screen.width){var le=parseInt(screen.width),de=screen.height?parseInt(screen.height):0;if(0!==le&&0!==de){if(/iPad|iPhone|iPod/.test(X)&&window.devicePixelRatio)le=Math.round(le*window.devicePixelRatio),de=Math.round(de*window.devicePixelRatio);else if(90===Math.abs(window.orientation)){var fe=le;le=de,de=fe}J("window",le+"x"+de)}}if(J("navHistSize",null===(G=window.history)||void 0===G?void 0:G.length),J("navAgent",navigator.userAgent),!window.beagleInfoLayer.navAgent&&navigator.userAgentData){var ve,he,ge,me,ye,we=null===(ve=navigator)||void 0===ve||null===(he=ve.userAgentData)||void 0===he||null===(ge=he.brands)||void 0===ge?void 0:ge.map((function(e){return e.brand+":"+e.version})).join();we+=null!==(me=navigator)&&void 0!==me&&null!==(ye=me.userAgentData)&&void 0!==ye&&ye.mobile?"mobi":" ",J("navAgent",we+=X)}J("navHWCores",navigator.hardwareConcurrency),J("navLanguage",navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage),J("navTouch",navigator.maxTouchPoints),J("navPlatform",X),J("navVendor",navigator.vendor),J("cookieGaId",ee(document.cookie,"_ga")),J("cookieLastBreadCrumb",ee(document.cookie,"lastbreadcrumb")),J("cookieLastCategory",ee(document.cookie,"lastcategory")),J("cookieFirstEntry",decodeURIComponent(ee(document.cookie,"vivensefirst")));var be={};if(window.performance&&window.performance.getEntriesByType("navigation")[0]){var ke=window.performance.getEntriesByType("navigation")[0];be.pld=Math.round(ke.domContentLoadedEventEnd-ke.connectStart),be.net=Math.round(ke.connectEnd-ke.fetchStart),be.srv=Math.round(ke.responseStart-ke.requestStart),be.tfr=Math.round(ke.responseEnd-ke.responseStart),be.dmi=Math.round(ke.domInteractive-ke.responseEnd),be.dcp=Math.round(ke.domComplete-ke.domInteractive),be.onl=Math.round(ke.loadEventEnd-ke.loadEventStart)}J("perfMetrics",be),J("internetSpeed",null===(H=window.navigator)||void 0===H||null===($=H.connection)||void 0===$?void 0:$.downlink);var xe,Se,Ie=R(document.querySelectorAll('[type="application/ld+json"]'));try{for(Ie.s();!(xe=Ie.n()).done;){var Le=xe.value;try{var Oe=Le.textContent,Ae=JSON.parse(Oe),Ce="@";switch(Ae["@type"]){case"Organization":case"WebSite":break;case"CollectionPage":var Te,Ee=R(Ae.breadcrumb.itemListElement);try{for(Ee.s();!(Te=Ee.n()).done;)Ce+=" | "+Te.value.item.name}catch(e){Ee.e(e)}finally{Ee.f()}J("sorgBreadcrumb",Ce);var Pe={};Pe.name=Ae.mainEntity.name,Pe.countItems=Ae.mainEntity.numberOfItems,J("sorgListing",Pe);break;case"BreadcrumbList":var _e,Ne=R(Ae.itemListElement);try{for(Ne.s();!(_e=Ne.n()).done;)Ce+=" | "+_e.value.name}catch(e){Ne.e(e)}finally{Ne.f()}J("sorgBreadcrumb",Ce);break;case"Product":var je={};je.sku=Ae.sku,je.name=Ae.name,Ae.offers&&(je.price=Ae.offers.price,je.priceCurrency=Ae.offers.priceCurrency,je.priceValidUntil=Ae.offers.priceValidUntil),J("sorgProduct",je);break;default:console.log(Ae)}}catch(e){V.warn(e.message)}}}catch(e){Ie.e(e)}finally{Ie.f()}J("v","0.0.27"),J("n","nextday-session_id-".concat(Q)),J("sr",50),J("donttrack",navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack),J("u",Y.href),J("d",Y.hostname),J("r",document.referrer),J("vId",K),J("isOn",null);try{J("vvsCntFavProds",window.favoriteProducts?JSON.parse(window.favoriteProducts).length:null)}catch(e){J("vvsCntFavProds",null),V.warn(e.message)}J("vvsHasSetEmail",window.userEmail.length>0),J("vvsLoginType",window.userId>0?"member":"guest"),Se=document.querySelector('[class*="basket_summary_total"], [class*="total_row"]'),J("vvsPurcPriceElt",Se?Se.innerText:null),Se=document.querySelector('[class*="order_follow_numb"], [class*="cart-title-bottom"]'),J("vvsPurchaseOrderID",Se?Se.innerText:null),Se=document.querySelector('[class*="payment_type_title"], [class*="cart-title-info"]'),J("vvsPurcTypeElt",Se?Se.innerText:null),Se=document.querySelector('[id*="breadcrumb-ol"], [class*="long-breadcrumb"]'),J("vvsViewCrumb",Se?Se.innerText:null),Se=document.querySelector('[class*="order-final-number"]'),J("vvsCartTotal",Se?Se.innerText:null),Se=document.querySelector('[class*="basket_total_price"]'),J("vvsViewBasketTotal",Se?Se.innerText:null),Se=document.querySelector('[id*="cart_quantity"], [class*="basket_length"]'),J("vvsViewBasketCount",Se?Se.innerText:null),Se=document.querySelector('[class*="welcome_username"]'),J("vvsViewLoggedin",!!Se&&Se.innerText.length>0),Se=document.querySelectorAll('[class*="vivense-showrooms"] > *'),J("vvsPDPShowroomCount",Se?Se.length:null),Se=document.querySelector('[class*="delivery-date"]'),J("vvsPDPDeliveryDate",Se?Se.innerText:null),J("vvsPDPDeliveryDateFormatted",pe(null===(z=Se)||void 0===z?void 0:z.innerText)),Se=document.querySelector('[class*="product-title"], [class*="header-bottom"]'),J("vvsPDPTitle",Se?Se.innerText:null),Se=document.querySelector('[class*="count-of-product"]'),J("vvsPLPItemCount",Se?Se.innerText:null),Se=document.querySelector('[class*="subcategories-title"]'),J("vvsPLPName",Se?Se.innerText:null)};function z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=new S("Nextday Utils"),Q={ocak:0,"şubat":1,mart:2,nisan:3,"mayıs":4,haziran:5,temmuz:6,"ağustos":7,"eylül":8,ekim:9,"kasım":10,"aralık":11};"randomUUID"in crypto||(crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))});var Y=function(){document.documentElement.classList.remove("nextDay-hide")},X=function(){var e=t(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=t(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K.log("Fetching treatment weights"),e.next=3,fetch(u);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},te=function(){var e=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=8+(n=9),t){e.next=5;break}return e.abrupt("return",-1);case 5:return e.next=7,ne(t);case 7:return a=e.sent,i=parseInt(a.substring(n,r),16),e.abrupt("return",i%100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=t(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,a=Array.from(new Uint8Array(r)),e.abrupt("return",a.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(e){var t=document.documentElement.scrollTop,n=setInterval((function(){var r=document.documentElement.scrollTop;t-400>r?(clearInterval(n),e()):t=r}),500)},oe=function(e,t){K.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],o=0,a=Object.entries(t);o<a.length;o++){var i=A(a[o],2),c=i[0],s=i[1];r.style[c]=s}},ae=function(){var e=t(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="https://host-b96.pages.dev/nd-styles.css",document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=t(o().mark((function e(t,n,r){var a,i,c,s,u,l,d,f,p,v,h,g,m,y,w,b,k,x,S,I,L;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.parse(JSON.stringify(n)),i=null,c=z(a),e.prev=3,c.s();case 5:if((s=c.n()).done){e.next=55;break}if(u=s.value,l=u.businessRuleTransformations,d=u.variants,l||d){e.next=10;break}return e.abrupt("continue",53);case 10:if(r&&l){f=z(l);try{for(f.s();!(p=f.n()).done;)if((v=p.value).id===r)for(h in v)"id"!==h&&(u[h]=v[h])}catch(e){f.e(e)}finally{f.f()}}if(!d){e.next=53;break}g=0,m=Object.keys(d);case 13:if(!(g<m.length)){e.next=53;break}return y=m[g],e.next=17,te(t+y);case 17:if(!(e.sent<u.variants[y].weight)){e.next=50;break}if(i=y,!r||!d[y].businessRuleTransformations){e.next=48;break}w=z(d[y].businessRuleTransformations),e.prev=22,w.s();case 24:if((b=w.n()).done){e.next=38;break}if((k=b.value).id!=r){e.next=36;break}x=0,S=Object.keys(k);case 28:if(!(x<S.length)){e.next=36;break}if("id"!==(I=S[x])){e.next=32;break}return e.abrupt("continue",33);case 32:u[I]=k[I];case 33:x++,e.next=28;break;case 36:e.next=24;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(22),w.e(e.t0);case 43:return e.prev=43,w.f(),e.finish(43);case 46:e.next=49;break;case 48:for(L in d[y])"weight"!==L&&"businessRuleTransformations"!==L&&(u[L]=d[y][L]);case 49:return e.abrupt("break",53);case 50:g++,e.next=13;break;case 53:e.next=5;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(3),c.e(e.t1);case 60:return e.prev=60,c.f(),e.finish(60);case 63:return e.abrupt("return",[a,i]);case 64:case"end":return e.stop()}}),e,null,[[3,57,60,63],[22,40,43,46]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ce=function(e,t,n){if("notExist"===t)return e?(K.failed("conditionChecker: -not satisfied- target does exist"),!1):(K.success("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return K.failed("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(K.success("conditionChecker: -satisfied- target does exist"),!0):(K.failed("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(K.success("conditionChecker: -satisfied- target contains value"),!0):(K.failed("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(K.failed("conditionChecker: -not satisfied- target contains value"),!1):(K.success("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(K.success("conditionChecker: -satisfied- target equals value"),!0):(K.failed("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(K.success("conditionChecker: -satisfied- target does not equal value"),!0):(K.failed("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(K.success("conditionChecker: -satisfied- target is greater than value"),!0):(K.failed("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(K.success("conditionChecker: -satisfied- target is less than value"),!0):(K.failed("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(K.success("conditionChecker: -satisfied- target is greater or equal than value"),!0):(K.failed("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(K.success("conditionChecker: -satisfied- target is less or equal than value"),!0):(K.failed("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=A(n.split(","),2),o=r[0],a=r[1];return o=parseInt(o),a=parseInt(a),e>=o&&e<=a?(K.success("conditionChecker: -satisfied- target is between min and max"),!0):(K.failed("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return K.failed("conditionChecker: condition is not defined ",t),!1}},se=function(){var e=w,t=b,n=window.location.search;if(n.includes("nd_debug=1"))return window.localStorage.setItem(e,1),window.localStorage.setItem(t,!0),J("dbm","on"),1;if(n.includes("nd_debug=2"))return window.localStorage.setItem(e,2),window.localStorage.setItem(t,!0),J("dbm","on"),2;if(n.includes("nd_debug=0"))return window.localStorage.removeItem(e),window.localStorage.setItem(t,!0),J("dbm","off"),0;var r=parseInt(window.localStorage.getItem(e));return J("dbm",r?"on":"off"),r||0},ue=function(){var e=t(o().mark((function e(){var t,n=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"_ga",e.abrupt("return",new Promise((function(e,n){var r=window.localStorage.getItem(k);if(r&&e(r),r=ee(document.cookie,t))window.localStorage.setItem(k,r),e(r);else{var o=setInterval((function(){(r=ee(document.cookie,t))&&(clearInterval(o),window.localStorage.setItem(k,r),e(r))}),10);setTimeout((function(){clearInterval(o),n(new Error("Could not extract cookie identifier"))}),1e3)}})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(e){return new Promise((function(t){return setTimeout(t,e)}))},de=function(){var e=m,t=[],n={operator:"PageType",condition:"equal",value:"Homepage"};if(E(n))return null;if(n.value="Listingpage",E(n))return Array.from(document.querySelectorAll(".product-card")).forEach((function(e){t.push(e.getAttribute("data-product-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(K.failed("Product SKUs not found on Listingpage"),null);if(n.value="Productpage",E(n)){var r,o,a,i=document.querySelector(".product-sku");return i?(t.push(i.getAttribute("data-sku")||(null===(r=i.textContent)||void 0===r||null===(o=r.trim())||void 0===o||null===(a=o.replace(/\)/g,""))||void 0===a?void 0:a.replace(/\(/g,""))),sessionStorage.setItem(e,JSON.stringify(t)),t):(K.failed("Product SKU not found on Productpage"),null)}return n.operator="path",n.value="/siparis-listesi.html",N(n)?(Array.from(document.querySelectorAll(".cart-inside")).forEach((function(e){t.push(e.getAttribute("data-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(K.failed("Product SKUs not found on basket page"),null)):(K.failed("Unidentified page type"),null)},fe=function(){return navigator.sendBeacon&&"function"==typeof navigator.sendBeacon},pe=function(e){if(!e||"string"!=typeof e)return e;var t={startMonthIndex:void 0,endMonthIndex:void 0,startDay:void 0,endDay:void 0},n=e.match("([\\d]+)-([\\d]+)\\s?([\\wıüğşöçİÖÇĞÜ]+)");if(n&&4===n.length)t.startDay=parseInt(n[1]),t.endDay=parseInt(n[2]),t.startMonthIndex=Q[n[3].toLowerCase()],t.endMonthIndex=t.startMonthIndex;else{if(!(n=e.match("([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜ]+)-([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜ]+)"))||5!==n.length)return e;t.startDay=parseInt(n[1]),t.startMonthIndex=Q[n[2].toLowerCase()],t.endDay=parseInt(n[3]),t.endMonthIndex=Q[n[4].toLowerCase()]}try{var r=new Date;if(!t.startMonthIndex||!t.endMonthIndex)return e;var o=t.startMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,a=t.endMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,i=new Date(o,t.startMonthIndex,t.startDay),c=new Date(a,t.endMonthIndex,t.endDay),s=Math.ceil(Math.abs(i-r)/864e5),u=Math.ceil(Math.abs(c-r)/864e5),l=s<7?0:Math.ceil(s/7),d=u<7?0:Math.ceil(u/7);return 0===l&&0===d?"".concat(s," - ").concat(u," Gün"):0===l&&d>=1?"".concat(s," Gün - ").concat(d," Hafta"):l===d?"".concat(l," Hafta"):"".concat(l," - ").concat(d," Hafta")}catch(t){return e}};function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(){function e(){i(this,e),this.logger=new S("Nextday Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentsHash=null,this.appliedTreatmentsChanges=!1,this.eligibleNotAppliedTreatmentsHash=null,this.eligibleNotAppliedTreatmentsChanges=!1,this.headers={type:"application/json"},this.isLogged=!1,this.initializeExitEventListeners()}var n,r,a;return s(e,[{key:"sendLogs",value:(a=t(o().mark((function e(){var t,n,r,a=this,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=i.length>1&&void 0!==i[1]&&i[1],(r=this.logger).log("Sending logs"),"complete"!==document.readyState?(r.log("Document ready state is not complete"),window.addEventListener("load",(function(){r.log("In onload event"),a.handleQueueLogs(a.packageLogData(t),n)}),!0)):this.handleQueueLogs(this.packageLogData(t),n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"handleQueueLogs",value:(r=t(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>1&&void 0!==r[1]&&r[1]||!this.isLogged){e.next=3;break}return e.abrupt("return");case 3:if(n=this.logger,t){e.next=7;break}return n.failed("Could not create request blob"),e.abrupt("return");case 7:return n.log("Request blob to send: ",t),this.queueLogs(t),this.isLogged=!0,e.next=12,ne(JSON.stringify(window.beagleInfoLayer.a));case 12:return this.appliedTreatmentsHash=e.sent,e.next=15,ne(JSON.stringify(window.beagleInfoLayer.e));case 15:this.eligibleNotAppliedTreatmentsHash=e.sent;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"updateLatestChanges",value:(n=t(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.log("Checking if there are changes"),e.next=4,ne(JSON.stringify(window.beagleInfoLayer.a));case 4:return t=e.sent,e.next=7,ne(JSON.stringify(window.beagleInfoLayer.e));case 7:n=e.sent,t!==this.appliedTreatmentsHash&&(this.appliedTreatmentsChanges=!0,this.appliedTreatmentsHash=t),n!==this.eligibleNotAppliedTreatmentsHash&&(this.eligibleNotAppliedTreatmentsChanges=!0,this.eligibleNotAppliedTreatmentsHash=n);case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"packageLogData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.headers,n=he({},window.beagleInfoLayer),r=e||(Object.keys(n.a||{}).length?"Treatments applied":"No treatments applied");return n.t=Date.now(),n.m=r,new Blob([JSON.stringify(n)],t)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.appliedTreatmentsChanges,n=this.eligibleNotAppliedTreatmentsChanges;if(!t&&!n)return!1;var r={t:Date.now(),a:t?window.beagleInfoLayer.a:{},e:n?window.beagleInfoLayer.e:{},vId:window.beagleInfoLayer.vId};return new Blob([JSON.stringify(r)],e)}},{key:"initializeExitEventListeners",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(e.isLogged){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0}),window.addEventListener("pagehide",(function(){if(e.isLogged){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger;if(fe()){var n=navigator.sendBeacon(l,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(l,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}else fetch(l,e)}}]),e}(),me=ge,ye=new S("Nextday Api"),we=function(){var e=t(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ye.log("Starting product info lookup"),t=de()){e.next=5;break}return ye.failed("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.prev=7,e.next=10,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),ye.warn("Fetch to catalog api failed"),e.abrupt("return",null);case 17:if(r.ok){e.next=20;break}return ye.failed("Product info lookup failed"),e.abrupt("return",null);case 20:return e.next=22,r.json();case 22:if(r=e.sent){e.next=26;break}return ye.failed("Product info extraction from response failed"),e.abrupt("return",null);case 26:return ye.success("Product info lookup successful"),e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}();function be(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";var r=e.indexOf(t);if(r<0)return e;for(;e.indexOf(t)>=0;){var o=e.indexOf(t);e=(o>0?e.substring(0,o):"")+n+e.substring(o+t.length)}return e};function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(){return Ie=t(o().mark((function e(n,r){var a,i,c,s,u,l,f,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new S("Nextday Apply Actions"),i=g,c=function(e){a.log("Applying action: ",JSON.stringify(e));var t=e.operator,n=e.type,o=e.applyEvent,c=e.contentSelector,u=e.selector,v=e.selectorFallback,h=e.mdCondition,g=e.move_selector_1,m=e.move_selector_2,y=e.replaceFn;if("noop"!==t){var w=e.value,b=$(u);if(h&&!window.matchMedia(h).matches)return a.failed("Media condition mismatch: ",h),!1;if(g&&!m||m&&!g)return a.failed("Both move selectors are required"),!1;if(g&&m){if(!$(g).length)return a.failed("Move selector 1 not found: ",g),!1;if(!$(m).length)return a.failed("Move selector 2 not found: ",m),!1}else{if(!u)return a.failed("Selector not specified"),!1;if(!b.length){if(!$(v).length&&"remove"===t)return;if("no-selector"!==u&&(a.failed("Selector not found: ",u),a.log("Trying fallback selector: ",v),v&&(b=$(v)),!b.length))return a.failed("Fallback selector not found"),!1}}var k=function(e,t){if(e&&t.includes("{{REPLACE}}")){a.log("Executing replace function: ",e);var n={dataLayerFinder:P,productInfo:r},o=Function(e).bind(n);t=ke(t,"{{REPLACE}}",o())}return t};if(Array.isArray(w)?w.forEach((function(e,t){var n=y?y[t]||y:"";w[t]=k(n,e)})):w=k(y,w),"remove"===t)b&&(a.log("Removing: ",u),b.remove()),a.log("Cannot found element with selector: ",u);else if("insert"===t)switch(n){case"before":a.log("Inserting before: ",w),String(w).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),b.before(w);break;case"after":a.log("Inserting after: ",w),b.after(w);break;case"popup":if(0!==parseInt(sessionStorage.getItem(i))){a.log("Popup already displayed in session");break}if(a.log("Creating Popup: ",w),f(w,c),o){var x,S=window.matchMedia(d).matches,I=xe(o);try{for(I.s();!(x=I.n()).done;)switch(x.value){case"exitIntent":a.log("Adding exit intent listener"),S?re(l):document.documentElement.addEventListener("mouseleave",l,{once:!0});break;case"copyIntent":a.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",l,{once:!0})}}catch(e){I.e(e)}finally{I.f()}}else setTimeout((function(){l()}),timeout)}else if("edit"===t)switch(n){case"text":a.log("Editing text: ",w),b.text(w);break;case"html":a.log("Editing html: ",w),b.html(w);break;case"styleApplicator":a.log("Applying style: ",w);var L=JSON.parse(w);a.log("Style Changes Map: ",L),oe(b,L);break;case"addClass":a.log("addding class to ".concat(b," named ").concat(w)),b.addClass(w);break;case"removeClass":a.log("remove class from ".concat(b," named ").concat(w)),b.removeClass(w);break;case"documentTitle":if(a.log("changing document title from ".concat(b," to ").concat(w)),o){var O,A=xe(o);try{for(A.s();!(O=A.n()).done;)"tabChange"==O.value&&function(){a.log("catching event tabchange..");var e=document.title;document.addEventListener("visibilitychange",(function(t){return s(t,w,e)}))}()}catch(e){A.e(e)}finally{A.f()}}break;case"addBanner":if(!r){a.failed("Product info unavailable");break}a.log("Adding banner: ",w);var C=JSON.parse(sessionStorage.getItem("ND_SkuList"))[0];if(!C){a.failed("Could not find product sku");break}Object.keys(r).includes(C)&&b.before(w);break;default:a.log("Unknown edit type: ",n)}else if("setattribute"===t)switch(a.log("Setting attribute: ",attribute,w),attribute){case"src":b.css("content","url(".concat(w.trim(),")"));break;case"style":var T=w.split(":")[0].trim(),E=w.split(":")[1].trim();b.css(T,E,"!important")}else if("replace"===t)a.log("Replacing: ",w),b.replaceAll(w);else if("swap"===t){a.log("Swapping: ",g,m);var _=document.querySelector(g),N=document.querySelector(m);p(_,N)}else if("injectscript"===t)a.log("Injecting script: ",w),b.append("<script>".concat(w,"<\/script>"));else if("move"===t){a.log("Moving ".concat(g," to ").concat(m));var j=document.querySelector(g),D=document.querySelector(m);j.remove(),D.prepend(j)}else a.failed("No such operator exists yet",t)}else a.failed("Noop Operator: No operation is applied on target ")},s=function(){var e=t(o().mark((function e(t,n,r){var a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Array.isArray(n)?n:[n],i=0;case 2:if(!(i<a.length)){e.next=16;break}if(!document.hidden){e.next=12;break}return document.title=a[i],e.next=7,le(3e3);case 7:return document.title=r,e.next=10,le(3e3);case 10:e.next=13;break;case 12:document.title=r;case 13:i++,e.next=2;break;case 16:if(document.hidden){e.next=21;break}return document.title=r,e.abrupt("return");case 21:s(t,n,r);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),u=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0))},l=function e(){sessionStorage.setItem(i,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",u,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",u,!0)}),15e3)},f=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",u,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var i=a.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},p=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var c=0;c<a.children.length;c++)a.children[c].isEqualNode(t)&&(r=c);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},v=function e(t){if(window.jQuery){var n,r=xe(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;try{if(!1===c(o))return!1}catch(e){return a.failed("Couldn't apply action ".concat(o," with error ").concat(e.message)),e}}}catch(e){r.e(e)}finally{r.f()}}else setTimeout((function(){e(t)}),10)},e.abrupt("return",v(n));case 10:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}var Le=function(e,t){return Ie.apply(this,arguments)};function Oe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=new S("Nextday Treatment Repository"),Te=function(){function e(t){i(this,e);var n=t.treatments,r=t.treatmentWeights;this.treatments=n,this.treatmentWeights=r}var n,r;return s(e,[{key:"getMatchedTreatments",value:function(){var e=this.treatmentWeights,t=this.getUserGroup(),n=this.treatments;if(e){var r,o=t&&e[t]?e[t]:e.default,a=Oe(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(o[i.id]&&(i.weight=o[i.id].weight,i.actions.find((function(e){return e.variants})))){var c,s=Oe(i.actions);try{for(s.s();!(c=s.n()).done;){var u=c.value;if(u.variants)for(var l=0,d=Object.keys(u.variants);l<d.length;l++){var f,p,v,h=d[l];null!==(f=o[i.id])&&void 0!==f&&f.variants&&null!==(p=o[i.id])&&void 0!==p&&p.variants[h]&&(u.variants[h].weight=null===(v=o[i.id])||void 0===v?void 0:v.variants[h])}}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){a.e(e)}finally{a.f()}}return Ce.log("".concat(n.length," treatments user group matched")),n.length?n:[]}},{key:"getUserGroup",value:function(){return window.matchMedia(d).matches?"UGB":"UGA"}}],[{key:"getTreatments",value:(r=t(o().mark((function e(){var t,n,r,a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,a=null==n?void 0:n.timestamp,r&&a){e.next=13;break}return Ce.failed("Treatments not found in local storage"),e.next=9,X();case 9:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 13:if(!a){e.next=23;break}if(!((Date.now()-a)/864e5>1)){e.next=23;break}return Ce.failed("Treatments are expired"),e.next=19,X();case 19:return r=e.sent,c={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(c)),e.abrupt("return",r);case 23:return Ce.success("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"getTreatmentWeights",value:(n=t(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),Ce.warn(e.t0.message),this.treatmentWeights=null;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return n.apply(this,arguments)})}]),e}(),Ee=Te,Pe=new S("Nextday Counter Checker"),_e=function(e){Pe.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return je(n,r);case"CABasketPrice":return De(n,r);default:return Pe.failed("No such operator",t),!1}},Ne=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return Pe.failed("No such type",t),null}}catch(t){return Pe.failed("Could not get counter ".concat(e),t),null}},je=function(e,t){var n=parseInt(Ne(h,"session"));return Pe.log("Page views counter value: ",n),null===n?(Pe.failed("Pageviews counter not found in session storage"),!1):ce(n,e,parseInt(t))},De=function(e,t){var n=parseInt(Ne(y,"local"));return Pe.log("Coupon applicable basket price counter value: ",n),null===n?(Pe.failed("Coupon applicable basket price counter not found in local storage"),!1):ce(n,e,parseInt(t))},Re=new S("Nextday Element Checker"),qe=function(e){Re.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,c=e.selectorFallback,s=void 0===c?null:c,u=a;if(u&&!document.querySelector(u)&&(u=s||u),null===n)return ce(document.querySelector(u),r,o);if(u&&!document.querySelector(u))return Re.failed("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return Re.failed("Selector not found on page"),!1;switch(u?t=document.querySelector(u):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var l;l=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(u).textContent.replace("TL","").replace(".",""));var d=parseInt(l);return ce(d,r,o);case"classList":return ce(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return ce(f,r,o);case"style":var p=getComputedStyle(t),v=o.split(":")[0].trim(),h=o.split(":")[1].trim(),g=p[v];return ce(g,r,h);default:return Re.failed("Operator not defined"),!1}},Me=new S("Nextday Function Checker"),Ue=function(e,t){Me.log("Checking rule",JSON.stringify(e));var n=t.productInfo,r=e.operator,o=e.condition,a=e.value,i=e.bindings;if(!r)return Me.failed("Rule function not defined"),!1;var c={};"productInfo"==i&&(c={productInfo:n});var s=Function(r).bind(c)();return ce(s,o,a)},Ve=new S("Nextday Session Checker"),Fe=function(e){Ve.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"duration":return Be(n,r);case"history":return Je(n,r);default:return null}},Be=function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(window.sessionStorage.getItem(p)))}catch(e){return Ve.failed("Could not get session timestamp",e),Date.now()}}())/1e3;return ce(n,e,parseInt(t))},Je=function(e,t){var n,r=null===(n=window.sessionStorage.getItem(v))||void 0===n?void 0:n.split(",");return ce(r,e,t)},Ge=new S("Nextday Env Checker"),He=function(e){Ge.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(d).matches?"mobile":"desktop";return ce(o,n,r)}},$e=new S("Nextday RandomPct Checker"),ze=function(){var e=t(o().mark((function e(t){var n,r,a,i,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($e.log("Checking rule",JSON.stringify(t)),n=t.condition,r=t.value,a=t.salt){e.next=5;break}return $e.failed("Salt is not defined"),e.abrupt("return",!1);case 5:return e.next=7,ue();case 7:return i=e.sent,e.next=10,te(i+a);case 10:return c=e.sent,s=c,e.abrupt("return",ce(s,n,r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function We(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qe=new S("Nextday Rule Engine"),Ye=function(){function e(t){i(this,e);var n=t.baseRuleSet,r=t.businessRuleSet,o=t.bindings,a=t.callback,c=void 0===a?null:a;this.baseRuleSet=n,this.businessRuleSet=r,this.callback=c,this.bindings=o}var n,r,a;return s(e,[{key:"checkRules",value:(a=t(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=We(this.baseRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return a.apply(this,arguments)})},{key:"checkBusinessRules",value:(r=t(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=We(this.businessRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.businessRuleId);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return r.apply(this,arguments)})},{key:"checkRule",value:(n=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.chain,r=t.chain_condition,a=t.type,i=null,e.t0=a,e.next="session"===e.t0?5:"counter"===e.t0?7:"element"===e.t0?9:"dataLayer"===e.t0?11:"url"===e.t0?13:"function"===e.t0?15:"environment"===e.t0?17:"random"===e.t0?19:23;break;case 5:return i=Fe(t),e.abrupt("break",25);case 7:return i=_e(t),e.abrupt("break",25);case 9:return i=qe(t),e.abrupt("break",25);case 11:return i=E(t),e.abrupt("break",25);case 13:return i=N(t),e.abrupt("break",25);case 15:return i=Ue(t,this.bindings),e.abrupt("break",25);case 17:return i=He(t),e.abrupt("break",25);case 19:return e.next=21,ze(t);case 21:return i=e.sent,e.abrupt("break",25);case 23:return Qe.failed("No such rule type: ".concat(a)),e.abrupt("return",null);case 25:if(!n){e.next=51;break}e.t1=r,e.next="and"===e.t1?29:"or"===e.t1?36:"xor"===e.t1?43:49;break;case 29:if(e.t2=i,!e.t2){e.next=34;break}return e.next=33,this.checkRule(n);case 33:e.t2=e.sent;case 34:return i=e.t2,e.abrupt("break",51);case 36:if(e.t3=i,e.t3){e.next=41;break}return e.next=40,this.checkRule(n);case 40:e.t3=e.sent;case 41:return i=e.t3,e.abrupt("break",51);case 43:return e.t4=i,e.next=46,this.checkRule(n);case 46:return e.t5=e.sent,i=e.t4!=e.t5,e.abrupt("break",51);case 49:return Qe.failed("No such chain condition"),e.abrupt("break",51);case 51:return e.abrupt("return",i);case 52:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}();function Xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var et=new S("BeagleOnComponent"),tt=function(){var e=t(o().mark((function e(n,r,a,i){var c,s,u,l,m,w,b,k,x,S,I,L,O,C,T,E,P,_,N,j,D,R,q,M,V;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V=function(){var e=y;if(window.location.href.includes("/siparis-listesi.html")){var t=Array.from(document.querySelectorAll(".price"));if(t.push.apply(t,be(Array.from(document.querySelectorAll(".new-price")))),!t.length)return et.failed("Price elements not found"),void window.localStorage.setItem(e,0);et.log("Price elements: ",t);var n=t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);et.log("Coupon applicable total price: ",n),n>=0&&window.localStorage.setItem(e,n)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)},M=function(){return M=t(o().mark((function e(t){var r,a,c,u,l,d,f,p,v,h,g,y,w,b,k,x,S,I,L,C,P,_,N,j,D;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,a=t.actions,c=t.baseRuleSet,u=t.device,l=t.dependant_on_treatment,d=t.reapply_event,f=t.businessRuleSet,p=t.weight,v=t.delay,!s||s.includes(r)){e.next=3;break}return e.abrupt("return");case 3:if("mobile"!==u||m){e.next=6;break}return et.failed("Treatment device 'mobile' mismatch"),e.abrupt("return");case 6:if("desktop"!==u||!m){e.next=9;break}return et.failed("Treatment device 'desktop' mismatch"),e.abrupt("return");case 9:if(d){h=d,Array.isArray(d)||(h=[d]),et.log("Reapply event '".concat(d,"' found for treatment: ").concat(r)),g=Xe(h);try{for(g.s();!(y=g.n()).done;)w=y.value,(b=E[w]?E[w]:[]).includes(r)?et.log("Treatment already added for reapply event"):E[w]=[].concat(be(b),[r])}catch(e){g.e(e)}finally{g.f()}}if(k=new Ye({baseRuleSet:c,businessRuleSet:f,bindings:{productInfo:O}}),et.log("Starting base rule set check for treatment: "+r),e.t0=!c,e.t0){e.next=18;break}return e.next=17,k.checkRules();case 17:e.t0=e.sent;case 18:if(!e.t0){e.next=60;break}if(x=100===p?0:100-p||50,l&&(I=null===(S=T.find((function(e){return e.id===l})))||void 0===S?void 0:S.weight,x=100===I?0:100-I||50),et.log("Treatment skip ratio: "+x),L=l||r,1!==i){e.next=27;break}e.t1=100,e.next=30;break;case 27:return e.next=29,te(n+L);case 29:e.t1=e.sent;case 30:if(C=e.t1,et.log("TreatmentPct: "+C+" with debug mode ".concat(i?"on":"off")),P=null,!f){e.next=39;break}return et.log("Starting sub variant rule set check for treatment: "+r),e.next=37,k.checkBusinessRules();case 37:(P=e.sent)?et.log("Applying business rule transformation with id: ",P):et.log("Applying treatment with default values");case 39:if(!(C<x)){e.next=43;break}return et.log("Treatment ".concat(r," skipped due to treatment split ratio")),G(r,P,D,"skipped",l),e.abrupt("return");case 43:return e.next=45,ie(n,a,P);case 45:if(_=e.sent,N=A(_,2),j=N[0],D=N[1],!v){e.next=52;break}return e.next=52,v(v);case 52:return e.next=54,Le(j,O);case 54:if(!1!==e.sent){e.next=58;break}return G(r,P,D,"failed"),e.abrupt("return");case 58:return G(r,P,D,"applied"),e.abrupt("return");case 60:et.failed("Rule check failed for treatment: ",r);case 61:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)},q=function(e){return M.apply(this,arguments)},r.sendLogs(),c=window.location.search,s=i&&c.includes("filter=")?c.slice(c.indexOf("[")+1,c.lastIndexOf("]")).split(",").map((function(e){return parseInt(e,10)})):null,ae(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,F=h,J=g,H=f,$=p,z=v,W=sessionStorage.getItem(F),K=sessionStorage.getItem(J),Q=sessionStorage.getItem(H),X=sessionStorage.getItem($),Z=sessionStorage.getItem(z),W?sessionStorage.setItem(F,parseInt(W)+1):sessionStorage.setItem(F,1),null===K&&sessionStorage.setItem(J,0),Q||sessionStorage.setItem(H,crypto.randomUUID()),X||sessionStorage.setItem($,Date.now()),Z?sessionStorage.setItem(z,[window.location.pathname,Z]):sessionStorage.setItem(z,[window.location.pathname]),setTimeout((function(){Y()}),2e3),u=Ee.getTreatments(),l=Ee.getTreatmentWeights(),m=window.matchMedia(d).matches,w={subtree:!0,childList:!0,attributes:!0},V(),window.location.href.includes("/siparis-listesi.html")&&(b=new MutationObserver((function(){et.log("Mutation observed, calling collectCABasketPrice"),V()})),(k=document.querySelector("#checkoutForm"))&&b.observe(k,w)),e.next=17,Promise.all([u,l,a]);case 17:if(x=e.sent,S=A(x,3),I=S[0],L=S[1],O=S[2],et.success("Found treatments: ",I),C=new Ee({treatments:I,treatmentWeights:L}),B(U.TreatmentRepositoryCreated),(T=C.getMatchedTreatments()).length){e.next=30;break}return et.log("No treatments matched, returning without further action"),Y(),e.abrupt("return");case 30:E={},P=Xe(T),e.prev=32,P.s();case 34:if((_=P.n()).done){e.next=46;break}return N=_.value,e.prev=36,e.next=39,q(N);case 39:e.next=44;break;case 41:e.prev=41,e.t0=e.catch(36),et.failed("Error executing rules",e.t0);case 44:e.next=34;break;case 46:e.next=51;break;case 48:e.prev=48,e.t1=e.catch(32),P.e(e.t1);case 51:return e.prev=51,P.f(),e.finish(51);case 54:for(Y(),B(U.TreatmentsApplied),et.success("Applied treatments: ",window.beagleInfoLayer.a),setInterval((function(){r.updateLatestChanges()}),1e3),j=function(){var e=R[D],t=E[e],n=T.filter((function(e){return t.includes(e.id)}));switch(e){case"infinite_scroll":var r=new ResizeObserver((function(){var e,t=Xe(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;et.log("Retrying treatment ".concat(r.id," from infinite_scroll")),q(r)}}catch(e){t.e(e)}finally{t.f()}}));r.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,t=Xe(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;et.log("Retrying treatment ".concat(r.id," from timeout")),q(r)}}catch(e){t.e(e)}finally{t.f()}}),500);break;case"element_change":var o,a=Xe(n);try{var i=function(){var e,t=o.value,n=Xe(Array.isArray(t.reapply_selector)?t.reapply_selector:[t.reapply_selector]);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=document.querySelector(r);a&&new MutationObserver((function(){et.log("Retrying treatment ".concat(t.id," from element_change")),q(t)})).observe(a,w)}}catch(e){n.e(e)}finally{n.f()}};for(a.s();!(o=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}break;case"on_scroll":window.onscroll=function(){var e,t=Xe(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;et.log("Retrying treatment ".concat(r.id," from on_scroll")),q(r)}}catch(e){t.e(e)}finally{t.f()}};break;case"query_search_change":var c=window.location.search,s=new MutationObserver((function(){if(window.location.search!==c){c=window.location.search;var e,t=Xe(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;et.log("Retrying treatment ".concat(r.id," from query_search_change")),q(r)}}catch(e){t.e(e)}finally{t.f()}}}));s.observe(document,w);break;default:et.failed("Reapply event not found: ",e)}},D=0,R=Object.keys(E);D<R.length;D++)j();B(U.ReapplyTreatmentListeners);case 61:case"end":return e.stop()}var F,J,H,$,z,W,K,Q,X,Z}),e,null,[[32,48,51,54],[36,41]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),nt=tt;t(o().mark((function e(){var t,n,r,a,i,c,s,u,l,d,f,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(U.BeagleLoaded),t=null,n=null,r=new S,a="ND_TimeoutCount",i=0,r.info("Nextday initializing"),e.prev=7,e.next=10,F();case 10:return s=we(),u=se(),t=new me,B(U.Initialized),e.next=16,ue();case 16:return l=e.sent,r.log("Found cookie identifier: ",l),e.next=20,te(l);case 20:if(d=e.sent,u){e.next=40;break}if(!(d<50)){e.next=29;break}if(-1!==d){e.next=25;break}throw new Error("Could not determine cookie pct");case 25:J("isOn",n=!1),e.next=31;break;case 29:J("isOn",n=!0);case 31:if(B(U.UserOnOff),fe()){e.next=34;break}throw new Error("sendBeacon is not supported");case 34:if(!((i=parseInt(sessionStorage.getItem(a))||0)>1)){e.next=38;break}throw B(U.TimeoutThresholdReached),new Error("Nextday timeout threshold reached");case 38:e.next=42;break;case 40:r.info("Debug mode on: all applicable treatments will be applied"),window.localStorage.setItem(b,!0);case 42:if(document.documentElement.classList.contains("nextDay-hide")){e.next=46;break}throw B(U.ScriptTimeOut),sessionStorage.setItem(a,i+1),new Error("Nextday script timed out");case 46:if(null!==(c=window.beagleInfoLayer)&&void 0!==c&&c.vvsIsShowroom&&window.localStorage.setItem(b,!0),"true"===window.localStorage.getItem(b)?(r.warn("User is out of scope"),null!="isOn"&&delete window.beagleInfoLayer.isOn):(window.dataLayer=window.dataLayer||[],!0===(null===(f=window.beagleInfoLayer)||void 0===f?void 0:f.isOn)?window.dataLayer.push({event:"GLOV",GLOV_ON:"true"}):!1===(null===(p=window.beagleInfoLayer)||void 0===p?void 0:p.isOn)&&window.dataLayer.push({event:"GLOV",GLOV_ON:"false"})),!1!==n){e.next=51;break}throw new Error("Control group: no treatments applied");case 51:r.log("Found cookie percentage: ",d),r.log("Split_ratio: ",50),r.log("cookiePct < SPLIT_RATIO",d<50),r.info("Control group ratio: ".concat(50,"%")),nt(l,t,s,u),e.next=63;break;case 58:e.prev=58,e.t0=e.catch(7),Y(),console.warn("Nextday: ",e.t0.message),t.sendLogs(e.t0.message,!0);case 63:case"end":return e.stop()}}),e,null,[[7,58]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWEyUyxRQUFRL1MsR0FBaUMsR0FLMUMsU0FEQVAsT0FBT1csYUFBYUMsUUFBUUwsSUFFL0MrQixFQUFPbkIsS0FBSyx3Qm5CTVpwTCxNbUJMMEIsZW5CTXZCaUssT0FBTytDLGdCQUFQLE9tQkpIL0MsT0FBT21ELFVBQVluRCxPQUFPbUQsV0FBYSxJQUNGLEtBQWpDLFVBQUFuRCxPQUFPK0MsdUJBQVAsZUFBd0I2ZixNQUMxQjVpQixPQUFPbUQsVUFBVXJJLEtBQUssQ0FBQ3lmLE1BQU8sT0FBUTJJLFFBQVMsVUFDTCxLQUFqQyxVQUFBbGpCLE9BQU8rQyx1QkFBUCxlQUF3QjZmLE9BQ2pDNWlCLE9BQU9tRCxVQUFVckksS0FBSyxDQUFDeWYsTUFBTyxPQUFRMkksUUFBUyxZQUl0QyxJQUFUTixFQXpFUCx1QkF5RTZCLElBQUlyckIsTUFBTSx3Q0F6RXZDLFFBMkVHK0ssRUFBT3hCLElBQUksNEJBQTZCaWlCLEdBQ3hDemdCLEVBQU94QixJQUFJLGdCOUIxRlksSThCMkZ2QndCLEVBQU94QixJQUFJLDBCQUEyQmlpQixFOUIzRmYsSThCNEZ2QnpnQixFQUFPcEksS0FBUCwrQjlCNUZ1QixHOEI0RnZCLE1BRUFxbEIsR0FBU3pQLEVBQVkwUCxFQUFTQyxFQUFvQkMsR0FoRnJELGtEQWtGR3hRLElBQ0FyTyxRQUFRTSxLQUFLLFlBQWEsS0FBSWtFLFNBQzlCbWEsRUFBUXdCLFNBQVMsS0FBSTNiLFNBQVMsR0FwRmpDLHlEQUFELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlMaWtlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aEhvbGVzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5TGltaXQuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVJlc3QuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvdXJsQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL0JlYWdsZUluZm9MYXllci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheU1vbml0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBpL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvc3RyaW5nVXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBwbHlBY3Rpb25zL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVRyZWF0bWVudFJlcG9zaXRvcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9jb3VudGVyQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2VsZW1lbnRDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZnVuY3Rpb25DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvc2Vzc2lvbkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9lbnZDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvcmFuZG9tTnVtYmVyQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQmVhZ2xlT24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5Q2xpZW50U0RLL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIGRlZmluZShHcCwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gIGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbik7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKFxuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sLFxuICAgIFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICApO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKTtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICBkZWZpbmUoR3AsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIGluIG1vZGVybiBlbmdpbmVzXG4gIC8vIHdlIGNhbiBleHBsaWNpdGx5IGFjY2VzcyBnbG9iYWxUaGlzLiBJbiBvbGRlciBlbmdpbmVzIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGdsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgfSBlbHNlIHtcbiAgICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZTsgfTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBfdHlwZW9mKG9iaik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn0iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbmV4cG9ydCBjb25zdCBDT09LSUVfTkFNRSA9IFwiX2dhXCI7XG4vLyBUT0RPIHJldmVydCB0aGUgZm9sbG93aW5nIHN0YWdpbmcgZW52IGNoZWNrIGFmdGVyIG1vdmluZyB0byBuZXcgYnJhbmNoIHN0cnVjdHVyZVxuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVFNfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L3RyZWF0bWVudHMuanNvblwiO1xuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OID0gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJzdGFnaW5nLnZpdmVuc2VcIikgPyBcImh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvd2VpZ2h0c19zdGFnaW5nLmpzb25cIiA6IFwiaHR0cHM6Ly9uZHZpdmVuc2UuZ2xvdi5haS93ZWlnaHRzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBTVFlMRVNIRUVUX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi9uZC1zdHlsZXMuY3NzXCI7XG5leHBvcnQgY29uc3QgTE9HX0FQSV9VUkwgPSBcImh0dHBzOi8vZXVyb3BlLXdlc3QzLW5leHRkYXktMzRlYjMuY2xvdWRmdW5jdGlvbnMubmV0L2FwaS9sb2dSZXNwb25zZVwiO1xuZXhwb3J0IGNvbnN0IExPT0tVUF9BUElfVVJMID0gXCJodHRwczovL2NhdGFsb2ctYXBpLmFkb3JhYWkuY29tXCI7XG5leHBvcnQgY29uc3QgTU9CSUxFX01FRElBX1FVRVJZID0gXCIobWF4LXdpZHRoOiA0NDBweClcIjtcbi8vIENvbnRyb2wgZ3JvdXAgcGVyY2VudGFnZVxuZXhwb3J0IGNvbnN0IFNQTElUX1JBVElPID0gNTA7XG4vLyBTa2lwcGVkIHRyZWF0bWVudCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UX1JBVElPID0gNTA7XG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19EVVJBVElPTiA9IDE7XG5leHBvcnQgY29uc3QgTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04gPSAxO1xuXG5cbmV4cG9ydCBjb25zdCBTRVNTSU9OX1NUT1JBR0VfS0VZUyA9IHtcbiAgU0VTU0lPTl9JRDogXCJfX25leHRkYXlfc2Vzc2lvbl9pZFwiLFxuICBTRVNTSU9OX1RJTUVTVEFNUDogXCJORF9TZXNzaW9uVGltZXN0YW1wXCIsXG4gIFNFU1NJT05fSElTVE9SWTogXCJCTl9TZXNzaW9uSGlzdG9yeVwiLFxuICBUUkVBVE1FTlRTOiBcIk5EX1RyZWF0bWVudHNcIixcbiAgUEFHRV9WSUVXUzogXCJORF9QYWdlVmlld3NcIixcbiAgUE9QVVBfRElTUExBWV9GTEFHOiBcIk5EX1BvcHVwRGlzcGxheUZsYWdcIixcbiAgTkRfU0tVX0xJU1Q6IFwiTkRfU2t1TGlzdFwiLFxuICBUSU1FT1VUX0NPVU5UOiBcIk5EX1RpbWVvdXRDb3VudFwiLFxufTtcbmV4cG9ydCBjb25zdCBMT0NBTF9TVE9SQUdFX0tFWVMgPSB7XG4gIENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRTogXCJORF9DQUJhc2tldFByaWNlXCIsXG4gIE5EX0RFQlVHX01PREU6IFwiTkRfRGVidWdcIixcbiAgT1VUX09GX1NDT1BFOiBcIk5EX091dE9mU2NvcGVcIixcbiAgVVNFUl9JRDogXCJORF9Vc2VySWRcIixcbn07XG4iLCJpbXBvcnQge0xPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5jbGFzcyBMb2dnZXIge1xuICBjb25zdHJ1Y3RvcihvcmlnaW4gPSBcIk5leHRkYXkgQ2xpZW50IFNES1wiKSB7XG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgdGhpcy5ERUJVRyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSk7XG4gIH1cblxuICBpbmZvKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5pbmZvKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmIChERUJVRykge1xuICAgICAgY29uc29sZS5sb2coYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgZmFpbGVkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGFyZ3MuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBpdGVtID09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGl0ZW0gPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBcIlxceDFiWzMxbSVzXFx4MWJbMG1cIiArIEpTT04uc3RyaW5naWZ5KGl0ZW0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gXCJcXHgxYlszMW0lc1xceDFiWzBtXCIgKyBpdGVtLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gICAgaWYgKERFQlVHKSB7XG4gICAgICBjb25zb2xlLmxvZyhgXFx4MWJbMzFtJXNcXHgxYlswbSBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHN1Y2Nlc3MoLi4uYXJncykge1xuICAgIGNvbnN0IHtERUJVRywgb3JpZ2lufSA9IHRoaXM7XG4gICAgYXJncy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGl0ZW0gPT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgaXRlbSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiXFx4MWJbMzFtJXNcXHgxYlswbVwiICsgSlNPTi5zdHJpbmdpZnkoaXRlbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBcIlxceDFiWzMxbSVzXFx4MWJbMG1cIiArIGl0ZW0udG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgICBpZiAoREVCVUcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBcXHgxYlszMm0lc1xceDFiWzBtWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICB3YXJuKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS53YXJuKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgZXJyb3IoLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLmVycm9yKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2dlcjtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufSIsImltcG9ydCBhcnJheVdpdGhIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheUxpbWl0IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVJlc3QgZnJvbSBcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IG5vbkl0ZXJhYmxlUmVzdCgpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBEYXRhTGF5ZXIgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRGF0YUxheWVyUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gZGF0YUxheWVyRmluZGVyKG9wZXJhdG9yKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkYXRhTGF5ZXJGaW5kZXIgPSAoa2V5KSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTZWFyY2hpbmcgYmVhZ2xlSW5mb0xheWVyIGZvciBrZXkgXCIsIGtleSk7XG4gIGxldCByZXMgPSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyW2tleV07XG4gIGlmIChrZXkuaW5jbHVkZXMoXCIuXCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoXCIuXCIpO1xuICAgICAgcmVzID0gd2luZG93LmJlYWdsZUluZm9MYXllcltrZXlzWzBdXTtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXMgPSByZXNba2V5c1tpXV07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKGBDb3VsZG4ndCBleHRyYWN0IGtleSAke2tleX0gZnJvbSBiZWFnbGVJbmZvTGF5ZXJgKTtcbiAgICAgIHJlcyA9IG51bGw7XG4gICAgfVxuICB9XG4gIGlmIChyZXMpIHtcbiAgICBsb2dnZXIuc3VjY2VzcyhgRm91bmQga2V5ICR7a2V5fSB3aXRoIHZhbHVlICR7cmVzfWApO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgbG9nZ2VyLmZhaWxlZChgS2V5ICR7a2V5fSBub3QgZm91bmQgaW4gYmVhZ2xlSW5mb0xheWVyYCk7XG5cbiAgbG9nZ2VyLmxvZyhcIlNlYXJjaGluZyBkYXRhTGF5ZXIgZm9yIGtleSBcIiwga2V5KTtcbiAgZm9yIChjb25zdCBvYmogb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGlmIChrZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIGxvZ2dlci5zdWNjZXNzKGBGb3VuZCBrZXkgJHtrZXl9IHdpdGggdmFsdWUgJHtvYmpba2V5XX1gKTtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9XG4gIH1cbiAgbG9nZ2VyLmZhaWxlZChgS2V5ICR7a2V5fSBub3QgZm91bmQgaW4gZGF0YUxheWVyYCk7XG4gIHJldHVybiBudWxsO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFVybCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tVcmxSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwicGF0aFwiOiB7XG4gICAgICBjb25zdCByZXF1ZXN0VVJMPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgIGNvbnN0IGlzQWpheCA9IHJlcXVlc3RVUkwuaW5jbHVkZXMoXCJhamF4L21vYmlsZS1zZWFyY2gvbG9hZE90aGVyUGFnZXMucGhwXCIpO1xuICAgICAgY29uc3QgcGF0aCA9ICFpc0FqYXggPyBuZXcgVVJMKHJlcXVlc3RVUkwpLnBhdGhuYW1lIDpcbiAgICAgIGRlY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgICBuZXcgVVJMKHJlcXVlc3RVUkwpLnNlYXJjaC5yZXBsYWNlKFwiP29yaWdpbmFsUGF0aD1cIiwgXCJcIiksXG4gICAgICApO1xuICAgICAgbG9nZ2VyLmxvZyhgQ2hlY2tpbmcgcGF0aCAke3BhdGh9IG1hdGNoZXMgcnVsZSBwYXRoICR7dmFsdWV9YCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYXRoLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQge2RlbGF5LCBleHRyYWN0Q29va2llSWRlbnRpZmllciwgZm9ybWF0RGVsaXZlcnlEYXRlfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFNQTElUX1JBVElPfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxud2luZG93LmJlYWdsZUluZm9MYXllciA9IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgfHwge2NoZWNrcG9pbnRzOiBbXSxcbiAgYToge30sIGU6IHt9LCBmOiB7fX07XG5cbmNvbnN0IHBhcnNpbmdSZWdleCA9IHtcbiAgUGFnZVR5cGU6IC8oPzpQYWdlVHlwZSdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIGNvbnRlbnRfbmFtZTogLyg/OmNvbnRlbnRfbmFtZVsgXSo6WyBdKlwiKSguKikoPzpcIikvLFxuICBjb250ZW50X25hbWVfYWx0OiAvKD86Y29udGVudF9uYW1lJ1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgdnZzU2NyR0FQYWdlVHlwZTogLyg/OlBhZ2VUeXBlJ1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgdnZzU2NyR0FPcmRlcklkOiAvKD86cHVyY2hhc2VbXFxzXFxTXSphY3Rpb25GaWVsZFtcXHNcXFNdKidpZCdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIHZ2c1NjckdBT3JkZXJSZXY6IC8oPzpwdXJjaGFzZVtcXHNcXFNdKmFjdGlvbkZpZWxkW1xcc1xcU10qJ3JldmVudWUnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICB2dnNTY3JHQU9yZGVyVHlwZTogLyg/OnB1cmNoYXNlW1xcc1xcU10qYWN0aW9uRmllbGRbXFxzXFxTXSonZGltZW5zaW9uMTUnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICB2dnNTY3JHQUlzQWRtaW46IC8oPzpkYXRhTGF5ZXJbXFxzXFxTXSonaXNBZG1pbidbIF0qOlsgXSpcIikoLiopKD86XCIpLyxcbn07XG5cbmV4cG9ydCBjb25zdCBjaGVja3BvaW50cyA9IHtcbiAgQmVhZ2xlTG9hZGVkOiAxLFxuICBJbml0aWFsaXplZDogMixcbiAgVXNlck9uT2ZmOiAzLFxuICBTY3JpcHRUaW1lT3V0OiA3LFxuICBUcmVhdG1lbnRSZXBvc2l0b3J5Q3JlYXRlZDogNCxcbiAgVHJlYXRtZW50c0FwcGxpZWQ6IDUsXG4gIFJlYXBwbHlUcmVhdG1lbnRMaXN0ZW5lcnM6IDYsXG4gIFRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkOiA4LFxufTtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUluZm9MYXllclwiKTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVCZWFnbGVJbmZvTGF5ZXIgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgYmVhZ2xlSW5mb0xheWVyXCIpO1xuICBjb25zdCBzY3JpcHRzID0gZG9jdW1lbnQuc2NyaXB0cztcbiAgY29uc3Qgc2NyaXB0c0xlbmd0aCA9IHNjcmlwdHMubGVuZ3RoO1xuXG4gIHRyeSB7XG4gICAgcHJlcGFyZURhdGEoKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKFwiQ291bGQgbm90IHByZXBhcmUgbG9nIGRhdGE6IFwiLCBlcnIubWVzc2FnZSk7XG4gIH1cblxuICBpZiAoIXNjcmlwdHMgfHwgIXNjcmlwdHNMZW5ndGgpIHtcbiAgICBsb2dnZXIud2FybihcIkNvdWxkIG5vdCBwYXJzZSBib2R5XCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZm91bmRTY3JpcHRDb3VudCA9IDA7XG4gIGZvciAobGV0IGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgY29uc3Qgc2NyaXB0VGV4dENvbnRlbnQgPSBzY3JpcHRzW2ldLnRleHRDb250ZW50O1xuICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyhwYXJzaW5nUmVnZXgpKSB7XG4gICAgICBsZXQgZm91bmRWYWwgPSBwYXJzaW5nUmVnZXhba2V5XS5leGVjKHNjcmlwdFRleHRDb250ZW50KTtcbiAgICAgIGZvdW5kVmFsID0gZm91bmRWYWwgPyBmb3VuZFZhbFsxXSA6IG51bGw7XG4gICAgICBpZiAoZm91bmRWYWwpIHtcbiAgICAgICAgaWYgKGtleS5pbmRleE9mKFwiX2FsdFwiKSA+IDApIGtleSA9IGtleS5zdWJzdHJpbmcoMCwga2V5Lmxhc3RJbmRleE9mKFwiX2FsdFwiKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoa2V5LCBkZWNvZGVVUklDb21wb25lbnQoSlNPTi5wYXJzZShcIlxcXCJcIiArIGZvdW5kVmFsICsgXCJcXFwiXCIpKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlci53YXJuKGBDb3VsZCBub3QgZGVjb2RlIGZvdW5kVmFsICR7Zm91bmRWYWx9YCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm91bmRTY3JpcHRDb3VudCArPSAxO1xuICAgICAgICBpZiAoZm91bmRTY3JpcHRDb3VudCA9PT0gT2JqZWN0LmtleXMocGFyc2luZ1JlZ2V4KS5sZW5ndGgpIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXdhaXQgZGVsYXkoMTApO1xuICAvLyBzY3JpcHRzIHdpbGwgYmUgZHluYW1pY2FsbHkgdXBkYXRlZCwgY2FuIGhhdmUgZGlmZmVyZW50IGxlbmd0aHMgYmV0d2VlbiB3aGVuIGluaXRpYWxpemVkIGFuZCB3aGVuIGNoZWNraW5nXG4gIGlmIChzY3JpcHRzTGVuZ3RoICE9PSBzY3JpcHRzLmxlbmd0aCkge1xuICAgIGxvZ2dlci5sb2coXCJOZXcgc2NyaXB0cyBkZXRlY3RlZCwgcmUtaW5pdGlhbGl6aW5nIGJlYWdsZUluZm9MYXllclwiKTtcbiAgICBhd2FpdCBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjaGVja3BvaW50ID0gKGNoZWNrcG9pbnQpID0+e1xuICB0cnkge1xuICAgIGxvZ2dlci5sb2coYENoZWNrcG9pbnQ6ICcke2NoZWNrcG9pbnR9JyBSZWFjaGVkIWApO1xuICAgIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuY2hlY2twb2ludHMucHVzaCh7XG4gICAgICBjaGVja3BvaW50OiBPYmplY3Qua2V5cyhjaGVja3BvaW50cykuZmluZCgoa2V5KSA9PiBjaGVja3BvaW50c1trZXldID09PSBjaGVja3BvaW50KSxcbiAgICAgIGlkOiBjaGVja3BvaW50LFxuICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci53YXJuKGUpO1xuICB9XG4gIHJldHVybjtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRUb0JlYWdsZUluZm9MYXllciA9IChrZXksIHZhbHVlKSA9PiB7XG4gIGlmIChrZXkgPT09IG51bGwgfHwga2V5ID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyW2tleV0gPSB2YWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVGcm9tQmVhZ2xlSW5mb0xheWVyID0gKGtleSkgPT4ge1xuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gIGRlbGV0ZSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyW2tleV07XG59O1xuXG5leHBvcnQgY29uc3QgYWRkVHJlYXRtZW50ID0gKGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgc3RhdHVzLCBkZXBlbmRhbnRfb25fdHJlYXRtZW50ID0gbnVsbCkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IHtidXNpbmVzc1J1bGVJZCwgdmFyaWFudH07XG4gIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgY2FzZSBcImFwcGxpZWRcIjpcbiAgICAgIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYVtpZF0gPSB2YWx1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJza2lwcGVkXCI6XG4gICAgICB2YWx1ZS5kZXBlbmRhbnRfb25fdHJlYXRtZW50ID0gZGVwZW5kYW50X29uX3RyZWF0bWVudDtcbiAgICAgIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuZVtpZF0gPSB2YWx1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJmYWlsZWRcIjpcbiAgICAgIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuZltpZF0gPSB2YWx1ZTtcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG5jb25zdCBwcmVwYXJlRGF0YSA9ICgpID0+IHtcbiAgY29uc3Qgdmlld0lkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgY29uc3Qgc2Vzc2lvbklkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX0lEKTtcbiAgY29uc3QgY3VycmVudFVSTCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICBjb25zdCBwbGF0Zm9ybSA9IHdpbmRvdy5uYXZpZ2F0b3I/LnVzZXJBZ2VudERhdGE/LnBsYXRmb3JtIHx8IHdpbmRvdy5uYXZpZ2F0b3I/LnBsYXRmb3JtIHx8XG4gIHdpbmRvdy5uYXZpZ2F0b3I/LnVzZXJBZ2VudDtcblxuICBsZXQgZ2FPYmplY3RzID0ge307XG5cbiAgZm9yIChjb25zdCBnYURMRWxlbWVudCBvZiB3aW5kb3cuZGF0YUxheWVyKSB7XG4gICAgZ2FPYmplY3RzID0gey4uLmdhT2JqZWN0cywgLi4uZ2FETEVsZW1lbnR9O1xuICB9XG5cbiAgY29uc3QgdmlzaWxhYnNjayA9IEpTT04ucGFyc2UoZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcIlZMX0NNXzBcIikpO1xuXG4gIGNvbnN0IHZsT2JqZWN0cyA9IHt9O1xuXG4gIGlmICh2aXNpbGFic2NrICYmIHZpc2lsYWJzY2suSXRlbXMpIHtcbiAgICBmb3IgKGNvbnN0IHZsRWxlbWVudCBvZiB2aXNpbGFic2NrLkl0ZW1zKSB7XG4gICAgICB2bE9iamVjdHNbdmxFbGVtZW50LktdID0gZGVjb2RlVVJJQ29tcG9uZW50KHZsRWxlbWVudC5WKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qIFZJU0lMQUJTICovXG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVWTFBWaW5WaXNpdFwiLCB2bE9iamVjdHMuVkxfUFZDb3VudEluVmlzaXQpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZVZMVmlzaXREdXJhdGlvblwiLCB2bE9iamVjdHMuVkxfVG90YWxEdXJhdGlvbik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llVkxUb3RhbFBWXCIsIHZsT2JqZWN0cy5WTF9Ub3RhbFBWKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVWTFRvdGFsVmlzaXRcIiwgdmxPYmplY3RzLlZMX1RvdGFsVmlzaXQpO1xuXG4gIC8qIEdBICovXG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVBhZ2VUeXBlXCIsIGdhT2JqZWN0cy5QYWdlVHlwZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQcm9kdWN0TmFtZVwiLCBnYU9iamVjdHMuY29udGVudF9uYW1lKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVZpZXdUeXBlXCIsIGdhT2JqZWN0cy5jb250ZW50X3R5cGUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHJvZHVjdENhdGVnb3J5XCIsIGdhT2JqZWN0cy5jb250ZW50X2NhdGVnb3J5KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVByb2R1Y3RJRFwiLCBnYU9iamVjdHMuY29udGVudF9pZHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1Byb2R1Y3RDYXRlZ29yeVwiLCBnYU9iamVjdHMudml2ZW5zZV9jYXRlZ29yeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FMaXN0aW5nTmFtZVwiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5kZXRhaWw/LmFjdGlvbkZpZWxkPy5saXN0KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNJc1Nob3dyb29tXCIsICh3aW5kb3cuaXNBZG1pbj09PXVuZGVmaW5lZCkgPyBnYU9iamVjdHMuaXNBZG1pbiA6IHdpbmRvdy5pc0FkbWluKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQcm9kdWN0R3JvdXBcIiwgZ2FPYmplY3RzLnByb2R1Y3RHcm91cCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVXNlcklkXCIsIGdhT2JqZWN0cy51c2VySWQpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0NhdGVnb3J5XCIsIGdhT2JqZWN0cy52aXZlbnNlX2NhdGVnb3J5KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYUNhdGVnb3J5UHJvZHVjdENvbnRcIiwgZ2FPYmplY3RzLmNhdGVnb3J5X3Byb2R1Y3RfY291bnQpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhQ2FydFByb2R1Y3RzXCIsIGdhT2JqZWN0cy5lY29tbWVyY2U/LmNoZWNrb3V0Py5wcm9kdWN0cyB8fFxuICAgIGdhT2JqZWN0cy5lY29tbWVyY2U/LnB1cmNoYXNlPy5wcm9kdWN0cyk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQUHJvZHVjdFwiLCBnYU9iamVjdHMudml2ZW5zZVByb2R1Y3RzPy5wb3AoKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQdXJjaGFzZUlkXCIsIGdhT2JqZWN0cy5lY29tbWVyY2U/LnB1cmNoYXNlPy5hY3Rpb25GaWVsZD8uaWQpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHVyY2hhc2VSZXZlbnVlXCIsIGdhT2JqZWN0cy5lY29tbWVyY2U/LnB1cmNoYXNlPy5hY3Rpb25GaWVsZD8ucmV2ZW51ZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQdXJjaGFzZVBheVR5cGVcIiwgZ2FPYmplY3RzLmVjb21tZXJjZT8ucHVyY2hhc2U/LmFjdGlvbkZpZWxkPy5kaW1lbnNpb24xNSk7XG5cbiAgLyogd2luZG93IHZpZXcgYXJlYSAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd1BhcmFtc1wiLCB3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dQUmF0aW9cIiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd0lubmVyXCIsIHdpbmRvdy5pbm5lcldpZHRoKTtcblxuICBjb25zdCB3aW5kb3dTY3JlZW4gPSB7fTtcbiAgd2luZG93U2NyZWVuLmF2YWlsSGVpZ2h0ID0gd2luZG93LnNjcmVlbj8uYXZhaWxIZWlnaHQ7XG4gIHdpbmRvd1NjcmVlbi5hdmFpbEhlaWdodCA9IHdpbmRvdy5zY3JlZW4/LmF2YWlsSGVpZ2h0O1xuICB3aW5kb3dTY3JlZW4uYXZhaWxMZWZ0ID0gd2luZG93LnNjcmVlbj8uYXZhaWxMZWZ0O1xuICB3aW5kb3dTY3JlZW4uYXZhaWxUb3AgPSB3aW5kb3cuc2NyZWVuPy5hdmFpbFRvcDtcbiAgd2luZG93U2NyZWVuLmF2YWlsV2lkdGggPSB3aW5kb3cuc2NyZWVuPy5hdmFpbFdpZHRoO1xuICB3aW5kb3dTY3JlZW4uY29sb3JEZXB0aCA9IHdpbmRvdy5zY3JlZW4/LmNvbG9yRGVwdGg7XG4gIHdpbmRvd1NjcmVlbi5oZWlnaHQgPSB3aW5kb3cuc2NyZWVuPy5oZWlnaHQ7XG4gIHdpbmRvd1NjcmVlbi5waXhlbERlcHRoID0gd2luZG93LnNjcmVlbj8ucGl4ZWxEZXB0aDtcbiAgd2luZG93U2NyZWVuLndpZHRoID0gd2luZG93LnNjcmVlbj8ud2lkdGg7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93U2NyZWVuXCIsIHdpbmRvd1NjcmVlbik7XG5cbiAgY29uc3Qgd2luZG93VlBvcnQgPSB7fTtcbiAgd2luZG93VlBvcnQuaGVpZ2h0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5oZWlnaHQ7XG4gIHdpbmRvd1ZQb3J0Lm9mZnNldExlZnQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/Lm9mZnNldExlZnQ7XG4gIHdpbmRvd1ZQb3J0Lm9mZnNldFRvcCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ub2Zmc2V0VG9wO1xuICB3aW5kb3dWUG9ydC5vbnJlc2l6ZSA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ub25yZXNpemU7XG4gIHdpbmRvd1ZQb3J0Lm9uc2Nyb2xsID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5vbnNjcm9sbDtcbiAgd2luZG93VlBvcnQucGFnZUxlZnQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/LnBhZ2VMZWZ0O1xuICB3aW5kb3dWUG9ydC5wYWdlVG9wID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5wYWdlVG9wO1xuICB3aW5kb3dWUG9ydC5zY2FsZSA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8uc2NhbGU7XG4gIHdpbmRvd1ZQb3J0LndpZHRoID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py53aWR0aDtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dWUG9ydFwiLCB3aW5kb3dWUG9ydCk7XG5cbiAgaWYgKHNjcmVlbi53aWR0aCkge1xuICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KHNjcmVlbi53aWR0aCk7XG4gICAgbGV0IGhlaWdodCA9IChzY3JlZW4uaGVpZ2h0KSA/IHBhcnNlSW50KHNjcmVlbi5oZWlnaHQpIDogMDtcbiAgICBpZiAod2lkdGggIT09IDAgJiYgaGVpZ2h0ICE9PSAwKSB7XG4gICAgICBjb25zdCBpT1MgPSAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChwbGF0Zm9ybSk7XG4gICAgICBpZiAoaU9TICYmIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSB7XG4gICAgICAgIC8vIGlvcyBwcm92aWRlcyBEUElzLCBuZWVkIHRvIG11bHRpcGx5XG4gICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoTWF0aC5hYnMod2luZG93Lm9yaWVudGF0aW9uKSA9PT0gOTApIHtcbiAgICAgICAgICAvLyB3ZSBoYXZlIGxhbmRzY2FwZSBvcmllbnRhdGlvblxuICAgICAgICAgIC8vIHN3aXRjaCB2YWx1ZXMgZm9yIGFsbCBleGNlcHQgaW9zXG4gICAgICAgICAgY29uc3QgdGVtcCA9IHdpZHRoO1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0O1xuICAgICAgICAgIGhlaWdodCA9IHRlbXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93XCIsIHdpZHRoICsgXCJ4XCIgKyBoZWlnaHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qIG5hdmlnYXRvciAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdkhpc3RTaXplXCIsIHdpbmRvdy5oaXN0b3J5Py5sZW5ndGgpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdkFnZW50XCIsIG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAvLyBjaGVjayBpZiB1c2VyQWdlbnREYXRhIGlzIHN1cHBvcnRlZCBhbmQgdXNlckFnZW50IGlzIG5vdCBhdmFpbGFibGUsIHVzZSBpdFxuICBpZiAoIXdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIubmF2QWdlbnQpIHtcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudERhdGEpIHtcbiAgICAgIC8vIHR1cm4gYnJhbmRzIGFycmF5IGludG8gc3RyaW5nXG4gICAgICBsZXQgbmF2QWdlbnQgPSBuYXZpZ2F0b3I/LnVzZXJBZ2VudERhdGE/LmJyYW5kcz8ubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuYnJhbmQgKyBcIjpcIiArIGUudmVyc2lvbjtcbiAgICAgIH0pLmpvaW4oKTtcbiAgICAgIC8vIGFkZCBtb2JpbGUgaW5mb1xuICAgICAgbmF2QWdlbnQgKz0gKG5hdmlnYXRvcj8udXNlckFnZW50RGF0YT8ubW9iaWxlID8gXCJtb2JpXCIgOiBcIiBcIik7XG4gICAgICAvLyBhZGQgcGxhdGZvcm0gaW5mb1xuICAgICAgbmF2QWdlbnQgKz0gcGxhdGZvcm07XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdkFnZW50XCIsIG5hdkFnZW50KTtcbiAgICB9XG4gIH1cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZIV0NvcmVzXCIsIG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZMYW5ndWFnZVwiLCBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZSB8fFxuICAgbmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlIHx8IG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdlRvdWNoXCIsIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2UGxhdGZvcm1cIiwgcGxhdGZvcm0pO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdlZlbmRvclwiLCBuYXZpZ2F0b3IudmVuZG9yKTtcblxuICAvKiBjb29raWVzICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llR2FJZFwiLCBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwiX2dhXCIpKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVMYXN0QnJlYWRDcnVtYlwiLCBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwibGFzdGJyZWFkY3J1bWJcIikpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZUxhc3RDYXRlZ29yeVwiLCBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwibGFzdGNhdGVnb3J5XCIpKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVGaXJzdEVudHJ5XCIsIGRlY29kZVVSSUNvbXBvbmVudChcbiAgICAgIGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJ2aXZlbnNlZmlyc3RcIikpKTtcblxuICAvKiBwZXJmb3JtYW5jZSBtZXRyaWNzICovXG4gIGNvbnN0IHBlcmZNZXRyaWNzID0ge307XG4gIGlmICh3aW5kb3cucGVyZm9ybWFuY2UgJiYgd2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpWzBdKSB7XG4gICAgY29uc3QgcGVyZk5hdmlnYXRpb25NZXRyaWNzID0gd2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpWzBdO1xuICAgIHBlcmZNZXRyaWNzLnBsZCA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUNvbnRlbnRMb2FkZWRFdmVudEVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5jb25uZWN0U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLm5ldCA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmNvbm5lY3RFbmQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZmV0Y2hTdGFydCk7XG4gICAgcGVyZk1ldHJpY3Muc3J2ID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MucmVzcG9uc2VTdGFydCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXF1ZXN0U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLnRmciA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlRW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlU3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLmRtaSA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUludGVyYWN0aXZlIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlRW5kKTtcbiAgICBwZXJmTWV0cmljcy5kY3AgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5kb21Db21wbGV0ZSAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5kb21JbnRlcmFjdGl2ZSk7XG4gICAgcGVyZk1ldHJpY3Mub25sID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MubG9hZEV2ZW50RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmxvYWRFdmVudFN0YXJ0KTtcbiAgfVxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInBlcmZNZXRyaWNzXCIsIHBlcmZNZXRyaWNzKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpbnRlcm5ldFNwZWVkXCIsIHdpbmRvdy5uYXZpZ2F0b3I/LmNvbm5lY3Rpb24/LmRvd25saW5rKTtcblxuICAvKiBzY2hlbWEub3JnIGVsZW1lbnRzICovXG4gIGNvbnN0IHNjaGVtYU9yZ0VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW3R5cGU9XFxcImFwcGxpY2F0aW9uL2xkK2pzb25cXFwiXVwiKTtcblxuICBmb3IgKGNvbnN0IHNUYWcgb2Ygc2NoZW1hT3JnRWx0cykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjbnRudCA9IHNUYWcudGV4dENvbnRlbnQ7XG4gICAgICBjb25zdCBqc29uY29udGVudCA9IEpTT04ucGFyc2UoY250bnQpO1xuICAgICAgbGV0IGJjcnVtYl9zdHJpbmcgPSBcIkBcIjtcbiAgICAgIHN3aXRjaCAoanNvbmNvbnRlbnRbXCJAdHlwZVwiXSkge1xuICAgICAgICAvLyBIT01FUEFHRVxuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJXZWJTaXRlXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy8gUExQXG4gICAgICAgIGNhc2UgXCJDb2xsZWN0aW9uUGFnZVwiOiB7XG4gICAgICAgICAgZm9yIChjb25zdCBiY3J1bWl0ZW0gb2YganNvbmNvbnRlbnRbXCJicmVhZGNydW1iXCJdW1wiaXRlbUxpc3RFbGVtZW50XCJdKSB7XG4gICAgICAgICAgICBiY3J1bWJfc3RyaW5nICs9IFwiIHwgXCIgKyBiY3J1bWl0ZW1bXCJpdGVtXCJdW1wibmFtZVwiXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzb3JnQnJlYWRjcnVtYlwiLCBiY3J1bWJfc3RyaW5nKTtcbiAgICAgICAgICBjb25zdCBzb3JnTGlzdGluZyA9IHt9O1xuICAgICAgICAgIHNvcmdMaXN0aW5nLm5hbWUgPSBqc29uY29udGVudFtcIm1haW5FbnRpdHlcIl1bXCJuYW1lXCJdO1xuICAgICAgICAgIHNvcmdMaXN0aW5nLmNvdW50SXRlbXMgPSBqc29uY29udGVudFtcIm1haW5FbnRpdHlcIl1bXCJudW1iZXJPZkl0ZW1zXCJdO1xuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic29yZ0xpc3RpbmdcIiwgc29yZ0xpc3RpbmcpO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy8gUERQXG4gICAgICAgIGNhc2UgXCJCcmVhZGNydW1iTGlzdFwiOlxuICAgICAgICAgIGZvciAoY29uc3QgYmNydW1pdGVtIG9mIGpzb25jb250ZW50W1wiaXRlbUxpc3RFbGVtZW50XCJdKSB7XG4gICAgICAgICAgICBiY3J1bWJfc3RyaW5nICs9IFwiIHwgXCIgKyBiY3J1bWl0ZW1bXCJuYW1lXCJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNvcmdCcmVhZGNydW1iXCIsIGJjcnVtYl9zdHJpbmcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiUHJvZHVjdFwiOiB7XG4gICAgICAgICAgY29uc3Qgc29yZ1Byb2R1Y3QgPSB7fTtcbiAgICAgICAgICBzb3JnUHJvZHVjdC5za3UgPSBqc29uY29udGVudFtcInNrdVwiXTtcbiAgICAgICAgICBzb3JnUHJvZHVjdC5uYW1lID0ganNvbmNvbnRlbnRbXCJuYW1lXCJdO1xuICAgICAgICAgIGlmIChqc29uY29udGVudFtcIm9mZmVyc1wiXSkge1xuICAgICAgICAgICAgc29yZ1Byb2R1Y3QucHJpY2UgPSBqc29uY29udGVudFtcIm9mZmVyc1wiXVtcInByaWNlXCJdO1xuICAgICAgICAgICAgc29yZ1Byb2R1Y3QucHJpY2VDdXJyZW5jeSA9IGpzb25jb250ZW50W1wib2ZmZXJzXCJdW1wicHJpY2VDdXJyZW5jeVwiXTtcbiAgICAgICAgICAgIHNvcmdQcm9kdWN0LnByaWNlVmFsaWRVbnRpbCA9IGpzb25jb250ZW50W1wib2ZmZXJzXCJdW1wicHJpY2VWYWxpZFVudGlsXCJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNvcmdQcm9kdWN0XCIsIHNvcmdQcm9kdWN0KTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUubG9nKGpzb25jb250ZW50KTtcbiAgICAgIH0gLy8gc3dpdGNoXG4gICAgfSBjYXRjaCAoZXJyKSB7IC8vIHRyeVxuICAgICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qIE5leHRkYXkgZGF0YSAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZcIiwgXCIwLjAuMjdcIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiblwiLCBgbmV4dGRheS1zZXNzaW9uX2lkLSR7c2Vzc2lvbklkfWApO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNyXCIsIFNQTElUX1JBVElPKTtcblxuICAvKiBtaXNjZWxsYW5lb3VzICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZG9udHRyYWNrXCIsIG5hdmlnYXRvci5kb05vdFRyYWNrIHx8IHdpbmRvdy5kb05vdFRyYWNrIHx8IG5hdmlnYXRvci5tc0RvTm90VHJhY2spO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInVcIiwgY3VycmVudFVSTC5ocmVmKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkXCIsIGN1cnJlbnRVUkwuaG9zdG5hbWUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInJcIiwgZG9jdW1lbnQucmVmZXJyZXIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZJZFwiLCB2aWV3SWQpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImlzT25cIiwgbnVsbCk7XG5cbiAgLyogVml2ZW5zZSBzcGVjaWZpYyAqL1xuICB0cnkge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzQ250RmF2UHJvZHNcIiwgd2luZG93LmZhdm9yaXRlUHJvZHVjdHMgPyBKU09OLnBhcnNlKHdpbmRvdy5mYXZvcml0ZVByb2R1Y3RzKS5sZW5ndGggOiBudWxsKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNDbnRGYXZQcm9kc1wiLCBudWxsKTtcbiAgICBsb2dnZXIud2FybihlcnIubWVzc2FnZSk7XG4gIH1cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNIYXNTZXRFbWFpbFwiLCB3aW5kb3cudXNlckVtYWlsLmxlbmd0aCA+IDApO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0xvZ2luVHlwZVwiLCB3aW5kb3cudXNlcklkID4gMCA/IFwibWVtYmVyXCIgOiBcImd1ZXN0XCIpO1xuXG4gIGxldCBzZWxlY3RlZEVsZW1lbnQ7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcImJhc2tldF9zdW1tYXJ5X3RvdGFsXFxcIl0sIFtjbGFzcyo9XFxcInRvdGFsX3Jvd1xcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1B1cmNQcmljZUVsdFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwib3JkZXJfZm9sbG93X251bWJcXFwiXSwgW2NsYXNzKj1cXFwiY2FydC10aXRsZS1ib3R0b21cXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQdXJjaGFzZU9yZGVySURcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcInBheW1lbnRfdHlwZV90aXRsZVxcXCJdLCBbY2xhc3MqPVxcXCJjYXJ0LXRpdGxlLWluZm9cXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQdXJjVHlwZUVsdFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2lkKj1cXFwiYnJlYWRjcnVtYi1vbFxcXCJdLCBbY2xhc3MqPVxcXCJsb25nLWJyZWFkY3J1bWJcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNWaWV3Q3J1bWJcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcIm9yZGVyLWZpbmFsLW51bWJlclxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0NhcnRUb3RhbFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwiYmFza2V0X3RvdGFsX3ByaWNlXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0Jhc2tldFRvdGFsXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbaWQqPVxcXCJjYXJ0X3F1YW50aXR5XFxcIl0sIFtjbGFzcyo9XFxcImJhc2tldF9sZW5ndGhcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNWaWV3QmFza2V0Q291bnRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcIndlbGNvbWVfdXNlcm5hbWVcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNWaWV3TG9nZ2VkaW5cIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0Lmxlbmd0aCA+IDAgOiBmYWxzZSk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltjbGFzcyo9XFxcInZpdmVuc2Utc2hvd3Jvb21zXFxcIl0gPiAqXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BEUFNob3dyb29tQ291bnRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQubGVuZ3RoIDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcImRlbGl2ZXJ5LWRhdGVcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQRFBEZWxpdmVyeURhdGVcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQRGVsaXZlcnlEYXRlRm9ybWF0dGVkXCIsIGZvcm1hdERlbGl2ZXJ5RGF0ZShzZWxlY3RlZEVsZW1lbnQ/LmlubmVyVGV4dCkpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJwcm9kdWN0LXRpdGxlXFxcIl0sIFtjbGFzcyo9XFxcImhlYWRlci1ib3R0b21cXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQRFBUaXRsZVwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwiY291bnQtb2YtcHJvZHVjdFxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BMUEl0ZW1Db3VudFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwic3ViY2F0ZWdvcmllcy10aXRsZVxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BMUE5hbWVcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtjaGVja0RhdGFMYXllclJ1bGV9IGZyb20gXCIuL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tVcmxSdWxlfSBmcm9tIFwiLi9OZXh0ZGF5UnVsZUVuZ2luZS91cmxDaGVja2VyXCI7XG5pbXBvcnQge2FkZFRvQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCB7XG4gIENPT0tJRV9OQU1FLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBTVFlMRVNIRUVUX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRTX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTixcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVdGlsc1wiKTtcbmNvbnN0IG1vbnRocyA9IHtcbiAgXCJvY2FrXCI6IDAsXG4gIFwixZ91YmF0XCI6IDEsXG4gIFwibWFydFwiOiAyLFxuICBcIm5pc2FuXCI6IDMsXG4gIFwibWF5xLFzXCI6IDQsXG4gIFwiaGF6aXJhblwiOiA1LFxuICBcInRlbW11elwiOiA2LFxuICBcImHEn3VzdG9zXCI6IDcsXG4gIFwiZXlsw7xsXCI6IDgsXG4gIFwiZWtpbVwiOiA5LFxuICBcImthc8SxbVwiOiAxMCxcbiAgXCJhcmFsxLFrXCI6IDExLFxufTtcbmNvbnN0IHJhbmRvbVVVSURGYWxsYmFjayA9ICgpID0+IHtcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjMvMjgwMDIxOFxuICAvLyBMSUNFTlNFOiBodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvNC4wL2xlZ2FsY29kZVxuICBjcnlwdG8ucmFuZG9tVVVJRCA9IGZ1bmN0aW9uIHJhbmRvbVVVSUQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFsxZTddICsgLTFlMyArIC00ZTMgKyAtOGUzICsgLTFlMTEpLnJlcGxhY2UoL1swMThdL2csXG4gICAgICAgIChjKSA9PiAoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KSxcbiAgICApO1xuICB9O1xufTtcblxuaWYgKCEoXCJyYW5kb21VVUlEXCIgaW4gY3J5cHRvKSkge1xuICByYW5kb21VVUlERmFsbGJhY2soKTtcbn1cblxuZXhwb3J0IGNvbnN0IHJlbW92ZURvY3VtZW50SGlkZSA9ICgpID0+IHtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJuZXh0RGF5LWhpZGVcIik7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUcmVhdG1lbnRzID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgdHJlYXRtZW50c1wiKTtcbiAgY29uc3QgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoKFRSRUFUTUVOVFNfTE9DQVRJT04pO1xuICByZXR1cm4gYXdhaXQgdHJlYXRtZW50cy5qc29uKCk7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgdHJlYXRtZW50IHdlaWdodHNcIik7XG4gIGNvbnN0IHRyZWF0bWVudFdlaWdodHMgPSBhd2FpdCBmZXRjaChUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTik7XG4gIHJldHVybiBhd2FpdCB0cmVhdG1lbnRXZWlnaHRzLmpzb24oKTtcbn07XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q29va2llSWRlbnRpZmllciA9IChjb29raWVTdHJpbmcsIGNvb2tpZU5hbWUpID0+IHtcbiAgaWYgKCFjb29raWVTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZCA9IGNvb2tpZVN0cmluZ1xuICAgICAgLnNwbGl0KFwiO1wiKVxuICAgICAgLm1hcCgodikgPT4gdi5zcGxpdChcIj1cIikpXG4gICAgICAucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgaWYgKHZbMF0gJiYgdlsxXSkge1xuICAgICAgICAgIGFjY1tkZWNvZGVVUklDb21wb25lbnQodlswXS50cmltKCkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2WzFdLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcblxuICBsZXQgaWRlbnRpZmllciA9IHBhcnNlZFtjb29raWVOYW1lXTtcbiAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGNvb2tpZU5hbWUgPT09IFwiX2dhXCIpIHtcbiAgICAvLyBleHRyYWN0IHVuaXF1ZSBpZGVudGlmaWVyIGZyb20gR0EgY29va2llXG4gICAgY29uc3QgaWRlbnRpZmllckluZGV4ID0gMjtcbiAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllci5zcGxpdChcIi5cIilbaWRlbnRpZmllckluZGV4XTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcjtcbn07XG5cbmV4cG9ydCBjb25zdCBkZXRlcm1pbmVQY3QgPSBhc3luYyAoaWRlbnRpZmllcikgPT4ge1xuICBjb25zdCBzdWJzdHJpbmdTdGFydFBvc2l0aW9uID0gOTtcbiAgY29uc3Qgc3Vic3RyaW5nTGVuZ3RoID0gODtcbiAgY29uc3Qgc3Vic3RyaW5nRW5kUG9zaXRpb24gPSBzdWJzdHJpbmdTdGFydFBvc2l0aW9uICsgc3Vic3RyaW5nTGVuZ3RoO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgY29uc3QgaGFzaFN0cmluZyA9IGF3YWl0IGNyZWF0ZUhhc2hTdHJpbmcoaWRlbnRpZmllcik7XG4gIC8vIE1hcCB0aGUgY29va2llIGhhc2ggdG8gYSBudW1iZXIgYmV0d2VlbiAwIC0+IDk5LFxuICAvLyB0aGlzIG51bWJlciBpcyB0aGUgb25SYXRpb25cbiAgY29uc3QgaGFzaE51bWJlciA9IHBhcnNlSW50KGhhc2hTdHJpbmcuc3Vic3RyaW5nKHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24sIHN1YnN0cmluZ0VuZFBvc2l0aW9uKSwgMTYpO1xuXG4gIHJldHVybiBoYXNoTnVtYmVyICUgMTAwO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUhhc2hTdHJpbmcgPSBhc3luYyAoc3RyaW5nVG9IYXNoKSA9PiB7XG4gIC8vIGVuY29kZSBzdHJpbmcgdG8gYW4gYXJyYXkgb2YgOC1iaXQgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXNcbiAgY29uc3QgZW5jb2RlZCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHJpbmdUb0hhc2gpO1xuXG4gIC8vIGhhc2ggdGhlIGVuY29kZWQgY29va2llIGludG8gYSBidWZmZXJcbiAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTFcIiwgZW5jb2RlZCk7XG5cbiAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxuICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcblxuICAvLyBjb252ZXJ0IGJ5dGVzIHRvIGhleCBzdHJpbmcgYW5kIHJldHVyblxuICByZXR1cm4gaGFzaEFycmF5Lm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKS5qb2luKFwiXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4aXRTY3JvbGxMaXN0ZW5lciA9IChjYWxsQmFjaykgPT4ge1xuICBjb25zdCBsb29wID0gKCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgaWYgKGxhc3RTY3JvbGxUb3AgLSA0MDAgPiBzY3JvbGxUb3ApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoZXhpdFNjcm9sbEludGVydmFsKTtcbiAgICAgIGNhbGxCYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIGxldCBsYXN0U2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgY29uc3QgZXhpdFNjcm9sbEludGVydmFsID0gc2V0SW50ZXJ2YWwobG9vcCwgNTAwKTtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhcHBseSB0cmVhdG1lbnRzIHRvIHRoZSBwYWdlIG9uIHNwZWNpZmljIG1lZGlhIHR5cGUuXG4gKiBAcGFyYW0ge01lZGlhUXVlcnlMaXN0fSBtZWRpYVF1ZXJ5Q29uZGl0aW9uIHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNTAwcHgpXCIpXG4gKiBAcGFyYW0ge0RPTU5vZGVMaXN0IH0gZWxlbWVudHMgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdi5wcm9kdWN0X2luZm9cIilcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZUNoYW5nZXNNYXAgeyBcIm1hcmdpbi10b3BcIiA6IFwiMTByZW1cIn1cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBjb25zdCBzdHlsZUFwcGxpY2F0b3IgPSAoZWxlbWVudHMsIHN0eWxlQ2hhbmdlc01hcCkgPT4ge1xuICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGUgY2hhbmdlc1wiLCBzdHlsZUNoYW5nZXNNYXAsIFwidG8gZWxlbWVudHNcIiwgZWxlbWVudHMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlQ2hhbmdlc01hcCkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdFN0eWxlU2hlZXQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgc3R5bGVTaGVldC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgc3R5bGVTaGVldC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICBzdHlsZVNoZWV0LmhyZWYgPSBTVFlMRVNIRUVUX0xPQ0FUSU9OO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlU2hlZXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmVBY3Rpb25zID0gYXN5bmMgKGlkZW50aWZpZXIsIGFjdGlvbnNUb1ByZXBhcmUsIGJ1c2luZXNzUnVsZUlkKSA9PiB7XG4gIGNvbnN0IGFjdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFjdGlvbnNUb1ByZXBhcmUpKTtcbiAgbGV0IHZhcmlhbnQgPSBudWxsO1xuICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgY29uc3Qge2J1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucywgdmFyaWFudHN9ID0gYWN0aW9uO1xuICAgIGlmICghYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zICYmICF2YXJpYW50cykgY29udGludWU7XG4gICAgaWYgKGJ1c2luZXNzUnVsZUlkICYmIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgZm9yIChjb25zdCBidXNpbmVzc1RyYW5zZm9ybWF0aW9uIG9mIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICBpZiAoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbi5pZCA9PT0gYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBidXNpbmVzc1RyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSBcImlkXCIpIHtcbiAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBidXNpbmVzc1RyYW5zZm9ybWF0aW9uW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh2YXJpYW50cykge1xuICAgICAgZm9yIChjb25zdCB2YXJpYW50S2V5IG9mIE9iamVjdC5rZXlzKHZhcmlhbnRzKSkge1xuICAgICAgICBjb25zdCByYW5kb21QY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIHZhcmlhbnRLZXkpO1xuICAgICAgICBpZiAocmFuZG9tUGN0IDwgYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCkge1xuICAgICAgICAgIHZhcmlhbnQgPSB2YXJpYW50S2V5O1xuICAgICAgICAgIGlmIChidXNpbmVzc1J1bGVJZCAmJiB2YXJpYW50c1t2YXJpYW50S2V5XS5idXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbiBvZiB2YXJpYW50c1t2YXJpYW50S2V5XS5idXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgaWYgKGJ1c2luZXNzVHJhbnNmb3JtYXRpb24uaWQgPT0gYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhidXNpbmVzc1RyYW5zZm9ybWF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJpZFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGFjdGlvbltrZXldID0gYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbltrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJpYW50c1t2YXJpYW50S2V5XSkge1xuICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBcIndlaWdodFwiICYmIGtleSAhPT0gXCJidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnNcIikge1xuICAgICAgICAgICAgICAgIGFjdGlvbltrZXldID0gdmFyaWFudHNbdmFyaWFudEtleV1ba2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gW2FjdGlvbnMsIHZhcmlhbnRdO1xufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzID0gKCkgPT4ge1xuICBjb25zdCB7UEFHRV9WSUVXUywgUE9QVVBfRElTUExBWV9GTEFHLCBTRVNTSU9OX0lELCBTRVNTSU9OX1RJTUVTVEFNUCwgU0VTU0lPTl9ISVNUT1JZfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuXG4gIGNvbnN0IHBhZ2VWaWV3cyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEFHRV9WSUVXUyk7XG4gIGNvbnN0IHBvcHVwRGlzcGxheUZsYWcgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRyk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9JRCk7XG4gIGNvbnN0IHNlc3Npb25UaW1lc3RhbXAgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QKTtcbiAgY29uc3Qgc2Vzc2lvbkhpc3RvcnkgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fSElTVE9SWSk7XG5cbiAgaWYgKCFwYWdlVmlld3MpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBBR0VfVklFV1MsIDEpO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEFHRV9WSUVXUywgcGFyc2VJbnQocGFnZVZpZXdzKSArIDEpO1xuICB9XG4gIGlmIChwb3B1cERpc3BsYXlGbGFnID09PSBudWxsKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDApO1xuICB9XG4gIGlmICghc2Vzc2lvbklkKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0lELCBjcnlwdG8ucmFuZG9tVVVJRCgpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25UaW1lc3RhbXApIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QLCBEYXRlLm5vdygpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25IaXN0b3J5KSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0hJU1RPUlksIFt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVdKTtcbiAgfSBlbHNlIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgc2Vzc2lvbkhpc3RvcnldKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbkNoZWNrZXIgPSAocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGlmIChjb25kaXRpb24gPT09IFwibm90RXhpc3RcIikge1xuICAgIGlmICghcnVuVGltZVZhbHVlKSB7XG4gICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAocnVuVGltZVZhbHVlID09PSBudWxsIHx8XG4gICAgcnVuVGltZVZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICBjb25kaXRpb24gPT09IG51bGwgfHxcbiAgICBjb25kaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiBydW5UaW1lVmFsdWUgb3IgY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzd2l0Y2ggKGNvbmRpdGlvbikge1xuICAgIGNhc2UgXCJleGlzdFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJjb250YWluc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90Q29udGFpbnNcIjpcbiAgICAgIGlmICghcnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGNvbnRhaW5zIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJlcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGVxdWFsIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RFcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA8IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDw9IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3Mgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJiZXR3ZWVuXCI6IHtcbiAgICAgIGxldCBbbWluLCBtYXhdID0gdmFsdWUuc3BsaXQoXCIsXCIpO1xuICAgICAgbWluID0gcGFyc2VJbnQobWluKTtcbiAgICAgIG1heCA9IHBhcnNlSW50KG1heCk7XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IG1pbiAmJiBydW5UaW1lVmFsdWUgPD0gbWF4KSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkIFwiLCBjb25kaXRpb24pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGVidWdNb2RlID0gKCkgPT4ge1xuICBjb25zdCB7TkRfREVCVUdfTU9ERSwgT1VUX09GX1NDT1BFfSA9IExPQ0FMX1NUT1JBR0VfS0VZUztcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0xXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE5EX0RFQlVHX01PREUsIDEpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIFwib25cIik7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MlwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShORF9ERUJVR19NT0RFLCAyKTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oT1VUX09GX1NDT1BFLCB0cnVlKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCBcIm9uXCIpO1xuICAgIHJldHVybiAyO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTBcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTkRfREVCVUdfTU9ERSk7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE9VVF9PRl9TQ09QRSwgdHJ1ZSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvZmZcIik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgY3VycmVudCA9IHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShORF9ERUJVR19NT0RFKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIChjdXJyZW50ID8gXCJvblwiIDogXCJvZmZcIikpO1xuICByZXR1cm4gKGN1cnJlbnQgfHwgMCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SWRlbnRpZmllciA9IGFzeW5jIChjb29raWVOYW1lID0gQ09PS0lFX05BTUUpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQpO1xuICAgIGlmIChpZCkgcmVzb2x2ZShpZCk7XG4gICAgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIGNvb2tpZU5hbWUpO1xuICAgIGlmIChpZCkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lELCBpZCk7XG4gICAgICByZXNvbHZlKGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIGNvb2tpZU5hbWUpO1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuVVNFUl9JRCwgaWQpO1xuICAgICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICB9XG4gICAgICB9LCAxMCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChleHRyYWN0SWRlbnRpZmllckludGVydmFsKTtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkNvdWxkIG5vdCBleHRyYWN0IGNvb2tpZSBpZGVudGlmaWVyXCIpKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVsYXkgPSAobXMpID0+IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCBtcykpO1xuXG4vLyBDb2xsZWN0IHByb2R1Y3QgU0tVcyBmcm9tIHBhZ2VcbmV4cG9ydCBjb25zdCBza3VDb2xsZWN0b3IgPSAoKSA9PiB7XG4gIGNvbnN0IHtORF9TS1VfTElTVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgY29uc3Qgc2t1TGlzdCA9IFtdO1xuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgaG9tZSBwYWdlXG4gIGNvbnN0IHJ1bGUgPSB7XG4gICAgb3BlcmF0b3I6IFwiUGFnZVR5cGVcIixcbiAgICBjb25kaXRpb246IFwiZXF1YWxcIixcbiAgICB2YWx1ZTogXCJIb21lcGFnZVwiLFxuICB9O1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGxpc3RpbmcgcGFnZVxuICBydWxlLnZhbHVlID0gXCJMaXN0aW5ncGFnZVwiO1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1jYXJkXCIpKTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBza3VMaXN0LnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3Qtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBMaXN0aW5ncGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNULCBKU09OLnN0cmluZ2lmeShza3VMaXN0KSk7XG5cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgcHJvZHVjdCBwYWdlXG4gIHJ1bGUudmFsdWUgPSBcIlByb2R1Y3RwYWdlXCI7XG4gIGlmIChjaGVja0RhdGFMYXllclJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LXNrdVwiKTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJQcm9kdWN0IFNLVSBub3QgZm91bmQgb24gUHJvZHVjdHBhZ2VcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2t1TGlzdC5wdXNoKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1za3VcIikgfHwgZWxlbWVudC50ZXh0Q29udGVudD8udHJpbSgpPy5yZXBsYWNlKC9cXCkvZywgXCJcIik/LnJlcGxhY2UoL1xcKC9nLCBcIlwiKSk7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShORF9TS1VfTElTVCwgSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCkpO1xuXG4gICAgcmV0dXJuIHNrdUxpc3Q7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGJhc2tldCBwYWdlXG4gIHJ1bGUub3BlcmF0b3IgPSBcInBhdGhcIjtcbiAgcnVsZS52YWx1ZSA9IFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCI7XG4gIGlmIChjaGVja1VybFJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJ0LWluc2lkZVwiKSk7XG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgc2t1TGlzdC5wdXNoKGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1za3VcIikpO1xuICAgIH0pO1xuICAgIGlmICghc2t1TGlzdC5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJQcm9kdWN0IFNLVXMgbm90IGZvdW5kIG9uIGJhc2tldCBwYWdlXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTkRfU0tVX0xJU1QsIEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpKTtcblxuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgbG9nZ2VyLmZhaWxlZChcIlVuaWRlbnRpZmllZCBwYWdlIHR5cGVcIik7XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2VuZEJlYWNvblN1cHBvcnRlZCA9ICgpID0+IG5hdmlnYXRvci5zZW5kQmVhY29uICYmIHR5cGVvZiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbiA9PT0gXCJmdW5jdGlvblwiO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0RGVsaXZlcnlEYXRlID0gKGRhdGUpID0+IHtcbiAgaWYgKCFkYXRlIHx8IHR5cGVvZiBkYXRlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gZGF0ZTtcblxuICBjb25zdCByZXN1bHQgPSB7XG4gICAgc3RhcnRNb250aEluZGV4OiB1bmRlZmluZWQsXG4gICAgZW5kTW9udGhJbmRleDogdW5kZWZpbmVkLFxuICAgIHN0YXJ0RGF5OiB1bmRlZmluZWQsXG4gICAgZW5kRGF5OiB1bmRlZmluZWQsXG4gIH07XG5cbiAgbGV0IG1hdGNoID0gZGF0ZS5tYXRjaChcIihbXFxcXGRdKyktKFtcXFxcZF0rKVxcXFxzPyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcXSspXCIpO1xuICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID09PSA0KSB7XG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5lbmREYXkgPSBwYXJzZUludChtYXRjaFsyXSk7XG4gICAgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFszXS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IHJlc3VsdC5zdGFydE1vbnRoSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgbWF0Y2ggPSBkYXRlLm1hdGNoKFwiKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcXSspLShbXFxcXGRdKylcXFxccysoW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnF0rKVwiKTtcbiAgICBpZiAoIW1hdGNoIHx8IG1hdGNoLmxlbmd0aCAhPT0gNSkgcmV0dXJuIGRhdGU7XG5cbiAgICByZXN1bHQuc3RhcnREYXkgPSBwYXJzZUludChtYXRjaFsxXSk7XG4gICAgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFsyXS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXN1bHQuZW5kRGF5ID0gcGFyc2VJbnQobWF0Y2hbM10pO1xuICAgIHJlc3VsdC5lbmRNb250aEluZGV4ID0gbW9udGhzW21hdGNoWzRdLnRvTG93ZXJDYXNlKCldO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG5cbiAgICBpZiAoIXJlc3VsdC5zdGFydE1vbnRoSW5kZXggfHwgIXJlc3VsdC5lbmRNb250aEluZGV4KSByZXR1cm4gZGF0ZTtcblxuICAgIGNvbnN0IHN0YXJ0WWVhciA9IHJlc3VsdC5zdGFydE1vbnRoSW5kZXggPj0gdG9kYXkuZ2V0TW9udGgoKSA/IHRvZGF5LmdldEZ1bGxZZWFyKCkgOiB0b2RheS5nZXRGdWxsWWVhcigpICsgMTtcbiAgICBjb25zdCBlbmRZZWFyID0gcmVzdWx0LmVuZE1vbnRoSW5kZXggPj0gdG9kYXkuZ2V0TW9udGgoKSA/IHRvZGF5LmdldEZ1bGxZZWFyKCkgOiB0b2RheS5nZXRGdWxsWWVhcigpICsgMTtcblxuICAgIGNvbnN0IGVzdGltYXRlZFN0YXJ0ID0gbmV3IERhdGUoc3RhcnRZZWFyLCByZXN1bHQuc3RhcnRNb250aEluZGV4LCByZXN1bHQuc3RhcnREYXkpO1xuICAgIGNvbnN0IGVzdGltYXRlZEVuZCA9IG5ldyBEYXRlKGVuZFllYXIsIHJlc3VsdC5lbmRNb250aEluZGV4LCByZXN1bHQuZW5kRGF5KTtcblxuXG4gICAgY29uc3Qgc3RhcnREaWZmT3ZlckRheXMgPSBNYXRoLmNlaWwoTWF0aC5hYnMoZXN0aW1hdGVkU3RhcnQgLSB0b2RheSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICAgIGNvbnN0IGVuZERpZmZPdmVyRGF5cyA9IE1hdGguY2VpbChNYXRoLmFicyhlc3RpbWF0ZWRFbmQgLSB0b2RheSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuXG4gICAgY29uc3Qgc3RhcnREaWZmT3ZlcldlZWtzID0gc3RhcnREaWZmT3ZlckRheXMgPCA3ID8gMCA6IE1hdGguY2VpbChzdGFydERpZmZPdmVyRGF5cyAvIDcpO1xuICAgIGNvbnN0IGVuZERpZmZPdmVyV2Vla3MgPSBlbmREaWZmT3ZlckRheXMgPCA3ID8gMCA6IE1hdGguY2VpbChlbmREaWZmT3ZlckRheXMgLyA3KTtcblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IDAgJiYgZW5kRGlmZk92ZXJXZWVrcyA9PT0gMCkge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJEYXlzfSAtICR7ZW5kRGlmZk92ZXJEYXlzfSBHw7xuYDtcbiAgICB9XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSAwICYmIGVuZERpZmZPdmVyV2Vla3MgPj0gMSkge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJEYXlzfSBHw7xuIC0gJHtlbmREaWZmT3ZlcldlZWtzfSBIYWZ0YWA7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gZW5kRGlmZk92ZXJXZWVrcykge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICAgIH1cblxuICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyV2Vla3N9IC0gJHtlbmREaWZmT3ZlcldlZWtzfSBIYWZ0YWA7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBkYXRlO1xuICB9XG59O1xuIiwiaW1wb3J0IHtMT0dfQVBJX1VSTH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjcmVhdGVIYXNoU3RyaW5nLCBpc1NlbmRCZWFjb25TdXBwb3J0ZWR9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBNb25pdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBNb25pdG9yXCIpO1xuICAgIHRoaXMubG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBtb25pdG9yXCIpO1xuXG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBudWxsO1xuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gZmFsc2U7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCA9IG51bGw7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA9IGZhbHNlO1xuICAgIHRoaXMuaGVhZGVycyA9IHtcbiAgICAgIHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgdGhpcy5pc0xvZ2dlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5pbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBhc3luYyBzZW5kTG9ncyhtZXNzYWdlID0gbnVsbCwgaXNFcnJvciA9IGZhbHNlKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxvZ2dlci5sb2coXCJTZW5kaW5nIGxvZ3NcIik7XG5cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiRG9jdW1lbnQgcmVhZHkgc3RhdGUgaXMgbm90IGNvbXBsZXRlXCIpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIG9ubG9hZCBldmVudFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlUXVldWVMb2dzKHJlcXVlc3RCbG9iLCBpc0Vycm9yID0gZmFsc2UpIHtcbiAgICBpZiAoIWlzRXJyb3IgJiYgdGhpcy5pc0xvZ2dlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghcmVxdWVzdEJsb2IpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJDb3VsZCBub3QgY3JlYXRlIHJlcXVlc3QgYmxvYlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlJlcXVlc3QgYmxvYiB0byBzZW5kOiBcIiwgcmVxdWVzdEJsb2IpO1xuICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcblxuICAgIHRoaXMuaXNMb2dnZWQgPSB0cnVlO1xuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhKU09OLnN0cmluZ2lmeSh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmEpKTtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5lKSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVMYXRlc3RDaGFuZ2VzKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgaWYgdGhlcmUgYXJlIGNoYW5nZXNcIik7XG5cbiAgICBjb25zdCBhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5hKSk7XG4gICAgY29uc3QgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5lKSk7XG5cbiAgICBpZiAoYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCAhPT0gdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2gpIHtcbiAgICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaDtcbiAgICB9XG4gICAgaWYgKGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCAhPT0gdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCkge1xuICAgICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA9IHRydWU7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoO1xuICAgIH1cbiAgfVxuXG4gIHBhY2thZ2VMb2dEYXRhKG1lc3NhZ2UgPSBudWxsKSB7XG4gICAgY29uc3Qge2hlYWRlcnN9ID0gdGhpcztcbiAgICBjb25zdCBib2R5ID0gey4uLndpbmRvdy5iZWFnbGVJbmZvTGF5ZXJ9O1xuICAgIGNvbnN0IG0gPSBtZXNzYWdlID8gbWVzc2FnZSA6IE9iamVjdC5rZXlzKGJvZHkuYSB8fCB7fSkubGVuZ3RoID8gXCJUcmVhdG1lbnRzIGFwcGxpZWRcIiA6IFwiTm8gdHJlYXRtZW50cyBhcHBsaWVkXCI7XG4gICAgYm9keS50ID0gRGF0ZS5ub3coKTtcbiAgICBib2R5Lm0gPSBtO1xuXG4gICAgcmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShib2R5KV0sIGhlYWRlcnMpO1xuICB9XG5cbiAgcGFja2FnZVVwZGF0ZUxvZ0RhdGEoKSB7XG4gICAgY29uc3Qge2hlYWRlcnMsIGFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcywgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXN9ID0gdGhpcztcbiAgICBpZiAoIWFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyAmJiAhZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgdDogRGF0ZS5ub3coKSxcbiAgICAgIGE6IGFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA/IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYSA6IHt9LFxuICAgICAgZTogZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPyB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmUgOiB7fSxcbiAgICAgIHZJZDogd2luZG93LmJlYWdsZUluZm9MYXllci52SWQsXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsZXQgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IGZhbHNlO1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgZXhpdCBldmVudCBsaXN0ZW5lclwiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJiZWZvcmV1bmxvYWRcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5pc0xvZ2dlZCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzRXhpdEV2ZW50Q2FwdHVyZWQpIHJldHVybjtcbiAgICAgICAgICBpc0V4aXRFdmVudENhcHR1cmVkID0gdHJ1ZTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW4gYmVmb3JldW5sb2FkIGV2ZW50XCIpO1xuICAgICAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLnBhY2thZ2VVcGRhdGVMb2dEYXRhKCk7XG4gICAgICAgICAgaWYgKCFsb2dEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gY2hhbmdlcyB0byBsb2dcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7Y2FwdHVyZTogdHJ1ZX0sXG4gICAgKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJwYWdlaGlkZVwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBwYWdlaGlkZSBldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5wYWNrYWdlVXBkYXRlTG9nRGF0YSgpO1xuICAgICAgICAgIGlmICghbG9nRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIGNoYW5nZXMgdG8gbG9nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnF1ZXVlTG9ncyhsb2dEYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9LFxuICAgICk7XG4gIH1cblxuICBxdWV1ZUxvZ3MobG9nRGF0YSkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghaXNTZW5kQmVhY29uU3VwcG9ydGVkKCkpIHtcbiAgICAgIGZldGNoKExPR19BUElfVVJMLCBsb2dEYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgIGNvbnN0IHF1ZXVlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoIXF1ZXVlZCkgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocXVldWVJbnRlcnZhbCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIHF1ZXVlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgIGlmICghcXVldWVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIG5vdCBxdWV1ZWRcIik7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvcjtcbiIsImltcG9ydCB7c2t1Q29sbGVjdG9yfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TE9PS1VQX0FQSV9VUkx9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBpXCIpO1xuXG5leHBvcnQgY29uc3QgcHJvZHVjdEluZm9Mb29rdXAgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTdGFydGluZyBwcm9kdWN0IGluZm8gbG9va3VwXCIpO1xuICBjb25zdCBza3VMaXN0ID0gc2t1Q29sbGVjdG9yKCk7XG4gIGlmICghc2t1TGlzdCkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJObyBza3UgZm91bmRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgbGV0IHByb2R1Y3RJbmZvO1xuICB0cnkge1xuICAgIHByb2R1Y3RJbmZvID0gYXdhaXQgZmV0Y2goTE9PS1VQX0FQSV9VUkwsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShza3VMaXN0KSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBtb2RlOiBcImNvcnNcIixcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci53YXJuKFwiRmV0Y2ggdG8gY2F0YWxvZyBhcGkgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghcHJvZHVjdEluZm8ub2spIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiUHJvZHVjdCBpbmZvIGxvb2t1cCBmYWlsZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcHJvZHVjdEluZm8gPSBhd2FpdCBwcm9kdWN0SW5mby5qc29uKCk7XG4gIGlmICghcHJvZHVjdEluZm8pIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiUHJvZHVjdCBpbmZvIGV4dHJhY3Rpb24gZnJvbSByZXNwb25zZSBmYWlsZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbG9nZ2VyLnN1Y2Nlc3MoXCJQcm9kdWN0IGluZm8gbG9va3VwIHN1Y2Nlc3NmdWxcIik7XG4gIHJldHVybiBwcm9kdWN0SW5mbztcbn07XG4iLCJpbXBvcnQgYXJyYXlXaXRob3V0SG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRob3V0SG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVNwcmVhZCBmcm9tIFwiLi9ub25JdGVyYWJsZVNwcmVhZC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImV4cG9ydCBjb25zdCByZXBsYWNlQWxsID0gKHN0ciwgZmluZCwgcmVwbGFjZSA9IFwiXCIpID0+IHtcbiAgaWYgKCFzdHIpIHJldHVybiBcIlwiO1xuXG4gIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZmluZCk7XG4gIGlmIChpbmRleCA8IDApIHJldHVybiBzdHI7XG5cbiAgd2hpbGUgKHN0ci5pbmRleE9mKGZpbmQpID49IDApIHtcbiAgICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKGZpbmQpO1xuICAgIHN0ciA9IChpbmRleCA+IDAgPyBzdHIuc3Vic3RyaW5nKDAsIGluZGV4KSA6IFwiXCIpICsgcmVwbGFjZSArIHN0ci5zdWJzdHJpbmcoaW5kZXggKyBmaW5kLmxlbmd0aCk7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCB7ZXhpdFNjcm9sbExpc3RlbmVyLCBzdHlsZUFwcGxpY2F0b3IsIGRlbGF5fSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7cmVwbGFjZUFsbH0gZnJvbSBcIi4uL3N0cmluZ1V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWSwgU0VTU0lPTl9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7ZGF0YUxheWVyRmluZGVyfSBmcm9tIFwiLi4vTmV4dGRheVJ1bGVFbmdpbmUvZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGFwcGx5QWN0aW9ucyhhY3Rpb25zLCBwcm9kdWN0SW5mbykge1xuICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBBcHBseSBBY3Rpb25zXCIpO1xuICBjb25zdCB7UE9QVVBfRElTUExBWV9GTEFHfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuXG4gIGNvbnN0IHRyYW5zZm9ybWVyID0gZnVuY3Rpb24gdHJhbnNmb3JtZXIoYWN0aW9uKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIGFjdGlvbjogXCIsIEpTT04uc3RyaW5naWZ5KGFjdGlvbikpO1xuICAgIGNvbnN0IHtcbiAgICAgIG9wZXJhdG9yLFxuICAgICAgdHlwZSxcbiAgICAgIGFwcGx5RXZlbnQsXG4gICAgICBjb250ZW50U2VsZWN0b3IsXG4gICAgICBzZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yRmFsbGJhY2ssXG4gICAgICBtZENvbmRpdGlvbixcbiAgICAgIG1vdmVfc2VsZWN0b3JfMSxcbiAgICAgIG1vdmVfc2VsZWN0b3JfMixcbiAgICAgIHJlcGxhY2VGbixcbiAgICB9ID0gYWN0aW9uO1xuICAgIGlmIChvcGVyYXRvciA9PT0gXCJub29wXCIpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJOb29wIE9wZXJhdG9yOiBObyBvcGVyYXRpb24gaXMgYXBwbGllZCBvbiB0YXJnZXQgXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQge3ZhbHVlfSA9IGFjdGlvbjtcbiAgICBsZXQgZWxlbWVudCA9ICQoc2VsZWN0b3IpO1xuXG4gICAgY29uc3QgbWMgPSBtZENvbmRpdGlvbiA/IHdpbmRvdy5tYXRjaE1lZGlhKG1kQ29uZGl0aW9uKS5tYXRjaGVzIDogdHJ1ZTtcbiAgICBpZiAoIW1jKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiTWVkaWEgY29uZGl0aW9uIG1pc21hdGNoOiBcIiwgbWRDb25kaXRpb24pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAobW92ZV9zZWxlY3Rvcl8xICYmICFtb3ZlX3NlbGVjdG9yXzIpIHx8XG4gICAgICAobW92ZV9zZWxlY3Rvcl8yICYmICFtb3ZlX3NlbGVjdG9yXzEpXG4gICAgKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiQm90aCBtb3ZlIHNlbGVjdG9ycyBhcmUgcmVxdWlyZWRcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChtb3ZlX3NlbGVjdG9yXzEgJiYgbW92ZV9zZWxlY3Rvcl8yKSB7XG4gICAgICBpZiAoISQobW92ZV9zZWxlY3Rvcl8xKS5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIk1vdmUgc2VsZWN0b3IgMSBub3QgZm91bmQ6IFwiLCBtb3ZlX3NlbGVjdG9yXzEpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoISQobW92ZV9zZWxlY3Rvcl8yKS5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIk1vdmUgc2VsZWN0b3IgMiBub3QgZm91bmQ6IFwiLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJTZWxlY3RvciBub3Qgc3BlY2lmaWVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgIGlmICghJChzZWxlY3RvckZhbGxiYWNrKS5sZW5ndGggJiYgb3BlcmF0b3IgPT09IFwicmVtb3ZlXCIpIHJldHVybjtcbiAgICAgICAgaWYgKHNlbGVjdG9yICE9PSBcIm5vLXNlbGVjdG9yXCIpIHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IGZvdW5kOiBcIiwgc2VsZWN0b3IpO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJUcnlpbmcgZmFsbGJhY2sgc2VsZWN0b3I6IFwiLCBzZWxlY3RvckZhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoc2VsZWN0b3JGYWxsYmFjaykgZWxlbWVudCA9ICQoc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZhbGxiYWNrIHNlbGVjdG9yIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCByZXBsYWNlRm5FeGVjdXRvciA9IChyZXBsYWNlRm4sIHZhbHVlKSA9PiB7XG4gICAgICBpZiAocmVwbGFjZUZuICYmIHZhbHVlLmluY2x1ZGVzKFwie3tSRVBMQUNFfX1cIikpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkV4ZWN1dGluZyByZXBsYWNlIGZ1bmN0aW9uOiBcIiwgcmVwbGFjZUZuKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgICBkYXRhTGF5ZXJGaW5kZXIsXG4gICAgICAgICAgcHJvZHVjdEluZm8sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcGxhY2VGdW5jdGlvbiA9IEZ1bmN0aW9uKHJlcGxhY2VGbikuYmluZChjb250ZXh0KTtcbiAgICAgICAgdmFsdWUgPSByZXBsYWNlQWxsKHZhbHVlLCBcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VGdW5jdGlvbigpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKCh2YWwsIGkpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFJlcGxhY2VGbiA9IHJlcGxhY2VGbiA/IHJlcGxhY2VGbltpXSB8fCByZXBsYWNlRm4gOiBcIlwiO1xuICAgICAgICB2YWx1ZVtpXSA9IHJlcGxhY2VGbkV4ZWN1dG9yKGN1cnJlbnRSZXBsYWNlRm4sIHZhbCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAob3BlcmF0b3IgPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJSZW1vdmluZzogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJDYW5ub3QgZm91bmQgZWxlbWVudCB3aXRoIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3IpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5zZXJ0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBiZWZvcmU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgaWYgKFN0cmluZyh2YWx1ZSkuaW5jbHVkZXMoXCJuZC1hZGQtdG8td2luXCIpKSB7XG4gICAgICAgICAgICAkKFwiLm5kLWFkZC10by13aW5cIikucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFmdGVyXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBhZnRlcjogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmFmdGVyKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcHVwXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKSkgIT09IDApIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlBvcHVwIGFscmVhZHkgZGlzcGxheWVkIGluIHNlc3Npb25cIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkNyZWF0aW5nIFBvcHVwOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY3JlYXRlUG9wdXAodmFsdWUsIGNvbnRlbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImV4aXRJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBleGl0IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGV4aXRTY3JvbGxMaXN0ZW5lcihkaXNwbGF5UG9wdXApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1vdXNlbGVhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7b25jZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb3B5SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgY29weSBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb3B5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB7b25jZTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gYXBwZW5kIHBvcHVwIHRvIGJvZHkgYWZ0ZXIgdGltZW91dCBleHBpcmVzXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCgpO1xuICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJlZGl0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIHRleHQ6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC50ZXh0KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImh0bWxcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiRWRpdGluZyBodG1sOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHlsZUFwcGxpY2F0b3JcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUNoYW5nZXNNYXAgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJTdHlsZSBDaGFuZ2VzIE1hcDogXCIsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgICAgICBzdHlsZUFwcGxpY2F0b3IoZWxlbWVudCwgc3R5bGVDaGFuZ2VzTWFwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhZGRDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYGFkZGRpbmcgY2xhc3MgdG8gJHtlbGVtZW50fSBuYW1lZCAke3ZhbHVlfWApO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3ModmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVtb3ZlQ2xhc3NcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGByZW1vdmUgY2xhc3MgZnJvbSAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkb2N1bWVudFRpdGxlXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgY2hhbmdpbmcgZG9jdW1lbnQgdGl0bGUgZnJvbSAke2VsZW1lbnR9IHRvICR7dmFsdWV9YCk7XG4gICAgICAgICAgaWYgKGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBpZiAoZXZlbnQgPT0gXCJ0YWJDaGFuZ2VcIikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJjYXRjaGluZyBldmVudCB0YWJjaGFuZ2UuLlwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRpdGxlID0gZG9jdW1lbnQudGl0bGU7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgKGUpID0+XG4gICAgICAgICAgICAgICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGUsIHZhbHVlLCBvcmlnaW5hbFRpdGxlKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQmFubmVyXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qge05EX1NLVV9MSVNUfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgICAgICAgICAgaWYgKCFwcm9kdWN0SW5mbykge1xuICAgICAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiUHJvZHVjdCBpbmZvIHVuYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgYmFubmVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudFNrdSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShORF9TS1VfTElTVCkpWzBdO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50U2t1KSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJDb3VsZCBub3QgZmluZCBwcm9kdWN0IHNrdVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb2R1Y3RJbmZvKS5pbmNsdWRlcyhlbGVtZW50U2t1KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlVua25vd24gZWRpdCB0eXBlOiBcIiwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzZXRhdHRyaWJ1dGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgYXR0cmlidXRlOiBcIiwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGF0dHJpYnV0ZSkge1xuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgZWxlbWVudC5jc3MoXCJjb250ZW50XCIsIGB1cmwoJHt2YWx1ZS50cmltKCl9KWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhwcm9wZXJ0eSwgcHJvcGVydHlWYWx1ZSwgXCIhaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nOiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5yZXBsYWNlQWxsKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInN3YXBcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlN3YXBwaW5nOiBcIiwgbW92ZV9zZWxlY3Rvcl8xLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgY29uc3QgbjEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBuMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIHN3YXBOb2RlcyhuMSwgbjIpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5qZWN0c2NyaXB0XCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbmplY3Rpbmcgc2NyaXB0OiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5hcHBlbmQoYDxzY3JpcHQ+JHt2YWx1ZX08L3NjcmlwdD5gKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIm1vdmVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhgTW92aW5nICR7bW92ZV9zZWxlY3Rvcl8xfSB0byAke21vdmVfc2VsZWN0b3JfMn1gKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc291cmNlLnJlbW92ZSgpO1xuICAgICAgZGVzdGluYXRpb24ucHJlcGVuZChzb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiTm8gc3VjaCBvcGVyYXRvciBleGlzdHMgeWV0XCIsIG9wZXJhdG9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSA9IGFzeW5jIChldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlKSA9PiB7XG4gICAgY29uc3QgcGFyc2VkVGl0bGVzID0gIUFycmF5LmlzQXJyYXkodGl0bGVzKSA/IFt0aXRsZXNdIDogdGl0bGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkVGl0bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gcGFyc2VkVGl0bGVzW2ldO1xuICAgICAgICBhd2FpdCBkZWxheSgzMDAwKTtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgICBhd2FpdCBkZWxheSgzMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZShldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUG9wdXBDbGljayA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZXZlbnQudGFyZ2V0LmlkO1xuICAgIGlmIChpZCAmJiBpZCA9PT0gXCJuZC1wb3B1cF9fd3JhcHBlclwiKSB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheVBvcHVwID0gKCkgPT4ge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHLCAxKTtcbiAgICBjb25zdCBxUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dydC1zaGFkb3ctaG9zdFwiKTtcbiAgICBpZiAocVBvcHVwKSBxUG9wdXAuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKS5zdHlsZVtcImRpc3BsYXlcIl0gPSBcImJsb2NrXCI7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcblxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb3B5XCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfSwgMTUwMDApO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVBvcHVwID0gKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpID0+IHtcbiAgICAvLyBDcmVhdGUgcG9wdXAgd3JhcHBlclxuICAgIGNvbnN0IHBvcHVwV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICBwb3B1cFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcIm5kLXBvcHVwX193cmFwcGVyXCIpO1xuICAgIHBvcHVwV3JhcHBlci5pZCA9IFwibmQtcG9wdXBfX3dyYXBwZXJcIjtcblxuICAgIC8vIENyZWF0ZSBwb3B1cCBjbG9zZSBidXR0b25cbiAgICBjb25zdCBwb3B1cENsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBwb3B1cENsb3NlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJuZC1wb3B1cF9fYnV0dG9uLWNsb3NlXCIpO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uaW5uZXJUZXh0ID0gXCJYXCI7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfTtcblxuICAgIGlmIChjb250ZW50U2VsZWN0b3IpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbnRlbnRTZWxlY3RvcikpO1xuICAgICAgd2hpbGUgKHZhbHVlLmluY2x1ZGVzKFwie3tSRVBMQUNFfX1cIikgJiYgY29udGVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCJ7e1JFUExBQ0V9fVwiLCBjb250ZW50cy5zaGlmdCgpLnNyYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGZyb20gYWN0aW9uIGFuZCBhcHBlbmQgY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdmFsdWUudHJpbSgpO1xuICAgIGNvbnN0IHBvcHVwID0gdGVtcGxhdGUuY29udGVudC5maXJzdENoaWxkO1xuICAgIHBvcHVwLmFwcGVuZENoaWxkKHBvcHVwQ2xvc2VCdXR0b24pO1xuICAgIHBvcHVwV3JhcHBlci5hcHBlbmRDaGlsZChwb3B1cCk7XG5cbiAgICAvLyBSZW1vdmUgb2xkIHBvcHVwIGlmIGV4aXN0cyBiZWZvcmUgYXBwZW5kaW5nIG5ldyBvbmVcbiAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocG9wdXBXcmFwcGVyKTtcbiAgfTtcblxuICBjb25zdCBzd2FwTm9kZXMgPSBmdW5jdGlvbiBzd2FwTm9kZXMobjEsIG4yKSB7XG4gICAgY29uc3QgcDEgPSBuMS5wYXJlbnROb2RlO1xuICAgIGNvbnN0IHAyID0gbjIucGFyZW50Tm9kZTtcbiAgICBsZXQgaTE7XG4gICAgbGV0IGkyO1xuXG4gICAgaWYgKCFwMSB8fCAhcDIgfHwgcDEuaXNFcXVhbE5vZGUobjIpIHx8IHAyLmlzRXF1YWxOb2RlKG4xKSkgcmV0dXJuO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAxLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4xKSkge1xuICAgICAgICBpMSA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDIuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMi5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMikpIHtcbiAgICAgICAgaTIgPSBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwMS5pc0VxdWFsTm9kZShwMikgJiYgaTEgPCBpMikge1xuICAgICAgaTIrKztcbiAgICB9XG4gICAgcDEuaW5zZXJ0QmVmb3JlKG4yLCBwMS5jaGlsZHJlbltpMV0pO1xuICAgIHAyLmluc2VydEJlZm9yZShuMSwgcDIuY2hpbGRyZW5baTJdKTtcbiAgfTtcblxuICBjb25zdCBhY3Rpb25BcHBsaWNhdG9yID0gKGFjdGlvbnMpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGFjdGlvbkFwcGxpY2F0b3IoYWN0aW9ucyk7XG4gICAgICB9LCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSB0cmFuc2Zvcm1lcihhY3Rpb24pO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKGBDb3VsZG4ndCBhcHBseSBhY3Rpb24gJHthY3Rpb259IHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEFwcGx5IGFjdGlvbnNcbiAgcmV0dXJuIGFjdGlvbkFwcGxpY2F0b3IoYWN0aW9ucyk7XG59XG5leHBvcnQgZGVmYXVsdCBhcHBseUFjdGlvbnM7XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTLCBUUkVBVE1FTlRTX0RVUkFUSU9OLCBNT0JJTEVfTUVESUFfUVVFUll9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7ZmV0Y2hUcmVhdG1lbnRzLCBmZXRjaFRyZWF0bWVudFdlaWdodHN9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBUcmVhdG1lbnQgUmVwb3NpdG9yeVwiKTtcblxuY2xhc3MgVHJlYXRtZW50UmVwb3NpdG9yeSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7dHJlYXRtZW50cywgdHJlYXRtZW50V2VpZ2h0c30gPSBib2R5O1xuICAgIHRoaXMudHJlYXRtZW50cyA9IHRyZWF0bWVudHM7XG5cbiAgICB0aGlzLnRyZWF0bWVudFdlaWdodHMgPSB0cmVhdG1lbnRXZWlnaHRzO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFRyZWF0bWVudHMoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkxvYWRpbmcgdHJlYXRtZW50c1wiKTtcbiAgICBjb25zdCB7VFJFQVRNRU5UU30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgICBjb25zdCB0cmVhdG1lbnRzT2JqID0gSlNPTi5wYXJzZSh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShUUkVBVE1FTlRTKSk7XG4gICAgbGV0IHRyZWF0bWVudHMgPSB0cmVhdG1lbnRzT2JqPy50cmVhdG1lbnRzO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IHRyZWF0bWVudHNPYmo/LnRpbWVzdGFtcDtcbiAgICBpZiAoIXRyZWF0bWVudHMgfHwgIXRpbWVzdGFtcCkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIlRyZWF0bWVudHMgbm90IGZvdW5kIGluIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICBjb25zdCB0cmVhdG1lbnRXaXRoVGltZXN0YW1wID0ge1xuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHRyZWF0bWVudHMsXG4gICAgICB9O1xuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gICAgfVxuICAgIGlmICh0aW1lc3RhbXApIHtcbiAgICAgIGNvbnN0IGVsYXBzZWREYXlzID0gKERhdGUubm93KCkgLSB0aW1lc3RhbXApIC8gKDEwMDAgKiAzNjAwICogMjQpO1xuICAgICAgaWYgKGVsYXBzZWREYXlzID4gVFJFQVRNRU5UU19EVVJBVElPTikge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiVHJlYXRtZW50cyBhcmUgZXhwaXJlZFwiKTtcbiAgICAgICAgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoVHJlYXRtZW50cygpO1xuICAgICAgICBjb25zdCB0cmVhdG1lbnRXaXRoVGltZXN0YW1wID0ge1xuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICB0cmVhdG1lbnRzLFxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShUUkVBVE1FTlRTLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnRXaXRoVGltZXN0YW1wKSk7XG4gICAgICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICAgICAgfVxuICAgIH1cbiAgICBsb2dnZXIuc3VjY2VzcyhcIlRyZWF0bWVudHMgYXJlIGxvYWRlZCBmcm9tIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VHJlYXRtZW50V2VpZ2h0cygpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGZldGNoVHJlYXRtZW50V2VpZ2h0cygpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xuICAgICAgdGhpcy50cmVhdG1lbnRXZWlnaHRzID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNYXRjaGVkVHJlYXRtZW50cygpIHtcbiAgICBjb25zdCB0cmVhdG1lbnRXZWlnaHRzID0gdGhpcy50cmVhdG1lbnRXZWlnaHRzO1xuICAgIGNvbnN0IHVzZXJHcm91cCA9IHRoaXMuZ2V0VXNlckdyb3VwKCk7XG4gICAgY29uc3QgdHJlYXRtZW50cyA9IHRoaXMudHJlYXRtZW50cztcbiAgICBpZiAodHJlYXRtZW50V2VpZ2h0cykge1xuICAgICAgY29uc3QgdXNlckdyb3VwV2VpZ2h0cyA9ICh1c2VyR3JvdXAgJiYgdHJlYXRtZW50V2VpZ2h0c1t1c2VyR3JvdXBdKSA/XG4gICAgICB0cmVhdG1lbnRXZWlnaHRzW3VzZXJHcm91cF0gOiB0cmVhdG1lbnRXZWlnaHRzW1wiZGVmYXVsdFwiXTtcbiAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHRyZWF0bWVudHMpIHtcbiAgICAgICAgLy8gVHJlYXRtZW50IHdlaWdodCBjYW4gYmUgc2V0IHRvIDAgaWYgbm9uLWV4aXN0ZW50IGluIHVzZXIgZ3JvdXBcbiAgICAgICAgLy8gaWYgKCF1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0pIHRyZWF0bWVudC53ZWlnaHQgPSAwO1xuICAgICAgICBpZiAoIXVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXSkgY29udGludWU7XG4gICAgICAgIHRyZWF0bWVudC53ZWlnaHQgPSB1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0ud2VpZ2h0O1xuICAgICAgICBpZiAodHJlYXRtZW50LmFjdGlvbnMuZmluZCgoYSkgPT4gYS52YXJpYW50cykpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0cmVhdG1lbnQuYWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKGFjdGlvbi52YXJpYW50cykge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnRLZXkgb2YgT2JqZWN0LmtleXMoYWN0aW9uLnZhcmlhbnRzKSkge1xuICAgICAgICAgICAgICAgIGlmICh1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0/LnZhcmlhbnRzICYmIHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXT8udmFyaWFudHNbdmFyaWFudEtleV0pIHtcbiAgICAgICAgICAgICAgICAgIGFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQgPSB1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0/LnZhcmlhbnRzW3ZhcmlhbnRLZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxvZ2dlci5sb2coYCR7dHJlYXRtZW50cy5sZW5ndGh9IHRyZWF0bWVudHMgdXNlciBncm91cCBtYXRjaGVkYCk7XG4gICAgaWYgKCF0cmVhdG1lbnRzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICB9XG5cbiAgZ2V0VXNlckdyb3VwKCkge1xuICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzO1xuICAgIGlmIChpc01vYmlsZSkgcmV0dXJuIFwiVUdCXCI7XG4gICAgcmV0dXJuIFwiVUdBXCI7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJlYXRtZW50UmVwb3NpdG9yeTtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIExPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQ291bnRlciBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tDb3VudGVyUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJwYWdlVmlld1wiOlxuICAgICAgcmV0dXJuIHBhZ2VWaWV3SGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiQ0FCYXNrZXRQcmljZVwiOlxuICAgICAgcmV0dXJuIGNhQmFza2V0UHJpY2VIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiTm8gc3VjaCBvcGVyYXRvclwiLCBvcGVyYXRvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmNvbnN0IGdldENvdW50ZXIgPSAoY291bnRlciwgdHlwZSkgPT4ge1xuICB0cnkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oY291bnRlcik7XG4gICAgICBjYXNlIFwibG9jYWxcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvdW50ZXIpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIk5vIHN1Y2ggdHlwZVwiLCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKGBDb3VsZCBub3QgZ2V0IGNvdW50ZXIgJHtjb3VudGVyfWAsIGVycik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IHBhZ2VWaWV3SGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IHBhZ2VWaWV3cyA9IHBhcnNlSW50KGdldENvdW50ZXIoU0VTU0lPTl9TVE9SQUdFX0tFWVMuUEFHRV9WSUVXUywgXCJzZXNzaW9uXCIpKTtcbiAgbG9nZ2VyLmxvZyhcIlBhZ2Ugdmlld3MgY291bnRlciB2YWx1ZTogXCIsIHBhZ2VWaWV3cyk7XG4gIGlmIChwYWdlVmlld3MgPT09IG51bGwpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiUGFnZXZpZXdzIGNvdW50ZXIgbm90IGZvdW5kIGluIHNlc3Npb24gc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocGFnZVZpZXdzLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG5jb25zdCBjYUJhc2tldFByaWNlSGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGNhQmFza2V0UHJpY2UgPSBwYXJzZUludChcbiAgICAgIGdldENvdW50ZXIoTE9DQUxfU1RPUkFHRV9LRVlTLkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgXCJsb2NhbFwiKSk7XG4gIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgcHJpY2UgY291bnRlciB2YWx1ZTogXCIsIGNhQmFza2V0UHJpY2UpO1xuICBpZiAoY2FCYXNrZXRQcmljZSA9PT0gbnVsbCkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJDb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgcHJpY2UgY291bnRlciBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY2FCYXNrZXRQcmljZSwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRWxlbWVudCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tFbGVtZW50UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWUsIHNlbGVjdG9yLCBzZWxlY3RvckFsbCwgc2VsZWN0b3JGYWxsYmFjayA9IG51bGx9ID0gcnVsZTtcbiAgbGV0IG1haW5TZWxlY3RvciA9IHNlbGVjdG9yO1xuICBpZiAobWFpblNlbGVjdG9yICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBtYWluU2VsZWN0b3IgPSBzZWxlY3RvckZhbGxiYWNrID8gc2VsZWN0b3JGYWxsYmFjayA6IG1haW5TZWxlY3RvcjtcbiAgfVxuXG4gIGlmIChvcGVyYXRvciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gIH1cbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoc2VsZWN0b3JBbGwgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBlbGVtZW50O1xuICBpZiAobWFpblNlbGVjdG9yKSBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpO1xuICBlbHNlIGlmIChzZWxlY3RvckFsbCkgZWxlbWVudCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvckFsbCkpO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwidGV4dC1udW1iZXJcIjoge1xuICAgICAgbGV0IHRlbXBWYWw7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgICAgICB0ZW1wVmFsID0gZWxlbWVudC5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICAgIHJldHVyblZhbCArPSBwYXJzZUludChlbGVtLnRleHRDb250ZW50LnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wVmFsID0gcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLnRleHRDb250ZW50XG4gICAgICAgICAgICAucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IHBhcnNlSW50KHRlbXBWYWwpO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcImNsYXNzTGlzdFwiOlxuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoQXJyYXkuZnJvbShlbGVtZW50LmNsYXNzTGlzdCksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJjb3VudFwiOiB7XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBBcnJheS5pc0FycmF5KGVsZW1lbnQpID8gZWxlbWVudC5sZW5ndGggOiBlbGVtZW50ID8gMSA6IDA7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwic3R5bGVcIjoge1xuICAgICAgY29uc3QgZWxlbWVudFN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICBjb25zdCBzdHlsZUtleSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICBjb25zdCBzdHlsZVZhbHVlID0gdmFsdWUuc3BsaXQoXCI6XCIpWzFdLnRyaW0oKTtcbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IGVsZW1lbnRTdHlsZXNbc3R5bGVLZXldO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHN0eWxlVmFsdWUpO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmZhaWxlZChcIk9wZXJhdG9yIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRnVuY3Rpb24gQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRnVuY3Rpb25SdWxlID0gKHJ1bGUsIG9wdHMpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtwcm9kdWN0SW5mb30gPSBvcHRzO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWUsIGJpbmRpbmdzfSA9IHJ1bGU7XG4gIGlmICghb3BlcmF0b3IpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiUnVsZSBmdW5jdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGNvbnRleHQgPSB7fTtcbiAgaWYgKGJpbmRpbmdzID09IFwicHJvZHVjdEluZm9cIikge1xuICAgIGNvbnRleHQgPSB7XG4gICAgICBwcm9kdWN0SW5mbyxcbiAgICB9O1xuICB9XG4gIGNvbnN0IHJ1bGVGdW5jdGlvbiA9IEZ1bmN0aW9uKG9wZXJhdG9yKS5iaW5kKGNvbnRleHQpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBydWxlRnVuY3Rpb24oKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBTZXNzaW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1Nlc3Npb25SdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICByZXR1cm4gZHVyYXRpb25IYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJoaXN0b3J5XCI6XG4gICAgICByZXR1cm4gaGlzdG9yeUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBnZXRTZXNzaW9uVGltZXN0YW1wID0gKCkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludCh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1RJTUVTVEFNUCkpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBnZXQgc2Vzc2lvbiB0aW1lc3RhbXBcIiwgZXJyKTtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxufTtcblxuY29uc3QgZHVyYXRpb25IYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgZHVyYXRpb24gPSAoRGF0ZS5ub3coKSAtIGdldFNlc3Npb25UaW1lc3RhbXAoKSkgLyAxMDAwO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkdXJhdGlvbiwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgaGlzdG9yeUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjdXJyZW50SGlzdG9yeSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSElTVE9SWSk/LnNwbGl0KFwiLFwiKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY3VycmVudEhpc3RvcnksIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBFbnYgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRW52UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImRldmljZV90eXBlXCI6IHtcbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzID8gXCJtb2JpbGVcIiA6IFwiZGVza3RvcFwiO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoaXNNb2JpbGUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlciwgZGV0ZXJtaW5lUGN0LCBnZXRJZGVudGlmaWVyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgUmFuZG9tUGN0IENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1JhbmRvbU51bWJlclJ1bGUgPSBhc3luYyAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge2NvbmRpdGlvbiwgdmFsdWUsIHNhbHR9ID0gcnVsZTtcbiAgaWYgKCFzYWx0KSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIlNhbHQgaXMgbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGlkZW50aWZpZXIgPSBhd2FpdCBnZXRJZGVudGlmaWVyKCk7XG4gIGNvbnN0IHJhbmRvbVBjdCA9IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgc2FsdCk7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IHJhbmRvbVBjdDtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge2NoZWNrQ291bnRlclJ1bGV9IGZyb20gXCIuL2NvdW50ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRGF0YUxheWVyUnVsZX0gZnJvbSBcIi4vZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VsZW1lbnRSdWxlfSBmcm9tIFwiLi9lbGVtZW50Q2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0Z1bmN0aW9uUnVsZX0gZnJvbSBcIi4vZnVuY3Rpb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrU2Vzc2lvblJ1bGV9IGZyb20gXCIuL3Nlc3Npb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrVXJsUnVsZX0gZnJvbSBcIi4vdXJsQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VudlJ1bGV9IGZyb20gXCIuL2VudkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tSYW5kb21OdW1iZXJSdWxlfSBmcm9tIFwiLi9yYW5kb21OdW1iZXJDaGVja2VyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFJ1bGUgRW5naW5lXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSdWxlRW5naW5lIHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHtiYXNlUnVsZVNldCwgYnVzaW5lc3NSdWxlU2V0LCBiaW5kaW5ncywgY2FsbGJhY2sgPSBudWxsfSA9IGJvZHk7XG4gICAgdGhpcy5iYXNlUnVsZVNldCA9IGJhc2VSdWxlU2V0O1xuICAgIHRoaXMuYnVzaW5lc3NSdWxlU2V0ID0gYnVzaW5lc3NSdWxlU2V0O1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmJpbmRpbmdzID0gYmluZGluZ3M7XG4gIH1cblxuICBhc3luYyBjaGVja1J1bGVzKCkge1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiB0aGlzLmJhc2VSdWxlU2V0KSB7XG4gICAgICBjb25zdCBydWxlU2F0aXNmaWVkID0gYXdhaXQgdGhpcy5jaGVja1J1bGUocnVsZSk7XG4gICAgICBpZiAoIXJ1bGVTYXRpc2ZpZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGFzeW5jIGNoZWNrQnVzaW5lc3NSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5idXNpbmVzc1J1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmIChydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBydWxlLmJ1c2luZXNzUnVsZUlkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGFzeW5jIGNoZWNrUnVsZShydWxlKSB7XG4gICAgY29uc3Qge2NoYWluLCBjaGFpbl9jb25kaXRpb24sIHR5cGV9ID0gcnVsZTtcbiAgICBsZXQgcnVsZVNhdGlzZmllZCA9IG51bGw7XG4gICAgLy8gY2hlY2sgcnVsZVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrU2Vzc2lvblJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNvdW50ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrQ291bnRlclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVsZW1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRWxlbWVudFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRhdGFMYXllclwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1cmxcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrVXJsUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRnVuY3Rpb25SdWxlKHJ1bGUsIHRoaXMuYmluZGluZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbnZpcm9ubWVudFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tFbnZSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyYW5kb21cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGF3YWl0IGNoZWNrUmFuZG9tTnVtYmVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIuZmFpbGVkKGBObyBzdWNoIHJ1bGUgdHlwZTogJHt0eXBlfWApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoY2hhaW4pIHtcbiAgICAgIHN3aXRjaCAoY2hhaW5fY29uZGl0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJhbmRcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAmJiBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkIHx8IGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkICE9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiTm8gc3VjaCBjaGFpbiBjb25kaXRpb25cIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlU2F0aXNmaWVkO1xuICB9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBhcHBseUFjdGlvbnMgZnJvbSBcIi4uL05leHRkYXlBcHBseUFjdGlvbnMvaW5kZXhcIjtcbmltcG9ydCBUcmVhdG1lbnRSZXBvc2l0b3J5IGZyb20gXCIuLi9OZXh0ZGF5VHJlYXRtZW50UmVwb3NpdG9yeS9pbmRleFwiO1xuaW1wb3J0IFJ1bGVFbmdpbmUgZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lXCI7XG5pbXBvcnQge1xuICBjaGVja3BvaW50LFxuICBjaGVja3BvaW50cyxcbiAgYWRkVHJlYXRtZW50LFxufSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBNT0JJTEVfTUVESUFfUVVFUlksXG4gIExPQ0FMX1NUT1JBR0VfS0VZUyxcbiAgVFJFQVRNRU5UX1JBVElPLFxufSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcyxcbiAgaW5qZWN0U3R5bGVTaGVldCxcbiAgcmVtb3ZlRG9jdW1lbnRIaWRlLFxuICBkZXRlcm1pbmVQY3QsXG4gIHByZXBhcmVBY3Rpb25zLFxufSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZU9uQ29tcG9uZW50XCIpO1xuXG5jb25zdCBiZWFnbGVPbiA9IGFzeW5jIChpZGVudGlmaWVyLCBtb25pdG9yLCBwcm9kdWN0SW5mb1Byb21pc2UsIGRlYnVnTW9kZSkgPT4ge1xuICBtb25pdG9yLnNlbmRMb2dzKCk7XG5cbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgY29uc3QgZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgPSBkZWJ1Z01vZGUgPyBzZWFyY2hQYXJhbXMuaW5jbHVkZXMoXCJmaWx0ZXI9XCIpID8gc2VhcmNoUGFyYW1zLnNsaWNlKFxuICAgICAgc2VhcmNoUGFyYW1zLmluZGV4T2YoXCJbXCIpICsgMSxcbiAgICAgIHNlYXJjaFBhcmFtcy5sYXN0SW5kZXhPZihcIl1cIiksXG4gICkuc3BsaXQoXCIsXCIpLm1hcCgoaXRlbSkgPT4gcGFyc2VJbnQoaXRlbSwgMTApKTogbnVsbCA6IG51bGw7XG5cbiAgaW5qZWN0U3R5bGVTaGVldCgpO1xuICBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcygpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgfSwgMjAwMCk7XG4gIGNvbnN0IHRyZWF0bWVudHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRzKCk7XG4gIGNvbnN0IHRyZWF0bWVudFdlaWdodHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRXZWlnaHRzKCk7XG4gIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzO1xuICBjb25zdCBPQlNFUlZFUl9DT05GSUcgPSB7c3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfTtcblxuICAvLyBUZW1wb3JhcnkgY29kZSBibG9ja1xuICBjb2xsZWN0Q0FCYXNrZXRQcmljZSgpO1xuICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCIvc2lwYXJpcy1saXN0ZXNpLmh0bWxcIikpIHtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgbG9nZ2VyLmxvZyhcIk11dGF0aW9uIG9ic2VydmVkLCBjYWxsaW5nIGNvbGxlY3RDQUJhc2tldFByaWNlXCIpO1xuICAgICAgY29sbGVjdENBQmFza2V0UHJpY2UoKTtcbiAgICB9KTtcbiAgICBjb25zdCBiYXNrZXRDaGVja291dEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NoZWNrb3V0Rm9ybVwiKTtcbiAgICBpZiAoYmFza2V0Q2hlY2tvdXRGb3JtKSBvYnNlcnZlci5vYnNlcnZlKGJhc2tldENoZWNrb3V0Rm9ybSwgT0JTRVJWRVJfQ09ORklHKTtcbiAgfVxuICAvLyBFbmQgb2YgdGVtcG9yYXJ5IGNvZGUgYmxvY2tcblxuICBjb25zdCBbdHJlYXRtZW50cywgdHJlYXRtZW50V2VpZ2h0cywgcHJvZHVjdEluZm9dID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBbdHJlYXRtZW50c1Byb21pc2UsIHRyZWF0bWVudFdlaWdodHNQcm9taXNlLCBwcm9kdWN0SW5mb1Byb21pc2VdKTtcblxuICBsb2dnZXIuc3VjY2VzcyhcIkZvdW5kIHRyZWF0bWVudHM6IFwiLCB0cmVhdG1lbnRzKTtcblxuICBjb25zdCB0cmVhdG1lbnRSZXBvc2l0b3J5ID0gbmV3IFRyZWF0bWVudFJlcG9zaXRvcnkoe1xuICAgIHRyZWF0bWVudHMsXG4gICAgdHJlYXRtZW50V2VpZ2h0cyxcbiAgfSk7XG4gIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVHJlYXRtZW50UmVwb3NpdG9yeUNyZWF0ZWQpO1xuICBjb25zdCBtYXRjaGVkVHJlYXRtZW50cyA9IHRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0TWF0Y2hlZFRyZWF0bWVudHMoKTtcbiAgaWYgKCFtYXRjaGVkVHJlYXRtZW50cy5sZW5ndGgpIHtcbiAgICBsb2dnZXIubG9nKFwiTm8gdHJlYXRtZW50cyBtYXRjaGVkLCByZXR1cm5pbmcgd2l0aG91dCBmdXJ0aGVyIGFjdGlvblwiKTtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcmVBcHBseVRyZWF0bWVudHNNYXAgPSB7fTtcbiAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgbWF0Y2hlZFRyZWF0bWVudHMpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiRXJyb3IgZXhlY3V0aW5nIHJ1bGVzXCIsIGVycik7XG4gICAgfVxuICB9XG4gIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRyZWF0bWVudHNBcHBsaWVkKTtcbiAgbG9nZ2VyLnN1Y2Nlc3MoXCJBcHBsaWVkIHRyZWF0bWVudHM6IFwiLCB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmEpO1xuXG4gIHNldEludGVydmFsKCgpID0+IHtcbiAgICBtb25pdG9yLnVwZGF0ZUxhdGVzdENoYW5nZXMoKTtcbiAgfSwgMTAwMCk7XG5cbiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMocmVBcHBseVRyZWF0bWVudHNNYXApKSB7XG4gICAgY29uc3QgdHJlYXRtZW50SWRzID0gcmVBcHBseVRyZWF0bWVudHNNYXBba2V5XTtcbiAgICBjb25zdCByZUFwcGx5VHJlYXRtZW50cyA9IG1hdGNoZWRUcmVhdG1lbnRzLmZpbHRlcigodCkgPT4gdHJlYXRtZW50SWRzLmluY2x1ZGVzKHQuaWQpKTtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSBcImluZmluaXRlX3Njcm9sbFwiOiB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gaW5maW5pdGVfc2Nyb2xsYCk7XG4gICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRpbWVvdXRcIjoge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHRpbWVvdXRgKTtcbiAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZWxlbWVudF9jaGFuZ2VcIjoge1xuICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgIGNvbnN0IHJlYXBwbHlTZWxlY3Rvckxpc3QgPSBBcnJheS5pc0FycmF5KHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yKSA/XG4gICAgICAgICAgICB0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvciA6IFt0cmVhdG1lbnQucmVhcHBseV9zZWxlY3Rvcl07XG4gICAgICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiByZWFwcGx5U2VsZWN0b3JMaXN0KSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBlbGVtZW50X2NoYW5nZWApO1xuICAgICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCBPQlNFUlZFUl9DT05GSUcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJvbl9zY3JvbGxcIjoge1xuICAgICAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIG9uX3Njcm9sbGApO1xuICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJxdWVyeV9zZWFyY2hfY2hhbmdlXCI6IHtcbiAgICAgICAgbGV0IHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnNlYXJjaCAhPT0gcXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBxdWVyeV9zZWFyY2hfY2hhbmdlYCk7XG4gICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlJlYXBwbHkgZXZlbnQgbm90IGZvdW5kOiBcIiwga2V5KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuUmVhcHBseVRyZWF0bWVudExpc3RlbmVycyk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgYWN0aW9ucyxcbiAgICAgIGJhc2VSdWxlU2V0LFxuICAgICAgZGV2aWNlLFxuICAgICAgZGVwZW5kYW50X29uX3RyZWF0bWVudCxcbiAgICAgIHJlYXBwbHlfZXZlbnQsXG4gICAgICBidXNpbmVzc1J1bGVTZXQsXG4gICAgICB3ZWlnaHQsXG4gICAgICBkZWxheSxcbiAgICB9ID0gdHJlYXRtZW50O1xuICAgIGlmIChkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyAmJiAhZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChkZXZpY2UgPT09IFwibW9iaWxlXCIgJiYgIWlzTW9iaWxlKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiVHJlYXRtZW50IGRldmljZSAnbW9iaWxlJyBtaXNtYXRjaFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRldmljZSA9PT0gXCJkZXNrdG9wXCIgJiYgaXNNb2JpbGUpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJUcmVhdG1lbnQgZGV2aWNlICdkZXNrdG9wJyBtaXNtYXRjaFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHJlYXBwbHlfZXZlbnQpIHtcbiAgICAgIGxldCByZWFwcGx5X2V2ZW50X2FycmF5ID0gcmVhcHBseV9ldmVudDtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWFwcGx5X2V2ZW50KSkgcmVhcHBseV9ldmVudF9hcnJheSA9IFtyZWFwcGx5X2V2ZW50XTtcbiAgICAgIGxvZ2dlci5sb2coYFJlYXBwbHkgZXZlbnQgJyR7cmVhcHBseV9ldmVudH0nIGZvdW5kIGZvciB0cmVhdG1lbnQ6ICR7aWR9YCk7XG4gICAgICBmb3IgKGNvbnN0IHJlYXBwbHlFdmVudCBvZiByZWFwcGx5X2V2ZW50X2FycmF5KSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID9cbiAgICAgICAgICAgICAgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA6IFtdO1xuICAgICAgICBpZiAocHJldmlvdXNWYWx1ZS5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IGFscmVhZHkgYWRkZWQgZm9yIHJlYXBwbHkgZXZlbnRcIik7XG4gICAgICAgIH0gZWxzZSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID0gWy4uLnByZXZpb3VzVmFsdWUsIGlkXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYmluZGluZ3MgPSB7cHJvZHVjdEluZm99O1xuICAgIGNvbnN0IHJ1bGVFbmdpbmUgPSBuZXcgUnVsZUVuZ2luZSh7YmFzZVJ1bGVTZXQsIGJ1c2luZXNzUnVsZVNldCwgYmluZGluZ3N9KTtcbiAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgYmFzZSBydWxlIHNldCBjaGVjayBmb3IgdHJlYXRtZW50OiBcIiArIGlkKTtcbiAgICBpZiAoIWJhc2VSdWxlU2V0IHx8IGF3YWl0IHJ1bGVFbmdpbmUuY2hlY2tSdWxlcygpKSB7XG4gICAgICBsZXQgdHJlYXRtZW50U2tpcFJhdGlvID0gd2VpZ2h0ID09PSAxMDAgPyAwIDogKDEwMCAtIHdlaWdodCB8fCBUUkVBVE1FTlRfUkFUSU8pO1xuICAgICAgaWYgKGRlcGVuZGFudF9vbl90cmVhdG1lbnQpIHtcbiAgICAgICAgLy8gSWYgZGVwZW5kYW50IG9uIHRyZWF0bWVudCBpcyBmb3VuZCBhbmQgaGFzIHdlaWdodDsgdXNlIGl0cyBza2lwIHJhdGlvXG4gICAgICAgIGNvbnN0IGRlcGVuZGFudE9uVHJlYXRtZW50V2VpZ2h0ID0gbWF0Y2hlZFRyZWF0bWVudHMuZmluZCgodCkgPT4gdC5pZCA9PT0gZGVwZW5kYW50X29uX3RyZWF0bWVudCk/LndlaWdodDtcbiAgICAgICAgdHJlYXRtZW50U2tpcFJhdGlvID0gZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHQgPT09IDEwMCA/IDAgOiAoMTAwIC0gZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHR8fFxuICAgICAgICAgICAgVFJFQVRNRU5UX1JBVElPKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgc2tpcCByYXRpbzogXCIgKyB0cmVhdG1lbnRTa2lwUmF0aW8pO1xuICAgICAgLy8gRGV0ZXJtaW5pbmcgaWRlbnRpZmllciBmb3IgY2FsY3VsYXRpbmcgdHJlYXRtZW50IHBlcmNlbnRhZ2UgKHRyZWF0bWVudFBjdClcbiAgICAgIGNvbnN0IGRldGVybWluaW5nSWRlbnRpZmllciA9IGRlcGVuZGFudF9vbl90cmVhdG1lbnQgfHwgaWQ7XG5cbiAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIHRyZWF0bWVudCB1c2VkIHRvIGRldGVybWluZSBpZiBpdCBzaG91bGQgYmUgc2tpcHBlZCBvciBub3RcbiAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyAxMDAgd2hlbiBkZWJ1ZyBtb2RlIGlzIDEsIGVuc3VyaW5nIG5vIHRyZWF0bWVudHMgYXJlIHNraXBwZWRcbiAgICAgIGNvbnN0IHRyZWF0bWVudFBjdCA9IGRlYnVnTW9kZSA9PT0gMSA/IDEwMCA6IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgZGV0ZXJtaW5pbmdJZGVudGlmaWVyKTtcbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRQY3Q6IFwiICsgdHJlYXRtZW50UGN0ICsgYCB3aXRoIGRlYnVnIG1vZGUgJHtkZWJ1Z01vZGUgPyBcIm9uXCIgOiBcIm9mZlwifWApO1xuICAgICAgbGV0IGJ1c2luZXNzUnVsZUlkID0gbnVsbDtcbiAgICAgIGlmIChidXNpbmVzc1J1bGVTZXQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHN1YiB2YXJpYW50IHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgICBidXNpbmVzc1J1bGVJZCA9IGF3YWl0IHJ1bGVFbmdpbmUuY2hlY2tCdXNpbmVzc1J1bGVzKCk7XG4gICAgICAgIGlmIChidXNpbmVzc1J1bGVJZCkge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBidXNpbmVzcyBydWxlIHRyYW5zZm9ybWF0aW9uIHdpdGggaWQ6IFwiLCBidXNpbmVzc1J1bGVJZCk7XG4gICAgICAgIH0gZWxzZSBsb2dnZXIubG9nKFwiQXBwbHlpbmcgdHJlYXRtZW50IHdpdGggZGVmYXVsdCB2YWx1ZXNcIik7XG4gICAgICB9XG4gICAgICBpZiAodHJlYXRtZW50UGN0IDwgdHJlYXRtZW50U2tpcFJhdGlvKSB7XG4gICAgICAgIGxvZ2dlci5sb2coYFRyZWF0bWVudCAke2lkfSBza2lwcGVkIGR1ZSB0byB0cmVhdG1lbnQgc3BsaXQgcmF0aW9gKTtcbiAgICAgICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgXCJza2lwcGVkXCIsIGRlcGVuZGFudF9vbl90cmVhdG1lbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBbcHJlcGFyZWQsIHZhcmlhbnRdID0gYXdhaXQgcHJlcGFyZUFjdGlvbnMoaWRlbnRpZmllciwgYWN0aW9ucywgYnVzaW5lc3NSdWxlSWQpO1xuICAgICAgLy8gZGVsYXkgbG9naWMgbmVlZHMgcmVmYWN0b3Jpbmcgd2hlbiBpdCB3aWxsIGJlIHVzZWQgYWdhaW5cbiAgICAgIGlmIChkZWxheSkgYXdhaXQgZGVsYXkoZGVsYXkpO1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBwbHlBY3Rpb25zKHByZXBhcmVkLCBwcm9kdWN0SW5mbyk7XG4gICAgICBpZiAocmVzID09PSBmYWxzZSkge1xuICAgICAgICBhZGRUcmVhdG1lbnQoaWQsIGJ1c2luZXNzUnVsZUlkLCB2YXJpYW50LCBcImZhaWxlZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgXCJhcHBsaWVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsb2dnZXIuZmFpbGVkKFwiUnVsZSBjaGVjayBmYWlsZWQgZm9yIHRyZWF0bWVudDogXCIsIGlkKTtcbiAgfVxuXG4gIC8vIFRlbXBvcmFyeSBjb2RlIGJsb2NrIHRvIHRyYWNrIGNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCB0b3RhbCBwcmljZVxuICAvLyBUT0RPOiBSZW1vdmUgb25jZSB0aGUgaW5mbyBjYW4gYmUgb2J0YWluZWQgdmlhIG9iamVjdCBvbiB3aW5kb3dcbiAgZnVuY3Rpb24gY29sbGVjdENBQmFza2V0UHJpY2UoKSB7XG4gICAgY29uc3Qge0NPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRX0gPSBMT0NBTF9TVE9SQUdFX0tFWVM7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgICBjb25zdCBwcmljZUVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByaWNlXCIpKTtcbiAgICAgIHByaWNlRWxlbWVudHMucHVzaCguLi5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3LXByaWNlXCIpKSk7XG4gICAgICBpZiAoIXByaWNlRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJQcmljZSBlbGVtZW50cyBub3QgZm91bmRcIik7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiUHJpY2UgZWxlbWVudHM6IFwiLCBwcmljZUVsZW1lbnRzKTtcbiAgICAgIGNvbnN0IGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID0gcHJpY2VFbGVtZW50cy5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICByZXR1cm5WYWwgKz0gcGFyc2VJbnQoZWxlbS50ZXh0Q29udGVudC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgfSwgMCk7XG4gICAgICBsb2dnZXIubG9nKFwiQ291cG9uIGFwcGxpY2FibGUgdG90YWwgcHJpY2U6IFwiLCBjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSk7XG4gICAgICBpZiAoY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgPj0gMCkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgICBDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtb3pldGkuaHRtbFwiKSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNhQmFza2V0UHJpY2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFKTtcbiAgICAgIGlmIChjYUJhc2tldFByaWNlID09PSBudWxsKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgYmVhZ2xlT247XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBNb25pdG9yIGZyb20gXCIuLi9OZXh0ZGF5TW9uaXRvci9pbmRleFwiO1xuaW1wb3J0IHtwcm9kdWN0SW5mb0xvb2t1cH0gZnJvbSBcIi4uL05leHRkYXlBcGlcIjtcbmltcG9ydCBiZWFnbGVPbiBmcm9tIFwiLi4vQmVhZ2xlT25cIjtcbmltcG9ydCB7XG4gIGNoZWNrcG9pbnQsXG4gIGNoZWNrcG9pbnRzLFxuICBhZGRUb0JlYWdsZUluZm9MYXllcixcbiAgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllcixcbiAgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcixcbn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgU1BMSVRfUkFUSU8sXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIE1BWF9USU1FT1VUX1BFUl9TRVNTSU9OLFxufSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBnZXRJZGVudGlmaWVyLFxuICByZW1vdmVEb2N1bWVudEhpZGUsXG4gIGRldGVybWluZVBjdCxcbiAgZ2V0RGVidWdNb2RlLFxuICBpc1NlbmRCZWFjb25TdXBwb3J0ZWQsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuXG4oYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuQmVhZ2xlTG9hZGVkKTtcbiAgbGV0IG1vbml0b3IgPSBudWxsO1xuICBsZXQgaXNPbiA9IG51bGw7XG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcbiAgY29uc3Qge1RJTUVPVVRfQ09VTlR9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gIGxldCB0aW1lb3V0Q291bnRlciA9IDA7XG4gIGxvZ2dlci5pbmZvKFwiTmV4dGRheSBpbml0aWFsaXppbmdcIik7XG4gIHRyeSB7XG4gICAgYXdhaXQgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcigpO1xuICAgIGNvbnN0IHByb2R1Y3RJbmZvUHJvbWlzZSA9IHByb2R1Y3RJbmZvTG9va3VwKCk7XG4gICAgLy8gY2hlY2sgaWYgZGVidWcgbW9kZSBpcyBvbiwgYWxzbyBhZGRzIGRibSB0byBiZWFnbGVJbmZvTGF5ZXJcbiAgICBjb25zdCBkZWJ1Z01vZGUgPSBnZXREZWJ1Z01vZGUoKTtcbiAgICBtb25pdG9yID0gbmV3IE1vbml0b3IoKTtcbiAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLkluaXRpYWxpemVkKTtcblxuICAgIGNvbnN0IGlkZW50aWZpZXIgPSBhd2FpdCBnZXRJZGVudGlmaWVyKCk7XG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGNvb2tpZSBpZGVudGlmaWVyOiBcIiwgaWRlbnRpZmllcik7XG4gICAgY29uc3QgY29va2llUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIpO1xuICAgIGlmICghZGVidWdNb2RlKSB7XG4gICAgICBpZiAoY29va2llUGN0IDwgU1BMSVRfUkFUSU8pIHtcbiAgICAgICAgaWYgKGNvb2tpZVBjdCA9PT0gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGNvb2tpZSBwY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImlzT25cIiwgaXNPbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc09uID0gdHJ1ZTtcbiAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpc09uXCIsIGlzT24pO1xuICAgICAgfVxuXG4gICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlVzZXJPbk9mZik7XG5cbiAgICAgIGlmICghaXNTZW5kQmVhY29uU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2VuZEJlYWNvbiBpcyBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgfVxuXG4gICAgICB0aW1lb3V0Q291bnRlciA9IHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVElNRU9VVF9DT1VOVCkpIHx8IDA7XG4gICAgICBpZiAodGltZW91dENvdW50ZXIgPiBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTikge1xuICAgICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV4dGRheSB0aW1lb3V0IHRocmVzaG9sZCByZWFjaGVkXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuaW5mbyhcIkRlYnVnIG1vZGUgb246IGFsbCBhcHBsaWNhYmxlIHRyZWF0bWVudHMgd2lsbCBiZSBhcHBsaWVkXCIpO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIH1cblxuICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcIm5leHREYXktaGlkZVwiKSkge1xuICAgICAgY2hlY2twb2ludChjaGVja3BvaW50cy5TY3JpcHRUaW1lT3V0KTtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVElNRU9VVF9DT1VOVCwgdGltZW91dENvdW50ZXIgKyAxKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5leHRkYXkgc2NyaXB0IHRpbWVkIG91dFwiKTtcbiAgICB9XG5cbiAgICAvLyBWaXZlbnNlIHNwZWNpZmljXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhZG1pbiwgbWFraW5nIHRoZW0gb3V0IG9mIHNjb3BlXG4gICAgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LnZ2c0lzU2hvd3Jvb20pIHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuT1VUX09GX1NDT1BFLCB0cnVlKTtcbiAgICB9XG4gICAgLy8gVml2ZW5zZSBzcGVjaWZpY1xuXG4gICAgY29uc3QgaXNPdXRPZlNjb3BlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUpO1xuICAgIGlmIChpc091dE9mU2NvcGUgPT09IFwidHJ1ZVwiKSB7XG4gICAgICBsb2dnZXIud2FybihcIlVzZXIgaXMgb3V0IG9mIHNjb3BlXCIpO1xuICAgICAgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllcihcImlzT25cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIgPSB3aW5kb3cuZGF0YUxheWVyIHx8IFtdO1xuICAgICAgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LmlzT24gPT09IHRydWUpIHtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwidHJ1ZVwifSk7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LmlzT24gPT09IGZhbHNlKSB7XG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcImZhbHNlXCJ9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNPbiA9PT0gZmFsc2UpIHRocm93IG5ldyBFcnJvcihcIkNvbnRyb2wgZ3JvdXA6IG5vIHRyZWF0bWVudHMgYXBwbGllZFwiKTtcblxuICAgIGxvZ2dlci5sb2coXCJGb3VuZCBjb29raWUgcGVyY2VudGFnZTogXCIsIGNvb2tpZVBjdCk7XG4gICAgbG9nZ2VyLmxvZyhcIlNwbGl0X3JhdGlvOiBcIiwgU1BMSVRfUkFUSU8pO1xuICAgIGxvZ2dlci5sb2coXCJjb29raWVQY3QgPCBTUExJVF9SQVRJT1wiLCBjb29raWVQY3QgPCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmluZm8oYENvbnRyb2wgZ3JvdXAgcmF0aW86ICR7U1BMSVRfUkFUSU99JWApO1xuXG4gICAgYmVhZ2xlT24oaWRlbnRpZmllciwgbW9uaXRvciwgcHJvZHVjdEluZm9Qcm9taXNlLCBkZWJ1Z01vZGUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICBjb25zb2xlLndhcm4oXCJOZXh0ZGF5OiBcIiwgZXJyLm1lc3NhZ2UpO1xuICAgIG1vbml0b3Iuc2VuZExvZ3MoZXJyLm1lc3NhZ2UsIHRydWUpO1xuICB9XG59KSgpO1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJydW50aW1lIiwidW5kZWZpbmVkIiwiT3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd24iLCJoYXNPd25Qcm9wZXJ0eSIsIiRTeW1ib2wiLCJTeW1ib2wiLCJpdGVyYXRvclN5bWJvbCIsIml0ZXJhdG9yIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsInRvU3RyaW5nVGFnIiwiZGVmaW5lIiwib2JqIiwia2V5IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImVyciIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInNlbGYiLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY3JlYXRlIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwic3RhdGUiLCJHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0IiwibWV0aG9kIiwiYXJnIiwiR2VuU3RhdGVFeGVjdXRpbmciLCJFcnJvciIsIkdlblN0YXRlQ29tcGxldGVkIiwiZG9uZVJlc3VsdCIsImRlbGVnYXRlIiwiZGVsZWdhdGVSZXN1bHQiLCJtYXliZUludm9rZURlbGVnYXRlIiwiQ29udGludWVTZW50aW5lbCIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwicmVjb3JkIiwidHJ5Q2F0Y2giLCJ0eXBlIiwiZG9uZSIsIkdlblN0YXRlU3VzcGVuZGVkWWllbGQiLCJtYWtlSW52b2tlTWV0aG9kIiwiZm4iLCJjYWxsIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwidGhpcyIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsInZhbHVlcyIsIkdwIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIkFzeW5jSXRlcmF0b3IiLCJQcm9taXNlSW1wbCIsImludm9rZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHQiLCJfX2F3YWl0IiwidGhlbiIsInVud3JhcHBlZCIsImVycm9yIiwicHJldmlvdXNQcm9taXNlIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJUeXBlRXJyb3IiLCJpbmZvIiwicmVzdWx0TmFtZSIsIm5leHQiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicHVzaCIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJsZW5ndGgiLCJpIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiZ2VuRnVuIiwiY3RvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXN5bmMiLCJQcm9taXNlIiwiaXRlciIsImtleXMiLCJvYmplY3QiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJyb290UmVjb3JkIiwicnZhbCIsImV4Y2VwdGlvbiIsImhhbmRsZSIsImxvYyIsImNhdWdodCIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiZmluaXNoIiwidGhyb3duIiwiZGVsZWdhdGVZaWVsZCIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsImdldCIsInByb3AiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJfbmV4dCIsIl90aHJvdyIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiX3R5cGVvZiIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIlRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiaW5jbHVkZXMiLCJMT0dfQVBJX1VSTCIsIk1PQklMRV9NRURJQV9RVUVSWSIsIlNFU1NJT05fU1RPUkFHRV9LRVlTIiwiTE9DQUxfU1RPUkFHRV9LRVlTIiwiTG9nZ2VyIiwib3JpZ2luIiwiREVCVUciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY29uc29sZSIsImxvZyIsIml0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwidG9TdHJpbmciLCJ3YXJuIiwiX2RlZmluZVByb3BlcnR5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJtaW5MZW4iLCJmcm9tIiwidGVzdCIsIl9zbGljZWRUb0FycmF5IiwiaXNBcnJheSIsIl9pIiwiX3MiLCJfZSIsIl9hcnIiLCJfbiIsIl9kIiwibG9nZ2VyIiwiY2hlY2tEYXRhTGF5ZXJSdWxlIiwicnVsZSIsIm9wZXJhdG9yIiwiY29uZGl0aW9uIiwicnVudGltZVZhbHVlIiwiZGF0YUxheWVyRmluZGVyIiwiY29uZGl0aW9uQ2hlY2tlciIsInJlcyIsImJlYWdsZUluZm9MYXllciIsInNwbGl0IiwiZmFpbGVkIiwic3VjY2VzcyIsImRhdGFMYXllciIsImNoZWNrVXJsUnVsZSIsInJlcXVlc3RVUkwiLCJwYXRoIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiVVJMIiwic2VhcmNoIiwicmVwbGFjZSIsInBhdGhuYW1lIiwiY2hlY2twb2ludHMiLCJlIiwiZiIsInBhcnNpbmdSZWdleCIsIlBhZ2VUeXBlIiwiY29udGVudF9uYW1lIiwiY29udGVudF9uYW1lX2FsdCIsInZ2c1NjckdBUGFnZVR5cGUiLCJ2dnNTY3JHQU9yZGVySWQiLCJ2dnNTY3JHQU9yZGVyUmV2IiwidnZzU2NyR0FPcmRlclR5cGUiLCJ2dnNTY3JHQUlzQWRtaW4iLCJCZWFnbGVMb2FkZWQiLCJJbml0aWFsaXplZCIsIlVzZXJPbk9mZiIsIlNjcmlwdFRpbWVPdXQiLCJUcmVhdG1lbnRSZXBvc2l0b3J5Q3JlYXRlZCIsIlRyZWF0bWVudHNBcHBsaWVkIiwiUmVhcHBseVRyZWF0bWVudExpc3RlbmVycyIsIlRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkIiwiaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciIsInNjcmlwdHMiLCJkb2N1bWVudCIsInNjcmlwdHNMZW5ndGgiLCJwcmVwYXJlRGF0YSIsIm1lc3NhZ2UiLCJmb3VuZFNjcmlwdENvdW50Iiwic2NyaXB0VGV4dENvbnRlbnQiLCJ0ZXh0Q29udGVudCIsImZvdW5kVmFsIiwiZXhlYyIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsImFkZFRvQmVhZ2xlSW5mb0xheWVyIiwicGFyc2UiLCJkZWxheSIsImNoZWNrcG9pbnQiLCJmaW5kIiwiaWQiLCJ0aW1lIiwiRGF0ZSIsIm5vdyIsImFkZFRyZWF0bWVudCIsImJ1c2luZXNzUnVsZUlkIiwidmFyaWFudCIsInN0YXR1cyIsImRlcGVuZGFudF9vbl90cmVhdG1lbnQiLCJ2aWV3SWQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwic2Vzc2lvbklkIiwic2Vzc2lvblN0b3JhZ2UiLCJjdXJyZW50VVJMIiwicGxhdGZvcm0iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnREYXRhIiwidXNlckFnZW50IiwiZ2FPYmplY3RzIiwiZ2FETEVsZW1lbnQiLCJ2aXNpbGFic2NrIiwiZXh0cmFjdENvb2tpZUlkZW50aWZpZXIiLCJjb29raWUiLCJ2bE9iamVjdHMiLCJJdGVtcyIsInZsRWxlbWVudCIsIksiLCJWIiwiVkxfUFZDb3VudEluVmlzaXQiLCJWTF9Ub3RhbER1cmF0aW9uIiwiVkxfVG90YWxQViIsIlZMX1RvdGFsVmlzaXQiLCJjb250ZW50X3R5cGUiLCJjb250ZW50X2NhdGVnb3J5IiwiY29udGVudF9pZHMiLCJ2aXZlbnNlX2NhdGVnb3J5IiwiZWNvbW1lcmNlIiwiZGV0YWlsIiwiYWN0aW9uRmllbGQiLCJsaXN0IiwiaXNBZG1pbiIsInByb2R1Y3RHcm91cCIsInVzZXJJZCIsImNhdGVnb3J5X3Byb2R1Y3RfY291bnQiLCJjaGVja291dCIsInByb2R1Y3RzIiwicHVyY2hhc2UiLCJ2aXZlbnNlUHJvZHVjdHMiLCJyZXZlbnVlIiwiZGltZW5zaW9uMTUiLCJkZXZpY2VQaXhlbFJhdGlvIiwiaW5uZXJXaWR0aCIsIndpbmRvd1NjcmVlbiIsImF2YWlsSGVpZ2h0Iiwic2NyZWVuIiwiYXZhaWxMZWZ0IiwiYXZhaWxUb3AiLCJhdmFpbFdpZHRoIiwiY29sb3JEZXB0aCIsImhlaWdodCIsInBpeGVsRGVwdGgiLCJ3aWR0aCIsIndpbmRvd1ZQb3J0IiwidmlzdWFsVmlld3BvcnQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib25yZXNpemUiLCJvbnNjcm9sbCIsInBhZ2VMZWZ0IiwicGFnZVRvcCIsInNjYWxlIiwicGFyc2VJbnQiLCJNYXRoIiwicm91bmQiLCJhYnMiLCJvcmllbnRhdGlvbiIsInRlbXAiLCJoaXN0b3J5IiwibmF2QWdlbnQiLCJicmFuZHMiLCJtYXAiLCJicmFuZCIsInZlcnNpb24iLCJqb2luIiwibW9iaWxlIiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsImxhbmd1YWdlIiwiYnJvd3Nlckxhbmd1YWdlIiwic3lzdGVtTGFuZ3VhZ2UiLCJ1c2VyTGFuZ3VhZ2UiLCJtYXhUb3VjaFBvaW50cyIsInZlbmRvciIsInBlcmZNZXRyaWNzIiwicGVyZm9ybWFuY2UiLCJnZXRFbnRyaWVzQnlUeXBlIiwicGVyZk5hdmlnYXRpb25NZXRyaWNzIiwicGxkIiwiZG9tQ29udGVudExvYWRlZEV2ZW50RW5kIiwiY29ubmVjdFN0YXJ0IiwibmV0IiwiY29ubmVjdEVuZCIsImZldGNoU3RhcnQiLCJzcnYiLCJyZXNwb25zZVN0YXJ0IiwicmVxdWVzdFN0YXJ0IiwidGZyIiwicmVzcG9uc2VFbmQiLCJkbWkiLCJkb21JbnRlcmFjdGl2ZSIsImRjcCIsImRvbUNvbXBsZXRlIiwib25sIiwibG9hZEV2ZW50RW5kIiwibG9hZEV2ZW50U3RhcnQiLCJjb25uZWN0aW9uIiwiZG93bmxpbmsiLCJzZWxlY3RlZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwic1RhZyIsImNudG50IiwianNvbmNvbnRlbnQiLCJiY3J1bWJfc3RyaW5nIiwic29yZ0xpc3RpbmciLCJjb3VudEl0ZW1zIiwic29yZ1Byb2R1Y3QiLCJza3UiLCJwcmljZSIsInByaWNlQ3VycmVuY3kiLCJwcmljZVZhbGlkVW50aWwiLCJkb05vdFRyYWNrIiwibXNEb05vdFRyYWNrIiwiaG9zdG5hbWUiLCJyZWZlcnJlciIsImZhdm9yaXRlUHJvZHVjdHMiLCJ1c2VyRW1haWwiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJUZXh0IiwiZm9ybWF0RGVsaXZlcnlEYXRlIiwibW9udGhzIiwiYyIsImdldFJhbmRvbVZhbHVlcyIsIlVpbnQ4QXJyYXkiLCJyZW1vdmVEb2N1bWVudEhpZGUiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJmZXRjaFRyZWF0bWVudHMiLCJmZXRjaCIsInRyZWF0bWVudHMiLCJqc29uIiwiZmV0Y2hUcmVhdG1lbnRXZWlnaHRzIiwidHJlYXRtZW50V2VpZ2h0cyIsImNvb2tpZVN0cmluZyIsImNvb2tpZU5hbWUiLCJpZGVudGlmaWVyIiwidiIsInJlZHVjZSIsImFjYyIsInRyaW0iLCJkZXRlcm1pbmVQY3QiLCJzdWJzdHJpbmdFbmRQb3NpdGlvbiIsInN1YnN0cmluZ1N0YXJ0UG9zaXRpb24iLCJjcmVhdGVIYXNoU3RyaW5nIiwiaGFzaFN0cmluZyIsImhhc2hOdW1iZXIiLCJzdHJpbmdUb0hhc2giLCJlbmNvZGVkIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJzdWJ0bGUiLCJkaWdlc3QiLCJoYXNoQnVmZmVyIiwiaGFzaEFycmF5IiwiYiIsInBhZFN0YXJ0IiwiZXhpdFNjcm9sbExpc3RlbmVyIiwiY2FsbEJhY2siLCJsYXN0U2Nyb2xsVG9wIiwic2Nyb2xsVG9wIiwiZXhpdFNjcm9sbEludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic3R5bGVBcHBsaWNhdG9yIiwiZWxlbWVudHMiLCJzdHlsZUNoYW5nZXNNYXAiLCJlbGVtZW50IiwiZW50cmllcyIsInN0eWxlIiwiaW5qZWN0U3R5bGVTaGVldCIsInN0eWxlU2hlZXQiLCJjcmVhdGVFbGVtZW50IiwicmVsIiwiaGVhZCIsImFwcGVuZENoaWxkIiwicHJlcGFyZUFjdGlvbnMiLCJhY3Rpb25zVG9QcmVwYXJlIiwiYWN0aW9ucyIsImFjdGlvbiIsImJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucyIsInZhcmlhbnRzIiwiYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbiIsInZhcmlhbnRLZXkiLCJ3ZWlnaHQiLCJydW5UaW1lVmFsdWUiLCJtaW4iLCJtYXgiLCJnZXREZWJ1Z01vZGUiLCJORF9ERUJVR19NT0RFIiwiT1VUX09GX1NDT1BFIiwicXVlcnlTdHJpbmciLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImN1cnJlbnQiLCJnZXRJZGVudGlmaWVyIiwiZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJtcyIsInNrdUNvbGxlY3RvciIsIk5EX1NLVV9MSVNUIiwic2t1TGlzdCIsImdldEF0dHJpYnV0ZSIsImlzU2VuZEJlYWNvblN1cHBvcnRlZCIsInNlbmRCZWFjb24iLCJkYXRlIiwic3RhcnRNb250aEluZGV4IiwiZW5kTW9udGhJbmRleCIsInN0YXJ0RGF5IiwiZW5kRGF5IiwibWF0Y2giLCJ0b0xvd2VyQ2FzZSIsInRvZGF5Iiwic3RhcnRZZWFyIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImVuZFllYXIiLCJlc3RpbWF0ZWRTdGFydCIsImVzdGltYXRlZEVuZCIsInN0YXJ0RGlmZk92ZXJEYXlzIiwiY2VpbCIsImVuZERpZmZPdmVyRGF5cyIsInN0YXJ0RGlmZk92ZXJXZWVrcyIsImVuZERpZmZPdmVyV2Vla3MiLCJNb25pdG9yIiwiYXBwbGllZFRyZWF0bWVudHNIYXNoIiwiYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzIiwiZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0hhc2giLCJlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyIsImhlYWRlcnMiLCJpc0xvZ2dlZCIsImluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcnMiLCJpc0Vycm9yIiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVRdWV1ZUxvZ3MiLCJwYWNrYWdlTG9nRGF0YSIsInJlcXVlc3RCbG9iIiwicXVldWVMb2dzIiwiYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCIsImVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCIsImJvZHkiLCJtIiwidCIsIkJsb2IiLCJ2SWQiLCJpc0V4aXRFdmVudENhcHR1cmVkIiwibG9nRGF0YSIsInBhY2thZ2VVcGRhdGVMb2dEYXRhIiwiY2FwdHVyZSIsInF1ZXVlZCIsInF1ZXVlSW50ZXJ2YWwiLCJwcm9kdWN0SW5mb0xvb2t1cCIsIkhlYWRlcnMiLCJhcHBlbmQiLCJtb2RlIiwicHJvZHVjdEluZm8iLCJvayIsIl90b0NvbnN1bWFibGVBcnJheSIsInJlcGxhY2VBbGwiLCJzdHIiLCJpbmRleCIsIlBPUFVQX0RJU1BMQVlfRkxBRyIsInRyYW5zZm9ybWVyIiwiYXBwbHlFdmVudCIsImNvbnRlbnRTZWxlY3RvciIsInNlbGVjdG9yIiwic2VsZWN0b3JGYWxsYmFjayIsIm1kQ29uZGl0aW9uIiwibW92ZV9zZWxlY3Rvcl8xIiwibW92ZV9zZWxlY3Rvcl8yIiwicmVwbGFjZUZuIiwiJCIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwicmVwbGFjZUZuRXhlY3V0b3IiLCJyZXBsYWNlRnVuY3Rpb24iLCJiaW5kIiwidmFsIiwiY3VycmVudFJlcGxhY2VGbiIsIlN0cmluZyIsImJlZm9yZSIsImFmdGVyIiwiY3JlYXRlUG9wdXAiLCJkaXNwbGF5UG9wdXAiLCJvbmNlIiwidGltZW91dCIsInRleHQiLCJodG1sIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm9yaWdpbmFsVGl0bGUiLCJ0aXRsZSIsImhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UiLCJlbGVtZW50U2t1IiwiYXR0cmlidXRlIiwiY3NzIiwicHJvcGVydHkiLCJwcm9wZXJ0eVZhbHVlIiwibjEiLCJuMiIsInN3YXBOb2RlcyIsInNvdXJjZSIsImRlc3RpbmF0aW9uIiwicHJlcGVuZCIsImV2ZW50IiwidGl0bGVzIiwicGFyc2VkVGl0bGVzIiwiaGlkZGVuIiwiaGFuZGxlUG9wdXBDbGljayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJxUG9wdXAiLCJnZXRFbGVtZW50QnlJZCIsInBvcHVwV3JhcHBlciIsImFkZCIsInBvcHVwQ2xvc2VCdXR0b24iLCJvbmNsaWNrIiwiY29udGVudHMiLCJzaGlmdCIsInNyYyIsInRlbXBsYXRlIiwiaW5uZXJIVE1MIiwicG9wdXAiLCJjb250ZW50IiwiZmlyc3RDaGlsZCIsImkxIiwiaTIiLCJwMSIsInBhcmVudE5vZGUiLCJwMiIsImlzRXF1YWxOb2RlIiwiY2hpbGRyZW4iLCJpbnNlcnRCZWZvcmUiLCJhY3Rpb25BcHBsaWNhdG9yIiwialF1ZXJ5IiwiYXBwbHlBY3Rpb25zIiwiVHJlYXRtZW50UmVwb3NpdG9yeSIsInVzZXJHcm91cCIsImdldFVzZXJHcm91cCIsInVzZXJHcm91cFdlaWdodHMiLCJ0cmVhdG1lbnQiLCJUUkVBVE1FTlRTIiwidHJlYXRtZW50c09iaiIsInRpbWVzdGFtcCIsInRyZWF0bWVudFdpdGhUaW1lc3RhbXAiLCJjaGVja0NvdW50ZXJSdWxlIiwicGFnZVZpZXdIYW5kbGVyIiwiY2FCYXNrZXRQcmljZUhhbmRsZXIiLCJnZXRDb3VudGVyIiwiY291bnRlciIsInBhZ2VWaWV3cyIsImNhQmFza2V0UHJpY2UiLCJjaGVja0VsZW1lbnRSdWxlIiwic2VsZWN0b3JBbGwiLCJtYWluU2VsZWN0b3IiLCJ0ZW1wVmFsIiwicmV0dXJuVmFsIiwiZWxlbSIsImVsZW1lbnRTdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwic3R5bGVLZXkiLCJzdHlsZVZhbHVlIiwiY2hlY2tGdW5jdGlvblJ1bGUiLCJvcHRzIiwiYmluZGluZ3MiLCJydWxlRnVuY3Rpb24iLCJjaGVja1Nlc3Npb25SdWxlIiwiZHVyYXRpb25IYW5kbGVyIiwiaGlzdG9yeUhhbmRsZXIiLCJkdXJhdGlvbiIsImdldFNlc3Npb25UaW1lc3RhbXAiLCJjdXJyZW50SGlzdG9yeSIsImNoZWNrRW52UnVsZSIsImlzTW9iaWxlIiwiY2hlY2tSYW5kb21OdW1iZXJSdWxlIiwic2FsdCIsInJhbmRvbVBjdCIsIlJ1bGVFbmdpbmUiLCJiYXNlUnVsZVNldCIsImJ1c2luZXNzUnVsZVNldCIsImNhbGxiYWNrIiwiY2hlY2tSdWxlIiwiY2hhaW4iLCJjaGFpbl9jb25kaXRpb24iLCJydWxlU2F0aXNmaWVkIiwiYmVhZ2xlT24iLCJtb25pdG9yIiwicHJvZHVjdEluZm9Qcm9taXNlIiwiZGVidWdNb2RlIiwiZW5nYWdlVHJlYXRtZW50IiwiY29sbGVjdENBQmFza2V0UHJpY2UiLCJDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UiLCJwcmljZUVsZW1lbnRzIiwiY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UiLCJkZXZpY2UiLCJyZWFwcGx5X2V2ZW50IiwiZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMiLCJyZWFwcGx5X2V2ZW50X2FycmF5IiwicmVhcHBseUV2ZW50IiwicHJldmlvdXNWYWx1ZSIsInJlQXBwbHlUcmVhdG1lbnRzTWFwIiwicnVsZUVuZ2luZSIsImNoZWNrUnVsZXMiLCJ0cmVhdG1lbnRTa2lwUmF0aW8iLCJkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCIsIm1hdGNoZWRUcmVhdG1lbnRzIiwiZGV0ZXJtaW5pbmdJZGVudGlmaWVyIiwidHJlYXRtZW50UGN0IiwiY2hlY2tCdXNpbmVzc1J1bGVzIiwicHJlcGFyZWQiLCJzZW5kTG9ncyIsInNlYXJjaFBhcmFtcyIsIlBBR0VfVklFV1MiLCJTRVNTSU9OX0lEIiwiU0VTU0lPTl9USU1FU1RBTVAiLCJTRVNTSU9OX0hJU1RPUlkiLCJwb3B1cERpc3BsYXlGbGFnIiwic2Vzc2lvblRpbWVzdGFtcCIsInNlc3Npb25IaXN0b3J5IiwidHJlYXRtZW50c1Byb21pc2UiLCJ0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSIsIk9CU0VSVkVSX0NPTkZJRyIsInN1YnRyZWUiLCJjaGlsZExpc3QiLCJhdHRyaWJ1dGVzIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiYmFza2V0Q2hlY2tvdXRGb3JtIiwib2JzZXJ2ZSIsImFsbCIsInRyZWF0bWVudFJlcG9zaXRvcnkiLCJnZXRNYXRjaGVkVHJlYXRtZW50cyIsInVwZGF0ZUxhdGVzdENoYW5nZXMiLCJ0cmVhdG1lbnRJZHMiLCJyZUFwcGx5VHJlYXRtZW50cyIsImZpbHRlciIsIlJlc2l6ZU9ic2VydmVyIiwicmVhcHBseV9zZWxlY3RvciIsImlzT24iLCJUSU1FT1VUX0NPVU5UIiwidGltZW91dENvdW50ZXIiLCJjb29raWVQY3QiLCJjb250YWlucyIsInZ2c0lzU2hvd3Jvb20iLCJHTE9WX09OIl0sInNvdXJjZVJvb3QiOiIifQ==

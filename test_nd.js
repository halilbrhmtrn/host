!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),i=new D(r||[]);return o._invoke=function(e,t,n){var r=d;return function(a,o){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=T(i,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?h:p,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",g={};function v(){}function m(){}function y(){}var w={};c(w,o,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(P([])));k&&k!==n&&r.call(k,o)&&(w=k);var x=y.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(a,o,i,s){var c=l(e[a],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function P(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:C}}function C(){return{value:t,done:!0}}return m.prototype=y,c(x,"constructor",y),c(y,"constructor",m),m.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(I.prototype),c(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new I(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(a,o){var i=t.apply(n,r);function s(t){e(i,a,o,s,c,"next",t)}function c(t){e(i,a,o,s,c,"throw",t)}s(void 0)}))}}var r=n(757),a=n.n(r);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var u="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",l="(max-width: 440px)",d=50,p=15e3,f="__nextday_session_id",h="ND_SessionTimestamp",g="BN_SessionHistory",v="ND_PageViews",m="ND_PopupDisplayFlag",y="Nd_ProductInfoBasket",w="ND_CABasketPrice",b="ND_Debug",k="ND_OutOfScope",x="ND_UserId",S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";i(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(b)}return c(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(n=console).log.apply(n,["[".concat(t,"]")].concat(a))}}},{key:"failed",value:function(){var e,t=this.DEBUG,n=this.origin;if(t){for(var r="%c%s   ",a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];i.forEach((function(e){switch(o(e)){case"bigint":case"number":case"boolean":r+="%d   ";break;case"string":r+="%s   ";break;default:r+="%o   "}})),(e=console).log.apply(e,[r,"color: red","[".concat(n,"]")].concat(i))}}},{key:"success",value:function(){var e,t=this.DEBUG,n=this.origin;if(t){for(var r="%c%s   ",a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];i.forEach((function(e){switch(o(e)){case"bigint":case"number":case"boolean":r+="%d   ";break;case"string":r+="%s   ";break;default:r+="%o   "}})),(e=console).log.apply(e,[r,"color: green","[".concat(n,"]")].concat(i))}}},{key:"warn",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console).warn.apply(e,["[".concat(t,"]")].concat(r))}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),I=S;function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=new I("BeagleDataCollection"),C=function(){var e=t(a().mark((function e(t,n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.log("queryInCollector",t,n,r),e.abrupt("return","PLACEHOLDER");case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),_=function(){var e=t(a().mark((function e(t,n,r,o){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.log("updateInCollector",t,n,r,o),e.abrupt("return","PLACEHOLDER");case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.beagleInfoLayer=window.beagleInfoLayer||{checkpoints:[],a:{},e:{},f:{}};var N={BeagleLoaded:1,Initialized:2,UserOnOff:3,ScriptTimeOut:7,TreatmentRepositoryCreated:4,TreatmentsApplied:5,ReapplyTreatmentListeners:6,TimeoutThresholdReached:8},R=new I("BeagleInfoLayer"),j=function(e){try{R.log("Checkpoint: '".concat(e,"' Reached!")),window.beagleInfoLayer.checkpoints.push({checkpoint:Object.keys(N).find((function(t){return N[t]===e})),id:e,time:Date.now()})}catch(e){R.warn(e)}},Q=function(e,t){var n=window.top.beagleInfoLayer;if(null!=e&&null!=t)if(e.indexOf(".")>-1){var r=e.split("."),a=r.pop(),i=n;r.forEach((function(e){i[e]||(i[e]={}),i=i[e]})),i[a]="object"===o(t)?t:t.toString().trim()}else n[e]="object"===o(t)?t:t.toString().trim()},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;return q([e],t,n,r)},q=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,o=window.top.beagleInfoLayer;if(!e||!Array.isArray(e)||!e.length)return null;var i,s=E(e);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(t=ae(o,c))return Promise.resolve(t)}}catch(e){s.e(e)}finally{s.f()}return n?new Promise((function(n){var i=setInterval((function(){var r,a=E(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(t=ae(o,s)){clearInterval(i),n(t);break}}}catch(e){a.e(e)}finally{a.f()}}),r);setTimeout((function(){clearInterval(i),n(null)}),a)})):Promise.resolve(null)},M=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o={};switch(t&&(o.businessRuleId=t),n&&(o.variant=n),r){case"applied":window.beagleInfoLayer.a[e]=o;break;case"skipped":o.dependant_on_treatment=a,window.beagleInfoLayer.e[e]=o;break;case"failed":window.beagleInfoLayer.f[e]=o}},G=10,F=0,B=function(){var e=t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q("view_epoch",Date.now()),oe(),ne(),Z("pageChanged"),ie();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=["PageType","vvsIsShowroom"],V=function(){var e=t(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.log("getCriticalElements: Initializing"),t={},n=H.map((function(e){return U(e,!0)})),e.next=5,Promise.all(n);case 5:return e.sent.forEach((function(e,n){t[H[n]]=e})),R.log("getCriticalElements: Collected elements: "+JSON.stringify(t)),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J={view_epoch:[{updateMethod:"min",window:"session"}],PageType:[{updateMethod:"count_values",window:"session"}],"cart.couponApplicable":[{updateMethod:"last",window:"session"}],"pdp.category":[{updateMethod:"count_values",window:"session"}]},W={view_epoch:[{queryMethod:"min",window:"session",featureName:"history.view_epoch_min"}],PageType:[{queryMethod:"sum_of_counts",window:"session",featureName:"history.PageType_count_session"},{queryMethod:"sum_of_counts",window:"alltime",featureName:"history.PageType_count_alltime"}],"cart.couponApplicable":[{queryMethod:"last",window:"session",featureName:"history.cart_couponApplicable_last_session"}],"pdp.category":[{queryMethod:"mode",window:"session",featureName:"history.pdp_category_mode_session"},{queryMethod:"last",window:"session",featureName:"history.pdp_category_last_session"}]},K=function(){var e=t(a().mark((function e(){var t,n,r,o,i,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.keys(W),n=0,r=t;case 2:if(!(n<r.length)){e.next=29;break}o=r[n],i=E(W[o]),e.prev=6,i.s();case 8:if((s=i.n()).done){e.next=18;break}if(!(c=s.value).isUpdated){e.next=12;break}return e.abrupt("continue",16);case 12:return e.next=14,C(o,c.queryMethod,c.window);case 14:(u=e.sent)&&(Q(c.featureName,u),c.isUpdated=!0);case 16:e.next=8;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),i.e(e.t0);case 23:return e.prev=23,i.f(),e.finish(23);case 26:n++,e.next=2;break;case 29:case"end":return e.stop()}}),e,null,[[6,20,23,26]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=t(a().mark((function e(t,n){var r,o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=J[t])&&Array.isArray(r)&&r.length>0){o=E(r);try{for(o.s();!(i=o.n()).done;)s=i.value,Y(t,n,s)}catch(e){o.e(e)}finally{o.f()}}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=t(a().mark((function e(t,n,r){var o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t,n,r.updateMethod,r.window);case 2:o=E(W[t]),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=14;break}return s=i.value,e.next=10,C(t,s.queryMethod,s.window);case 10:(c=e.sent)&&(Q(s.featureName,c),s.isUpdated=!0);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),o.e(e.t0);case 19:return e.prev=19,o.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(t,n,r){return e.apply(this,arguments)}}(),X=[{PageTypeDepend:"*",method:"GADataLayer",selector:"PageType",name:"PageType"},{PageTypeDepend:"*",method:"GADataLayer",selector:"isAdmin",name:"vvsIsShowroom"},{PageTypeDepend:"*",method:"GADataLayer",selector:"userId",name:"vvsUserId"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_name",name:"pdp.name"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"productgroup",name:"pdp.group"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivense_category",name:"pdp.class"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_ids",name:"pdp.sku",formatter:"upperCaseTR",trigger:"updateActiveSKUList"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"ProductID",name:"pdp.sku",trigger:"updateActiveSKUList"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_category",name:"pdp.category"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"ecommerce.detail.actionField.list",name:"pdp.listalias"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.sku",name:"pdp.sku",trigger:"updateActiveSKUList"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.category",name:"pdp.category"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.discountRate",name:"pdp.discountRate"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.fastDelivery",name:"pdp.fastDelivery"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.isInShowroom",name:"pdp.isInShowroom"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.price",name:"pdp.price"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"content_ids",name:"plp.id"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"category_product_count",name:"plp.approximateCount"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"content_name",name:"plp.name"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"productgroup",name:"plp.group"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"vivense_category",name:"plp.class"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.id",name:"purchase.skus"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.price",name:"purchase.prices"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.quantity",name:"purchase.quantities"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.category",name:"purchase.categories"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.id",name:"purchase.orderId"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.revenue",name:"purchase.revenue"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.dimension15",name:"purchase.payementType"},{PageTypeDepend:"*",method:"DocQuery",selector:'[class*="page_preview_wrapper_production"]',name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Homepage"},{PageTypeDepend:"*",method:"DocQuery",selector:'[class*="category_page_wrapper"]',name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Listingpage"},{PageTypeDepend:"*",method:"DocQuery",selector:'[class*="product-main-details"]',name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Productpage"},{PageTypeDepend:"*",method:"DocQuery",selector:'[class*="product"]',name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Productpage"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:'[class*="welcome_username"]',name:"view.isLoggedIn",operand:"docQueryHasInnerText"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:'[class*="empty_basket_text"]',name:"view.isEmptyBasket",operand:"docQueryHasInnerText",exclusive:["view.basketTotal","view.basketCount"]},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:'[class*="basket_total_price"]',name:"view.basketTotal",operand:"docQueryInnerText",exclusive:["view.isEmptyBasket"],formatter:"numericOnly"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:'[id*="cart_quantity"], [class*="basket_length"]',name:"view.basketCount",operand:"docQueryInnerText",exclusive:["view.isEmptyBasket"]},{PageTypeDepend:"Productpage",method:"DocQuery",selector:'[class*="delivery-date"]',name:"pdp.deliveryDate",operand:"docQueryInnerText"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:'[class*="delivery-date"]',name:"pdp.deliveryDateFormatted",operand:"docQueryInnerText",formatter:"formatDeliveryDate"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:'[class*="product-title"], [class*="header-bottom"]',name:"pdp.name",operand:"docQueryInnerText"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:'[class*="vivense-showrooms"] > *',name:"pdp.showroomcount",operand:"docQueryCountElts",exclusive:["pdp.hasNoShowrooms"]},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"#vivense-showroom-tab p:not(.vivense-showrooms)",name:"pdp.hasNoShowrooms",operand:"docQueryHasInnerText",exclusive:["pdp.showroomcount"]},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:'[class*="count-of-product"]',name:"plp.itemCount",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:'[class*="subcategories-title"]',name:"plp.name",operand:"docQueryInnerText"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:"[data-product-sku]",name:"plp.skus",operand:"docQueryAttribValueList",value:"data-product-sku",trigger:"updateActiveSKUList"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:".product-list",observer:"listingItemBlock",name:"__listingItemBlockObserver",children:["plp.skus"],operand:"docQueryObserve"},{PageTypeDepend:"basket",method:"DocQuery",selector:'[class*="empty-cart-container"]',name:"cart.isempty",operand:"docQueryHasInnerText",trigger:"updateActiveSKUList",exclusive:["cart.skus","cart.totalPrice","cart.couponApplicable","__checkoutFormObserver"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.skus",operand:"docQueryAttribValueList",value:"data-sku",trigger:"updateActiveSKUList",exclusive:["cart.isempty"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.categories",operand:"docQueryAttribValueList",value:"data-last-breadcrumb",trigger:"updateActiveSKUList",exclusive:["cart.isempty"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.prices",operand:"docQueryAttribValueList",value:"data-price",trigger:"updateActiveSKUList",exclusive:["cart.isempty"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cartItemQuantity",name:"cart.quantities",operand:"docQueryAttribValueList",value:"data-previous",trigger:"updateActiveSKUList",exclusive:["cart.isempty"]},{PageTypeDepend:"basket",method:"DocQuery",selector:'[class*="order-final-number"]',name:"cart.totalPrice",operand:"docQueryInnerText",exclusive:["cart.isempty"],formatter:"numericOnly"},{PageTypeDepend:"basket",method:"DocQuery",selector:'[class*="cart-price"] > span.price, span.super, span.new-price, span.span-price',name:"cart.couponApplicable",operand:"docQuerySumNumInnerText",trigger:"updateCouponApplicableAmount",exclusive:["cart.isempty"]},{PageTypeDepend:"basket",method:"DocQuery",selector:"#checkoutForm",observer:"checkoutForm",name:"__checkoutFormObserver",children:["cart.totalPrice","cart.couponApplicable","cart.skus","cart.prices","cart.quantities","cart.categories","cart.isempty"],operand:"docQueryObserve"},{PageTypeDepend:"purchase",method:"DocQuery",selector:'[class*="basket_summary_total"], [class*="total_row"]',name:"purchase.revenue",operand:"docQueryInnerText"},{PageTypeDepend:"purchase",method:"DocQuery",selector:'[class*="order_follow_numb"], [class*="cart-title-bottom"]',name:"purchase.orderId",operand:"docQueryInnerText"},{PageTypeDepend:"purchase",method:"DocQuery",selector:'[class*="payment_type_title"], [class*="cart-title-info"]',name:"purchase.payementType",operand:"docQueryInnerText"},{PageTypeDepend:"purchase",method:"DocQuery",selector:'[class*="product_sku_code"]',name:"purchase.skus",operand:"docQueryArrayInnerText"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"sku",name:"pdp.sku",trigger:"updateActiveSKUList"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"mpn",name:"pdp.mpn"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"name",name:"pdp.name",operand:"JSONFilterOther",value:"@type=Product"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"offers.price",name:"pdp.price"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"offers.priceValidUntil",name:"pdp.priceValidUntil"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"itemListElement.*.name",name:"view.breadcrumb"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"mainEntity.name",name:"plp.name"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"mainEntity.numberOfItems",name:"plp.itemCount"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"breadcrumb.itemListElement.*.item.name",name:"view.breadcrumb"},{PageTypeDepend:"*",method:"SingleWT",selector:"favoriteProducts",name:"view.favoritedSKUs"},{PageTypeDepend:"*",method:"SingleWT",selector:"isAdmin",name:"vvsIsShowroom"},{PageTypeDepend:"*",method:"SingleWT",selector:"userId",name:"vvsUserId"}],Z=function(){var e=t(a().mark((function e(t){var n,r,o,i,s,c,u,l,d,p,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=55;break}e.t0=t,e.next="pageChanged"===e.t0?4:"updateCouponApplicableAmount"===e.t0?9:"updateActiveSKUList"===e.t0?17:54;break;case 4:return e.next=6,U("PageType",!0,50,1e4);case 6:return(n=e.sent)&&(null!==window.localStorage.getItem(w)&&"purchase"!==n||window.localStorage.setItem(w,0),"purchase"===n?sessionStorage.setItem(y,"{}"):"basket"!==n&&(r=JSON.parse(sessionStorage.getItem(y)))&&Q("__SKUsonLastBasketLookup",r)),e.abrupt("break",55);case 9:return e.next=11,U("cart.couponApplicable",!0,50,500);case 11:if(o=e.sent){e.next=15;break}return window.localStorage.setItem(w,0),e.abrupt("return");case 15:return o>=0&&window.localStorage.setItem(w,o),e.abrupt("break",55);case 17:return e.next=19,U("PageType",!0,50,1e3);case 19:if("Listingpage"!==(s=e.sent)){e.next=27;break}return e.next=23,U("plp.skus",!0,50,1e3);case 23:(c=e.sent).length&&(i=c.split(re)),e.next=39;break;case 27:if("Productpage"!==s){e.next=34;break}return e.next=30,U("pdp.sku",!0,50,1e3);case 30:(u=e.sent)&&(i=[u]),e.next=39;break;case 34:if("basket"!==s){e.next=39;break}return e.next=37,U("cart.skus",!0,50,1e3);case 37:(l=e.sent).length&&(i=l.split(re));case 39:return i=i.sort(),d=i.join(re),e.next=43,U("__SKUsonPage");case 43:if(!(p=e.sent)||!i||p.length!==d.length||p!==d){e.next=47;break}e.next=53;break;case 47:if(!i){e.next=53;break}return Q("__SKUsonPage",i),e.next=51,ue(i);case 51:(f=e.sent)&&(Q("__SKUsonPageLookup",f),"basket"===s&&sessionStorage.setItem(y,JSON.stringify(f)));case 53:case 54:return e.abrupt("break",55);case 55:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=t(a().mark((function e(){var t,n,r,o,i,s,c,u,l,d,p,f,h,g,v,m,y,w,b,k,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.readyState,R.log("parseSearchPaths initialized with dom status:  "+t),n=window.top,r=n.dataLayer,o=n.document,s=new Set,c=new Set,u=new Set,e.next=10,U("PageType");case 10:(l=e.sent)&&c.add("PageType"),d=E(X);try{for(d.s();!(p=d.n()).done;)(f=p.value).isFound&&c.add(f.name)}catch(e){d.e(e)}finally{d.f()}h=E(X),e.prev=15,h.s();case 17:if((g=h.n()).done){e.next=38;break}if(!(v=g.value).isFound){e.next=21;break}return e.abrupt("continue",36);case 21:if(!s.has(v.name)&&!c.has(v.name)){e.next=24;break}return v.isFound=!0,e.abrupt("continue",36);case 24:if("*"===v.PageTypeDepend){e.next=35;break}if(l){e.next=32;break}return e.next=28,U("PageType");case 28:if(l=e.sent){e.next=32;break}return u.add(v.name),e.abrupt("continue",36);case 32:if(!(v.PageTypeDepend.indexOf(l)<0)){e.next=35;break}return v.isFound=!0,e.abrupt("continue",36);case 35:if("SingleWT"===v.method)te(n,v,s,u);else if("GADataLayer"===v.method){m=E(r);try{for(m.s();!(y=m.n()).done;)w=y.value,te(w,v,s,u)}catch(e){m.e(e)}finally{m.f()}}else if("DocSorg"===v.method){i||(i=se()),b=E(i);try{for(b.s();!(k=b.n()).done;)x=k.value,te(x,v,s,u)}catch(e){b.e(e)}finally{b.f()}}else"DocQuery"===v.method&&te(o,v,s,u);case 36:e.next=17;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(15),h.e(e.t0);case 43:return e.prev=43,h.f(),e.finish(43);case 46:0===u.size?(F=10,R.log("parseSearchPaths found all elements - setting retry to max")):0===s.size?("complete"!==t&&"interactive"!==t||(G*=2,F+=1),R.log("parseSearchPaths processed but not found any, setting delay and retry to "+G+" and "+F+" for notfound: ["+Array.from(u).join(" | ")+"]")):R.log("parseSearchPaths processed: notfound: ["+Array.from(u).join(" | ")+"] and found "+s.size);case 47:case"end":return e.stop()}}),e,null,[[15,40,43,46]])})));return function(){return e.apply(this,arguments)}}(),te=function(e,n,r,o){!function(e,n){var r,o;try{switch(n.operand){case"JSONFilterOther":r=ae(e,n.selector);var i=n.value.split("=");if(2!==i.length)break;var s=i[0],c=i[1];if(!s||!c)break;var u=ae(e,s);if(!u||u!==c)break;r&&(Array.isArray(r)?r.length>0:r.toString().trim().length>0)&&(o=r);break;case"docQueryObserve":(r=e.querySelector(n.selector))&&(new MutationObserver(t(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n.children.forEach((function(e){var n=X.filter((function(t){return t.name===e}));t.push.apply(t,D(n))})),t.forEach((function(e){e.isFound=!1})),r=F>=10,G=10,F=0,r&&(R.log("searchObj: triggered a restart of searchpaths due: "+n.name),ne());case 7:case"end":return e.stop()}}),e)})))).observe(r,{subtree:!0,childList:!0}),n.isFound=!0);break;case"docQueryInnerText":(r=e.querySelector(n.selector))&&r.innerText&&r.innerText.trim().length>0&&(o=r.innerText);break;case"docQueryAttribValueList":var l=[];if(!(r=e.querySelectorAll(n.selector))||0===r.length)break;var d,p=E(r);try{for(p.s();!(d=p.n()).done;){var f=d.value.getAttribute(n.value);f&&l.push(f)}}catch(e){p.e(e)}finally{p.f()}l.length>0&&(o=l.join(re));break;case"docQueryHasInnerText":(r=e.querySelector(n.selector))&&(o=(r.innerText.trim().length>0).toString());break;case"docQueryCountElts":(r=e.querySelectorAll(n.selector))&&(o=r.length);break;case"docQueryValueIfHasInnerText":(r=e.querySelector(n.selector))&&r.innerText&&r.innerText.trim().length>0&&(o=n.value);break;case"docQuerySumNumInnerText":if(!(r=e.querySelectorAll(n.selector))||0===r.length)break;var h,g=0,v=E(r);try{for(v.s();!(h=v.n()).done;){var m=h.value.innerText.trim().replace(/\D/g,"");m.length>0&&(g+=parseInt(m))}}catch(e){v.e(e)}finally{v.f()}g>0&&(o=g);break;case"docQueryArrayInnerText":if(!(r=e.querySelectorAll(n.selector))||0===r.length)break;var y,w=[],b=E(r);try{for(b.s();!(y=b.n()).done;){var k=y.value.innerText.trim();k.length>0&&w.push(k)}}catch(e){b.e(e)}finally{b.f()}w.length>0&&(o=w);break;default:(r=ae(e,n.selector))&&(Array.isArray(r)?r.length>0:r.toString().trim().length>0)&&(o=r)}if(o){if(n.formatter&&(o=function(e,t){switch(t){case"upperCaseTR":return e.toString().toUpperCase("tr-TR");case"formatDeliveryDate":return De(e);case"numericOnly":return e.replace(/\D/g,"");default:return e}}(o,n.formatter)),Q(n.name,o),n.isFound=!0,n.trigger&&Z(n.trigger),n.exclusive&&Array.isArray(n.exclusive)&&n.exclusive.length>0){var x,S=E(X);try{for(S.s();!(x=S.n()).done;){var I=x.value;n.exclusive.includes(I.name)&&(I.isFound=!0)}}catch(e){S.e(e)}finally{S.f()}}z(n.name,o)}if(n.isFound)return!0}catch(e){R.error("searchObj error: "+e)}return!1}(e,n)?o.add(n.name):r.add(n.name)},ne=function(){var e=t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:F<10?(R.log("parseSearchPaths: scheduled to be recalled in "+G+"ms"),setTimeout(ne,G)):(R.log("parseSearchPaths: reached max retry, calling remainder historical data"),K());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=" | ",ae=function e(t,n){if(!t)return null;if(!n)return null;try{for(var r=n.split("."),a=t,i=0;i<r.length;i++){if(null===a)return null;if("*"===r[i]){var s=r.slice(i+1).join("."),c=[];for(var u in a)if(a[u]){var l=e(a[u],s);l&&c.push(l)}return c.join(re)}a=a[r[i]]}return Array.isArray(a)?a.join(re):"object"===o(a)?JSON.stringify(a):a.toString()}catch(e){return null}},oe=function(){var e=t(a().mark((function e(){var t,n,r,o,i,s,c,u,l,p,h,g,v,m,y,w,b,k,x,S,I,T,L,A,D,P,C,_,E,O;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m=window.top,y=m.navigator,Q("cookieGaId",me(m.document.cookie,"_ga")),w=crypto.randomUUID(),b=sessionStorage.getItem(f),Q("v","0.0.28"),Q("n","beagle-session_id-".concat(b)),Q("vId",w),Q("sr",d),k=(null===(t=m.navigator)||void 0===t||null===(n=t.userAgentData)||void 0===n?void 0:n.platform)||(null===(r=m.navigator)||void 0===r?void 0:r.platform)||(null===(o=m.navigator)||void 0===o?void 0:o.userAgent),Q("device.navPlatform",k),Q("device.windowPRatio",m.devicePixelRatio),x=(null===(i=m.screen)||void 0===i?void 0:i.availWidth)+"x"+(null===(s=m.screen)||void 0===s?void 0:s.availHeight),Q("device.windowAvail",x),S=(null===(c=m.screen)||void 0===c?void 0:c.colorDepth)+"-"+(null===(u=m.screen)||void 0===u?void 0:u.pixelDepth),Q("device.windowDepth",S),I=(null===(l=m.visualViewport)||void 0===l?void 0:l.width)+"x"+(null===(p=m.visualViewport)||void 0===p?void 0:p.height),Q("device.windowVport",I),screen.width&&(T=parseInt(screen.width),L=screen.height?parseInt(screen.height):0,0!==T&&0!==L&&(/iPad|iPhone|iPod/.test(k)&&m.devicePixelRatio?(T=Math.round(T*m.devicePixelRatio),L=Math.round(L*m.devicePixelRatio)):90===Math.abs(m.orientation)&&(A=T,T=L,L=A),Q("device.window",T+"x"+L))),Q("device.navHistSize",null===(h=m.history)||void 0===h?void 0:h.length),Q("device.navAgent",y.userAgent),m.beagleInfoLayer.navAgent||y.userAgentData&&(_=null==y||null===(D=y.userAgentData)||void 0===D||null===(P=D.brands)||void 0===P?void 0:P.map((function(e){return e.brand+":"+e.version})).join(),_+=null!=y&&null!==(C=y.userAgentData)&&void 0!==C&&C.mobile?"mobi":" ",Q("device.navAgent",_+=k)),Q("device.navHWCores",y.hardwareConcurrency),Q("device.navLanguage",y.language||y.browserLanguage||y.systemLanguage||y.userLanguage),Q("device.navTouch",y.maxTouchPoints),Q("device.navVendor",y.vendor),Q("device.internetSpeed",null===(g=m.navigator)||void 0===g||null===(v=g.connection)||void 0===v?void 0:v.downlink),E=new URL(window.top.location.href),Q("u",E.href),Q("d",E.hostname),Q("donttrack",y.doNotTrack||m.doNotTrack||y.msDoNotTrack),Q("r",m.document.referrer),z("r",m.document.referrer),E.pathname.indexOf("favorilerim.html")>-1?O="favorites":E.pathname.indexOf("siparis-listesi.html")>-1?O="basket":E.pathname.indexOf("siparis-ozeti.html")>-1?O="purchase":E.pathname.indexOf("odeme.html")>-1?O="payment":E.pathname.indexOf("adres-listesi.html")>-1?O="address":E.pathname.indexOf("siparislerim.html")>-1?O="pastorders":E.pathname.indexOf("uye-kayit.html")>-1&&(O="register"),O&&(Q("PageType",O),z("PageType",O));case 35:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=window.top,t={},n=e.performance.getEntriesByType("navigation")[0];e.performance&&n&&(t.connect=Math.round(n.connectEnd-n.connectStart),t.request=Math.round(n.responseEnd-n.requestStart),t.dom=Math.round(n.domComplete-n.domInteractive),t.load=Math.round(n.loadEventEnd-n.loadEventStart),t.duration=Math.round(n.duration)),Q("metrics",t)},se=function(){var e,t=[],n=E(window.top.document.querySelectorAll('[type="application/ld+json"]'));try{for(n.s();!(e=n.n()).done;){var r=e.value;try{var a=r.textContent,o=JSON.parse(a);t.push(o)}catch(e){}}}catch(e){n.e(e)}finally{n.f()}return t},ce=!1,ue=function(){var e=t(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=3;break}return R.failed("productInfoLookup: No sku found"),e.abrupt("return",null);case 3:if(!ce){e.next=6;break}return R.failed("productInfoLookup: Already in progress"),e.abrupt("return",null);case 6:return R.log("productInfoLookup: Starting product info lookup: "+t),(n=new Headers).append("Content-Type","application/json"),ce=!0,r=null,e.prev=11,e.next=14,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 14:if(!(r=e.sent).ok){e.next=19;break}return e.next=18,r.json();case 18:r=e.sent;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),R.warn("productInfoLookup: fetch & parse failed");case 24:return ce=!1,e.abrupt("return",r);case 26:case"end":return e.stop()}}),e,null,[[11,21]])})));return function(t){return e.apply(this,arguments)}}();function le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pe=new I("Nextday Utils"),fe={ocak:0,"şubat":1,mart:2,nisan:3,"mayıs":4,haziran:5,temmuz:6,"ağustos":7,"eylül":8,ekim:9,"kasım":10,"aralık":11};"randomUUID"in crypto||(crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))});var he=function(){window.top.document.documentElement.classList.remove("nextDay-hide")},ge=function(){var e=t(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=t(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe.log("Fetching treatment weights"),e.next=3,fetch("https://host-b96.pages.dev/weights.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},ye=function(){var e=t(a().mark((function e(t){var n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=8+(n=9),t){e.next=5;break}return e.abrupt("return",-1);case 5:return e.next=7,we(t);case 7:return o=e.sent,i=parseInt(o.substring(n,r),16),e.abrupt("return",i%100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=t(a().mark((function e(t){var n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,o=Array.from(new Uint8Array(r)),e.abrupt("return",o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e,t){pe.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],a=0,o=Object.entries(t);a<o.length;a++){var i=A(o[a],2),s=i[0],c=i[1];r.style[s]=c}},ke=function(){var e=t(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=window.top.document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="https://host-b96.pages.dev/nd-styles.css",window.top.document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=t(a().mark((function e(t,n,r){var o,i,s,c,u,l,d,p,f,h,g,v,m,y,w,b,k,x,S,I,T;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=JSON.parse(JSON.stringify(n)),i=null,s=le(o),e.prev=3,s.s();case 5:if((c=s.n()).done){e.next=55;break}if(u=c.value,l=u.businessRuleTransformations,d=u.variants,l||d){e.next=10;break}return e.abrupt("continue",53);case 10:if(r&&l){p=le(l);try{for(p.s();!(f=p.n()).done;)if((h=f.value).id===r)for(g in h)"id"!==g&&(u[g]=h[g])}catch(e){p.e(e)}finally{p.f()}}if(!d){e.next=53;break}v=0,m=Object.keys(d);case 13:if(!(v<m.length)){e.next=53;break}return y=m[v],e.next=17,ye(t+y);case 17:if(!(e.sent<u.variants[y].weight)){e.next=50;break}if(i=y,!r||!d[y].businessRuleTransformations){e.next=48;break}w=le(d[y].businessRuleTransformations),e.prev=22,w.s();case 24:if((b=w.n()).done){e.next=38;break}if((k=b.value).id!=r){e.next=36;break}x=0,S=Object.keys(k);case 28:if(!(x<S.length)){e.next=36;break}if("id"!==(I=S[x])){e.next=32;break}return e.abrupt("continue",33);case 32:u[I]=k[I];case 33:x++,e.next=28;break;case 36:e.next=24;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(22),w.e(e.t0);case 43:return e.prev=43,w.f(),e.finish(43);case 46:e.next=49;break;case 48:for(T in d[y])"weight"!==T&&"businessRuleTransformations"!==T&&(u[T]=d[y][T]);case 49:return e.abrupt("break",53);case 50:v++,e.next=13;break;case 53:e.next=5;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(3),s.e(e.t1);case 60:return e.prev=60,s.f(),e.finish(60);case 63:return e.abrupt("return",[o,i]);case 64:case"end":return e.stop()}}),e,null,[[3,57,60,63],[22,40,43,46]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Se=function(e,t,n){if("notExist"===t)return e?(pe.failed("conditionChecker: -not satisfied- target does exist"),!1):(pe.success("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return pe.failed("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(pe.success("conditionChecker: -satisfied- target does exist"),!0):(pe.failed("conditionChecker: -not satisfied- target does not exist"),!1);case"includes":case"contains":return e.includes(n)?(pe.success("conditionChecker: -satisfied- target contains value"),!0):(pe.failed("conditionChecker: -not satisfied- target does not contain value"),!1);case"notIncludes":case"notContains":return e.includes(n)?(pe.failed("conditionChecker: -not satisfied- target contains value"),!1):(pe.success("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(pe.success("conditionChecker: -satisfied- target equals value"),!0):(pe.failed("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(pe.success("conditionChecker: -satisfied- target does not equal value"),!0):(pe.failed("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(pe.success("conditionChecker: -satisfied- target is greater than value"),!0):(pe.failed("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(pe.success("conditionChecker: -satisfied- target is less than value"),!0):(pe.failed("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(pe.success("conditionChecker: -satisfied- target is greater or equal than value"),!0):(pe.failed("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(pe.success("conditionChecker: -satisfied- target is less or equal than value"),!0):(pe.failed("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=A(n.split(","),2),a=r[0],o=r[1];return a=parseInt(a),o=parseInt(o),e>=a&&e<=o?(pe.success("conditionChecker: -satisfied- target is between min and max"),!0):(pe.failed("conditionChecker: -not satisfied- target is not between min and max"),!1);case"regex":return new RegExp(n,"i").test(e);default:return pe.failed("conditionChecker: condition is not defined ",t),!1}},Ie=function(){var e=b,t=k,n=window.location.search;if(n.includes("nd_debug=1"))return window.localStorage.setItem(e,1),window.localStorage.setItem(t,!0),Q("dbm","on"),1;if(n.includes("nd_debug=2"))return window.localStorage.setItem(e,2),window.localStorage.setItem(t,!0),Q("dbm","on"),2;if(n.includes("nd_debug=0"))return window.localStorage.removeItem(e),window.localStorage.setItem(t,!0),Q("dbm","off"),0;var r=parseInt(window.localStorage.getItem(e));return Q("dbm",r?"on":"off"),r||0},Te=function(){var e=t(a().mark((function e(){var t,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"_ga",e.abrupt("return",new Promise((function(e,n){var r=window.localStorage.getItem(x);if(r&&e(r),r=me(window.top.document.cookie,t))window.localStorage.setItem(x,r),e(r);else{var a=setInterval((function(){(r=me(window.top.document.cookie,t))&&(clearInterval(a),window.localStorage.setItem(x,r),e(r))}),10);setTimeout((function(){clearInterval(a),n(new Error("Could not extract cookie identifier"))}),1e3)}})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Ae=function(){return navigator.sendBeacon&&"function"==typeof navigator.sendBeacon},De=function(e){if(!e||"string"!=typeof e)return e;var t={startMonthIndex:void 0,endMonthIndex:void 0,startDay:void 0,endDay:void 0},n=e.match("([\\d]+)-([\\d]+)\\s?([\\wıüğşöçİÖÇĞÜŞ]+)");if(n&&4===n.length)t.startDay=parseInt(n[1]),t.endDay=parseInt(n[2]),t.startMonthIndex=fe[n[3].toLowerCase()],t.endMonthIndex=t.startMonthIndex;else{if(!(n=e.match("([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜŞ]+)-([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜŞ]+)"))||5!==n.length)return e;t.startDay=parseInt(n[1]),t.startMonthIndex=fe[n[2].toLowerCase()],t.endDay=parseInt(n[3]),t.endMonthIndex=fe[n[4].toLowerCase()]}try{var r=new Date;if(!t.startMonthIndex||!t.endMonthIndex)return e;var a=t.startMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,o=t.endMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,i=new Date(a,t.startMonthIndex,t.startDay),s=new Date(o,t.endMonthIndex,t.endDay),c=Math.ceil(Math.abs(i-r)/864e5),u=Math.ceil(Math.abs(s-r)/864e5),l=c<7?0:Math.ceil(c/7),d=u<7?0:Math.ceil(u/7);return 0===l&&0===d?"".concat(c," - ").concat(u," Gün"):0===l&&d>=1?"".concat(c," Gün - ").concat(d," Hafta"):l===d?"".concat(l," Hafta"):"".concat(l," - ").concat(d," Hafta")}catch(t){return e}},Pe=function(){var e=t(a().mark((function e(t,n){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(){clearTimeout(r),r=setTimeout(n,t)},r=setTimeout(n,t),window.top.document.ontouchstart=o;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){function e(){i(this,e),this.logger=new I("Nextday Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentsHash=null,this.appliedTreatmentsChanges=!1,this.eligibleNotAppliedTreatmentsHash=null,this.eligibleNotAppliedTreatmentsChanges=!1,this.headers={type:"text/plain"},this.isLogged=!1,this.initializeExitEventListeners()}var n,r,o;return c(e,[{key:"sendLogs",value:(o=t(a().mark((function e(){var t,n,r,o=this,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=i.length>1&&void 0!==i[1]&&i[1],(r=this.logger).log("Sending logs"),"complete"!==window.top.document.readyState?(r.log("Document ready state is not complete"),window.addEventListener("load",(function(){r.log("In onload event"),o.handleQueueLogs(o.packageLogData(t),n)}),!0)):this.handleQueueLogs(this.packageLogData(t),n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"handleQueueLogs",value:(r=t(a().mark((function e(t){var n,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>1&&void 0!==r[1]&&r[1]||!this.isLogged){e.next=3;break}return e.abrupt("return");case 3:if(n=this.logger,t){e.next=7;break}return n.failed("Could not create request blob"),e.abrupt("return");case 7:return n.log("Request blob to send: ",t),this.queueLogs(t),this.isLogged=!0,e.next=12,we(JSON.stringify(window.beagleInfoLayer.a));case 12:return this.appliedTreatmentsHash=e.sent,e.next=15,we(JSON.stringify(window.beagleInfoLayer.e));case 15:this.eligibleNotAppliedTreatmentsHash=e.sent;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"updateLatestChanges",value:(n=t(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(JSON.stringify(window.beagleInfoLayer.a));case 2:return t=e.sent,e.next=5,we(JSON.stringify(window.beagleInfoLayer.e));case 5:n=e.sent,t!==this.appliedTreatmentsHash&&(this.appliedTreatmentsChanges=!0,this.appliedTreatmentsHash=t),n!==this.eligibleNotAppliedTreatmentsHash&&(this.eligibleNotAppliedTreatmentsChanges=!0,this.eligibleNotAppliedTreatmentsHash=n);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"packageLogData",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.headers,n={},r=0,a=Object.entries(window.beagleInfoLayer);r<a.length;r++){var o=A(a[r],2),i=o[0],s=o[1];i.startsWith("_")||(n[i]=s)}return n.t=Date.now(),e?n.m=e:Object.keys(n.a||{}).length>0?n.m="Treatments applied":n.m="No treatments applied",new Blob([JSON.stringify(n)],t)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.appliedTreatmentsChanges,n=this.eligibleNotAppliedTreatmentsChanges;if(!t&&!n)return!1;var r={t:Date.now(),a:t?window.beagleInfoLayer.a:{},e:n?window.beagleInfoLayer.e:{},vId:window.beagleInfoLayer.vId};return new Blob([JSON.stringify(r)],e)}},{key:"initializeExitEventListeners",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(e.isLogged){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0}),window.addEventListener("pagehide",(function(){if(e.isLogged){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger;if(Ae()){var n=navigator.sendBeacon(u,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(u,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}else fetch(u,e)}}]),e}(),_e=Ce,Ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";var r=e.indexOf(t);if(r<0)return e;for(;e.indexOf(t)>=0;){var a=e.indexOf(t);e=(a>0?e.substring(0,a):"")+n+e.substring(a+t.length)}return e};function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ne=new I("Nextday DataLayer Checker"),Re=function(e){Ne.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,a=je(t);return Se(a,n,r)},je=function(e){Ne.log("Searching beagleInfoLayer for key ",e);var t=window.beagleInfoLayer[e];if(e.includes("."))try{var n=e.split(".");t=window.beagleInfoLayer[n[0]];for(var r=1;r<n.length;r++)t=t[n[r]]}catch(n){Ne.failed("Couldn't extract key ".concat(e," from beagleInfoLayer")),t=null}if(t)return Ne.success("Found key ".concat(e," with value ").concat(t)),t;Ne.failed("Key ".concat(e," not found in beagleInfoLayer")),Ne.log("Searching dataLayer for key ",e);var a,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(window.dataLayer);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(Object.keys(i).includes(e))return Ne.success("Found key ".concat(e," with value ").concat(i[e])),i[e]}}catch(e){o.e(e)}finally{o.f()}return Ne.failed("Key ".concat(e," not found in dataLayer")),null},Qe=new I("ReplaceUtils");function Ue(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e&&t.includes("{{REPLACE}}")){Qe.log("Executing replace function: ",e);var a={dataLayerFinder:je,productInfo:n},o=Function(e).bind(a);return r?t.replace("{{REPLACE}}",o()):Ee(t,"{{REPLACE}}",o())}return t}var qe=function(e,t,n){return Array.isArray(e)?e.forEach((function(r,a){var o=t?t[a]||t:"";e[a]=Ue(o,r,n)})):Array.isArray(t)?t.forEach((function(r,a){if("object"===o(r)){var i=function(e){var t=e.storage,n=e.key,r=e.type,a=null;if("session"===t&&(a=window.sessionStorage.getItem(n),r))try{a=(a=JSON.parse(a))[a.length-1][r]}catch(e){Qe.failed("Could not parse ".concat(a))}return a}(r);e=e.replace("{{REPLACE}}",i)}else e=Ue(t,e,n,!0)})):e=Ue(t,e,n),e},Me=new I("ActionConditionUtils"),Ge=function(e,t){var n=e.attribute,r=e.inner_condition,a=e.operator,o=e.selector,i=e.type,s=e.value;Me.log("Action condition found: ",e);var c=[];if("productInfoLookup"===i)for(var u=0,l=Array.from(window.top.document.querySelectorAll(o));u<l.length;u++){var d,p,f=l[u],h=f.getAttribute(n),g=null==t||null===(d=t[h])||void 0===d||null===(p=d.catalog)||void 0===p?void 0:p[a];g&&Se(g,r,s)&&c.push($(f))}return c};function Fe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(){return He=t(a().mark((function e(n,r){var o,i,s,c,u,d,f,h,g,v,y,w,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new I("Nextday Apply Actions"),i=m,s=r.productInfo,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o.log("Applying action: ",JSON.stringify(e));var n=e.operator,r=e.type,a=e.applyEvent,c=e.contentSelector,u=e.selector,h=e.selectorFallback,m=e.mdCondition,b=e.move_selector_1,k=e.move_selector_2,x=e.replaceFn,S=e.pType;if("noop"!==n){var I=e.value;t=t?t.find(u):$(u);var T=!m||window.matchMedia(m).matches;if(!T)return o.failed("Media condition mismatch: ",m),!1;if(b&&!k||k&&!b)return o.failed("Both move selectors are required"),!1;if(b&&k){if(!$(b).length)return o.failed("Move selector 1 not found: ",b),!1;if(!$(k).length)return o.failed("Move selector 2 not found: ",k),!1}else{if(!u)return o.failed("Selector not specified"),!1;if(!t.length){if(!$(h).length&&"remove"===n)return;if("no-selector"!==u&&(o.failed("Selector not found: ",u),o.log("Trying fallback selector: ",h),h&&(t=$(h)),!t.length))return o.failed("Fallback selector not found"),!1}}if(x&&(I=qe(I,x,s)),"remove"===n)t.length?(o.log("Removing: ",u),t.remove()):o.log("Cannot found element with selector: ",u);else if("insert"===n)switch(r){case"before":o.log("Inserting before: ",I),String(I).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),t.before(I);break;case"after":o.log("Inserting after: ",I),t.after(I);break;case"append":o.log("Appending value: ",I),t.append(I);break;case"modal":t.off("click"),y(I,c),t[0].addEventListener("click",(function(e){v()}),!0);break;case"popup":if(0!==parseInt(sessionStorage.getItem(i))){o.log("Popup already displayed in session");break}if(o.log("Creating Popup: ",I),S&&(I=d(s,S,I)),y(I,c),a){var L,A=window.matchMedia(l).matches,D=Fe(a);try{for(D.s();!(L=D.n()).done;){var P=L.value;switch(P){case"exitIntent":var C,_;o.log("Adding exit intent listener"),A?(window.top.addEventListener("visibilitychange",g),null!==(C=window.beagleInfoLayer)&&void 0!==C&&C.r.includes(null===(_=window.beagleInfoLayer)||void 0===_?void 0:_.d)||window.history&&"function"==typeof window.history.pushState&&(window.history.pushState("temp",""),window.top.addEventListener("popstate",g,{once:!0})),Pe(p,g)):window.top.document.documentElement.addEventListener("mouseleave",g,{once:!0});break;case"copyIntent":o.log("Adding copy intent listener"),window.top.document.documentElement.addEventListener("copy",g,{once:!0})}}}catch(e){D.e(e)}finally{D.f()}}else setTimeout((function(){g()}),timeout);break;default:o.failed("Type: ".concat(r," not found for operator: ").concat(n))}else if("edit"===n)switch(r){case"text":o.log("Editing text: ",I),t.text(I);break;case"html":o.log("Editing html: ",I),t.html(I);break;case"styleApplicator":o.log("Applying style: ",I);var E=JSON.parse(I);o.log("Style Changes Map: ",E),be(t,E);break;case"addClass":o.log("addding class to ".concat(t," named ").concat(I)),t.addClass(I);break;case"removeClass":o.log("remove class from ".concat(t," named ").concat(I)),t.removeClass(I);break;case"documentTitle":if(o.log("changing document title from ".concat(t," to ").concat(I)),a){var O,N=Fe(a);try{for(N.s();!(O=N.n()).done;){var R=O.value;"tabChange"==R&&function(){o.log("catching event tabchange..");var e=window.top.document.title;window.top.document.addEventListener("visibilitychange",(function(t){return f(t,I,e)}))}()}}catch(e){N.e(e)}finally{N.f()}}break;default:o.log("Unknown edit type: ",r)}else if("setattribute"===n)switch(o.log("Setting attribute: ",attribute,I),attribute){case"src":t.css("content","url(".concat(I.trim(),")"));break;case"style":var j=I.split(":")[0].trim(),Q=I.split(":")[1].trim();t.css(j,Q,"!important")}else if("replace"===n)o.log("Replacing: ",I),t.replaceAll(I);else if("swap"===n){o.log("Swapping: ",b,k);var U=window.top.document.querySelector(b),q=window.top.document.querySelector(k);w(U,q)}else if("injectscript"===n)o.log("Injecting script: ",I),t.append("<script>".concat(I,"<\/script>"));else if("move"===n){o.log("Moving ".concat(b," to ").concat(k));var M=window.top.document.querySelector(b),G=window.top.document.querySelector(k);M.remove(),G.prepend(M)}else if("productInfoLookup"===n){var F=d(s,S,I);t.before(F)}else if("text-transform"===n){if("capitalize"===r)for(var B=0,H=Array.from(t);B<H.length;B++){var V,J,W=H[B];null!==(V=W.innerText)&&void 0!==V&&V.includes("\n")?W.innerText=W.innerText.toLowerCase().split("\n").map((function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")})).join("\n"):W.innerText=null===(J=W.innerText)||void 0===J?void 0:J.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}}else o.failed("No such operator exists yet",n)}else o.failed("Noop Operator: No operation is applied on target ")},u=function(e,t){return e&&t.includes("{{REPLACE_PRODUCTINFO}}")&&(t=Ee(t,"{{REPLACE_PRODUCTINFO}}",e)),t},d=function(e,t,n){var r=Object.keys(e),a=null;if(!r||0===r.length)return o.log("No sku found"),null;var i=r[0];switch(t){case"transactionIn2Weeks":var s;a=u(null===(s=e[i].catalog.transactionIn2Weeks)||void 0===s?void 0:s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n),o.log("Replacing transcationIn2Weeks ",e[i].catalog.transactionIn2Weeks);break;case"addToCartIn2Weeks":var c;a=u(null===(c=e[i].catalog.addToCartIn2Weeks)||void 0===c?void 0:c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n),o.log("Replacing AddToCartCount ",e[i].catalog.addToCartIn2Weeks);break;case"productViewCount":var l;a=u(null===(l=e[i].catalog.productViewCount)||void 0===l?void 0:l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n),o.log("Replacing productViewCount for",e[i].catalog.productViewCount);break;default:o.failed("no such type found for productInfoLookup operator: "+t)}return a},f=function(){var e=t(a().mark((function e(t,n,r){var o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.isArray(n)?n:[n],i=Fe(o),e.prev=2,i.s();case 4:if((s=i.n()).done){e.next=18;break}if(c=s.value,!window.top.document.hidden){e.next=15;break}return window.top.document.title=c,e.next=10,Le(2e3);case 10:return window.top.document.title=r,e.next=13,Le(2e3);case 13:e.next=16;break;case 15:window.top.document.title=r;case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),i.e(e.t0);case 23:return e.prev=23,i.f(),e.finish(23);case 26:window.top.document.hidden?f(t,n,r):window.top.document.title=r;case 27:case"end":return e.stop()}}),e,null,[[2,20,23,26]])})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0),window.removeEventListener("touchend",e,!0))},g=function e(){if(!(window.top.document.hidden||parseInt(sessionStorage.getItem(i))>0)){sessionStorage.setItem(i,1);var t=window.top.document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),window.top.document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",h,!0),window.addEventListener("touchend",h,!0),window.top.document.documentElement.removeEventListener("mouseleave",e,{once:!0}),window.top.document.documentElement.removeEventListener("copy",e,{once:!0}),window.top.removeEventListener("visibilitychange",e),window.top.removeEventListener("popstate",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",h,!0),window.removeEventListener("touchend",h,!0)}),15e3)}},v=function(){if(!window.top.document.hidden){var e=window.top.document.querySelector("#grt-shadow-host");e&&(e.style.display="none"),window.top.document.getElementById("nd-popup__wrapper").style.display="block"}},y=function(e,t){var n=window.top.document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=window.top.document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",h,!0)},t)for(var a=Array.from(window.top.document.querySelectorAll(t));e.includes("{{REPLACE}}")&&a.length>0;)e=e.replace("{{REPLACE}}",a.shift().src);var o=window.top.document.createElement("template");o.innerHTML=e.trim();var i=o.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),window.top.document.body.appendChild(n)},w=function(e,t){var n,r,a=e.parentNode,o=t.parentNode;if(a&&o&&!a.isEqualNode(t)&&!o.isEqualNode(e)){for(var i=0;i<a.children.length;i++)a.children[i].isEqualNode(e)&&(n=i);for(var s=0;s<o.children.length;s++)o.children[s].isEqualNode(t)&&(r=s);a.isEqualNode(o)&&n<r&&r++,a.insertBefore(t,a.children[n]),o.insertBefore(e,o.children[r])}},b=function e(t){if(window.jQuery){var n,r=Fe(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;try{var i=!1;if(a.condition){var u,l=Fe(Ge(a.condition,s));try{for(l.s();!(u=l.n()).done;){var d=u.value;if(!1===(i=c(a,d)))return!1}}catch(e){l.e(e)}finally{l.f()}}else i=c(a);if(!1===i)return!1}catch(e){return o.failed("Couldn't apply action ".concat(a," with error ").concat(e.message)),e}}}catch(e){r.e(e)}finally{r.f()}}else setTimeout((function(){e(t)}),10)},e.abrupt("return",b(n));case 14:case"end":return e.stop()}}),e)}))),He.apply(this,arguments)}var Ve=function(e,t){return He.apply(this,arguments)},Je=new I("Nextday Counter Checker"),We=function(e){Je.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return $e(n,r);case"CABasketPrice":return ze(n,r);default:return Je.failed("No such operator",t),!1}},Ke=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return Je.failed("No such type",t),null}}catch(t){return Je.failed("Could not get counter ".concat(e),t),null}},$e=function(e,t){var n=parseInt(Ke(v,"session"));return Je.log("Page views counter value: ",n),null===n?(Je.failed("Pageviews counter not found in session storage"),!1):Se(n,e,parseInt(t))},ze=function(e,t){var n=parseInt(Ke(w,"local"));return Je.log("Coupon applicable basket price counter value: ",n),null===n?(Je.failed("Coupon applicable basket price counter not found in local storage"),!1):Se(n,e,parseInt(t))},Ye=new I("Nextday Element Checker"),Xe=function(e){Ye.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,a=e.value,o=e.selector,i=e.selectorAll,s=e.selectorFallback,c=void 0===s?null:s,u=o;if(u&&!window.top.document.querySelector(u)&&(u=c||u),null===n)return Se(window.top.document.querySelector(u),r,a);if(u&&!window.top.document.querySelector(u))return Ye.failed("Selector not found on page"),!1;if(i&&!window.top.document.querySelectorAll(i))return Ye.failed("Selector not found on page"),!1;switch(u?t=window.top.document.querySelector(u):i&&(t=Array.from(window.top.document.querySelectorAll(i))),n){case"text-number":var l;l=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(window.top.document.querySelector(u).textContent.replace("TL","").replace(".",""));var d=parseInt(l);return Se(d,r,a);case"classList":return Se(Array.from(t.classList),r,a);case"count":var p=Array.isArray(t)?t.length:t?1:0;return Se(p,r,a);case"style":var f=getComputedStyle(t),h=a.split(":")[0].trim(),g=a.split(":")[1].trim(),v=f[h];return Se(v,r,g);default:return Ye.failed("Operator not defined"),!1}},Ze=new I("Nextday Function Checker"),et=function(e,t){Ze.log("Checking rule",JSON.stringify(e));var n=t.productInfo,r=e.operator,a=e.condition,o=e.value,i=e.bindings;if(!r)return Ze.failed("Rule function not defined"),!1;var s={};"productInfo"==i&&(s={productInfo:n});var c=Function(r).bind(s)();return Se(c,a,o)},tt=new I("Nextday Session Checker"),nt=function(e){tt.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"duration":return rt(n,r);case"history":return at(n,r);default:return null}},rt=function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(window.sessionStorage.getItem(h)))}catch(e){return tt.failed("Could not get session timestamp",e),Date.now()}}())/1e3;return Se(n,e,parseInt(t))},at=function(e,t){var n,r=null===(n=window.sessionStorage.getItem(g))||void 0===n?void 0:n.split(",");return Se(r,e,t)},ot=new I("Nextday Url Checker"),it=function(e){ot.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var a=window.top.location.href,o=new URL(a).pathname;return ot.log("Checking path ".concat(o," matches rule path ").concat(r)),Se(o,n,r)}},st=new I("Nextday Env Checker"),ct=function(e){st.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var a=window.matchMedia(l).matches?"mobile":"desktop";return Se(a,n,r)}},ut=new I("Nextday RandomPct Checker"),lt=function(){var e=t(a().mark((function e(t){var n,r,o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ut.log("Checking rule",JSON.stringify(t)),n=t.condition,r=t.value,o=t.salt){e.next=5;break}return ut.failed("Salt is not defined"),e.abrupt("return",!1);case 5:return e.next=7,Te();case 7:return i=e.sent,e.next=10,ye(i+o);case 10:return s=e.sent,c=s,e.abrupt("return",Se(c,n,r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=new I("Nextday ProductInfo Checker"),pt=function(e,t){dt.log("Checking rule",JSON.stringify(e));var n=e.operator,r=e.condition,a=e.value,o=null;if(null!=t&&t.skuList&&null!=t&&t.skuList.length)switch(n){case"transactionIn2Weeks":dt.log("Getting TransactionCount for sku ",t.skuList[0]),o=ft(t.skuList[0],t.productInfo);break;case"addToCartIn2Weeks":dt.log("Getting AddToCartCount for sku ",t.skuList[0]),o=ht(t.skuList[0],t.productInfo);break;case"productViewCount":dt.log("Getting productViewCount for sku ",t.skuList[0]),o=gt(t.skuList[0],t.productInfo)}else o=0;return Se(o,r,a)},ft=function(e,t){var n,r;return e&&t&&t[e]?null===(n=t[e])||void 0===n||null===(r=n.catalog)||void 0===r?void 0:r.transactionIn2Weeks:-1},ht=function(e,t){var n,r;return e&&t&&t[e]?null===(n=t[e])||void 0===n||null===(r=n.catalog)||void 0===r?void 0:r.addToCartIn2Weeks:-1},gt=function(e,t){var n,r;return e&&t&&t[e]?null===(n=t[e])||void 0===n||null===(r=n.catalog)||void 0===r?void 0:r.productViewCount:-1};function vt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yt=new I("Nextday Rule Engine"),wt=function(){function e(t){i(this,e);var n=t.baseRuleSet,r=t.businessRuleSet,a=t.bindings,o=t.callback,s=void 0===o?null:o;this.baseRuleSet=n,this.businessRuleSet=r,this.callback=s,this.bindings=a}var n,r,o;return c(e,[{key:"checkRules",value:(o=t(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=vt(this.baseRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return o.apply(this,arguments)})},{key:"checkBusinessRules",value:(r=t(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=vt(this.businessRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.businessRuleId);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return r.apply(this,arguments)})},{key:"checkRule",value:(n=t(a().mark((function e(t){var n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.chain,r=t.chain_condition,o=t.type,i=null,e.t0=o,e.next="session"===e.t0?5:"counter"===e.t0?7:"element"===e.t0?9:"dataLayer"===e.t0?11:"url"===e.t0?13:"function"===e.t0?15:"environment"===e.t0?17:"random"===e.t0?19:"productInfoLookup"===e.t0?23:25;break;case 5:return i=nt(t),e.abrupt("break",27);case 7:return i=We(t),e.abrupt("break",27);case 9:return i=Xe(t),e.abrupt("break",27);case 11:return i=Re(t),e.abrupt("break",27);case 13:return i=it(t),e.abrupt("break",27);case 15:return i=et(t,this.bindings),e.abrupt("break",27);case 17:return i=ct(t),e.abrupt("break",27);case 19:return e.next=21,lt(t);case 21:return i=e.sent,e.abrupt("break",27);case 23:return i=pt(t,this.bindings),e.abrupt("break",27);case 25:return yt.failed("No such rule type: ".concat(o)),e.abrupt("return",null);case 27:if(!n){e.next=53;break}e.t1=r,e.next="and"===e.t1?31:"or"===e.t1?38:"xor"===e.t1?45:51;break;case 31:if(e.t2=i,!e.t2){e.next=36;break}return e.next=35,this.checkRule(n);case 35:e.t2=e.sent;case 36:return i=e.t2,e.abrupt("break",53);case 38:if(e.t3=i,e.t3){e.next=43;break}return e.next=42,this.checkRule(n);case 42:e.t3=e.sent;case 43:return i=e.t3,e.abrupt("break",53);case 45:return e.t4=i,e.next=48,this.checkRule(n);case 48:return e.t5=e.sent,i=e.t4!=e.t5,e.abrupt("break",53);case 51:return yt.failed("No such chain condition"),e.abrupt("break",53);case 53:return e.abrupt("return",i);case 54:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}(),bt=new I("SegmentationComputer");function kt(e){return xt.apply(this,arguments)}function xt(){return(xt=t(a().mark((function e(t){var n,r,o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt.log("Determining user segment"),n=0,r=Object.keys(t);case 2:if(!(n<r.length)){e.next=17;break}if(i=r[n],s=null===(o=t[i])||void 0===o?void 0:o.ruleSet){e.next=7;break}return e.abrupt("continue",14);case 7:return c=new wt({baseRuleSet:s,businessRuleSet:[],bindings:null}),e.next=10,c.checkRules();case 10:if(!e.sent){e.next=14;break}return bt.log("User segment matched: ".concat(i)),Q("s",i),e.abrupt("return",i);case 14:n++,e.next=2;break;case 17:return bt.log("User segment not matched, returning default"),e.abrupt("return","default");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tt=new I("Nextday Treatment Repository"),Lt=function(){function e(t){i(this,e);var n=t.treatments,r=t.treatmentWeights;this.treatments=n,this.treatmentWeights=r}var n,r,o;return c(e,[{key:"getMatchedTreatments",value:(o=t(a().mark((function e(){var t,n,r,o,i,s,c,u,l,d,p,f,h,g,v,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.treatmentWeights,e.next=3,kt(t);case 3:if(n=e.sent,r=this.treatments,!t){e.next=43;break}o=n&&t[n]?t[n]:t.default,i=St(r),e.prev=8,i.s();case 10:if((s=i.n()).done){e.next=35;break}if((u=s.value).weight=(null===(c=o[null==u?void 0:u.id])||void 0===c?void 0:c.weight)||0,u.actions.some((function(e){return e.variants}))){e.next=15;break}return e.abrupt("continue",33);case 15:l=St(u.actions),e.prev=16,l.s();case 18:if((d=l.n()).done){e.next=25;break}if((p=d.value).variants){e.next=22;break}return e.abrupt("continue",23);case 22:for(f=0,h=Object.keys(p.variants);f<h.length;f++)m=h[f],null!==(g=o[u.id])&&void 0!==g&&g.variants&&null!==(v=o[u.id])&&void 0!==v&&v.variants[m]&&(p.variants[m].weight=o[u.id].variants[m]);case 23:e.next=18;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(16),l.e(e.t0);case 30:return e.prev=30,l.f(),e.finish(30);case 33:e.next=10;break;case 35:e.next=40;break;case 37:e.prev=37,e.t1=e.catch(8),i.e(e.t1);case 40:return e.prev=40,i.f(),e.finish(40);case 43:if(Tt.log("".concat(r.length," treatments user group matched")),r.length){e.next=46;break}return e.abrupt("return",[]);case 46:return e.abrupt("return",r);case 47:case"end":return e.stop()}}),e,this,[[8,37,40,43],[16,27,30,33]])}))),function(){return o.apply(this,arguments)})}],[{key:"getTreatments",value:(r=t(a().mark((function e(){var t,n,r,o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tt.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return Tt.failed("Treatments not found in local storage"),e.next=9,ge();case 9:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return Tt.failed("Treatments are expired"),e.next=19,ge();case 19:return r=e.sent,s={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(s)),e.abrupt("return",r);case 23:return Tt.success("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"getTreatmentWeights",value:(n=t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),Tt.warn(e.t0.message),this.treatmentWeights=null;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return n.apply(this,arguments)})}]),e}(),At=Lt;function Dt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ct=new I("BeagleOnComponent"),_t=function(){var e=t(a().mark((function e(n,r,o){var i,s,c,u,d,p,y,w,b,k,x,S,I,T,L,P,C,_,E,O,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R=function(){return R=t(a().mark((function e(r){var i,c,u,l,p,f,h,g,v,m,y,w,b,k,x,T,L,P,C,_,E,O,N,R,j,Q,q,G,F,B;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.id,c=r.actions,u=r.baseRuleSet,l=r.device,p=r.dependant_on_treatment,f=r.reapply_event,h=r.reapply_event_page_type,g=r.businessRuleSet,v=r.weight,m=r.delay,y=r.productInfoStorage,!s||s.includes(i)){e.next=3;break}return e.abrupt("return");case 3:if("mobile"!==l||d){e.next=6;break}return Ct.failed("Treatment device 'mobile' mismatch"),e.abrupt("return");case 6:if("desktop"!==l||!d){e.next=9;break}return Ct.failed("Treatment device 'desktop' mismatch"),e.abrupt("return");case 9:if(!f){e.next=16;break}if(!h){e.next=15;break}return e.next=13,V();case 13:w=(w=e.sent).PageType;case 15:if(!h||h===w){b=f,Array.isArray(f)||(b=[f]),Ct.log("Reapply event '".concat(f,"' found for treatment: ").concat(i)),k=Dt(b);try{for(k.s();!(x=k.n()).done;)T=x.value,(L=I[T]?I[T]:[]).includes(i)?Ct.log("Treatment already added for reapply event"):I[T]=[].concat(D(L),[i])}catch(e){k.e(e)}finally{k.f()}}case 16:if(!y||"basket"!==y){e.next=22;break}return e.next=19,U("__SKUsonLastBasketLookup",!0,10,1e3);case 19:P=e.sent,e.next=25;break;case 22:return e.next=24,U("__SKUsonPageLookup",!0,10,1e3);case 24:P=e.sent;case 25:if(P=JSON.parse(P),_=new wt({baseRuleSet:u,businessRuleSet:g,bindings:C={productInfo:P}}),Ct.log("Starting base rule set check for treatment: "+i),e.t0=!u,e.t0){e.next=34;break}return e.next=33,_.checkRules();case 33:e.t0=e.sent;case 34:if(!e.t0){e.next=68;break}if(E=100===v?0:100-v||50,p&&(N=null===(O=S.find((function(e){return e.id===p})))||void 0===O?void 0:O.weight,E=100===N?0:100-N||50),Ct.log("Treatment skip ratio: "+E),R=p||i,1!==o){e.next=43;break}e.t1=100,e.next=46;break;case 43:return e.next=45,ye(n+R);case 45:e.t1=e.sent;case 46:if(j=e.t1,Ct.log("TreatmentPct: "+j+" with debug mode ".concat(o?"on":"off")),Q=null,!g){e.next=55;break}return Ct.log("Starting sub variant rule set check for treatment: "+i),e.next=53,_.checkBusinessRules();case 53:(Q=e.sent)?Ct.log("Applying business rule transformation with id: ",Q):Ct.log("Applying treatment with default values");case 55:if(!(j<E)){e.next=59;break}return Ct.log("Treatment ".concat(i," skipped due to treatment split ratio")),M(i,Q,B,"skipped",p),e.abrupt("return");case 59:return e.next=61,xe(n,c,Q);case 61:q=e.sent,G=A(q,2),F=G[0],B=G[1],setTimeout(t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(F,C);case 2:if(!1!==e.sent){e.next=6;break}return M(i,Q,B,"failed"),e.abrupt("return");case 6:return M(i,Q,B,"applied"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)}))),m||0),e.next=69;break;case 68:Ct.failed("Rule check failed for treatment: ",i);case 69:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)},O=function(e){return R.apply(this,arguments)},r.sendLogs(),i=window.location.search,s=null,o&&i.includes("filter=")&&(s=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).split(",").map((function(e){return parseInt(e,10)}))),ke(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Q=v,q=m,G=f,F=h,B=g,H=sessionStorage.getItem(Q),J=sessionStorage.getItem(q),W=sessionStorage.getItem(G),K=sessionStorage.getItem(F),$=sessionStorage.getItem(B),H?sessionStorage.setItem(Q,parseInt(H)+1):sessionStorage.setItem(Q,1),null===J&&sessionStorage.setItem(q,0),W||sessionStorage.setItem(G,crypto.randomUUID()),K||sessionStorage.setItem(F,Date.now()),$?sessionStorage.setItem(B,[window.location.pathname,$]):sessionStorage.setItem(B,[window.location.pathname]),setTimeout((function(){he()}),2e3),c=At.getTreatments(),u=At.getTreatmentWeights(),d=window.matchMedia(l).matches,p={subtree:!0,childList:!0,attributes:!0},e.next=15,Promise.all([c,u]);case 15:return y=e.sent,w=A(y,2),b=w[0],k=w[1],Ct.success("Found treatments: ",b),x=new At({treatments:b,treatmentWeights:k}),j(N.TreatmentRepositoryCreated),e.next=24,x.getMatchedTreatments();case 24:if((S=e.sent).length){e.next=29;break}return Ct.log("No treatments matched, returning without further action"),he(),e.abrupt("return");case 29:I={},T=Dt(S),e.prev=31,T.s();case 33:if((L=T.n()).done){e.next=45;break}return P=L.value,e.prev=35,e.next=38,O(P);case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(35),Ct.failed("Error executing rules",e.t0);case 43:e.next=33;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(31),T.e(e.t1);case 50:return e.prev=50,T.f(),e.finish(50);case 53:for(he(),j(N.TreatmentsApplied),Ct.success("Applied treatments: ",window.beagleInfoLayer.a),setInterval((function(){r.updateLatestChanges()}),1e3),C=function(){var e=E[_],n=I[e],r=S.filter((function(e){return n.includes(e.id)}));switch(e){case"infinite_scroll":var o=new ResizeObserver((function(){var e,t=Dt(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;Ct.log("Retrying treatment ".concat(n.id," from infinite_scroll")),O(n)}}catch(e){t.e(e)}finally{t.f()}}));o.observe(window.top.document.documentElement);break;case"timeout":setTimeout((function(){var e,t=Dt(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;Ct.log("Retrying treatment ".concat(n.id," from timeout")),O(n)}}catch(e){t.e(e)}finally{t.f()}}),500);break;case"element_change":var i,s=Dt(r);try{var c=function(){var e,t=i.value,n=Dt(Array.isArray(t.reapply_selector)?t.reapply_selector:[t.reapply_selector]);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=window.top.document.querySelector(r);a&&new MutationObserver((function(){Ct.log("Retrying treatment ".concat(t.id," from element_change")),O(t)})).observe(a,p)}}catch(e){n.e(e)}finally{n.f()}};for(s.s();!(i=s.n()).done;)c()}catch(e){s.e(e)}finally{s.f()}break;case"on_scroll":window.onscroll=function(){var e,t=Dt(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;Ct.log("Retrying treatment ".concat(n.id," from on_scroll")),O(n)}}catch(e){t.e(e)}finally{t.f()}};break;case"query_search_change":var u=window.location.search,l=new MutationObserver((function(){if(window.location.search!==u){u=window.location.search;var e,t=Dt(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;Ct.log("Retrying treatment ".concat(n.id," from query_search_change")),O(n)}}catch(e){t.e(e)}finally{t.f()}}}));l.observe(document,p);break;case"interval":var d,f=Dt(r);try{var h=function(){var e=d.value,n=setInterval(t(a().mark((function t(){var r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ct.log("Retrying treatment ".concat(e.id," from interval")),t.next=3,O(e);case 3:null!==(r=window.beagleInfoLayer)&&void 0!==r&&null!==(o=r.a)&&void 0!==o&&o[e.id]&&(clearInterval(n),I.interval=I.interval.filter((function(t){return t!==e.id})));case 4:case"end":return t.stop()}}),t)}))),50)};for(f.s();!(d=f.n()).done;)h()}catch(e){f.e(e)}finally{f.f()}break;default:Ct.failed("Reapply event not found: ",e)}},_=0,E=Object.keys(I);_<E.length;_++)C();j(N.ReapplyTreatmentListeners);case 60:case"end":return e.stop()}var Q,q,G,F,B,H,J,W,K,$}),e,null,[[31,47,50,53],[35,40]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Et=_t;t(a().mark((function e(){var t,n,r,o,i,s,c,u,l,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(N.BeagleLoaded),t=null,n=null,r=new I,o="ND_TimeoutCount",i=0,r.info("Nextday initializing"),e.prev=7,B(),s=Ie(),t=new _e,j(N.Initialized),e.next=14,Te();case 14:return c=e.sent,r.log("Found cookie identifier: ",c),e.next=18,ye(c);case 18:if(u=e.sent,Q("onHashPct",u),s){e.next=31;break}if(-1!==u){e.next=23;break}throw new Error("Could not determine cookie pct");case 23:if(Ae()){e.next=25;break}throw new Error("sendBeacon is not supported");case 25:if(!((i=parseInt(sessionStorage.getItem(o))||0)>1)){e.next=29;break}throw j(N.TimeoutThresholdReached),new Error("Nextday timeout threshold reached");case 29:e.next=33;break;case 31:r.info("Debug mode on: all applicable treatments will be applied"),window.localStorage.setItem(k,!0);case 33:return e.next=35,V();case 35:if(l=e.sent,p=l.vvsIsShowroom,window.top.document.documentElement.classList.contains("nextDay-hide")){e.next=41;break}throw j(N.ScriptTimeOut),sessionStorage.setItem(o,i+1),new Error("Nextday script timed out");case 41:if(!p||"true"!==p){e.next=46;break}throw window.localStorage.setItem(k,!0),new Error("User is from VVS showroom/callcenter");case 46:if(null!=p){e.next=48;break}throw new Error("Could not determine if user is from VVS showroom/callcenter");case 48:if("true"===window.localStorage.getItem(k)?(r.warn("User is out of scope"),n=!!s||u>=d):(Q("isOn",n=u>=d),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GLOV",GLOV_ON:n.toString()}),j(N.UserOnOff)),!1!==n){e.next=52;break}throw new Error("Control group: no treatments applied");case 52:r.log("Found cookie percentage: ",u),r.log("Split_ratio: ",d),r.log("cookiePct < SPLIT_RATIO",u<d),r.info("Control group ratio: ".concat(d,"%")),Et(c,t,s),e.next=64;break;case 59:e.prev=59,e.t0=e.catch(7),he(),r.warn("Nextday: ",e.t0.message),t.sendLogs(e.t0.message,!0);case 64:case"end":return e.stop()}}),e,null,[[7,59]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU91SSxVQUFZdkksT0FBT3VJLFdBQWEsR0FDdkN2SSxPQUFPdUksVUFBVWpPLEtBQUssQ0FBQzhoQixNQUFPLE9BQVF5SyxRQUFTUCxFQUFLdmxCLGFBRXBEK0IsRUFBV1gsRUFBWUssYUFHWixJQUFUOGpCLEVBL0VQLHVCQStFNkIsSUFBSXZ2QixNQUFNLHdDQS9FdkMsUUFpRkc0SyxFQUFPdkIsSUFBSSw0QkFBNkJxbUIsR0FDeEM5a0IsRUFBT3ZCLElBQUksZ0JBQWlCWCxHQUM1QmtDLEVBQU92QixJQUFJLDBCQUEyQnFtQixFQUFZaG5CLEdBQ2xEa0MsRUFBT2pJLEtBQVAsK0JBQW9DK0YsRUFBcEMsTUFPQStqQixHQUFTcFIsRUFBWXFSLEVBQVNDLEdBM0ZqQyxrREE2RkdsUyxLQUNBN1AsRUFBT3BCLEtBQUssWUFBYSxLQUFJNFgsU0FDN0JzTCxFQUFRcUIsU0FBUyxLQUFJM00sU0FBUyxHQS9GakMseURBQUQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvbG9nZ2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlMaWtlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aEhvbGVzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5TGltaXQuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVJlc3QuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9CZWFnbGVEYXRhQ29sbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL0JlYWdsZUluZm9MYXllci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheU1vbml0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9zdHJpbmdVdGlscy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBwbHlBY3Rpb25zL3JlcGxhY2UtdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBwbHlBY3Rpb25zL2FjdGlvbi1jb25kaXRpb24tdXRpbC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcHBseUFjdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9jb3VudGVyQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2VsZW1lbnRDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZnVuY3Rpb25DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvc2Vzc2lvbkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS91cmxDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZW52Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3JhbmRvbU51bWJlckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9wcm9kdWN0SW5mb0NoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL0JlYWdsZUluZm9MYXllci9zZWdtZW50LWNvbXB1dGVyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVRyZWF0bWVudFJlcG9zaXRvcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9CZWFnbGVPbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlDbGllbnRTREsvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqW2tleV07XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBJRSA4IGhhcyBhIGJyb2tlbiBPYmplY3QuZGVmaW5lUHJvcGVydHkgdGhhdCBvbmx5IHdvcmtzIG9uIERPTSBvYmplY3RzLlxuICAgIGRlZmluZSh7fSwgXCJcIik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRlZmluZSA9IGZ1bmN0aW9uKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIGRlZmluZShJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgZGVmaW5lKEdwLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoXG4gICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgdG9TdHJpbmdUYWdTeW1ib2wsXG4gICAgXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICk7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGFzeW5jSXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yXCIpO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgZGVmaW5lKEdwLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIGRlZmluZShHcCwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhISBjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiA/IG1vZHVsZS5leHBvcnRzIDoge31cbikpO1xuXG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgaW4gbW9kZXJuIGVuZ2luZXNcbiAgLy8gd2UgY2FuIGV4cGxpY2l0bHkgYWNjZXNzIGdsb2JhbFRoaXMuIEluIG9sZGVyIGVuZ2luZXMgd2UgY2FuIGVzY2FwZVxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSBcIm9iamVjdFwiKSB7XG4gICAgZ2xvYmFsVGhpcy5yZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xuICB9IGVsc2Uge1xuICAgIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG4gIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufSIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufSIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuZXhwb3J0IGNvbnN0IENPT0tJRV9OQU1FID0gXCJfZ2FcIjtcbi8vIFRPRE8gcmV2ZXJ0IHRoZSBmb2xsb3dpbmcgc3RhZ2luZyBlbnYgY2hlY2sgYWZ0ZXIgbW92aW5nIHRvIG5ldyBicmFuY2ggc3RydWN0dXJlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19MT0NBVElPTiA9IFwiaHR0cHM6Ly9ob3N0LWI5Ni5wYWdlcy5kZXYvdHJlYXRtZW50cy5qc29uXCI7XG5leHBvcnQgY29uc3QgVFJFQVRNRU5UX1dFSUdIVFNfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L3dlaWdodHMuanNvblwiO1xuZXhwb3J0IGNvbnN0IFNUWUxFU0hFRVRfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L25kLXN0eWxlcy5jc3NcIjtcbmV4cG9ydCBjb25zdCBMT0dfQVBJX1VSTCA9IFwiaHR0cHM6Ly9ldXJvcGUtd2VzdDMtbmV4dGRheS0zNGViMy5jbG91ZGZ1bmN0aW9ucy5uZXQvYXBpL2xvZ1Jlc3BvbnNlXCI7XG5leHBvcnQgY29uc3QgTE9PS1VQX0FQSV9VUkwgPSBcImh0dHBzOi8vY2F0YWxvZy1hcGkuYWRvcmFhaS5jb21cIjtcbmV4cG9ydCBjb25zdCBNT0JJTEVfTUVESUFfUVVFUlkgPSBcIihtYXgtd2lkdGg6IDQ0MHB4KVwiO1xuLy8gQ29udHJvbCBncm91cCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgU1BMSVRfUkFUSU8gPSA1MDtcbi8vIFNraXBwZWQgdHJlYXRtZW50IHBlcmNlbnRhZ2VcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRfUkFUSU8gPSA1MDtcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRTX0RVUkFUSU9OID0gMTtcbmV4cG9ydCBjb25zdCBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTiA9IDE7XG5leHBvcnQgY29uc3QgTElTVF9NT0RFX0JFQUdMRV9LRVlTID0gW1wicGFnZXR5cGVcIiwgXCJjYXRlZ29yeVwiLCBcImFsbHRpbWVQTFBDYXRlZ29yeU1vZGVcIiwgXCJzZXNzaW9uUExQQ2F0ZWdvcnlNb2RlXCIsXG4gIFwiYWxsdGltZVBEUENhdGVnb3J5TW9kZVwiLCBcInNlc3Npb25QRFBDYXRlZ29yeU1vZGVcIiwgXCJhbGx0aW1lQ2FydENhdGVnb3J5TW9kZVwiLCBcInNlc3Npb25DYXJ0Q2F0ZWdvcnlNb2RlXCJdO1xuICAvLyBUT0RPIHNldCB0byAxMjAwMDAobXMpIGJlZm9yZSBnbyBsaXZlXG5leHBvcnQgY29uc3QgSURMRV9USU1FT1VUID0gMTUwMDA7XG5cbmV4cG9ydCBjb25zdCBTRVNTSU9OX1NUT1JBR0VfS0VZUyA9IHtcbiAgU0VTU0lPTl9JRDogXCJfX25leHRkYXlfc2Vzc2lvbl9pZFwiLFxuICBTRVNTSU9OX1RJTUVTVEFNUDogXCJORF9TZXNzaW9uVGltZXN0YW1wXCIsXG4gIFNFU1NJT05fSElTVE9SWTogXCJCTl9TZXNzaW9uSGlzdG9yeVwiLFxuICBUUkVBVE1FTlRTOiBcIk5EX1RyZWF0bWVudHNcIixcbiAgUEFHRV9WSUVXUzogXCJORF9QYWdlVmlld3NcIixcbiAgUE9QVVBfRElTUExBWV9GTEFHOiBcIk5EX1BvcHVwRGlzcGxheUZsYWdcIixcbiAgTkRfU0tVX0lORk9fQkFTS0VUOiBcIk5kX1Byb2R1Y3RJbmZvQmFza2V0XCIsXG4gIFRJTUVPVVRfQ09VTlQ6IFwiTkRfVGltZW91dENvdW50XCIsXG59O1xuZXhwb3J0IGNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZUyA9IHtcbiAgQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFOiBcIk5EX0NBQmFza2V0UHJpY2VcIixcbiAgTkRfREVCVUdfTU9ERTogXCJORF9EZWJ1Z1wiLFxuICBPVVRfT0ZfU0NPUEU6IFwiTkRfT3V0T2ZTY29wZVwiLFxuICBVU0VSX0lEOiBcIk5EX1VzZXJJZFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IENVU1RPTV9TVE9SQUdFX1BSRUZJWCA9IFwiTkRfU2VnX1wiO1xuIiwiaW1wb3J0IHtMT0NBTF9TVE9SQUdFX0tFWVN9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuY2xhc3MgTG9nZ2VyIHtcbiAgY29uc3RydWN0b3Iob3JpZ2luID0gXCJOZXh0ZGF5IENsaWVudCBTREtcIikge1xuICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xuICAgIHRoaXMuREVCVUcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk5EX0RFQlVHX01PREUpO1xuICB9XG5cbiAgaW5mbyguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUuaW5mbyhgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGxvZyguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoREVCVUcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIGZhaWxlZCguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoIURFQlVHKSByZXR1cm47XG4gICAgbGV0IG1lc3NhZ2VDb25maWcgPSBcIiVjJXMgICBcIjtcblxuICAgIGFyZ3MuZm9yRWFjaCgoYXJndW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgYXJndW1lbnQ7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVkICAgXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlcyAgIFwiO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlbyAgIFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2VDb25maWcsIFwiY29sb3I6IHJlZFwiLCBgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIHN1Y2Nlc3MoLi4uYXJncykge1xuICAgIGNvbnN0IHtERUJVRywgb3JpZ2lufSA9IHRoaXM7XG4gICAgaWYgKCFERUJVRykgcmV0dXJuO1xuICAgIGxldCBtZXNzYWdlQ29uZmlnID0gXCIlYyVzICAgXCI7XG5cbiAgICBhcmdzLmZvckVhY2goKGFyZ3VtZW50KSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gdHlwZW9mIGFyZ3VtZW50O1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlZCAgIFwiO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBtZXNzYWdlQ29uZmlnICs9IFwiJXMgICBcIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBtZXNzYWdlQ29uZmlnICs9IFwiJW8gICBcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlQ29uZmlnLCBcImNvbG9yOiBncmVlblwiLCBgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIHdhcm4oLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLndhcm4oYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cblxuICBlcnJvciguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUuZXJyb3IoYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59IiwiaW1wb3J0IGFycmF5V2l0aEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5TGltaXQgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5TGltaXQuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlUmVzdCBmcm9tIFwiLi9ub25JdGVyYWJsZVJlc3QuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuXG4gIHZhciBfcywgX2U7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImltcG9ydCBhcnJheVdpdGhvdXRIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhvdXRIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlU3ByZWFkIGZyb20gXCIuL25vbkl0ZXJhYmxlU3ByZWFkLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVEYXRhQ29sbGVjdGlvblwiKTtcblxuLy8ga2VlcCBhIHRhYmxlIGluIGluZGV4ZGIgdGhlIGZvcm1hdCBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBkYXRhX3ZhbHVlLCBzdG9yZWRfdmFsdWVdXG5cbmV4cG9ydCBjb25zdCBxdWVyeUluQ29sbGVjdG9yID0gYXN5bmMgKGJhc2VGZWF0dXJlTmFtZSwgcXVlcnlNZXRob2QsIHdpbmRvdykgPT4ge1xuICBsb2dnZXIubG9nKFwicXVlcnlJbkNvbGxlY3RvclwiLCBiYXNlRmVhdHVyZU5hbWUsIHF1ZXJ5TWV0aG9kLCB3aW5kb3cpO1xuXG4gIC8vIHdpbmRvdyBjYW4gYmUgZWl0aGVyIHNlc3Npb24gb3IgYWxsdGltZVxuXG4gIC8vIHF1ZXJ5TWV0aG9kIGNhbiBiZSBcIm1pblwiLCBcIm1heFwiLCBcImF2Z1wiIGZvciBudW1lcmljIGRhdGEgdHlwZXNcbiAgLy8gcXVlcnlNZXRob2QgY2FuIGJlIFwibW9kZVwiLCBcImNkXCIgKGNvdW50IGRpc3RpbnQpIGZvciBzdHJpbmcvY2F0ZWdvcmljYWwgZGF0YSB0eXBlc1xuICAvLyBxdWVyeU1ldGhvZCBjYW4gYmUgXCJjdlwiIChjb3VudCB2YWx1ZSksIFwibGFzdFwiIGZvciBhbnkgZGF0YSB0eXBlXG4gIHJldHVybiBcIlBMQUNFSE9MREVSXCI7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlSW5Db2xsZWN0b3IgPSBhc3luYyAoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlLCB1cGRhdGVNZXRob2QsIHdpbmRvdykgPT4ge1xuICBsb2dnZXIubG9nKFwidXBkYXRlSW5Db2xsZWN0b3JcIiwgYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlLCB1cGRhdGVNZXRob2QsIHdpbmRvdyk7XG5cbiAgLy8gd2luZG93IGNhbiBiZSBlaXRoZXIgc2Vzc2lvbiBvciBhbGx0aW1lXG5cbiAgLy8gdXBkYXRlTWV0aG9kIGNhbiBiZSBcIm1pblwiLCBcIm1heFwiLCBcImNudFwiLCBcInN1bVwiIGZvciBudW1lcmljIGRhdGEgdHlwZXMsIG1pbi1tYXggY29tcGFyZXMgd2l0aCBvbmx5IGV4aXN0aW5nLCBhdmcgdXBkYXRlcyBjbnQgYW5kIHN1bVxuICAvLyAtLT4gbWluOiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcIm1pblwiLCAobGVhc3Qgb2YgZXhpc3RpbmcgYW5kIGluY29taW5nIHN0b3JlZF92YWx1ZSldXG4gIC8vIC0tPiBtYXg6IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwibWF4XCIsIChncmVhdGVzdCBvZiBleGlzdGluZyBhbmQgaW5jb21pbmcgc3RvcmVkX3ZhbHVlKV1cbiAgLy8gLS0+IHN1bTogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJzdW1cIiwgKHN1bSBvZiBleGlzdGluZyBhbmQgaW5jb21pbmcgc3RvcmVkX3ZhbHVlKV1cbiAgLy8gLS0+IGNudDogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJjbnRcIiwgKGV4aXN0aW5nICsgMSldXG4gIC8vXG4gIC8vIHVwZGF0ZU1ldGhvZCBjYW4gYmUgXCJjb3VudF92YWx1ZXNcIiBmb3Igc3RyaW5nL2NhdGVnb3JpY2FsIGRhdGEgdHlwZXMsIGtlZXAgYSBjb3VudGVyIGZvciBlYWNoIHZhbHVlXG4gIC8vIC0tPiBjb3VudF92YWx1ZXM6IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIGRhdGFfdmFsdWUsIChleGlzdGluZyArIDEpXVxuICAvL1xuICAvLyB1cGRhdGVNZXRob2QgY2FuIGJlIFwibGFzdFwiIGZvciBhbnkgZGF0YSB0eXBlXG4gIC8vIGRlbGV0ZTogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJwcmV2XCIsIChleGlzdGluZyB2YWx1ZSldXG4gIC8vIG1vdmU6IGV4aXN0aW5nIFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwiY3VycmVudFwiLCAoZXhpc3RpbmcgdmFsdWUpXSAtLT4gW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJsYXN0XCIsIChleGlzdGluZyB2YWx1ZSldXG4gIC8vIHB1dDogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJjdXJyZW50XCIsIChpbmNvbWluZyBzdG9yZWRfdmFsdWUpXVxuXG4gIHJldHVybiBcIlBMQUNFSE9MREVSXCI7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtleHRyYWN0Q29va2llSWRlbnRpZmllciwgZm9ybWF0RGVsaXZlcnlEYXRlfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TE9PS1VQX0FQSV9VUkwsIExPQ0FMX1NUT1JBR0VfS0VZUywgU0VTU0lPTl9TVE9SQUdFX0tFWVMsIFNQTElUX1JBVElPfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge3F1ZXJ5SW5Db2xsZWN0b3IsIHVwZGF0ZUluQ29sbGVjdG9yfSBmcm9tIFwiLi4vQmVhZ2xlRGF0YUNvbGxlY3Rpb25cIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG53aW5kb3cuYmVhZ2xlSW5mb0xheWVyID0gd2luZG93LmJlYWdsZUluZm9MYXllciB8fCB7XG4gIGNoZWNrcG9pbnRzOiBbXSxcbiAgYToge30sIGU6IHt9LCBmOiB7fSxcbn07XG5cbmV4cG9ydCBjb25zdCBjaGVja3BvaW50cyA9IHtcbiAgQmVhZ2xlTG9hZGVkOiAxLFxuICBJbml0aWFsaXplZDogMixcbiAgVXNlck9uT2ZmOiAzLFxuICBTY3JpcHRUaW1lT3V0OiA3LFxuICBUcmVhdG1lbnRSZXBvc2l0b3J5Q3JlYXRlZDogNCxcbiAgVHJlYXRtZW50c0FwcGxpZWQ6IDUsXG4gIFJlYXBwbHlUcmVhdG1lbnRMaXN0ZW5lcnM6IDYsXG4gIFRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkOiA4LFxufTtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUluZm9MYXllclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrcG9pbnQgPSAoY2hlY2twb2ludCkgPT4ge1xuICB0cnkge1xuICAgIGxvZ2dlci5sb2coYENoZWNrcG9pbnQ6ICcke2NoZWNrcG9pbnR9JyBSZWFjaGVkIWApO1xuICAgIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuY2hlY2twb2ludHMucHVzaCh7XG4gICAgICBjaGVja3BvaW50OiBPYmplY3Qua2V5cyhjaGVja3BvaW50cykuZmluZCgoa2V5KSA9PiBjaGVja3BvaW50c1trZXldID09PSBjaGVja3BvaW50KSxcbiAgICAgIGlkOiBjaGVja3BvaW50LFxuICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci53YXJuKGUpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYWRkVG9CZWFnbGVJbmZvTGF5ZXIgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICBjb25zdCBpbmZvTGF5ZXIgPSB3aW5kb3cudG9wLmJlYWdsZUluZm9MYXllcjtcblxuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgLy8gaWYga2V5IGNvbnRhaW5zIC4gY3JlYXRlIG5lc3RlZCBvYmplY3RcbiAgaWYgKGtleS5pbmRleE9mKFwiLlwiKSA+IC0xKSB7XG4gICAgY29uc3Qga2V5cyA9IGtleS5zcGxpdChcIi5cIik7XG4gICAgY29uc3QgbGFzdEtleSA9IGtleXMucG9wKCk7XG4gICAgbGV0IG9iaiA9IGluZm9MYXllcjtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCFvYmpba2V5XSkgb2JqW2tleV0gPSB7fTtcbiAgICAgIG9iaiA9IG9ialtrZXldO1xuICAgIH0pO1xuICAgIC8vIGlmIHZhbHVlIGlzIGFycmF5LCBhZGQgYXMgYW4gYXJyYXksIGlmIG9iamVjdCBhZGQgYXMgb2JqZWN0LCBvdGhlcndpc2UgYWRkIGFzIGEgc3RyaW5nXG4gICAgb2JqW2xhc3RLZXldID0gdHlwZW9mICh2YWx1ZSkgPT09IFwib2JqZWN0XCIgPyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpO1xuICB9IGVsc2Uge1xuICAgIGluZm9MYXllcltrZXldID0gdHlwZW9mICh2YWx1ZSkgPT09IFwib2JqZWN0XCIgPyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RnJvbUJlYWdsZUluZm9MYXllciA9IChrZXksIGJsb2NraW5nID0gZmFsc2UsIHBvbGxJbnRlcnZhbCA9IDEwLCB0aW1lb3V0ID0gMTAwMDApID0+IHtcbiAgcmV0dXJuIGdldEFueUZyb21CZWFnbGVJbmZvTGF5ZXIoW2tleV0sIGJsb2NraW5nLCBwb2xsSW50ZXJ2YWwsIHRpbWVvdXQpO1xufTtcblxuY29uc3QgZ2V0QW55RnJvbUJlYWdsZUluZm9MYXllciA9IChrZXlzLCBibG9ja2luZyA9IGZhbHNlLCBwb2xsSW50ZXJ2YWwgPSAxMCwgdGltZW91dCA9IDEwMDAwKSA9PiB7XG4gIGNvbnN0IGluZm9MYXllciA9IHdpbmRvdy50b3AuYmVhZ2xlSW5mb0xheWVyO1xuICAvLyByZXR1cm4gbnVsbCBpZiBrZXlzIGlzIG1pc3Npbmcgb3Igbm90IGFuIGFycmF5IG9yIGhhcyBubyBlbGVtZW50c1xuICBpZiAoIWtleXMgfHwgIUFycmF5LmlzQXJyYXkoa2V5cykgfHwgIWtleXMubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgbGV0IG9idGFpbkRhdGE7XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBvYnRhaW5EYXRhID0ganNvbkdldChpbmZvTGF5ZXIsIGtleSk7XG4gICAgaWYgKG9idGFpbkRhdGEpIHtcbiAgICAgIC8vIGZvdW5kIGRhdGEgZm9yIGtleVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShvYnRhaW5EYXRhKTtcbiAgICB9XG4gIH1cbiAgaWYgKGJsb2NraW5nKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgIG9idGFpbkRhdGEgPSBqc29uR2V0KGluZm9MYXllciwga2V5KTtcbiAgICAgICAgICBpZiAob2J0YWluRGF0YSkge1xuICAgICAgICAgICAgLy8gZm91bmQgZGF0YSBmb3Iga2V5LCBjbGVhciBpbnRlcnZhbCBhbmQgcmVzb2x2ZVxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICByZXNvbHZlKG9idGFpbkRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBwb2xsSW50ZXJ2YWwpO1xuICAgICAgLy8gYWRkIHRpbWVvdXRcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgIH0sIHRpbWVvdXQpOyAvLyB3YWl0IGJsb2NraW5nIGZvciBcInRpbWVvdXRcIiBtc2Vjc1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllciA9IChrZXkpID0+IHtcbiAgY29uc3QgaW5mb0xheWVyID0gd2luZG93LnRvcC5iZWFnbGVJbmZvTGF5ZXI7XG4gIGlmIChrZXkgPT09IG51bGwgfHwga2V5ID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgZGVsZXRlIGluZm9MYXllcltrZXldO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFRyZWF0bWVudCA9IChpZCwgYnVzaW5lc3NSdWxlSWQsIHZhcmlhbnQsIHN0YXR1cywgZGVwZW5kYW50X29uX3RyZWF0bWVudCA9IG51bGwpID0+IHtcbiAgY29uc3QgdmFsdWUgPSB7fTtcbiAgaWYgKGJ1c2luZXNzUnVsZUlkKSB2YWx1ZS5idXNpbmVzc1J1bGVJZCA9IGJ1c2luZXNzUnVsZUlkO1xuICBpZiAodmFyaWFudCkgdmFsdWUudmFyaWFudCA9IHZhcmlhbnQ7XG5cbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlIFwiYXBwbGllZFwiOlxuICAgICAgd2luZG93LmJlYWdsZUluZm9MYXllci5hW2lkXSA9IHZhbHVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInNraXBwZWRcIjpcbiAgICAgIHZhbHVlLmRlcGVuZGFudF9vbl90cmVhdG1lbnQgPSBkZXBlbmRhbnRfb25fdHJlYXRtZW50O1xuICAgICAgd2luZG93LmJlYWdsZUluZm9MYXllci5lW2lkXSA9IHZhbHVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImZhaWxlZFwiOlxuICAgICAgd2luZG93LmJlYWdsZUluZm9MYXllci5mW2lkXSA9IHZhbHVlO1xuICAgICAgYnJlYWs7XG4gIH1cbn07XG5cbmNvbnN0IFBBUlNFU0VBUkNITUFYUkVUUlkgPSAxMDtcbmNvbnN0IFBBUlNFU0VBUkNIU1RBUlRERUxBWSA9IDEwO1xubGV0IHBhcnNlU2VhcmNoUGF0aHNEZWxheSA9IFBBUlNFU0VBUkNIU1RBUlRERUxBWTtcbmxldCBwYXJzZVNlYXJjaFBhdGhzUmV0cnkgPSAwO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciA9IGFzeW5jICgpID0+IHtcbiAgLy8gYWRkIGN1cnJlbnQgZXBvY2ggaW50ZWdlciB0byBiZWFnbGVJbmZvTGF5ZXJcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2aWV3X2Vwb2NoXCIsIERhdGUubm93KCkpO1xuXG4gIC8vIENvbGxlY3QgY29yZSBkYXRhXG4gIHByZXBhcmVDb3JlRGF0YSgpO1xuXG4gIC8vIFRyaWdnZXItc3RhcnQgdGhlIHBhcnNlciBsb29wXG4gIHBhcnNlckNhbGxlcigpO1xuXG4gIC8vIFRyaWdnZXIgcGFnZS1yZWZyZXNoIHRvIHByb2Nlc3MgaGlzdG9yeVxuICBwcm9jZXNzVHJpZ2dlcihcInBhZ2VDaGFuZ2VkXCIpO1xuXG4gIC8vIEFkZCBtZXRyaWNzXG4gIGFkZE1ldHJpY3MoKTtcbn07XG5cbmNvbnN0IGNyaXRpY2FsRWxlbWVudHMgPSBbXG4gIFwiUGFnZVR5cGVcIixcbiAgXCJ2dnNJc1Nob3dyb29tXCIsXG5dO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3JpdGljYWxFbGVtZW50cyA9IGFzeW5jICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcImdldENyaXRpY2FsRWxlbWVudHM6IEluaXRpYWxpemluZ1wiKTtcbiAgY29uc3QgY2VsdHMgPSB7fTtcbiAgY29uc3QgY3JpdGljYWxFbGVtZW50c1Byb21pc2VzID0gY3JpdGljYWxFbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoZWxlbWVudCwgdHJ1ZSkpO1xuICBjb25zdCBjcml0aWNhbEVsZW1lbnRzVmFsdWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoY3JpdGljYWxFbGVtZW50c1Byb21pc2VzKTtcbiAgY3JpdGljYWxFbGVtZW50c1ZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICBjZWx0c1tjcml0aWNhbEVsZW1lbnRzW2luZGV4XV0gPSB2YWx1ZTtcbiAgfSk7XG4gIGxvZ2dlci5sb2coXCJnZXRDcml0aWNhbEVsZW1lbnRzOiBDb2xsZWN0ZWQgZWxlbWVudHM6IFwiICsgSlNPTi5zdHJpbmdpZnkoY2VsdHMpKTtcbiAgcmV0dXJuIGNlbHRzO1xufTtcblxuY29uc3QgZmVhdHVyZUVuZ2luZWVyaW5nVXBkYXRlcyA9IHtcbiAgXCJ2aWV3X2Vwb2NoXCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcIm1pblwiLCB3aW5kb3c6IFwic2Vzc2lvblwifSxcbiAgXSxcbiAgXCJQYWdlVHlwZVwiOiBbXG4gICAge3VwZGF0ZU1ldGhvZDogXCJjb3VudF92YWx1ZXNcIiwgd2luZG93OiBcInNlc3Npb25cIn0sXG4gIF0sXG4gIFwiY2FydC5jb3Vwb25BcHBsaWNhYmxlXCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcImxhc3RcIiwgd2luZG93OiBcInNlc3Npb25cIn0sXG4gIF0sXG4gIFwicGRwLmNhdGVnb3J5XCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcImNvdW50X3ZhbHVlc1wiLCB3aW5kb3c6IFwic2Vzc2lvblwifSxcbiAgXSxcbn07XG5cbmNvbnN0IGZlYXR1cmVFbmdpbmVlcmluZ1F1ZXJpZXMgPSB7XG4gIFwidmlld19lcG9jaFwiOiBbXG4gICAge3F1ZXJ5TWV0aG9kOiBcIm1pblwiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJoaXN0b3J5LnZpZXdfZXBvY2hfbWluXCJ9LFxuICBdLFxuICBcIlBhZ2VUeXBlXCI6IFtcbiAgICB7cXVlcnlNZXRob2Q6IFwic3VtX29mX2NvdW50c1wiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJoaXN0b3J5LlBhZ2VUeXBlX2NvdW50X3Nlc3Npb25cIn0sXG4gICAge3F1ZXJ5TWV0aG9kOiBcInN1bV9vZl9jb3VudHNcIiwgd2luZG93OiBcImFsbHRpbWVcIiwgZmVhdHVyZU5hbWU6IFwiaGlzdG9yeS5QYWdlVHlwZV9jb3VudF9hbGx0aW1lXCJ9LFxuICBdLFxuICBcImNhcnQuY291cG9uQXBwbGljYWJsZVwiOiBbXG4gICAge3F1ZXJ5TWV0aG9kOiBcImxhc3RcIiwgd2luZG93OiBcInNlc3Npb25cIiwgZmVhdHVyZU5hbWU6IFwiaGlzdG9yeS5jYXJ0X2NvdXBvbkFwcGxpY2FibGVfbGFzdF9zZXNzaW9uXCJ9LFxuICBdLFxuICBcInBkcC5jYXRlZ29yeVwiOiBbXG4gICAge3F1ZXJ5TWV0aG9kOiBcIm1vZGVcIiwgd2luZG93OiBcInNlc3Npb25cIiwgZmVhdHVyZU5hbWU6IFwiaGlzdG9yeS5wZHBfY2F0ZWdvcnlfbW9kZV9zZXNzaW9uXCJ9LFxuICAgIHtxdWVyeU1ldGhvZDogXCJsYXN0XCIsIHdpbmRvdzogXCJzZXNzaW9uXCIsIGZlYXR1cmVOYW1lOiBcImhpc3RvcnkucGRwX2NhdGVnb3J5X2xhc3Rfc2Vzc2lvblwifSxcbiAgXSxcbn07XG5cbmNvbnN0IHVwZGF0ZVJlbWFpbmluZ0hpc3RvcmljYWxEYXRhID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBxdWVyaWVkRmVhdHVyZU5hbWVzID0gT2JqZWN0LmtleXMoZmVhdHVyZUVuZ2luZWVyaW5nUXVlcmllcyk7XG4gIGZvciAoY29uc3QgYmFzZUZlYXR1cmVOYW1lIG9mIHF1ZXJpZWRGZWF0dXJlTmFtZXMpIHtcbiAgICBjb25zdCBxdWVyeUVudHJpZXMgPSBmZWF0dXJlRW5naW5lZXJpbmdRdWVyaWVzW2Jhc2VGZWF0dXJlTmFtZV07XG5cbiAgICBmb3IgKGNvbnN0IHF1ZXJ5RW50cnkgb2YgcXVlcnlFbnRyaWVzKSB7XG4gICAgICBpZiAocXVlcnlFbnRyeS5pc1VwZGF0ZWQpIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCBxdWVyeVJlc3BvbnNlID0gYXdhaXQgcXVlcnlJbkNvbGxlY3RvcihiYXNlRmVhdHVyZU5hbWUsIHF1ZXJ5RW50cnkucXVlcnlNZXRob2QsIHF1ZXJ5RW50cnkud2luZG93KTtcbiAgICAgIGlmIChxdWVyeVJlc3BvbnNlKSB7XG4gICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKHF1ZXJ5RW50cnkuZmVhdHVyZU5hbWUsIHF1ZXJ5UmVzcG9uc2UpO1xuICAgICAgICBxdWVyeUVudHJ5LmlzVXBkYXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCB1cGRhdGVIaXN0b3JpY2FsRGF0YVNjYW4gPSBhc3luYyAoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlKSA9PiB7XG4gIC8vIHByb2Nlc3MgZGVwZW5kZW50IGhpc3RvcmljYWwgZGF0YSBmb3Igc2Nhbi1mb3VuZCBlbGVtZW50c1xuICBjb25zdCBGRURhdGEgPSBmZWF0dXJlRW5naW5lZXJpbmdVcGRhdGVzW2Jhc2VGZWF0dXJlTmFtZV07XG4gIGlmIChGRURhdGEgJiYgQXJyYXkuaXNBcnJheShGRURhdGEpICYmIEZFRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgZm9yIChjb25zdCBGRU9wIG9mIEZFRGF0YSkge1xuICAgICAgdXBkYXRlSGlzdG9yaWNhbERhdGEoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlLCBGRU9wKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIFdyYXBwZXIgdG8gaGlzdG9yaWNhbCBrZWVwXG5jb25zdCB1cGRhdGVIaXN0b3JpY2FsRGF0YSA9IGFzeW5jIChiYXNlRmVhdHVyZU5hbWUsIGJhc2VGZWF0dXJlVmFsdWUsIGZlYXR1cmVFbmdpbmVlcmluZ09wKSA9PiB7XG4gIGF3YWl0IHVwZGF0ZUluQ29sbGVjdG9yKGJhc2VGZWF0dXJlTmFtZSwgYmFzZUZlYXR1cmVWYWx1ZSwgZmVhdHVyZUVuZ2luZWVyaW5nT3AudXBkYXRlTWV0aG9kLCBmZWF0dXJlRW5naW5lZXJpbmdPcC53aW5kb3cpO1xuXG4gIGNvbnN0IHF1ZXJ5RW50cmllcyA9IGZlYXR1cmVFbmdpbmVlcmluZ1F1ZXJpZXNbYmFzZUZlYXR1cmVOYW1lXTtcblxuICBmb3IgKGNvbnN0IHF1ZXJ5RW50cnkgb2YgcXVlcnlFbnRyaWVzKSB7XG4gICAgY29uc3QgcXVlcnlSZXNwb25zZSA9IGF3YWl0IHF1ZXJ5SW5Db2xsZWN0b3IoYmFzZUZlYXR1cmVOYW1lLCBxdWVyeUVudHJ5LnF1ZXJ5TWV0aG9kLCBxdWVyeUVudHJ5LndpbmRvdyk7XG4gICAgaWYgKHF1ZXJ5UmVzcG9uc2UpIHtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKHF1ZXJ5RW50cnkuZmVhdHVyZU5hbWUsIHF1ZXJ5UmVzcG9uc2UpO1xuICAgICAgcXVlcnlFbnRyeS5pc1VwZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxuLy8gVE9ETzogY29udmVydCB0byBuYW1lIC0tPiBhcnJheSBvZiBzZWxlY3RvcnNcbmNvbnN0IHNlYXJjaFBhdGhzID0gW1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIEdBIERhdGEgTGF5ZXIgUXVlcmllc1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiUGFnZVR5cGVcIiwgbmFtZTogXCJQYWdlVHlwZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImlzQWRtaW5cIiwgbmFtZTogXCJ2dnNJc1Nob3dyb29tXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidXNlcklkXCIsIG5hbWU6IFwidnZzVXNlcklkXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9uYW1lXCIsIG5hbWU6IFwicGRwLm5hbWVcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwicHJvZHVjdGdyb3VwXCIsIG5hbWU6IFwicGRwLmdyb3VwXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VfY2F0ZWdvcnlcIiwgbmFtZTogXCJwZHAuY2xhc3NcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9pZHNcIiwgbmFtZTogXCJwZHAuc2t1XCIsIGZvcm1hdHRlcjogXCJ1cHBlckNhc2VUUlwiLCB0cmlnZ2VyOiBcInVwZGF0ZUFjdGl2ZVNLVUxpc3RcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiUHJvZHVjdElEXCIsIG5hbWU6IFwicGRwLnNrdVwiLCB0cmlnZ2VyOiBcInVwZGF0ZUFjdGl2ZVNLVUxpc3RcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9jYXRlZ29yeVwiLCBuYW1lOiBcInBkcC5jYXRlZ29yeVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UuZGV0YWlsLmFjdGlvbkZpZWxkLmxpc3RcIiwgbmFtZTogXCJwZHAubGlzdGFsaWFzXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLnNrdVwiLCBuYW1lOiBcInBkcC5za3VcIiwgdHJpZ2dlcjogXCJ1cGRhdGVBY3RpdmVTS1VMaXN0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLmNhdGVnb3J5XCIsIG5hbWU6IFwicGRwLmNhdGVnb3J5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLmRpc2NvdW50UmF0ZVwiLCBuYW1lOiBcInBkcC5kaXNjb3VudFJhdGVcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidml2ZW5zZVByb2R1Y3RzLiouZmFzdERlbGl2ZXJ5XCIsIG5hbWU6IFwicGRwLmZhc3REZWxpdmVyeVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlUHJvZHVjdHMuKi5pc0luU2hvd3Jvb21cIiwgbmFtZTogXCJwZHAuaXNJblNob3dyb29tXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLnByaWNlXCIsIG5hbWU6IFwicGRwLnByaWNlXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9pZHNcIiwgbmFtZTogXCJwbHAuaWRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY2F0ZWdvcnlfcHJvZHVjdF9jb3VudFwiLCBuYW1lOiBcInBscC5hcHByb3hpbWF0ZUNvdW50XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImNvbnRlbnRfbmFtZVwiLCBuYW1lOiBcInBscC5uYW1lXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInByb2R1Y3Rncm91cFwiLCBuYW1lOiBcInBscC5ncm91cFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlX2NhdGVnb3J5XCIsIG5hbWU6IFwicGxwLmNsYXNzXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLnByb2R1Y3RzLiouaWRcIiwgbmFtZTogXCJwdXJjaGFzZS5za3VzXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5wcm9kdWN0cy4qLnByaWNlXCIsIG5hbWU6IFwicHVyY2hhc2UucHJpY2VzXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5wcm9kdWN0cy4qLnF1YW50aXR5XCIsIG5hbWU6IFwicHVyY2hhc2UucXVhbnRpdGllc1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UucHJvZHVjdHMuKi5jYXRlZ29yeVwiLCBuYW1lOiBcInB1cmNoYXNlLmNhdGVnb3JpZXNcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmlkXCIsIG5hbWU6IFwicHVyY2hhc2Uub3JkZXJJZFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQucmV2ZW51ZVwiLCBuYW1lOiBcInB1cmNoYXNlLnJldmVudWVcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmRpbWVuc2lvbjE1XCIsIG5hbWU6IFwicHVyY2hhc2UucGF5ZW1lbnRUeXBlXCJ9LFxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gRG9jdW1lbnQgUXVlcmllc1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwicGFnZV9wcmV2aWV3X3dyYXBwZXJfcHJvZHVjdGlvblxcXCJdXCIsIG5hbWU6IFwiUGFnZVR5cGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVZhbHVlSWZIYXNJbm5lclRleHRcIiwgdmFsdWU6IFwiSG9tZXBhZ2VcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCIqXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJjYXRlZ29yeV9wYWdlX3dyYXBwZXJcXFwiXVwiLCBuYW1lOiBcIlBhZ2VUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCIsIHZhbHVlOiBcIkxpc3RpbmdwYWdlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwicHJvZHVjdC1tYWluLWRldGFpbHNcXFwiXVwiLCBuYW1lOiBcIlBhZ2VUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCIsIHZhbHVlOiBcIlByb2R1Y3RwYWdlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwicHJvZHVjdFxcXCJdXCIsIG5hbWU6IFwiUGFnZVR5cGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVZhbHVlSWZIYXNJbm5lclRleHRcIiwgdmFsdWU6IFwiUHJvZHVjdHBhZ2VcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkhvbWVwYWdlfFByb2R1Y3RwYWdlfExpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJ3ZWxjb21lX3VzZXJuYW1lXFxcIl1cIiwgbmFtZTogXCJ2aWV3LmlzTG9nZ2VkSW5cIiwgb3BlcmFuZDogXCJkb2NRdWVyeUhhc0lubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkhvbWVwYWdlfFByb2R1Y3RwYWdlfExpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJlbXB0eV9iYXNrZXRfdGV4dFxcXCJdXCIsIG5hbWU6IFwidmlldy5pc0VtcHR5QmFza2V0XCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlIYXNJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJ2aWV3LmJhc2tldFRvdGFsXCIsIFwidmlldy5iYXNrZXRDb3VudFwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJIb21lcGFnZXxQcm9kdWN0cGFnZXxMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiYmFza2V0X3RvdGFsX3ByaWNlXFxcIl1cIiwgbmFtZTogXCJ2aWV3LmJhc2tldFRvdGFsXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJ2aWV3LmlzRW1wdHlCYXNrZXRcIl0sIGZvcm1hdHRlcjogXCJudW1lcmljT25seVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkhvbWVwYWdlfFByb2R1Y3RwYWdlfExpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbaWQqPVxcXCJjYXJ0X3F1YW50aXR5XFxcIl0sIFtjbGFzcyo9XFxcImJhc2tldF9sZW5ndGhcXFwiXVwiLCBuYW1lOiBcInZpZXcuYmFza2V0Q291bnRcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcInZpZXcuaXNFbXB0eUJhc2tldFwiXX0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJkZWxpdmVyeS1kYXRlXFxcIl1cIiwgbmFtZTogXCJwZHAuZGVsaXZlcnlEYXRlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiZGVsaXZlcnktZGF0ZVxcXCJdXCIsIG5hbWU6IFwicGRwLmRlbGl2ZXJ5RGF0ZUZvcm1hdHRlZFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGZvcm1hdHRlcjogXCJmb3JtYXREZWxpdmVyeURhdGVcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwicHJvZHVjdC10aXRsZVxcXCJdLCBbY2xhc3MqPVxcXCJoZWFkZXItYm90dG9tXFxcIl1cIiwgbmFtZTogXCJwZHAubmFtZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInZpdmVuc2Utc2hvd3Jvb21zXFxcIl0gPiAqXCIsIG5hbWU6IFwicGRwLnNob3dyb29tY291bnRcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUNvdW50RWx0c1wiLCBleGNsdXNpdmU6IFtcInBkcC5oYXNOb1Nob3dyb29tc1wiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiI3ZpdmVuc2Utc2hvd3Jvb20tdGFiIHA6bm90KC52aXZlbnNlLXNob3dyb29tcylcIiwgbmFtZTogXCJwZHAuaGFzTm9TaG93cm9vbXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUhhc0lubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcInBkcC5zaG93cm9vbWNvdW50XCJdfSxcblxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImNvdW50LW9mLXByb2R1Y3RcXFwiXVwiLCBuYW1lOiBcInBscC5pdGVtQ291bnRcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwic3ViY2F0ZWdvcmllcy10aXRsZVxcXCJdXCIsIG5hbWU6IFwicGxwLm5hbWVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbZGF0YS1wcm9kdWN0LXNrdV1cIiwgbmFtZTogXCJwbHAuc2t1c1wiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5QXR0cmliVmFsdWVMaXN0XCIsIHZhbHVlOiBcImRhdGEtcHJvZHVjdC1za3VcIiwgdHJpZ2dlcjogXCJ1cGRhdGVBY3RpdmVTS1VMaXN0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5wcm9kdWN0LWxpc3RcIiwgb2JzZXJ2ZXI6IFwibGlzdGluZ0l0ZW1CbG9ja1wiLCBuYW1lOiBcIl9fbGlzdGluZ0l0ZW1CbG9ja09ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJwbHAuc2t1c1wiXSwgb3BlcmFuZDogXCJkb2NRdWVyeU9ic2VydmVcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiZW1wdHktY2FydC1jb250YWluZXJcXFwiXVwiLCBuYW1lOiBcImNhcnQuaXNlbXB0eVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SGFzSW5uZXJUZXh0XCIsIHRyaWdnZXI6IFwidXBkYXRlQWN0aXZlU0tVTGlzdFwiLCBleGNsdXNpdmU6IFtcImNhcnQuc2t1c1wiLCBcImNhcnQudG90YWxQcmljZVwiLCBcImNhcnQuY291cG9uQXBwbGljYWJsZVwiLCBcIl9fY2hlY2tvdXRGb3JtT2JzZXJ2ZXJcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1pbnNpZGVcIiwgbmFtZTogXCJjYXJ0LnNrdXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiLCB2YWx1ZTogXCJkYXRhLXNrdVwiLCB0cmlnZ2VyOiBcInVwZGF0ZUFjdGl2ZVNLVUxpc3RcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1pbnNpZGVcIiwgbmFtZTogXCJjYXJ0LmNhdGVnb3JpZXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiLCB2YWx1ZTogXCJkYXRhLWxhc3QtYnJlYWRjcnVtYlwiLCB0cmlnZ2VyOiBcInVwZGF0ZUFjdGl2ZVNLVUxpc3RcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1pbnNpZGVcIiwgbmFtZTogXCJjYXJ0LnByaWNlc1wiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5QXR0cmliVmFsdWVMaXN0XCIsIHZhbHVlOiBcImRhdGEtcHJpY2VcIiwgdHJpZ2dlcjogXCJ1cGRhdGVBY3RpdmVTS1VMaXN0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLmNhcnRJdGVtUXVhbnRpdHlcIiwgbmFtZTogXCJjYXJ0LnF1YW50aXRpZXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiLCB2YWx1ZTogXCJkYXRhLXByZXZpb3VzXCIsIHRyaWdnZXI6IFwidXBkYXRlQWN0aXZlU0tVTGlzdFwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcIm9yZGVyLWZpbmFsLW51bWJlclxcXCJdXCIsIG5hbWU6IFwiY2FydC50b3RhbFByaWNlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl0sIGZvcm1hdHRlcjogXCJudW1lcmljT25seVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiY2FydC1wcmljZVxcXCJdID4gc3Bhbi5wcmljZSwgc3Bhbi5zdXBlciwgc3Bhbi5uZXctcHJpY2UsIHNwYW4uc3Bhbi1wcmljZVwiLCBuYW1lOiBcImNhcnQuY291cG9uQXBwbGljYWJsZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5U3VtTnVtSW5uZXJUZXh0XCIsIHRyaWdnZXI6IFwidXBkYXRlQ291cG9uQXBwbGljYWJsZUFtb3VudFwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIiNjaGVja291dEZvcm1cIiwgb2JzZXJ2ZXI6IFwiY2hlY2tvdXRGb3JtXCIsIG5hbWU6IFwiX19jaGVja291dEZvcm1PYnNlcnZlclwiLCBjaGlsZHJlbjogW1wiY2FydC50b3RhbFByaWNlXCIsIFwiY2FydC5jb3Vwb25BcHBsaWNhYmxlXCIsIFwiY2FydC5za3VzXCIsIFwiY2FydC5wcmljZXNcIiwgXCJjYXJ0LnF1YW50aXRpZXNcIiwgXCJjYXJ0LmNhdGVnb3JpZXNcIiwgXCJjYXJ0LmlzZW1wdHlcIl0sIG9wZXJhbmQ6IFwiZG9jUXVlcnlPYnNlcnZlXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiYmFza2V0X3N1bW1hcnlfdG90YWxcXFwiXSwgW2NsYXNzKj1cXFwidG90YWxfcm93XFxcIl1cIiwgbmFtZTogXCJwdXJjaGFzZS5yZXZlbnVlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwib3JkZXJfZm9sbG93X251bWJcXFwiXSwgW2NsYXNzKj1cXFwiY2FydC10aXRsZS1ib3R0b21cXFwiXVwiLCBuYW1lOiBcInB1cmNoYXNlLm9yZGVySWRcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJwYXltZW50X3R5cGVfdGl0bGVcXFwiXSwgW2NsYXNzKj1cXFwiY2FydC10aXRsZS1pbmZvXFxcIl1cIiwgbmFtZTogXCJwdXJjaGFzZS5wYXllbWVudFR5cGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJwcm9kdWN0X3NrdV9jb2RlXFxcIl1cIiwgbmFtZTogXCJwdXJjaGFzZS5za3VzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBcnJheUlubmVyVGV4dFwifSxcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFNPUkcgRWxlbWVudHNcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcInNrdVwiLCBuYW1lOiBcInBkcC5za3VcIiwgdHJpZ2dlcjogXCJ1cGRhdGVBY3RpdmVTS1VMaXN0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwibXBuXCIsIG5hbWU6IFwicGRwLm1wblwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcIm5hbWVcIiwgbmFtZTogXCJwZHAubmFtZVwiLCBvcGVyYW5kOiBcIkpTT05GaWx0ZXJPdGhlclwiLCB2YWx1ZTogXCJAdHlwZT1Qcm9kdWN0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwib2ZmZXJzLnByaWNlXCIsIG5hbWU6IFwicGRwLnByaWNlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwib2ZmZXJzLnByaWNlVmFsaWRVbnRpbFwiLCBuYW1lOiBcInBkcC5wcmljZVZhbGlkVW50aWxcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJpdGVtTGlzdEVsZW1lbnQuKi5uYW1lXCIsIG5hbWU6IFwidmlldy5icmVhZGNydW1iXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJtYWluRW50aXR5Lm5hbWVcIiwgbmFtZTogXCJwbHAubmFtZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcIm1haW5FbnRpdHkubnVtYmVyT2ZJdGVtc1wiLCBuYW1lOiBcInBscC5pdGVtQ291bnRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJicmVhZGNydW1iLml0ZW1MaXN0RWxlbWVudC4qLml0ZW0ubmFtZVwiLCBuYW1lOiBcInZpZXcuYnJlYWRjcnVtYlwifSxcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFdpbmRvdyBjdXN0b20gZWxlbWVudHNcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIlNpbmdsZVdUXCIsIHNlbGVjdG9yOiBcImZhdm9yaXRlUHJvZHVjdHNcIiwgbmFtZTogXCJ2aWV3LmZhdm9yaXRlZFNLVXNcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCIqXCIsIG1ldGhvZDogXCJTaW5nbGVXVFwiLCBzZWxlY3RvcjogXCJpc0FkbWluXCIsIG5hbWU6IFwidnZzSXNTaG93cm9vbVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIlNpbmdsZVdUXCIsIHNlbGVjdG9yOiBcInVzZXJJZFwiLCBuYW1lOiBcInZ2c1VzZXJJZFwifSxcbl07XG5cbmNvbnN0IHByb2Nlc3NGb3JtYXR0ZXIgPSAodmFsdWUsIGZvcm1hdHRlcikgPT4ge1xuICBzd2l0Y2ggKGZvcm1hdHRlcikge1xuICAgIGNhc2UgXCJ1cHBlckNhc2VUUlwiOlxuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkudG9VcHBlckNhc2UoXCJ0ci1UUlwiKTtcbiAgICBjYXNlIFwiZm9ybWF0RGVsaXZlcnlEYXRlXCI6XG4gICAgICByZXR1cm4gZm9ybWF0RGVsaXZlcnlEYXRlKHZhbHVlKTtcbiAgICBjYXNlIFwibnVtZXJpY09ubHlcIjpcbiAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgXCJcIik7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxuY29uc3Qgc2VhcmNoT2JqID0gKG9iaiwgc2VhcmNoRWxlbWVudCkgPT4ge1xuICBsZXQgdmFsdWU7XG4gIGxldCBsYXllclZhbHVlO1xuXG4gIHRyeSB7XG4gICAgc3dpdGNoIChzZWFyY2hFbGVtZW50Lm9wZXJhbmQpIHtcbiAgICAgIGNhc2UgXCJKU09ORmlsdGVyT3RoZXJcIjpcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlID0ganNvbkdldChvYmosIHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuXG4gICAgICAgICAgY29uc3QgZmlsdGVyUGFyYW1zID0gc2VhcmNoRWxlbWVudC52YWx1ZS5zcGxpdChcIj1cIik7XG4gICAgICAgICAgaWYgKGZpbHRlclBhcmFtcy5sZW5ndGggIT09IDIpIGJyZWFrO1xuICAgICAgICAgIGNvbnN0IGZpbHRlck5hbWUgPSBmaWx0ZXJQYXJhbXNbMF07XG4gICAgICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSBmaWx0ZXJQYXJhbXNbMV07XG4gICAgICAgICAgaWYgKCFmaWx0ZXJOYW1lIHx8ICFmaWx0ZXJWYWx1ZSkgYnJlYWs7XG5cbiAgICAgICAgICBjb25zdCBmaWx0ZXJNYXRjaCA9IGpzb25HZXQob2JqLCBmaWx0ZXJOYW1lKTtcblxuICAgICAgICAgIGlmICghZmlsdGVyTWF0Y2ggfHwgZmlsdGVyTWF0Y2ggIT09IGZpbHRlclZhbHVlKSBicmVhaztcblxuICAgICAgICAgIGlmICh2YWx1ZSAmJiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggPiAwIDogdmFsdWUudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIGxheWVyVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlPYnNlcnZlXCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIC8vIHJ1biBvbmx5IGlmIHRoZSBlbGVtZW50IGhhcyBhZGRlZCBvciByZW1vdmVkIGNoaWxkcmVuXG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBmb3VuZCBzdGF0dXMgb2YgdGhlIGVsZW1lbnRzIGluIHRoZSBjaGlsZHJlbiBsaXN0XG4gICAgICAgICAgICBjb25zdCB0b0JlVXBkYXRlZCA9IFtdO1xuICAgICAgICAgICAgc2VhcmNoRWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjaGlsZEVsZW1lbnRzID0gc2VhcmNoUGF0aHMuZmlsdGVyKChlbGVtZW50KSA9PiBlbGVtZW50Lm5hbWUgPT09IGNoaWxkKTtcbiAgICAgICAgICAgICAgLy8gYWRkIGNoaWxkRWxlbWVudHMgaW50byB0b0JlVXBkYXRlZFxuICAgICAgICAgICAgICB0b0JlVXBkYXRlZC5wdXNoKC4uLmNoaWxkRWxlbWVudHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB1cGRhdGUgZm91bmQgc3RhdHVzIG9mIHRoZSBlbGVtZW50cyBpbiB0aGUgY2hpbGRyZW4gbGlzdFxuICAgICAgICAgICAgdG9CZVVwZGF0ZWQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICBlbGVtZW50LmlzRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdHJpZ2dlclJlc3RhcnQgPSBwYXJzZVNlYXJjaFBhdGhzUmV0cnkgPj0gUEFSU0VTRUFSQ0hNQVhSRVRSWTtcbiAgICAgICAgICAgIHBhcnNlU2VhcmNoUGF0aHNEZWxheSA9IFBBUlNFU0VBUkNIU1RBUlRERUxBWTtcbiAgICAgICAgICAgIHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA9IDA7XG4gICAgICAgICAgICBpZiAodHJpZ2dlclJlc3RhcnQpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcInNlYXJjaE9iajogdHJpZ2dlcmVkIGEgcmVzdGFydCBvZiBzZWFyY2hwYXRocyBkdWU6IFwiK3NlYXJjaEVsZW1lbnQubmFtZSk7XG4gICAgICAgICAgICAgIHBhcnNlckNhbGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodmFsdWUsIHtzdWJ0cmVlOiB0cnVlLCBjaGlsZExpc3Q6IHRydWV9KTtcbiAgICAgICAgICBzZWFyY2hFbGVtZW50LmlzRm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5SW5uZXJUZXh0XCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5pbm5lclRleHQgJiYgdmFsdWUuaW5uZXJUZXh0LnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGF5ZXJWYWx1ZSA9IHZhbHVlLmlubmVyVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgYXR0cmliVmFsdWVMaXN0ID0gW107XG4gICAgICAgICAgdmFsdWUgPSBvYmoucXVlcnlTZWxlY3RvckFsbChzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkgYnJlYWs7XG4gICAgICAgICAgZm9yIChjb25zdCB2YWx1ZWNoaWxkIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJWYWx1ZSA9IHZhbHVlY2hpbGQuZ2V0QXR0cmlidXRlKHNlYXJjaEVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgaWYgKGF0dHJpYlZhbHVlKSB7XG4gICAgICAgICAgICAgIGF0dHJpYlZhbHVlTGlzdC5wdXNoKGF0dHJpYlZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYXR0cmliVmFsdWVMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxheWVyVmFsdWUgPSBhdHRyaWJWYWx1ZUxpc3Quam9pbihDT05DQVRTRVBFUkFUT1IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb2NRdWVyeUhhc0lubmVyVGV4dFwiOlxuICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlLmlubmVyVGV4dC50cmltKCkubGVuZ3RoID4gMDtcbiAgICAgICAgICBsYXllclZhbHVlID0gc2V0VmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb2NRdWVyeUNvdW50RWx0c1wiOlxuICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yQWxsKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBsYXllclZhbHVlID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5VmFsdWVJZkhhc0lubmVyVGV4dFwiOlxuICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUuaW5uZXJUZXh0ICYmIHZhbHVlLmlubmVyVGV4dC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxheWVyVmFsdWUgPSBzZWFyY2hFbGVtZW50LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5U3VtTnVtSW5uZXJUZXh0XCI6XG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yQWxsKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwKSBicmVhaztcbiAgICAgICAgICBsZXQgc3VtUHJpY2UgPSAwO1xuICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkVGV4dCA9IGNoaWxkLmlubmVyVGV4dC50cmltKCkucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICAgICAgICAgICAgaWYgKGNoaWxkVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHN1bVByaWNlKz1wYXJzZUludChjaGlsZFRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3VtUHJpY2UgPiAwKSB7XG4gICAgICAgICAgICBsYXllclZhbHVlID0gc3VtUHJpY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5QXJyYXlJbm5lclRleHRcIjpcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3JBbGwoc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDApIGJyZWFrO1xuICAgICAgICAgIGNvbnN0IGFycmF5SW5uZXJUZXh0ID0gW107XG4gICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRUZXh0ID0gY2hpbGQuaW5uZXJUZXh0LnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChjaGlsZFRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBhcnJheUlubmVyVGV4dC5wdXNoKGNoaWxkVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhcnJheUlubmVyVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsYXllclZhbHVlID0gYXJyYXlJbm5lclRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdmFsdWUgPSBqc29uR2V0KG9iaiwgc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSAmJiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggPiAwIDogdmFsdWUudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICBsYXllclZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfSAvLyBzd2l0Y2hcblxuICAgIGlmIChsYXllclZhbHVlKSB7XG4gICAgICBpZiAoc2VhcmNoRWxlbWVudC5mb3JtYXR0ZXIpIHtcbiAgICAgICAgbGF5ZXJWYWx1ZSA9IHByb2Nlc3NGb3JtYXR0ZXIobGF5ZXJWYWx1ZSwgc2VhcmNoRWxlbWVudC5mb3JtYXR0ZXIpO1xuICAgICAgfVxuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoc2VhcmNoRWxlbWVudC5uYW1lLCBsYXllclZhbHVlKTtcbiAgICAgIHNlYXJjaEVsZW1lbnQuaXNGb3VuZCA9IHRydWU7XG5cbiAgICAgIGlmIChzZWFyY2hFbGVtZW50LnRyaWdnZXIpIHtcbiAgICAgICAgcHJvY2Vzc1RyaWdnZXIoc2VhcmNoRWxlbWVudC50cmlnZ2VyKTtcbiAgICAgIH1cbiAgICAgIC8vIG1hcmsgZXhjbHVzaXZlIGVsZW1lbnRzIGFzIGZvdW5kXG4gICAgICBpZiAoc2VhcmNoRWxlbWVudC5leGNsdXNpdmUgJiYgQXJyYXkuaXNBcnJheShzZWFyY2hFbGVtZW50LmV4Y2x1c2l2ZSkgJiYgc2VhcmNoRWxlbWVudC5leGNsdXNpdmUubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGV4Y2x1c2l2ZUVsZW1lbnQgb2Ygc2VhcmNoUGF0aHMpIHtcbiAgICAgICAgICBpZiAoc2VhcmNoRWxlbWVudC5leGNsdXNpdmUuaW5jbHVkZXMoZXhjbHVzaXZlRWxlbWVudC5uYW1lKSkge1xuICAgICAgICAgICAgZXhjbHVzaXZlRWxlbWVudC5pc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcHJvY2VzcyBkZXBlbmRlbnQgaGlzdG9yaWNhbCBkYXRhIGZvciBzY2FuLWZvdW5kIGVsZW1lbnRzXG4gICAgICB1cGRhdGVIaXN0b3JpY2FsRGF0YVNjYW4oc2VhcmNoRWxlbWVudC5uYW1lLCBsYXllclZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHNlYXJjaEVsZW1lbnQuaXNGb3VuZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmVycm9yKFwic2VhcmNoT2JqIGVycm9yOiBcIiArIGUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IHByb2Nlc3NUcmlnZ2VyID0gYXN5bmMgKHRyaWdnZXIpID0+IHtcbiAgaWYgKHRyaWdnZXIpIHtcbiAgICBzd2l0Y2ggKHRyaWdnZXIpIHtcbiAgICAgIGNhc2UgXCJwYWdlQ2hhbmdlZFwiOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFBhZ2VUeXBlID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIlBhZ2VUeXBlXCIsIHRydWUsIDUwLCAxMDAwMCk7XG4gICAgICAgICAgLy8gcHJlbWF0dXJlIHRyaWdnZXJcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2VUeXBlKSB7XG4gICAgICAgICAgICAvLyByZXNldCBzdG9yZWQgYmFza2V0IHByaWNlIGlmIG1pc3Npbmcgb3IgcGFnZXR5cGUgaXMgcHVyY2hhc2VcbiAgICAgICAgICAgIGNvbnN0IGNhQmFza2V0UHJpY2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSk7XG4gICAgICAgICAgICBpZiAoY2FCYXNrZXRQcmljZSA9PT0gbnVsbCB8fCBjdXJyZW50UGFnZVR5cGUgPT09IFwicHVyY2hhc2VcIikge1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZVR5cGUgPT09IFwicHVyY2hhc2VcIikge1xuICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLk5EX1NLVV9JTkZPX0JBU0tFVCwgXCJ7fVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhZ2VUeXBlICE9PSBcImJhc2tldFwiKSB7XG4gICAgICAgICAgICAgIC8vIGFkZCB0byBfX1NLVXNvbkxhc3RCYXNrZXRMb29rdXAgaGlzdG9yeVxuICAgICAgICAgICAgICBjb25zdCBsYXN0QmFza2V0UHJvZHVjdEluZm8gPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuTkRfU0tVX0lORk9fQkFTS0VUKSk7XG4gICAgICAgICAgICAgIGlmIChsYXN0QmFza2V0UHJvZHVjdEluZm8pIHtcbiAgICAgICAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIl9fU0tVc29uTGFzdEJhc2tldExvb2t1cFwiLCBsYXN0QmFza2V0UHJvZHVjdEluZm8pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwidXBkYXRlQ291cG9uQXBwbGljYWJsZUFtb3VudFwiOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiY2FydC5jb3Vwb25BcHBsaWNhYmxlXCIsIHRydWUsIDUwLCA1MDApO1xuXG4gICAgICAgICAgaWYgKCFjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSkge1xuICAgICAgICAgICAgLy8gUHJpY2UgZWxlbWVudHMgbm90IGZvdW5kXG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID49IDApIHtcbiAgICAgICAgICAgIC8vIHNldCBjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSB0byBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCBjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJ1cGRhdGVBY3RpdmVTS1VMaXN0XCI6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyB1cGRhdGUgYWN0aXZlIFNLVSBsaXN0XG4gICAgICAgICAgbGV0IG5ld1NLVUxpc3Q7XG4gICAgICAgICAgY29uc3QgY3VycmVudFBhZ2VUeXBlID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIlBhZ2VUeXBlXCIsIHRydWUsIDUwLCAxMDAwKTtcbiAgICAgICAgICAvLyBMaXN0aW5nIHBhZ2VcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2VUeXBlID09PSBcIkxpc3RpbmdwYWdlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNrdUxpc3QgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwicGxwLnNrdXNcIiwgdHJ1ZSwgNTAsIDEwMDApO1xuICAgICAgICAgICAgaWYgKHNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIG5ld1NLVUxpc3QgPSBza3VMaXN0LnNwbGl0KENPTkNBVFNFUEVSQVRPUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgLy8gUHJvZHVjdCBwYWdlXG4gICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZVR5cGUgPT09IFwiUHJvZHVjdHBhZ2VcIikge1xuICAgICAgICAgICAgY29uc3Qgc2t1ID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInBkcC5za3VcIiwgdHJ1ZSwgNTAsIDEwMDApO1xuICAgICAgICAgICAgaWYgKHNrdSkge1xuICAgICAgICAgICAgICBuZXdTS1VMaXN0ID0gW3NrdV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZVR5cGUgPT09IFwiYmFza2V0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNrdUxpc3QgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiY2FydC5za3VzXCIsIHRydWUsIDUwLCAxMDAwKTtcbiAgICAgICAgICAgIGlmIChza3VMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICBuZXdTS1VMaXN0ID0gc2t1TGlzdC5zcGxpdChDT05DQVRTRVBFUkFUT1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5ld1NLVUxpc3QgPSBuZXdTS1VMaXN0LnNvcnQoKTtcbiAgICAgICAgICBjb25zdCBuZXdTS1VMaXN0U3RyID0gbmV3U0tVTGlzdC5qb2luKENPTkNBVFNFUEVSQVRPUik7XG4gICAgICAgICAgY29uc3QgcHJldlNLVUxpc3QgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiX19TS1Vzb25QYWdlXCIpO1xuICAgICAgICAgIC8vIHVwZGF0ZSBwcmV2U0tVTGlzdCBhbmQgbG9vayBpdCB1cCBpZiBjaGFuZ2VkXG4gICAgICAgICAgLy8gaWYgcHJldlNLVUxpc3QgaXMgZGlmZmVyZW50IGZyb20gbmV3U0tVTGlzdFxuICAgICAgICAgIGlmIChwcmV2U0tVTGlzdCAmJiBuZXdTS1VMaXN0ICYmIHByZXZTS1VMaXN0Lmxlbmd0aCA9PT0gbmV3U0tVTGlzdFN0ci5sZW5ndGggJiYgcHJldlNLVUxpc3QgPT09IG5ld1NLVUxpc3RTdHIpIHtcbiAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICB9IGVsc2UgaWYgKG5ld1NLVUxpc3QpIHtcbiAgICAgICAgICAgIC8vIGxvZyB0aGUgYXJyYXkgb2YgcHJldlNLVUxpc3QgaW4gc3RyaW5nIGZvcm1hdFxuICAgICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJfX1NLVXNvblBhZ2VcIiwgbmV3U0tVTGlzdCk7XG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0SW5mbyA9IGF3YWl0IHByb2R1Y3RJbmZvTG9va3VwKG5ld1NLVUxpc3QpO1xuICAgICAgICAgICAgaWYgKHByb2R1Y3RJbmZvKSB7XG4gICAgICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiX19TS1Vzb25QYWdlTG9va3VwXCIsIHByb2R1Y3RJbmZvKTtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlVHlwZSA9PT0gXCJiYXNrZXRcIikge1xuICAgICAgICAgICAgICAgIC8vIHN0b3JlIGxhc3QgYmFza2V0IHByb2R1Y3QgaW5mbyB0byByZW1lbWJlciBsYXRlclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgdGhpcyB0byBoaXN0b3J5IHRyYWNraW5nIGxhdGVyXG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5ORF9TS1VfSU5GT19CQVNLRVQsIEpTT04uc3RyaW5naWZ5KHByb2R1Y3RJbmZvKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHBhcnNlU2VhcmNoUGF0aHMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGRvbVN0YXR1cyA9IGRvY3VtZW50LnJlYWR5U3RhdGU7XG4gIC8vIGNoZWNrIGlmIGRvY3VtZW50IGFuZCBkb20gaXMgbG9hZGVkIGFuZCByZWFkeSBmb3Igc2NyYXBwaW5nXG4gIGxvZ2dlci5sb2coXCJwYXJzZVNlYXJjaFBhdGhzIGluaXRpYWxpemVkIHdpdGggZG9tIHN0YXR1czogIFwiICsgZG9tU3RhdHVzKTtcblxuICBjb25zdCB3aW50b3AgPSB3aW5kb3cudG9wO1xuICBjb25zdCBkYXRhTGF5ZXIgPSB3aW50b3AuZGF0YUxheWVyO1xuICBjb25zdCB3aW5kb2MgPSB3aW50b3AuZG9jdW1lbnQ7XG4gIGxldCBzb3JnQXJyYXlJbm5lcjtcblxuICBjb25zdCBmb3VuZE5hbWVzID0gbmV3IFNldCgpO1xuICBjb25zdCBwcmV2Rm91bmROYW1lcyA9IG5ldyBTZXQoKTtcbiAgY29uc3Qgbm90Rm91bmROYW1lcyA9IG5ldyBTZXQoKTtcblxuICAvLyBQYWdlVHlwZSBjYW4gYmUgaW5mZXJyZWQgZnJvbSBVUkwsIGlmIGZvdW5kIHVzZSBpdCBmcm9tIHRoZXJlXG4gIGxldCBjdXJyZW50UGFnZVR5cGUgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiUGFnZVR5cGVcIik7XG5cbiAgaWYgKGN1cnJlbnRQYWdlVHlwZSkge1xuICAgIHByZXZGb3VuZE5hbWVzLmFkZChcIlBhZ2VUeXBlXCIpO1xuICB9XG5cbiAgLy8gTG9vcCB0aHJvdWdoIHNlYXJjaCBsaXN0cyBhbmQgbWFyayBmb3VuZCBuYW1lc1xuICBmb3IgKGNvbnN0IHNlYXJjaEVsZW1lbnQgb2Ygc2VhcmNoUGF0aHMpIHtcbiAgICBpZiAoc2VhcmNoRWxlbWVudC5pc0ZvdW5kKSB7XG4gICAgICBwcmV2Rm91bmROYW1lcy5hZGQoc2VhcmNoRWxlbWVudC5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGNvbnN0IHNlYXJjaEVsZW1lbnQgb2Ygc2VhcmNoUGF0aHMpIHtcbiAgICBpZiAoc2VhcmNoRWxlbWVudC5pc0ZvdW5kKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoZm91bmROYW1lcy5oYXMoc2VhcmNoRWxlbWVudC5uYW1lKSB8fCBwcmV2Rm91bmROYW1lcy5oYXMoc2VhcmNoRWxlbWVudC5uYW1lKSkge1xuICAgICAgLy8gaGFkIGFscmVhZHkgZm91bmQgdGhpcyBlbGVtZW50XG4gICAgICBzZWFyY2hFbGVtZW50LmlzRm91bmQgPSB0cnVlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHNlYXJjaEVsZW1lbnQuUGFnZVR5cGVEZXBlbmQgIT09IFwiKlwiKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYWdlVHlwZSkge1xuICAgICAgICBjdXJyZW50UGFnZVR5cGUgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiUGFnZVR5cGVcIik7XG4gICAgICAgIGlmICghY3VycmVudFBhZ2VUeXBlKSB7XG4gICAgICAgICAgbm90Rm91bmROYW1lcy5hZGQoc2VhcmNoRWxlbWVudC5uYW1lKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VhcmNoRWxlbWVudC5QYWdlVHlwZURlcGVuZC5pbmRleE9mKGN1cnJlbnRQYWdlVHlwZSkgPCAwKSB7XG4gICAgICAgIC8vIHNraXAgc2VhcmNoRWxlbWVudCBiZWNhdXNlIG9mIFBhZ2VUeXBlRGVwZW5kXG4gICAgICAgIHNlYXJjaEVsZW1lbnQuaXNGb3VuZCA9IHRydWU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzZWFyY2hFbGVtZW50Lm1ldGhvZCA9PT0gXCJTaW5nbGVXVFwiKSB7IC8vIFNDQU4gV2luZG93IGZvciBTaW5nbGUgRWxlbWVudHNcbiAgICAgIHNlYXJjaEFuZFNldCh3aW50b3AsIHNlYXJjaEVsZW1lbnQsIGZvdW5kTmFtZXMsIG5vdEZvdW5kTmFtZXMpO1xuICAgIH0gZWxzZSBpZiAoc2VhcmNoRWxlbWVudC5tZXRob2QgPT09IFwiR0FEYXRhTGF5ZXJcIikgeyAvLyBTQ0FOIEdBIERBVEEgTEFZRVJcbiAgICAgIGZvciAoY29uc3QgZGF0YUxheWVySXRlbSBvZiBkYXRhTGF5ZXIpIHtcbiAgICAgICAgc2VhcmNoQW5kU2V0KGRhdGFMYXllckl0ZW0sIHNlYXJjaEVsZW1lbnQsIGZvdW5kTmFtZXMsIG5vdEZvdW5kTmFtZXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2VhcmNoRWxlbWVudC5tZXRob2QgPT09IFwiRG9jU29yZ1wiKSB7IC8vIFNDQU4gU09SRyBBUlJBWVxuICAgICAgaWYgKCFzb3JnQXJyYXlJbm5lcikge1xuICAgICAgICBzb3JnQXJyYXlJbm5lciA9IGdldFNPUkdBcnJheSgpO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBzb3JnSXRlbSBvZiBzb3JnQXJyYXlJbm5lcikge1xuICAgICAgICBzZWFyY2hBbmRTZXQoc29yZ0l0ZW0sIHNlYXJjaEVsZW1lbnQsIGZvdW5kTmFtZXMsIG5vdEZvdW5kTmFtZXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2VhcmNoRWxlbWVudC5tZXRob2QgPT09IFwiRG9jUXVlcnlcIikgeyAvLyBTQ0FOIERPQ1VNRU5UXG4gICAgICBzZWFyY2hBbmRTZXQod2luZG9jLCBzZWFyY2hFbGVtZW50LCBmb3VuZE5hbWVzLCBub3RGb3VuZE5hbWVzKTtcbiAgICB9IC8vIERPQ1FVRVJZIHBhcnNlXG4gIH1cblxuICBpZiAobm90Rm91bmROYW1lcy5zaXplID09PSAwKSB7XG4gICAgcGFyc2VTZWFyY2hQYXRoc1JldHJ5ID0gUEFSU0VTRUFSQ0hNQVhSRVRSWTtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRocyBmb3VuZCBhbGwgZWxlbWVudHMgLSBzZXR0aW5nIHJldHJ5IHRvIG1heFwiKTtcbiAgfSBlbHNlIGlmIChmb3VuZE5hbWVzLnNpemUgPT09IDApIHtcbiAgICAvLyB1cGRhdGUgcmV0cnkgY291bnRlciBhbmQgZGVsYXkgb25seSBpZiBkb20gaXMgYWN0aXZlXG4gICAgaWYgKGRvbVN0YXR1cyA9PT0gXCJjb21wbGV0ZVwiIHx8IGRvbVN0YXR1cyA9PT0gXCJpbnRlcmFjdGl2ZVwiKSB7XG4gICAgICBwYXJzZVNlYXJjaFBhdGhzRGVsYXkgKj0gMjtcbiAgICAgIHBhcnNlU2VhcmNoUGF0aHNSZXRyeSArPSAxO1xuICAgIH1cbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRocyBwcm9jZXNzZWQgYnV0IG5vdCBmb3VuZCBhbnksIHNldHRpbmcgZGVsYXkgYW5kIHJldHJ5IHRvIFwiICtcbiAgICAgIHBhcnNlU2VhcmNoUGF0aHNEZWxheSArIFwiIGFuZCBcIiArXG4gICAgICBwYXJzZVNlYXJjaFBhdGhzUmV0cnkgKyBcIiBmb3Igbm90Zm91bmQ6IFtcIiArXG4gICAgICBBcnJheS5mcm9tKG5vdEZvdW5kTmFtZXMpLmpvaW4oXCIgfCBcIikgKyBcIl1cIixcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGxvZ2dlci5sb2coXCJwYXJzZVNlYXJjaFBhdGhzIHByb2Nlc3NlZDogbm90Zm91bmQ6IFtcIiArXG4gICAgICBBcnJheS5mcm9tKG5vdEZvdW5kTmFtZXMpLmpvaW4oXCIgfCBcIikgKyBcIl0gYW5kIGZvdW5kIFwiICtcbiAgICAgIGZvdW5kTmFtZXMuc2l6ZSxcbiAgICApO1xuICB9XG59O1xuXG5jb25zdCBzZWFyY2hBbmRTZXQgPSAob2JqLCBzZWFyY2hFbGVtZW50LCBmb3VuZE5hbWVzLCBub3RGb3VuZE5hbWVzKSA9PiB7XG4gIGlmIChzZWFyY2hPYmoob2JqLCBzZWFyY2hFbGVtZW50KSkge1xuICAgIGZvdW5kTmFtZXMuYWRkKHNlYXJjaEVsZW1lbnQubmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgbm90Rm91bmROYW1lcy5hZGQoc2VhcmNoRWxlbWVudC5uYW1lKTtcbiAgfVxufTtcblxuLy8gcGFyc2Ugc291cmNlXG5jb25zdCBwYXJzZXJDYWxsZXIgPSBhc3luYyBmdW5jdGlvbigpIHtcbiAgYXdhaXQgcGFyc2VTZWFyY2hQYXRocygpO1xuICBpZiAocGFyc2VTZWFyY2hQYXRoc1JldHJ5IDwgUEFSU0VTRUFSQ0hNQVhSRVRSWSkge1xuICAgIGxvZ2dlci5sb2coXCJwYXJzZVNlYXJjaFBhdGhzOiBzY2hlZHVsZWQgdG8gYmUgcmVjYWxsZWQgaW4gXCIgKyBwYXJzZVNlYXJjaFBhdGhzRGVsYXkgKyBcIm1zXCIpO1xuICAgIHNldFRpbWVvdXQocGFyc2VyQ2FsbGVyLCBwYXJzZVNlYXJjaFBhdGhzRGVsYXkpO1xuICB9IGVsc2Uge1xuICAgIGxvZ2dlci5sb2coXCJwYXJzZVNlYXJjaFBhdGhzOiByZWFjaGVkIG1heCByZXRyeSwgY2FsbGluZyByZW1haW5kZXIgaGlzdG9yaWNhbCBkYXRhXCIpO1xuICAgIHVwZGF0ZVJlbWFpbmluZ0hpc3RvcmljYWxEYXRhKCk7XG4gIH1cbn07XG5cbmNvbnN0IENPTkNBVFNFUEVSQVRPUiA9IFwiIHwgXCI7XG5cbi8vIEV4dHJhY3QgdmFsdWUgZnJvbSBqc29uIG9iamVjdCB1c2luZyBnaXZlbiBwYXRoXG4vLyBJZiBhbiBlbGVtZW50IGlzICosIGNvbmNhdGVuYXRlIHJlY3Vyc2l2ZWx5IGFsbCBzdWItcGF0aCB2YWx1ZXMgYXMgc3RyaW5nXG5jb25zdCBqc29uR2V0ID0gKG9iaiwgcGF0aCkgPT4ge1xuICBpZiAoIW9iaikgcmV0dXJuIG51bGw7XG4gIGlmICghcGF0aCkgcmV0dXJuIG51bGw7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBwYXRoQXJyYXkgPSBwYXRoLnNwbGl0KFwiLlwiKTtcbiAgICBsZXQgY3VycmVudCA9IG9iajtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgaWYgKHBhdGhBcnJheVtpXSA9PT0gXCIqXCIpIHtcbiAgICAgICAgY29uc3Qgc3ViUGF0aCA9IHBhdGhBcnJheS5zbGljZShpICsgMSkuam9pbihcIi5cIik7XG4gICAgICAgIGNvbnN0IHN1YkFycmF5ID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc3ViS2V5IGluIGN1cnJlbnQpIHtcbiAgICAgICAgICBpZiAoY3VycmVudFtzdWJLZXldKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJWYWx1ZSA9IGpzb25HZXQoY3VycmVudFtzdWJLZXldLCBzdWJQYXRoKTtcbiAgICAgICAgICAgIGlmIChzdWJWYWx1ZSkge1xuICAgICAgICAgICAgICBzdWJBcnJheS5wdXNoKHN1YlZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YkFycmF5LmpvaW4oQ09OQ0FUU0VQRVJBVE9SKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50W3BhdGhBcnJheVtpXV07XG4gICAgfVxuICAgIC8vIGlmIGN1cnJlbnQgaXMgYW4gYXJyYXksIHJldHVybiBhbGwgZWxlbWVudHMgYXMgc3RyaW5nXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudCkpIHtcbiAgICAgIHJldHVybiBjdXJyZW50LmpvaW4oQ09OQ0FUU0VQRVJBVE9SKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSBcIm9iamVjdFwiKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY3VycmVudCk7XG4gICAgcmV0dXJuIGN1cnJlbnQudG9TdHJpbmcoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBwcmVwYXJlQ29yZURhdGEgPSBhc3luYyAoKSA9PiB7XG4gIC8vIFRPRE86IG1lcmdlIHdpdGggX2dhIElEIGZldGNoIGluIG1haW4gZW50cnkgcG9pbnRcbiAgY29uc3Qgd2luZG93UHRyID0gd2luZG93LnRvcDtcbiAgY29uc3QgbmF2UHRyID0gd2luZG93UHRyLm5hdmlnYXRvcjtcblxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZUdhSWRcIiwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIod2luZG93UHRyLmRvY3VtZW50LmNvb2tpZSwgXCJfZ2FcIikpO1xuXG4gIGNvbnN0IHZpZXdJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9JRCk7XG4gIC8qIEJlYWdsZSBkYXRhICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidlwiLCBcIjAuMC4yOFwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuXCIsIGBiZWFnbGUtc2Vzc2lvbl9pZC0ke3Nlc3Npb25JZH1gKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2SWRcIiwgdmlld0lkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzclwiLCBTUExJVF9SQVRJTyk7XG5cbiAgY29uc3QgcGxhdGZvcm0gPSB3aW5kb3dQdHIubmF2aWdhdG9yPy51c2VyQWdlbnREYXRhPy5wbGF0Zm9ybSB8fFxuICAgIHdpbmRvd1B0ci5uYXZpZ2F0b3I/LnBsYXRmb3JtIHx8XG4gICAgd2luZG93UHRyLm5hdmlnYXRvcj8udXNlckFnZW50O1xuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLm5hdlBsYXRmb3JtXCIsIHBsYXRmb3JtKTtcblxuICAvKiB3aW5kb3cgdmlldyBhcmVhICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd1BSYXRpb1wiLCB3aW5kb3dQdHIuZGV2aWNlUGl4ZWxSYXRpbyk7XG5cbiAgY29uc3QgYXZhaWxXaW5kb3cgPSB3aW5kb3dQdHIuc2NyZWVuPy5hdmFpbFdpZHRoICsgXCJ4XCIgKyB3aW5kb3dQdHIuc2NyZWVuPy5hdmFpbEhlaWdodDtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2Uud2luZG93QXZhaWxcIiwgYXZhaWxXaW5kb3cpO1xuXG4gIGNvbnN0IHdpbmRvd0RlcHRoID0gd2luZG93UHRyLnNjcmVlbj8uY29sb3JEZXB0aCArIFwiLVwiICsgd2luZG93UHRyLnNjcmVlbj8ucGl4ZWxEZXB0aDtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2Uud2luZG93RGVwdGhcIiwgd2luZG93RGVwdGgpO1xuXG4gIGNvbnN0IHZwb3J0U2hhcGUgPSB3aW5kb3dQdHIudmlzdWFsVmlld3BvcnQ/LndpZHRoICsgXCJ4XCIgKyB3aW5kb3dQdHIudmlzdWFsVmlld3BvcnQ/LmhlaWdodDtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2Uud2luZG93VnBvcnRcIiwgdnBvcnRTaGFwZSk7XG5cbiAgaWYgKHNjcmVlbi53aWR0aCkge1xuICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KHNjcmVlbi53aWR0aCk7XG4gICAgbGV0IGhlaWdodCA9IChzY3JlZW4uaGVpZ2h0KSA/IHBhcnNlSW50KHNjcmVlbi5oZWlnaHQpIDogMDtcbiAgICBpZiAod2lkdGggIT09IDAgJiYgaGVpZ2h0ICE9PSAwKSB7XG4gICAgICBjb25zdCBpT1MgPSAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChwbGF0Zm9ybSk7XG4gICAgICBpZiAoaU9TICYmIHdpbmRvd1B0ci5kZXZpY2VQaXhlbFJhdGlvKSB7XG4gICAgICAgIC8vIGlvcyBwcm92aWRlcyBEUElzLCBuZWVkIHRvIG11bHRpcGx5XG4gICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAqIHdpbmRvd1B0ci5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQgKiB3aW5kb3dQdHIuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoTWF0aC5hYnMod2luZG93UHRyLm9yaWVudGF0aW9uKSA9PT0gOTApIHtcbiAgICAgICAgICAvLyB3ZSBoYXZlIGxhbmRzY2FwZSBvcmllbnRhdGlvblxuICAgICAgICAgIC8vIHN3aXRjaCB2YWx1ZXMgZm9yIGFsbCBleGNlcHQgaW9zXG4gICAgICAgICAgY29uc3QgdGVtcCA9IHdpZHRoO1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0O1xuICAgICAgICAgIGhlaWdodCA9IHRlbXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd1wiLCB3aWR0aCArIFwieFwiICsgaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKiBuYXZpZ2F0b3IgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2SGlzdFNpemVcIiwgd2luZG93UHRyLmhpc3Rvcnk/Lmxlbmd0aCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLm5hdkFnZW50XCIsIG5hdlB0ci51c2VyQWdlbnQpO1xuICAvLyBjaGVjayBpZiB1c2VyQWdlbnREYXRhIGlzIHN1cHBvcnRlZCBhbmQgdXNlckFnZW50IGlzIG5vdCBhdmFpbGFibGUsIHVzZSBpdFxuICBpZiAoIXdpbmRvd1B0ci5iZWFnbGVJbmZvTGF5ZXIubmF2QWdlbnQpIHtcbiAgICBpZiAobmF2UHRyLnVzZXJBZ2VudERhdGEpIHtcbiAgICAgIC8vIHR1cm4gYnJhbmRzIGFycmF5IGludG8gc3RyaW5nXG4gICAgICBsZXQgbmF2QWdlbnQgPSBuYXZQdHI/LnVzZXJBZ2VudERhdGE/LmJyYW5kcz8ubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuYnJhbmQgKyBcIjpcIiArIGUudmVyc2lvbjtcbiAgICAgIH0pLmpvaW4oKTtcbiAgICAgIC8vIGFkZCBtb2JpbGUgaW5mb1xuICAgICAgbmF2QWdlbnQgKz0gKG5hdlB0cj8udXNlckFnZW50RGF0YT8ubW9iaWxlID8gXCJtb2JpXCIgOiBcIiBcIik7XG4gICAgICAvLyBhZGQgcGxhdGZvcm0gaW5mb1xuICAgICAgbmF2QWdlbnQgKz0gcGxhdGZvcm07XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZBZ2VudFwiLCBuYXZBZ2VudCk7XG4gICAgfVxuICB9XG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2SFdDb3Jlc1wiLCBuYXZQdHIuaGFyZHdhcmVDb25jdXJyZW5jeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLm5hdkxhbmd1YWdlXCIsIG5hdlB0ci5sYW5ndWFnZSB8fFxuICAgICAgbmF2UHRyLmJyb3dzZXJMYW5ndWFnZSB8fFxuICAgICAgbmF2UHRyLnN5c3RlbUxhbmd1YWdlIHx8XG4gICAgICBuYXZQdHIudXNlckxhbmd1YWdlLFxuICApO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZUb3VjaFwiLCBuYXZQdHIubWF4VG91Y2hQb2ludHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZWZW5kb3JcIiwgbmF2UHRyLnZlbmRvcik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLmludGVybmV0U3BlZWRcIiwgd2luZG93UHRyLm5hdmlnYXRvcj8uY29ubmVjdGlvbj8uZG93bmxpbmspO1xuXG4gIC8qIG1pc2NlbGxhbmVvdXMgKi9cbiAgY29uc3QgY3VycmVudFVSTCA9IG5ldyBVUkwod2luZG93LnRvcC5sb2NhdGlvbi5ocmVmKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ1XCIsIGN1cnJlbnRVUkwuaHJlZik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZFwiLCBjdXJyZW50VVJMLmhvc3RuYW1lKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkb250dHJhY2tcIiwgbmF2UHRyLmRvTm90VHJhY2sgfHwgd2luZG93UHRyLmRvTm90VHJhY2sgfHwgbmF2UHRyLm1zRG9Ob3RUcmFjayk7XG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJyXCIsIHdpbmRvd1B0ci5kb2N1bWVudC5yZWZlcnJlcik7XG4gIHVwZGF0ZUhpc3RvcmljYWxEYXRhU2NhbihcInJcIiwgd2luZG93UHRyLmRvY3VtZW50LnJlZmVycmVyKTtcblxuICAvKiBWaXZlbnNlIHNwZWNpZmljICovXG4gIGxldCBwYWdlVHlwZTtcbiAgLy8gaWYgdXJsIGxpa2UgeCB0aGVuIHNldCBQYWdlVHlwZSA9IHlcbiAgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcImZhdm9yaWxlcmltLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJmYXZvcml0ZXNcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJzaXBhcmlzLWxpc3Rlc2kuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcImJhc2tldFwiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInNpcGFyaXMtb3pldGkuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInB1cmNoYXNlXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwib2RlbWUuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInBheW1lbnRcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJhZHJlcy1saXN0ZXNpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJhZGRyZXNzXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwic2lwYXJpc2xlcmltLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJwYXN0b3JkZXJzXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwidXllLWtheWl0Lmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJyZWdpc3RlclwiO1xuICB9XG5cbiAgaWYgKHBhZ2VUeXBlKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiLCBwYWdlVHlwZSk7XG4gICAgdXBkYXRlSGlzdG9yaWNhbERhdGFTY2FuKFwiUGFnZVR5cGVcIiwgcGFnZVR5cGUpO1xuICB9XG59O1xuXG5jb25zdCBhZGRNZXRyaWNzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHdpbmRvd1B0ciA9IHdpbmRvdy50b3A7XG4gIGNvbnN0IHBlcmZNZXRyaWNzID0ge307XG4gIGNvbnN0IHBlcmZOYXZpZ2F0aW9uTWV0cmljcyA9IHdpbmRvd1B0ci5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibmF2aWdhdGlvblwiKVswXTtcbiAgaWYgKHdpbmRvd1B0ci5wZXJmb3JtYW5jZSAmJiBwZXJmTmF2aWdhdGlvbk1ldHJpY3MpIHtcbiAgICBwZXJmTWV0cmljcy5jb25uZWN0ID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuY29ubmVjdEVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5jb25uZWN0U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLnJlcXVlc3QgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZUVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXF1ZXN0U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLmRvbSA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUNvbXBsZXRlIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUludGVyYWN0aXZlKTtcbiAgICBwZXJmTWV0cmljcy5sb2FkID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MubG9hZEV2ZW50RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmxvYWRFdmVudFN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy5kdXJhdGlvbiA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmR1cmF0aW9uKTtcbiAgfVxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1ldHJpY3NcIiwgcGVyZk1ldHJpY3MpO1xufTtcblxuLy8gVE9ETzogbW92ZSB0aGlzIHRvIGFuIFwiZWxlbWVudCBjb2xsZWN0b3JcIiBtb2R1bGUsIHRoZW4gZGF0YSBpcyBleHRyYWN0ZWQgZnJvbSBwcmUtY29sbGVjdGVkIGVsZW1lbnRzXG5jb25zdCBnZXRTT1JHQXJyYXkgPSAoKSA9PiB7XG4gIGNvbnN0IHNjaGVtYU9yZ0VsdHMgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbdHlwZT1cXFwiYXBwbGljYXRpb24vbGQranNvblxcXCJdXCIpO1xuICBjb25zdCBzb3JnQXJyYXkgPSBbXTtcblxuICBmb3IgKGNvbnN0IHNUYWcgb2Ygc2NoZW1hT3JnRWx0cykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjbnRudCA9IHNUYWcudGV4dENvbnRlbnQ7XG4gICAgICBjb25zdCBqc29uY29udGVudCA9IEpTT04ucGFyc2UoY250bnQpO1xuICAgICAgc29yZ0FycmF5LnB1c2goanNvbmNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgfVxuICByZXR1cm4gc29yZ0FycmF5O1xufTtcblxubGV0IHByb2R1Y3RJbmZvTG9va3VwSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgcHJvZHVjdEluZm9Mb29rdXAgPSBhc3luYyAoc2t1bGlzdCkgPT4ge1xuICBpZiAoIXNrdWxpc3QgfHwgc2t1bGlzdC5sZW5ndGggPT09IDApIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwicHJvZHVjdEluZm9Mb29rdXA6IE5vIHNrdSBmb3VuZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChwcm9kdWN0SW5mb0xvb2t1cEluUHJvZ3Jlc3MpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwicHJvZHVjdEluZm9Mb29rdXA6IEFscmVhZHkgaW4gcHJvZ3Jlc3NcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsb2dnZXIubG9nKFwicHJvZHVjdEluZm9Mb29rdXA6IFN0YXJ0aW5nIHByb2R1Y3QgaW5mbyBsb29rdXA6IFwiK3NrdWxpc3QpO1xuXG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBoZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG5cbiAgcHJvZHVjdEluZm9Mb29rdXBJblByb2dyZXNzID0gdHJ1ZTtcbiAgbGV0IHByb2R1Y3RJbmZvID0gbnVsbDtcbiAgdHJ5IHtcbiAgICBwcm9kdWN0SW5mbyA9IGF3YWl0IGZldGNoKExPT0tVUF9BUElfVVJMLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2t1bGlzdCksXG4gICAgICBoZWFkZXJzLFxuICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgfSk7XG4gICAgaWYgKHByb2R1Y3RJbmZvLm9rKSB7XG4gICAgICBwcm9kdWN0SW5mbyA9IGF3YWl0IHByb2R1Y3RJbmZvLmpzb24oKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIud2FybihcInByb2R1Y3RJbmZvTG9va3VwOiBmZXRjaCAmIHBhcnNlIGZhaWxlZFwiKTtcbiAgfVxuXG4gIHByb2R1Y3RJbmZvTG9va3VwSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICByZXR1cm4gcHJvZHVjdEluZm87XG59O1xuXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge2FkZFRvQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCB7XG4gIENPT0tJRV9OQU1FLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBTVFlMRVNIRUVUX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRTX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTixcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVdGlsc1wiKTtcbmNvbnN0IG1vbnRocyA9IHtcbiAgXCJvY2FrXCI6IDAsXG4gIFwixZ91YmF0XCI6IDEsXG4gIFwibWFydFwiOiAyLFxuICBcIm5pc2FuXCI6IDMsXG4gIFwibWF5xLFzXCI6IDQsXG4gIFwiaGF6aXJhblwiOiA1LFxuICBcInRlbW11elwiOiA2LFxuICBcImHEn3VzdG9zXCI6IDcsXG4gIFwiZXlsw7xsXCI6IDgsXG4gIFwiZWtpbVwiOiA5LFxuICBcImthc8SxbVwiOiAxMCxcbiAgXCJhcmFsxLFrXCI6IDExLFxufTtcbmNvbnN0IHJhbmRvbVVVSURGYWxsYmFjayA9ICgpID0+IHtcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjMvMjgwMDIxOFxuICAvLyBMSUNFTlNFOiBodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvNC4wL2xlZ2FsY29kZVxuICBjcnlwdG8ucmFuZG9tVVVJRCA9IGZ1bmN0aW9uIHJhbmRvbVVVSUQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFsxZTddICsgLTFlMyArIC00ZTMgKyAtOGUzICsgLTFlMTEpLnJlcGxhY2UoL1swMThdL2csXG4gICAgICAgIChjKSA9PiAoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KSxcbiAgICApO1xuICB9O1xufTtcblxuaWYgKCEoXCJyYW5kb21VVUlEXCIgaW4gY3J5cHRvKSkge1xuICByYW5kb21VVUlERmFsbGJhY2soKTtcbn1cblxuZXhwb3J0IGNvbnN0IHJlbW92ZURvY3VtZW50SGlkZSA9ICgpID0+IHtcbiAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm5leHREYXktaGlkZVwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRyZWF0bWVudHMgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnRzXCIpO1xuICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2goVFJFQVRNRU5UU19MT0NBVElPTik7XG4gIGNvbnN0IGpzb25UcmVhdG1lbnQgPSBhd2FpdCB0cmVhdG1lbnRzLmpzb24oKTtcbiAgcmV0dXJuIGpzb25UcmVhdG1lbnQ7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgdHJlYXRtZW50IHdlaWdodHNcIik7XG4gIGNvbnN0IHRyZWF0bWVudFdlaWdodHMgPSBhd2FpdCBmZXRjaChUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTik7XG4gIGNvbnN0IGpzb25UcmVhdG1lbnRXZWlnaHRzID0gYXdhaXQgdHJlYXRtZW50V2VpZ2h0cy5qc29uKCk7XG4gIHJldHVybiBqc29uVHJlYXRtZW50V2VpZ2h0cztcbn07XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q29va2llSWRlbnRpZmllciA9IChjb29raWVTdHJpbmcsIGNvb2tpZU5hbWUpID0+IHtcbiAgaWYgKCFjb29raWVTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZCA9IGNvb2tpZVN0cmluZ1xuICAgICAgLnNwbGl0KFwiO1wiKVxuICAgICAgLm1hcCgodikgPT4gdi5zcGxpdChcIj1cIikpXG4gICAgICAucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgaWYgKHZbMF0gJiYgdlsxXSkge1xuICAgICAgICAgIGFjY1tkZWNvZGVVUklDb21wb25lbnQodlswXS50cmltKCkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2WzFdLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcblxuICBsZXQgaWRlbnRpZmllciA9IHBhcnNlZFtjb29raWVOYW1lXTtcbiAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGNvb2tpZU5hbWUgPT09IFwiX2dhXCIpIHtcbiAgICAvLyBleHRyYWN0IHVuaXF1ZSBpZGVudGlmaWVyIGZyb20gR0EgY29va2llXG4gICAgY29uc3QgaWRlbnRpZmllckluZGV4ID0gMjtcbiAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllci5zcGxpdChcIi5cIilbaWRlbnRpZmllckluZGV4XTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcjtcbn07XG5cbmV4cG9ydCBjb25zdCBkZXRlcm1pbmVQY3QgPSBhc3luYyAoaWRlbnRpZmllcikgPT4ge1xuICBjb25zdCBzdWJzdHJpbmdTdGFydFBvc2l0aW9uID0gOTtcbiAgY29uc3Qgc3Vic3RyaW5nTGVuZ3RoID0gODtcbiAgY29uc3Qgc3Vic3RyaW5nRW5kUG9zaXRpb24gPSBzdWJzdHJpbmdTdGFydFBvc2l0aW9uICsgc3Vic3RyaW5nTGVuZ3RoO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgY29uc3QgaGFzaFN0cmluZyA9IGF3YWl0IGNyZWF0ZUhhc2hTdHJpbmcoaWRlbnRpZmllcik7XG4gIC8vIE1hcCB0aGUgY29va2llIGhhc2ggdG8gYSBudW1iZXIgYmV0d2VlbiAwIC0+IDk5LFxuICAvLyB0aGlzIG51bWJlciBpcyB0aGUgb25SYXRpb25cbiAgY29uc3QgaGFzaE51bWJlciA9IHBhcnNlSW50KGhhc2hTdHJpbmcuc3Vic3RyaW5nKHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24sIHN1YnN0cmluZ0VuZFBvc2l0aW9uKSwgMTYpO1xuXG4gIHJldHVybiBoYXNoTnVtYmVyICUgMTAwO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUhhc2hTdHJpbmcgPSBhc3luYyAoc3RyaW5nVG9IYXNoKSA9PiB7XG4gIC8vIGVuY29kZSBzdHJpbmcgdG8gYW4gYXJyYXkgb2YgOC1iaXQgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXNcbiAgY29uc3QgZW5jb2RlZCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHJpbmdUb0hhc2gpO1xuXG4gIC8vIGhhc2ggdGhlIGVuY29kZWQgY29va2llIGludG8gYSBidWZmZXJcbiAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTFcIiwgZW5jb2RlZCk7XG5cbiAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxuICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcblxuICAvLyBjb252ZXJ0IGJ5dGVzIHRvIGhleCBzdHJpbmcgYW5kIHJldHVyblxuICByZXR1cm4gaGFzaEFycmF5Lm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKS5qb2luKFwiXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4aXRTY3JvbGxMaXN0ZW5lciA9IChjYWxsQmFjaykgPT4ge1xuICBjb25zdCBsb29wID0gKCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBpZiAobGFzdFNjcm9sbFRvcCAtIDQwMCA+IHNjcm9sbFRvcCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChleGl0U2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgY2FsbEJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdFNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICB9XG4gIH07XG5cbiAgbGV0IGxhc3RTY3JvbGxUb3AgPSB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIGNvbnN0IGV4aXRTY3JvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGxvb3AsIDUwMCk7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYXBwbHkgdHJlYXRtZW50cyB0byB0aGUgcGFnZSBvbiBzcGVjaWZpYyBtZWRpYSB0eXBlLlxuICogQHBhcmFtIHtNZWRpYVF1ZXJ5TGlzdH0gbWVkaWFRdWVyeUNvbmRpdGlvbiB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDUwMHB4KVwiKVxuICogQHBhcmFtIHtET01Ob2RlTGlzdCB9IGVsZW1lbnRzIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXYucHJvZHVjdF9pbmZvXCIpXG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVDaGFuZ2VzTWFwIHsgXCJtYXJnaW4tdG9wXCIgOiBcIjEwcmVtXCJ9XG4gKiBAcmV0dXJuc1xuICovXG5cbmV4cG9ydCBjb25zdCBzdHlsZUFwcGxpY2F0b3IgPSAoZWxlbWVudHMsIHN0eWxlQ2hhbmdlc01hcCkgPT4ge1xuICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGUgY2hhbmdlc1wiLCBzdHlsZUNoYW5nZXNNYXAsIFwidG8gZWxlbWVudHNcIiwgZWxlbWVudHMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlQ2hhbmdlc01hcCkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdFN0eWxlU2hlZXQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHN0eWxlU2hlZXQgPSB3aW5kb3cudG9wLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICBzdHlsZVNoZWV0LnJlbCA9IFwic3R5bGVzaGVldFwiO1xuICBzdHlsZVNoZWV0LnR5cGUgPSBcInRleHQvY3NzXCI7XG4gIHN0eWxlU2hlZXQuaHJlZiA9IFNUWUxFU0hFRVRfTE9DQVRJT047XG4gIHdpbmRvdy50b3AuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVNoZWV0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlQWN0aW9ucyA9IGFzeW5jIChpZGVudGlmaWVyLCBhY3Rpb25zVG9QcmVwYXJlLCBidXNpbmVzc1J1bGVJZCkgPT4ge1xuICBjb25zdCBhY3Rpb25zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhY3Rpb25zVG9QcmVwYXJlKSk7XG4gIGxldCB2YXJpYW50ID0gbnVsbDtcbiAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgIGNvbnN0IHtidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMsIHZhcmlhbnRzfSA9IGFjdGlvbjtcbiAgICBpZiAoIWJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucyAmJiAhdmFyaWFudHMpIGNvbnRpbnVlO1xuICAgIGlmIChidXNpbmVzc1J1bGVJZCAmJiBidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgIGZvciAoY29uc3QgYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbiBvZiBidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgaWYgKGJ1c2luZXNzVHJhbnNmb3JtYXRpb24uaWQgPT09IGJ1c2luZXNzUnVsZUlkKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gXCJpZFwiKSB7XG4gICAgICAgICAgICAgIGFjdGlvbltrZXldID0gYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbltrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodmFyaWFudHMpIHtcbiAgICAgIGZvciAoY29uc3QgdmFyaWFudEtleSBvZiBPYmplY3Qua2V5cyh2YXJpYW50cykpIHtcbiAgICAgICAgY29uc3QgcmFuZG9tUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyB2YXJpYW50S2V5KTtcbiAgICAgICAgaWYgKHJhbmRvbVBjdCA8IGFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQpIHtcbiAgICAgICAgICB2YXJpYW50ID0gdmFyaWFudEtleTtcbiAgICAgICAgICBpZiAoYnVzaW5lc3NSdWxlSWQgJiYgdmFyaWFudHNbdmFyaWFudEtleV0uYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJ1c2luZXNzVHJhbnNmb3JtYXRpb24gb2YgdmFyaWFudHNbdmFyaWFudEtleV0uYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgICAgICAgIGlmIChidXNpbmVzc1RyYW5zZm9ybWF0aW9uLmlkID09IGJ1c2luZXNzUnVsZUlkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiaWRcIikgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBhY3Rpb25ba2V5XSA9IGJ1c2luZXNzVHJhbnNmb3JtYXRpb25ba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFyaWFudHNbdmFyaWFudEtleV0pIHtcbiAgICAgICAgICAgICAgaWYgKGtleSAhPT0gXCJ3ZWlnaHRcIiAmJiBrZXkgIT09IFwiYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zXCIpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25ba2V5XSA9IHZhcmlhbnRzW3ZhcmlhbnRLZXldW2tleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFthY3Rpb25zLCB2YXJpYW50XTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcyA9ICgpID0+IHtcbiAgY29uc3Qge1BBR0VfVklFV1MsIFBPUFVQX0RJU1BMQVlfRkxBRywgU0VTU0lPTl9JRCwgU0VTU0lPTl9USU1FU1RBTVAsIFNFU1NJT05fSElTVE9SWX0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCBwYWdlVmlld3MgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBBR0VfVklFV1MpO1xuICBjb25zdCBwb3B1cERpc3BsYXlGbGFnID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcpO1xuICBjb25zdCBzZXNzaW9uSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fSUQpO1xuICBjb25zdCBzZXNzaW9uVGltZXN0YW1wID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1RJTUVTVEFNUCk7XG4gIGNvbnN0IHNlc3Npb25IaXN0b3J5ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX0hJU1RPUlkpO1xuXG4gIGlmICghcGFnZVZpZXdzKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQQUdFX1ZJRVdTLCAxKTtcbiAgfSBlbHNlIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBBR0VfVklFV1MsIHBhcnNlSW50KHBhZ2VWaWV3cykgKyAxKTtcbiAgfVxuICBpZiAocG9wdXBEaXNwbGF5RmxhZyA9PT0gbnVsbCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHLCAwKTtcbiAgfVxuICBpZiAoIXNlc3Npb25JZCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9JRCwgY3J5cHRvLnJhbmRvbVVVSUQoKSk7XG4gIH1cbiAgaWYgKCFzZXNzaW9uVGltZXN0YW1wKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX1RJTUVTVEFNUCwgRGF0ZS5ub3coKSk7XG4gIH1cbiAgaWYgKCFzZXNzaW9uSGlzdG9yeSkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9ISVNUT1JZLCBbd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXSk7XG4gIH0gZWxzZSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0hJU1RPUlksIFt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsIHNlc3Npb25IaXN0b3J5XSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjb25kaXRpb25DaGVja2VyID0gKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBpZiAoY29uZGl0aW9uID09PSBcIm5vdEV4aXN0XCIpIHtcbiAgICBpZiAoIXJ1blRpbWVWYWx1ZSkge1xuICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBleGlzdFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHJ1blRpbWVWYWx1ZSA9PT0gbnVsbCB8fFxuICAgIHJ1blRpbWVWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgY29uZGl0aW9uID09PSBudWxsIHx8XG4gICAgY29uZGl0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogcnVuVGltZVZhbHVlIG9yIGNvbmRpdGlvbiBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3dpdGNoIChjb25kaXRpb24pIHtcbiAgICBjYXNlIFwiZXhpc3RcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBleGlzdFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiaW5jbHVkZXNcIjpcbiAgICBjYXNlIFwiY29udGFpbnNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGNvbnRhaW5zIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGNvbnRhaW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcIm5vdEluY2x1ZGVzXCI6XG4gICAgY2FzZSBcIm5vdENvbnRhaW5zXCI6XG4gICAgICBpZiAoIXJ1blRpbWVWYWx1ZS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBjb250YWlucyB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZXF1YWxcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGVxdWFscyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90RXF1YWxcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGVxdWFsIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGVxdWFscyB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZ3JlYXRlclRoYW5cIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPiB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGdyZWF0ZXIgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibGVzc1RoYW5cIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPCB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBsZXNzIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZ3JlYXRlckVxdWFsc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBncmVhdGVyIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibGVzc0VxdWFsc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA8PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGxlc3Mgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiYmV0d2VlblwiOiB7XG4gICAgICBsZXQgW21pbiwgbWF4XSA9IHZhbHVlLnNwbGl0KFwiLFwiKTtcbiAgICAgIG1pbiA9IHBhcnNlSW50KG1pbik7XG4gICAgICBtYXggPSBwYXJzZUludChtYXgpO1xuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+PSBtaW4gJiYgcnVuVGltZVZhbHVlIDw9IG1heCkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjYXNlIFwicmVnZXhcIjoge1xuICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHZhbHVlLCBcImlcIik7XG4gICAgICByZXR1cm4gcmVnZXgudGVzdChydW5UaW1lVmFsdWUpO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IGNvbmRpdGlvbiBpcyBub3QgZGVmaW5lZCBcIiwgY29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldERlYnVnTW9kZSA9ICgpID0+IHtcbiAgY29uc3Qge05EX0RFQlVHX01PREUsIE9VVF9PRl9TQ09QRX0gPSBMT0NBTF9TVE9SQUdFX0tFWVM7XG4gIGNvbnN0IHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MVwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShORF9ERUJVR19NT0RFLCAxKTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oT1VUX09GX1NDT1BFLCB0cnVlKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCBcIm9uXCIpO1xuICAgIHJldHVybiAxO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTJcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTkRfREVCVUdfTU9ERSwgMik7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE9VVF9PRl9TQ09QRSwgdHJ1ZSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvblwiKTtcbiAgICByZXR1cm4gMjtcbiAgfVxuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0wXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKE5EX0RFQlVHX01PREUpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIFwib2ZmXCIpO1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IGN1cnJlbnQgPSBwYXJzZUludCh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTkRfREVCVUdfTU9ERSkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCAoY3VycmVudCA/IFwib25cIiA6IFwib2ZmXCIpKTtcbiAgcmV0dXJuIChjdXJyZW50IHx8IDApO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldElkZW50aWZpZXIgPSBhc3luYyAoY29va2llTmFtZSA9IENPT0tJRV9OQU1FKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lEKTtcbiAgICBpZiAoaWQpIHJlc29sdmUoaWQpO1xuICAgIGlkID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIod2luZG93LnRvcC5kb2N1bWVudC5jb29raWUsIGNvb2tpZU5hbWUpO1xuICAgIGlmIChpZCkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lELCBpZCk7XG4gICAgICByZXNvbHZlKGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcih3aW5kb3cudG9wLmRvY3VtZW50LmNvb2tpZSwgY29va2llTmFtZSk7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCk7XG4gICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lELCBpZCk7XG4gICAgICAgICAgcmVzb2x2ZShpZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQ291bGQgbm90IGV4dHJhY3QgY29va2llIGlkZW50aWZpZXJcIikpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxheSA9IChtcykgPT4gbmV3IFByb21pc2UoKHJlcykgPT4gc2V0VGltZW91dChyZXMsIG1zKSk7XG5cbmV4cG9ydCBjb25zdCBpc1NlbmRCZWFjb25TdXBwb3J0ZWQgPSAoKSA9PiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbiAmJiB0eXBlb2YgbmF2aWdhdG9yLnNlbmRCZWFjb24gPT09IFwiZnVuY3Rpb25cIjtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdERlbGl2ZXJ5RGF0ZSA9IChkYXRlKSA9PiB7XG4gIGlmICghZGF0ZSB8fCB0eXBlb2YgZGF0ZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIGRhdGU7XG5cbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIHN0YXJ0TW9udGhJbmRleDogdW5kZWZpbmVkLFxuICAgIGVuZE1vbnRoSW5kZXg6IHVuZGVmaW5lZCxcbiAgICBzdGFydERheTogdW5kZWZpbmVkLFxuICAgIGVuZERheTogdW5kZWZpbmVkLFxuICB9O1xuXG4gIGxldCBtYXRjaCA9IGRhdGUubWF0Y2goXCIoW1xcXFxkXSspLShbXFxcXGRdKylcXFxccz8oW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnMWeXSspXCIpO1xuICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID09PSA0KSB7XG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5lbmREYXkgPSBwYXJzZUludChtYXRjaFsyXSk7XG4gICAgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFszXS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IHJlc3VsdC5zdGFydE1vbnRoSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgbWF0Y2ggPSBkYXRlLm1hdGNoKFwiKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcxZ5dKyktKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcxZ5dKylcIik7XG4gICAgaWYgKCFtYXRjaCB8fCBtYXRjaC5sZW5ndGggIT09IDUpIHJldHVybiBkYXRlO1xuXG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5zdGFydE1vbnRoSW5kZXggPSBtb250aHNbbWF0Y2hbMl0udG9Mb3dlckNhc2UoKV07XG4gICAgcmVzdWx0LmVuZERheSA9IHBhcnNlSW50KG1hdGNoWzNdKTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFs0XS50b0xvd2VyQ2FzZSgpXTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKCFyZXN1bHQuc3RhcnRNb250aEluZGV4IHx8ICFyZXN1bHQuZW5kTW9udGhJbmRleCkgcmV0dXJuIGRhdGU7XG5cbiAgICBjb25zdCBzdGFydFllYXIgPSByZXN1bHQuc3RhcnRNb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG4gICAgY29uc3QgZW5kWWVhciA9IHJlc3VsdC5lbmRNb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG5cbiAgICBjb25zdCBlc3RpbWF0ZWRTdGFydCA9IG5ldyBEYXRlKHN0YXJ0WWVhciwgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCwgcmVzdWx0LnN0YXJ0RGF5KTtcbiAgICBjb25zdCBlc3RpbWF0ZWRFbmQgPSBuZXcgRGF0ZShlbmRZZWFyLCByZXN1bHQuZW5kTW9udGhJbmRleCwgcmVzdWx0LmVuZERheSk7XG5cblxuICAgIGNvbnN0IHN0YXJ0RGlmZk92ZXJEYXlzID0gTWF0aC5jZWlsKE1hdGguYWJzKGVzdGltYXRlZFN0YXJ0IC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbiAgICBjb25zdCBlbmREaWZmT3ZlckRheXMgPSBNYXRoLmNlaWwoTWF0aC5hYnMoZXN0aW1hdGVkRW5kIC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcblxuICAgIGNvbnN0IHN0YXJ0RGlmZk92ZXJXZWVrcyA9IHN0YXJ0RGlmZk92ZXJEYXlzIDwgNyA/IDAgOiBNYXRoLmNlaWwoc3RhcnREaWZmT3ZlckRheXMgLyA3KTtcbiAgICBjb25zdCBlbmREaWZmT3ZlcldlZWtzID0gZW5kRGlmZk92ZXJEYXlzIDwgNyA/IDAgOiBNYXRoLmNlaWwoZW5kRGlmZk92ZXJEYXlzIC8gNyk7XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSAwICYmIGVuZERpZmZPdmVyV2Vla3MgPT09IDApIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyRGF5c30gLSAke2VuZERpZmZPdmVyRGF5c30gR8O8bmA7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gMCAmJiBlbmREaWZmT3ZlcldlZWtzID49IDEpIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyRGF5c30gR8O8biAtICR7ZW5kRGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICAgIH1cblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IGVuZERpZmZPdmVyV2Vla3MpIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyV2Vla3N9IEhhZnRhYDtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlcldlZWtzfSAtICR7ZW5kRGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlkbGVUaW1lciA9IGFzeW5jICh0aW1lT3V0LCBjYWxsQmFjaykgPT4ge1xuICBsZXQgaWRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxCYWNrLCB0aW1lT3V0KTtcblxuICB3aW5kb3cudG9wLmRvY3VtZW50Lm9udG91Y2hzdGFydCA9IHJlc2V0VGltZXI7XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHtcbiAgICBjbGVhclRpbWVvdXQoaWRsZVRpbWVvdXQpO1xuICAgIGlkbGVUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsQmFjaywgdGltZU91dCk7XG4gIH1cbn07XG4iLCJpbXBvcnQge0xPR19BUElfVVJMfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NyZWF0ZUhhc2hTdHJpbmcsIGlzU2VuZEJlYWNvblN1cHBvcnRlZH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuZXhwb3J0IGNsYXNzIE1vbml0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IE1vbml0b3JcIik7XG4gICAgdGhpcy5sb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIG1vbml0b3JcIik7XG5cbiAgICB0aGlzLmFwcGxpZWRUcmVhdG1lbnRzSGFzaCA9IG51bGw7XG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPSBmYWxzZTtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gbnVsbDtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gZmFsc2U7XG4gICAgdGhpcy5oZWFkZXJzID0ge1xuICAgICAgdHlwZTogXCJ0ZXh0L3BsYWluXCIsXG4gICAgfTtcbiAgICB0aGlzLmlzTG9nZ2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLmluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGFzeW5jIHNlbmRMb2dzKG1lc3NhZ2UgPSBudWxsLCBpc0Vycm9yID0gZmFsc2UpIHtcbiAgICBjb25zdCB7bG9nZ2VyfSA9IHRoaXM7XG4gICAgbG9nZ2VyLmxvZyhcIlNlbmRpbmcgbG9nc1wiKTtcblxuICAgIGlmICh3aW5kb3cudG9wLmRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwiY29tcGxldGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIkRvY3VtZW50IHJlYWR5IHN0YXRlIGlzIG5vdCBjb21wbGV0ZVwiKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJJbiBvbmxvYWQgZXZlbnRcIik7XG4gICAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEobWVzc2FnZSksIGlzRXJyb3IpO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEobWVzc2FnZSksIGlzRXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGhhbmRsZVF1ZXVlTG9ncyhyZXF1ZXN0QmxvYiwgaXNFcnJvciA9IGZhbHNlKSB7XG4gICAgaWYgKCFpc0Vycm9yICYmIHRoaXMuaXNMb2dnZWQpIHJldHVybjtcbiAgICBjb25zdCB7bG9nZ2VyfSA9IHRoaXM7XG5cbiAgICBpZiAoIXJlcXVlc3RCbG9iKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGNyZWF0ZSByZXF1ZXN0IGJsb2JcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJSZXF1ZXN0IGJsb2IgdG8gc2VuZDogXCIsIHJlcXVlc3RCbG9iKTtcbiAgICB0aGlzLnF1ZXVlTG9ncyhyZXF1ZXN0QmxvYik7XG5cbiAgICB0aGlzLmlzTG9nZ2VkID0gdHJ1ZTtcbiAgICB0aGlzLmFwcGxpZWRUcmVhdG1lbnRzSGFzaCA9IGF3YWl0IGNyZWF0ZUhhc2hTdHJpbmcoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYSksXG4gICAgKTtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5lKSxcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlTGF0ZXN0Q2hhbmdlcygpIHtcbiAgICBjb25zdCBhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5hKSxcbiAgICApO1xuICAgIGNvbnN0IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCA9IGF3YWl0IGNyZWF0ZUhhc2hTdHJpbmcoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuZSksXG4gICAgKTtcblxuICAgIGlmIChhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoICE9PSB0aGlzLmFwcGxpZWRUcmVhdG1lbnRzSGFzaCkge1xuICAgICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPSB0cnVlO1xuICAgICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoO1xuICAgIH1cbiAgICBpZiAoZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoICE9PSB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoKSB7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2g7XG4gICAgfVxuICB9XG5cbiAgcGFja2FnZUxvZ0RhdGEobWVzc2FnZSA9IG51bGwpIHtcbiAgICBjb25zdCB7aGVhZGVyc30gPSB0aGlzO1xuICAgIGNvbnN0IGJvZHkgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyKSkge1xuICAgICAgaWYgKCFrZXkuc3RhcnRzV2l0aChcIl9cIikpIGJvZHlba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICBib2R5LnQgPSBEYXRlLm5vdygpO1xuICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICBib2R5Lm0gPSBtZXNzYWdlO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMoYm9keS5hIHx8IHt9KS5sZW5ndGggPiAwKSB7XG4gICAgICBib2R5Lm0gPSBcIlRyZWF0bWVudHMgYXBwbGllZFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBib2R5Lm0gPSBcIk5vIHRyZWF0bWVudHMgYXBwbGllZFwiO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBwYWNrYWdlVXBkYXRlTG9nRGF0YSgpIHtcbiAgICBjb25zdCB7aGVhZGVycywgYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzLCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlc30gPSB0aGlzO1xuICAgIGlmICghYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzICYmICFlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcykgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICB0OiBEYXRlLm5vdygpLFxuICAgICAgYTogYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID8gd2luZG93LmJlYWdsZUluZm9MYXllci5hIDoge30sXG4gICAgICBlOiBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA/IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuZSA6IHt9LFxuICAgICAgdklkOiB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLnZJZCxcbiAgICB9O1xuICAgIHJldHVybiBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoYm9keSldLCBoZWFkZXJzKTtcbiAgfVxuXG4gIGluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxldCBpc0V4aXRFdmVudENhcHR1cmVkID0gZmFsc2U7XG4gICAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBleGl0IGV2ZW50IGxpc3RlbmVyXCIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImJlZm9yZXVubG9hZFwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBiZWZvcmV1bmxvYWQgZXZlbnRcIik7XG4gICAgICAgICAgY29uc3QgbG9nRGF0YSA9IHRoaXMucGFja2FnZVVwZGF0ZUxvZ0RhdGEoKTtcbiAgICAgICAgICBpZiAoIWxvZ0RhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJObyBjaGFuZ2VzIHRvIGxvZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5xdWV1ZUxvZ3MobG9nRGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIHtjYXB0dXJlOiB0cnVlfSxcbiAgICApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcInBhZ2VoaWRlXCIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuaXNMb2dnZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0V4aXRFdmVudENhcHR1cmVkKSByZXR1cm47XG4gICAgICAgICAgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluIHBhZ2VoaWRlIGV2ZW50XCIpO1xuICAgICAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLnBhY2thZ2VVcGRhdGVMb2dEYXRhKCk7XG4gICAgICAgICAgaWYgKCFsb2dEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gY2hhbmdlcyB0byBsb2dcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7Y2FwdHVyZTogdHJ1ZX0sXG4gICAgKTtcbiAgfVxuXG4gIHF1ZXVlTG9ncyhsb2dEYXRhKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuXG4gICAgaWYgKCFpc1NlbmRCZWFjb25TdXBwb3J0ZWQoKSkge1xuICAgICAgZmV0Y2goTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgY29uc3QgcXVldWVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICghcXVldWVkKSBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3MgcXVldWVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIH1cbiAgICB9LCAxMCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHF1ZXVlSW50ZXJ2YWwpO1xuICAgICAgaWYgKCFxdWV1ZWQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3Mgbm90IHF1ZXVlZFwiKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb25pdG9yO1xuIiwiZXhwb3J0IGNvbnN0IHJlcGxhY2VBbGwgPSAoc3RyLCBmaW5kLCByZXBsYWNlID0gXCJcIikgPT4ge1xuICBpZiAoIXN0cikgcmV0dXJuIFwiXCI7XG5cbiAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihmaW5kKTtcbiAgaWYgKGluZGV4IDwgMCkgcmV0dXJuIHN0cjtcblxuICB3aGlsZSAoc3RyLmluZGV4T2YoZmluZCkgPj0gMCkge1xuICAgIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZmluZCk7XG4gICAgc3RyID0gKGluZGV4ID4gMCA/IHN0ci5zdWJzdHJpbmcoMCwgaW5kZXgpIDogXCJcIikgKyByZXBsYWNlICsgc3RyLnN1YnN0cmluZyhpbmRleCArIGZpbmQubGVuZ3RoKTtcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRGF0YUxheWVyIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0RhdGFMYXllclJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IGRhdGFMYXllckZpbmRlcihvcGVyYXRvcik7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGF0YUxheWVyRmluZGVyID0gKGtleSkgPT4ge1xuICBsb2dnZXIubG9nKFwiU2VhcmNoaW5nIGJlYWdsZUluZm9MYXllciBmb3Iga2V5IFwiLCBrZXkpO1xuICBsZXQgcmVzID0gd2luZG93LmJlYWdsZUluZm9MYXllcltrZXldO1xuICBpZiAoa2V5LmluY2x1ZGVzKFwiLlwiKSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KFwiLlwiKTtcbiAgICAgIHJlcyA9IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXJba2V5c1swXV07XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzID0gcmVzW2tleXNbaV1dO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChgQ291bGRuJ3QgZXh0cmFjdCBrZXkgJHtrZXl9IGZyb20gYmVhZ2xlSW5mb0xheWVyYCk7XG4gICAgICByZXMgPSBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAocmVzKSB7XG4gICAgbG9nZ2VyLnN1Y2Nlc3MoYEZvdW5kIGtleSAke2tleX0gd2l0aCB2YWx1ZSAke3Jlc31gKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGxvZ2dlci5mYWlsZWQoYEtleSAke2tleX0gbm90IGZvdW5kIGluIGJlYWdsZUluZm9MYXllcmApO1xuXG4gIGxvZ2dlci5sb2coXCJTZWFyY2hpbmcgZGF0YUxheWVyIGZvciBrZXkgXCIsIGtleSk7XG4gIGZvciAoY29uc3Qgb2JqIG9mIHdpbmRvdy5kYXRhTGF5ZXIpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBpZiAoa2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICBsb2dnZXIuc3VjY2VzcyhgRm91bmQga2V5ICR7a2V5fSB3aXRoIHZhbHVlICR7b2JqW2tleV19YCk7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfVxuICB9XG4gIGxvZ2dlci5mYWlsZWQoYEtleSAke2tleX0gbm90IGZvdW5kIGluIGRhdGFMYXllcmApO1xuICByZXR1cm4gbnVsbDtcbn07XG4iLCJpbXBvcnQge2RhdGFMYXllckZpbmRlcn0gZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCB7cmVwbGFjZUFsbH0gZnJvbSBcIi4uL3N0cmluZ1V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIlJlcGxhY2VVdGlsc1wiKTtcblxuY29uc3QgcmVwbGFjZXIgPSAodmFsdWUsIHJlcGxhY2VGbiwgcHJvZHVjdEluZm8pID0+IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgdmFsdWUuZm9yRWFjaCgodmFsLCBpKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50UmVwbGFjZUZuID0gcmVwbGFjZUZuID8gcmVwbGFjZUZuW2ldIHx8IHJlcGxhY2VGbiA6IFwiXCI7XG4gICAgICB2YWx1ZVtpXSA9IHJlcGxhY2VGbkV4ZWN1dG9yKGN1cnJlbnRSZXBsYWNlRm4sIHZhbCwgcHJvZHVjdEluZm8pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVwbGFjZUZuKSkge1xuICAgIHJlcGxhY2VGbi5mb3JFYWNoKChyRm4sIGkpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgckZuID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IHJlcGxhY2VWYWwgPSByZXBsYWNlT2JqZWN0RXh0cmFjdG9yKHJGbik7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlLCBwcm9kdWN0SW5mbywgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlLCBwcm9kdWN0SW5mbyk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuZnVuY3Rpb24gcmVwbGFjZUZuRXhlY3V0b3IocmVwbGFjZUZuLCB2YWx1ZSwgcHJvZHVjdEluZm8sIHNpbmdsZSA9IGZhbHNlKSB7XG4gIGlmIChyZXBsYWNlRm4gJiYgdmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSkge1xuICAgIGxvZ2dlci5sb2coXCJFeGVjdXRpbmcgcmVwbGFjZSBmdW5jdGlvbjogXCIsIHJlcGxhY2VGbik7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIGRhdGFMYXllckZpbmRlcixcbiAgICAgIHByb2R1Y3RJbmZvLFxuICAgIH07XG4gICAgY29uc3QgcmVwbGFjZUZ1bmN0aW9uID0gRnVuY3Rpb24ocmVwbGFjZUZuKS5iaW5kKGNvbnRleHQpO1xuICAgIGlmIChzaW5nbGUpIHJldHVybiB2YWx1ZS5yZXBsYWNlKFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZUZ1bmN0aW9uKCkpO1xuICAgIHJldHVybiByZXBsYWNlQWxsKHZhbHVlLCBcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VGdW5jdGlvbigpKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VPYmplY3RFeHRyYWN0b3IocmVwbGFjZUZuKSB7XG4gIGNvbnN0IHtzdG9yYWdlLCBrZXksIHR5cGV9ID0gcmVwbGFjZUZuO1xuICBsZXQgcmVwbGFjZVZhbCA9IG51bGw7XG4gIHN3aXRjaCAoc3RvcmFnZSkge1xuICAgIGNhc2UgXCJzZXNzaW9uXCI6IHtcbiAgICAgIHJlcGxhY2VWYWwgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXBsYWNlVmFsID0gSlNPTi5wYXJzZShyZXBsYWNlVmFsKTtcbiAgICAgICAgICByZXBsYWNlVmFsID0gcmVwbGFjZVZhbFtyZXBsYWNlVmFsLmxlbmd0aCAtIDFdW3R5cGVdO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKGBDb3VsZCBub3QgcGFyc2UgJHtyZXBsYWNlVmFsfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHJlcGxhY2VWYWw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlcGxhY2VyO1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkFjdGlvbkNvbmRpdGlvblV0aWxzXCIpO1xuXG5jb25zdCBjaGVja0FjdGlvbkNvbmRpdGlvbiA9IChjb25kaXRpb24sIHByb2R1Y3RJbmZvKSA9PiB7XG4gIGNvbnN0IHthdHRyaWJ1dGUsIGlubmVyX2NvbmRpdGlvbiwgb3BlcmF0b3IsIHNlbGVjdG9yLCB0eXBlLCB2YWx1ZX0gPSBjb25kaXRpb247XG4gIGxvZ2dlci5sb2coXCJBY3Rpb24gY29uZGl0aW9uIGZvdW5kOiBcIiwgY29uZGl0aW9uKTtcbiAgY29uc3QgZWxpZ2libGVFbGVtZW50cyA9IFtdO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwicHJvZHVjdEluZm9Mb29rdXBcIjoge1xuICAgICAgY29uc3QgY29uZGl0aW9uRWxlbWVudHMgPSBBcnJheS5mcm9tKHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNvbmRpdGlvbkVsZW1lbnRzKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRTa3UgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBwcm9kdWN0SW5mbz8uW2VsZW1lbnRTa3VdPy5jYXRhbG9nPy5bb3BlcmF0b3JdO1xuICAgICAgICBpZiAoIXJ1blRpbWVWYWx1ZSkgY29udGludWU7XG4gICAgICAgIGlmICghY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGlubmVyX2NvbmRpdGlvbiwgdmFsdWUpKSBjb250aW51ZTtcbiAgICAgICAgZWxpZ2libGVFbGVtZW50cy5wdXNoKCQoZWxlbWVudCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbGlnaWJsZUVsZW1lbnRzO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2hlY2tBY3Rpb25Db25kaXRpb247XG4iLCJpbXBvcnQge3N0eWxlQXBwbGljYXRvciwgZGVsYXksIGlkbGVUaW1lcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge3JlcGxhY2VBbGx9IGZyb20gXCIuLi9zdHJpbmdVdGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUlksIFNFU1NJT05fU1RPUkFHRV9LRVlTLCBJRExFX1RJTUVPVVR9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCByZXBsYWNlciBmcm9tIFwiLi9yZXBsYWNlLXV0aWxzXCI7XG5pbXBvcnQgY2hlY2tBY3Rpb25Db25kaXRpb24gZnJvbSBcIi4vYWN0aW9uLWNvbmRpdGlvbi11dGlsXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuYXN5bmMgZnVuY3Rpb24gYXBwbHlBY3Rpb25zKGFjdGlvbnMsIGJpbmRpbmdzKSB7XG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEFwcGx5IEFjdGlvbnNcIik7XG4gIGNvbnN0IHtQT1BVUF9ESVNQTEFZX0ZMQUd9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gIGNvbnN0IHtwcm9kdWN0SW5mb30gPSBiaW5kaW5ncztcblxuICBjb25zdCB0cmFuc2Zvcm1lciA9IGZ1bmN0aW9uIHRyYW5zZm9ybWVyKGFjdGlvbiwgZWxlbWVudCA9IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgYWN0aW9uOiBcIiwgSlNPTi5zdHJpbmdpZnkoYWN0aW9uKSk7XG4gICAgY29uc3Qge1xuICAgICAgb3BlcmF0b3IsXG4gICAgICB0eXBlLFxuICAgICAgYXBwbHlFdmVudCxcbiAgICAgIGNvbnRlbnRTZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3JGYWxsYmFjayxcbiAgICAgIG1kQ29uZGl0aW9uLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8xLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8yLFxuICAgICAgcmVwbGFjZUZuLFxuICAgICAgcFR5cGUsXG4gICAgfSA9IGFjdGlvbjtcbiAgICBpZiAob3BlcmF0b3IgPT09IFwibm9vcFwiKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiTm9vcCBPcGVyYXRvcjogTm8gb3BlcmF0aW9uIGlzIGFwcGxpZWQgb24gdGFyZ2V0IFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHt2YWx1ZX0gPSBhY3Rpb247XG4gICAgLy8gSWYgYW4gZWxlbWVudCBpcyBwYXNzZWQgdG8gdHJhbnNmb3JtZXIsIHNlbGVjdG9yIGlzIHJlbGF0aXZlIHRvIHBhc3NlZCBlbGVtZW50XG4gICAgZWxlbWVudCA9IGVsZW1lbnQgPyBlbGVtZW50LmZpbmQoc2VsZWN0b3IpIDogJChzZWxlY3Rvcik7XG5cbiAgICBjb25zdCBtYyA9IG1kQ29uZGl0aW9uID8gd2luZG93Lm1hdGNoTWVkaWEobWRDb25kaXRpb24pLm1hdGNoZXMgOiB0cnVlO1xuICAgIGlmICghbWMpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJNZWRpYSBjb25kaXRpb24gbWlzbWF0Y2g6IFwiLCBtZENvbmRpdGlvbik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIChtb3ZlX3NlbGVjdG9yXzEgJiYgIW1vdmVfc2VsZWN0b3JfMikgfHxcbiAgICAgIChtb3ZlX3NlbGVjdG9yXzIgJiYgIW1vdmVfc2VsZWN0b3JfMSlcbiAgICApIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJCb3RoIG1vdmUgc2VsZWN0b3JzIGFyZSByZXF1aXJlZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG1vdmVfc2VsZWN0b3JfMSAmJiBtb3ZlX3NlbGVjdG9yXzIpIHtcbiAgICAgIGlmICghJChtb3ZlX3NlbGVjdG9yXzEpLmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiTW92ZSBzZWxlY3RvciAxIG5vdCBmb3VuZDogXCIsIG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghJChtb3ZlX3NlbGVjdG9yXzIpLmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiTW92ZSBzZWxlY3RvciAyIG5vdCBmb3VuZDogXCIsIG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCEkKHNlbGVjdG9yRmFsbGJhY2spLmxlbmd0aCAmJiBvcGVyYXRvciA9PT0gXCJyZW1vdmVcIikgcmV0dXJuO1xuICAgICAgICBpZiAoc2VsZWN0b3IgIT09IFwibm8tc2VsZWN0b3JcIikge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJTZWxlY3RvciBub3QgZm91bmQ6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlRyeWluZyBmYWxsYmFjayBzZWxlY3RvcjogXCIsIHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmIChzZWxlY3RvckZhbGxiYWNrKSBlbGVtZW50ID0gJChzZWxlY3RvckZhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiRmFsbGJhY2sgc2VsZWN0b3Igbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXBsYWNlRm4pIHtcbiAgICAgIHZhbHVlID0gcmVwbGFjZXIodmFsdWUsIHJlcGxhY2VGbiwgcHJvZHVjdEluZm8pO1xuICAgIH1cbiAgICBpZiAob3BlcmF0b3IgPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVtb3Zpbmc6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9IGVsc2UgbG9nZ2VyLmxvZyhcIkNhbm5vdCBmb3VuZCBlbGVtZW50IHdpdGggc2VsZWN0b3I6IFwiLCBzZWxlY3Rvcik7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJpbnNlcnRcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJiZWZvcmVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW5zZXJ0aW5nIGJlZm9yZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICBpZiAoU3RyaW5nKHZhbHVlKS5pbmNsdWRlcyhcIm5kLWFkZC10by13aW5cIikpIHtcbiAgICAgICAgICAgICQoXCIubmQtYWRkLXRvLXdpblwiKS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5iZWZvcmUodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW5zZXJ0aW5nIGFmdGVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXBwZW5kXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGVuZGluZyB2YWx1ZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmFwcGVuZCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtb2RhbFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVsZW1lbnQub2ZmKFwiY2xpY2tcIik7XG4gICAgICAgICAgICBjcmVhdGVQb3B1cCh2YWx1ZSwgY29udGVudFNlbGVjdG9yKTtcbiAgICAgICAgICAgIGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgIC8vZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgZGlzcGxheU1vZGFsKCk7XG4gICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3B1cFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRykpICE9PSAwKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJQb3B1cCBhbHJlYWR5IGRpc3BsYXllZCBpbiBzZXNzaW9uXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDcmVhdGluZyBQb3B1cDogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChwVHlwZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IGdldFByb2R1Y3RJbmZvKHByb2R1Y3RJbmZvLCBwVHlwZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlYXRlUG9wdXAodmFsdWUsIGNvbnRlbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImV4aXRJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBleGl0IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGNoZWNrIGlmIG5lZWRlZCAtLT4gZXhpdFNjcm9sbExpc3RlbmVyKGRpc3BsYXlQb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBkaXNwbGF5UG9wdXApO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghd2luZG93LmJlYWdsZUluZm9MYXllcj8uci5pbmNsdWRlcyh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyPy5kKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5oaXN0b3J5ICYmIHR5cGVvZiB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoXCJ0ZW1wXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cudG9wLmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBkaXNwbGF5UG9wdXAsIHtvbmNlOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lcihJRExFX1RJTUVPVVQsIGRpc3BsYXlQb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNvcHlJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBjb3B5IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGFwcGVuZCBwb3B1cCB0byBib2R5IGFmdGVyIHRpbWVvdXQgZXhwaXJlc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoYFR5cGU6ICR7dHlwZX0gbm90IGZvdW5kIGZvciBvcGVyYXRvcjogJHtvcGVyYXRvcn1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImVkaXRcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkVkaXRpbmcgdGV4dDogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LnRleHQodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIGh0bWw6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlQXBwbGljYXRvclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlQ2hhbmdlc01hcCA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlN0eWxlIENoYW5nZXMgTWFwOiBcIiwgc3R5bGVDaGFuZ2VzTWFwKTtcbiAgICAgICAgICAgIHN0eWxlQXBwbGljYXRvcihlbGVtZW50LCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZENsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgYWRkZGluZyBjbGFzcyB0byAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZW1vdmVDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYHJlbW92ZSBjbGFzcyBmcm9tICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRvY3VtZW50VGl0bGVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBjaGFuZ2luZyBkb2N1bWVudCB0aXRsZSBmcm9tICR7ZWxlbWVudH0gdG8gJHt2YWx1ZX1gKTtcbiAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmIChldmVudCA9PSBcInRhYkNoYW5nZVwiKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcImNhdGNoaW5nIGV2ZW50IHRhYmNoYW5nZS4uXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGl0bGUgPSB3aW5kb3cudG9wLmRvY3VtZW50LnRpdGxlO1xuICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgKGUpID0+XG4gICAgICAgICAgICAgICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGUsIHZhbHVlLCBvcmlnaW5hbFRpdGxlKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJVbmtub3duIGVkaXQgdHlwZTogXCIsIHR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwic2V0YXR0cmlidXRlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTZXR0aW5nIGF0dHJpYnV0ZTogXCIsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgc3dpdGNoIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgY2FzZSBcInNyY1wiOlxuICAgICAgICAgIGVsZW1lbnQuY3NzKFwiY29udGVudFwiLCBgdXJsKCR7dmFsdWUudHJpbSgpfSlgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHkgPSB2YWx1ZS5zcGxpdChcIjpcIilbMF0udHJpbSgpO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgIGNvbnN0IHByb3BlcnR5VmFsdWUgPSB2YWx1ZS5zcGxpdChcIjpcIilbMV0udHJpbSgpO1xuXG4gICAgICAgICAgZWxlbWVudC5jc3MocHJvcGVydHksIHByb3BlcnR5VmFsdWUsIFwiIWltcG9ydGFudFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInJlcGxhY2VcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZzogXCIsIHZhbHVlKTtcbiAgICAgIGVsZW1lbnQucmVwbGFjZUFsbCh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzd2FwXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTd2FwcGluZzogXCIsIG1vdmVfc2VsZWN0b3JfMSwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIGNvbnN0IG4xID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBuMiA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc3dhcE5vZGVzKG4xLCBuMik7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJpbmplY3RzY3JpcHRcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIkluamVjdGluZyBzY3JpcHQ6IFwiLCB2YWx1ZSk7XG4gICAgICBlbGVtZW50LmFwcGVuZChgPHNjcmlwdD4ke3ZhbHVlfTwvc2NyaXB0PmApO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwibW92ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKGBNb3ZpbmcgJHttb3ZlX3NlbGVjdG9yXzF9IHRvICR7bW92ZV9zZWxlY3Rvcl8yfWApO1xuICAgICAgY29uc3Qgc291cmNlID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBkZXN0aW5hdGlvbiA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc291cmNlLnJlbW92ZSgpO1xuICAgICAgZGVzdGluYXRpb24ucHJlcGVuZChzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicHJvZHVjdEluZm9Mb29rdXBcIikge1xuICAgICAgY29uc3QgcmVzID0gZ2V0UHJvZHVjdEluZm8ocHJvZHVjdEluZm8sIHBUeXBlLCB2YWx1ZSk7XG4gICAgICBlbGVtZW50LmJlZm9yZShyZXMpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwidGV4dC10cmFuc2Zvcm1cIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJjYXBpdGFsaXplXCI6IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgQXJyYXkuZnJvbShlbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKGUuaW5uZXJUZXh0Py5pbmNsdWRlcyhcIlxcblwiKSkge1xuICAgICAgICAgICAgICBlLmlubmVyVGV4dCA9IGUuaW5uZXJUZXh0LnRvTG93ZXJDYXNlKCkuc3BsaXQoXCJcXG5cIikubWFwKChzZW50ZW5jZSkgPT5cbiAgICAgICAgICAgICAgICBzZW50ZW5jZS5zcGxpdChcIiBcIikubWFwKCh3b3JkKSA9PiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKSkuam9pbihcIiBcIiksXG4gICAgICAgICAgICAgICkuam9pbihcIlxcblwiKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLmlubmVyVGV4dCA9IGUuaW5uZXJUZXh0Py50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAgICAgICAgIC5tYXAoKHdvcmQpID0+IHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiIFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIk5vIHN1Y2ggb3BlcmF0b3IgZXhpc3RzIHlldFwiLCBvcGVyYXRvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlcGxhY2VXaXRoVmFsID0gKHZhbHVlLCBodG1sU3RyKSA9PiB7XG4gICAgaWYgKHZhbHVlICYmIGh0bWxTdHIuaW5jbHVkZXMoXCJ7e1JFUExBQ0VfUFJPRFVDVElORk99fVwiKSkge1xuICAgICAgaHRtbFN0ciA9IHJlcGxhY2VBbGwoaHRtbFN0ciwgXCJ7e1JFUExBQ0VfUFJPRFVDVElORk99fVwiLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBodG1sU3RyO1xuICB9O1xuICBjb25zdCBnZXRQcm9kdWN0SW5mbyA9IChwcm9kdWN0SW5mbywgdHlwZSwgdmFsdWUpID0+IHtcbiAgICAvLyBnZXQga2V5cyBvZiBwcm9kdWN0SW5mb1xuICAgIGNvbnN0IHNrdUxpc3QgPSBPYmplY3Qua2V5cyhwcm9kdWN0SW5mbyk7XG4gICAgbGV0IHJlcyA9IG51bGw7XG4gICAgaWYgKCFza3VMaXN0IHx8IHNrdUxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm8gc2t1IGZvdW5kXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnRTa3UgPSBza3VMaXN0WzBdO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInRyYW5zYWN0aW9uSW4yV2Vla3NcIjoge1xuICAgICAgICByZXMgPSByZXBsYWNlV2l0aFZhbChwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLnRyYW5zYWN0aW9uSW4yV2Vla3M/LnRvU3RyaW5nKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIixcIiksIHZhbHVlKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZyB0cmFuc2NhdGlvbkluMldlZWtzIFwiLCBwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLnRyYW5zYWN0aW9uSW4yV2Vla3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhZGRUb0NhcnRJbjJXZWVrc1wiOiB7XG4gICAgICAgIHJlcyA9IHJlcGxhY2VXaXRoVmFsKHByb2R1Y3RJbmZvW2VsZW1lbnRTa3VdLmNhdGFsb2cuYWRkVG9DYXJ0SW4yV2Vla3M/LnRvU3RyaW5nKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIixcIiksIHZhbHVlKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZyBBZGRUb0NhcnRDb3VudCBcIiwgcHJvZHVjdEluZm9bZWxlbWVudFNrdV0uY2F0YWxvZy5hZGRUb0NhcnRJbjJXZWVrcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInByb2R1Y3RWaWV3Q291bnRcIjoge1xuICAgICAgICByZXMgPSByZXBsYWNlV2l0aFZhbChwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLnByb2R1Y3RWaWV3Q291bnQ/LnRvU3RyaW5nKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIixcIiksIHZhbHVlKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZyBwcm9kdWN0Vmlld0NvdW50IGZvclwiLCBwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLnByb2R1Y3RWaWV3Q291bnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJubyBzdWNoIHR5cGUgZm91bmQgZm9yIHByb2R1Y3RJbmZvTG9va3VwIG9wZXJhdG9yOiBcIisgdHlwZSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH07XG4gIGNvbnN0IGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UgPSBhc3luYyAoZXZlbnQsIHRpdGxlcywgb3JpZ2luYWxUaXRsZSkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZFRpdGxlcyA9ICFBcnJheS5pc0FycmF5KHRpdGxlcykgPyBbdGl0bGVzXSA6IHRpdGxlcztcbiAgICBmb3IgKGNvbnN0IHBhcnNlZFRpdGxlIG9mIHBhcnNlZFRpdGxlcykge1xuICAgICAgaWYgKHdpbmRvdy50b3AuZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQudGl0bGUgPSBwYXJzZWRUaXRsZTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMjAwMCk7XG4gICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgICBhd2FpdCBkZWxheSgyMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXdpbmRvdy50b3AuZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICB3aW5kb3cudG9wLmRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZShldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUG9wdXBDbGljayA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZXZlbnQudGFyZ2V0LmlkO1xuICAgIGlmIChpZCAmJiBpZCA9PT0gXCJuZC1wb3B1cF9fd3JhcHBlclwiKSB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXlQb3B1cCA9ICgpID0+IHtcbiAgICBpZiAod2luZG93LnRvcC5kb2N1bWVudC5oaWRkZW4pIHJldHVybjtcbiAgICBpZiAocGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcpKSA+IDApIHJldHVybjtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRywgMSk7XG4gICAgY29uc3QgcVBvcHVwID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dydC1zaGFkb3ctaG9zdFwiKTtcbiAgICBpZiAocVBvcHVwKSBxUG9wdXAuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJub25lXCI7XG4gICAgd2luZG93LnRvcC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5kLXBvcHVwX193cmFwcGVyXCIpLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwiYmxvY2tcIjtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG5cbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG4gICAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuICAgIHdpbmRvdy50b3AucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgZGlzcGxheVBvcHVwKTtcbiAgICB3aW5kb3cudG9wLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9LCAxNTAwMCk7XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheU1vZGFsID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cudG9wLmRvY3VtZW50LmhpZGRlbikgcmV0dXJuO1xuICAgIGNvbnN0IHFQb3B1cCA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNncnQtc2hhZG93LWhvc3RcIik7XG4gICAgaWYgKHFQb3B1cCkgcVBvcHVwLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwibm9uZVwiO1xuICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKS5zdHlsZVtcImRpc3BsYXlcIl0gPSBcImJsb2NrXCI7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlUG9wdXAgPSAodmFsdWUsIGNvbnRlbnRTZWxlY3RvcikgPT4ge1xuICAgIC8vIENyZWF0ZSBwb3B1cCB3cmFwcGVyXG4gICAgY29uc3QgcG9wdXBXcmFwcGVyID0gd2luZG93LnRvcC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgcG9wdXBXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKTtcbiAgICBwb3B1cFdyYXBwZXIuaWQgPSBcIm5kLXBvcHVwX193cmFwcGVyXCI7XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbiA9IHdpbmRvdy50b3AuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBwb3B1cENsb3NlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJuZC1wb3B1cF9fYnV0dG9uLWNsb3NlXCIpO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uaW5uZXJUZXh0ID0gXCJYXCI7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfTtcblxuICAgIGlmIChjb250ZW50U2VsZWN0b3IpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRzID0gQXJyYXkuZnJvbSh3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29udGVudFNlbGVjdG9yKSk7XG4gICAgICB3aGlsZSAodmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSAmJiBjb250ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIGNvbnRlbnRzLnNoaWZ0KCkuc3JjKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgZnJvbSBhY3Rpb24gYW5kIGFwcGVuZCBjbG9zZSBidXR0b25cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHdpbmRvdy50b3AuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlLnRyaW0oKTtcbiAgICBjb25zdCBwb3B1cCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICBwb3B1cC5hcHBlbmRDaGlsZChwb3B1cENsb3NlQnV0dG9uKTtcbiAgICBwb3B1cFdyYXBwZXIuYXBwZW5kQ2hpbGQocG9wdXApO1xuXG4gICAgLy8gUmVtb3ZlIG9sZCBwb3B1cCBpZiBleGlzdHMgYmVmb3JlIGFwcGVuZGluZyBuZXcgb25lXG4gICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocG9wdXBXcmFwcGVyKTtcbiAgfTtcblxuICBjb25zdCBzd2FwTm9kZXMgPSBmdW5jdGlvbiBzd2FwTm9kZXMobjEsIG4yKSB7XG4gICAgY29uc3QgcDEgPSBuMS5wYXJlbnROb2RlO1xuICAgIGNvbnN0IHAyID0gbjIucGFyZW50Tm9kZTtcbiAgICBsZXQgaTE7XG4gICAgbGV0IGkyO1xuXG4gICAgaWYgKCFwMSB8fCAhcDIgfHwgcDEuaXNFcXVhbE5vZGUobjIpIHx8IHAyLmlzRXF1YWxOb2RlKG4xKSkgcmV0dXJuO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAxLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4xKSkge1xuICAgICAgICBpMSA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDIuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMi5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMikpIHtcbiAgICAgICAgaTIgPSBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwMS5pc0VxdWFsTm9kZShwMikgJiYgaTEgPCBpMikge1xuICAgICAgaTIrKztcbiAgICB9XG4gICAgcDEuaW5zZXJ0QmVmb3JlKG4yLCBwMS5jaGlsZHJlbltpMV0pO1xuICAgIHAyLmluc2VydEJlZm9yZShuMSwgcDIuY2hpbGRyZW5baTJdKTtcbiAgfTtcblxuICBjb25zdCBhY3Rpb25BcHBsaWNhdG9yID0gKGFjdGlvbnMpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGFjdGlvbkFwcGxpY2F0b3IoYWN0aW9ucyk7XG4gICAgICB9LCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgaWYgKGFjdGlvbi5jb25kaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGVsaWdpYmxlRWxlbWVudHMgPSBjaGVja0FjdGlvbkNvbmRpdGlvbihhY3Rpb24uY29uZGl0aW9uLCBwcm9kdWN0SW5mbyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxpZ2libGVFbGVtZW50cykge1xuICAgICAgICAgICAgICByZXN1bHQgPSB0cmFuc2Zvcm1lcihhY3Rpb24sIGVsZW1lbnQpO1xuICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSByZXN1bHQgPSB0cmFuc2Zvcm1lcihhY3Rpb24pO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKGBDb3VsZG4ndCBhcHBseSBhY3Rpb24gJHthY3Rpb259IHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEFwcGx5IGFjdGlvbnNcbiAgcmV0dXJuIGFjdGlvbkFwcGxpY2F0b3IoYWN0aW9ucyk7XG59XG5leHBvcnQgZGVmYXVsdCBhcHBseUFjdGlvbnM7XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTLCBMT0NBTF9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IENvdW50ZXIgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrQ291bnRlclJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwicGFnZVZpZXdcIjpcbiAgICAgIHJldHVybiBwYWdlVmlld0hhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcIkNBQmFza2V0UHJpY2VcIjpcbiAgICAgIHJldHVybiBjYUJhc2tldFByaWNlSGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmZhaWxlZChcIk5vIHN1Y2ggb3BlcmF0b3JcIiwgb3BlcmF0b3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5jb25zdCBnZXRDb3VudGVyID0gKGNvdW50ZXIsIHR5cGUpID0+IHtcbiAgdHJ5IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGNvdW50ZXIpO1xuICAgICAgY2FzZSBcImxvY2FsXCI6XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjb3VudGVyKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJObyBzdWNoIHR5cGVcIiwgdHlwZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChgQ291bGQgbm90IGdldCBjb3VudGVyICR7Y291bnRlcn1gLCBlcnIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBwYWdlVmlld0hhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBwYWdlVmlld3MgPSBwYXJzZUludChnZXRDb3VudGVyKFNFU1NJT05fU1RPUkFHRV9LRVlTLlBBR0VfVklFV1MsIFwic2Vzc2lvblwiKSk7XG4gIGxvZ2dlci5sb2coXCJQYWdlIHZpZXdzIGNvdW50ZXIgdmFsdWU6IFwiLCBwYWdlVmlld3MpO1xuICBpZiAocGFnZVZpZXdzID09PSBudWxsKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIlBhZ2V2aWV3cyBjb3VudGVyIG5vdCBmb3VuZCBpbiBzZXNzaW9uIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHBhZ2VWaWV3cywgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgY2FCYXNrZXRQcmljZUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjYUJhc2tldFByaWNlID0gcGFyc2VJbnQoXG4gICAgICBnZXRDb3VudGVyKExPQ0FMX1NUT1JBR0VfS0VZUy5DT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIFwibG9jYWxcIikpO1xuICBsb2dnZXIubG9nKFwiQ291cG9uIGFwcGxpY2FibGUgYmFza2V0IHByaWNlIGNvdW50ZXIgdmFsdWU6IFwiLCBjYUJhc2tldFByaWNlKTtcbiAgaWYgKGNhQmFza2V0UHJpY2UgPT09IG51bGwpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291cG9uIGFwcGxpY2FibGUgYmFza2V0IHByaWNlIGNvdW50ZXIgbm90IGZvdW5kIGluIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGNhQmFza2V0UHJpY2UsIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEVsZW1lbnQgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRWxlbWVudFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlLCBzZWxlY3Rvciwgc2VsZWN0b3JBbGwsIHNlbGVjdG9yRmFsbGJhY2sgPSBudWxsfSA9IHJ1bGU7XG4gIGxldCBtYWluU2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBtYWluU2VsZWN0b3IgPSBzZWxlY3RvckZhbGxiYWNrID8gc2VsZWN0b3JGYWxsYmFjayA6IG1haW5TZWxlY3RvcjtcbiAgfVxuXG4gIGlmIChvcGVyYXRvciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgfVxuICBpZiAobWFpblNlbGVjdG9yICYmICF3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJTZWxlY3RvciBub3QgZm91bmQgb24gcGFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNlbGVjdG9yQWxsICYmICF3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBlbGVtZW50O1xuICBpZiAobWFpblNlbGVjdG9yKSBlbGVtZW50ID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3Rvcik7XG4gIGVsc2UgaWYgKHNlbGVjdG9yQWxsKSBlbGVtZW50ID0gQXJyYXkuZnJvbSh3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInRleHQtbnVtYmVyXCI6IHtcbiAgICAgIGxldCB0ZW1wVmFsO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgICAgdGVtcFZhbCA9IGVsZW1lbnQucmVkdWNlKChyZXR1cm5WYWwsIGVsZW0pID0+IHtcbiAgICAgICAgICByZXR1cm5WYWwgKz0gcGFyc2VJbnQoZWxlbS50ZXh0Q29udGVudC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcFZhbCA9IHBhcnNlSW50KHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLnRleHRDb250ZW50XG4gICAgICAgICAgICAucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IHBhcnNlSW50KHRlbXBWYWwpO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcImNsYXNzTGlzdFwiOlxuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoQXJyYXkuZnJvbShlbGVtZW50LmNsYXNzTGlzdCksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJjb3VudFwiOiB7XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBBcnJheS5pc0FycmF5KGVsZW1lbnQpID8gZWxlbWVudC5sZW5ndGggOiBlbGVtZW50ID8gMSA6IDA7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwic3R5bGVcIjoge1xuICAgICAgY29uc3QgZWxlbWVudFN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICBjb25zdCBzdHlsZUtleSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICBjb25zdCBzdHlsZVZhbHVlID0gdmFsdWUuc3BsaXQoXCI6XCIpWzFdLnRyaW0oKTtcbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IGVsZW1lbnRTdHlsZXNbc3R5bGVLZXldO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHN0eWxlVmFsdWUpO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmZhaWxlZChcIk9wZXJhdG9yIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRnVuY3Rpb24gQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRnVuY3Rpb25SdWxlID0gKHJ1bGUsIG9wdHMpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtwcm9kdWN0SW5mb30gPSBvcHRzO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWUsIGJpbmRpbmdzfSA9IHJ1bGU7XG4gIGlmICghb3BlcmF0b3IpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiUnVsZSBmdW5jdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGNvbnRleHQgPSB7fTtcbiAgaWYgKGJpbmRpbmdzID09IFwicHJvZHVjdEluZm9cIikge1xuICAgIGNvbnRleHQgPSB7XG4gICAgICBwcm9kdWN0SW5mbyxcbiAgICB9O1xuICB9XG4gIGNvbnN0IHJ1bGVGdW5jdGlvbiA9IEZ1bmN0aW9uKG9wZXJhdG9yKS5iaW5kKGNvbnRleHQpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBydWxlRnVuY3Rpb24oKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBTZXNzaW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1Nlc3Npb25SdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICByZXR1cm4gZHVyYXRpb25IYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJoaXN0b3J5XCI6XG4gICAgICByZXR1cm4gaGlzdG9yeUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBnZXRTZXNzaW9uVGltZXN0YW1wID0gKCkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludCh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1RJTUVTVEFNUCkpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBnZXQgc2Vzc2lvbiB0aW1lc3RhbXBcIiwgZXJyKTtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxufTtcblxuY29uc3QgZHVyYXRpb25IYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgZHVyYXRpb24gPSAoRGF0ZS5ub3coKSAtIGdldFNlc3Npb25UaW1lc3RhbXAoKSkgLyAxMDAwO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkdXJhdGlvbiwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgaGlzdG9yeUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjdXJyZW50SGlzdG9yeSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSElTVE9SWSk/LnNwbGl0KFwiLFwiKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY3VycmVudEhpc3RvcnksIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFVybCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tVcmxSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwicGF0aFwiOiB7XG4gICAgICBjb25zdCByZXF1ZXN0VVJMPSB3aW5kb3cudG9wLmxvY2F0aW9uLmhyZWY7XG4gICAgICBjb25zdCBwYXRoID0gbmV3IFVSTChyZXF1ZXN0VVJMKS5wYXRobmFtZVxuICAgICAgbG9nZ2VyLmxvZyhgQ2hlY2tpbmcgcGF0aCAke3BhdGh9IG1hdGNoZXMgcnVsZSBwYXRoICR7dmFsdWV9YCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYXRoLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUll9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRW52IENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0VudlJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJkZXZpY2VfdHlwZVwiOiB7XG4gICAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcyA/IFwibW9iaWxlXCIgOiBcImRlc2t0b3BcIjtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKGlzTW9iaWxlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXIsIGRldGVybWluZVBjdCwgZ2V0SWRlbnRpZmllcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFJhbmRvbVBjdCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tSYW5kb21OdW1iZXJSdWxlID0gYXN5bmMgKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtjb25kaXRpb24sIHZhbHVlLCBzYWx0fSA9IHJ1bGU7XG4gIGlmICghc2FsdCkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJTYWx0IGlzIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBpZGVudGlmaWVyID0gYXdhaXQgZ2V0SWRlbnRpZmllcigpO1xuICBjb25zdCByYW5kb21QY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIHNhbHQpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSByYW5kb21QY3Q7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBQcm9kdWN0SW5mbyBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tQcm9kdWN0SW5mb1J1bGUgPSAocnVsZSwgb3B0cykgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGxldCBydW50aW1lVmFsdWUgPSBudWxsO1xuXG4gIGlmICghb3B0cz8uc2t1TGlzdCB8fCAhb3B0cz8uc2t1TGlzdC5sZW5ndGgpIHtcbiAgICBydW50aW1lVmFsdWUgPSAwO1xuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICAgIGNhc2UgXCJ0cmFuc2FjdGlvbkluMldlZWtzXCI6IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkdldHRpbmcgVHJhbnNhY3Rpb25Db3VudCBmb3Igc2t1IFwiLCBvcHRzLnNrdUxpc3RbMF0pO1xuICAgICAgICBydW50aW1lVmFsdWUgPSBnZXRUcmFuc2FjdGlvbkNvdW50KG9wdHMuc2t1TGlzdFswXSwgb3B0cy5wcm9kdWN0SW5mbyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImFkZFRvQ2FydEluMldlZWtzXCI6IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkdldHRpbmcgQWRkVG9DYXJ0Q291bnQgZm9yIHNrdSBcIiwgb3B0cy5za3VMaXN0WzBdKTtcbiAgICAgICAgcnVudGltZVZhbHVlID0gZ2V0QWRkVG9DYXJ0Q291bnQob3B0cy5za3VMaXN0WzBdLCBvcHRzLnByb2R1Y3RJbmZvKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwicHJvZHVjdFZpZXdDb3VudFwiOiB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJHZXR0aW5nIHByb2R1Y3RWaWV3Q291bnQgZm9yIHNrdSBcIiwgb3B0cy5za3VMaXN0WzBdKTtcbiAgICAgICAgcnVudGltZVZhbHVlID0gZ2V0UHJldmlld0NvdW50KG9wdHMuc2t1TGlzdFswXSwgb3B0cy5wcm9kdWN0SW5mbyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcblxuY29uc3QgZ2V0VHJhbnNhY3Rpb25Db3VudCA9IChza3UsIHByb2R1Y3RJbmZvKSA9PiB7XG4gIGlmIChza3UgJiYgcHJvZHVjdEluZm8gJiYgcHJvZHVjdEluZm9bc2t1XSkge1xuICAgIHJldHVybiBwcm9kdWN0SW5mb1tza3VdPy5jYXRhbG9nPy50cmFuc2FjdGlvbkluMldlZWtzO1xuICB9XG4gIHJldHVybiAtMTtcbn07XG5cbmNvbnN0IGdldEFkZFRvQ2FydENvdW50ID0gKHNrdSwgcHJvZHVjdEluZm8pID0+IHtcbiAgaWYgKHNrdSAmJiBwcm9kdWN0SW5mbyAmJiBwcm9kdWN0SW5mb1tza3VdKSB7XG4gICAgcmV0dXJuIHByb2R1Y3RJbmZvW3NrdV0/LmNhdGFsb2c/LmFkZFRvQ2FydEluMldlZWtzO1xuICB9XG4gIHJldHVybiAtMTtcbn07XG5cbmNvbnN0IGdldFByZXZpZXdDb3VudCA9IChza3UsIHByb2R1Y3RJbmZvKSA9PiB7XG4gIGlmIChza3UgJiYgcHJvZHVjdEluZm8gJiYgcHJvZHVjdEluZm9bc2t1XSkge1xuICAgIHJldHVybiBwcm9kdWN0SW5mb1tza3VdPy5jYXRhbG9nPy5wcm9kdWN0Vmlld0NvdW50O1xuICB9XG4gIHJldHVybiAtMTtcbn07XG4iLCJpbXBvcnQge2NoZWNrQ291bnRlclJ1bGV9IGZyb20gXCIuL2NvdW50ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRGF0YUxheWVyUnVsZX0gZnJvbSBcIi4vZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VsZW1lbnRSdWxlfSBmcm9tIFwiLi9lbGVtZW50Q2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0Z1bmN0aW9uUnVsZX0gZnJvbSBcIi4vZnVuY3Rpb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrU2Vzc2lvblJ1bGV9IGZyb20gXCIuL3Nlc3Npb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrVXJsUnVsZX0gZnJvbSBcIi4vdXJsQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VudlJ1bGV9IGZyb20gXCIuL2VudkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tSYW5kb21OdW1iZXJSdWxlfSBmcm9tIFwiLi9yYW5kb21OdW1iZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrUHJvZHVjdEluZm9SdWxlfSBmcm9tIFwiLi9wcm9kdWN0SW5mb0NoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgUnVsZSBFbmdpbmVcIik7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1bGVFbmdpbmUge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgY29uc3Qge2Jhc2VSdWxlU2V0LCBidXNpbmVzc1J1bGVTZXQsIGJpbmRpbmdzLCBjYWxsYmFjayA9IG51bGx9ID0gYm9keTtcbiAgICB0aGlzLmJhc2VSdWxlU2V0ID0gYmFzZVJ1bGVTZXQ7XG4gICAgdGhpcy5idXNpbmVzc1J1bGVTZXQgPSBidXNpbmVzc1J1bGVTZXQ7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuYmluZGluZ3MgPSBiaW5kaW5ncztcbiAgfVxuXG4gIGFzeW5jIGNoZWNrUnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuYmFzZVJ1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmICghcnVsZVNhdGlzZmllZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tCdXNpbmVzc1J1bGVzKCkge1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiB0aGlzLmJ1c2luZXNzUnVsZVNldCkge1xuICAgICAgY29uc3QgcnVsZVNhdGlzZmllZCA9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgaWYgKHJ1bGVTYXRpc2ZpZWQpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGUuYnVzaW5lc3NSdWxlSWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tSdWxlKHJ1bGUpIHtcbiAgICBjb25zdCB7Y2hhaW4sIGNoYWluX2NvbmRpdGlvbiwgdHlwZX0gPSBydWxlO1xuICAgIGxldCBydWxlU2F0aXNmaWVkID0gbnVsbDtcbiAgICAvLyBjaGVjayBydWxlXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwic2Vzc2lvblwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tTZXNzaW9uUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY291bnRlclwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tDb3VudGVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZWxlbWVudFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tFbGVtZW50UnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0YUxheWVyXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0RhdGFMYXllclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInVybFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tVcmxSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tGdW5jdGlvblJ1bGUocnVsZSwgdGhpcy5iaW5kaW5ncyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVudmlyb25tZW50XCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0VudlJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJhbmRvbVwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gYXdhaXQgY2hlY2tSYW5kb21OdW1iZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwcm9kdWN0SW5mb0xvb2t1cFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tQcm9kdWN0SW5mb1J1bGUocnVsZSwgdGhpcy5iaW5kaW5ncyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChgTm8gc3VjaCBydWxlIHR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGNoYWluKSB7XG4gICAgICBzd2l0Y2ggKGNoYWluX2NvbmRpdGlvbikge1xuICAgICAgICBjYXNlIFwiYW5kXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgJiYgYXdhaXQgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCB8fCBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4b3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAhPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIk5vIHN1Y2ggY2hhaW4gY29uZGl0aW9uXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZVNhdGlzZmllZDtcbiAgfVxufVxuIiwiaW1wb3J0IHthZGRUb0JlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IFJ1bGVFbmdpbmUgZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIlNlZ21lbnRhdGlvbkNvbXB1dGVyXCIpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29tcHV0ZVNlZ21lbnQodHJlYXRtZW50V2VpZ2h0cykge1xuICBsb2dnZXIubG9nKFwiRGV0ZXJtaW5pbmcgdXNlciBzZWdtZW50XCIpO1xuICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgT2JqZWN0LmtleXModHJlYXRtZW50V2VpZ2h0cykpIHtcbiAgICBjb25zdCBydWxlU2V0ID0gdHJlYXRtZW50V2VpZ2h0c1tzZWdtZW50XT8ucnVsZVNldDtcbiAgICBpZiAoIXJ1bGVTZXQpIGNvbnRpbnVlO1xuICAgIGNvbnN0IHNlZ21lbnRSdWxlRW5naW5lID0gbmV3IFJ1bGVFbmdpbmUoe2Jhc2VSdWxlU2V0OiBydWxlU2V0LCBidXNpbmVzc1J1bGVTZXQ6IFtdLCBiaW5kaW5nczogbnVsbH0pO1xuICAgIGlmIChhd2FpdCBzZWdtZW50UnVsZUVuZ2luZS5jaGVja1J1bGVzKCkpIHtcbiAgICAgIGxvZ2dlci5sb2coYFVzZXIgc2VnbWVudCBtYXRjaGVkOiAke3NlZ21lbnR9YCk7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNcIiwgc2VnbWVudCk7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gIH1cblxuICBsb2dnZXIubG9nKFwiVXNlciBzZWdtZW50IG5vdCBtYXRjaGVkLCByZXR1cm5pbmcgZGVmYXVsdFwiKTtcbiAgcmV0dXJuIFwiZGVmYXVsdFwiO1xufVxuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZUywgVFJFQVRNRU5UU19EVVJBVElPTn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtmZXRjaFRyZWF0bWVudHMsIGZldGNoVHJlYXRtZW50V2VpZ2h0c30gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge2NvbXB1dGVTZWdtZW50fSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyL3NlZ21lbnQtY29tcHV0ZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgVHJlYXRtZW50IFJlcG9zaXRvcnlcIik7XG5cbmNsYXNzIFRyZWF0bWVudFJlcG9zaXRvcnkge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgY29uc3Qge3RyZWF0bWVudHMsIHRyZWF0bWVudFdlaWdodHN9ID0gYm9keTtcbiAgICB0aGlzLnRyZWF0bWVudHMgPSB0cmVhdG1lbnRzO1xuXG4gICAgdGhpcy50cmVhdG1lbnRXZWlnaHRzID0gdHJlYXRtZW50V2VpZ2h0cztcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRzKCkge1xuICAgIGxvZ2dlci5sb2coXCJMb2FkaW5nIHRyZWF0bWVudHNcIik7XG4gICAgY29uc3Qge1RSRUFUTUVOVFN9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gICAgY29uc3QgdHJlYXRtZW50c09iaiA9IEpTT04ucGFyc2Uod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVFJFQVRNRU5UUykpO1xuICAgIGxldCB0cmVhdG1lbnRzID0gdHJlYXRtZW50c09iaj8udHJlYXRtZW50cztcbiAgICBjb25zdCB0aW1lc3RhbXAgPSB0cmVhdG1lbnRzT2JqPy50aW1lc3RhbXA7XG4gICAgaWYgKCF0cmVhdG1lbnRzIHx8ICF0aW1lc3RhbXApIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJUcmVhdG1lbnRzIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgICAgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoVHJlYXRtZW50cygpO1xuICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB0cmVhdG1lbnRzLFxuICAgICAgfTtcbiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICAgIH1cbiAgICBpZiAodGltZXN0YW1wKSB7XG4gICAgICBjb25zdCBlbGFwc2VkRGF5cyA9IChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvICgxMDAwICogMzYwMCAqIDI0KTtcbiAgICAgIGlmIChlbGFwc2VkRGF5cyA+IFRSRUFUTUVOVFNfRFVSQVRJT04pIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlRyZWF0bWVudHMgYXJlIGV4cGlyZWRcIik7XG4gICAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyLnN1Y2Nlc3MoXCJUcmVhdG1lbnRzIGFyZSBsb2FkZWQgZnJvbSBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFRyZWF0bWVudFdlaWdodHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBmZXRjaFRyZWF0bWVudFdlaWdodHMoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlci53YXJuKGVyci5tZXNzYWdlKTtcbiAgICAgIHRoaXMudHJlYXRtZW50V2VpZ2h0cyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0TWF0Y2hlZFRyZWF0bWVudHMoKSB7XG4gICAgY29uc3QgdHJlYXRtZW50V2VpZ2h0cyA9IHRoaXMudHJlYXRtZW50V2VpZ2h0cztcbiAgICBjb25zdCB1c2VyR3JvdXAgPSBhd2FpdCBjb21wdXRlU2VnbWVudCh0cmVhdG1lbnRXZWlnaHRzKTtcbiAgICBjb25zdCB0cmVhdG1lbnRzID0gdGhpcy50cmVhdG1lbnRzO1xuICAgIGlmICh0cmVhdG1lbnRXZWlnaHRzKSB7XG4gICAgICBjb25zdCB1c2VyR3JvdXBXZWlnaHRzID0gKHVzZXJHcm91cCAmJiB0cmVhdG1lbnRXZWlnaHRzW3VzZXJHcm91cF0pID9cbiAgICAgIHRyZWF0bWVudFdlaWdodHNbdXNlckdyb3VwXSA6IHRyZWF0bWVudFdlaWdodHNbXCJkZWZhdWx0XCJdO1xuICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgdHJlYXRtZW50cykge1xuICAgICAgICB0cmVhdG1lbnQud2VpZ2h0ID0gdXNlckdyb3VwV2VpZ2h0c1t0cmVhdG1lbnQ/LmlkXT8ud2VpZ2h0IHx8IDA7XG4gICAgICAgIGlmICghdHJlYXRtZW50LmFjdGlvbnMuc29tZSgoYSkgPT4gYS52YXJpYW50cykpIGNvbnRpbnVlO1xuICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0cmVhdG1lbnQuYWN0aW9ucykge1xuICAgICAgICAgIGlmICghYWN0aW9uLnZhcmlhbnRzKSBjb250aW51ZTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnRLZXkgb2YgT2JqZWN0LmtleXMoYWN0aW9uLnZhcmlhbnRzKSkge1xuICAgICAgICAgICAgaWYgKHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXT8udmFyaWFudHMgJiYgdXNlckdyb3VwV2VpZ2h0c1t0cmVhdG1lbnQuaWRdPy52YXJpYW50c1t2YXJpYW50S2V5XSkge1xuICAgICAgICAgICAgICBhY3Rpb24udmFyaWFudHNbdmFyaWFudEtleV0ud2VpZ2h0ID0gdXNlckdyb3VwV2VpZ2h0c1t0cmVhdG1lbnQuaWRdLnZhcmlhbnRzW3ZhcmlhbnRLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxvZ2dlci5sb2coYCR7dHJlYXRtZW50cy5sZW5ndGh9IHRyZWF0bWVudHMgdXNlciBncm91cCBtYXRjaGVkYCk7XG4gICAgaWYgKCF0cmVhdG1lbnRzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyZWF0bWVudFJlcG9zaXRvcnk7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBhcHBseUFjdGlvbnMgZnJvbSBcIi4uL05leHRkYXlBcHBseUFjdGlvbnMvaW5kZXhcIjtcbmltcG9ydCBUcmVhdG1lbnRSZXBvc2l0b3J5IGZyb20gXCIuLi9OZXh0ZGF5VHJlYXRtZW50UmVwb3NpdG9yeS9pbmRleFwiO1xuaW1wb3J0IFJ1bGVFbmdpbmUgZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lXCI7XG5pbXBvcnQge1xuICBjaGVja3BvaW50LFxuICBjaGVja3BvaW50cyxcbiAgYWRkVHJlYXRtZW50LFxuICBnZXRDcml0aWNhbEVsZW1lbnRzLFxuICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyLFxufSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBNT0JJTEVfTUVESUFfUVVFUlksXG4gIFRSRUFUTUVOVF9SQVRJTyxcbn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMsXG4gIGluamVjdFN0eWxlU2hlZXQsXG4gIHJlbW92ZURvY3VtZW50SGlkZSxcbiAgZGV0ZXJtaW5lUGN0LFxuICBwcmVwYXJlQWN0aW9ucyxcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZU9uQ29tcG9uZW50XCIpO1xuXG5jb25zdCBiZWFnbGVPbiA9IGFzeW5jIChpZGVudGlmaWVyLCBtb25pdG9yLCBkZWJ1Z01vZGUpID0+IHtcbiAgbW9uaXRvci5zZW5kTG9ncygpO1xuXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGxldCBkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyA9IG51bGw7XG5cbiAgaWYgKGRlYnVnTW9kZSAmJiBzZWFyY2hQYXJhbXMuaW5jbHVkZXMoXCJmaWx0ZXI9XCIpKSB7XG4gICAgZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgPSBzZWFyY2hQYXJhbXMuc2xpY2UoXG4gICAgICAgIHNlYXJjaFBhcmFtcy5pbmRleE9mKFwiW1wiKSArIDEsXG4gICAgICAgIHNlYXJjaFBhcmFtcy5sYXN0SW5kZXhPZihcIl1cIiksXG4gICAgKS5zcGxpdChcIixcIikubWFwKChpdGVtKSA9PiBwYXJzZUludChpdGVtLCAxMCkpO1xuICB9XG5cbiAgaW5qZWN0U3R5bGVTaGVldCgpO1xuICBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcygpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgfSwgMjAwMCk7XG4gIGNvbnN0IHRyZWF0bWVudHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRzKCk7XG4gIGNvbnN0IHRyZWF0bWVudFdlaWdodHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRXZWlnaHRzKCk7XG4gIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzO1xuICBjb25zdCBPQlNFUlZFUl9DT05GSUcgPSB7c3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfTtcblxuICBjb25zdCBbdHJlYXRtZW50cywgdHJlYXRtZW50V2VpZ2h0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbdHJlYXRtZW50c1Byb21pc2UsIHRyZWF0bWVudFdlaWdodHNQcm9taXNlXSk7XG5cbiAgbG9nZ2VyLnN1Y2Nlc3MoXCJGb3VuZCB0cmVhdG1lbnRzOiBcIiwgdHJlYXRtZW50cyk7XG5cbiAgY29uc3QgdHJlYXRtZW50UmVwb3NpdG9yeSA9IG5ldyBUcmVhdG1lbnRSZXBvc2l0b3J5KHtcbiAgICB0cmVhdG1lbnRzLFxuICAgIHRyZWF0bWVudFdlaWdodHMsXG4gIH0pO1xuICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRyZWF0bWVudFJlcG9zaXRvcnlDcmVhdGVkKTtcbiAgY29uc3QgbWF0Y2hlZFRyZWF0bWVudHMgPSBhd2FpdCB0cmVhdG1lbnRSZXBvc2l0b3J5LmdldE1hdGNoZWRUcmVhdG1lbnRzKCk7XG4gIGlmICghbWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIk5vIHRyZWF0bWVudHMgbWF0Y2hlZCwgcmV0dXJuaW5nIHdpdGhvdXQgZnVydGhlciBhY3Rpb25cIik7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlQXBwbHlUcmVhdG1lbnRzTWFwID0ge307XG4gIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIG1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkVycm9yIGV4ZWN1dGluZyBydWxlc1wiLCBlcnIpO1xuICAgIH1cbiAgfVxuICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgY2hlY2twb2ludChjaGVja3BvaW50cy5UcmVhdG1lbnRzQXBwbGllZCk7XG4gIGxvZ2dlci5zdWNjZXNzKFwiQXBwbGllZCB0cmVhdG1lbnRzOiBcIiwgd2luZG93LmJlYWdsZUluZm9MYXllci5hKTtcblxuICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgbW9uaXRvci51cGRhdGVMYXRlc3RDaGFuZ2VzKCk7XG4gIH0sIDEwMDApO1xuXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlQXBwbHlUcmVhdG1lbnRzTWFwKSkge1xuICAgIGNvbnN0IHRyZWF0bWVudElkcyA9IHJlQXBwbHlUcmVhdG1lbnRzTWFwW2tleV07XG4gICAgY29uc3QgcmVBcHBseVRyZWF0bWVudHMgPSBtYXRjaGVkVHJlYXRtZW50cy5maWx0ZXIoKHQpID0+IHRyZWF0bWVudElkcy5pbmNsdWRlcyh0LmlkKSk7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgXCJpbmZpbml0ZV9zY3JvbGxcIjoge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGluZmluaXRlX3Njcm9sbGApO1xuICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRpbWVvdXRcIjoge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHRpbWVvdXRgKTtcbiAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZWxlbWVudF9jaGFuZ2VcIjoge1xuICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgIGNvbnN0IHJlYXBwbHlTZWxlY3Rvckxpc3QgPSBBcnJheS5pc0FycmF5KHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yKSA/XG4gICAgICAgICAgICB0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvciA6IFt0cmVhdG1lbnQucmVhcHBseV9zZWxlY3Rvcl07XG4gICAgICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiByZWFwcGx5U2VsZWN0b3JMaXN0KSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGVsZW1lbnRfY2hhbmdlYCk7XG4gICAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm9uX3Njcm9sbFwiOiB7XG4gICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gb25fc2Nyb2xsYCk7XG4gICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInF1ZXJ5X3NlYXJjaF9jaGFuZ2VcIjoge1xuICAgICAgICBsZXQgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uc2VhcmNoICE9PSBxdWVyeVN0cmluZykge1xuICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHF1ZXJ5X3NlYXJjaF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgT0JTRVJWRVJfQ09ORklHKTtcbiAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiaW50ZXJ2YWxcIjpcbiAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICBjb25zdCByZWFwcGx5SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gaW50ZXJ2YWxgKTtcbiAgICAgICAgICAgIGF3YWl0IGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LmE/Llt0cmVhdG1lbnQuaWRdKSB7XG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVhcHBseUludGVydmFsKTtcbiAgICAgICAgICAgICAgcmVBcHBseVRyZWF0bWVudHNNYXAuaW50ZXJ2YWwgPSByZUFwcGx5VHJlYXRtZW50c01hcC5pbnRlcnZhbC5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gdHJlYXRtZW50LmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiUmVhcHBseSBldmVudCBub3QgZm91bmQ6IFwiLCBrZXkpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgY2hlY2twb2ludChjaGVja3BvaW50cy5SZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzKTtcblxuICBhc3luYyBmdW5jdGlvbiBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBhY3Rpb25zLFxuICAgICAgYmFzZVJ1bGVTZXQsXG4gICAgICBkZXZpY2UsXG4gICAgICBkZXBlbmRhbnRfb25fdHJlYXRtZW50LFxuICAgICAgcmVhcHBseV9ldmVudCxcbiAgICAgIHJlYXBwbHlfZXZlbnRfcGFnZV90eXBlLFxuICAgICAgYnVzaW5lc3NSdWxlU2V0LFxuICAgICAgd2VpZ2h0LFxuICAgICAgZGVsYXksXG4gICAgICBwcm9kdWN0SW5mb1N0b3JhZ2UsXG4gICAgfSA9IHRyZWF0bWVudDtcbiAgICBpZiAoZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgJiYgIWRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZGV2aWNlID09PSBcIm1vYmlsZVwiICYmICFpc01vYmlsZSkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIlRyZWF0bWVudCBkZXZpY2UgJ21vYmlsZScgbWlzbWF0Y2hcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChkZXZpY2UgPT09IFwiZGVza3RvcFwiICYmIGlzTW9iaWxlKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiVHJlYXRtZW50IGRldmljZSAnZGVza3RvcCcgbWlzbWF0Y2hcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZWFwcGx5X2V2ZW50KSB7XG4gICAgICBsZXQgcFR5cGU7XG4gICAgICBpZiAocmVhcHBseV9ldmVudF9wYWdlX3R5cGUpIHtcbiAgICAgICAgcFR5cGUgPSBhd2FpdCBnZXRDcml0aWNhbEVsZW1lbnRzKCk7XG4gICAgICAgIHBUeXBlID0gcFR5cGUuUGFnZVR5cGU7XG4gICAgICB9XG4gICAgICBpZiAoIXJlYXBwbHlfZXZlbnRfcGFnZV90eXBlIHx8IHJlYXBwbHlfZXZlbnRfcGFnZV90eXBlID09PSBwVHlwZSkge1xuICAgICAgICBsZXQgcmVhcHBseV9ldmVudF9hcnJheSA9IHJlYXBwbHlfZXZlbnQ7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWFwcGx5X2V2ZW50KSkgcmVhcHBseV9ldmVudF9hcnJheSA9IFtyZWFwcGx5X2V2ZW50XTtcbiAgICAgICAgbG9nZ2VyLmxvZyhgUmVhcHBseSBldmVudCAnJHtyZWFwcGx5X2V2ZW50fScgZm91bmQgZm9yIHRyZWF0bWVudDogJHtpZH1gKTtcbiAgICAgICAgZm9yIChjb25zdCByZWFwcGx5RXZlbnQgb2YgcmVhcHBseV9ldmVudF9hcnJheSkge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID9cbiAgICAgICAgICAgIHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gOiBbXTtcbiAgICAgICAgICBpZiAocHJldmlvdXNWYWx1ZS5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgYWxyZWFkeSBhZGRlZCBmb3IgcmVhcHBseSBldmVudFwiKTtcbiAgICAgICAgICB9IGVsc2UgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA9IFsuLi5wcmV2aW91c1ZhbHVlLCBpZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcHJvZHVjdEluZm87XG4gICAgaWYgKHByb2R1Y3RJbmZvU3RvcmFnZSAmJiBwcm9kdWN0SW5mb1N0b3JhZ2UgPT09IFwiYmFza2V0XCIpIHtcbiAgICAgIHByb2R1Y3RJbmZvID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9fU0tVc29uTGFzdEJhc2tldExvb2t1cFwiLCB0cnVlLCAxMCwgMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2R1Y3RJbmZvID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9fU0tVc29uUGFnZUxvb2t1cFwiLCB0cnVlLCAxMCwgMTAwMCk7XG4gICAgfVxuICAgIHByb2R1Y3RJbmZvID0gSlNPTi5wYXJzZShwcm9kdWN0SW5mbyk7XG5cbiAgICBjb25zdCBiaW5kaW5ncyA9IHtwcm9kdWN0SW5mb307XG4gICAgY29uc3QgcnVsZUVuZ2luZSA9IG5ldyBSdWxlRW5naW5lKHtiYXNlUnVsZVNldCwgYnVzaW5lc3NSdWxlU2V0LCBiaW5kaW5nc30pO1xuICAgIGxvZ2dlci5sb2coXCJTdGFydGluZyBiYXNlIHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgIGlmICghYmFzZVJ1bGVTZXQgfHwgYXdhaXQgcnVsZUVuZ2luZS5jaGVja1J1bGVzKCkpIHtcbiAgICAgIGxldCB0cmVhdG1lbnRTa2lwUmF0aW8gPSB3ZWlnaHQgPT09IDEwMCA/IDAgOiAoMTAwIC0gd2VpZ2h0IHx8IFRSRUFUTUVOVF9SQVRJTyk7XG4gICAgICBpZiAoZGVwZW5kYW50X29uX3RyZWF0bWVudCkge1xuICAgICAgICAvLyBJZiBkZXBlbmRhbnQgb24gdHJlYXRtZW50IGlzIGZvdW5kIGFuZCBoYXMgd2VpZ2h0OyB1c2UgaXRzIHNraXAgcmF0aW9cbiAgICAgICAgY29uc3QgZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHQgPSBtYXRjaGVkVHJlYXRtZW50cy5maW5kKCh0KSA9PiB0LmlkID09PSBkZXBlbmRhbnRfb25fdHJlYXRtZW50KT8ud2VpZ2h0O1xuICAgICAgICB0cmVhdG1lbnRTa2lwUmF0aW8gPSBkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCA9PT0gMTAwID8gMCA6ICgxMDAgLSBkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCB8fFxuICAgICAgICAgIFRSRUFUTUVOVF9SQVRJTyk7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IHNraXAgcmF0aW86IFwiICsgdHJlYXRtZW50U2tpcFJhdGlvKTtcbiAgICAgIC8vIERldGVybWluaW5nIGlkZW50aWZpZXIgZm9yIGNhbGN1bGF0aW5nIHRyZWF0bWVudCBwZXJjZW50YWdlICh0cmVhdG1lbnRQY3QpXG4gICAgICBjb25zdCBkZXRlcm1pbmluZ0lkZW50aWZpZXIgPSBkZXBlbmRhbnRfb25fdHJlYXRtZW50IHx8IGlkO1xuXG4gICAgICAvLyB0cmVhdG1lbnRQY3QgaXMgdGhlIHBlcmNlbnRhZ2UgdmFsdWUgZm9yIHRoZSB0cmVhdG1lbnQgdXNlZCB0byBkZXRlcm1pbmUgaWYgaXQgc2hvdWxkIGJlIHNraXBwZWQgb3Igbm90XG4gICAgICAvLyB0cmVhdG1lbnRQY3QgaXMgMTAwIHdoZW4gZGVidWcgbW9kZSBpcyAxLCBlbnN1cmluZyBubyB0cmVhdG1lbnRzIGFyZSBza2lwcGVkXG4gICAgICBjb25zdCB0cmVhdG1lbnRQY3QgPSBkZWJ1Z01vZGUgPT09IDEgPyAxMDAgOiBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIGRldGVybWluaW5nSWRlbnRpZmllcik7XG4gICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50UGN0OiBcIiArIHRyZWF0bWVudFBjdCArIGAgd2l0aCBkZWJ1ZyBtb2RlICR7ZGVidWdNb2RlID8gXCJvblwiIDogXCJvZmZcIn1gKTtcbiAgICAgIGxldCBidXNpbmVzc1J1bGVJZCA9IG51bGw7XG4gICAgICBpZiAoYnVzaW5lc3NSdWxlU2V0KSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJTdGFydGluZyBzdWIgdmFyaWFudCBydWxlIHNldCBjaGVjayBmb3IgdHJlYXRtZW50OiBcIiArIGlkKTtcbiAgICAgICAgYnVzaW5lc3NSdWxlSWQgPSBhd2FpdCBydWxlRW5naW5lLmNoZWNrQnVzaW5lc3NSdWxlcygpO1xuICAgICAgICBpZiAoYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgYnVzaW5lc3MgcnVsZSB0cmFuc2Zvcm1hdGlvbiB3aXRoIGlkOiBcIiwgYnVzaW5lc3NSdWxlSWQpO1xuICAgICAgICB9IGVsc2UgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHRyZWF0bWVudCB3aXRoIGRlZmF1bHQgdmFsdWVzXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHRyZWF0bWVudFBjdCA8IHRyZWF0bWVudFNraXBSYXRpbykge1xuICAgICAgICBsb2dnZXIubG9nKGBUcmVhdG1lbnQgJHtpZH0gc2tpcHBlZCBkdWUgdG8gdHJlYXRtZW50IHNwbGl0IHJhdGlvYCk7XG4gICAgICAgIGFkZFRyZWF0bWVudChpZCwgYnVzaW5lc3NSdWxlSWQsIHZhcmlhbnQsIFwic2tpcHBlZFwiLCBkZXBlbmRhbnRfb25fdHJlYXRtZW50KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW3ByZXBhcmVkLCB2YXJpYW50XSA9IGF3YWl0IHByZXBhcmVBY3Rpb25zKGlkZW50aWZpZXIsIGFjdGlvbnMsIGJ1c2luZXNzUnVsZUlkKTtcbiAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhcHBseUFjdGlvbnMocHJlcGFyZWQsIGJpbmRpbmdzKTtcbiAgICAgICAgaWYgKHJlcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBhZGRUcmVhdG1lbnQoaWQsIGJ1c2luZXNzUnVsZUlkLCB2YXJpYW50LCBcImZhaWxlZFwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgXCJhcHBsaWVkXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9LCBkZWxheSB8fCAwKTtcbiAgICB9IGVsc2UgbG9nZ2VyLmZhaWxlZChcIlJ1bGUgY2hlY2sgZmFpbGVkIGZvciB0cmVhdG1lbnQ6IFwiLCBpZCk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGJlYWdsZU9uO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgTW9uaXRvciBmcm9tIFwiLi4vTmV4dGRheU1vbml0b3IvaW5kZXhcIjtcbmltcG9ydCBiZWFnbGVPbiBmcm9tIFwiLi4vQmVhZ2xlT25cIjtcbmltcG9ydCB7XG4gIGNoZWNrcG9pbnQsXG4gIGNoZWNrcG9pbnRzLFxuICBhZGRUb0JlYWdsZUluZm9MYXllcixcbiAgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcixcbiAgZ2V0Q3JpdGljYWxFbGVtZW50cyxcbn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgU1BMSVRfUkFUSU8sXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIE1BWF9USU1FT1VUX1BFUl9TRVNTSU9OLFxufSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBnZXRJZGVudGlmaWVyLFxuICByZW1vdmVEb2N1bWVudEhpZGUsXG4gIGRldGVybWluZVBjdCxcbiAgZ2V0RGVidWdNb2RlLFxuICBpc1NlbmRCZWFjb25TdXBwb3J0ZWQsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuXG4oYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuQmVhZ2xlTG9hZGVkKTtcbiAgbGV0IG1vbml0b3IgPSBudWxsO1xuICAvLyBpc09uIGNhbiBiZSB0cnVlIChPTiksIGZhbHNlIChPRkYpLCBvciBudWxsIChERUJVRylcbiAgbGV0IGlzT24gPSBudWxsO1xuICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4gIGNvbnN0IHtUSU1FT1VUX0NPVU5UfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICBsZXQgdGltZW91dENvdW50ZXIgPSAwO1xuICBsb2dnZXIuaW5mbyhcIk5leHRkYXkgaW5pdGlhbGl6aW5nXCIpO1xuICB0cnkge1xuICAgIC8vIGFzbmMgc3RhcnQgaW5mb0xheWVyIHBvcHVsYXRpb25cbiAgICBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyKCk7XG5cbiAgICAvLyBjaGVjayBpZiBkZWJ1ZyBtb2RlIGlzIG9uLCBhbHNvIGFkZHMgZGJtIHRvIGJlYWdsZUluZm9MYXllclxuICAgIGNvbnN0IGRlYnVnTW9kZSA9IGdldERlYnVnTW9kZSgpO1xuICAgIG1vbml0b3IgPSBuZXcgTW9uaXRvcigpO1xuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuSW5pdGlhbGl6ZWQpO1xuXG4gICAgY29uc3QgaWRlbnRpZmllciA9IGF3YWl0IGdldElkZW50aWZpZXIoKTtcbiAgICBsb2dnZXIubG9nKFwiRm91bmQgY29va2llIGlkZW50aWZpZXI6IFwiLCBpZGVudGlmaWVyKTtcbiAgICBjb25zdCBjb29raWVQY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllcik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJvbkhhc2hQY3RcIiwgY29va2llUGN0KTtcbiAgICBpZiAoIWRlYnVnTW9kZSkge1xuICAgICAgLy8gaWYgY2Fubm90IHJlYWQgY29va2llIHRocm93IGVycm9yIGFuZCBzdG9wLCBvbmx5IGluIG5vbi1kZWJ1ZyBtb2RlXG4gICAgICBpZiAoY29va2llUGN0ID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGNvb2tpZSBwY3RcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIGRvIG5vdCBjb250aW51ZSBpZiBzZW5kQmVhY29uIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgIGlmICghaXNTZW5kQmVhY29uU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2VuZEJlYWNvbiBpcyBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgfVxuXG4gICAgICB0aW1lb3V0Q291bnRlciA9IHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVElNRU9VVF9DT1VOVCkpIHx8IDA7XG4gICAgICBpZiAodGltZW91dENvdW50ZXIgPiBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTikge1xuICAgICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV4dGRheSB0aW1lb3V0IHRocmVzaG9sZCByZWFjaGVkXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuaW5mbyhcIkRlYnVnIG1vZGUgb246IGFsbCBhcHBsaWNhYmxlIHRyZWF0bWVudHMgd2lsbCBiZSBhcHBsaWVkXCIpO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIH1cblxuICAgIC8vIGNvbGxlY3QgYWxsIGNyaXRpY2FsIGRhdGEgcGllY2VzIGJlZm9yZSBtb3Zpbmcgb24gdG8gY29udHJvbCBvciB0cmVhdG1lbnRcbiAgICBjb25zdCBjZWx0cyA9IGF3YWl0IGdldENyaXRpY2FsRWxlbWVudHMoKTtcblxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW4sIG1ha2luZyB0aGVtIG91dCBvZiBzY29wZVxuICAgIC8vIFRoaXMgbmVlZHMgdG8gd2FpdCBmb3IgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciB0byBzZXQgdGhlIHZ2c0lzU2hvd3Jvb20gdmFsdWVcbiAgICBjb25zdCBpc1Nob3dyb29tID0gY2VsdHMudnZzSXNTaG93cm9vbTtcblxuICAgIGlmICghd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmV4dERheS1oaWRlXCIpKSB7XG4gICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlNjcmlwdFRpbWVPdXQpO1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShUSU1FT1VUX0NPVU5ULCB0aW1lb3V0Q291bnRlciArIDEpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV4dGRheSBzY3JpcHQgdGltZWQgb3V0XCIpO1xuICAgIH1cblxuICAgIC8vIFZpdmVuc2Ugc3BlY2lmaWNcbiAgICBpZiAoaXNTaG93cm9vbSAmJiBpc1Nob3dyb29tID09PSBcInRydWVcIikge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBpcyBmcm9tIFZWUyBzaG93cm9vbS9jYWxsY2VudGVyXCIpO1xuICAgIH0gZWxzZSBpZiAoaXNTaG93cm9vbSA9PT0gbnVsbCB8fCBpc1Nob3dyb29tID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgaWYgdXNlciBpcyBmcm9tIFZWUyBzaG93cm9vbS9jYWxsY2VudGVyXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzT3V0T2ZTY29wZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuT1VUX09GX1NDT1BFKTtcbiAgICBpZiAoaXNPdXRPZlNjb3BlID09PSBcInRydWVcIikge1xuICAgICAgbG9nZ2VyLndhcm4oXCJVc2VyIGlzIG91dCBvZiBzY29wZVwiKTtcbiAgICAgIC8vIHNldCBpc09uIHRvIHRydWUvZmFsc2Ugd2hlbiBub3QgZGVidWdNb2RlIGJ1dCBvdXQgb2Ygc2NvcGUgaS5lLiBuZF9kZWJ1Zz0wIGZvciB0ZXN0YWJpbGl0eVxuICAgICAgaXNPbiA9IGRlYnVnTW9kZSA/IHRydWUgOiBjb29raWVQY3QgPj0gU1BMSVRfUkFUSU87XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIGdyZWF0ZXIgdGhhbiBTUExJVF9SQVRJTywgdGhlbiBpbiBPTiBtb2RlXG4gICAgICBpc09uID0gY29va2llUGN0ID49IFNQTElUX1JBVElPO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpc09uXCIsIGlzT24pO1xuICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG4gICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogaXNPbi50b1N0cmluZygpfSk7XG4gICAgICAvLyB3ZSBtYWRlIHRoZSBvbi1vZmYgZGVjaXNpb25cbiAgICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVXNlck9uT2ZmKTtcbiAgICB9XG5cbiAgICBpZiAoaXNPbiA9PT0gZmFsc2UpIHRocm93IG5ldyBFcnJvcihcIkNvbnRyb2wgZ3JvdXA6IG5vIHRyZWF0bWVudHMgYXBwbGllZFwiKTtcblxuICAgIGxvZ2dlci5sb2coXCJGb3VuZCBjb29raWUgcGVyY2VudGFnZTogXCIsIGNvb2tpZVBjdCk7XG4gICAgbG9nZ2VyLmxvZyhcIlNwbGl0X3JhdGlvOiBcIiwgU1BMSVRfUkFUSU8pO1xuICAgIGxvZ2dlci5sb2coXCJjb29raWVQY3QgPCBTUExJVF9SQVRJT1wiLCBjb29raWVQY3QgPCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmluZm8oYENvbnRyb2wgZ3JvdXAgcmF0aW86ICR7U1BMSVRfUkFUSU99JWApO1xuXG4gICAgLy8gVE9ETzogY2hlY2sgaWYgYmVhZ2xlSW5mb0xheWVyIGhhcyBjcml0aWNhbCBkYXRhXG4gICAgLy8gZ2V0IFBhZ2VUeXBlLCBpZiBzYWxlcyBnZXQgZ2FQdXJjaGFzZVJldmVudWUsIGdhUHVyY2hhc2VQYXlUeXBlIGV0Yy4gYnkgdXNpbmcgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIi4uLik7XG4gICAgLy8gb25jZSBtaW5pbWFsIGluZm8gaXMgdGhlcmUsIGRvIGxvZ2dpbmcgLi4uXG5cbiAgICAvLyBUT0RPOiBtb3ZlIHRvIGhlcmUgLS0+IG1vbml0b3Iuc2VuZExvZ3MoKTtcbiAgICBiZWFnbGVPbihpZGVudGlmaWVyLCBtb25pdG9yLCBkZWJ1Z01vZGUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICBsb2dnZXIud2FybihcIk5leHRkYXk6IFwiLCBlcnIubWVzc2FnZSk7XG4gICAgbW9uaXRvci5zZW5kTG9ncyhlcnIubWVzc2FnZSwgdHJ1ZSk7XG4gIH1cbn0pKCk7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInJ1bnRpbWUiLCJ1bmRlZmluZWQiLCJPcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIlN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZXJyIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwic2VsZiIsInRyeUxvY3NMaXN0IiwicHJvdG9HZW5lcmF0b3IiLCJHZW5lcmF0b3IiLCJnZW5lcmF0b3IiLCJjcmVhdGUiLCJjb250ZXh0IiwiQ29udGV4dCIsIl9pbnZva2UiLCJzdGF0ZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJtZXRob2QiLCJhcmciLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkVycm9yIiwiR2VuU3RhdGVDb21wbGV0ZWQiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJkb25lIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJmbiIsImNhbGwiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJ0aGlzIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VsdCIsIl9fYXdhaXQiLCJ0aGVuIiwidW53cmFwcGVkIiwiZXJyb3IiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsIlR5cGVFcnJvciIsImluZm8iLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJsb2NzIiwiZW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImxlbmd0aCIsImkiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJpdGVyIiwia2V5cyIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZ2V0IiwicHJvcCIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsIl9uZXh0IiwiX3Rocm93IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfdHlwZW9mIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiTE9HX0FQSV9VUkwiLCJNT0JJTEVfTUVESUFfUVVFUlkiLCJTUExJVF9SQVRJTyIsIklETEVfVElNRU9VVCIsIlNFU1NJT05fU1RPUkFHRV9LRVlTIiwiTE9DQUxfU1RPUkFHRV9LRVlTIiwiTG9nZ2VyIiwib3JpZ2luIiwiREVCVUciLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2VDb25maWciLCJhcmd1bWVudCIsIndhcm4iLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIm1pbkxlbiIsInRvU3RyaW5nIiwiZnJvbSIsInRlc3QiLCJfc2xpY2VkVG9BcnJheSIsImlzQXJyYXkiLCJfaSIsIl9zIiwiX2UiLCJfYXJyIiwiX24iLCJfZCIsIl90b0NvbnN1bWFibGVBcnJheSIsImxvZ2dlciIsInF1ZXJ5SW5Db2xsZWN0b3IiLCJiYXNlRmVhdHVyZU5hbWUiLCJxdWVyeU1ldGhvZCIsInVwZGF0ZUluQ29sbGVjdG9yIiwiYmFzZUZlYXR1cmVWYWx1ZSIsInVwZGF0ZU1ldGhvZCIsImJlYWdsZUluZm9MYXllciIsImNoZWNrcG9pbnRzIiwiZSIsImYiLCJCZWFnbGVMb2FkZWQiLCJJbml0aWFsaXplZCIsIlVzZXJPbk9mZiIsIlNjcmlwdFRpbWVPdXQiLCJUcmVhdG1lbnRSZXBvc2l0b3J5Q3JlYXRlZCIsIlRyZWF0bWVudHNBcHBsaWVkIiwiUmVhcHBseVRyZWF0bWVudExpc3RlbmVycyIsIlRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkIiwiY2hlY2twb2ludCIsImZpbmQiLCJpZCIsInRpbWUiLCJEYXRlIiwibm93IiwiYWRkVG9CZWFnbGVJbmZvTGF5ZXIiLCJpbmZvTGF5ZXIiLCJ0b3AiLCJpbmRleE9mIiwic3BsaXQiLCJsYXN0S2V5IiwidHJpbSIsImdldEZyb21CZWFnbGVJbmZvTGF5ZXIiLCJibG9ja2luZyIsInBvbGxJbnRlcnZhbCIsInRpbWVvdXQiLCJnZXRBbnlGcm9tQmVhZ2xlSW5mb0xheWVyIiwib2J0YWluRGF0YSIsImpzb25HZXQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJhZGRUcmVhdG1lbnQiLCJidXNpbmVzc1J1bGVJZCIsInZhcmlhbnQiLCJzdGF0dXMiLCJkZXBlbmRhbnRfb25fdHJlYXRtZW50IiwicGFyc2VTZWFyY2hQYXRoc0RlbGF5IiwicGFyc2VTZWFyY2hQYXRoc1JldHJ5IiwiaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciIsInByZXBhcmVDb3JlRGF0YSIsInBhcnNlckNhbGxlciIsInByb2Nlc3NUcmlnZ2VyIiwiYWRkTWV0cmljcyIsImNyaXRpY2FsRWxlbWVudHMiLCJnZXRDcml0aWNhbEVsZW1lbnRzIiwiY2VsdHMiLCJjcml0aWNhbEVsZW1lbnRzUHJvbWlzZXMiLCJtYXAiLCJlbGVtZW50IiwiYWxsIiwiaW5kZXgiLCJKU09OIiwic3RyaW5naWZ5IiwiZmVhdHVyZUVuZ2luZWVyaW5nVXBkYXRlcyIsImZlYXR1cmVFbmdpbmVlcmluZ1F1ZXJpZXMiLCJmZWF0dXJlTmFtZSIsInVwZGF0ZVJlbWFpbmluZ0hpc3RvcmljYWxEYXRhIiwicXVlcmllZEZlYXR1cmVOYW1lcyIsInF1ZXJ5RW50cnkiLCJpc1VwZGF0ZWQiLCJxdWVyeVJlc3BvbnNlIiwidXBkYXRlSGlzdG9yaWNhbERhdGFTY2FuIiwiRkVEYXRhIiwiRkVPcCIsInVwZGF0ZUhpc3RvcmljYWxEYXRhIiwiZmVhdHVyZUVuZ2luZWVyaW5nT3AiLCJzZWFyY2hQYXRocyIsIlBhZ2VUeXBlRGVwZW5kIiwic2VsZWN0b3IiLCJmb3JtYXR0ZXIiLCJ0cmlnZ2VyIiwib3BlcmFuZCIsImV4Y2x1c2l2ZSIsIm9ic2VydmVyIiwiY2hpbGRyZW4iLCJjdXJyZW50UGFnZVR5cGUiLCJzZXRJdGVtIiwic2Vzc2lvblN0b3JhZ2UiLCJsYXN0QmFza2V0UHJvZHVjdEluZm8iLCJwYXJzZSIsImNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlIiwic2t1TGlzdCIsIm5ld1NLVUxpc3QiLCJDT05DQVRTRVBFUkFUT1IiLCJza3UiLCJzb3J0IiwibmV3U0tVTGlzdFN0ciIsImpvaW4iLCJwcmV2U0tVTGlzdCIsInByb2R1Y3RJbmZvTG9va3VwIiwicHJvZHVjdEluZm8iLCJwYXJzZVNlYXJjaFBhdGhzIiwiZG9tU3RhdHVzIiwiZG9jdW1lbnQiLCJyZWFkeVN0YXRlIiwid2ludG9wIiwiZGF0YUxheWVyIiwid2luZG9jIiwiZm91bmROYW1lcyIsIlNldCIsInByZXZGb3VuZE5hbWVzIiwibm90Rm91bmROYW1lcyIsImFkZCIsInNlYXJjaEVsZW1lbnQiLCJpc0ZvdW5kIiwiaGFzIiwic2VhcmNoQW5kU2V0IiwiZGF0YUxheWVySXRlbSIsInNvcmdBcnJheUlubmVyIiwiZ2V0U09SR0FycmF5Iiwic29yZ0l0ZW0iLCJzaXplIiwibGF5ZXJWYWx1ZSIsImZpbHRlclBhcmFtcyIsImZpbHRlck5hbWUiLCJmaWx0ZXJWYWx1ZSIsImZpbHRlck1hdGNoIiwicXVlcnlTZWxlY3RvciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJ0b0JlVXBkYXRlZCIsImNoaWxkIiwiY2hpbGRFbGVtZW50cyIsImZpbHRlciIsInRyaWdnZXJSZXN0YXJ0Iiwib2JzZXJ2ZSIsInN1YnRyZWUiLCJjaGlsZExpc3QiLCJpbm5lclRleHQiLCJhdHRyaWJWYWx1ZUxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXR0cmliVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJzdW1QcmljZSIsImNoaWxkVGV4dCIsInJlcGxhY2UiLCJwYXJzZUludCIsImFycmF5SW5uZXJUZXh0IiwidG9VcHBlckNhc2UiLCJmb3JtYXREZWxpdmVyeURhdGUiLCJwcm9jZXNzRm9ybWF0dGVyIiwiZXhjbHVzaXZlRWxlbWVudCIsImluY2x1ZGVzIiwic2VhcmNoT2JqIiwicGF0aCIsInBhdGhBcnJheSIsImN1cnJlbnQiLCJzdWJQYXRoIiwic3ViQXJyYXkiLCJzdWJLZXkiLCJzdWJWYWx1ZSIsIndpbmRvd1B0ciIsIm5hdlB0ciIsIm5hdmlnYXRvciIsImV4dHJhY3RDb29raWVJZGVudGlmaWVyIiwiY29va2llIiwidmlld0lkIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsInNlc3Npb25JZCIsInBsYXRmb3JtIiwidXNlckFnZW50RGF0YSIsInVzZXJBZ2VudCIsImRldmljZVBpeGVsUmF0aW8iLCJhdmFpbFdpbmRvdyIsInNjcmVlbiIsImF2YWlsV2lkdGgiLCJhdmFpbEhlaWdodCIsIndpbmRvd0RlcHRoIiwiY29sb3JEZXB0aCIsInBpeGVsRGVwdGgiLCJ2cG9ydFNoYXBlIiwidmlzdWFsVmlld3BvcnQiLCJ3aWR0aCIsImhlaWdodCIsIk1hdGgiLCJyb3VuZCIsImFicyIsIm9yaWVudGF0aW9uIiwidGVtcCIsImhpc3RvcnkiLCJuYXZBZ2VudCIsImJyYW5kcyIsImJyYW5kIiwidmVyc2lvbiIsIm1vYmlsZSIsImhhcmR3YXJlQ29uY3VycmVuY3kiLCJsYW5ndWFnZSIsImJyb3dzZXJMYW5ndWFnZSIsInN5c3RlbUxhbmd1YWdlIiwidXNlckxhbmd1YWdlIiwibWF4VG91Y2hQb2ludHMiLCJ2ZW5kb3IiLCJjb25uZWN0aW9uIiwiZG93bmxpbmsiLCJjdXJyZW50VVJMIiwiVVJMIiwibG9jYXRpb24iLCJocmVmIiwiaG9zdG5hbWUiLCJkb05vdFRyYWNrIiwibXNEb05vdFRyYWNrIiwicmVmZXJyZXIiLCJwYXRobmFtZSIsInBhZ2VUeXBlIiwicGVyZk1ldHJpY3MiLCJwZXJmTmF2aWdhdGlvbk1ldHJpY3MiLCJwZXJmb3JtYW5jZSIsImdldEVudHJpZXNCeVR5cGUiLCJjb25uZWN0IiwiY29ubmVjdEVuZCIsImNvbm5lY3RTdGFydCIsInJlcXVlc3QiLCJyZXNwb25zZUVuZCIsInJlcXVlc3RTdGFydCIsImRvbSIsImRvbUNvbXBsZXRlIiwiZG9tSW50ZXJhY3RpdmUiLCJsb2FkIiwibG9hZEV2ZW50RW5kIiwibG9hZEV2ZW50U3RhcnQiLCJkdXJhdGlvbiIsInNvcmdBcnJheSIsInNUYWciLCJjbnRudCIsInRleHRDb250ZW50IiwianNvbmNvbnRlbnQiLCJwcm9kdWN0SW5mb0xvb2t1cEluUHJvZ3Jlc3MiLCJza3VsaXN0IiwiZmFpbGVkIiwiaGVhZGVycyIsIkhlYWRlcnMiLCJhcHBlbmQiLCJmZXRjaCIsImJvZHkiLCJtb2RlIiwib2siLCJqc29uIiwibW9udGhzIiwiYyIsImdldFJhbmRvbVZhbHVlcyIsIlVpbnQ4QXJyYXkiLCJyZW1vdmVEb2N1bWVudEhpZGUiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJmZXRjaFRyZWF0bWVudHMiLCJ0cmVhdG1lbnRzIiwianNvblRyZWF0bWVudCIsImZldGNoVHJlYXRtZW50V2VpZ2h0cyIsInRyZWF0bWVudFdlaWdodHMiLCJqc29uVHJlYXRtZW50V2VpZ2h0cyIsImNvb2tpZVN0cmluZyIsImNvb2tpZU5hbWUiLCJpZGVudGlmaWVyIiwidiIsInJlZHVjZSIsImFjYyIsImRlY29kZVVSSUNvbXBvbmVudCIsImRldGVybWluZVBjdCIsInN1YnN0cmluZ0VuZFBvc2l0aW9uIiwic3Vic3RyaW5nU3RhcnRQb3NpdGlvbiIsImNyZWF0ZUhhc2hTdHJpbmciLCJoYXNoU3RyaW5nIiwiaGFzaE51bWJlciIsInN1YnN0cmluZyIsInN0cmluZ1RvSGFzaCIsImVuY29kZWQiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsInN1YnRsZSIsImRpZ2VzdCIsImhhc2hCdWZmZXIiLCJoYXNoQXJyYXkiLCJiIiwicGFkU3RhcnQiLCJzdHlsZUFwcGxpY2F0b3IiLCJlbGVtZW50cyIsInN0eWxlQ2hhbmdlc01hcCIsImVudHJpZXMiLCJzdHlsZSIsImluamVjdFN0eWxlU2hlZXQiLCJzdHlsZVNoZWV0IiwiY3JlYXRlRWxlbWVudCIsInJlbCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInByZXBhcmVBY3Rpb25zIiwiYWN0aW9uc1RvUHJlcGFyZSIsImFjdGlvbnMiLCJhY3Rpb24iLCJidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMiLCJ2YXJpYW50cyIsImJ1c2luZXNzVHJhbnNmb3JtYXRpb24iLCJ2YXJpYW50S2V5Iiwid2VpZ2h0IiwiY29uZGl0aW9uQ2hlY2tlciIsInJ1blRpbWVWYWx1ZSIsImNvbmRpdGlvbiIsInN1Y2Nlc3MiLCJtaW4iLCJtYXgiLCJSZWdFeHAiLCJnZXREZWJ1Z01vZGUiLCJORF9ERUJVR19NT0RFIiwiT1VUX09GX1NDT1BFIiwicXVlcnlTdHJpbmciLCJzZWFyY2giLCJyZW1vdmVJdGVtIiwiZ2V0SWRlbnRpZmllciIsImV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwiLCJkZWxheSIsIm1zIiwicmVzIiwiaXNTZW5kQmVhY29uU3VwcG9ydGVkIiwic2VuZEJlYWNvbiIsImRhdGUiLCJzdGFydE1vbnRoSW5kZXgiLCJlbmRNb250aEluZGV4Iiwic3RhcnREYXkiLCJlbmREYXkiLCJtYXRjaCIsInRvTG93ZXJDYXNlIiwidG9kYXkiLCJzdGFydFllYXIiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZW5kWWVhciIsImVzdGltYXRlZFN0YXJ0IiwiZXN0aW1hdGVkRW5kIiwic3RhcnREaWZmT3ZlckRheXMiLCJjZWlsIiwiZW5kRGlmZk92ZXJEYXlzIiwic3RhcnREaWZmT3ZlcldlZWtzIiwiZW5kRGlmZk92ZXJXZWVrcyIsImlkbGVUaW1lciIsInRpbWVPdXQiLCJjYWxsQmFjayIsInJlc2V0VGltZXIiLCJjbGVhclRpbWVvdXQiLCJpZGxlVGltZW91dCIsIm9udG91Y2hzdGFydCIsIk1vbml0b3IiLCJhcHBsaWVkVHJlYXRtZW50c0hhc2giLCJhcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMiLCJlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCIsImVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzIiwiaXNMb2dnZWQiLCJpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzIiwibWVzc2FnZSIsImlzRXJyb3IiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUXVldWVMb2dzIiwicGFja2FnZUxvZ0RhdGEiLCJyZXF1ZXN0QmxvYiIsInF1ZXVlTG9ncyIsImFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2giLCJlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2giLCJzdGFydHNXaXRoIiwidCIsIm0iLCJCbG9iIiwidklkIiwiaXNFeGl0RXZlbnRDYXB0dXJlZCIsImxvZ0RhdGEiLCJwYWNrYWdlVXBkYXRlTG9nRGF0YSIsImNhcHR1cmUiLCJxdWV1ZWQiLCJxdWV1ZUludGVydmFsIiwicmVwbGFjZUFsbCIsInN0ciIsImNoZWNrRGF0YUxheWVyUnVsZSIsInJ1bGUiLCJvcGVyYXRvciIsInJ1bnRpbWVWYWx1ZSIsImRhdGFMYXllckZpbmRlciIsInJlcGxhY2VGbkV4ZWN1dG9yIiwicmVwbGFjZUZuIiwic2luZ2xlIiwicmVwbGFjZUZ1bmN0aW9uIiwiYmluZCIsInZhbCIsImN1cnJlbnRSZXBsYWNlRm4iLCJyRm4iLCJyZXBsYWNlVmFsIiwic3RvcmFnZSIsInJlcGxhY2VPYmplY3RFeHRyYWN0b3IiLCJhdHRyaWJ1dGUiLCJpbm5lcl9jb25kaXRpb24iLCJlbGlnaWJsZUVsZW1lbnRzIiwiZWxlbWVudFNrdSIsImNhdGFsb2ciLCIkIiwiYmluZGluZ3MiLCJQT1BVUF9ESVNQTEFZX0ZMQUciLCJ0cmFuc2Zvcm1lciIsImFwcGx5RXZlbnQiLCJjb250ZW50U2VsZWN0b3IiLCJzZWxlY3RvckZhbGxiYWNrIiwibWRDb25kaXRpb24iLCJtb3ZlX3NlbGVjdG9yXzEiLCJtb3ZlX3NlbGVjdG9yXzIiLCJwVHlwZSIsIm1jIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJyZXBsYWNlciIsIlN0cmluZyIsImJlZm9yZSIsImFmdGVyIiwib2ZmIiwiY3JlYXRlUG9wdXAiLCJkaXNwbGF5TW9kYWwiLCJnZXRQcm9kdWN0SW5mbyIsImV2ZW50IiwiZGlzcGxheVBvcHVwIiwiciIsInB1c2hTdGF0ZSIsIm9uY2UiLCJ0ZXh0IiwiaHRtbCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJvcmlnaW5hbFRpdGxlIiwidGl0bGUiLCJoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlIiwiY3NzIiwicHJvcGVydHkiLCJwcm9wZXJ0eVZhbHVlIiwibjEiLCJuMiIsInN3YXBOb2RlcyIsInNvdXJjZSIsImRlc3RpbmF0aW9uIiwicHJlcGVuZCIsInNlbnRlbmNlIiwid29yZCIsInJlcGxhY2VXaXRoVmFsIiwiaHRtbFN0ciIsInRyYW5zYWN0aW9uSW4yV2Vla3MiLCJhZGRUb0NhcnRJbjJXZWVrcyIsInByb2R1Y3RWaWV3Q291bnQiLCJ0aXRsZXMiLCJwYXJzZWRUaXRsZXMiLCJwYXJzZWRUaXRsZSIsImhpZGRlbiIsImhhbmRsZVBvcHVwQ2xpY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicVBvcHVwIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3B1cFdyYXBwZXIiLCJwb3B1cENsb3NlQnV0dG9uIiwib25jbGljayIsImNvbnRlbnRzIiwic2hpZnQiLCJzcmMiLCJ0ZW1wbGF0ZSIsImlubmVySFRNTCIsInBvcHVwIiwiY29udGVudCIsImZpcnN0Q2hpbGQiLCJpMSIsImkyIiwicDEiLCJwYXJlbnROb2RlIiwicDIiLCJpc0VxdWFsTm9kZSIsImluc2VydEJlZm9yZSIsImFjdGlvbkFwcGxpY2F0b3IiLCJqUXVlcnkiLCJjaGVja0FjdGlvbkNvbmRpdGlvbiIsImFwcGx5QWN0aW9ucyIsImNoZWNrQ291bnRlclJ1bGUiLCJwYWdlVmlld0hhbmRsZXIiLCJjYUJhc2tldFByaWNlSGFuZGxlciIsImdldENvdW50ZXIiLCJjb3VudGVyIiwicGFnZVZpZXdzIiwiY2FCYXNrZXRQcmljZSIsImNoZWNrRWxlbWVudFJ1bGUiLCJzZWxlY3RvckFsbCIsIm1haW5TZWxlY3RvciIsInRlbXBWYWwiLCJyZXR1cm5WYWwiLCJlbGVtIiwiZWxlbWVudFN0eWxlcyIsImdldENvbXB1dGVkU3R5bGUiLCJzdHlsZUtleSIsInN0eWxlVmFsdWUiLCJjaGVja0Z1bmN0aW9uUnVsZSIsIm9wdHMiLCJydWxlRnVuY3Rpb24iLCJjaGVja1Nlc3Npb25SdWxlIiwiZHVyYXRpb25IYW5kbGVyIiwiaGlzdG9yeUhhbmRsZXIiLCJnZXRTZXNzaW9uVGltZXN0YW1wIiwiY3VycmVudEhpc3RvcnkiLCJjaGVja1VybFJ1bGUiLCJyZXF1ZXN0VVJMIiwiY2hlY2tFbnZSdWxlIiwiaXNNb2JpbGUiLCJjaGVja1JhbmRvbU51bWJlclJ1bGUiLCJzYWx0IiwicmFuZG9tUGN0IiwiY2hlY2tQcm9kdWN0SW5mb1J1bGUiLCJnZXRUcmFuc2FjdGlvbkNvdW50IiwiZ2V0QWRkVG9DYXJ0Q291bnQiLCJnZXRQcmV2aWV3Q291bnQiLCJSdWxlRW5naW5lIiwiYmFzZVJ1bGVTZXQiLCJidXNpbmVzc1J1bGVTZXQiLCJjYWxsYmFjayIsImNoZWNrUnVsZSIsImNoYWluIiwiY2hhaW5fY29uZGl0aW9uIiwicnVsZVNhdGlzZmllZCIsImNvbXB1dGVTZWdtZW50Iiwic2VnbWVudCIsInJ1bGVTZXQiLCJzZWdtZW50UnVsZUVuZ2luZSIsImNoZWNrUnVsZXMiLCJUcmVhdG1lbnRSZXBvc2l0b3J5IiwidXNlckdyb3VwIiwidXNlckdyb3VwV2VpZ2h0cyIsInRyZWF0bWVudCIsInNvbWUiLCJUUkVBVE1FTlRTIiwidHJlYXRtZW50c09iaiIsInRpbWVzdGFtcCIsInRyZWF0bWVudFdpdGhUaW1lc3RhbXAiLCJiZWFnbGVPbiIsIm1vbml0b3IiLCJkZWJ1Z01vZGUiLCJlbmdhZ2VUcmVhdG1lbnQiLCJkZXZpY2UiLCJyZWFwcGx5X2V2ZW50IiwicmVhcHBseV9ldmVudF9wYWdlX3R5cGUiLCJwcm9kdWN0SW5mb1N0b3JhZ2UiLCJkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyIsIlBhZ2VUeXBlIiwicmVhcHBseV9ldmVudF9hcnJheSIsInJlYXBwbHlFdmVudCIsInByZXZpb3VzVmFsdWUiLCJyZUFwcGx5VHJlYXRtZW50c01hcCIsInJ1bGVFbmdpbmUiLCJ0cmVhdG1lbnRTa2lwUmF0aW8iLCJkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCIsIm1hdGNoZWRUcmVhdG1lbnRzIiwiZGV0ZXJtaW5pbmdJZGVudGlmaWVyIiwidHJlYXRtZW50UGN0IiwiY2hlY2tCdXNpbmVzc1J1bGVzIiwicHJlcGFyZWQiLCJzZW5kTG9ncyIsInNlYXJjaFBhcmFtcyIsImxhc3RJbmRleE9mIiwiaXRlbSIsIlBBR0VfVklFV1MiLCJTRVNTSU9OX0lEIiwiU0VTU0lPTl9USU1FU1RBTVAiLCJTRVNTSU9OX0hJU1RPUlkiLCJwb3B1cERpc3BsYXlGbGFnIiwic2Vzc2lvblRpbWVzdGFtcCIsInNlc3Npb25IaXN0b3J5IiwidHJlYXRtZW50c1Byb21pc2UiLCJ0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSIsIk9CU0VSVkVSX0NPTkZJRyIsImF0dHJpYnV0ZXMiLCJ0cmVhdG1lbnRSZXBvc2l0b3J5IiwiZ2V0TWF0Y2hlZFRyZWF0bWVudHMiLCJ1cGRhdGVMYXRlc3RDaGFuZ2VzIiwidHJlYXRtZW50SWRzIiwicmVBcHBseVRyZWF0bWVudHMiLCJSZXNpemVPYnNlcnZlciIsInJlYXBwbHlfc2VsZWN0b3IiLCJvbnNjcm9sbCIsInJlYXBwbHlJbnRlcnZhbCIsImlzT24iLCJUSU1FT1VUX0NPVU5UIiwidGltZW91dENvdW50ZXIiLCJjb29raWVQY3QiLCJpc1Nob3dyb29tIiwidnZzSXNTaG93cm9vbSIsImNvbnRhaW5zIiwiR0xPVl9PTiJdLCJzb3VyY2VSb290IjoiIn0=

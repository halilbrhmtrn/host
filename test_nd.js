!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new T(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw a;return P()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=L(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?v:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",g={};function h(){}function m(){}function y(){}var w={};s(w,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=y.prototype=h.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var s=l(e[o],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:P}}function P(){return{value:t,done:!0}}return m.prototype=y,s(x,"constructor",y),s(y,"constructor",m),m.displayName=s(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),s(x,c,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}var s=n(757),u=n.n(s);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=window.location.href.includes("staging.vivense")?"https://ndvivense.glov.ai/weights_staging.json":"https://ndvivense.glov.ai/weights.json",v="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",g="(max-width: 440px)",h="__nextday_session_id",m="ND_SessionTimestamp",y="BN_SessionHistory",w="ND_PageViews",b="ND_PopupDisplayFlag",k="ND_SkuList",x="ND_CABasketPrice",S="ND_Debug",I="ND_OutOfScope",L="ND_UserId",O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";l(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(S)}return f(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}},{key:"warn",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).warn.apply(e,["[".concat(t,"]")].concat(r))}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),A=O;function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=new A("Nextday DataLayer Checker"),P=function(e){C.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=E(t);return ue(o,n,r)},E=function(e){C.log("Searching beagleInfoLayer for key ",e);var t=window.beagleInfoLayer[e];if(e.includes("."))try{var n=e.split(".");t=window.beagleInfoLayer[n[0]];for(var r=1;r<n.length;r++)t=t[n[r]]}catch(n){C.log("Couldn't extract key ".concat(e," from beagleInfoLayer")),t=null}if(t)return C.log("Found key ".concat(e," with value ").concat(t)),t;C.log("Key ".concat(e," not found in beagleInfoLayer")),C.log("Searching dataLayer for key ",e);var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(window.dataLayer);try{for(a.s();!(o=a.n()).done;){var i=o.value;if(Object.keys(i).includes(e))return C.log("Found key ".concat(e," with value ").concat(i[e])),i[e]}}catch(e){a.e(e)}finally{a.f()}return C.log("Key ".concat(e," not found in dataLayer")),null},_=new A("Nextday Url Checker"),N=function(e){_.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return _.log("Checking path ".concat(a," matches rule path ").concat(r)),ue(a,n,r)}};function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.beagleInfoLayer=window.beagleInfoLayer||{checkpoints:[],a:{},e:{}};var U={PageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,content_name:/(?:content_name[ ]*:[ ]*")(.*)(?:")/,content_name_alt:/(?:content_name'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAPageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderId:/(?:purchase[\s\S]*actionField[\s\S]*'id'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderRev:/(?:purchase[\s\S]*actionField[\s\S]*'revenue'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderType:/(?:purchase[\s\S]*actionField[\s\S]*'dimension15'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAIsAdmin:/(?:dataLayer[\s\S]*'isAdmin'[ ]*:[ ]*")(.*)(?:")/},V={BeagleLoaded:1,Initialized:2,UserOnOff:3,ScriptTimeOut:7,TreatmentRepositoryCreated:4,TreatmentsApplied:5,ReapplyTreatmentListeners:6,TimeoutThresholdReached:8},F=new A("BeagleInfoLayer"),B=function e(){F.log("Initializing beagleInfoLayer");var t=document.scripts,n=t.length;try{W()}catch(e){console.warn("Could not prepare log data: ",e.message)}if(t&&n){for(var r=0,o=t.length-1;o>-1;o--)for(var a=t[o].textContent,i=0,c=Object.keys(U);i<c.length;i++){var s=c[i],u=U[s].exec(a);if(u=u?u[1]:null){s.indexOf("_alt")>0&&(s=s.substring(0,s.lastIndexOf("_alt")));try{G(s,decodeURIComponent(JSON.parse('"'+u+'"')))}catch(e){F.warn("Could not decode foundVal ".concat(u));continue}if((r+=1)===Object.keys(U).length)return}}var l=setInterval((function(){n!==t.length?(F.log("New scripts detected, re-initializing beagleInfoLayer"),e(),clearInterval(l)):clearInterval(l)}),10);setTimeout((function(){clearInterval(l)}),250)}else F.warn("Could not parse body")},J=function(e){try{F.log("Checkpoint: '".concat(e,"' Reached!")),window.beagleInfoLayer.checkpoints.push({checkpoint:Object.keys(V).find((function(t){return V[t]===e})),id:e,time:Date.now()})}catch(e){F.warn(e)}},G=function(e,t){null!=e&&null!=t&&(window.beagleInfoLayer[e]=t)},H=function(e,t){window.beagleInfoLayer.a[e]=t},z=function(e,t){window.beagleInfoLayer.e[e]=t},W=function(){var e,t,n,r,o,a,i,c,s,u,l,d,f,p,v,g,m,y,w,b,k,x,S,I,L,O,A,T,C,P,E,_,N,j,D,M,U,V,B,J,H,z,$,W,K=crypto.randomUUID(),Y=sessionStorage.getItem(h),Q=new URL(window.location.href),X=(null===(e=window.navigator)||void 0===e||null===(t=e.userAgentData)||void 0===t?void 0:t.platform)||(null===(n=window.navigator)||void 0===n?void 0:n.platform)||(null===(r=window.navigator)||void 0===r?void 0:r.userAgent),Z={},ee=q(window.dataLayer);try{for(ee.s();!(W=ee.n()).done;){var te=W.value;Z=R(R({},Z),te)}}catch(e){ee.e(e)}finally{ee.f()}var re=JSON.parse(ne(document.cookie,"VL_CM_0")),oe={};if(re&&re.Items){var ae,ie=q(re.Items);try{for(ie.s();!(ae=ie.n()).done;){var ce=ae.value;oe[ce.K]=decodeURIComponent(ce.V)}}catch(e){ie.e(e)}finally{ie.f()}}G("cookieVLPVinVisit",oe.VL_PVCountInVisit),G("cookieVLVisitDuration",oe.VL_TotalDuration),G("cookieVLTotalPV",oe.VL_TotalPV),G("cookieVLTotalVisit",oe.VL_TotalVisit),G("gaPageType",Z.PageType),G("gaProductName",Z.content_name),G("gaViewType",Z.content_type),G("gaProductCategory",Z.content_category),G("gaProductID",Z.content_ids),G("vvsProductCategory",Z.vivense_category),G("gaListingName",null===(o=Z.ecommerce)||void 0===o||null===(a=o.detail)||void 0===a||null===(i=a.actionField)||void 0===i?void 0:i.list),G("vvsIsShowroom",void 0===window.isAdmin?Z.isAdmin:window.isAdmin),G("vvsProductGroup",Z.productGroup),G("vvsUserId",Z.userId),G("vvsCategory",Z.vivense_category),G("gaCategoryProductCont",Z.category_product_count),G("gaCartProducts",(null===(c=Z.ecommerce)||void 0===c||null===(s=c.checkout)||void 0===s?void 0:s.products)||(null===(u=Z.ecommerce)||void 0===u||null===(l=u.purchase)||void 0===l?void 0:l.products)),G("vvsPDPProduct",null===(d=Z.vivenseProducts)||void 0===d?void 0:d.pop()),G("gaPurchaseId",null===(f=Z.ecommerce)||void 0===f||null===(p=f.purchase)||void 0===p||null===(v=p.actionField)||void 0===v?void 0:v.id),G("gaPurchaseRevenue",null===(g=Z.ecommerce)||void 0===g||null===(m=g.purchase)||void 0===m||null===(y=m.actionField)||void 0===y?void 0:y.revenue),G("gaPurchasePayType",null===(w=Z.ecommerce)||void 0===w||null===(b=w.purchase)||void 0===b||null===(k=b.actionField)||void 0===k?void 0:k.dimension15),G("windowParams",window.location.search),G("windowPRatio",window.devicePixelRatio),G("windowInner",window.innerWidth);var se={};se.availHeight=null===(x=window.screen)||void 0===x?void 0:x.availHeight,se.availHeight=null===(S=window.screen)||void 0===S?void 0:S.availHeight,se.availLeft=null===(I=window.screen)||void 0===I?void 0:I.availLeft,se.availTop=null===(L=window.screen)||void 0===L?void 0:L.availTop,se.availWidth=null===(O=window.screen)||void 0===O?void 0:O.availWidth,se.colorDepth=null===(A=window.screen)||void 0===A?void 0:A.colorDepth,se.height=null===(T=window.screen)||void 0===T?void 0:T.height,se.pixelDepth=null===(C=window.screen)||void 0===C?void 0:C.pixelDepth,se.width=null===(P=window.screen)||void 0===P?void 0:P.width,G("windowScreen",se);var ue={};if(ue.height=null===(E=window.visualViewport)||void 0===E?void 0:E.height,ue.offsetLeft=null===(_=window.visualViewport)||void 0===_?void 0:_.offsetLeft,ue.offsetTop=null===(N=window.visualViewport)||void 0===N?void 0:N.offsetTop,ue.onresize=null===(j=window.visualViewport)||void 0===j?void 0:j.onresize,ue.onscroll=null===(D=window.visualViewport)||void 0===D?void 0:D.onscroll,ue.pageLeft=null===(M=window.visualViewport)||void 0===M?void 0:M.pageLeft,ue.pageTop=null===(U=window.visualViewport)||void 0===U?void 0:U.pageTop,ue.scale=null===(V=window.visualViewport)||void 0===V?void 0:V.scale,ue.width=null===(B=window.visualViewport)||void 0===B?void 0:B.width,G("windowVPort",ue),screen.width){var le=parseInt(screen.width),de=screen.height?parseInt(screen.height):0;if(0!==le&&0!==de){if(/iPad|iPhone|iPod/.test(X)&&window.devicePixelRatio)le=Math.round(le*window.devicePixelRatio),de=Math.round(de*window.devicePixelRatio);else if(90===Math.abs(window.orientation)){var fe=le;le=de,de=fe}G("window",le+"x"+de)}}if(G("navHistSize",null===(J=window.history)||void 0===J?void 0:J.length),G("navAgent",navigator.userAgent),!window.beagleInfoLayer.navAgent&&navigator.userAgentData){var pe,ve,he,me,ye,we=null===(pe=navigator)||void 0===pe||null===(ve=pe.userAgentData)||void 0===ve||null===(he=ve.brands)||void 0===he?void 0:he.map((function(e){return e.brand+":"+e.version})).join();we+=null!==(me=navigator)&&void 0!==me&&null!==(ye=me.userAgentData)&&void 0!==ye&&ye.mobile?"mobi":" ",G("navAgent",we+=X)}G("navHWCores",navigator.hardwareConcurrency),G("navLanguage",navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage),G("navTouch",navigator.maxTouchPoints),G("navPlatform",X),G("navVendor",navigator.vendor),G("cookieGaId",ne(document.cookie,"_ga")),G("cookieLastBreadCrumb",ne(document.cookie,"lastbreadcrumb")),G("cookieLastCategory",ne(document.cookie,"lastcategory")),G("cookieFirstEntry",decodeURIComponent(ne(document.cookie,"vivensefirst")));var be={};if(window.performance&&window.performance.getEntriesByType("navigation")[0]){var ke=window.performance.getEntriesByType("navigation")[0];be.pld=Math.round(ke.domContentLoadedEventEnd-ke.connectStart),be.net=Math.round(ke.connectEnd-ke.fetchStart),be.srv=Math.round(ke.responseStart-ke.requestStart),be.tfr=Math.round(ke.responseEnd-ke.responseStart),be.dmi=Math.round(ke.domInteractive-ke.responseEnd),be.dcp=Math.round(ke.domComplete-ke.domInteractive),be.onl=Math.round(ke.loadEventEnd-ke.loadEventStart)}G("perfMetrics",be),G("internetSpeed",null===(H=window.navigator)||void 0===H||null===(z=H.connection)||void 0===z?void 0:z.downlink);var xe,Se,Ie=q(document.querySelectorAll('[type="application/ld+json"]'));try{for(Ie.s();!(xe=Ie.n()).done;){var Le=xe.value;try{var Oe=Le.textContent,Ae=JSON.parse(Oe),Te="@";switch(Ae["@type"]){case"Organization":case"WebSite":break;case"CollectionPage":var Ce,Pe=q(Ae.breadcrumb.itemListElement);try{for(Pe.s();!(Ce=Pe.n()).done;)Te+=" | "+Ce.value.item.name}catch(e){Pe.e(e)}finally{Pe.f()}G("sorgBreadcrumb",Te);var Ee={};Ee.name=Ae.mainEntity.name,Ee.countItems=Ae.mainEntity.numberOfItems,G("sorgListing",Ee);break;case"BreadcrumbList":var _e,Ne=q(Ae.itemListElement);try{for(Ne.s();!(_e=Ne.n()).done;)Te+=" | "+_e.value.name}catch(e){Ne.e(e)}finally{Ne.f()}G("sorgBreadcrumb",Te);break;case"Product":var je={};je.sku=Ae.sku,je.name=Ae.name,Ae.offers&&(je.price=Ae.offers.price,je.priceCurrency=Ae.offers.priceCurrency,je.priceValidUntil=Ae.offers.priceValidUntil),G("sorgProduct",je);break;default:console.log(Ae)}}catch(e){F.warn(e.message)}}}catch(e){Ie.e(e)}finally{Ie.f()}G("v","0.0.27"),G("n","nextday-session_id-".concat(Y)),G("sr",50),G("donttrack",navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack),G("u",Q.href),G("d",Q.hostname),G("r",document.referrer),G("vId",K),G("isOn",null);try{G("vvsCntFavProds",window.favoriteProducts?JSON.parse(window.favoriteProducts).length:null)}catch(e){G("vvsCntFavProds",null),F.warn(e.message)}G("vvsHasSetEmail",window.userEmail.length>0),G("vvsLoginType",window.userId>0?"member":"guest"),Se=document.querySelector('[class*="basket_summary_total"], [class*="total_row"]'),G("vvsPurcPriceElt",Se?Se.innerText:null),Se=document.querySelector('[class*="order_follow_numb"], [class*="cart-title-bottom"]'),G("vvsPurchaseOrderID",Se?Se.innerText:null),Se=document.querySelector('[class*="payment_type_title"], [class*="cart-title-info"]'),G("vvsPurcTypeElt",Se?Se.innerText:null),Se=document.querySelector('[id*="breadcrumb-ol"], [class*="long-breadcrumb"]'),G("vvsViewCrumb",Se?Se.innerText:null),Se=document.querySelector('[class*="order-final-number"]'),G("vvsCartTotal",Se?Se.innerText:null),Se=document.querySelector('[class*="basket_total_price"]'),G("vvsViewBasketTotal",Se?Se.innerText:null),Se=document.querySelector('[id*="cart_quantity"], [class*="basket_length"]'),G("vvsViewBasketCount",Se?Se.innerText:null),Se=document.querySelector('[class*="welcome_username"]'),G("vvsViewLoggedin",!!Se&&Se.innerText.length>0),Se=document.querySelectorAll('[class*="vivense-showrooms"] > *'),G("vvsPDPShowroomCount",Se?Se.length:null),Se=document.querySelector('[class*="delivery-date"]'),G("vvsPDPDeliveryDate",Se?Se.innerText:null),G("vvsPDPDeliveryDateFormatted",ge(null===($=Se)||void 0===$?void 0:$.innerText)),Se=document.querySelector('[class*="product-title"], [class*="header-bottom"]'),G("vvsPDPTitle",Se?Se.innerText:null),Se=document.querySelector('[class*="count-of-product"]'),G("vvsPLPItemCount",Se?Se.innerText:null),Se=document.querySelector('[class*="subcategories-title"]'),G("vvsPLPName",Se?Se.innerText:null)};function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=new A("Nextday Utils"),X={ocak:0,"şubat":1,mart:2,nisan:3,"mayıs":4,haziran:5,temmuz:6,"ağustos":7,"eylül":8,ekim:9,"kasım":10,"aralık":11};"randomUUID"in crypto||(crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))});var Z=function(){document.documentElement.classList.remove("nextDay-hide")},ee=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q.log("Fetching treatment weights"),e.next=3,fetch(p);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},re=function(){var e=c(u().mark((function e(t){var n,r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=8+(n=9),t){e.next=5;break}return e.abrupt("return",-1);case 5:return e.next=7,oe(t);case 7:return o=e.sent,a=parseInt(o.substring(n,r),16),e.abrupt("return",a%100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=c(u().mark((function e(t){var n,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,o=Array.from(new Uint8Array(r)),e.abrupt("return",o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=document.documentElement.scrollTop,n=setInterval((function(){var r=document.documentElement.scrollTop;t-400>r?(clearInterval(n),e()):t=r}),500)},ie=function(e,t){Q.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],a=0,i=Object.entries(t);a<i.length;a++){var c=o(i[a],2),s=c[0],u=c[1];r.style[s]=u}},ce=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="https://host-b96.pages.dev/nd-styles.css",document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=c(u().mark((function e(t,n,r){var o,a,i,c,s,l,d,f,p,v,g,h,m,y,w,b,k,x,S,I,L;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=JSON.parse(JSON.stringify(n)),a=null,i=K(o),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=55;break}if(s=c.value,l=s.businessRuleTransformations,d=s.variants,l||d){e.next=10;break}return e.abrupt("continue",53);case 10:if(r&&l){f=K(l);try{for(f.s();!(p=f.n()).done;)if((v=p.value).id===r)for(g in v)"id"!==g&&(s[g]=v[g])}catch(e){f.e(e)}finally{f.f()}}if(!d){e.next=53;break}h=0,m=Object.keys(d);case 13:if(!(h<m.length)){e.next=53;break}return y=m[h],e.next=17,re(t+y);case 17:if(!(e.sent<s.variants[y].weight)){e.next=50;break}if(a=y,!r||!d[y].businessRuleTransformations){e.next=48;break}w=K(d[y].businessRuleTransformations),e.prev=22,w.s();case 24:if((b=w.n()).done){e.next=38;break}if((k=b.value).id!=r){e.next=36;break}x=0,S=Object.keys(k);case 28:if(!(x<S.length)){e.next=36;break}if("id"!==(I=S[x])){e.next=32;break}return e.abrupt("continue",33);case 32:s[I]=k[I];case 33:x++,e.next=28;break;case 36:e.next=24;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(22),w.e(e.t0);case 43:return e.prev=43,w.f(),e.finish(43);case 46:e.next=49;break;case 48:for(L in d[y])"weight"!==L&&"businessRuleTransformations"!==L&&(s[L]=d[y][L]);case 49:return e.abrupt("break",53);case 50:h++,e.next=13;break;case 53:e.next=5;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(3),i.e(e.t1);case 60:return e.prev=60,i.f(),e.finish(60);case 63:return e.abrupt("return",[o,a]);case 64:case"end":return e.stop()}}),e,null,[[3,57,60,63],[22,40,43,46]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ue=function(e,t,n){if("notExist"===t)return e?(Q.log("conditionChecker: -not satisfied- target does exist"),!1):(Q.log("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return Q.log("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(Q.log("conditionChecker: -satisfied- target does exist"),!0):(Q.log("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(Q.log("conditionChecker: -satisfied- target contains value"),!0):(Q.log("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(Q.log("conditionChecker: -not satisfied- target contains value"),!1):(Q.log("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(Q.log("conditionChecker: -satisfied- target equals value"),!0):(Q.log("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(Q.log("conditionChecker: -satisfied- target does not equal value"),!0):(Q.log("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(Q.log("conditionChecker: -satisfied- target is greater than value"),!0):(Q.log("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(Q.log("conditionChecker: -satisfied- target is less than value"),!0):(Q.log("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(Q.log("conditionChecker: -satisfied- target is greater or equal than value"),!0):(Q.log("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(Q.log("conditionChecker: -satisfied- target is less or equal than value"),!0):(Q.log("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=o(n.split(","),2),a=r[0],i=r[1];return a=parseInt(a),i=parseInt(i),e>=a&&e<=i?(Q.log("conditionChecker: -satisfied- target is between min and max"),!0):(Q.log("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return Q.log("conditionChecker: condition is not defined ",t),!1}},le=function(){var e=S,t=I,n=window.location.search;if(n.includes("nd_debug=1"))return window.localStorage.setItem(e,1),window.localStorage.setItem(t,!0),G("dbm","on"),1;if(n.includes("nd_debug=2"))return window.localStorage.setItem(e,2),window.localStorage.setItem(t,!0),G("dbm","on"),2;if(n.includes("nd_debug=0"))return window.localStorage.removeItem(e),window.localStorage.setItem(t,!0),G("dbm","off"),0;var r=parseInt(window.localStorage.getItem(e));return G("dbm",r?"on":"off"),r||0},de=function(){var e=c(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"_ga",e.abrupt("return",new Promise((function(e,n){var r=window.localStorage.getItem(L);if(r&&e(r),r=ne(document.cookie,t))window.localStorage.setItem(L,r),e(r);else{var o=setInterval((function(){(r=ne(document.cookie,t))&&(clearInterval(o),window.localStorage.setItem(L,r),e(r))}),10);setTimeout((function(){clearInterval(o),n(new Error("Could not extract cookie identifier"))}),1e3)}})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(e){return new Promise((function(t){return setTimeout(t,e)}))},pe=function(){var e=k,t=[],n={operator:"PageType",condition:"equal",value:"Homepage"};if(P(n))return null;if(n.value="Listingpage",P(n))return Array.from(document.querySelectorAll(".product-card")).forEach((function(e){t.push(e.getAttribute("data-product-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(Q.log("Product SKUs not found on Listingpage"),null);if(n.value="Productpage",P(n)){var r,o,a,i=document.querySelector(".product-sku");return i?(t.push(i.getAttribute("data-sku")||(null===(r=i.textContent)||void 0===r||null===(o=r.trim())||void 0===o||null===(a=o.replace(/\)/g,""))||void 0===a?void 0:a.replace(/\(/g,""))),sessionStorage.setItem(e,JSON.stringify(t)),t):(Q.log("Product SKU not found on Productpage"),null)}return n.operator="path",n.value="/siparis-listesi.html",N(n)?(Array.from(document.querySelectorAll(".cart-inside")).forEach((function(e){t.push(e.getAttribute("data-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(Q.log("Product SKUs not found on basket page"),null)):(Q.log("Unidentified page type"),null)},ve=function(){return navigator.sendBeacon&&"function"==typeof navigator.sendBeacon},ge=function(e){if(!e||"string"!=typeof e)return e;var t={startMonthIndex:void 0,endMonthIndex:void 0,startDay:void 0,endDay:void 0},n=e.match("([\\d]+)-([\\d]+)\\s?([\\wıüğşöçİÖÇĞÜ]+)");if(n&&4===n.length)t.startDay=parseInt(n[1]),t.endDay=parseInt(n[2]),t.startMonthIndex=X[n[3].toLowerCase()],t.endMonthIndex=t.startMonthIndex;else{if(!(n=e.match("([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜ]+)-([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜ]+)"))||5!==n.length)return e;t.startDay=parseInt(n[1]),t.startMonthIndex=X[n[2].toLowerCase()],t.endDay=parseInt(n[3]),t.endMonthIndex=X[n[4].toLowerCase()]}try{var r=new Date;if(!t.startMonthIndex||!t.endMonthIndex)return e;var o=t.startMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,a=t.endMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,i=new Date(o,t.startMonthIndex,t.startDay),c=new Date(a,t.endMonthIndex,t.endDay),s=Math.ceil(Math.abs(i-r)/864e5),u=Math.ceil(Math.abs(c-r)/864e5),l=s<7?0:Math.ceil(s/7),d=u<7?0:Math.ceil(u/7);return 0===l&&0===d?"".concat(s," - ").concat(u," GÜN İÇİNDE"):0===l&&d>=1?"".concat(s," GÜN - ").concat(d," HAFTA İÇİNDE"):l===d?"".concat(l," HAFTA İÇİNDE"):"".concat(l," - ").concat(d," HAFTA İÇİNDE")}catch(t){return e}},he=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";var r=e.indexOf(t);if(r<0)return e;for(;e.indexOf(t)>=0;){var o=e.indexOf(t);e=(o>0?e.substring(0,o):"")+n+e.substring(o+t.length)}return e};function me(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(){return we=c(u().mark((function e(t,n){var r,o,a,i,s,l,d,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new A("Nextday Apply Treatments"),o=b,a=function(e){r.log("Applying treatment: ",JSON.stringify(e));var t=e.operator,a=e.type,c=e.applyEvent,s=e.contentSelector,u=e.selector,p=e.selectorFallback,v=e.mdCondition,h=e.move_selector_1,m=e.move_selector_2,y=e.replaceFn,w=e.value,b=$(u);if(!v||window.matchMedia(v).matches)if(h&&!m||m&&!h)r.log("Both move selectors are required");else{if(h&&m){if(!$(h).length)return void r.log("Move selector 1 not found: ",h);if(!$(m).length)return void r.log("Move selector 2 not found: ",m)}else{if(!u)return void r.log("Selector not specified");if(!b.length&&"no-selector"!==u&&(r.log("Selector not found: ",u),r.log("Trying fallback selector: ",p),p&&(b=$(p)),!b.length))return void r.log("Fallback selector not found")}var k=function(e,t){if(e&&t.includes("{{REPLACE}}")){r.log("Executing replace function: ",e);var o={dataLayerFinder:E,productInfo:n},a=Function(e).bind(o);t=he(t,"{{REPLACE}}",a())}return t};if(Array.isArray(w)?w.forEach((function(e,t){var n=y?y[t]||y:"";w[t]=k(n,e)})):w=k(y,w),"remove"===t)b&&(r.log("Removing: ",u),b.remove()),r.log("Cannot found element with selector: ",u);else if("insert"===t)switch(a){case"before":r.log("Inserting before: ",w),String(w).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),b.before(w);break;case"after":r.log("Inserting after: ",w),b.after(w);break;case"popup":if(0!==parseInt(sessionStorage.getItem(o))){r.log("Popup already displayed in session");break}if(r.log("Creating Popup: ",w),d(w,s),c){var x,S=window.matchMedia(g).matches,I=me(c);try{for(I.s();!(x=I.n()).done;)switch(x.value){case"exitIntent":r.log("Adding exit intent listener"),S?ae(l):document.documentElement.addEventListener("mouseleave",l,{once:!0});break;case"copyIntent":r.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",l,{once:!0})}}catch(e){I.e(e)}finally{I.f()}}else setTimeout((function(){l()}),timeout)}else if("edit"===t)switch(a){case"text":r.log("Editing text: ",w),b.text(w);break;case"html":r.log("Editing html: ",w),b.html(w);break;case"styleApplicator":r.log("Applying style: ",w);var L=JSON.parse(w);r.log("Style Changes Map: ",L),ie(b,L);break;case"addClass":r.log("addding class to ".concat(b," named ").concat(w)),b.addClass(w);break;case"removeClass":r.log("remove class from ".concat(b," named ").concat(w)),b.removeClass(w);break;case"documentTitle":if(r.log("changing document title from ".concat(b," to ").concat(w)),c){var O,A=me(c);try{for(A.s();!(O=A.n()).done;)"tabChange"==O.value&&function(){r.log("catching event tabchange..");var e=document.title;document.addEventListener("visibilitychange",(function(t){return i(t,w,e)}))}()}catch(e){A.e(e)}finally{A.f()}}break;case"addBanner":if(!n){r.log("Product info unavailable");break}r.log("Adding banner: ",w);var T=JSON.parse(sessionStorage.getItem("ND_SkuList"))[0];if(!T){r.log("Could not find product sku");break}Object.keys(n).includes(T)&&b.before(w);break;default:r.log("Unknown edit type: ",a)}else if("setattribute"===t)switch(r.log("Setting attribute: ",attribute,w),attribute){case"src":b.css("content","url(".concat(w.trim(),")"));break;case"style":var C=w.split(":")[0].trim(),P=w.split(":")[1].trim();b.css(C,P,"!important")}else if("replace"===t)r.log("Replacing: ",w),b.replaceAll(w);else if("swap"===t){r.log("Swapping: ",h,m);var _=document.querySelector(h),N=document.querySelector(m);f(_,N)}else if("injectscript"===t)r.log("Injecting script: ",w),b.append("<script>".concat(w,"<\/script>"));else if("move"===t){r.log("Moving ".concat(h," to ").concat(m));var j=document.querySelector(h),D=document.querySelector(m);j.remove(),D.prepend(j)}else"noop"===t?r.log("Noop Operator: No operation is applied on target "):r.log("No such operator exists yet",t)}else r.log("Media condition mismatch: ",v)},i=function(){var e=c(u().mark((function e(t,n,r){var o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.isArray(n)?n:[n],a=0;case 2:if(!(a<o.length)){e.next=16;break}if(!document.hidden){e.next=12;break}return document.title=o[a],e.next=7,fe(3e3);case 7:return document.title=r,e.next=10,fe(3e3);case 10:e.next=13;break;case 12:document.title=r;case 13:a++,e.next=2;break;case 16:if(document.hidden){e.next=21;break}return document.title=r,e.abrupt("return");case 21:i(t,n,r);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0))},l=function e(){sessionStorage.setItem(o,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",s,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",s,!0)}),15e3)},d=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",s,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var i=a.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},f=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var c=0;c<a.children.length;c++)a.children[c].isEqualNode(t)&&(r=c);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},function e(t){if(window.jQuery){var n,o=me(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;try{a(i)}catch(e){r.log("Couldn't apply treatment ".concat(i.id," with error ").concat(e.message));continue}}}catch(e){o.e(e)}finally{o.f()}}else setTimeout((function(){e(t)}),10)}(t);case 10:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}var be=function(e,t){return we.apply(this,arguments)};function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(){function e(){l(this,e),this.logger=new A("Nextday Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentsHash=null,this.appliedTreatmentsChanges=!1,this.eligibleNotAppliedTreatmentsHash=null,this.eligibleNotAppliedTreatmentsChanges=!1,this.headers={type:"application/json"},this.isLogged=!1,this.initializeExitEventListeners()}var t,n,r;return f(e,[{key:"sendLogs",value:(r=c(u().mark((function e(){var t,n,r,o=this,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:null,n=a.length>1&&void 0!==a[1]&&a[1],(r=this.logger).log("Sending logs"),"complete"!==document.readyState?(r.log("Document ready state is not complete"),window.addEventListener("load",(function(){r.log("In onload event"),o.handleQueueLogs(o.packageLogData(t),n)}),!0)):this.handleQueueLogs(this.packageLogData(t),n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"handleQueueLogs",value:(n=c(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>1&&void 0!==r[1]&&r[1]||!this.isLogged){e.next=3;break}return e.abrupt("return");case 3:if(n=this.logger,t){e.next=7;break}return n.log("Could not create request blob"),e.abrupt("return");case 7:return n.log("Request blob to send: ",t),this.queueLogs(t),this.isLogged=!0,e.next=12,oe(JSON.stringify(window.beagleInfoLayer.a));case 12:return this.appliedTreatmentsHash=e.sent,e.next=15,oe(JSON.stringify(window.beagleInfoLayer.e));case 15:this.eligibleNotAppliedTreatmentsHash=e.sent;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateLatestChanges",value:(t=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.log("Checking if there are changes"),e.next=4,oe(JSON.stringify(window.beagleInfoLayer.a));case 4:return t=e.sent,e.next=7,oe(JSON.stringify(window.beagleInfoLayer.e));case 7:n=e.sent,t!==this.appliedTreatmentsHash&&(this.appliedTreatmentsChanges=!0,this.appliedTreatmentsHash=t),n!==this.eligibleNotAppliedTreatmentsHash&&(this.eligibleNotAppliedTreatmentsChanges=!0,this.eligibleNotAppliedTreatmentsHash=n);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"packageLogData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.headers,n=xe({},window.beagleInfoLayer),r=e||(Object.keys(n.a||{}).length?"Treatments applied":"No treatments applied");return n.t=Date.now(),n.m=r,new Blob([JSON.stringify(n)],t)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.appliedTreatmentsChanges,n=this.eligibleNotAppliedTreatmentsChanges;if(!t&&!n)return!1;var r={t:Date.now(),a:t?window.beagleInfoLayer.a:{},e:n?window.beagleInfoLayer.e:{},vId:window.beagleInfoLayer.vId};return new Blob([JSON.stringify(r)],e)}},{key:"initializeExitEventListeners",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(e.isLogged){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0}),window.addEventListener("pagehide",(function(){if(e.isLogged){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger;if(ve()){var n=navigator.sendBeacon(v,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(v,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}else fetch(v,e)}}]),e}(),Ie=Se;function Le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ae=new A("Nextday Treatment Repository"),Te=function(){function e(t){l(this,e);var n=t.cookiePct,r=t.treatments,o=t.treatmentWeights;this.treatments=r,this.cookiePct=n,this.treatmentWeights=o}var t,n;return f(e,[{key:"getMatchedTreatments",value:function(){var e=this.treatmentWeights,t=this.getUserGroup(),n=this.treatments;if(e){var r,o=t&&e[t]?e[t]:e.default,a=Le(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(o[i.id]&&(i.weight=o[i.id].weight,i.actions.find((function(e){return e.variants})))){var c,s=Le(i.actions);try{for(s.s();!(c=s.n()).done;){var u=c.value;if(u.variants)for(var l=0,d=Object.keys(u.variants);l<d.length;l++){var f,p,v,g=d[l];null!==(f=o[i.id])&&void 0!==f&&f.variants&&null!==(p=o[i.id])&&void 0!==p&&p.variants[g]&&(u.variants[g].weight=null===(v=o[i.id])||void 0===v?void 0:v.variants[g])}}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){a.e(e)}finally{a.f()}}return Ae.log("".concat(n.length," treatments user group matched")),n.length?n:[]}},{key:"getUserGroup",value:function(){return window.matchMedia(g).matches?"UGB":"UGA"}}],[{key:"getTreatments",value:(n=c(u().mark((function e(){var t,n,r,o,a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ae.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return Ae.log("Treatments not found in local storage"),e.next=9,ee();case 9:return r=e.sent,a={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return Ae.log("Treatments are expired"),e.next=19,ee();case 19:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 23:return Ae.log("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getTreatmentWeights",value:(t=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),Ae.warn(e.t0.message),this.treatmentWeights=null;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return t.apply(this,arguments)})}]),e}(),Ce=Te,Pe=new A("Nextday Counter Checker"),Ee=function(e){Pe.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return Ne(n,r);case"CABasketPrice":return je(n,r);default:return Pe.log("No such operator",t),!1}},_e=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return Pe.log("No such type",t),null}}catch(t){return Pe.log("Could not get counter ".concat(e),t),null}},Ne=function(e,t){var n=parseInt(_e(w,"session"));return Pe.log("Page views counter value: ",n),null===n?(Pe.log("Pageviews counter not found in session storage"),!1):ue(n,e,parseInt(t))},je=function(e,t){var n=parseInt(_e(x,"local"));return Pe.log("Coupon applicable basket price counter value: ",n),null===n?(Pe.log("Coupon applicable basket price counter not found in local storage"),!1):ue(n,e,parseInt(t))},De=new A("Nextday Element Checker"),Re=function(e){De.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,c=e.selectorFallback,s=void 0===c?null:c,u=a;if(u&&!document.querySelector(u)&&(u=s||u),null===n)return ue(document.querySelector(u),r,o);if(u&&!document.querySelector(u))return De.log("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return De.log("Selector not found on page"),!1;switch(u?t=document.querySelector(u):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var l;l=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(u).textContent.replace("TL","").replace(".",""));var d=parseInt(l);return ue(d,r,o);case"classList":return ue(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return ue(f,r,o);default:return De.log("Operator not defined"),!1}},qe=new A("Nextday Function Checker"),Me=function(e,t){qe.log("Checking rule",JSON.stringify(e));var n=t.productInfo,r=e.operator,o=e.condition,a=e.value,i=e.bindings;if(!r)return qe.log("Rule function not defined"),!1;var c={};"productInfo"==i&&(c={productInfo:n});var s=Function(r).bind(c)();return ue(s,o,a)},Ue=new A("Nextday Session Checker"),Ve=function(e){Ue.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"duration":return Fe(n,r);case"history":return Be(n,r);default:return null}},Fe=function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(window.sessionStorage.getItem(m)))}catch(e){return Ue.log("Could not get session timestamp",e),Date.now()}}())/1e3;return ue(n,e,parseInt(t))},Be=function(e,t){var n,r=null===(n=window.sessionStorage.getItem(y))||void 0===n?void 0:n.split(",");return ue(r,e,t)},Je=new A("Nextday Env Checker"),Ge=function(e){Je.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(g).matches?"mobile":"desktop";return ue(o,n,r)}},He=new A("Nextday RandomPct Checker"),ze=function(){var e=c(u().mark((function e(t){var n,r,o,a,i,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He.log("Checking rule",JSON.stringify(t)),n=t.condition,r=t.value,o=t.salt){e.next=5;break}return He.log("Salt is not defined"),e.abrupt("return",!1);case 5:return e.next=7,de();case 7:return a=e.sent,e.next=10,re(a+o);case 10:return i=e.sent,c=i,e.abrupt("return",ue(c,n,r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function $e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke=new A("Nextday Rule Engine"),Ye=function(){function e(t){l(this,e);var n=t.baseRuleSet,r=t.businessRuleSet,o=t.bindings,a=t.callback,i=void 0===a?null:a;this.baseRuleSet=n,this.businessRuleSet=r,this.callback=i,this.bindings=o}var t,n,r;return f(e,[{key:"checkRules",value:(r=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=$e(this.baseRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return r.apply(this,arguments)})},{key:"checkBusinessRules",value:(n=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=$e(this.businessRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.businessRuleId);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return n.apply(this,arguments)})},{key:"checkRule",value:(t=c(u().mark((function e(t){var n,r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.chain,r=t.chain_condition,o=t.type,a=null,e.t0=o,e.next="session"===e.t0?5:"counter"===e.t0?7:"element"===e.t0?9:"dataLayer"===e.t0?11:"url"===e.t0?13:"function"===e.t0?15:"environment"===e.t0?17:"random"===e.t0?19:23;break;case 5:return a=Ve(t),e.abrupt("break",25);case 7:return a=Ee(t),e.abrupt("break",25);case 9:return a=Re(t),e.abrupt("break",25);case 11:return a=P(t),e.abrupt("break",25);case 13:return a=N(t),e.abrupt("break",25);case 15:return a=Me(t,this.bindings),e.abrupt("break",25);case 17:return a=Ge(t),e.abrupt("break",25);case 19:return e.next=21,ze(t);case 21:return a=e.sent,e.abrupt("break",25);case 23:return Ke.log("No such rule type: ".concat(o)),e.abrupt("return",null);case 25:if(!n){e.next=51;break}e.t1=r,e.next="and"===e.t1?29:"or"===e.t1?36:"xor"===e.t1?43:49;break;case 29:if(e.t2=a,!e.t2){e.next=34;break}return e.next=33,this.checkRule(n);case 33:e.t2=e.sent;case 34:return a=e.t2,e.abrupt("break",51);case 36:if(e.t3=a,e.t3){e.next=41;break}return e.next=40,this.checkRule(n);case 40:e.t3=e.sent;case 41:return a=e.t3,e.abrupt("break",51);case 43:return e.t4=a,e.next=46,this.checkRule(n);case 46:return e.t5=e.sent,a=e.t4!=e.t5,e.abrupt("break",51);case 49:return Ke.log("No such chain condition"),e.abrupt("break",51);case 51:return e.abrupt("return",a);case 52:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Qe=new A("Nextday Api"),Xe=function(){var e=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe.log("Starting product info lookup"),t=pe()){e.next=5;break}return Qe.log("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.prev=7,e.next=10,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),Qe.warn("Fetch to catalog api failed"),e.abrupt("return",null);case 17:if(r.ok){e.next=20;break}return Qe.log("Product info lookup failed"),e.abrupt("return",null);case 20:return e.next=22,r.json();case 22:if(r=e.sent){e.next=26;break}return Qe.log("Product info extraction from response failed"),e.abrupt("return",null);case 26:return Qe.log("Product info lookup successful"),e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}();function Ze(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}c(u().mark((function t(){var n,r,i,s,l,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return J(V.BeagleLoaded),n=null,r=null,i=new A,s="ND_TimeoutCount",l=0,i.info("Nextday initializing"),t.prev=7,t.delegateYield(u().mark((function e(){var t,d,f,p,v,k,S,L,O,A,T,C,P,E,_,N,j,D,R,q,M,U,F,$,W,K,Y,Q,X,ee,te;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(),d=Xe(),f=le(),n=new Ie,J(V.Initialized),e.next=7,de();case 7:return p=e.sent,i.log("Found cookie identifier: ",p),e.next=11,re(p);case 11:if(v=e.sent,f){e.next=31;break}if(!(v<50)){e.next=20;break}if(-1!==v){e.next=16;break}throw new Error("Could not determine cookie pct");case 16:G("isOn",r=!1),e.next=22;break;case 20:G("isOn",r=!0);case 22:if(J(V.UserOnOff),ve()){e.next=25;break}throw new Error("sendBeacon is not supported");case 25:if(!((l=parseInt(sessionStorage.getItem(s))||0)>1)){e.next=29;break}throw J(V.TimeoutThresholdReached),new Error("Nextday timeout threshold reached");case 29:e.next=33;break;case 31:i.info("Debug mode on: all applicable treatments will be applied"),window.localStorage.setItem(I,!0);case 33:if(document.documentElement.classList.contains("nextDay-hide")){e.next=37;break}throw J(V.ScriptTimeOut),sessionStorage.setItem(s,l+1),new Error("Nextday script timed out");case 37:if(null!==(t=window.beagleInfoLayer)&&void 0!==t&&t.vvsIsShowroom&&window.localStorage.setItem(I,!0),"true"===window.localStorage.getItem(I)?(i.warn("User is out of scope"),null!="isOn"&&delete window.beagleInfoLayer.isOn):(window.dataLayer=window.dataLayer||[],!0===(null===(k=window.beagleInfoLayer)||void 0===k?void 0:k.isOn)?window.dataLayer.push({event:"GLOV",GLOV_ON:"true"}):!1===(null===(S=window.beagleInfoLayer)||void 0===S?void 0:S.isOn)&&window.dataLayer.push({event:"GLOV",GLOV_ON:"false"})),!1!==r){e.next=42;break}throw new Error("Control group: no treatments applied");case 42:return n.sendLogs(),L=window.location.search,O=f&&L.includes("filter=")?L.slice(L.indexOf("[")+1,L.lastIndexOf("]")).split(",").map((function(e){return parseInt(e,10)})):null,ce(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ne=w,oe=b,ae=h,ie=m,ue=y,fe=sessionStorage.getItem(ne),pe=sessionStorage.getItem(oe),ge=sessionStorage.getItem(ae),he=sessionStorage.getItem(ie),me=sessionStorage.getItem(ue),fe?sessionStorage.setItem(ne,parseInt(fe)+1):sessionStorage.setItem(ne,1),null===pe&&sessionStorage.setItem(oe,0),ge||sessionStorage.setItem(ae,crypto.randomUUID()),he||sessionStorage.setItem(ie,Date.now()),me?sessionStorage.setItem(ue,[window.location.pathname,me]):sessionStorage.setItem(ue,[window.location.pathname]),setTimeout((function(){Z()}),2e3),A=Ce.getTreatments(),T=Ce.getTreatmentWeights(),C=window.matchMedia(g).matches,P={subtree:!0,childList:!0,attributes:!0},E=function(){var e=c(u().mark((function e(t){var n,r,s,l,d,v,g,h,m,y,w,b,k,x,S,I,L,A,T,P,E,_,N,j,D;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.actions,s=t.baseRuleSet,l=t.device,d=t.dependant_on_treatment,v=t.reapply_event,g=t.businessRuleSet,h=t.weight,m=t.delay,!O||O.includes(n)){e.next=3;break}return e.abrupt("return");case 3:if("mobile"!==l||C){e.next=6;break}return i.log("Treatment device 'mobile' mismatch"),e.abrupt("return");case 6:if("desktop"!==l||!C){e.next=9;break}return i.log("Treatment device 'desktop' mismatch"),e.abrupt("return");case 9:if(v){y=v,Array.isArray(v)||(y=[v]),i.log("Reapply event '".concat(v,"' found for treatment: ").concat(n)),w=Ze(y);try{for(w.s();!(b=w.n()).done;)k=b.value,(x=W[k]?W[k]:[]).includes(n)?i.log("Treatment already added for reapply event"):W[k]=[].concat(a(x),[n])}catch(e){w.e(e)}finally{w.f()}}if(S=new Ye({baseRuleSet:s,businessRuleSet:g,bindings:{productInfo:U}}),i.log("Starting base rule set check for treatment: "+n),e.t0=!s,e.t0){e.next=18;break}return e.next=17,S.checkRules();case 17:e.t0=e.sent;case 18:if(!e.t0){e.next=56;break}if(I=100===h?0:100-h||50,d&&(A=null===(L=$.find((function(e){return e.id===d})))||void 0===L?void 0:L.weight,I=100===A?0:100-A||50),i.log("Treatment skip ratio: "+I),T=d||n,1!==f){e.next=27;break}e.t1=100,e.next=30;break;case 27:return e.next=29,re(p+T);case 29:e.t1=e.sent;case 30:if(P=e.t1,i.log("TreatmentPct: "+P+" with debug mode ".concat(f?"on":"off")),E=null,!g){e.next=39;break}return i.log("Starting sub variant rule set check for treatment: "+n),e.next=37,S.checkBusinessRules();case 37:(E=e.sent)?i.log("Applying business rule transformation with id: ",E):i.log("Applying treatment with default values");case 39:if(!(P<I)){e.next=43;break}return i.log("Treatment ".concat(n," skipped due to treatment split ratio")),z(n,{dependant_on_treatment:d||null,businessRuleId:E,variant:D}),e.abrupt("return");case 43:return e.next=45,se(p,r,E);case 45:if(_=e.sent,N=o(_,2),j=N[0],D=N[1],!m){e.next=52;break}return setTimeout(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(j,U);case 2:H(n,{businessRuleId:E,variant:D});case 3:case"end":return e.stop()}}),e)}))),m),e.abrupt("return");case 52:return e.next=54,be(j,U);case 54:return H(n,{businessRuleId:E,variant:D}),e.abrupt("return");case 56:i.log("Rule check failed for treatment: ",n);case 57:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(_=function(){var e=x;if(window.location.href.includes("/siparis-listesi.html")){var t=Array.from(document.querySelectorAll(".price"));if(t.push.apply(t,a(Array.from(document.querySelectorAll(".new-price")))),!t.length)return i.log("Price elements not found"),void window.localStorage.setItem(e,0);i.log("Price elements: ",t);var n=t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);i.log("Coupon applicable total price: ",n),n>=0&&window.localStorage.setItem(e,n)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)})(),window.location.href.includes("/siparis-listesi.html")&&(N=new MutationObserver((function(){i.log("Mutation observed, calling collectCABasketPrice"),_()})),(j=document.querySelector("#checkoutForm"))&&N.observe(j,P)),e.next=58,Promise.all([A,T,d]);case 58:if(D=e.sent,R=o(D,3),q=R[0],M=R[1],U=R[2],i.log("Found treatments: ",q),i.log("Found cookie percentage: ",v),i.log("Split_ratio: ",50),i.log("cookiePct < SPLIT_RATIO",v<50),i.info("Control group ratio: ".concat(50,"%")),F=new Ce({treatments:q,treatmentWeights:M,cookiePct:v}),J(V.TreatmentRepositoryCreated),($=F.getMatchedTreatments()).length){e.next=75;break}return i.log("No treatments matched, returning without further action"),Z(),e.abrupt("return",{v:void 0});case 75:W={},K=Ze($),e.prev=77,K.s();case 79:if((Y=K.n()).done){e.next=91;break}return Q=Y.value,e.prev=81,e.next=84,E(Q);case 84:e.next=89;break;case 86:e.prev=86,e.t0=e.catch(81),i.log("Error executing rules",e.t0);case 89:e.next=79;break;case 91:e.next=96;break;case 93:e.prev=93,e.t1=e.catch(77),K.e(e.t1);case 96:return e.prev=96,K.f(),e.finish(96);case 99:for(Z(),J(V.TreatmentsApplied),i.log("Applied treatments: ",window.beagleInfoLayer.a),setInterval((function(){n.updateLatestChanges()}),1e3),X=function(){var e=te[ee],t=W[e],n=$.filter((function(e){return t.includes(e.id)}));switch(e){case"infinite_scroll":var r=new ResizeObserver((function(){var e,t=Ze(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from infinite_scroll")),E(r)}}catch(e){t.e(e)}finally{t.f()}}));r.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,t=Ze(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from timeout")),E(r)}}catch(e){t.e(e)}finally{t.f()}}),500);break;case"element_change":var o,a=Ze(n);try{var c=function(){var e,t=o.value,n=Ze(Array.isArray(t.reapply_selector)?t.reapply_selector:[t.reapply_selector]);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=document.querySelector(r);a&&new MutationObserver((function(){i.log("Retrying treatment ".concat(t.id," from element_change")),E(t)})).observe(a,P)}}catch(e){n.e(e)}finally{n.f()}};for(a.s();!(o=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}break;case"on_scroll":window.onscroll=function(){var e,t=Ze(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from on_scroll")),E(r)}}catch(e){t.e(e)}finally{t.f()}};break;case"query_search_change":var s=window.location.search,u=new MutationObserver((function(){if(window.location.search!==s){s=window.location.search;var e,t=Ze(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.log("Retrying treatment ".concat(r.id," from query_search_change")),E(r)}}catch(e){t.e(e)}finally{t.f()}}}));u.observe(document,P);break;default:i.log("Reapply event not found: ",e)}},ee=0,te=Object.keys(W);ee<te.length;ee++)X();J(V.ReapplyTreatmentListeners);case 106:case"end":return e.stop()}var ne,oe,ae,ie,ue,fe,pe,ge,he,me}),e,null,[[77,93,96,99],[81,86]])}))(),"t0",9);case 9:if("object"!==e(d=t.t0)){t.next=12;break}return t.abrupt("return",d.v);case 12:t.next=19;break;case 14:t.prev=14,t.t1=t.catch(7),Z(),console.warn("Nextday: ",t.t1.message),n.sendLogs(t.t1.message,!0);case 19:case"end":return t.stop()}}),t,null,[[7,14]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxRQUN6Q3RULEVBQU9GLElBQVAsNkJBQWlDd1QsRUFBVXRQLEdBQTNDLDhCQUNBd2EsRUFBZ0JsTCxJQUp3QixtQ0FROUN1TSxFQUFTRyxRQUFRcGQsU0FBVXdiLEdBRTNCLE1BQ0YsUUFDRXBlLEVBQU9GLElBQUksNEJBQTZCbE0sS0FoRTlDLFFBQWtCZCxPQUFPbUgsS0FBSzhrQixHQUE5QixrQkFBcUQsSUFvRXJEamIsRUFBV3ZDLEVBQVlpQiwyQkF2VTFCLG1DYnlLc0MsSUFDOUJtYixHQUFZdkssR0FBb0J3SyxHQUFZQyxHQUFtQkMsR0FFaEVuRCxHQUNBb0QsR0FDQXRaLEdBQ0F1WixHQUNBQyxLYWhMUCxxTEF5VUdyUixJQUNBL00sUUFBUUUsS0FBSyxZQUFhLEtBQUlnRCxTQUM5QitaLEVBQVFTLFNBQVMsS0FBSXhhLFNBQVMsR0EzVWpDLHlEQUFELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRob3V0SG9sZXMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVNwcmVhZC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvbG9nZ2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZGF0YUxheWVyQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3VybENoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL0JlYWdsZUluZm9MYXllci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvc3RyaW5nVXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBwbHlUcmVhdG1lbnRzL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheU1vbml0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5VHJlYXRtZW50UmVwb3NpdG9yeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2NvdW50ZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZWxlbWVudENoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9mdW5jdGlvbkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9zZXNzaW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2VudkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9yYW5kb21OdW1iZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBpL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheUNsaWVudFNESy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBkZWZpbmUoR3AsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShcbiAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCxcbiAgICBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgKTtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgZGVmaW5lKEdwLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9KTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCBpbiBtb2Rlcm4gZW5naW5lc1xuICAvLyB3ZSBjYW4gZXhwbGljaXRseSBhY2Nlc3MgZ2xvYmFsVGhpcy4gSW4gb2xkZXIgZW5naW5lcyB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBnbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG4gIH0gZWxzZSB7XG4gICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGU7IH07XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgX3R5cGVvZihvYmopO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufSIsImltcG9ydCBhcnJheVdpdGhIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheUxpbWl0IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVJlc3QgZnJvbSBcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IG5vbkl0ZXJhYmxlUmVzdCgpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRob3V0SG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRob3V0SG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVNwcmVhZCBmcm9tIFwiLi9ub25JdGVyYWJsZVNwcmVhZC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59IiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtyZXBsYWNlQWxsfSBmcm9tIFwiLi9zdHJpbmdVdGlsc1wiO1xuXG5leHBvcnQgY29uc3QgQ09PS0lFX05BTUUgPSBcIl9nYVwiO1xuLy8gVE9ETyByZXZlcnQgdGhlIGZvbGxvd2luZyBzdGFnaW5nIGVudiBjaGVjayBhZnRlciBtb3ZpbmcgdG8gbmV3IGJyYW5jaCBzdHJ1Y3R1cmVcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRTX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi90cmVhdG1lbnRzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwic3RhZ2luZy52aXZlbnNlXCIpID8gXCJodHRwczovL25kdml2ZW5zZS5nbG92LmFpL3dlaWdodHNfc3RhZ2luZy5qc29uXCIgOiBcImh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvd2VpZ2h0cy5qc29uXCI7XG5leHBvcnQgY29uc3QgU1RZTEVTSEVFVF9MT0NBVElPTiA9IFwiaHR0cHM6Ly9ob3N0LWI5Ni5wYWdlcy5kZXYvbmQtc3R5bGVzLmNzc1wiO1xuZXhwb3J0IGNvbnN0IExPR19BUElfVVJMID0gXCJodHRwczovL2V1cm9wZS13ZXN0My1uZXh0ZGF5LTM0ZWIzLmNsb3VkZnVuY3Rpb25zLm5ldC9hcGkvbG9nUmVzcG9uc2VcIjtcbmV4cG9ydCBjb25zdCBMT09LVVBfQVBJX1VSTCA9IFwiaHR0cHM6Ly9jYXRhbG9nLWFwaS5hZG9yYWFpLmNvbVwiO1xuZXhwb3J0IGNvbnN0IE1PQklMRV9NRURJQV9RVUVSWSA9IFwiKG1heC13aWR0aDogNDQwcHgpXCI7XG4vLyBDb250cm9sIGdyb3VwIHBlcmNlbnRhZ2VcbmV4cG9ydCBjb25zdCBTUExJVF9SQVRJTyA9IDUwO1xuLy8gU2tpcHBlZCB0cmVhdG1lbnQgcGVyY2VudGFnZVxuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVF9SQVRJTyA9IDUwO1xuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVFNfRFVSQVRJT04gPSAxO1xuZXhwb3J0IGNvbnN0IE1BWF9USU1FT1VUX1BFUl9TRVNTSU9OID0gMTtcblxuXG5leHBvcnQgY29uc3QgU0VTU0lPTl9TVE9SQUdFX0tFWVMgPSB7XG4gIFNFU1NJT05fSUQ6IFwiX19uZXh0ZGF5X3Nlc3Npb25faWRcIixcbiAgU0VTU0lPTl9USU1FU1RBTVA6IFwiTkRfU2Vzc2lvblRpbWVzdGFtcFwiLFxuICBTRVNTSU9OX0hJU1RPUlk6IFwiQk5fU2Vzc2lvbkhpc3RvcnlcIixcbiAgVFJFQVRNRU5UUzogXCJORF9UcmVhdG1lbnRzXCIsXG4gIFBBR0VfVklFV1M6IFwiTkRfUGFnZVZpZXdzXCIsXG4gIFBPUFVQX0RJU1BMQVlfRkxBRzogXCJORF9Qb3B1cERpc3BsYXlGbGFnXCIsXG4gIE5EX1NLVV9MSVNUOiBcIk5EX1NrdUxpc3RcIixcbiAgVElNRU9VVF9DT1VOVDogXCJORF9UaW1lb3V0Q291bnRcIixcbn07XG5leHBvcnQgY29uc3QgTE9DQUxfU1RPUkFHRV9LRVlTID0ge1xuICBDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0U6IFwiTkRfQ0FCYXNrZXRQcmljZVwiLFxuICBORF9ERUJVR19NT0RFOiBcIk5EX0RlYnVnXCIsXG4gIE9VVF9PRl9TQ09QRTogXCJORF9PdXRPZlNjb3BlXCIsXG4gIFVTRVJfSUQ6IFwiTkRfVXNlcklkXCIsXG59O1xuIiwiaW1wb3J0IHtMT0NBTF9TVE9SQUdFX0tFWVN9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuY2xhc3MgTG9nZ2VyIHtcbiAgY29uc3RydWN0b3Iob3JpZ2luID0gXCJOZXh0ZGF5IENsaWVudCBTREtcIikge1xuICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xuICAgIHRoaXMuREVCVUcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk5EX0RFQlVHX01PREUpO1xuICB9XG5cbiAgaW5mbyguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUuaW5mbyhgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGxvZyguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoREVCVUcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHdhcm4oLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLndhcm4oYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cblxuICBlcnJvciguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUuZXJyb3IoYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRGF0YUxheWVyIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0RhdGFMYXllclJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IGRhdGFMYXllckZpbmRlcihvcGVyYXRvcik7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGF0YUxheWVyRmluZGVyID0gKGtleSkgPT4ge1xuICBsb2dnZXIubG9nKFwiU2VhcmNoaW5nIGJlYWdsZUluZm9MYXllciBmb3Iga2V5IFwiLCBrZXkpO1xuICBsZXQgcmVzID0gd2luZG93LmJlYWdsZUluZm9MYXllcltrZXldO1xuICBpZiAoa2V5LmluY2x1ZGVzKFwiLlwiKSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KFwiLlwiKTtcbiAgICAgIHJlcyA9IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXJba2V5c1swXV07XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzID0gcmVzW2tleXNbaV1dO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmxvZyhgQ291bGRuJ3QgZXh0cmFjdCBrZXkgJHtrZXl9IGZyb20gYmVhZ2xlSW5mb0xheWVyYCk7XG4gICAgICByZXMgPSBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAocmVzKSB7XG4gICAgbG9nZ2VyLmxvZyhgRm91bmQga2V5ICR7a2V5fSB3aXRoIHZhbHVlICR7cmVzfWApO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgbG9nZ2VyLmxvZyhgS2V5ICR7a2V5fSBub3QgZm91bmQgaW4gYmVhZ2xlSW5mb0xheWVyYCk7XG5cbiAgbG9nZ2VyLmxvZyhcIlNlYXJjaGluZyBkYXRhTGF5ZXIgZm9yIGtleSBcIiwga2V5KTtcbiAgZm9yIChjb25zdCBvYmogb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGlmIChrZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIGxvZ2dlci5sb2coYEZvdW5kIGtleSAke2tleX0gd2l0aCB2YWx1ZSAke29ialtrZXldfWApO1xuICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgIH1cbiAgfVxuICBsb2dnZXIubG9nKGBLZXkgJHtrZXl9IG5vdCBmb3VuZCBpbiBkYXRhTGF5ZXJgKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgVXJsIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1VybFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJwYXRoXCI6IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RVUkw9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgY29uc3QgaXNBamF4ID0gcmVxdWVzdFVSTC5pbmNsdWRlcyhcImFqYXgvbW9iaWxlLXNlYXJjaC9sb2FkT3RoZXJQYWdlcy5waHBcIik7XG4gICAgICBjb25zdCBwYXRoID0gIWlzQWpheCA/IG5ldyBVUkwocmVxdWVzdFVSTCkucGF0aG5hbWUgOlxuICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICAgIG5ldyBVUkwocmVxdWVzdFVSTCkuc2VhcmNoLnJlcGxhY2UoXCI/b3JpZ2luYWxQYXRoPVwiLCBcIlwiKSxcbiAgICAgICk7XG4gICAgICBsb2dnZXIubG9nKGBDaGVja2luZyBwYXRoICR7cGF0aH0gbWF0Y2hlcyBydWxlIHBhdGggJHt2YWx1ZX1gKTtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHBhdGgsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufSIsImltcG9ydCB7ZXh0cmFjdENvb2tpZUlkZW50aWZpZXIsIGZvcm1hdERlbGl2ZXJ5RGF0ZX0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTLCBTUExJVF9SQVRJT30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbndpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgPSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyIHx8IHtjaGVja3BvaW50czogW10sXG4gIGE6IHt9LCBlOiB7fX07XG5cbmNvbnN0IHBhcnNpbmdSZWdleCA9IHtcbiAgUGFnZVR5cGU6IC8oPzpQYWdlVHlwZSdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIGNvbnRlbnRfbmFtZTogLyg/OmNvbnRlbnRfbmFtZVsgXSo6WyBdKlwiKSguKikoPzpcIikvLFxuICBjb250ZW50X25hbWVfYWx0OiAvKD86Y29udGVudF9uYW1lJ1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgdnZzU2NyR0FQYWdlVHlwZTogLyg/OlBhZ2VUeXBlJ1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgdnZzU2NyR0FPcmRlcklkOiAvKD86cHVyY2hhc2VbXFxzXFxTXSphY3Rpb25GaWVsZFtcXHNcXFNdKidpZCdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIHZ2c1NjckdBT3JkZXJSZXY6IC8oPzpwdXJjaGFzZVtcXHNcXFNdKmFjdGlvbkZpZWxkW1xcc1xcU10qJ3JldmVudWUnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICB2dnNTY3JHQU9yZGVyVHlwZTogLyg/OnB1cmNoYXNlW1xcc1xcU10qYWN0aW9uRmllbGRbXFxzXFxTXSonZGltZW5zaW9uMTUnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICB2dnNTY3JHQUlzQWRtaW46IC8oPzpkYXRhTGF5ZXJbXFxzXFxTXSonaXNBZG1pbidbIF0qOlsgXSpcIikoLiopKD86XCIpLyxcbn07XG5cbmV4cG9ydCBjb25zdCBjaGVja3BvaW50cyA9IHtcbiAgQmVhZ2xlTG9hZGVkOiAxLFxuICBJbml0aWFsaXplZDogMixcbiAgVXNlck9uT2ZmOiAzLFxuICBTY3JpcHRUaW1lT3V0OiA3LFxuICBUcmVhdG1lbnRSZXBvc2l0b3J5Q3JlYXRlZDogNCxcbiAgVHJlYXRtZW50c0FwcGxpZWQ6IDUsXG4gIFJlYXBwbHlUcmVhdG1lbnRMaXN0ZW5lcnM6IDYsXG4gIFRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkOiA4LFxufTtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUluZm9MYXllclwiKTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVCZWFnbGVJbmZvTGF5ZXIgPSAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgYmVhZ2xlSW5mb0xheWVyXCIpO1xuICBjb25zdCBzY3JpcHRzID0gZG9jdW1lbnQuc2NyaXB0cztcbiAgY29uc3Qgc2NyaXB0c0xlbmd0aCA9IHNjcmlwdHMubGVuZ3RoO1xuXG4gIHRyeSB7XG4gICAgcHJlcGFyZURhdGEoKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKFwiQ291bGQgbm90IHByZXBhcmUgbG9nIGRhdGE6IFwiLCBlcnIubWVzc2FnZSk7XG4gIH1cblxuICBpZiAoIXNjcmlwdHMgfHwgIXNjcmlwdHNMZW5ndGgpIHtcbiAgICBsb2dnZXIud2FybihcIkNvdWxkIG5vdCBwYXJzZSBib2R5XCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZm91bmRTY3JpcHRDb3VudCA9IDA7XG4gIGZvciAobGV0IGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgY29uc3Qgc2NyaXB0VGV4dENvbnRlbnQgPSBzY3JpcHRzW2ldLnRleHRDb250ZW50O1xuICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyhwYXJzaW5nUmVnZXgpKSB7XG4gICAgICBsZXQgZm91bmRWYWwgPSBwYXJzaW5nUmVnZXhba2V5XS5leGVjKHNjcmlwdFRleHRDb250ZW50KTtcbiAgICAgIGZvdW5kVmFsID0gZm91bmRWYWwgPyBmb3VuZFZhbFsxXSA6IG51bGw7XG4gICAgICBpZiAoZm91bmRWYWwpIHtcbiAgICAgICAgaWYgKGtleS5pbmRleE9mKFwiX2FsdFwiKSA+IDApIGtleSA9IGtleS5zdWJzdHJpbmcoMCwga2V5Lmxhc3RJbmRleE9mKFwiX2FsdFwiKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoa2V5LCBkZWNvZGVVUklDb21wb25lbnQoSlNPTi5wYXJzZShcIlxcXCJcIiArIGZvdW5kVmFsICsgXCJcXFwiXCIpKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlci53YXJuKGBDb3VsZCBub3QgZGVjb2RlIGZvdW5kVmFsICR7Zm91bmRWYWx9YCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm91bmRTY3JpcHRDb3VudCArPSAxO1xuICAgICAgICBpZiAoZm91bmRTY3JpcHRDb3VudCA9PT0gT2JqZWN0LmtleXMocGFyc2luZ1JlZ2V4KS5sZW5ndGgpIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3Qgc2NyaXB0c0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIC8vIHNjcmlwdHMgd2lsbCBiZSBkeW5hbWljYWxseSB1cGRhdGVkLCBjYW4gaGF2ZSBkaWZmZXJlbnQgbGVuZ3RocyBiZXR3ZWVuIHdoZW4gaW5pdGlhbGl6ZWQgYW5kIHdoZW4gY2hlY2tpbmdcbiAgICBpZiAoc2NyaXB0c0xlbmd0aCAhPT0gc2NyaXB0cy5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJOZXcgc2NyaXB0cyBkZXRlY3RlZCwgcmUtaW5pdGlhbGl6aW5nIGJlYWdsZUluZm9MYXllclwiKTtcbiAgICAgIGluaXRpYWxpemVCZWFnbGVJbmZvTGF5ZXIoKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwoc2NyaXB0c0ludGVydmFsKTtcbiAgICB9IGVsc2UgY2xlYXJJbnRlcnZhbChzY3JpcHRzSW50ZXJ2YWwpO1xuICB9LCAxMCk7XG4gIC8vIGZhbGxiYWNrIHRvIGNsZWFyIGludGVydmFsIGlmIGl0IGZhaWxzIHRvIGNsZWFyIGl0c2VsZlxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjbGVhckludGVydmFsKHNjcmlwdHNJbnRlcnZhbCk7XG4gIH0sIDI1MCk7XG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2twb2ludCA9IChjaGVja3BvaW50KSA9PntcbiAgdHJ5IHtcbiAgICBsb2dnZXIubG9nKGBDaGVja3BvaW50OiAnJHtjaGVja3BvaW50fScgUmVhY2hlZCFgKTtcbiAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmNoZWNrcG9pbnRzLnB1c2goe1xuICAgICAgY2hlY2twb2ludDogT2JqZWN0LmtleXMoY2hlY2twb2ludHMpLmZpbmQoKGtleSkgPT4gY2hlY2twb2ludHNba2V5XSA9PT0gY2hlY2twb2ludCksXG4gICAgICBpZDogY2hlY2twb2ludCxcbiAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIud2FybihlKTtcbiAgfVxuICByZXR1cm47XG59O1xuXG5leHBvcnQgY29uc3QgYWRkVG9CZWFnbGVJbmZvTGF5ZXIgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgd2luZG93LmJlYWdsZUluZm9MYXllcltrZXldID0gdmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllciA9IChrZXkpID0+IHtcbiAgaWYgKGtleSA9PT0gbnVsbCB8fCBrZXkgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBkZWxldGUgd2luZG93LmJlYWdsZUluZm9MYXllcltrZXldO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZEFwcGxpZWRUcmVhdG1lbnQgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmFba2V5XSA9IHZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZEVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudCA9IChrZXksIHZhbHVlKSA9PiB7XG4gIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuZVtrZXldID0gdmFsdWU7XG59O1xuXG5jb25zdCBwcmVwYXJlRGF0YSA9ICgpID0+IHtcbiAgY29uc3Qgdmlld0lkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgY29uc3Qgc2Vzc2lvbklkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX0lEKTtcbiAgY29uc3QgY3VycmVudFVSTCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICBjb25zdCBwbGF0Zm9ybSA9IHdpbmRvdy5uYXZpZ2F0b3I/LnVzZXJBZ2VudERhdGE/LnBsYXRmb3JtIHx8IHdpbmRvdy5uYXZpZ2F0b3I/LnBsYXRmb3JtIHx8XG4gIHdpbmRvdy5uYXZpZ2F0b3I/LnVzZXJBZ2VudDtcblxuICBsZXQgZ2FPYmplY3RzID0ge307XG5cbiAgZm9yIChjb25zdCBnYURMRWxlbWVudCBvZiB3aW5kb3cuZGF0YUxheWVyKSB7XG4gICAgZ2FPYmplY3RzID0gey4uLmdhT2JqZWN0cywgLi4uZ2FETEVsZW1lbnR9O1xuICB9XG5cbiAgY29uc3QgdmlzaWxhYnNjayA9IEpTT04ucGFyc2UoZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcIlZMX0NNXzBcIikpO1xuXG4gIGNvbnN0IHZsT2JqZWN0cyA9IHt9O1xuXG4gIGlmICh2aXNpbGFic2NrICYmIHZpc2lsYWJzY2suSXRlbXMpIHtcbiAgICBmb3IgKGNvbnN0IHZsRWxlbWVudCBvZiB2aXNpbGFic2NrLkl0ZW1zKSB7XG4gICAgICB2bE9iamVjdHNbdmxFbGVtZW50LktdID0gZGVjb2RlVVJJQ29tcG9uZW50KHZsRWxlbWVudC5WKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qIFZJU0lMQUJTICovXG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVWTFBWaW5WaXNpdFwiLCB2bE9iamVjdHMuVkxfUFZDb3VudEluVmlzaXQpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZVZMVmlzaXREdXJhdGlvblwiLCB2bE9iamVjdHMuVkxfVG90YWxEdXJhdGlvbik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llVkxUb3RhbFBWXCIsIHZsT2JqZWN0cy5WTF9Ub3RhbFBWKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVWTFRvdGFsVmlzaXRcIiwgdmxPYmplY3RzLlZMX1RvdGFsVmlzaXQpO1xuXG4gIC8qIEdBICovXG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVBhZ2VUeXBlXCIsIGdhT2JqZWN0cy5QYWdlVHlwZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQcm9kdWN0TmFtZVwiLCBnYU9iamVjdHMuY29udGVudF9uYW1lKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVZpZXdUeXBlXCIsIGdhT2JqZWN0cy5jb250ZW50X3R5cGUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHJvZHVjdENhdGVnb3J5XCIsIGdhT2JqZWN0cy5jb250ZW50X2NhdGVnb3J5KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVByb2R1Y3RJRFwiLCBnYU9iamVjdHMuY29udGVudF9pZHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1Byb2R1Y3RDYXRlZ29yeVwiLCBnYU9iamVjdHMudml2ZW5zZV9jYXRlZ29yeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FMaXN0aW5nTmFtZVwiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5kZXRhaWw/LmFjdGlvbkZpZWxkPy5saXN0KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNJc1Nob3dyb29tXCIsICh3aW5kb3cuaXNBZG1pbj09PXVuZGVmaW5lZCkgPyBnYU9iamVjdHMuaXNBZG1pbiA6IHdpbmRvdy5pc0FkbWluKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQcm9kdWN0R3JvdXBcIiwgZ2FPYmplY3RzLnByb2R1Y3RHcm91cCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVXNlcklkXCIsIGdhT2JqZWN0cy51c2VySWQpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0NhdGVnb3J5XCIsIGdhT2JqZWN0cy52aXZlbnNlX2NhdGVnb3J5KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYUNhdGVnb3J5UHJvZHVjdENvbnRcIiwgZ2FPYmplY3RzLmNhdGVnb3J5X3Byb2R1Y3RfY291bnQpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhQ2FydFByb2R1Y3RzXCIsIGdhT2JqZWN0cy5lY29tbWVyY2U/LmNoZWNrb3V0Py5wcm9kdWN0cyB8fFxuICAgIGdhT2JqZWN0cy5lY29tbWVyY2U/LnB1cmNoYXNlPy5wcm9kdWN0cyk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQUHJvZHVjdFwiLCBnYU9iamVjdHMudml2ZW5zZVByb2R1Y3RzPy5wb3AoKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQdXJjaGFzZUlkXCIsIGdhT2JqZWN0cy5lY29tbWVyY2U/LnB1cmNoYXNlPy5hY3Rpb25GaWVsZD8uaWQpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHVyY2hhc2VSZXZlbnVlXCIsIGdhT2JqZWN0cy5lY29tbWVyY2U/LnB1cmNoYXNlPy5hY3Rpb25GaWVsZD8ucmV2ZW51ZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQdXJjaGFzZVBheVR5cGVcIiwgZ2FPYmplY3RzLmVjb21tZXJjZT8ucHVyY2hhc2U/LmFjdGlvbkZpZWxkPy5kaW1lbnNpb24xNSk7XG5cbiAgLyogd2luZG93IHZpZXcgYXJlYSAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd1BhcmFtc1wiLCB3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dQUmF0aW9cIiwgd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd0lubmVyXCIsIHdpbmRvdy5pbm5lcldpZHRoKTtcblxuICBjb25zdCB3aW5kb3dTY3JlZW4gPSB7fTtcbiAgd2luZG93U2NyZWVuLmF2YWlsSGVpZ2h0ID0gd2luZG93LnNjcmVlbj8uYXZhaWxIZWlnaHQ7XG4gIHdpbmRvd1NjcmVlbi5hdmFpbEhlaWdodCA9IHdpbmRvdy5zY3JlZW4/LmF2YWlsSGVpZ2h0O1xuICB3aW5kb3dTY3JlZW4uYXZhaWxMZWZ0ID0gd2luZG93LnNjcmVlbj8uYXZhaWxMZWZ0O1xuICB3aW5kb3dTY3JlZW4uYXZhaWxUb3AgPSB3aW5kb3cuc2NyZWVuPy5hdmFpbFRvcDtcbiAgd2luZG93U2NyZWVuLmF2YWlsV2lkdGggPSB3aW5kb3cuc2NyZWVuPy5hdmFpbFdpZHRoO1xuICB3aW5kb3dTY3JlZW4uY29sb3JEZXB0aCA9IHdpbmRvdy5zY3JlZW4/LmNvbG9yRGVwdGg7XG4gIHdpbmRvd1NjcmVlbi5oZWlnaHQgPSB3aW5kb3cuc2NyZWVuPy5oZWlnaHQ7XG4gIHdpbmRvd1NjcmVlbi5waXhlbERlcHRoID0gd2luZG93LnNjcmVlbj8ucGl4ZWxEZXB0aDtcbiAgd2luZG93U2NyZWVuLndpZHRoID0gd2luZG93LnNjcmVlbj8ud2lkdGg7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93U2NyZWVuXCIsIHdpbmRvd1NjcmVlbik7XG5cbiAgY29uc3Qgd2luZG93VlBvcnQgPSB7fTtcbiAgd2luZG93VlBvcnQuaGVpZ2h0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5oZWlnaHQ7XG4gIHdpbmRvd1ZQb3J0Lm9mZnNldExlZnQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/Lm9mZnNldExlZnQ7XG4gIHdpbmRvd1ZQb3J0Lm9mZnNldFRvcCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ub2Zmc2V0VG9wO1xuICB3aW5kb3dWUG9ydC5vbnJlc2l6ZSA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ub25yZXNpemU7XG4gIHdpbmRvd1ZQb3J0Lm9uc2Nyb2xsID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5vbnNjcm9sbDtcbiAgd2luZG93VlBvcnQucGFnZUxlZnQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/LnBhZ2VMZWZ0O1xuICB3aW5kb3dWUG9ydC5wYWdlVG9wID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5wYWdlVG9wO1xuICB3aW5kb3dWUG9ydC5zY2FsZSA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8uc2NhbGU7XG4gIHdpbmRvd1ZQb3J0LndpZHRoID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py53aWR0aDtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dWUG9ydFwiLCB3aW5kb3dWUG9ydCk7XG5cbiAgaWYgKHNjcmVlbi53aWR0aCkge1xuICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KHNjcmVlbi53aWR0aCk7XG4gICAgbGV0IGhlaWdodCA9IChzY3JlZW4uaGVpZ2h0KSA/IHBhcnNlSW50KHNjcmVlbi5oZWlnaHQpIDogMDtcbiAgICBpZiAod2lkdGggIT09IDAgJiYgaGVpZ2h0ICE9PSAwKSB7XG4gICAgICBjb25zdCBpT1MgPSAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChwbGF0Zm9ybSk7XG4gICAgICBpZiAoaU9TICYmIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSB7XG4gICAgICAgIC8vIGlvcyBwcm92aWRlcyBEUElzLCBuZWVkIHRvIG11bHRpcGx5XG4gICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoTWF0aC5hYnMod2luZG93Lm9yaWVudGF0aW9uKSA9PT0gOTApIHtcbiAgICAgICAgICAvLyB3ZSBoYXZlIGxhbmRzY2FwZSBvcmllbnRhdGlvblxuICAgICAgICAgIC8vIHN3aXRjaCB2YWx1ZXMgZm9yIGFsbCBleGNlcHQgaW9zXG4gICAgICAgICAgY29uc3QgdGVtcCA9IHdpZHRoO1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0O1xuICAgICAgICAgIGhlaWdodCA9IHRlbXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93XCIsIHdpZHRoICsgXCJ4XCIgKyBoZWlnaHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qIG5hdmlnYXRvciAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdkhpc3RTaXplXCIsIHdpbmRvdy5oaXN0b3J5Py5sZW5ndGgpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdkFnZW50XCIsIG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAvLyBjaGVjayBpZiB1c2VyQWdlbnREYXRhIGlzIHN1cHBvcnRlZCBhbmQgdXNlckFnZW50IGlzIG5vdCBhdmFpbGFibGUsIHVzZSBpdFxuICBpZiAoIXdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIubmF2QWdlbnQpIHtcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudERhdGEpIHtcbiAgICAgIC8vIHR1cm4gYnJhbmRzIGFycmF5IGludG8gc3RyaW5nXG4gICAgICBsZXQgbmF2QWdlbnQgPSBuYXZpZ2F0b3I/LnVzZXJBZ2VudERhdGE/LmJyYW5kcz8ubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuYnJhbmQgKyBcIjpcIiArIGUudmVyc2lvbjtcbiAgICAgIH0pLmpvaW4oKTtcbiAgICAgIC8vIGFkZCBtb2JpbGUgaW5mb1xuICAgICAgbmF2QWdlbnQgKz0gKG5hdmlnYXRvcj8udXNlckFnZW50RGF0YT8ubW9iaWxlID8gXCJtb2JpXCIgOiBcIiBcIik7XG4gICAgICAvLyBhZGQgcGxhdGZvcm0gaW5mb1xuICAgICAgbmF2QWdlbnQgKz0gcGxhdGZvcm07XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdkFnZW50XCIsIG5hdkFnZW50KTtcbiAgICB9XG4gIH1cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZIV0NvcmVzXCIsIG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZMYW5ndWFnZVwiLCBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZSB8fFxuICAgbmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlIHx8IG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdlRvdWNoXCIsIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2UGxhdGZvcm1cIiwgcGxhdGZvcm0pO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdlZlbmRvclwiLCBuYXZpZ2F0b3IudmVuZG9yKTtcblxuICAvKiBjb29raWVzICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llR2FJZFwiLCBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwiX2dhXCIpKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVMYXN0QnJlYWRDcnVtYlwiLCBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwibGFzdGJyZWFkY3J1bWJcIikpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZUxhc3RDYXRlZ29yeVwiLCBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwibGFzdGNhdGVnb3J5XCIpKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVGaXJzdEVudHJ5XCIsIGRlY29kZVVSSUNvbXBvbmVudChcbiAgICAgIGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJ2aXZlbnNlZmlyc3RcIikpKTtcblxuICAvKiBwZXJmb3JtYW5jZSBtZXRyaWNzICovXG4gIGNvbnN0IHBlcmZNZXRyaWNzID0ge307XG4gIGlmICh3aW5kb3cucGVyZm9ybWFuY2UgJiYgd2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpWzBdKSB7XG4gICAgY29uc3QgcGVyZk5hdmlnYXRpb25NZXRyaWNzID0gd2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpWzBdO1xuICAgIHBlcmZNZXRyaWNzLnBsZCA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUNvbnRlbnRMb2FkZWRFdmVudEVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5jb25uZWN0U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLm5ldCA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmNvbm5lY3RFbmQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZmV0Y2hTdGFydCk7XG4gICAgcGVyZk1ldHJpY3Muc3J2ID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MucmVzcG9uc2VTdGFydCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXF1ZXN0U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLnRmciA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlRW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlU3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLmRtaSA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUludGVyYWN0aXZlIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlRW5kKTtcbiAgICBwZXJmTWV0cmljcy5kY3AgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5kb21Db21wbGV0ZSAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5kb21JbnRlcmFjdGl2ZSk7XG4gICAgcGVyZk1ldHJpY3Mub25sID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MubG9hZEV2ZW50RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmxvYWRFdmVudFN0YXJ0KTtcbiAgfVxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInBlcmZNZXRyaWNzXCIsIHBlcmZNZXRyaWNzKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpbnRlcm5ldFNwZWVkXCIsIHdpbmRvdy5uYXZpZ2F0b3I/LmNvbm5lY3Rpb24/LmRvd25saW5rKTtcblxuICAvKiBzY2hlbWEub3JnIGVsZW1lbnRzICovXG4gIGNvbnN0IHNjaGVtYU9yZ0VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW3R5cGU9XFxcImFwcGxpY2F0aW9uL2xkK2pzb25cXFwiXVwiKTtcblxuICBmb3IgKGNvbnN0IHNUYWcgb2Ygc2NoZW1hT3JnRWx0cykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjbnRudCA9IHNUYWcudGV4dENvbnRlbnQ7XG4gICAgICBjb25zdCBqc29uY29udGVudCA9IEpTT04ucGFyc2UoY250bnQpO1xuICAgICAgbGV0IGJjcnVtYl9zdHJpbmcgPSBcIkBcIjtcbiAgICAgIHN3aXRjaCAoanNvbmNvbnRlbnRbXCJAdHlwZVwiXSkge1xuICAgICAgICAvLyBIT01FUEFHRVxuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJXZWJTaXRlXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy8gUExQXG4gICAgICAgIGNhc2UgXCJDb2xsZWN0aW9uUGFnZVwiOiB7XG4gICAgICAgICAgZm9yIChjb25zdCBiY3J1bWl0ZW0gb2YganNvbmNvbnRlbnRbXCJicmVhZGNydW1iXCJdW1wiaXRlbUxpc3RFbGVtZW50XCJdKSB7XG4gICAgICAgICAgICBiY3J1bWJfc3RyaW5nICs9IFwiIHwgXCIgKyBiY3J1bWl0ZW1bXCJpdGVtXCJdW1wibmFtZVwiXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzb3JnQnJlYWRjcnVtYlwiLCBiY3J1bWJfc3RyaW5nKTtcbiAgICAgICAgICBjb25zdCBzb3JnTGlzdGluZyA9IHt9O1xuICAgICAgICAgIHNvcmdMaXN0aW5nLm5hbWUgPSBqc29uY29udGVudFtcIm1haW5FbnRpdHlcIl1bXCJuYW1lXCJdO1xuICAgICAgICAgIHNvcmdMaXN0aW5nLmNvdW50SXRlbXMgPSBqc29uY29udGVudFtcIm1haW5FbnRpdHlcIl1bXCJudW1iZXJPZkl0ZW1zXCJdO1xuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic29yZ0xpc3RpbmdcIiwgc29yZ0xpc3RpbmcpO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy8gUERQXG4gICAgICAgIGNhc2UgXCJCcmVhZGNydW1iTGlzdFwiOlxuICAgICAgICAgIGZvciAoY29uc3QgYmNydW1pdGVtIG9mIGpzb25jb250ZW50W1wiaXRlbUxpc3RFbGVtZW50XCJdKSB7XG4gICAgICAgICAgICBiY3J1bWJfc3RyaW5nICs9IFwiIHwgXCIgKyBiY3J1bWl0ZW1bXCJuYW1lXCJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNvcmdCcmVhZGNydW1iXCIsIGJjcnVtYl9zdHJpbmcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiUHJvZHVjdFwiOiB7XG4gICAgICAgICAgY29uc3Qgc29yZ1Byb2R1Y3QgPSB7fTtcbiAgICAgICAgICBzb3JnUHJvZHVjdC5za3UgPSBqc29uY29udGVudFtcInNrdVwiXTtcbiAgICAgICAgICBzb3JnUHJvZHVjdC5uYW1lID0ganNvbmNvbnRlbnRbXCJuYW1lXCJdO1xuICAgICAgICAgIGlmIChqc29uY29udGVudFtcIm9mZmVyc1wiXSkge1xuICAgICAgICAgICAgc29yZ1Byb2R1Y3QucHJpY2UgPSBqc29uY29udGVudFtcIm9mZmVyc1wiXVtcInByaWNlXCJdO1xuICAgICAgICAgICAgc29yZ1Byb2R1Y3QucHJpY2VDdXJyZW5jeSA9IGpzb25jb250ZW50W1wib2ZmZXJzXCJdW1wicHJpY2VDdXJyZW5jeVwiXTtcbiAgICAgICAgICAgIHNvcmdQcm9kdWN0LnByaWNlVmFsaWRVbnRpbCA9IGpzb25jb250ZW50W1wib2ZmZXJzXCJdW1wicHJpY2VWYWxpZFVudGlsXCJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNvcmdQcm9kdWN0XCIsIHNvcmdQcm9kdWN0KTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUubG9nKGpzb25jb250ZW50KTtcbiAgICAgIH0gLy8gc3dpdGNoXG4gICAgfSBjYXRjaCAoZXJyKSB7IC8vIHRyeVxuICAgICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qIE5leHRkYXkgZGF0YSAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZcIiwgXCIwLjAuMjdcIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiblwiLCBgbmV4dGRheS1zZXNzaW9uX2lkLSR7c2Vzc2lvbklkfWApO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNyXCIsIFNQTElUX1JBVElPKTtcblxuICAvKiBtaXNjZWxsYW5lb3VzICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZG9udHRyYWNrXCIsIG5hdmlnYXRvci5kb05vdFRyYWNrIHx8IHdpbmRvdy5kb05vdFRyYWNrIHx8IG5hdmlnYXRvci5tc0RvTm90VHJhY2spO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInVcIiwgY3VycmVudFVSTC5ocmVmKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkXCIsIGN1cnJlbnRVUkwuaG9zdG5hbWUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInJcIiwgZG9jdW1lbnQucmVmZXJyZXIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZJZFwiLCB2aWV3SWQpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImlzT25cIiwgbnVsbCk7XG5cbiAgLyogVml2ZW5zZSBzcGVjaWZpYyAqL1xuICB0cnkge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzQ250RmF2UHJvZHNcIiwgd2luZG93LmZhdm9yaXRlUHJvZHVjdHMgPyBKU09OLnBhcnNlKHdpbmRvdy5mYXZvcml0ZVByb2R1Y3RzKS5sZW5ndGggOiBudWxsKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNDbnRGYXZQcm9kc1wiLCBudWxsKTtcbiAgICBsb2dnZXIud2FybihlcnIubWVzc2FnZSk7XG4gIH1cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNIYXNTZXRFbWFpbFwiLCB3aW5kb3cudXNlckVtYWlsLmxlbmd0aCA+IDApO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0xvZ2luVHlwZVwiLCB3aW5kb3cudXNlcklkID4gMCA/IFwibWVtYmVyXCIgOiBcImd1ZXN0XCIpO1xuXG4gIGxldCBzZWxlY3RlZEVsZW1lbnQ7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcImJhc2tldF9zdW1tYXJ5X3RvdGFsXFxcIl0sIFtjbGFzcyo9XFxcInRvdGFsX3Jvd1xcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1B1cmNQcmljZUVsdFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwib3JkZXJfZm9sbG93X251bWJcXFwiXSwgW2NsYXNzKj1cXFwiY2FydC10aXRsZS1ib3R0b21cXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQdXJjaGFzZU9yZGVySURcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcInBheW1lbnRfdHlwZV90aXRsZVxcXCJdLCBbY2xhc3MqPVxcXCJjYXJ0LXRpdGxlLWluZm9cXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQdXJjVHlwZUVsdFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2lkKj1cXFwiYnJlYWRjcnVtYi1vbFxcXCJdLCBbY2xhc3MqPVxcXCJsb25nLWJyZWFkY3J1bWJcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNWaWV3Q3J1bWJcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcIm9yZGVyLWZpbmFsLW51bWJlclxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0NhcnRUb3RhbFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwiYmFza2V0X3RvdGFsX3ByaWNlXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0Jhc2tldFRvdGFsXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbaWQqPVxcXCJjYXJ0X3F1YW50aXR5XFxcIl0sIFtjbGFzcyo9XFxcImJhc2tldF9sZW5ndGhcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNWaWV3QmFza2V0Q291bnRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcIndlbGNvbWVfdXNlcm5hbWVcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNWaWV3TG9nZ2VkaW5cIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0Lmxlbmd0aCA+IDAgOiBmYWxzZSk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltjbGFzcyo9XFxcInZpdmVuc2Utc2hvd3Jvb21zXFxcIl0gPiAqXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BEUFNob3dyb29tQ291bnRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQubGVuZ3RoIDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcImRlbGl2ZXJ5LWRhdGVcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQRFBEZWxpdmVyeURhdGVcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQRGVsaXZlcnlEYXRlRm9ybWF0dGVkXCIsIGZvcm1hdERlbGl2ZXJ5RGF0ZShzZWxlY3RlZEVsZW1lbnQ/LmlubmVyVGV4dCkpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJwcm9kdWN0LXRpdGxlXFxcIl0sIFtjbGFzcyo9XFxcImhlYWRlci1ib3R0b21cXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQRFBUaXRsZVwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwiY291bnQtb2YtcHJvZHVjdFxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BMUEl0ZW1Db3VudFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwic3ViY2F0ZWdvcmllcy10aXRsZVxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BMUE5hbWVcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtjaGVja0RhdGFMYXllclJ1bGV9IGZyb20gXCIuL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tVcmxSdWxlfSBmcm9tIFwiLi9OZXh0ZGF5UnVsZUVuZ2luZS91cmxDaGVja2VyXCI7XG5pbXBvcnQge2FkZFRvQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCB7XG4gIENPT0tJRV9OQU1FLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBTVFlMRVNIRUVUX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRTX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTixcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVdGlsc1wiKTtcbmNvbnN0IG1vbnRocyA9IHtcbiAgXCJvY2FrXCI6IDAsXG4gIFwixZ91YmF0XCI6IDEsXG4gIFwibWFydFwiOiAyLFxuICBcIm5pc2FuXCI6IDMsXG4gIFwibWF5xLFzXCI6IDQsXG4gIFwiaGF6aXJhblwiOiA1LFxuICBcInRlbW11elwiOiA2LFxuICBcImHEn3VzdG9zXCI6IDcsXG4gIFwiZXlsw7xsXCI6IDgsXG4gIFwiZWtpbVwiOiA5LFxuICBcImthc8SxbVwiOiAxMCxcbiAgXCJhcmFsxLFrXCI6IDExLFxufTtcbmNvbnN0IHJhbmRvbVVVSURGYWxsYmFjayA9ICgpID0+IHtcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjMvMjgwMDIxOFxuICAvLyBMSUNFTlNFOiBodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvNC4wL2xlZ2FsY29kZVxuICBjcnlwdG8ucmFuZG9tVVVJRCA9IGZ1bmN0aW9uIHJhbmRvbVVVSUQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFsxZTddICsgLTFlMyArIC00ZTMgKyAtOGUzICsgLTFlMTEpLnJlcGxhY2UoL1swMThdL2csXG4gICAgICAgIChjKSA9PiAoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KSxcbiAgICApO1xuICB9O1xufTtcblxuaWYgKCEoXCJyYW5kb21VVUlEXCIgaW4gY3J5cHRvKSkge1xuICByYW5kb21VVUlERmFsbGJhY2soKTtcbn1cblxuZXhwb3J0IGNvbnN0IHJlbW92ZURvY3VtZW50SGlkZSA9ICgpID0+IHtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJuZXh0RGF5LWhpZGVcIik7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUcmVhdG1lbnRzID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgdHJlYXRtZW50c1wiKTtcbiAgY29uc3QgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoKFRSRUFUTUVOVFNfTE9DQVRJT04pO1xuICByZXR1cm4gYXdhaXQgdHJlYXRtZW50cy5qc29uKCk7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgdHJlYXRtZW50IHdlaWdodHNcIik7XG4gIGNvbnN0IHRyZWF0bWVudFdlaWdodHMgPSBhd2FpdCBmZXRjaChUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTik7XG4gIHJldHVybiBhd2FpdCB0cmVhdG1lbnRXZWlnaHRzLmpzb24oKTtcbn07XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q29va2llSWRlbnRpZmllciA9IChjb29raWVTdHJpbmcsIGNvb2tpZU5hbWUpID0+IHtcbiAgaWYgKCFjb29raWVTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZCA9IGNvb2tpZVN0cmluZ1xuICAgICAgLnNwbGl0KFwiO1wiKVxuICAgICAgLm1hcCgodikgPT4gdi5zcGxpdChcIj1cIikpXG4gICAgICAucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgaWYgKHZbMF0gJiYgdlsxXSkge1xuICAgICAgICAgIGFjY1tkZWNvZGVVUklDb21wb25lbnQodlswXS50cmltKCkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2WzFdLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcblxuICBsZXQgaWRlbnRpZmllciA9IHBhcnNlZFtjb29raWVOYW1lXTtcbiAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGNvb2tpZU5hbWUgPT09IFwiX2dhXCIpIHtcbiAgICAvLyBleHRyYWN0IHVuaXF1ZSBpZGVudGlmaWVyIGZyb20gR0EgY29va2llXG4gICAgY29uc3QgaWRlbnRpZmllckluZGV4ID0gMjtcbiAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllci5zcGxpdChcIi5cIilbaWRlbnRpZmllckluZGV4XTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcjtcbn07XG5cbmV4cG9ydCBjb25zdCBkZXRlcm1pbmVQY3QgPSBhc3luYyAoaWRlbnRpZmllcikgPT4ge1xuICBjb25zdCBzdWJzdHJpbmdTdGFydFBvc2l0aW9uID0gOTtcbiAgY29uc3Qgc3Vic3RyaW5nTGVuZ3RoID0gODtcbiAgY29uc3Qgc3Vic3RyaW5nRW5kUG9zaXRpb24gPSBzdWJzdHJpbmdTdGFydFBvc2l0aW9uICsgc3Vic3RyaW5nTGVuZ3RoO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgY29uc3QgaGFzaFN0cmluZyA9IGF3YWl0IGNyZWF0ZUhhc2hTdHJpbmcoaWRlbnRpZmllcik7XG4gIC8vIE1hcCB0aGUgY29va2llIGhhc2ggdG8gYSBudW1iZXIgYmV0d2VlbiAwIC0+IDk5LFxuICAvLyB0aGlzIG51bWJlciBpcyB0aGUgb25SYXRpb25cbiAgY29uc3QgaGFzaE51bWJlciA9IHBhcnNlSW50KGhhc2hTdHJpbmcuc3Vic3RyaW5nKHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24sIHN1YnN0cmluZ0VuZFBvc2l0aW9uKSwgMTYpO1xuXG4gIHJldHVybiBoYXNoTnVtYmVyICUgMTAwO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUhhc2hTdHJpbmcgPSBhc3luYyAoc3RyaW5nVG9IYXNoKSA9PiB7XG4gIC8vIGVuY29kZSBzdHJpbmcgdG8gYW4gYXJyYXkgb2YgOC1iaXQgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXNcbiAgY29uc3QgZW5jb2RlZCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHJpbmdUb0hhc2gpO1xuXG4gIC8vIGhhc2ggdGhlIGVuY29kZWQgY29va2llIGludG8gYSBidWZmZXJcbiAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTFcIiwgZW5jb2RlZCk7XG5cbiAgLy8gY29udmVydCBidWZmZXIgdG8gYnl0ZSBhcnJheVxuICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcblxuICAvLyBjb252ZXJ0IGJ5dGVzIHRvIGhleCBzdHJpbmcgYW5kIHJldHVyblxuICByZXR1cm4gaGFzaEFycmF5Lm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKS5qb2luKFwiXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4aXRTY3JvbGxMaXN0ZW5lciA9IChjYWxsQmFjaykgPT4ge1xuICBjb25zdCBsb29wID0gKCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgaWYgKGxhc3RTY3JvbGxUb3AgLSA0MDAgPiBzY3JvbGxUb3ApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoZXhpdFNjcm9sbEludGVydmFsKTtcbiAgICAgIGNhbGxCYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIGxldCBsYXN0U2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgY29uc3QgZXhpdFNjcm9sbEludGVydmFsID0gc2V0SW50ZXJ2YWwobG9vcCwgNTAwKTtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhcHBseSB0cmVhdG1lbnRzIHRvIHRoZSBwYWdlIG9uIHNwZWNpZmljIG1lZGlhIHR5cGUuXG4gKiBAcGFyYW0ge01lZGlhUXVlcnlMaXN0fSBtZWRpYVF1ZXJ5Q29uZGl0aW9uIHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNTAwcHgpXCIpXG4gKiBAcGFyYW0ge0RPTU5vZGVMaXN0IH0gZWxlbWVudHMgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdi5wcm9kdWN0X2luZm9cIilcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZUNoYW5nZXNNYXAgeyBcIm1hcmdpbi10b3BcIiA6IFwiMTByZW1cIn1cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBjb25zdCBzdHlsZUFwcGxpY2F0b3IgPSAoZWxlbWVudHMsIHN0eWxlQ2hhbmdlc01hcCkgPT4ge1xuICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGUgY2hhbmdlc1wiLCBzdHlsZUNoYW5nZXNNYXAsIFwidG8gZWxlbWVudHNcIiwgZWxlbWVudHMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlQ2hhbmdlc01hcCkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdFN0eWxlU2hlZXQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgc3R5bGVTaGVldC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgc3R5bGVTaGVldC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICBzdHlsZVNoZWV0LmhyZWYgPSBTVFlMRVNIRUVUX0xPQ0FUSU9OO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlU2hlZXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmVBY3Rpb25zID0gYXN5bmMgKGlkZW50aWZpZXIsIGFjdGlvbnNUb1ByZXBhcmUsIGJ1c2luZXNzUnVsZUlkKSA9PiB7XG4gIGNvbnN0IGFjdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFjdGlvbnNUb1ByZXBhcmUpKTtcbiAgbGV0IHZhcmlhbnQgPSBudWxsO1xuICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgY29uc3Qge2J1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucywgdmFyaWFudHN9ID0gYWN0aW9uO1xuICAgIGlmICghYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zICYmICF2YXJpYW50cykgY29udGludWU7XG4gICAgaWYgKGJ1c2luZXNzUnVsZUlkICYmIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgZm9yIChjb25zdCBidXNpbmVzc1RyYW5zZm9ybWF0aW9uIG9mIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICBpZiAoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbi5pZCA9PT0gYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBidXNpbmVzc1RyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSBcImlkXCIpIHtcbiAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBidXNpbmVzc1RyYW5zZm9ybWF0aW9uW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh2YXJpYW50cykge1xuICAgICAgZm9yIChjb25zdCB2YXJpYW50S2V5IG9mIE9iamVjdC5rZXlzKHZhcmlhbnRzKSkge1xuICAgICAgICBjb25zdCByYW5kb21QY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIHZhcmlhbnRLZXkpO1xuICAgICAgICBpZiAocmFuZG9tUGN0IDwgYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCkge1xuICAgICAgICAgIHZhcmlhbnQgPSB2YXJpYW50S2V5O1xuICAgICAgICAgIGlmIChidXNpbmVzc1J1bGVJZCAmJiB2YXJpYW50c1t2YXJpYW50S2V5XS5idXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbiBvZiB2YXJpYW50c1t2YXJpYW50S2V5XS5idXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgaWYgKGJ1c2luZXNzVHJhbnNmb3JtYXRpb24uaWQgPT0gYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhidXNpbmVzc1RyYW5zZm9ybWF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJpZFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGFjdGlvbltrZXldID0gYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbltrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJpYW50c1t2YXJpYW50S2V5XSkge1xuICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBcIndlaWdodFwiICYmIGtleSAhPT0gXCJidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnNcIikge1xuICAgICAgICAgICAgICAgIGFjdGlvbltrZXldID0gdmFyaWFudHNbdmFyaWFudEtleV1ba2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gW2FjdGlvbnMsIHZhcmlhbnRdO1xufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzID0gKCkgPT4ge1xuICBjb25zdCB7UEFHRV9WSUVXUywgUE9QVVBfRElTUExBWV9GTEFHLCBTRVNTSU9OX0lELCBTRVNTSU9OX1RJTUVTVEFNUCwgU0VTU0lPTl9ISVNUT1JZfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuXG4gIGNvbnN0IHBhZ2VWaWV3cyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEFHRV9WSUVXUyk7XG4gIGNvbnN0IHBvcHVwRGlzcGxheUZsYWcgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRyk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9JRCk7XG4gIGNvbnN0IHNlc3Npb25UaW1lc3RhbXAgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QKTtcbiAgY29uc3Qgc2Vzc2lvbkhpc3RvcnkgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fSElTVE9SWSk7XG5cbiAgaWYgKCFwYWdlVmlld3MpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBBR0VfVklFV1MsIDEpO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEFHRV9WSUVXUywgcGFyc2VJbnQocGFnZVZpZXdzKSArIDEpO1xuICB9XG4gIGlmIChwb3B1cERpc3BsYXlGbGFnID09PSBudWxsKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDApO1xuICB9XG4gIGlmICghc2Vzc2lvbklkKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0lELCBjcnlwdG8ucmFuZG9tVVVJRCgpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25UaW1lc3RhbXApIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QLCBEYXRlLm5vdygpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25IaXN0b3J5KSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0hJU1RPUlksIFt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVdKTtcbiAgfSBlbHNlIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgc2Vzc2lvbkhpc3RvcnldKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbkNoZWNrZXIgPSAocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGlmIChjb25kaXRpb24gPT09IFwibm90RXhpc3RcIikge1xuICAgIGlmICghcnVuVGltZVZhbHVlKSB7XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChydW5UaW1lVmFsdWUgPT09IG51bGwgfHxcbiAgICBydW5UaW1lVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gbnVsbCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IHJ1blRpbWVWYWx1ZSBvciBjb25kaXRpb24gaXMgbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN3aXRjaCAoY29uZGl0aW9uKSB7XG4gICAgY2FzZSBcImV4aXN0XCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBleGlzdFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiY29udGFpbnNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90Q29udGFpbnNcIjpcbiAgICAgIGlmICghcnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGNvbnRhaW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGVxdWFscyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90RXF1YWxcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBsZXNzIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZ3JlYXRlckVxdWFsc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDw9IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImJldHdlZW5cIjoge1xuICAgICAgbGV0IFttaW4sIG1heF0gPSB2YWx1ZS5zcGxpdChcIixcIik7XG4gICAgICBtaW4gPSBwYXJzZUludChtaW4pO1xuICAgICAgbWF4ID0gcGFyc2VJbnQobWF4KTtcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gbWluICYmIHJ1blRpbWVWYWx1ZSA8PSBtYXgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBiZXR3ZWVuIG1pbiBhbmQgbWF4XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IGNvbmRpdGlvbiBpcyBub3QgZGVmaW5lZCBcIiwgY29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldERlYnVnTW9kZSA9ICgpID0+IHtcbiAgY29uc3Qge05EX0RFQlVHX01PREUsIE9VVF9PRl9TQ09QRX0gPSBMT0NBTF9TVE9SQUdFX0tFWVM7XG4gIGNvbnN0IHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MVwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShORF9ERUJVR19NT0RFLCAxKTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oT1VUX09GX1NDT1BFLCB0cnVlKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCBcIm9uXCIpO1xuICAgIHJldHVybiAxO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTJcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTkRfREVCVUdfTU9ERSwgMik7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE9VVF9PRl9TQ09QRSwgdHJ1ZSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvblwiKTtcbiAgICByZXR1cm4gMjtcbiAgfVxuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0wXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKE5EX0RFQlVHX01PREUpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIFwib2ZmXCIpO1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IGN1cnJlbnQgPSBwYXJzZUludCh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTkRfREVCVUdfTU9ERSkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCAoY3VycmVudCA/IFwib25cIiA6IFwib2ZmXCIpKTtcbiAgcmV0dXJuIChjdXJyZW50IHx8IDApO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldElkZW50aWZpZXIgPSBhc3luYyAoY29va2llTmFtZSA9IENPT0tJRV9OQU1FKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lEKTtcbiAgICBpZiAoaWQpIHJlc29sdmUoaWQpO1xuICAgIGlkID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBjb29raWVOYW1lKTtcbiAgICBpZiAoaWQpIHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuVVNFUl9JRCwgaWQpO1xuICAgICAgcmVzb2x2ZShpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlkID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBjb29raWVOYW1lKTtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChleHRyYWN0SWRlbnRpZmllckludGVydmFsKTtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQsIGlkKTtcbiAgICAgICAgICByZXNvbHZlKGlkKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTApO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJDb3VsZCBub3QgZXh0cmFjdCBjb29raWUgaWRlbnRpZmllclwiKSk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgbXMpKTtcblxuLy8gQ29sbGVjdCBwcm9kdWN0IFNLVXMgZnJvbSBwYWdlXG5leHBvcnQgY29uc3Qgc2t1Q29sbGVjdG9yID0gKCkgPT4ge1xuICBjb25zdCB7TkRfU0tVX0xJU1R9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gIGNvbnN0IHNrdUxpc3QgPSBbXTtcblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGhvbWUgcGFnZVxuICBjb25zdCBydWxlID0ge1xuICAgIG9wZXJhdG9yOiBcIlBhZ2VUeXBlXCIsXG4gICAgY29uZGl0aW9uOiBcImVxdWFsXCIsXG4gICAgdmFsdWU6IFwiSG9tZXBhZ2VcIixcbiAgfTtcbiAgaWYgKGNoZWNrRGF0YUxheWVyUnVsZShydWxlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBsaXN0aW5nIHBhZ2VcbiAgcnVsZS52YWx1ZSA9IFwiTGlzdGluZ3BhZ2VcIjtcbiAgaWYgKGNoZWNrRGF0YUxheWVyUnVsZShydWxlKSkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtY2FyZFwiKSk7XG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgc2t1TGlzdC5wdXNoKGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXNrdVwiKSk7XG4gICAgfSk7XG4gICAgaWYgKCFza3VMaXN0Lmxlbmd0aCkge1xuICAgICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgU0tVcyBub3QgZm91bmQgb24gTGlzdGluZ3BhZ2VcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShORF9TS1VfTElTVCwgSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCkpO1xuXG4gICAgcmV0dXJuIHNrdUxpc3Q7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIHByb2R1Y3QgcGFnZVxuICBydWxlLnZhbHVlID0gXCJQcm9kdWN0cGFnZVwiO1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC1za3VcIik7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1Ugbm90IGZvdW5kIG9uIFByb2R1Y3RwYWdlXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNrdUxpc3QucHVzaChlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc2t1XCIpIHx8IGVsZW1lbnQudGV4dENvbnRlbnQ/LnRyaW0oKT8ucmVwbGFjZSgvXFwpL2csIFwiXCIpPy5yZXBsYWNlKC9cXCgvZywgXCJcIikpO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTkRfU0tVX0xJU1QsIEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpKTtcblxuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBiYXNrZXQgcGFnZVxuICBydWxlLm9wZXJhdG9yID0gXCJwYXRoXCI7XG4gIHJ1bGUudmFsdWUgPSBcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiO1xuICBpZiAoY2hlY2tVcmxSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FydC1pbnNpZGVcIikpO1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHNrdUxpc3QucHVzaChlLmdldEF0dHJpYnV0ZShcImRhdGEtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBiYXNrZXQgcGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNULCBKU09OLnN0cmluZ2lmeShza3VMaXN0KSk7XG5cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIGxvZ2dlci5sb2coXCJVbmlkZW50aWZpZWQgcGFnZSB0eXBlXCIpO1xuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1NlbmRCZWFjb25TdXBwb3J0ZWQgPSAoKSA9PiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbiAmJiB0eXBlb2YgbmF2aWdhdG9yLnNlbmRCZWFjb24gPT09IFwiZnVuY3Rpb25cIjtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdERlbGl2ZXJ5RGF0ZSA9IChkYXRlKSA9PiB7XG4gIGlmICghZGF0ZSB8fCB0eXBlb2YgZGF0ZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIGRhdGU7XG5cbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIHN0YXJ0TW9udGhJbmRleDogdW5kZWZpbmVkLFxuICAgIGVuZE1vbnRoSW5kZXg6IHVuZGVmaW5lZCxcbiAgICBzdGFydERheTogdW5kZWZpbmVkLFxuICAgIGVuZERheTogdW5kZWZpbmVkLFxuICB9O1xuXG4gIGxldCBtYXRjaCA9IGRhdGUubWF0Y2goXCIoW1xcXFxkXSspLShbXFxcXGRdKylcXFxccz8oW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnF0rKVwiKTtcbiAgaWYgKG1hdGNoICYmIG1hdGNoLmxlbmd0aCA9PT0gNCkge1xuICAgIHJlc3VsdC5zdGFydERheSA9IHBhcnNlSW50KG1hdGNoWzFdKTtcbiAgICByZXN1bHQuZW5kRGF5ID0gcGFyc2VJbnQobWF0Y2hbMl0pO1xuICAgIHJlc3VsdC5zdGFydE1vbnRoSW5kZXggPSBtb250aHNbbWF0Y2hbM10udG9Mb3dlckNhc2UoKV07XG4gICAgcmVzdWx0LmVuZE1vbnRoSW5kZXggPSByZXN1bHQuc3RhcnRNb250aEluZGV4O1xuICB9IGVsc2Uge1xuICAgIG1hdGNoID0gZGF0ZS5tYXRjaChcIihbXFxcXGRdKylcXFxccysoW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnF0rKS0oW1xcXFxkXSspXFxcXHMrKFtcXFxcd8Sxw7zEn8Wfw7bDp8Sww5bDh8Sew5xdKylcIik7XG4gICAgaWYgKCFtYXRjaCB8fCBtYXRjaC5sZW5ndGggIT09IDUpIHJldHVybiBkYXRlO1xuXG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5zdGFydE1vbnRoSW5kZXggPSBtb250aHNbbWF0Y2hbMl0udG9Mb3dlckNhc2UoKV07XG4gICAgcmVzdWx0LmVuZERheSA9IHBhcnNlSW50KG1hdGNoWzNdKTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFs0XS50b0xvd2VyQ2FzZSgpXTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKCFyZXN1bHQuc3RhcnRNb250aEluZGV4IHx8ICFyZXN1bHQuZW5kTW9udGhJbmRleCkgcmV0dXJuIGRhdGU7XG5cbiAgICBjb25zdCBzdGFydFllYXIgPSByZXN1bHQuc3RhcnRNb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG4gICAgY29uc3QgZW5kWWVhciA9IHJlc3VsdC5lbmRNb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG5cbiAgICBjb25zdCBlc3RpbWF0ZWRTdGFydCA9IG5ldyBEYXRlKHN0YXJ0WWVhciwgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCwgcmVzdWx0LnN0YXJ0RGF5KTtcbiAgICBjb25zdCBlc3RpbWF0ZWRFbmQgPSBuZXcgRGF0ZShlbmRZZWFyLCByZXN1bHQuZW5kTW9udGhJbmRleCwgcmVzdWx0LmVuZERheSk7XG5cblxuICAgIGNvbnN0IHN0YXJ0RGlmZk92ZXJEYXlzID0gTWF0aC5jZWlsKE1hdGguYWJzKGVzdGltYXRlZFN0YXJ0IC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbiAgICBjb25zdCBlbmREaWZmT3ZlckRheXMgPSBNYXRoLmNlaWwoTWF0aC5hYnMoZXN0aW1hdGVkRW5kIC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcblxuICAgIGNvbnN0IHN0YXJ0RGlmZk92ZXJXZWVrcyA9IHN0YXJ0RGlmZk92ZXJEYXlzIDwgNyA/IDAgOiBNYXRoLmNlaWwoc3RhcnREaWZmT3ZlckRheXMgLyA3KTtcbiAgICBjb25zdCBlbmREaWZmT3ZlcldlZWtzID0gZW5kRGlmZk92ZXJEYXlzIDwgNyA/IDAgOiBNYXRoLmNlaWwoZW5kRGlmZk92ZXJEYXlzIC8gNyk7XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSAwICYmIGVuZERpZmZPdmVyV2Vla3MgPT09IDApIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyRGF5c30gLSAke2VuZERpZmZPdmVyRGF5c30gR8OcTiDEsMOHxLBOREVgO1xuICAgIH1cblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IDAgJiYgZW5kRGlmZk92ZXJXZWVrcyA+PSAxKSB7XG4gICAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlckRheXN9IEfDnE4gLSAke2VuZERpZmZPdmVyV2Vla3N9IEhBRlRBIMSww4fEsE5ERWA7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gZW5kRGlmZk92ZXJXZWVrcykge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJXZWVrc30gSEFGVEEgxLDDh8SwTkRFYDtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlcldlZWtzfSAtICR7ZW5kRGlmZk92ZXJXZWVrc30gSEFGVEEgxLDDh8SwTkRFYDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbn07XG4iLCJleHBvcnQgY29uc3QgcmVwbGFjZUFsbCA9IChzdHIsIGZpbmQsIHJlcGxhY2UgPSBcIlwiKSA9PiB7XG4gIGlmICghc3RyKSByZXR1cm4gXCJcIjtcblxuICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKGZpbmQpO1xuICBpZiAoaW5kZXggPCAwKSByZXR1cm4gc3RyO1xuXG4gIHdoaWxlIChzdHIuaW5kZXhPZihmaW5kKSA+PSAwKSB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihmaW5kKTtcbiAgICBzdHIgPSAoaW5kZXggPiAwID8gc3RyLnN1YnN0cmluZygwLCBpbmRleCkgOiBcIlwiKSArIHJlcGxhY2UgKyBzdHIuc3Vic3RyaW5nKGluZGV4ICsgZmluZC5sZW5ndGgpO1xuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge2V4aXRTY3JvbGxMaXN0ZW5lciwgc3R5bGVBcHBsaWNhdG9yLCBkZWxheX0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge3JlcGxhY2VBbGx9IGZyb20gXCIuLi9zdHJpbmdVdGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUlksIFNFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2RhdGFMYXllckZpbmRlcn0gZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5hc3luYyBmdW5jdGlvbiBhcHBseVRyZWF0bWVudHModHJlYXRtZW50cywgcHJvZHVjdEluZm8pIHtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBwbHkgVHJlYXRtZW50c1wiKTtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBR30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCB0cmFuc2Zvcm1lciA9IGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyZWF0bWVudCkge1xuICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQ6IFwiLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnQpKTtcbiAgICBjb25zdCB7XG4gICAgICBvcGVyYXRvcixcbiAgICAgIHR5cGUsXG4gICAgICBhcHBseUV2ZW50LFxuICAgICAgY29udGVudFNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3IsXG4gICAgICBzZWxlY3RvckZhbGxiYWNrLFxuICAgICAgbWRDb25kaXRpb24sXG4gICAgICBtb3ZlX3NlbGVjdG9yXzEsXG4gICAgICBtb3ZlX3NlbGVjdG9yXzIsXG4gICAgICByZXBsYWNlRm4sXG4gICAgfSA9IHRyZWF0bWVudDtcbiAgICBsZXQge3ZhbHVlfSA9IHRyZWF0bWVudDtcbiAgICBsZXQgZWxlbWVudCA9ICQoc2VsZWN0b3IpO1xuXG4gICAgY29uc3QgbWMgPSBtZENvbmRpdGlvbiA/IHdpbmRvdy5tYXRjaE1lZGlhKG1kQ29uZGl0aW9uKS5tYXRjaGVzIDogdHJ1ZTtcbiAgICBpZiAoIW1jKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTWVkaWEgY29uZGl0aW9uIG1pc21hdGNoOiBcIiwgbWRDb25kaXRpb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAobW92ZV9zZWxlY3Rvcl8xICYmICFtb3ZlX3NlbGVjdG9yXzIpIHx8XG4gICAgICAobW92ZV9zZWxlY3Rvcl8yICYmICFtb3ZlX3NlbGVjdG9yXzEpXG4gICAgKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQm90aCBtb3ZlIHNlbGVjdG9ycyBhcmUgcmVxdWlyZWRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb3ZlX3NlbGVjdG9yXzEgJiYgbW92ZV9zZWxlY3Rvcl8yKSB7XG4gICAgICBpZiAoISQobW92ZV9zZWxlY3Rvcl8xKS5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk1vdmUgc2VsZWN0b3IgMSBub3QgZm91bmQ6IFwiLCBtb3ZlX3NlbGVjdG9yXzEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoISQobW92ZV9zZWxlY3Rvcl8yKS5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk1vdmUgc2VsZWN0b3IgMiBub3QgZm91bmQ6IFwiLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3Qgc3BlY2lmaWVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgIGlmIChzZWxlY3RvciAhPT0gXCJuby1zZWxlY3RvclwiKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBmb3VuZDogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVHJ5aW5nIGZhbGxiYWNrIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKHNlbGVjdG9yRmFsbGJhY2spIGVsZW1lbnQgPSAkKHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJGYWxsYmFjayBzZWxlY3RvciBub3QgZm91bmRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVwbGFjZUZuRXhlY3V0b3IgPSAocmVwbGFjZUZuLCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHJlcGxhY2VGbiAmJiB2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJFeGVjdXRpbmcgcmVwbGFjZSBmdW5jdGlvbjogXCIsIHJlcGxhY2VGbik7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgICAgZGF0YUxheWVyRmluZGVyLFxuICAgICAgICAgIHByb2R1Y3RJbmZvLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXBsYWNlRnVuY3Rpb24gPSBGdW5jdGlvbihyZXBsYWNlRm4pLmJpbmQoY29udGV4dCk7XG4gICAgICAgIHZhbHVlID0gcmVwbGFjZUFsbCh2YWx1ZSwgXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlRnVuY3Rpb24oKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaCgodmFsLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZXBsYWNlRm4gPSByZXBsYWNlRm4gPyByZXBsYWNlRm5baV0gfHwgcmVwbGFjZUZuIDogXCJcIjtcbiAgICAgICAgdmFsdWVbaV0gPSByZXBsYWNlRm5FeGVjdXRvcihjdXJyZW50UmVwbGFjZUZuLCB2YWwpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gcmVwbGFjZUZuRXhlY3V0b3IocmVwbGFjZUZuLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKG9wZXJhdG9yID09PSBcInJlbW92ZVwiKSB7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVtb3Zpbmc6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiQ2Fubm90IGZvdW5kIGVsZW1lbnQgd2l0aCBzZWxlY3RvcjogXCIsIHNlbGVjdG9yKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImluc2VydFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJlZm9yZVwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbnNlcnRpbmcgYmVmb3JlOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGlmIChTdHJpbmcodmFsdWUpLmluY2x1ZGVzKFwibmQtYWRkLXRvLXdpblwiKSkge1xuICAgICAgICAgICAgJChcIi5uZC1hZGQtdG8td2luXCIpLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50LmJlZm9yZSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhZnRlclwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbnNlcnRpbmcgYWZ0ZXI6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5hZnRlcih2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3B1cFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRykpICE9PSAwKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJQb3B1cCBhbHJlYWR5IGRpc3BsYXllZCBpbiBzZXNzaW9uXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDcmVhdGluZyBQb3B1cDogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNyZWF0ZVBvcHVwKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBjb25zdCBtb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJleGl0SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgZXhpdCBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBleGl0U2Nyb2xsTGlzdGVuZXIoZGlzcGxheVBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtb3VzZWxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAge29uY2U6IHRydWV9LFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY29weUludGVudFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQWRkaW5nIGNvcHkgaW50ZW50IGxpc3RlbmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29weVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwLFxuICAgICAgICAgICAgICAgICAgICAgICAge29uY2U6IHRydWV9LFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGFwcGVuZCBwb3B1cCB0byBib2R5IGFmdGVyIHRpbWVvdXQgZXhwaXJlc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiZWRpdFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiRWRpdGluZyB0ZXh0OiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkVkaXRpbmcgaHRtbDogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVBcHBsaWNhdG9yXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHN0eWxlOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVDaGFuZ2VzTWFwID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiU3R5bGUgQ2hhbmdlcyBNYXA6IFwiLCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgICAgc3R5bGVBcHBsaWNhdG9yKGVsZW1lbnQsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQ2xhc3NcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBhZGRkaW5nIGNsYXNzIHRvICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJlbW92ZUNsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgcmVtb3ZlIGNsYXNzIGZyb20gJHtlbGVtZW50fSBuYW1lZCAke3ZhbHVlfWApO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3ModmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG9jdW1lbnRUaXRsZVwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYGNoYW5naW5nIGRvY3VtZW50IHRpdGxlIGZyb20gJHtlbGVtZW50fSB0byAke3ZhbHVlfWApO1xuICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50ID09IFwidGFiQ2hhbmdlXCIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiY2F0Y2hpbmcgZXZlbnQgdGFiY2hhbmdlLi5cIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIChlKSA9PlxuICAgICAgICAgICAgICAgICAgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZShlLCB2YWx1ZSwgb3JpZ2luYWxUaXRsZSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZEJhbm5lclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHtORF9TS1VfTElTVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgICAgICAgICAgIGlmICghcHJvZHVjdEluZm8pIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyB1bmF2YWlsYWJsZVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQWRkaW5nIGJhbm5lcjogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRTa3UgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTkRfU0tVX0xJU1QpKVswXTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudFNrdSkge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQ291bGQgbm90IGZpbmQgcHJvZHVjdCBza3VcIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwcm9kdWN0SW5mbykuaW5jbHVkZXMoZWxlbWVudFNrdSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBlbGVtZW50LmJlZm9yZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJVbmtub3duIGVkaXQgdHlwZTogXCIsIHR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwic2V0YXR0cmlidXRlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTZXR0aW5nIGF0dHJpYnV0ZTogXCIsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgc3dpdGNoIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgY2FzZSBcInNyY1wiOlxuICAgICAgICAgIGVsZW1lbnQuY3NzKFwiY29udGVudFwiLCBgdXJsKCR7dmFsdWUudHJpbSgpfSlgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHkgPSB2YWx1ZS5zcGxpdChcIjpcIilbMF0udHJpbSgpO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgIGNvbnN0IHByb3BlcnR5VmFsdWUgPSB2YWx1ZS5zcGxpdChcIjpcIilbMV0udHJpbSgpO1xuXG4gICAgICAgICAgZWxlbWVudC5jc3MocHJvcGVydHksIHByb3BlcnR5VmFsdWUsIFwiIWltcG9ydGFudFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInJlcGxhY2VcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZzogXCIsIHZhbHVlKTtcbiAgICAgIGVsZW1lbnQucmVwbGFjZUFsbCh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzd2FwXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTd2FwcGluZzogXCIsIG1vdmVfc2VsZWN0b3JfMSwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIGNvbnN0IG4xID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzEpO1xuICAgICAgY29uc3QgbjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBzd2FwTm9kZXMobjEsIG4yKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImluamVjdHNjcmlwdFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiSW5qZWN0aW5nIHNjcmlwdDogXCIsIHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kKGA8c2NyaXB0PiR7dmFsdWV9PC9zY3JpcHQ+YCk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJtb3ZlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coYE1vdmluZyAke21vdmVfc2VsZWN0b3JfMX0gdG8gJHttb3ZlX3NlbGVjdG9yXzJ9YCk7XG4gICAgICBjb25zdCBzb3VyY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBkZXN0aW5hdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIHNvdXJjZS5yZW1vdmUoKTtcbiAgICAgIGRlc3RpbmF0aW9uLnByZXBlbmQoc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIm5vb3BcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIk5vb3AgT3BlcmF0b3I6IE5vIG9wZXJhdGlvbiBpcyBhcHBsaWVkIG9uIHRhcmdldCBcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci5sb2coXCJObyBzdWNoIG9wZXJhdG9yIGV4aXN0cyB5ZXRcIiwgb3BlcmF0b3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlID0gYXN5bmMgKGV2ZW50LCB0aXRsZXMsIG9yaWdpbmFsVGl0bGUpID0+IHtcbiAgICBjb25zdCBwYXJzZWRUaXRsZXMgPSAhQXJyYXkuaXNBcnJheSh0aXRsZXMpID8gW3RpdGxlc10gOiB0aXRsZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJzZWRUaXRsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBwYXJzZWRUaXRsZXNbaV07XG4gICAgICAgIGF3YWl0IGRlbGF5KDMwMDApO1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICAgIGF3YWl0IGRlbGF5KDMwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGV2ZW50LCB0aXRsZXMsIG9yaWdpbmFsVGl0bGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQb3B1cENsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgaWQgPSBldmVudC50YXJnZXQuaWQ7XG4gICAgaWYgKGlkICYmIGlkID09PSBcIm5kLXBvcHVwX193cmFwcGVyXCIpIHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNwbGF5UG9wdXAgPSAoKSA9PiB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDEpO1xuICAgIGNvbnN0IHFQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3J0LXNoYWRvdy1ob3N0XCIpO1xuICAgIGlmIChxUG9wdXApIHFQb3B1cC5zdHlsZVtcImRpc3BsYXlcIl0gPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5kLXBvcHVwX193cmFwcGVyXCIpLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwiYmxvY2tcIjtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9LCAxNTAwMCk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlUG9wdXAgPSAodmFsdWUsIGNvbnRlbnRTZWxlY3RvcikgPT4ge1xuICAgIC8vIENyZWF0ZSBwb3B1cCB3cmFwcGVyXG4gICAgY29uc3QgcG9wdXBXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgIHBvcHVwV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwibmQtcG9wdXBfX3dyYXBwZXJcIik7XG4gICAgcG9wdXBXcmFwcGVyLmlkID0gXCJuZC1wb3B1cF9fd3JhcHBlclwiO1xuXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGNsb3NlIGJ1dHRvblxuICAgIGNvbnN0IHBvcHVwQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChcIm5kLXBvcHVwX19idXR0b24tY2xvc2VcIik7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIlhcIjtcbiAgICBwb3B1cENsb3NlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgaWYgKGNvbnRlbnRTZWxlY3Rvcikge1xuICAgICAgY29uc3QgY29udGVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29udGVudFNlbGVjdG9yKSk7XG4gICAgICB3aGlsZSAodmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSAmJiBjb250ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIGNvbnRlbnRzLnNoaWZ0KCkuc3JjKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgZnJvbSB0cmVhdG1lbnQgYW5kIGFwcGVuZCBjbG9zZSBidXR0b25cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZS50cmltKCk7XG4gICAgY29uc3QgcG9wdXAgPSB0ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgcG9wdXAuYXBwZW5kQ2hpbGQocG9wdXBDbG9zZUJ1dHRvbik7XG4gICAgcG9wdXBXcmFwcGVyLmFwcGVuZENoaWxkKHBvcHVwKTtcblxuICAgIC8vIFJlbW92ZSBvbGQgcG9wdXAgaWYgZXhpc3RzIGJlZm9yZSBhcHBlbmRpbmcgbmV3IG9uZVxuICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwb3B1cFdyYXBwZXIpO1xuICB9O1xuXG4gIGNvbnN0IHN3YXBOb2RlcyA9IGZ1bmN0aW9uIHN3YXBOb2RlcyhuMSwgbjIpIHtcbiAgICBjb25zdCBwMSA9IG4xLnBhcmVudE5vZGU7XG4gICAgY29uc3QgcDIgPSBuMi5wYXJlbnROb2RlO1xuICAgIGxldCBpMTtcbiAgICBsZXQgaTI7XG5cbiAgICBpZiAoIXAxIHx8ICFwMiB8fCBwMS5pc0VxdWFsTm9kZShuMikgfHwgcDIuaXNFcXVhbE5vZGUobjEpKSByZXR1cm47XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAxLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocDEuY2hpbGRyZW5baV0uaXNFcXVhbE5vZGUobjEpKSB7XG4gICAgICAgIGkxID0gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMi5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAyLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4yKSkge1xuICAgICAgICBpMiA9IGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHAxLmlzRXF1YWxOb2RlKHAyKSAmJiBpMSA8IGkyKSB7XG4gICAgICBpMisrO1xuICAgIH1cbiAgICBwMS5pbnNlcnRCZWZvcmUobjIsIHAxLmNoaWxkcmVuW2kxXSk7XG4gICAgcDIuaW5zZXJ0QmVmb3JlKG4xLCBwMi5jaGlsZHJlbltpMl0pO1xuICB9O1xuXG4gIGNvbnN0IHRyZWF0bWVudEFwcGxpY2F0b3IgPSAodHJlYXRtZW50TGlzdCkgPT4ge1xuICAgIGlmICghd2luZG93LmpRdWVyeSkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgdHJlYXRtZW50QXBwbGljYXRvcih0cmVhdG1lbnRMaXN0KTtcbiAgICAgIH0sIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgdHJlYXRtZW50TGlzdCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRyYW5zZm9ybWVyKHRyZWF0bWVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlci5sb2coXG4gICAgICAgICAgICAgIGBDb3VsZG4ndCBhcHBseSB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgLy8gU2V0IGlkIG9mIGZhaWxlZCB0cmVhdG1lbnQgdG8gLTEsXG4gICAgICAgICAgLy8gc28gd2Uga25vdyBub3QgdG8gbGlzdCBpbiB0aGUgY3VzdG9tIEdBIGV2ZW50XG4gICAgICAgICAgLy8gdHJlYXRtZW50TGlzdFt0cmVhdG1lbnRdLmlkID0gLTE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQXBwbHkgdHJlYXRtZW50c1xuICB0cmVhdG1lbnRBcHBsaWNhdG9yKHRyZWF0bWVudHMpO1xufVxuZXhwb3J0IGRlZmF1bHQgYXBwbHlUcmVhdG1lbnRzO1xuIiwiaW1wb3J0IHtMT0dfQVBJX1VSTH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjcmVhdGVIYXNoU3RyaW5nLCBpc1NlbmRCZWFjb25TdXBwb3J0ZWR9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBNb25pdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBNb25pdG9yXCIpO1xuICAgIHRoaXMubG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBtb25pdG9yXCIpO1xuXG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBudWxsO1xuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gZmFsc2U7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCA9IG51bGw7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA9IGZhbHNlO1xuICAgIHRoaXMuaGVhZGVycyA9IHtcbiAgICAgIHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgdGhpcy5pc0xvZ2dlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5pbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBhc3luYyBzZW5kTG9ncyhtZXNzYWdlID0gbnVsbCwgaXNFcnJvciA9IGZhbHNlKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxvZ2dlci5sb2coXCJTZW5kaW5nIGxvZ3NcIik7XG5cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiRG9jdW1lbnQgcmVhZHkgc3RhdGUgaXMgbm90IGNvbXBsZXRlXCIpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIG9ubG9hZCBldmVudFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlUXVldWVMb2dzKHJlcXVlc3RCbG9iLCBpc0Vycm9yID0gZmFsc2UpIHtcbiAgICBpZiAoIWlzRXJyb3IgJiYgdGhpcy5pc0xvZ2dlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghcmVxdWVzdEJsb2IpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgY3JlYXRlIHJlcXVlc3QgYmxvYlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlJlcXVlc3QgYmxvYiB0byBzZW5kOiBcIiwgcmVxdWVzdEJsb2IpO1xuICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcblxuICAgIHRoaXMuaXNMb2dnZWQgPSB0cnVlO1xuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhKU09OLnN0cmluZ2lmeSh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmEpKTtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5lKSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVMYXRlc3RDaGFuZ2VzKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgaWYgdGhlcmUgYXJlIGNoYW5nZXNcIik7XG5cbiAgICBjb25zdCBhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5hKSk7XG4gICAgY29uc3QgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5lKSk7XG5cbiAgICBpZiAoYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCAhPT0gdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2gpIHtcbiAgICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaDtcbiAgICB9XG4gICAgaWYgKGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCAhPT0gdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCkge1xuICAgICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA9IHRydWU7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoO1xuICAgIH1cbiAgfVxuXG4gIHBhY2thZ2VMb2dEYXRhKG1lc3NhZ2UgPSBudWxsKSB7XG4gICAgY29uc3Qge2hlYWRlcnN9ID0gdGhpcztcbiAgICBjb25zdCBib2R5ID0gey4uLndpbmRvdy5iZWFnbGVJbmZvTGF5ZXJ9O1xuICAgIGNvbnN0IG0gPSBtZXNzYWdlID8gbWVzc2FnZSA6IE9iamVjdC5rZXlzKGJvZHkuYSB8fCB7fSkubGVuZ3RoID8gXCJUcmVhdG1lbnRzIGFwcGxpZWRcIiA6IFwiTm8gdHJlYXRtZW50cyBhcHBsaWVkXCI7XG4gICAgYm9keS50ID0gRGF0ZS5ub3coKTtcbiAgICBib2R5Lm0gPSBtO1xuXG4gICAgcmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShib2R5KV0sIGhlYWRlcnMpO1xuICB9XG5cbiAgcGFja2FnZVVwZGF0ZUxvZ0RhdGEoKSB7XG4gICAgY29uc3Qge2hlYWRlcnMsIGFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcywgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXN9ID0gdGhpcztcbiAgICBpZiAoIWFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyAmJiAhZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgdDogRGF0ZS5ub3coKSxcbiAgICAgIGE6IGFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA/IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYSA6IHt9LFxuICAgICAgZTogZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPyB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmUgOiB7fSxcbiAgICAgIHZJZDogd2luZG93LmJlYWdsZUluZm9MYXllci52SWQsXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsZXQgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IGZhbHNlO1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgZXhpdCBldmVudCBsaXN0ZW5lclwiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJiZWZvcmV1bmxvYWRcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5pc0xvZ2dlZCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzRXhpdEV2ZW50Q2FwdHVyZWQpIHJldHVybjtcbiAgICAgICAgICBpc0V4aXRFdmVudENhcHR1cmVkID0gdHJ1ZTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW4gYmVmb3JldW5sb2FkIGV2ZW50XCIpO1xuICAgICAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLnBhY2thZ2VVcGRhdGVMb2dEYXRhKCk7XG4gICAgICAgICAgaWYgKCFsb2dEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gY2hhbmdlcyB0byBsb2dcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7Y2FwdHVyZTogdHJ1ZX0sXG4gICAgKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJwYWdlaGlkZVwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBwYWdlaGlkZSBldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5wYWNrYWdlVXBkYXRlTG9nRGF0YSgpO1xuICAgICAgICAgIGlmICghbG9nRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIGNoYW5nZXMgdG8gbG9nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnF1ZXVlTG9ncyhsb2dEYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9LFxuICAgICk7XG4gIH1cblxuICBxdWV1ZUxvZ3MobG9nRGF0YSkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghaXNTZW5kQmVhY29uU3VwcG9ydGVkKCkpIHtcbiAgICAgIGZldGNoKExPR19BUElfVVJMLCBsb2dEYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgIGNvbnN0IHF1ZXVlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoIXF1ZXVlZCkgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocXVldWVJbnRlcnZhbCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIHF1ZXVlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgIGlmICghcXVldWVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIG5vdCBxdWV1ZWRcIik7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvcjtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFRSRUFUTUVOVFNfRFVSQVRJT04sIE1PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtmZXRjaFRyZWF0bWVudHMsIGZldGNoVHJlYXRtZW50V2VpZ2h0c30gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFRyZWF0bWVudCBSZXBvc2l0b3J5XCIpO1xuXG5jbGFzcyBUcmVhdG1lbnRSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHtjb29raWVQY3QsIHRyZWF0bWVudHMsIHRyZWF0bWVudFdlaWdodHN9ID0gYm9keTtcbiAgICB0aGlzLnRyZWF0bWVudHMgPSB0cmVhdG1lbnRzO1xuICAgIHRoaXMuY29va2llUGN0ID0gY29va2llUGN0O1xuXG4gICAgdGhpcy50cmVhdG1lbnRXZWlnaHRzID0gdHJlYXRtZW50V2VpZ2h0cztcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRzKCkge1xuICAgIGxvZ2dlci5sb2coXCJMb2FkaW5nIHRyZWF0bWVudHNcIik7XG4gICAgY29uc3Qge1RSRUFUTUVOVFN9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gICAgY29uc3QgdHJlYXRtZW50c09iaiA9IEpTT04ucGFyc2Uod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVFJFQVRNRU5UUykpO1xuICAgIGxldCB0cmVhdG1lbnRzID0gdHJlYXRtZW50c09iaj8udHJlYXRtZW50cztcbiAgICBjb25zdCB0aW1lc3RhbXAgPSB0cmVhdG1lbnRzT2JqPy50aW1lc3RhbXA7XG4gICAgaWYgKCF0cmVhdG1lbnRzIHx8ICF0aW1lc3RhbXApIHtcbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgICAgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoVHJlYXRtZW50cygpO1xuICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB0cmVhdG1lbnRzLFxuICAgICAgfTtcbiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICAgIH1cbiAgICBpZiAodGltZXN0YW1wKSB7XG4gICAgICBjb25zdCBlbGFwc2VkRGF5cyA9IChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvICgxMDAwICogMzYwMCAqIDI0KTtcbiAgICAgIGlmIChlbGFwc2VkRGF5cyA+IFRSRUFUTUVOVFNfRFVSQVRJT04pIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgYXJlIGV4cGlyZWRcIik7XG4gICAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgYXJlIGxvYWRlZCBmcm9tIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VHJlYXRtZW50V2VpZ2h0cygpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGZldGNoVHJlYXRtZW50V2VpZ2h0cygpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xuICAgICAgdGhpcy50cmVhdG1lbnRXZWlnaHRzID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNYXRjaGVkVHJlYXRtZW50cygpIHtcbiAgICBjb25zdCB0cmVhdG1lbnRXZWlnaHRzID0gdGhpcy50cmVhdG1lbnRXZWlnaHRzO1xuICAgIGNvbnN0IHVzZXJHcm91cCA9IHRoaXMuZ2V0VXNlckdyb3VwKCk7XG4gICAgY29uc3QgdHJlYXRtZW50cyA9IHRoaXMudHJlYXRtZW50cztcbiAgICBpZiAodHJlYXRtZW50V2VpZ2h0cykge1xuICAgICAgY29uc3QgdXNlckdyb3VwV2VpZ2h0cyA9ICh1c2VyR3JvdXAgJiYgdHJlYXRtZW50V2VpZ2h0c1t1c2VyR3JvdXBdKSA/XG4gICAgICB0cmVhdG1lbnRXZWlnaHRzW3VzZXJHcm91cF0gOiB0cmVhdG1lbnRXZWlnaHRzW1wiZGVmYXVsdFwiXTtcbiAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHRyZWF0bWVudHMpIHtcbiAgICAgICAgLy8gVHJlYXRtZW50IHdlaWdodCBjYW4gYmUgc2V0IHRvIDAgaWYgbm9uLWV4aXN0ZW50IGluIHVzZXIgZ3JvdXBcbiAgICAgICAgLy8gaWYgKCF1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0pIHRyZWF0bWVudC53ZWlnaHQgPSAwO1xuICAgICAgICBpZiAoIXVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXSkgY29udGludWU7XG4gICAgICAgIHRyZWF0bWVudC53ZWlnaHQgPSB1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0ud2VpZ2h0O1xuICAgICAgICBpZiAodHJlYXRtZW50LmFjdGlvbnMuZmluZCgoYSkgPT4gYS52YXJpYW50cykpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0cmVhdG1lbnQuYWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKGFjdGlvbi52YXJpYW50cykge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnRLZXkgb2YgT2JqZWN0LmtleXMoYWN0aW9uLnZhcmlhbnRzKSkge1xuICAgICAgICAgICAgICAgIGlmICh1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0/LnZhcmlhbnRzICYmIHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXT8udmFyaWFudHNbdmFyaWFudEtleV0pIHtcbiAgICAgICAgICAgICAgICAgIGFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQgPSB1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0/LnZhcmlhbnRzW3ZhcmlhbnRLZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxvZ2dlci5sb2coYCR7dHJlYXRtZW50cy5sZW5ndGh9IHRyZWF0bWVudHMgdXNlciBncm91cCBtYXRjaGVkYCk7XG4gICAgaWYgKCF0cmVhdG1lbnRzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICB9XG5cbiAgZ2V0VXNlckdyb3VwKCkge1xuICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzO1xuICAgIGlmIChpc01vYmlsZSkgcmV0dXJuIFwiVUdCXCI7XG4gICAgcmV0dXJuIFwiVUdBXCI7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJlYXRtZW50UmVwb3NpdG9yeTtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIExPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQ291bnRlciBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tDb3VudGVyUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJwYWdlVmlld1wiOlxuICAgICAgcmV0dXJuIHBhZ2VWaWV3SGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiQ0FCYXNrZXRQcmljZVwiOlxuICAgICAgcmV0dXJuIGNhQmFza2V0UHJpY2VIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCBvcGVyYXRvclwiLCBvcGVyYXRvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmNvbnN0IGdldENvdW50ZXIgPSAoY291bnRlciwgdHlwZSkgPT4ge1xuICB0cnkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oY291bnRlcik7XG4gICAgICBjYXNlIFwibG9jYWxcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvdW50ZXIpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggdHlwZVwiLCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIubG9nKGBDb3VsZCBub3QgZ2V0IGNvdW50ZXIgJHtjb3VudGVyfWAsIGVycik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IHBhZ2VWaWV3SGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IHBhZ2VWaWV3cyA9IHBhcnNlSW50KGdldENvdW50ZXIoU0VTU0lPTl9TVE9SQUdFX0tFWVMuUEFHRV9WSUVXUywgXCJzZXNzaW9uXCIpKTtcbiAgbG9nZ2VyLmxvZyhcIlBhZ2Ugdmlld3MgY291bnRlciB2YWx1ZTogXCIsIHBhZ2VWaWV3cyk7XG4gIGlmIChwYWdlVmlld3MgPT09IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKFwiUGFnZXZpZXdzIGNvdW50ZXIgbm90IGZvdW5kIGluIHNlc3Npb24gc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocGFnZVZpZXdzLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG5jb25zdCBjYUJhc2tldFByaWNlSGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGNhQmFza2V0UHJpY2UgPSBwYXJzZUludChcbiAgICAgIGdldENvdW50ZXIoTE9DQUxfU1RPUkFHRV9LRVlTLkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgXCJsb2NhbFwiKSk7XG4gIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgcHJpY2UgY291bnRlciB2YWx1ZTogXCIsIGNhQmFza2V0UHJpY2UpO1xuICBpZiAoY2FCYXNrZXRQcmljZSA9PT0gbnVsbCkge1xuICAgIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgcHJpY2UgY291bnRlciBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY2FCYXNrZXRQcmljZSwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRWxlbWVudCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tFbGVtZW50UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWUsIHNlbGVjdG9yLCBzZWxlY3RvckFsbCwgc2VsZWN0b3JGYWxsYmFjayA9IG51bGx9ID0gcnVsZTtcbiAgbGV0IG1haW5TZWxlY3RvciA9IHNlbGVjdG9yO1xuICBpZiAobWFpblNlbGVjdG9yICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBtYWluU2VsZWN0b3IgPSBzZWxlY3RvckZhbGxiYWNrID8gc2VsZWN0b3JGYWxsYmFjayA6IG1haW5TZWxlY3RvcjtcbiAgfVxuXG4gIGlmIChvcGVyYXRvciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gIH1cbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoc2VsZWN0b3JBbGwgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBlbGVtZW50O1xuICBpZiAobWFpblNlbGVjdG9yKSBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpO1xuICBlbHNlIGlmIChzZWxlY3RvckFsbCkgZWxlbWVudCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvckFsbCkpO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwidGV4dC1udW1iZXJcIjoge1xuICAgICAgbGV0IHRlbXBWYWw7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgICAgICB0ZW1wVmFsID0gZWxlbWVudC5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICAgIHJldHVyblZhbCArPSBwYXJzZUludChlbGVtLnRleHRDb250ZW50LnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wVmFsID0gcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLnRleHRDb250ZW50XG4gICAgICAgICAgICAucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IHBhcnNlSW50KHRlbXBWYWwpO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcImNsYXNzTGlzdFwiOlxuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoQXJyYXkuZnJvbShlbGVtZW50LmNsYXNzTGlzdCksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJjb3VudFwiOiB7XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBBcnJheS5pc0FycmF5KGVsZW1lbnQpID8gZWxlbWVudC5sZW5ndGggOiBlbGVtZW50ID8gMSA6IDA7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmxvZyhcIk9wZXJhdG9yIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRnVuY3Rpb24gQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRnVuY3Rpb25SdWxlID0gKHJ1bGUsIG9wdHMpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtwcm9kdWN0SW5mb30gPSBvcHRzO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWUsIGJpbmRpbmdzfSA9IHJ1bGU7XG4gIGlmICghb3BlcmF0b3IpIHtcbiAgICBsb2dnZXIubG9nKFwiUnVsZSBmdW5jdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGNvbnRleHQgPSB7fTtcbiAgaWYgKGJpbmRpbmdzID09IFwicHJvZHVjdEluZm9cIikge1xuICAgIGNvbnRleHQgPSB7XG4gICAgICBwcm9kdWN0SW5mbyxcbiAgICB9O1xuICB9XG4gIGNvbnN0IHJ1bGVGdW5jdGlvbiA9IEZ1bmN0aW9uKG9wZXJhdG9yKS5iaW5kKGNvbnRleHQpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBydWxlRnVuY3Rpb24oKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBTZXNzaW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1Nlc3Npb25SdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICByZXR1cm4gZHVyYXRpb25IYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJoaXN0b3J5XCI6XG4gICAgICByZXR1cm4gaGlzdG9yeUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBnZXRTZXNzaW9uVGltZXN0YW1wID0gKCkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludCh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1RJTUVTVEFNUCkpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkNvdWxkIG5vdCBnZXQgc2Vzc2lvbiB0aW1lc3RhbXBcIiwgZXJyKTtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxufTtcblxuY29uc3QgZHVyYXRpb25IYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgZHVyYXRpb24gPSAoRGF0ZS5ub3coKSAtIGdldFNlc3Npb25UaW1lc3RhbXAoKSkgLyAxMDAwO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkdXJhdGlvbiwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgaGlzdG9yeUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjdXJyZW50SGlzdG9yeSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSElTVE9SWSk/LnNwbGl0KFwiLFwiKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY3VycmVudEhpc3RvcnksIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBFbnYgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRW52UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImRldmljZV90eXBlXCI6IHtcbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzID8gXCJtb2JpbGVcIiA6IFwiZGVza3RvcFwiO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoaXNNb2JpbGUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlciwgZGV0ZXJtaW5lUGN0LCBnZXRJZGVudGlmaWVyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgUmFuZG9tUGN0IENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1JhbmRvbU51bWJlclJ1bGUgPSBhc3luYyAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge2NvbmRpdGlvbiwgdmFsdWUsIHNhbHR9ID0gcnVsZTtcbiAgaWYgKCFzYWx0KSB7XG4gICAgbG9nZ2VyLmxvZyhcIlNhbHQgaXMgbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGlkZW50aWZpZXIgPSBhd2FpdCBnZXRJZGVudGlmaWVyKCk7XG4gIGNvbnN0IHJhbmRvbVBjdCA9IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgc2FsdCk7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IHJhbmRvbVBjdDtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge2NoZWNrQ291bnRlclJ1bGV9IGZyb20gXCIuL2NvdW50ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRGF0YUxheWVyUnVsZX0gZnJvbSBcIi4vZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VsZW1lbnRSdWxlfSBmcm9tIFwiLi9lbGVtZW50Q2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0Z1bmN0aW9uUnVsZX0gZnJvbSBcIi4vZnVuY3Rpb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrU2Vzc2lvblJ1bGV9IGZyb20gXCIuL3Nlc3Npb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrVXJsUnVsZX0gZnJvbSBcIi4vdXJsQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VudlJ1bGV9IGZyb20gXCIuL2VudkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tSYW5kb21OdW1iZXJSdWxlfSBmcm9tIFwiLi9yYW5kb21OdW1iZXJDaGVja2VyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFJ1bGUgRW5naW5lXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSdWxlRW5naW5lIHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHtiYXNlUnVsZVNldCwgYnVzaW5lc3NSdWxlU2V0LCBiaW5kaW5ncywgY2FsbGJhY2sgPSBudWxsfSA9IGJvZHk7XG4gICAgdGhpcy5iYXNlUnVsZVNldCA9IGJhc2VSdWxlU2V0O1xuICAgIHRoaXMuYnVzaW5lc3NSdWxlU2V0ID0gYnVzaW5lc3NSdWxlU2V0O1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmJpbmRpbmdzID0gYmluZGluZ3M7XG4gIH1cblxuICBhc3luYyBjaGVja1J1bGVzKCkge1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiB0aGlzLmJhc2VSdWxlU2V0KSB7XG4gICAgICBjb25zdCBydWxlU2F0aXNmaWVkID0gYXdhaXQgdGhpcy5jaGVja1J1bGUocnVsZSk7XG4gICAgICBpZiAoIXJ1bGVTYXRpc2ZpZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGFzeW5jIGNoZWNrQnVzaW5lc3NSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5idXNpbmVzc1J1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmIChydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBydWxlLmJ1c2luZXNzUnVsZUlkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGFzeW5jIGNoZWNrUnVsZShydWxlKSB7XG4gICAgY29uc3Qge2NoYWluLCBjaGFpbl9jb25kaXRpb24sIHR5cGV9ID0gcnVsZTtcbiAgICBsZXQgcnVsZVNhdGlzZmllZCA9IG51bGw7XG4gICAgLy8gY2hlY2sgcnVsZVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrU2Vzc2lvblJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNvdW50ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrQ291bnRlclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVsZW1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRWxlbWVudFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRhdGFMYXllclwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1cmxcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrVXJsUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRnVuY3Rpb25SdWxlKHJ1bGUsIHRoaXMuYmluZGluZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbnZpcm9ubWVudFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tFbnZSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyYW5kb21cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGF3YWl0IGNoZWNrUmFuZG9tTnVtYmVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIubG9nKGBObyBzdWNoIHJ1bGUgdHlwZTogJHt0eXBlfWApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoY2hhaW4pIHtcbiAgICAgIHN3aXRjaCAoY2hhaW5fY29uZGl0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJhbmRcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAmJiBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkIHx8IGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkICE9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCBjaGFpbiBjb25kaXRpb25cIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlU2F0aXNmaWVkO1xuICB9XG59XG4iLCJpbXBvcnQge3NrdUNvbGxlY3Rvcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge0xPT0tVUF9BUElfVVJMfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEFwaVwiKTtcblxuZXhwb3J0IGNvbnN0IHByb2R1Y3RJbmZvTG9va3VwID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgcHJvZHVjdCBpbmZvIGxvb2t1cFwiKTtcbiAgY29uc3Qgc2t1TGlzdCA9IHNrdUNvbGxlY3RvcigpO1xuICBpZiAoIXNrdUxpc3QpIHtcbiAgICBsb2dnZXIubG9nKFwiTm8gc2t1IGZvdW5kXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBoZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gIGxldCBwcm9kdWN0SW5mbztcbiAgdHJ5IHtcbiAgICBwcm9kdWN0SW5mbyA9IGF3YWl0IGZldGNoKExPT0tVUF9BUElfVVJMLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCksXG4gICAgICBoZWFkZXJzLFxuICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIud2FybihcIkZldGNoIHRvIGNhdGFsb2cgYXBpIGZhaWxlZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIXByb2R1Y3RJbmZvLm9rKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyBsb29rdXAgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHByb2R1Y3RJbmZvID0gYXdhaXQgcHJvZHVjdEluZm8uanNvbigpO1xuICBpZiAoIXByb2R1Y3RJbmZvKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyBleHRyYWN0aW9uIGZyb20gcmVzcG9uc2UgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxvZ2dlci5sb2coXCJQcm9kdWN0IGluZm8gbG9va3VwIHN1Y2Nlc3NmdWxcIik7XG4gIHJldHVybiBwcm9kdWN0SW5mbztcbn07XG4iLCJpbXBvcnQgYXBwbHlUcmVhdG1lbnRzIGZyb20gXCIuLi9OZXh0ZGF5QXBwbHlUcmVhdG1lbnRzL2luZGV4XCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBNb25pdG9yIGZyb20gXCIuLi9OZXh0ZGF5TW9uaXRvci9pbmRleFwiO1xuaW1wb3J0IFRyZWF0bWVudFJlcG9zaXRvcnkgZnJvbSBcIi4uL05leHRkYXlUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4XCI7XG5pbXBvcnQgUnVsZUVuZ2luZSBmcm9tIFwiLi4vTmV4dGRheVJ1bGVFbmdpbmVcIjtcbmltcG9ydCB7cHJvZHVjdEluZm9Mb29rdXB9IGZyb20gXCIuLi9OZXh0ZGF5QXBpXCI7XG5pbXBvcnQge1xuICBjaGVja3BvaW50LFxuICBjaGVja3BvaW50cyxcbiAgYWRkQXBwbGllZFRyZWF0bWVudCxcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIsXG4gIHJlbW92ZUZyb21CZWFnbGVJbmZvTGF5ZXIsXG4gIGFkZEVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudCxcbiAgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcixcbn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgTU9CSUxFX01FRElBX1FVRVJZLFxuICBTUExJVF9SQVRJTyxcbiAgTE9DQUxfU1RPUkFHRV9LRVlTLFxuICBUUkVBVE1FTlRfUkFUSU8sXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTixcbn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgZ2V0SWRlbnRpZmllcixcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMsXG4gIGluamVjdFN0eWxlU2hlZXQsXG4gIHJlbW92ZURvY3VtZW50SGlkZSxcbiAgZGV0ZXJtaW5lUGN0LFxuICBwcmVwYXJlQWN0aW9ucyxcbiAgZ2V0RGVidWdNb2RlLFxuICBpc1NlbmRCZWFjb25TdXBwb3J0ZWQsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuXG4oYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuQmVhZ2xlTG9hZGVkKTtcbiAgbGV0IG1vbml0b3IgPSBudWxsO1xuICBsZXQgaXNPbiA9IG51bGw7XG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcbiAgY29uc3Qge1RJTUVPVVRfQ09VTlR9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gIGxldCB0aW1lb3V0Q291bnRlciA9IDA7XG4gIGxvZ2dlci5pbmZvKFwiTmV4dGRheSBpbml0aWFsaXppbmdcIik7XG4gIHRyeSB7XG4gICAgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcigpO1xuICAgIGNvbnN0IHByb2R1Y3RJbmZvUHJvbWlzZSA9IHByb2R1Y3RJbmZvTG9va3VwKCk7XG4gICAgLy8gY2hlY2sgaWYgZGVidWcgbW9kZSBpcyBvbiwgYWxzbyBhZGRzIGRibSB0byBiZWFnbGVJbmZvTGF5ZXJcbiAgICBjb25zdCBkZWJ1Z01vZGUgPSBnZXREZWJ1Z01vZGUoKTtcbiAgICBtb25pdG9yID0gbmV3IE1vbml0b3IoKTtcbiAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLkluaXRpYWxpemVkKTtcblxuICAgIGNvbnN0IGlkZW50aWZpZXIgPSBhd2FpdCBnZXRJZGVudGlmaWVyKCk7XG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGNvb2tpZSBpZGVudGlmaWVyOiBcIiwgaWRlbnRpZmllcik7XG4gICAgY29uc3QgY29va2llUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIpO1xuICAgIGlmICghZGVidWdNb2RlKSB7XG4gICAgICBpZiAoY29va2llUGN0IDwgU1BMSVRfUkFUSU8pIHtcbiAgICAgICAgaWYgKGNvb2tpZVBjdCA9PT0gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGNvb2tpZSBwY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImlzT25cIiwgaXNPbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc09uID0gdHJ1ZTtcbiAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpc09uXCIsIGlzT24pO1xuICAgICAgfVxuXG4gICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlVzZXJPbk9mZik7XG5cbiAgICAgIGlmICghaXNTZW5kQmVhY29uU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2VuZEJlYWNvbiBpcyBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgfVxuXG4gICAgICB0aW1lb3V0Q291bnRlciA9IHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVElNRU9VVF9DT1VOVCkpIHx8IDA7XG4gICAgICBpZiAodGltZW91dENvdW50ZXIgPiBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTikge1xuICAgICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV4dGRheSB0aW1lb3V0IHRocmVzaG9sZCByZWFjaGVkXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuaW5mbyhcIkRlYnVnIG1vZGUgb246IGFsbCBhcHBsaWNhYmxlIHRyZWF0bWVudHMgd2lsbCBiZSBhcHBsaWVkXCIpO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIH1cblxuICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcIm5leHREYXktaGlkZVwiKSkge1xuICAgICAgY2hlY2twb2ludChjaGVja3BvaW50cy5TY3JpcHRUaW1lT3V0KTtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVElNRU9VVF9DT1VOVCwgdGltZW91dENvdW50ZXIgKyAxKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5leHRkYXkgc2NyaXB0IHRpbWVkIG91dFwiKTtcbiAgICB9XG5cbiAgICAvLyBWaXZlbnNlIHNwZWNpZmljXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhZG1pbiwgbWFraW5nIHRoZW0gb3V0IG9mIHNjb3BlXG4gICAgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LnZ2c0lzU2hvd3Jvb20pIHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuT1VUX09GX1NDT1BFLCB0cnVlKTtcbiAgICB9XG4gICAgLy8gVml2ZW5zZSBzcGVjaWZpY1xuXG4gICAgY29uc3QgaXNPdXRPZlNjb3BlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUpO1xuICAgIGlmIChpc091dE9mU2NvcGUgPT09IFwidHJ1ZVwiKSB7XG4gICAgICBsb2dnZXIud2FybihcIlVzZXIgaXMgb3V0IG9mIHNjb3BlXCIpO1xuICAgICAgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllcihcImlzT25cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIgPSB3aW5kb3cuZGF0YUxheWVyIHx8IFtdO1xuICAgICAgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LmlzT24gPT09IHRydWUpIHtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwidHJ1ZVwifSk7XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LmlzT24gPT09IGZhbHNlKSB7XG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcImZhbHNlXCJ9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNPbiA9PT0gZmFsc2UpIHRocm93IG5ldyBFcnJvcihcIkNvbnRyb2wgZ3JvdXA6IG5vIHRyZWF0bWVudHMgYXBwbGllZFwiKTtcbiAgICBtb25pdG9yLnNlbmRMb2dzKCk7XG5cbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIGNvbnN0IGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzID0gZGVidWdNb2RlID8gc2VhcmNoUGFyYW1zLmluY2x1ZGVzKFwiZmlsdGVyPVwiKSA/IHNlYXJjaFBhcmFtcy5zbGljZShcbiAgICAgICAgc2VhcmNoUGFyYW1zLmluZGV4T2YoXCJbXCIpICsgMSxcbiAgICAgICAgc2VhcmNoUGFyYW1zLmxhc3RJbmRleE9mKFwiXVwiKSxcbiAgICApLnNwbGl0KFwiLFwiKS5tYXAoKGl0ZW0pID0+IHBhcnNlSW50KGl0ZW0sIDEwKSk6IG51bGwgOiBudWxsO1xuXG4gICAgaW5qZWN0U3R5bGVTaGVldCgpO1xuICAgIGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICB9LCAyMDAwKTtcbiAgICBjb25zdCB0cmVhdG1lbnRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50cygpO1xuICAgIGNvbnN0IHRyZWF0bWVudFdlaWdodHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRXZWlnaHRzKCk7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgY29uc3QgT0JTRVJWRVJfQ09ORklHID0ge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZX07XG5cbiAgICBjb25zdCBlbmdhZ2VUcmVhdG1lbnQgPSBhc3luYyAodHJlYXRtZW50KSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGlkLFxuICAgICAgICBhY3Rpb25zLFxuICAgICAgICBiYXNlUnVsZVNldCxcbiAgICAgICAgZGV2aWNlLFxuICAgICAgICBkZXBlbmRhbnRfb25fdHJlYXRtZW50LFxuICAgICAgICByZWFwcGx5X2V2ZW50LFxuICAgICAgICBidXNpbmVzc1J1bGVTZXQsXG4gICAgICAgIHdlaWdodCxcbiAgICAgICAgZGVsYXksXG4gICAgICB9ID0gdHJlYXRtZW50O1xuICAgICAgaWYgKGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzICYmICFkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRldmljZSA9PT0gXCJtb2JpbGVcIiAmJiAhaXNNb2JpbGUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBkZXZpY2UgJ21vYmlsZScgbWlzbWF0Y2hcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZXZpY2UgPT09IFwiZGVza3RvcFwiICYmIGlzTW9iaWxlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgZGV2aWNlICdkZXNrdG9wJyBtaXNtYXRjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJlYXBwbHlfZXZlbnQpIHtcbiAgICAgICAgbGV0IHJlYXBwbHlfZXZlbnRfYXJyYXkgPSByZWFwcGx5X2V2ZW50O1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVhcHBseV9ldmVudCkpIHJlYXBwbHlfZXZlbnRfYXJyYXkgPSBbcmVhcHBseV9ldmVudF07XG4gICAgICAgIGxvZ2dlci5sb2coYFJlYXBwbHkgZXZlbnQgJyR7cmVhcHBseV9ldmVudH0nIGZvdW5kIGZvciB0cmVhdG1lbnQ6ICR7aWR9YCk7XG4gICAgICAgIGZvciAoY29uc3QgcmVhcHBseUV2ZW50IG9mIHJlYXBwbHlfZXZlbnRfYXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA/XG4gICAgICAgICAgICAgIHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gOiBbXTtcbiAgICAgICAgICBpZiAocHJldmlvdXNWYWx1ZS5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgYWxyZWFkeSBhZGRlZCBmb3IgcmVhcHBseSBldmVudFwiKTtcbiAgICAgICAgICB9IGVsc2UgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA9IFsuLi5wcmV2aW91c1ZhbHVlLCBpZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGJpbmRpbmdzID0ge3Byb2R1Y3RJbmZvfTtcbiAgICAgIGNvbnN0IHJ1bGVFbmdpbmUgPSBuZXcgUnVsZUVuZ2luZSh7YmFzZVJ1bGVTZXQsIGJ1c2luZXNzUnVsZVNldCwgYmluZGluZ3N9KTtcbiAgICAgIGxvZ2dlci5sb2coXCJTdGFydGluZyBiYXNlIHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgaWYgKCFiYXNlUnVsZVNldCB8fCBhd2FpdCBydWxlRW5naW5lLmNoZWNrUnVsZXMoKSkge1xuICAgICAgICBsZXQgdHJlYXRtZW50U2tpcFJhdGlvID0gd2VpZ2h0ID09PSAxMDAgPyAwIDogKDEwMCAtIHdlaWdodCB8fCBUUkVBVE1FTlRfUkFUSU8pO1xuICAgICAgICBpZiAoZGVwZW5kYW50X29uX3RyZWF0bWVudCkge1xuICAgICAgICAgIC8vIElmIGRlcGVuZGFudCBvbiB0cmVhdG1lbnQgaXMgZm91bmQgYW5kIGhhcyB3ZWlnaHQ7IHVzZSBpdHMgc2tpcCByYXRpb1xuICAgICAgICAgIGNvbnN0IGRlcGVuZGFudE9uVHJlYXRtZW50V2VpZ2h0ID0gbWF0Y2hlZFRyZWF0bWVudHMuZmluZCgodCkgPT4gdC5pZCA9PT0gZGVwZW5kYW50X29uX3RyZWF0bWVudCk/LndlaWdodDtcbiAgICAgICAgICB0cmVhdG1lbnRTa2lwUmF0aW8gPSBkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCA9PT0gMTAwID8gMCA6ICgxMDAgLSBkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodHx8XG4gICAgICAgICAgICBUUkVBVE1FTlRfUkFUSU8pO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgc2tpcCByYXRpbzogXCIgKyB0cmVhdG1lbnRTa2lwUmF0aW8pO1xuICAgICAgICAvLyBEZXRlcm1pbmluZyBpZGVudGlmaWVyIGZvciBjYWxjdWxhdGluZyB0cmVhdG1lbnQgcGVyY2VudGFnZSAodHJlYXRtZW50UGN0KVxuICAgICAgICBjb25zdCBkZXRlcm1pbmluZ0lkZW50aWZpZXIgPSBkZXBlbmRhbnRfb25fdHJlYXRtZW50IHx8IGlkO1xuXG4gICAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIHRyZWF0bWVudCB1c2VkIHRvIGRldGVybWluZSBpZiBpdCBzaG91bGQgYmUgc2tpcHBlZCBvciBub3RcbiAgICAgICAgLy8gdHJlYXRtZW50UGN0IGlzIDEwMCB3aGVuIGRlYnVnIG1vZGUgaXMgMSwgZW5zdXJpbmcgbm8gdHJlYXRtZW50cyBhcmUgc2tpcHBlZFxuICAgICAgICBjb25zdCB0cmVhdG1lbnRQY3QgPSBkZWJ1Z01vZGUgPT09IDEgPyAxMDAgOiBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIGRldGVybWluaW5nSWRlbnRpZmllcik7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRQY3Q6IFwiICsgdHJlYXRtZW50UGN0ICsgYCB3aXRoIGRlYnVnIG1vZGUgJHtkZWJ1Z01vZGUgPyBcIm9uXCIgOiBcIm9mZlwifWApO1xuICAgICAgICBsZXQgYnVzaW5lc3NSdWxlSWQgPSBudWxsO1xuICAgICAgICBpZiAoYnVzaW5lc3NSdWxlU2V0KSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHN1YiB2YXJpYW50IHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgICAgIGJ1c2luZXNzUnVsZUlkID0gYXdhaXQgcnVsZUVuZ2luZS5jaGVja0J1c2luZXNzUnVsZXMoKTtcbiAgICAgICAgICBpZiAoYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBidXNpbmVzcyBydWxlIHRyYW5zZm9ybWF0aW9uIHdpdGggaWQ6IFwiLCBidXNpbmVzc1J1bGVJZCk7XG4gICAgICAgICAgfSBlbHNlIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQgd2l0aCBkZWZhdWx0IHZhbHVlc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJlYXRtZW50UGN0IDwgdHJlYXRtZW50U2tpcFJhdGlvKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgVHJlYXRtZW50ICR7aWR9IHNraXBwZWQgZHVlIHRvIHRyZWF0bWVudCBzcGxpdCByYXRpb2ApO1xuICAgICAgICAgIGFkZEVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudChpZCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcGVuZGFudF9vbl90cmVhdG1lbnQ6IChkZXBlbmRhbnRfb25fdHJlYXRtZW50IHx8IG51bGwpLFxuICAgICAgICAgICAgICAgIGJ1c2luZXNzUnVsZUlkLFxuICAgICAgICAgICAgICAgIHZhcmlhbnQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbcHJlcGFyZWQsIHZhcmlhbnRdID0gYXdhaXQgcHJlcGFyZUFjdGlvbnMoaWRlbnRpZmllciwgYWN0aW9ucywgYnVzaW5lc3NSdWxlSWQpO1xuICAgICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGFwcGx5VHJlYXRtZW50cyhwcmVwYXJlZCwgcHJvZHVjdEluZm8pO1xuICAgICAgICAgICAgYWRkQXBwbGllZFRyZWF0bWVudChpZCwge2J1c2luZXNzUnVsZUlkLCB2YXJpYW50fSk7XG4gICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBhcHBseVRyZWF0bWVudHMocHJlcGFyZWQsIHByb2R1Y3RJbmZvKTtcbiAgICAgICAgYWRkQXBwbGllZFRyZWF0bWVudChpZCwge2J1c2luZXNzUnVsZUlkLCB2YXJpYW50fSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJSdWxlIGNoZWNrIGZhaWxlZCBmb3IgdHJlYXRtZW50OiBcIiwgaWQpO1xuICAgIH07XG5cbiAgICAvLyBUZW1wb3JhcnkgY29kZSBibG9jayB0byB0cmFjayBjb3Vwb24gYXBwbGljYWJsZSBiYXNrZXQgdG90YWwgcHJpY2VcbiAgICAvLyBUT0RPOiBSZW1vdmUgb25jZSB0aGUgaW5mbyBjYW4gYmUgb2J0YWluZWQgdmlhIExvb2t1cCBBUElcbiAgICBjb25zdCBjb2xsZWN0Q0FCYXNrZXRQcmljZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHtDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0V9ID0gTE9DQUxfU1RPUkFHRV9LRVlTO1xuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgICAgIGNvbnN0IHByaWNlRWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJpY2VcIikpO1xuICAgICAgICBwcmljZUVsZW1lbnRzLnB1c2goLi4uQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5ldy1wcmljZVwiKSkpO1xuICAgICAgICBpZiAoIXByaWNlRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlByaWNlIGVsZW1lbnRzIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZyhcIlByaWNlIGVsZW1lbnRzOiBcIiwgcHJpY2VFbGVtZW50cyk7XG4gICAgICAgIGNvbnN0IGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID0gcHJpY2VFbGVtZW50cy5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICAgIHJldHVyblZhbCArPSBwYXJzZUludChlbGVtLnRleHRDb250ZW50LnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSB0b3RhbCBwcmljZTogXCIsIGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlKTtcbiAgICAgICAgaWYgKGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID49IDApIHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgICAgIENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtb3pldGkuaHRtbFwiKSkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNhQmFza2V0UHJpY2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFKTtcbiAgICAgICAgaWYgKGNhQmFza2V0UHJpY2UgPT09IG51bGwpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb2xsZWN0Q0FCYXNrZXRQcmljZSgpO1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiKSkge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIk11dGF0aW9uIG9ic2VydmVkLCBjYWxsaW5nIGNvbGxlY3RDQUJhc2tldFByaWNlXCIpO1xuICAgICAgICBjb2xsZWN0Q0FCYXNrZXRQcmljZSgpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBiYXNrZXRDaGVja291dEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NoZWNrb3V0Rm9ybVwiKTtcbiAgICAgIGlmIChiYXNrZXRDaGVja291dEZvcm0pIG9ic2VydmVyLm9ic2VydmUoYmFza2V0Q2hlY2tvdXRGb3JtLCBPQlNFUlZFUl9DT05GSUcpO1xuICAgIH1cbiAgICAvLyBFbmQgb2YgdGVtcG9yYXJ5IGNvZGUgYmxvY2tcblxuICAgIGNvbnN0IFt0cmVhdG1lbnRzLCB0cmVhdG1lbnRXZWlnaHRzLCBwcm9kdWN0SW5mb10gPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgW3RyZWF0bWVudHNQcm9taXNlLCB0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSwgcHJvZHVjdEluZm9Qcm9taXNlXSk7XG5cbiAgICBsb2dnZXIubG9nKFwiRm91bmQgdHJlYXRtZW50czogXCIsIHRyZWF0bWVudHMpO1xuICAgIGxvZ2dlci5sb2coXCJGb3VuZCBjb29raWUgcGVyY2VudGFnZTogXCIsIGNvb2tpZVBjdCk7XG4gICAgbG9nZ2VyLmxvZyhcIlNwbGl0X3JhdGlvOiBcIiwgU1BMSVRfUkFUSU8pO1xuICAgIGxvZ2dlci5sb2coXCJjb29raWVQY3QgPCBTUExJVF9SQVRJT1wiLCBjb29raWVQY3QgPCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmluZm8oYENvbnRyb2wgZ3JvdXAgcmF0aW86ICR7U1BMSVRfUkFUSU99JWApO1xuXG4gICAgY29uc3QgdHJlYXRtZW50UmVwb3NpdG9yeSA9IG5ldyBUcmVhdG1lbnRSZXBvc2l0b3J5KHtcbiAgICAgIHRyZWF0bWVudHMsXG4gICAgICB0cmVhdG1lbnRXZWlnaHRzLFxuICAgICAgY29va2llUGN0LFxuICAgIH0pO1xuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVHJlYXRtZW50UmVwb3NpdG9yeUNyZWF0ZWQpO1xuICAgIGNvbnN0IG1hdGNoZWRUcmVhdG1lbnRzID0gdHJlYXRtZW50UmVwb3NpdG9yeS5nZXRNYXRjaGVkVHJlYXRtZW50cygpO1xuICAgIGlmICghbWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm8gdHJlYXRtZW50cyBtYXRjaGVkLCByZXR1cm5pbmcgd2l0aG91dCBmdXJ0aGVyIGFjdGlvblwiKTtcbiAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZUFwcGx5VHJlYXRtZW50c01hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIG1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIubG9nKFwiRXJyb3IgZXhlY3V0aW5nIHJ1bGVzXCIsIGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVHJlYXRtZW50c0FwcGxpZWQpO1xuICAgIGxvZ2dlci5sb2coXCJBcHBsaWVkIHRyZWF0bWVudHM6IFwiLCB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmEpO1xuXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgbW9uaXRvci51cGRhdGVMYXRlc3RDaGFuZ2VzKCk7XG4gICAgfSwgMTAwMCk7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyZUFwcGx5VHJlYXRtZW50c01hcCkpIHtcbiAgICAgIGNvbnN0IHRyZWF0bWVudElkcyA9IHJlQXBwbHlUcmVhdG1lbnRzTWFwW2tleV07XG4gICAgICBjb25zdCByZUFwcGx5VHJlYXRtZW50cyA9IG1hdGNoZWRUcmVhdG1lbnRzLmZpbHRlcigodCkgPT4gdHJlYXRtZW50SWRzLmluY2x1ZGVzKHQuaWQpKTtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJpbmZpbml0ZV9zY3JvbGxcIjoge1xuICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGluZmluaXRlX3Njcm9sbGApO1xuICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRpbWVvdXRcIjoge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHRpbWVvdXRgKTtcbiAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZWxlbWVudF9jaGFuZ2VcIjoge1xuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCByZWFwcGx5U2VsZWN0b3JMaXN0ID0gQXJyYXkuaXNBcnJheSh0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvcikgP1xuICAgICAgICAgICAgdHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3IgOiBbdHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3JdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiByZWFwcGx5U2VsZWN0b3JMaXN0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGVsZW1lbnRfY2hhbmdlYCk7XG4gICAgICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uX3Njcm9sbFwiOiB7XG4gICAgICAgICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gb25fc2Nyb2xsYCk7XG4gICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInF1ZXJ5X3NlYXJjaF9jaGFuZ2VcIjoge1xuICAgICAgICAgIGxldCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uc2VhcmNoICE9PSBxdWVyeVN0cmluZykge1xuICAgICAgICAgICAgICBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHF1ZXJ5X3NlYXJjaF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiUmVhcHBseSBldmVudCBub3QgZm91bmQ6IFwiLCBrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlJlYXBwbHlUcmVhdG1lbnRMaXN0ZW5lcnMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICBjb25zb2xlLndhcm4oXCJOZXh0ZGF5OiBcIiwgZXJyLm1lc3NhZ2UpO1xuICAgIG1vbml0b3Iuc2VuZExvZ3MoZXJyLm1lc3NhZ2UsIHRydWUpO1xuICB9XG59KSgpO1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJydW50aW1lIiwidW5kZWZpbmVkIiwiT3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd24iLCJoYXNPd25Qcm9wZXJ0eSIsIiRTeW1ib2wiLCJTeW1ib2wiLCJpdGVyYXRvclN5bWJvbCIsIml0ZXJhdG9yIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsInRvU3RyaW5nVGFnIiwiZGVmaW5lIiwib2JqIiwia2V5IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImVyciIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInNlbGYiLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY3JlYXRlIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwic3RhdGUiLCJHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0IiwibWV0aG9kIiwiYXJnIiwiR2VuU3RhdGVFeGVjdXRpbmciLCJFcnJvciIsIkdlblN0YXRlQ29tcGxldGVkIiwiZG9uZVJlc3VsdCIsImRlbGVnYXRlIiwiZGVsZWdhdGVSZXN1bHQiLCJtYXliZUludm9rZURlbGVnYXRlIiwiQ29udGludWVTZW50aW5lbCIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwicmVjb3JkIiwidHJ5Q2F0Y2giLCJ0eXBlIiwiZG9uZSIsIkdlblN0YXRlU3VzcGVuZGVkWWllbGQiLCJtYWtlSW52b2tlTWV0aG9kIiwiZm4iLCJjYWxsIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwidGhpcyIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsInZhbHVlcyIsIkdwIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIkFzeW5jSXRlcmF0b3IiLCJQcm9taXNlSW1wbCIsImludm9rZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHQiLCJfX2F3YWl0IiwidGhlbiIsInVud3JhcHBlZCIsImVycm9yIiwicHJldmlvdXNQcm9taXNlIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJUeXBlRXJyb3IiLCJpbmZvIiwicmVzdWx0TmFtZSIsIm5leHQiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicHVzaCIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJsZW5ndGgiLCJpIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiZ2VuRnVuIiwiY3RvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXN5bmMiLCJQcm9taXNlIiwiaXRlciIsImtleXMiLCJvYmplY3QiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJyb290UmVjb3JkIiwicnZhbCIsImV4Y2VwdGlvbiIsImhhbmRsZSIsImxvYyIsImNhdWdodCIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiZmluaXNoIiwidGhyb3duIiwiZGVsZWdhdGVZaWVsZCIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsImdldCIsInByb3AiLCJfdHlwZW9mIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJtaW5MZW4iLCJ0b1N0cmluZyIsImZyb20iLCJ0ZXN0IiwiX3NsaWNlZFRvQXJyYXkiLCJpc0FycmF5IiwiX2kiLCJfcyIsIl9lIiwiX2FyciIsIl9uIiwiX2QiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJfbmV4dCIsIl90aHJvdyIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiVFJFQVRNRU5UX1dFSUdIVFNfTE9DQVRJT04iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJpbmNsdWRlcyIsIkxPR19BUElfVVJMIiwiTU9CSUxFX01FRElBX1FVRVJZIiwiU0VTU0lPTl9TVE9SQUdFX0tFWVMiLCJMT0NBTF9TVE9SQUdFX0tFWVMiLCJMb2dnZXIiLCJvcmlnaW4iLCJERUJVRyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwid2FybiIsImxvZ2dlciIsImNoZWNrRGF0YUxheWVyUnVsZSIsInJ1bGUiLCJKU09OIiwic3RyaW5naWZ5Iiwib3BlcmF0b3IiLCJjb25kaXRpb24iLCJydW50aW1lVmFsdWUiLCJkYXRhTGF5ZXJGaW5kZXIiLCJjb25kaXRpb25DaGVja2VyIiwicmVzIiwiYmVhZ2xlSW5mb0xheWVyIiwic3BsaXQiLCJkYXRhTGF5ZXIiLCJjaGVja1VybFJ1bGUiLCJyZXF1ZXN0VVJMIiwicGF0aCIsImRlY29kZVVSSUNvbXBvbmVudCIsIlVSTCIsInNlYXJjaCIsInJlcGxhY2UiLCJwYXRobmFtZSIsIl9kZWZpbmVQcm9wZXJ0eSIsImNoZWNrcG9pbnRzIiwiZSIsInBhcnNpbmdSZWdleCIsIlBhZ2VUeXBlIiwiY29udGVudF9uYW1lIiwiY29udGVudF9uYW1lX2FsdCIsInZ2c1NjckdBUGFnZVR5cGUiLCJ2dnNTY3JHQU9yZGVySWQiLCJ2dnNTY3JHQU9yZGVyUmV2IiwidnZzU2NyR0FPcmRlclR5cGUiLCJ2dnNTY3JHQUlzQWRtaW4iLCJCZWFnbGVMb2FkZWQiLCJJbml0aWFsaXplZCIsIlVzZXJPbk9mZiIsIlNjcmlwdFRpbWVPdXQiLCJUcmVhdG1lbnRSZXBvc2l0b3J5Q3JlYXRlZCIsIlRyZWF0bWVudHNBcHBsaWVkIiwiUmVhcHBseVRyZWF0bWVudExpc3RlbmVycyIsIlRpbWVvdXRUaHJlc2hvbGRSZWFjaGVkIiwiaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciIsInNjcmlwdHMiLCJkb2N1bWVudCIsInNjcmlwdHNMZW5ndGgiLCJwcmVwYXJlRGF0YSIsIm1lc3NhZ2UiLCJmb3VuZFNjcmlwdENvdW50Iiwic2NyaXB0VGV4dENvbnRlbnQiLCJ0ZXh0Q29udGVudCIsImZvdW5kVmFsIiwiZXhlYyIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsImFkZFRvQmVhZ2xlSW5mb0xheWVyIiwicGFyc2UiLCJzY3JpcHRzSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzZXRUaW1lb3V0IiwiY2hlY2twb2ludCIsImZpbmQiLCJpZCIsInRpbWUiLCJEYXRlIiwibm93IiwiYWRkQXBwbGllZFRyZWF0bWVudCIsImFkZEVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudCIsInZpZXdJZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJzZXNzaW9uSWQiLCJzZXNzaW9uU3RvcmFnZSIsImN1cnJlbnRVUkwiLCJwbGF0Zm9ybSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudERhdGEiLCJ1c2VyQWdlbnQiLCJnYU9iamVjdHMiLCJnYURMRWxlbWVudCIsInZpc2lsYWJzY2siLCJleHRyYWN0Q29va2llSWRlbnRpZmllciIsImNvb2tpZSIsInZsT2JqZWN0cyIsIkl0ZW1zIiwidmxFbGVtZW50IiwiSyIsIlYiLCJWTF9QVkNvdW50SW5WaXNpdCIsIlZMX1RvdGFsRHVyYXRpb24iLCJWTF9Ub3RhbFBWIiwiVkxfVG90YWxWaXNpdCIsImNvbnRlbnRfdHlwZSIsImNvbnRlbnRfY2F0ZWdvcnkiLCJjb250ZW50X2lkcyIsInZpdmVuc2VfY2F0ZWdvcnkiLCJlY29tbWVyY2UiLCJkZXRhaWwiLCJhY3Rpb25GaWVsZCIsImxpc3QiLCJpc0FkbWluIiwicHJvZHVjdEdyb3VwIiwidXNlcklkIiwiY2F0ZWdvcnlfcHJvZHVjdF9jb3VudCIsImNoZWNrb3V0IiwicHJvZHVjdHMiLCJwdXJjaGFzZSIsInZpdmVuc2VQcm9kdWN0cyIsInJldmVudWUiLCJkaW1lbnNpb24xNSIsImRldmljZVBpeGVsUmF0aW8iLCJpbm5lcldpZHRoIiwid2luZG93U2NyZWVuIiwiYXZhaWxIZWlnaHQiLCJzY3JlZW4iLCJhdmFpbExlZnQiLCJhdmFpbFRvcCIsImF2YWlsV2lkdGgiLCJjb2xvckRlcHRoIiwiaGVpZ2h0IiwicGl4ZWxEZXB0aCIsIndpZHRoIiwid2luZG93VlBvcnQiLCJ2aXN1YWxWaWV3cG9ydCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvbnJlc2l6ZSIsIm9uc2Nyb2xsIiwicGFnZUxlZnQiLCJwYWdlVG9wIiwic2NhbGUiLCJwYXJzZUludCIsIk1hdGgiLCJyb3VuZCIsImFicyIsIm9yaWVudGF0aW9uIiwidGVtcCIsImhpc3RvcnkiLCJuYXZBZ2VudCIsImJyYW5kcyIsIm1hcCIsImJyYW5kIiwidmVyc2lvbiIsImpvaW4iLCJtb2JpbGUiLCJoYXJkd2FyZUNvbmN1cnJlbmN5IiwibGFuZ3VhZ2UiLCJicm93c2VyTGFuZ3VhZ2UiLCJzeXN0ZW1MYW5ndWFnZSIsInVzZXJMYW5ndWFnZSIsIm1heFRvdWNoUG9pbnRzIiwidmVuZG9yIiwicGVyZk1ldHJpY3MiLCJwZXJmb3JtYW5jZSIsImdldEVudHJpZXNCeVR5cGUiLCJwZXJmTmF2aWdhdGlvbk1ldHJpY3MiLCJwbGQiLCJkb21Db250ZW50TG9hZGVkRXZlbnRFbmQiLCJjb25uZWN0U3RhcnQiLCJuZXQiLCJjb25uZWN0RW5kIiwiZmV0Y2hTdGFydCIsInNydiIsInJlc3BvbnNlU3RhcnQiLCJyZXF1ZXN0U3RhcnQiLCJ0ZnIiLCJyZXNwb25zZUVuZCIsImRtaSIsImRvbUludGVyYWN0aXZlIiwiZGNwIiwiZG9tQ29tcGxldGUiLCJvbmwiLCJsb2FkRXZlbnRFbmQiLCJsb2FkRXZlbnRTdGFydCIsImNvbm5lY3Rpb24iLCJkb3dubGluayIsInNlbGVjdGVkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzVGFnIiwiY250bnQiLCJqc29uY29udGVudCIsImJjcnVtYl9zdHJpbmciLCJzb3JnTGlzdGluZyIsImNvdW50SXRlbXMiLCJzb3JnUHJvZHVjdCIsInNrdSIsInByaWNlIiwicHJpY2VDdXJyZW5jeSIsInByaWNlVmFsaWRVbnRpbCIsImRvTm90VHJhY2siLCJtc0RvTm90VHJhY2siLCJob3N0bmFtZSIsInJlZmVycmVyIiwiZmF2b3JpdGVQcm9kdWN0cyIsInVzZXJFbWFpbCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lclRleHQiLCJmb3JtYXREZWxpdmVyeURhdGUiLCJtb250aHMiLCJjIiwiZ2V0UmFuZG9tVmFsdWVzIiwiVWludDhBcnJheSIsInJlbW92ZURvY3VtZW50SGlkZSIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImZldGNoVHJlYXRtZW50cyIsImZldGNoIiwidHJlYXRtZW50cyIsImpzb24iLCJmZXRjaFRyZWF0bWVudFdlaWdodHMiLCJ0cmVhdG1lbnRXZWlnaHRzIiwiY29va2llU3RyaW5nIiwiY29va2llTmFtZSIsImlkZW50aWZpZXIiLCJ2IiwicmVkdWNlIiwiYWNjIiwidHJpbSIsImRldGVybWluZVBjdCIsInN1YnN0cmluZ0VuZFBvc2l0aW9uIiwic3Vic3RyaW5nU3RhcnRQb3NpdGlvbiIsImNyZWF0ZUhhc2hTdHJpbmciLCJoYXNoU3RyaW5nIiwiaGFzaE51bWJlciIsInN0cmluZ1RvSGFzaCIsImVuY29kZWQiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsInN1YnRsZSIsImRpZ2VzdCIsImhhc2hCdWZmZXIiLCJoYXNoQXJyYXkiLCJiIiwicGFkU3RhcnQiLCJleGl0U2Nyb2xsTGlzdGVuZXIiLCJjYWxsQmFjayIsImxhc3RTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJleGl0U2Nyb2xsSW50ZXJ2YWwiLCJzdHlsZUFwcGxpY2F0b3IiLCJlbGVtZW50cyIsInN0eWxlQ2hhbmdlc01hcCIsImVsZW1lbnQiLCJlbnRyaWVzIiwic3R5bGUiLCJpbmplY3RTdHlsZVNoZWV0Iiwic3R5bGVTaGVldCIsImNyZWF0ZUVsZW1lbnQiLCJyZWwiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJwcmVwYXJlQWN0aW9ucyIsImFjdGlvbnNUb1ByZXBhcmUiLCJidXNpbmVzc1J1bGVJZCIsImFjdGlvbnMiLCJ2YXJpYW50IiwiYWN0aW9uIiwiYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zIiwidmFyaWFudHMiLCJidXNpbmVzc1RyYW5zZm9ybWF0aW9uIiwidmFyaWFudEtleSIsIndlaWdodCIsInJ1blRpbWVWYWx1ZSIsIm1pbiIsIm1heCIsImdldERlYnVnTW9kZSIsIk5EX0RFQlVHX01PREUiLCJPVVRfT0ZfU0NPUEUiLCJxdWVyeVN0cmluZyIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiY3VycmVudCIsImdldElkZW50aWZpZXIiLCJleHRyYWN0SWRlbnRpZmllckludGVydmFsIiwiZGVsYXkiLCJtcyIsInNrdUNvbGxlY3RvciIsIk5EX1NLVV9MSVNUIiwic2t1TGlzdCIsImdldEF0dHJpYnV0ZSIsImlzU2VuZEJlYWNvblN1cHBvcnRlZCIsInNlbmRCZWFjb24iLCJkYXRlIiwic3RhcnRNb250aEluZGV4IiwiZW5kTW9udGhJbmRleCIsInN0YXJ0RGF5IiwiZW5kRGF5IiwibWF0Y2giLCJ0b0xvd2VyQ2FzZSIsInRvZGF5Iiwic3RhcnRZZWFyIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImVuZFllYXIiLCJlc3RpbWF0ZWRTdGFydCIsImVzdGltYXRlZEVuZCIsInN0YXJ0RGlmZk92ZXJEYXlzIiwiY2VpbCIsImVuZERpZmZPdmVyRGF5cyIsInN0YXJ0RGlmZk92ZXJXZWVrcyIsImVuZERpZmZPdmVyV2Vla3MiLCJyZXBsYWNlQWxsIiwic3RyIiwiaW5kZXgiLCJwcm9kdWN0SW5mbyIsIlBPUFVQX0RJU1BMQVlfRkxBRyIsInRyYW5zZm9ybWVyIiwidHJlYXRtZW50IiwiYXBwbHlFdmVudCIsImNvbnRlbnRTZWxlY3RvciIsInNlbGVjdG9yIiwic2VsZWN0b3JGYWxsYmFjayIsIm1kQ29uZGl0aW9uIiwibW92ZV9zZWxlY3Rvcl8xIiwibW92ZV9zZWxlY3Rvcl8yIiwicmVwbGFjZUZuIiwiJCIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwicmVwbGFjZUZuRXhlY3V0b3IiLCJyZXBsYWNlRnVuY3Rpb24iLCJiaW5kIiwidmFsIiwiY3VycmVudFJlcGxhY2VGbiIsIlN0cmluZyIsImJlZm9yZSIsImFmdGVyIiwiY3JlYXRlUG9wdXAiLCJkaXNwbGF5UG9wdXAiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsInRpbWVvdXQiLCJ0ZXh0IiwiaHRtbCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJvcmlnaW5hbFRpdGxlIiwidGl0bGUiLCJoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlIiwiZWxlbWVudFNrdSIsImF0dHJpYnV0ZSIsImNzcyIsInByb3BlcnR5IiwicHJvcGVydHlWYWx1ZSIsIm4xIiwibjIiLCJzd2FwTm9kZXMiLCJhcHBlbmQiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsInByZXBlbmQiLCJldmVudCIsInRpdGxlcyIsInBhcnNlZFRpdGxlcyIsImhpZGRlbiIsImhhbmRsZVBvcHVwQ2xpY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicVBvcHVwIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3B1cFdyYXBwZXIiLCJhZGQiLCJwb3B1cENsb3NlQnV0dG9uIiwib25jbGljayIsImNvbnRlbnRzIiwic2hpZnQiLCJzcmMiLCJ0ZW1wbGF0ZSIsImlubmVySFRNTCIsInBvcHVwIiwiY29udGVudCIsImZpcnN0Q2hpbGQiLCJib2R5IiwiaTEiLCJpMiIsInAxIiwicGFyZW50Tm9kZSIsInAyIiwiaXNFcXVhbE5vZGUiLCJjaGlsZHJlbiIsImluc2VydEJlZm9yZSIsInRyZWF0bWVudEFwcGxpY2F0b3IiLCJ0cmVhdG1lbnRMaXN0IiwialF1ZXJ5IiwiYXBwbHlUcmVhdG1lbnRzIiwiTW9uaXRvciIsImFwcGxpZWRUcmVhdG1lbnRzSGFzaCIsImFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyIsImVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoIiwiZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMiLCJoZWFkZXJzIiwiaXNMb2dnZWQiLCJpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzIiwiaXNFcnJvciIsInJlYWR5U3RhdGUiLCJoYW5kbGVRdWV1ZUxvZ3MiLCJwYWNrYWdlTG9nRGF0YSIsInJlcXVlc3RCbG9iIiwicXVldWVMb2dzIiwiYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCIsImVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCIsIm0iLCJ0IiwiQmxvYiIsInZJZCIsImlzRXhpdEV2ZW50Q2FwdHVyZWQiLCJsb2dEYXRhIiwicGFja2FnZVVwZGF0ZUxvZ0RhdGEiLCJjYXB0dXJlIiwicXVldWVkIiwicXVldWVJbnRlcnZhbCIsIlRyZWF0bWVudFJlcG9zaXRvcnkiLCJjb29raWVQY3QiLCJ1c2VyR3JvdXAiLCJnZXRVc2VyR3JvdXAiLCJ1c2VyR3JvdXBXZWlnaHRzIiwiVFJFQVRNRU5UUyIsInRyZWF0bWVudHNPYmoiLCJ0aW1lc3RhbXAiLCJ0cmVhdG1lbnRXaXRoVGltZXN0YW1wIiwiY2hlY2tDb3VudGVyUnVsZSIsInBhZ2VWaWV3SGFuZGxlciIsImNhQmFza2V0UHJpY2VIYW5kbGVyIiwiZ2V0Q291bnRlciIsImNvdW50ZXIiLCJwYWdlVmlld3MiLCJjYUJhc2tldFByaWNlIiwiY2hlY2tFbGVtZW50UnVsZSIsInNlbGVjdG9yQWxsIiwibWFpblNlbGVjdG9yIiwidGVtcFZhbCIsInJldHVyblZhbCIsImVsZW0iLCJjaGVja0Z1bmN0aW9uUnVsZSIsIm9wdHMiLCJiaW5kaW5ncyIsInJ1bGVGdW5jdGlvbiIsImNoZWNrU2Vzc2lvblJ1bGUiLCJkdXJhdGlvbkhhbmRsZXIiLCJoaXN0b3J5SGFuZGxlciIsImR1cmF0aW9uIiwiZ2V0U2Vzc2lvblRpbWVzdGFtcCIsImN1cnJlbnRIaXN0b3J5IiwiY2hlY2tFbnZSdWxlIiwiaXNNb2JpbGUiLCJjaGVja1JhbmRvbU51bWJlclJ1bGUiLCJzYWx0IiwicmFuZG9tUGN0IiwiUnVsZUVuZ2luZSIsImJhc2VSdWxlU2V0IiwiYnVzaW5lc3NSdWxlU2V0IiwiY2FsbGJhY2siLCJjaGVja1J1bGUiLCJjaGFpbiIsImNoYWluX2NvbmRpdGlvbiIsInJ1bGVTYXRpc2ZpZWQiLCJwcm9kdWN0SW5mb0xvb2t1cCIsIkhlYWRlcnMiLCJtb2RlIiwib2siLCJtb25pdG9yIiwiaXNPbiIsIlRJTUVPVVRfQ09VTlQiLCJ0aW1lb3V0Q291bnRlciIsInByb2R1Y3RJbmZvUHJvbWlzZSIsImRlYnVnTW9kZSIsImNvbnRhaW5zIiwidnZzSXNTaG93cm9vbSIsIkdMT1ZfT04iLCJzZW5kTG9ncyIsInNlYXJjaFBhcmFtcyIsImRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzIiwiaXRlbSIsIlBBR0VfVklFV1MiLCJTRVNTSU9OX0lEIiwiU0VTU0lPTl9USU1FU1RBTVAiLCJTRVNTSU9OX0hJU1RPUlkiLCJwb3B1cERpc3BsYXlGbGFnIiwic2Vzc2lvblRpbWVzdGFtcCIsInNlc3Npb25IaXN0b3J5IiwidHJlYXRtZW50c1Byb21pc2UiLCJ0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSIsIk9CU0VSVkVSX0NPTkZJRyIsInN1YnRyZWUiLCJjaGlsZExpc3QiLCJhdHRyaWJ1dGVzIiwiZW5nYWdlVHJlYXRtZW50IiwiZGV2aWNlIiwiZGVwZW5kYW50X29uX3RyZWF0bWVudCIsInJlYXBwbHlfZXZlbnQiLCJyZWFwcGx5X2V2ZW50X2FycmF5IiwicmVhcHBseUV2ZW50IiwicHJldmlvdXNWYWx1ZSIsInJlQXBwbHlUcmVhdG1lbnRzTWFwIiwicnVsZUVuZ2luZSIsImNoZWNrUnVsZXMiLCJ0cmVhdG1lbnRTa2lwUmF0aW8iLCJkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCIsIm1hdGNoZWRUcmVhdG1lbnRzIiwiZGV0ZXJtaW5pbmdJZGVudGlmaWVyIiwidHJlYXRtZW50UGN0IiwiY2hlY2tCdXNpbmVzc1J1bGVzIiwicHJlcGFyZWQiLCJjb2xsZWN0Q0FCYXNrZXRQcmljZSIsIkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSIsInByaWNlRWxlbWVudHMiLCJjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImJhc2tldENoZWNrb3V0Rm9ybSIsIm9ic2VydmUiLCJhbGwiLCJ0cmVhdG1lbnRSZXBvc2l0b3J5IiwiZ2V0TWF0Y2hlZFRyZWF0bWVudHMiLCJ1cGRhdGVMYXRlc3RDaGFuZ2VzIiwidHJlYXRtZW50SWRzIiwicmVBcHBseVRyZWF0bWVudHMiLCJmaWx0ZXIiLCJSZXNpemVPYnNlcnZlciIsInJlYXBwbHlfc2VsZWN0b3IiXSwic291cmNlUm9vdCI6IiJ9

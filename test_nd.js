/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 63:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var _regeneratorRuntime3=__webpack_require__(687);var _slicedToArray3=__webpack_require__(424);var _classCallCheck3=__webpack_require__(690);var _createClass3=__webpack_require__(728);var _typeof3=__webpack_require__(698);/******/(function(){// webpackBootstrap
/******/var __webpack_modules__={/***/63:/***/function _(__unused_webpack_module,__unused_webpack_exports,__nested_webpack_require_465__){var _regeneratorRuntime2=__nested_webpack_require_465__(687);var _slicedToArray2=__nested_webpack_require_465__(424);var _classCallCheck2=__nested_webpack_require_465__(690);var _createClass2=__nested_webpack_require_465__(728);var _typeof2=__nested_webpack_require_465__(698);/******/(function(){// webpackBootstrap
/******/var __webpack_modules__={/***/61:/***/function _(module,__unused_webpack_exports,__nested_webpack_require_448__){var _typeof=__nested_webpack_require_448__(698)["default"];function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */module.exports=_regeneratorRuntime=function _regeneratorRuntime(){return exports;},module.exports.__esModule=true,module.exports["default"]=module.exports;var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value;},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key];}try{define({},"");}catch(err){define=function define(obj,key,value){return obj[key]=value;};}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator;}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)};}catch(err){return{type:"throw",arg:err};}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this;});var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg);});});}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject);},function(err){invoke("throw",err,resolve,reject);}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result);},function(error){return invoke("throw",error,resolve,reject);});}reject(record.arg);}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject);});}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}});}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult();}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult;}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg);}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done};}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg);}};}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(undefined===method)return context.delegate=null,"throw"===methodName&&delegate.iterator["return"]&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel);}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry);}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record;}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0);}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;){if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;}return next.value=undefined,next.done=!0,next;};return next.next=next;}}return{next:doneResult};}function doneResult(){return{value:undefined,done:!0};}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name));},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun;},exports.awrap=function(arg){return{__await:arg};},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this;}),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next();});},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,function(){return this;}),define(Gp,"toString",function(){return"[object Generator]";}),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object){keys.push(key);}return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next;}return next.done=!0,next;};},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this){"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined);}},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval;},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught;}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc);}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc);}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break;}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record);},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel;},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel;}},"catch":function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry);}return thrown;}}throw new Error("illegal catch attempt");},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel;}},exports;}module.exports=_regeneratorRuntime,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/698:/***/function _(module){function _typeof(obj){"@babel/helpers - typeof";return(module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},module.exports.__esModule=true,module.exports["default"]=module.exports),_typeof(obj);}module.exports=_typeof,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/687:/***/function _(module,__unused_webpack_exports,__nested_webpack_require_12125__){// TODO(Babel 8): Remove this file.
var runtime=__nested_webpack_require_12125__(61)();module.exports=runtime;// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=
try{regeneratorRuntime=runtime;}catch(accidentalStrictMode){if((typeof globalThis==="undefined"?"undefined":_typeof2(globalThis))==="object"){globalThis.regeneratorRuntime=runtime;}else{Function("r","regeneratorRuntime = r")(runtime);}}/***/}/******/};/************************************************************************/ /******/ // The module cache
/******/var __webpack_module_cache__={};/******/ /******/ // The require function
/******/function __nested_webpack_require_12788__(moduleId){/******/ // Check if module is in cache
/******/var cachedModule=__webpack_module_cache__[moduleId];/******/if(cachedModule!==undefined){/******/return cachedModule.exports;/******/}/******/ // Create a new module (and put it into the cache)
/******/var module=__webpack_module_cache__[moduleId]={/******/ // no module.id needed
/******/ // no module.loaded needed
/******/exports:{}/******/};/******/ /******/ // Execute the module function
/******/__webpack_modules__[moduleId](module,module.exports,__nested_webpack_require_12788__);/******/ /******/ // Return the exports of the module
/******/return module.exports;/******/}/******/ /************************************************************************/ /******/ /* webpack/runtime/compat get default export */ /******/!function(){/******/ // getDefaultExport function for compatibility with non-harmony modules
/******/__nested_webpack_require_12788__.n=function(module){/******/var getter=module&&module.__esModule?/******/function(){return module['default'];}:/******/function(){return module;};/******/__nested_webpack_require_12788__.d(getter,{a:getter});/******/return getter;/******/};/******/}();/******/ /******/ /* webpack/runtime/define property getters */ /******/!function(){/******/ // define getter functions for harmony exports
/******/__nested_webpack_require_12788__.d=function(exports,definition){/******/for(var key in definition){/******/if(__nested_webpack_require_12788__.o(definition,key)&&!__nested_webpack_require_12788__.o(exports,key)){/******/Object.defineProperty(exports,key,{enumerable:true,get:definition[key]});/******/}/******/}/******/};/******/}();/******/ /******/ /* webpack/runtime/hasOwnProperty shorthand */ /******/!function(){/******/__nested_webpack_require_12788__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);};/******/}();/******/ /************************************************************************/var __webpack_exports__={};// This entry need to be wrapped in an IIFE because it need to be in strict mode.
!function(){"use strict";;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js
var regenerator=__nested_webpack_require_12788__(687);var regenerator_default=/*#__PURE__*/__nested_webpack_require_12788__.n(regenerator);;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js
function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof(obj);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toPrimitive.js
function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;};// CONCATENATED MODULE: ./src/stringUtils.js
var replaceAll=function replaceAll(str,find){var replace=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";if(!str)return"";var index=str.indexOf(find);if(index<0)return str;while(str.indexOf(find)>=0){var _index=str.indexOf(find);str=(_index>0?str.substring(0,_index):"")+replace+str.substring(_index+find.length);}return str;};var turkishToLower=function turkishToLower(str){if(!str||typeof str!=="string")return str;var string=str;var letters={"İ":"i","I":"ı","Ş":"ş","Ğ":"ğ","Ü":"ü","Ö":"ö","Ç":"ç"};string=string.replace(/(([İIŞĞÜÇÖ]))/g,function(letter){return letters[letter];});return string.toLowerCase();};;// CONCATENATED MODULE: ./src/constants.js
/* eslint-disable max-len */var isStaging=typeof window!=="undefined"?window.location.href.includes("staging.vivense"):true;var VERSION="0.0.39.5";var COOKIE_NAME="_ga";// TODO revert the following staging env check after moving to new branch structure
var TREATMENTS_LOCATION="https://host-b96.pages.dev/treatments.json";var TREATMENT_WEIGHTS_LOCATION="https://host-b96.pages.dev/weights.json";var STYLESHEET_LOCATION=isStaging?"https://ndvivense.glov.ai/nd-styles_staging.css":"https://ndvivense.glov.ai/nd-styles.css?id=".concat(replaceAll(new Date().toISOString().substring(0,13).replace("T",""),"-",""));var E_RULES_LOCATION=isStaging?"https://ndvivense.glov.ai/eligibility_rules_staging.json":"https://ndvivense.glov.ai/eligibility_rules.json";var PRODUCT_INFO_LOCATION="https://ndvivense.glov.ai/social-proof-v2-staging.json";var LOG_API_URL="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/log";var LOOKUP_API_URL="https://catalog-api.adoraai.com";var MOBILE_MEDIA_QUERY="(max-width: 440px)";// Control group percentage
var SPLIT_RATIO=50;// Skipped treatment percentage
var TREATMENT_RATIO=50;var LOCAL_STORAGE_TTL_HOURS=2;var MAX_TIMEOUT_PER_SESSION=1;var LIST_MODE_BEAGLE_KEYS=/* unused pure expression or super */null&&0;var IDLE_TIMEOUT=15000;var SESSION_STORAGE_KEYS={SESSION_TIMESTAMP:"BG_SessionTimestamp",SESSION_HISTORY:"BG_SessionHistory",POPUP_DISPLAY_FLAG:"BG_PopupDisplayFlag",SKU_INFO_BASKET:"BG_ProductInfoBasket",TIMEOUT_COUNT:"BG_TimeoutCount",SESSION_REFERRER:"BG_SessionReferrer",MATCHED_TREATMENTS:"GLV_Matched"};var LOCAL_STORAGE_KEYS={TREATMENTS:"BG_Treatments",WEIGHTS:"BG_Weights",ELIGIBILITY_RULES:"BG_E_Rules",DEBUG_MODE:"BG_Debug",OUT_OF_SCOPE:"BG_OutOfScope",IS_LABEL_SENT:"BG_LabelSent",USER_ID:"BG_UserId_00",DATA_COLLECTION_DATA_SIZE:"BG_CollectionDataSize",IS_ADMIN:"GLV_IsAdmin"};var CUSTOM_STORAGE_PREFIX="BG_Seg_";;// CONCATENATED MODULE: ./src/logger.js
var Logger=/*#__PURE__*/function(){function Logger(){var origin=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"Beagle Client SDK";var testing=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_classCallCheck(this,Logger);this.origin=origin;if(testing){this.DEBUG=1;}else{this.DEBUG=window.localStorage.getItem(LOCAL_STORAGE_KEYS.DEBUG_MODE);}}_createClass(Logger,[{key:"info",value:function info(){var _console;var origin=this.origin;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}(_console=console).info.apply(_console,["[".concat(origin,"]")].concat(args));}},{key:"log",value:function log(){var DEBUG=this.DEBUG,origin=this.origin;if(DEBUG){var _console2;for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}(_console2=console).log.apply(_console2,["[".concat(origin,"]")].concat(args));}}},{key:"failed",value:function failed(){var _console3;var DEBUG=this.DEBUG,origin=this.origin;if(!DEBUG)return;var messageConfig="%c%s   ";for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}args.forEach(function(argument){var type=_typeof(argument);switch(type){case"bigint":case"number":case"boolean":messageConfig+="%d   ";break;case"string":messageConfig+="%s   ";break;case"object":case"undefined":default:messageConfig+="%o   ";}});(_console3=console).log.apply(_console3,[messageConfig,"color: red","[".concat(origin,"]")].concat(args));}},{key:"success",value:function success(){var _console4;var DEBUG=this.DEBUG,origin=this.origin;if(!DEBUG)return;var messageConfig="%c%s   ";for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}args.forEach(function(argument){var type=_typeof(argument);switch(type){case"bigint":case"number":case"boolean":messageConfig+="%d   ";break;case"string":messageConfig+="%s   ";break;case"object":case"undefined":default:messageConfig+="%o   ";}});(_console4=console).log.apply(_console4,[messageConfig,"color: green","[".concat(origin,"]")].concat(args));}},{key:"warn",value:function warn(){var _console5;var origin=this.origin;for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++){args[_key5]=arguments[_key5];}(_console5=console).warn.apply(_console5,["[".concat(origin,"]")].concat(args));}},{key:"error",value:function error(){var _console6;var origin=this.origin;for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6];}(_console6=console).error.apply(_console6,["[".concat(origin,"]")].concat(args));}}]);return Logger;}();/* harmony default export */var src_logger=Logger;;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js
function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1;}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0){;}}catch(err){_d=!0,_e=err;}finally{try{if(!_n&&null!=_i["return"]&&(_r=_i["return"](),Object(_r)!==_r))return;}finally{if(_d)throw _e;}}return _arr;}};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArray.js
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js
function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;};// CONCATENATED MODULE: ./src/utils.js
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=utils_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function utils_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return utils_arrayLikeToArray(o,minLen);}function utils_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}/* eslint-disable max-len */var logger=new src_logger("BeagleUtils");var months={"ocak":0,"şubat":1,"mart":2,"nisan":3,"mayıs":4,"haziran":5,"temmuz":6,"ağustos":7,"eylül":8,"ekim":9,"kasım":10,"aralık":11};var removeDocumentHide=function removeDocumentHide(){window.top.document.documentElement.classList.remove("glov-ease");window.top.document.documentElement.classList.remove("glov-hide");};var switchToEaseOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var el;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(window.top.document.documentElement.classList.contains("glov-hide")){_context.next=2;break;}return _context.abrupt("return");case 2:el=document.createElement("style");el.textContent=".glov-ease {\n    -webkit-animation: smooth 2s ease-in;\n    -moz-animation: smooth 2s ease-in;\n    -o-animation: smooth 2s ease-in;\n    -ms-animation: smooth 2s ease-in;\n    animation: smooth 2s ease-in;\n  }\n  \n  @keyframes smooth {\n    0% { opacity: 0;}\n    25% { opacity: 0.25;}\n    50% { opacity: 0.5;}\n    75% { opacity: 0.75;}\n    100% { opacity: 1;}\n  }\n  @-webkit-keyframes smooth {\n    0% { opacity: 0;}\n    25% { opacity: 0.25;}\n    50% { opacity: 0.5;}\n    75% { opacity: 0.75;}\n    100% { opacity: 1;}\n  }";window.top.document.documentElement.prepend(el);window.top.document.documentElement.classList.add("glov-ease");window.top.document.documentElement.classList.remove("glov-hide");case 7:case"end":return _context.stop();}}},_callee);}));return function switchToEaseOut(){return _ref.apply(this,arguments);};}();var fetchTreatments=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){var treatments,jsonTreatment;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;logger.log("Fetching treatments");_context2.next=4;return fetchPlus(TREATMENTS_LOCATION);case 4:treatments=_context2.sent;if(treatments){_context2.next=7;break;}throw new Error();case 7:_context2.next=9;return treatments.json();case 9:jsonTreatment=_context2.sent;return _context2.abrupt("return",jsonTreatment);case 13:_context2.prev=13;_context2.t0=_context2["catch"](0);logger.failed("Could not fetch treatments",_context2.t0.message);return _context2.abrupt("return",null);case 17:case"end":return _context2.stop();}}},_callee2,null,[[0,13]]);}));return function fetchTreatments(){return _ref2.apply(this,arguments);};}();var fetchTreatmentWeights=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var treatmentWeights,jsonTreatmentWeights;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;logger.log("Fetching treatment weights");_context3.next=4;return fetchPlus(TREATMENT_WEIGHTS_LOCATION);case 4:treatmentWeights=_context3.sent;if(treatmentWeights){_context3.next=7;break;}throw new Error();case 7:_context3.next=9;return treatmentWeights.json();case 9:jsonTreatmentWeights=_context3.sent;return _context3.abrupt("return",jsonTreatmentWeights);case 13:_context3.prev=13;_context3.t0=_context3["catch"](0);logger.failed("Could not fetch treatment weights",_context3.t0.message);return _context3.abrupt("return",null);case 17:case"end":return _context3.stop();}}},_callee3,null,[[0,13]]);}));return function fetchTreatmentWeights(){return _ref3.apply(this,arguments);};}();var fetchEligibilityRules=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(){var eligibilityRules,jsonEligibilityRules;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;logger.log("Fetching eligibility rules");_context4.next=4;return fetchPlus(E_RULES_LOCATION);case 4:eligibilityRules=_context4.sent;if(eligibilityRules){_context4.next=7;break;}throw new Error();case 7:_context4.next=9;return eligibilityRules.json();case 9:jsonEligibilityRules=_context4.sent;return _context4.abrupt("return",jsonEligibilityRules);case 13:_context4.prev=13;_context4.t0=_context4["catch"](0);logger.failed("Could not fetch eligibility rules",_context4.t0.message);return _context4.abrupt("return",null);case 17:case"end":return _context4.stop();}}},_callee4,null,[[0,13]]);}));return function fetchEligibilityRules(){return _ref4.apply(this,arguments);};}();var fetchProductInfo=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(){var productInfo,productInfoJson;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;logger.log("Fetching product info");_context5.next=4;return fetchPlus(PRODUCT_INFO_LOCATION);case 4:productInfo=_context5.sent;if(productInfo){_context5.next=7;break;}throw new Error();case 7:_context5.next=9;return productInfo.json();case 9:productInfoJson=_context5.sent;return _context5.abrupt("return",productInfoJson);case 13:_context5.prev=13;_context5.t0=_context5["catch"](0);logger.failed("Could not fetch product info",_context5.t0.message);return _context5.abrupt("return",null);case 17:case"end":return _context5.stop();}}},_callee5,null,[[0,13]]);}));return function fetchProductInfo(){return _ref5.apply(this,arguments);};}();var utils_timeout=function timeout(time){var controller=new AbortController();setTimeout(function(){return controller.abort();},time);return controller;};var fetchPlus=function fetchPlus(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var retries=arguments.length>2&&arguments[2]!==undefined?arguments[2]:5;return fetch(url,_objectSpread(_objectSpread({},options),{},{signal:utils_timeout(5000).signal})).then(function(res){if(res.ok){return res;}if(retries>0){return fetchPlus(url,options,retries-1);}throw new Error(res.status);}).catch(function(error){if(retries>0){logger.failed("Fetch timed out Retrying...: ",error.message);return fetchPlus(url,options,retries-1);}logger.failed("Fetch failed: ",error.message);return null;});};var extractCookieIdentifier=function extractCookieIdentifier(cookieString,cookieName){if(!cookieString){return null;}var parsed=cookieString.split(";").map(function(v){return v.split("=");}).reduce(function(acc,v){if(v[0]&&v[1]){acc[decodeURIComponent(v[0].trim())]=decodeURIComponent(v[1].trim());}return acc;},{});var identifier=parsed[cookieName];if(!identifier){return null;}if(cookieName==="_ga"){// extract unique identifier from GA cookie
var identifierIndex=2;identifier=identifier.split(".")[identifierIndex];}return identifier;};var determinePct=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(identifier){var hash,pct;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;if(identifier){_context6.next=3;break;}return _context6.abrupt("return",null);case 3:hash=getUnsecureHash(identifier);if(!(hash===null)){_context6.next=6;break;}return _context6.abrupt("return",null);case 6:pct=hash%100;if(!(pct>=0&&pct<100)){_context6.next=9;break;}return _context6.abrupt("return",pct);case 9:return _context6.abrupt("return",null);case 12:_context6.prev=12;_context6.t0=_context6["catch"](0);logger.error(_context6.t0);return _context6.abrupt("return",null);case 16:case"end":return _context6.stop();}}},_callee6,null,[[0,12]]);}));return function determinePct(_x){return _ref6.apply(this,arguments);};}();var exitScrollListener=function exitScrollListener(callBack){var loop=function loop(){var scrollTop=window.top.document.documentElement.scrollTop;if(lastScrollTop-400>scrollTop){clearInterval(exitScrollInterval);callBack();}else{lastScrollTop=scrollTop;}};var lastScrollTop=window.top.document.documentElement.scrollTop;var exitScrollInterval=setInterval(loop,500);};/**
 * @description This function is used to apply treatments to the page on specific media type.
 * @param {MediaQueryList} mediaQueryCondition window.matchMedia("(max-width: 500px)")
 * @param {DOMNodeList } elements document.querySelectorAll("div.product_info")
 * @param {Object} styleChangesMap { "margin-top" : "10rem"}
 * @returns
 */var styleApplicator=function styleApplicator(elements,styleChangesMap){logger.log("Applying style changes",styleChangesMap,"to elements",elements);for(var i=0;i<elements.length;i++){var element=elements[i];for(var _i=0,_Object$entries=Object.entries(styleChangesMap);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];element.style[key]=value;}}};var injectStyleSheet=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(){var styleSheet;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:styleSheet=window.top.document.createElement("link");styleSheet.rel="stylesheet";styleSheet.type="text/css";styleSheet.href=STYLESHEET_LOCATION;window.top.document.head.appendChild(styleSheet);case 5:case"end":return _context7.stop();}}},_callee7);}));return function injectStyleSheet(){return _ref7.apply(this,arguments);};}();var prepareActions=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee8(identifier,actionsToPrepare,businessRuleId,debugMode){var actions,variant,_iterator,_step,action,businessRuleTransformations,variants,_iterator2,_step2,businessTransformation,key,_iterator3,_step3,_step3$value,index,variantKey,randomPct,_iterator4,_step4,_businessTransformation,_i2,_Object$keys,_key,_key2;return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:actions=JSON.parse(JSON.stringify(actionsToPrepare));variant=null;_iterator=_createForOfIteratorHelper(actions);_context8.prev=3;_iterator.s();case 5:if((_step=_iterator.n()).done){_context8.next=65;break;}action=_step.value;businessRuleTransformations=action.businessRuleTransformations,variants=action.variants;if(!(!businessRuleTransformations&&!variants)){_context8.next=10;break;}return _context8.abrupt("continue",63);case 10:if(businessRuleId!==null&&businessRuleTransformations){_iterator2=_createForOfIteratorHelper(businessRuleTransformations);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){businessTransformation=_step2.value;if(businessTransformation.id===businessRuleId){for(key in businessTransformation){if(key!=="id"){action[key]=businessTransformation[key];}}}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}if(!variants){_context8.next=63;break;}_iterator3=_createForOfIteratorHelper(Object.keys(variants).entries());_context8.prev=13;_iterator3.s();case 15:if((_step3=_iterator3.n()).done){_context8.next=55;break;}_step3$value=_slicedToArray(_step3.value,2),index=_step3$value[0],variantKey=_step3$value[1];_context8.next=19;return determinePct(identifier+variantKey);case 19:randomPct=_context8.sent;if(debugMode&&!action.variants[variantKey].weight){action.variants[variantKey].weight=Math.floor(100/Object.keys(variants).length)*(index+1);}if(!(randomPct<action.variants[variantKey].weight)){_context8.next=53;break;}variant=variantKey;if(!(businessRuleId!==null&&variants[variantKey].businessRuleTransformations)){_context8.next=51;break;}_iterator4=_createForOfIteratorHelper(variants[variantKey].businessRuleTransformations);_context8.prev=25;_iterator4.s();case 27:if((_step4=_iterator4.n()).done){_context8.next=41;break;}_businessTransformation=_step4.value;if(!(_businessTransformation.id==businessRuleId)){_context8.next=39;break;}_i2=0,_Object$keys=Object.keys(_businessTransformation);case 31:if(!(_i2<_Object$keys.length)){_context8.next=39;break;}_key=_Object$keys[_i2];if(!(_key==="id")){_context8.next=35;break;}return _context8.abrupt("continue",36);case 35:action[_key]=_businessTransformation[_key];case 36:_i2++;_context8.next=31;break;case 39:_context8.next=27;break;case 41:_context8.next=46;break;case 43:_context8.prev=43;_context8.t0=_context8["catch"](25);_iterator4.e(_context8.t0);case 46:_context8.prev=46;_iterator4.f();return _context8.finish(46);case 49:_context8.next=52;break;case 51:for(_key2 in variants[variantKey]){if(_key2!=="weight"&&_key2!=="businessRuleTransformations"){action[_key2]=variants[variantKey][_key2];}}case 52:return _context8.abrupt("break",55);case 53:_context8.next=15;break;case 55:_context8.next=60;break;case 57:_context8.prev=57;_context8.t1=_context8["catch"](13);_iterator3.e(_context8.t1);case 60:_context8.prev=60;_iterator3.f();return _context8.finish(60);case 63:_context8.next=5;break;case 65:_context8.next=70;break;case 67:_context8.prev=67;_context8.t2=_context8["catch"](3);_iterator.e(_context8.t2);case 70:_context8.prev=70;_iterator.f();return _context8.finish(70);case 73:return _context8.abrupt("return",[actions,variant]);case 74:case"end":return _context8.stop();}}},_callee8,null,[[3,67,70,73],[13,57,60,63],[25,43,46,49]]);}));return function prepareActions(_x2,_x3,_x4,_x5){return _ref8.apply(this,arguments);};}();var initiateSessionStorages=function initiateSessionStorages(){var POPUP_DISPLAY_FLAG=SESSION_STORAGE_KEYS.POPUP_DISPLAY_FLAG,SESSION_TIMESTAMP=SESSION_STORAGE_KEYS.SESSION_TIMESTAMP,SESSION_HISTORY=SESSION_STORAGE_KEYS.SESSION_HISTORY;var popupDisplayFlag=sessionStorage.getItem(POPUP_DISPLAY_FLAG);var sessionTimestamp=sessionStorage.getItem(SESSION_TIMESTAMP);var sessionHistory=sessionStorage.getItem(SESSION_HISTORY);if(popupDisplayFlag===null){sessionStorage.setItem(POPUP_DISPLAY_FLAG,0);}if(!sessionTimestamp){sessionStorage.setItem(SESSION_TIMESTAMP,Date.now());}if(!sessionHistory){sessionStorage.setItem(SESSION_HISTORY,[window.location.pathname]);}else{sessionStorage.setItem(SESSION_HISTORY,[window.location.pathname,sessionHistory]);}};var conditionChecker=function conditionChecker(runTimeValue,condition,value){if(condition==="notExist"){if(!runTimeValue){logger.success("conditionChecker: -satisfied- target does not exist");return true;}logger.failed("conditionChecker: -not satisfied- target does exist");return false;}if(runTimeValue===null||runTimeValue===undefined||condition===null||condition===undefined){logger.failed("conditionChecker: runTimeValue or condition is not defined");return false;}switch(condition){case"exist":if(runTimeValue){logger.success("conditionChecker: -satisfied- target does exist");return true;}logger.failed("conditionChecker: -not satisfied- target does not exist");return false;case"includes":case"contains":if(runTimeValue.includes(value)){logger.success("conditionChecker: -satisfied- target contains value");return true;}logger.failed("conditionChecker: -not satisfied- target does not contain value");return false;case"notIncludes":case"notContains":if(!runTimeValue.includes(value)){logger.success("conditionChecker: -satisfied- target does not contain value");return true;}logger.failed("conditionChecker: -not satisfied- target contains value");return false;case"equal":if(runTimeValue===value){logger.success("conditionChecker: -satisfied- target equals value");return true;}logger.failed("conditionChecker: -not satisfied- target does not equal value");return false;case"notEqual":if(runTimeValue!==value){logger.success("conditionChecker: -satisfied- target does not equal value");return true;}logger.failed("conditionChecker: -not satisfied- target equals value");return false;case"greaterThan":if(runTimeValue>value){logger.success("conditionChecker: -satisfied- target is greater than value");return true;}logger.failed("conditionChecker: -not satisfied- target is not greater than value");return false;case"lessThan":if(runTimeValue<value){logger.success("conditionChecker: -satisfied- target is less than value");return true;}logger.failed("conditionChecker: -not satisfied- target is not less than value");return false;case"greaterEquals":if(runTimeValue>=value){logger.success("conditionChecker: -satisfied- target is greater or equal than value");return true;}logger.failed("conditionChecker: -not satisfied- target is not greater or equal than value");return false;case"lessEquals":if(runTimeValue<=value){logger.success("conditionChecker: -satisfied- target is less or equal than value");return true;}logger.failed("conditionChecker: -not satisfied- target is not less or equal than value");return false;case"between":{var _value$split=value.split(","),_value$split2=_slicedToArray(_value$split,2),min=_value$split2[0],max=_value$split2[1];min=parseInt(min);max=parseInt(max);if(runTimeValue>=min&&runTimeValue<=max){logger.success("conditionChecker: -satisfied- target is between min and max");return true;}logger.failed("conditionChecker: -not satisfied- target is not between min and max");return false;}case"regex":{var regex=new RegExp(value,"i");return regex.test(runTimeValue);}default:logger.failed("conditionChecker: condition is not defined ",condition);return false;}};var getDebugMode=function getDebugMode(oosReason){var DEBUG_MODE=LOCAL_STORAGE_KEYS.DEBUG_MODE,OUT_OF_SCOPE=LOCAL_STORAGE_KEYS.OUT_OF_SCOPE;var queryString=window.location.search;if(queryString.includes("nd_debug=")){window.localStorage.setItem(OUT_OF_SCOPE,oosReason);}if(queryString.includes("nd_debug=1")){window.localStorage.setItem(DEBUG_MODE,1);addToBeagleInfoLayer("dbm","on");return 1;}if(queryString.includes("nd_debug=2")){window.localStorage.setItem(DEBUG_MODE,2);addToBeagleInfoLayer("dbm","on");return 2;}if(queryString.includes("nd_debug=0")){window.localStorage.removeItem(DEBUG_MODE);addToBeagleInfoLayer("dbm","off");return 0;}var current=parseInt(window.localStorage.getItem(DEBUG_MODE));addToBeagleInfoLayer("dbm",current?"on":"off");return current||0;};// get GA client id using ga.getAll()
var getGaClientId=function getGaClientId(){var ga=window.ga;// if ga and ga.getAll() is not defined, return null
if(ga&&ga.getAll){var trackers=ga.getAll();if(trackers&&trackers.length){return trackers[0].get("clientId");}}return null;};// get deterministic numeric hash from string that conatins only numbers
var getUnsecureHash=function getUnsecureHash(str){var hash=0;if(str.length===0){return null;}for(var i=0;i<str.length;i++){var char=str.charCodeAt(i);hash=(hash<<5)-hash+char;hash=hash&hash;}// return absolute value
return Math.abs(hash);};// generate a 32-bit random integer
var getRandomInt=function getRandomInt(){return Math.floor(Math.random()*0x100000000);};// get current unix epoch time in seconds
var getUnixTime=function getUnixTime(){return Math.floor(Date.now()/1000);};var getIdentifier=function getIdentifier(){return new Promise(function(resolve){try{var id=window.localStorage.getItem(LOCAL_STORAGE_KEYS.USER_ID);if(id!==null&&id!==undefined){logger.log("getIdentifier: got identifier from local storage",id);resolve(id);return;}id=getGaClientId();if(id!==null&&id!==undefined){logger.log("getIdentifier: got identifier from ga in first attempt",id);window.localStorage.setItem(LOCAL_STORAGE_KEYS.USER_ID,id);resolve(id);return;}else{var extractIdentifierInterval=setInterval(function(){id=getGaClientId();if(id!==null&&id!==undefined){logger.log("getIdentifier: got identifier from ga",id);clearInterval(extractIdentifierInterval);window.localStorage.setItem(LOCAL_STORAGE_KEYS.USER_ID,id);resolve(id);}},10);setTimeout(function(){clearInterval(extractIdentifierInterval);if(id===null||id===undefined){logger.failed("Could not read GA client id");resolve(null);}},2000);}}catch(e){logger.failed("Error in getIdentifier",e);resolve(null);}});};var delay=function delay(ms){return new Promise(function(res){return setTimeout(res,ms);});};var formatDeliveryDate=function formatDeliveryDate(date){if(!date||typeof date!=="string")return date;var result={startMonthIndex:undefined,endMonthIndex:undefined,startDay:undefined,endDay:undefined};var match=date.match("([\\d]+)-([\\d]+)\\s?([\\wıüğşöçİÖÇĞÜŞ]+)");if(match&&match.length===4){result.startDay=parseInt(match[1]);result.endDay=parseInt(match[2]);result.startMonthIndex=months[match[3].toLowerCase()];result.endMonthIndex=result.startMonthIndex;}else{match=date.match("([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜŞ]+)-([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜŞ]+)");if(!match||match.length!==5)return date;result.startDay=parseInt(match[1]);result.startMonthIndex=months[match[2].toLowerCase()];result.endDay=parseInt(match[3]);result.endMonthIndex=months[match[4].toLowerCase()];}try{var today=new Date();if(!result.startMonthIndex||!result.endMonthIndex)return date;var startYear=result.startMonthIndex>=today.getMonth()?today.getFullYear():today.getFullYear()+1;var endYear=result.endMonthIndex>=today.getMonth()?today.getFullYear():today.getFullYear()+1;var estimatedStart=new Date(startYear,result.startMonthIndex,result.startDay);var estimatedEnd=new Date(endYear,result.endMonthIndex,result.endDay);var startDiffOverDays=Math.ceil(Math.abs(estimatedStart-today)/(1000*60*60*24));var endDiffOverDays=Math.ceil(Math.abs(estimatedEnd-today)/(1000*60*60*24));var startDiffOverWeeks=startDiffOverDays<7?0:Math.ceil(startDiffOverDays/7);var endDiffOverWeeks=endDiffOverDays<7?0:Math.ceil(endDiffOverDays/7);if(startDiffOverWeeks===0&&endDiffOverWeeks===0){return"".concat(startDiffOverDays," - ").concat(endDiffOverDays," G\xFCn");}if(startDiffOverWeeks===0&&endDiffOverWeeks>=1){return"".concat(startDiffOverDays," G\xFCn - ").concat(endDiffOverWeeks," Hafta");}if(startDiffOverWeeks===endDiffOverWeeks){return"".concat(startDiffOverWeeks," Hafta");}return"".concat(startDiffOverWeeks," - ").concat(endDiffOverWeeks," Hafta");}catch(err){return date;}};var idleTimer=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee9(timeOut,callBack){var idleTimeout,resetTimer;return regenerator_default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:resetTimer=function _resetTimer(){clearTimeout(idleTimeout);idleTimeout=setTimeout(callBack,timeOut);};idleTimeout=setTimeout(callBack,timeOut);window.top.document.ontouchstart=resetTimer;case 3:case"end":return _context9.stop();}}},_callee9);}));return function idleTimer(_x6,_x7){return _ref9.apply(this,arguments);};}();var getBrowserType=function getBrowserType(){var userAgent=navigator.userAgent;if(userAgent.match(/chrome|chromium|crios/i)){return"chrome";}if(userAgent.match(/firefox|fxios/i)){return"firefox";}if(userAgent.match(/safari/i)){return"safari";}if(userAgent.match(/opr\//i)){return"opera";}if(userAgent.match(/edg/i)){return"edge";}return null;};var isOwnMutation=function isOwnMutation(mutationList){var nodes=[].concat(_toConsumableArray(Array.from(mutationList[0].addedNodes)),_toConsumableArray(Array.from(mutationList[0].removedNodes)));return nodes.some(function(n){var _n$id;return n.tagName&&(((_n$id=n.id)===null||_n$id===void 0?void 0:_n$id.includes("bn-"))||Array.from(n.classList).some(function(c){return c.includes("bn-")||c.includes("nd-");}));});};;// CONCATENATED MODULE: ./src/BeagleDataCollection/store.config.js
var config={dbName:"beagle",version:1,maintenanceOperationCount:1000,// affects version
store:{name:"data",indexes:[{name:"ix_dataName",fields:["data_name"]},{name:"ix_dataName_session",fields:["data_name","session_id"]},{name:"ix_dataName_dataValue",fields:["data_name","data_value"]},{name:"ix_dataName_dataValue_session",fields:["data_name","data_value","session_id"]}],options:{keyPath:"id",autoIncrement:true}}};/* harmony default export */var store_config=config;;// CONCATENATED MODULE: ./src/BeagleDataCollection/api.js
function api_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=api_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function api_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return api_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return api_arrayLikeToArray(o,minLen);}function api_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var api_logger=new src_logger("BeagleDataCollectionWrapper");var _window={alltime:"alltime",session:"session"};var BeagleDataCollectionWrapper=/*#__PURE__*/function(){function BeagleDataCollectionWrapper(){_classCallCheck(this,BeagleDataCollectionWrapper);this.indexedDB=null;try{this.init();}catch(err){api_logger.failed("Failed to initialized db with: ",err.message);}}_createClass(BeagleDataCollectionWrapper,[{key:"init",value:function init(){var _window$top$indexedDB,_this=this;api_logger.log("Initializing indexedDB");// TODO, uncomment next line once existing stale dbs are purged
// const openRequest = window.top.indexedDB?.open(config.dbName, config.version);
var openRequest=(_window$top$indexedDB=window.top.indexedDB)===null||_window$top$indexedDB===void 0?void 0:_window$top$indexedDB.open(store_config.dbName);if(!openRequest){throw new Error("indexeddb is not supported");}openRequest.onupgradeneeded=function(event){switch(event.oldVersion){case 0:break;default:// TODO upgrade existing db instead of delete and create from scratch
try{openRequest.result.deleteObjectStore(store_config.store.name);}catch(err){api_logger.failed("Could not delete outdated database",err.message);}break;}try{var _config$store$indexes;var store=openRequest.result.createObjectStore(store_config.store.name,store_config.store.options);if(((_config$store$indexes=store_config.store.indexes)===null||_config$store$indexes===void 0?void 0:_config$store$indexes.length)>0){var _iterator=api_createForOfIteratorHelper(store_config.store.indexes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var idx=_step.value;store.createIndex(idx.name,idx.fields);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}}catch(err){api_logger.failed("Could not create object store on database",err.message);}};openRequest.onerror=function(){throw new Error("Error initializing beagle indexed DB",openRequest.error);};openRequest.onsuccess=function(){var db=openRequest.result;if(db.version!==1){// TODO, remove delete request once existing stale dbs are purged
var deleteRequest=window.indexedDB.deleteDatabase(store_config.dbName);deleteRequest.onsuccess=function(){_this.init();};}else _this.indexedDB=db;};}},{key:"getConnection",value:function getConnection(){var _this2=this;return new Promise(function(resolve,reject){var interval=setInterval(function(){if(_this2.indexedDB){clearInterval(interval);resolve();}},25);setTimeout(function(){if(!_this2.indexedDB){clearInterval(interval);reject(new Error("IndexedDB not initialized within the allotted time"));}},1000);});}},{key:"initTransaction",value:function(){var _initTransaction=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var readwrite,tx,store,_args=arguments;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:readwrite=_args.length>0&&_args[0]!==undefined?_args[0]:false;_context.next=3;return this.getConnection();case 3:tx=this.indexedDB.transaction(store_config.store.name,readwrite?"readwrite":"readonly");store=tx.objectStore(store_config.store.name);return _context.abrupt("return",store);case 6:case"end":return _context.stop();}}},_callee,this);}));function initTransaction(){return _initTransaction.apply(this,arguments);}return initTransaction;}()},{key:"save",value:function(){var _save=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(dataName,dataValue){var store,sessionId,time,payload;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.initTransaction(true);case 2:store=_context2.sent;sessionId=this.getCurrentSessionId();// date current -2 saat  yil-ay-gun
time=Math.round(Date.now()/1000);payload={"data_name":dataName,"data_value":dataValue,"session_id":sessionId,time:time};store.put(payload);case 7:case"end":return _context2.stop();}}},_callee2,this);}));function save(_x,_x2){return _save.apply(this,arguments);}return save;}()},{key:"minmax",value:function minmax(dataName,op){var _this3=this;var window=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_window.alltime;return new Promise(function(resolve){_this3.initTransaction().then(function(store){var stored=undefined;_this3.getCursor(store,dataName,window).onsuccess=function(event){var cursor=event.target.result;if(cursor){var value=cursor.value;if("data_value"in value){if(stored===undefined||op==="min"&&value["data_value"]<stored||op==="max"&&value["data_value"]>stored){stored=value["data_value"];}}else{console.warn("key not found in cursor values "+dataName);}cursor.continue();}else{resolve(stored);}};});});}},{key:"min",value:function min(dataName){var window=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_window.alltime;return this.minmax(dataName,"min",window);}},{key:"max",value:function max(dataName){var window=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_window.alltime;return this.minmax(dataName,"max",window);}},{key:"groupBy",value:function groupBy(dataName){var _this4=this;var window=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_window.alltime;return new Promise(function(resolve){_this4.initTransaction().then(function(store){var map=new Map();_this4.getCursor(store,dataName,window).onsuccess=function(event){var cursor=event.target.result;if(cursor){var value=cursor.value;if("data_value"in value){if(!map.has(value["data_value"]))map.set(value["data_value"],0);map.set(value["data_value"],map.get(value["data_value"])+1);}else{console.warn("key not found in cursor values "+dataName);}cursor.continue();}else{resolve(map);}};});});}},{key:"mode",value:function(){var _mode=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(dataName){var window,data,max,_iterator2,_step2,_step2$value,key,value,_args3=arguments;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:window=_args3.length>1&&_args3[1]!==undefined?_args3[1]:_window.alltime;_context3.next=3;return this.groupBy(dataName,window);case 3:data=_context3.sent;if(!(data.keys().length===0)){_context3.next=6;break;}return _context3.abrupt("return",null);case 6:max={name:undefined,value:-1};_iterator2=api_createForOfIteratorHelper(data);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_step2$value=_slicedToArray(_step2.value,2),key=_step2$value[0],value=_step2$value[1];if(max.value<value){max.name=key;max.value=value;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return _context3.abrupt("return",max);case 10:case"end":return _context3.stop();}}},_callee3,this);}));function mode(_x3){return _mode.apply(this,arguments);}return mode;}()},{key:"count",value:function count(dataName){var _this5=this;var window=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_window.alltime;return new Promise(function(resolve){_this5.initTransaction().then(function(store){var count=0;_this5.getCursor(store,dataName,window).onsuccess=function(event){var cursor=event.target.result;if(cursor){count++;cursor.continue();}else{resolve(count);}};});});}},{key:"sum",value:function sum(dataName){var _this6=this;var window=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"alltime";return new Promise(function(resolve){_this6.initTransaction().then(function(store){var total=0.00;_this6.getCursor(store,dataName,window).onsuccess=function(event){var cursor=event.target.result;if(cursor){var value=cursor.value;if("data_value"in value){total+=parseFloat(value["data_value"]);}else{console.warn("key not found in cursor values "+dataName);}cursor.continue();}else{resolve(total.toFixed(2));}};});});}},{key:"getCursor",value:function getCursor(store,dataName){var window=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_window.alltime;var dataValue=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;if(dataValue){if(window===_window.session){return store.index("ix_dataName_dataValue_session").openCursor(IDBKeyRange.only([dataName,dataValue,this.getCurrentSessionId().toString()]));}return store.index("ix_dataName_dataValue").openCursor(IDBKeyRange.only([dataName,dataValue]));}if(window===_window.session){return store.index("ix_dataName_session").openCursor(IDBKeyRange.only([dataName,this.getCurrentSessionId().toString()]));}var indexValue=getBrowserType()==="safari"?dataName:[dataName];return store.index("ix_dataName").openCursor(IDBKeyRange.only(indexValue));}},{key:"avg",value:function(){var _avg=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(dataName){var window,total,count,_args4=arguments;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:window=_args4.length>1&&_args4[1]!==undefined?_args4[1]:_window.alltime;_context4.next=3;return this.sum(dataName,window);case 3:total=_context4.sent;_context4.next=6;return this.count(dataName,window);case 6:count=_context4.sent;if(!(!total||!count)){_context4.next=9;break;}return _context4.abrupt("return",0);case 9:return _context4.abrupt("return",(total/count).toFixed(2));case 10:case"end":return _context4.stop();}}},_callee4,this);}));function avg(_x4){return _avg.apply(this,arguments);}return avg;}()},{key:"last",value:function(){var _last=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(dataName){var _this7=this;var size,window,_args5=arguments;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:size=_args5.length>1&&_args5[1]!==undefined?_args5[1]:1;window=_args5.length>2&&_args5[2]!==undefined?_args5[2]:_window.alltime;return _context5.abrupt("return",new Promise(function(resolve){_this7.initTransaction().then(function(store){var cursor=store.index("ix_dataName").openCursor([dataName],"prev");if(window===_window.session){cursor=store.index("ix_dataName_session").openCursor([dataName,_this7.getCurrentSessionId()],"prev");}var index=0;var values=[];cursor.onsuccess=function(event){var result=event.target.result;if(result&&index<size){index++;values.push(result.value);result.continue();}else{resolve(values);}};});}));case 3:case"end":return _context5.stop();}}},_callee5);}));function last(_x5){return _last.apply(this,arguments);}return last;}()},{key:"getCurrentSessionId",value:function getCurrentSessionId(){var d=new Date();d.setHours(d.getHours()-2);return d.getFullYear()+"-"+(d.getMonth()+1).toString().padStart(2,"0")+"-"+d.getDate().toString().padStart(2,"0");}}]);return BeagleDataCollectionWrapper;}();;// CONCATENATED MODULE: ./src/BeagleDataCollection/index.js
function BeagleDataCollection_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=BeagleDataCollection_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function BeagleDataCollection_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return BeagleDataCollection_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BeagleDataCollection_arrayLikeToArray(o,minLen);}function BeagleDataCollection_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/* eslint-disable max-len */var BeagleDataCollection_logger=new src_logger("BeagleDataCollection");var collectorApi=new BeagleDataCollectionWrapper();// keep a table in indexdb the format [session_id, data_name, data_value, stored_value]
var queryInCollector=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(baseFeatureName,queryMethod,window){var queryPromise,_queryPromise,_queryPromise2,data,count,_iterator,_step,_step$value,value,_data,match,_queryPromise3,dataValues;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:BeagleDataCollection_logger.log("queryInCollector",baseFeatureName,queryMethod,window);if(collectorApi){_context.next=4;break;}BeagleDataCollection_logger.failed("IndexedDB no supported/Initialized");return _context.abrupt("return",null);case 4:if(!(queryMethod==="min")){_context.next=11;break;}_context.next=7;return collectorApi.min(baseFeatureName,window);case 7:queryPromise=_context.sent;return _context.abrupt("return",queryPromise);case 11:if(!(queryMethod==="max")){_context.next=18;break;}_context.next=14;return collectorApi.max(baseFeatureName,window);case 14:_queryPromise=_context.sent;return _context.abrupt("return",_queryPromise);case 18:if(!(queryMethod==="avg")){_context.next=25;break;}_context.next=21;return collectorApi.avg(baseFeatureName,window);case 21:_queryPromise2=_context.sent;return _context.abrupt("return",_queryPromise2);case 25:if(!(queryMethod==="cd")){_context.next=31;break;}_context.next=28;return collectorApi.groupBy(baseFeatureName,window);case 28:return _context.abrupt("return",_context.sent.size);case 31:if(!(queryMethod==="cv")){_context.next=39;break;}_context.next=34;return collectorApi.groupBy(baseFeatureName,window);case 34:data=_context.sent;count=0;_iterator=BeagleDataCollection_createForOfIteratorHelper(data);try{for(_iterator.s();!(_step=_iterator.n()).done;){_step$value=_slicedToArray(_step.value,2),value=_step$value[1];count+=value;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return _context.abrupt("return",count);case 39:if(!(queryMethod==="mode")){_context.next=46;break;}_context.next=42;return collectorApi.mode(baseFeatureName,window);case 42:_data=_context.sent;if(_data){_context.next=45;break;}return _context.abrupt("return",null);case 45:return _context.abrupt("return",_data.name);case 46:if(!(queryMethod.indexOf("last")>=0)){_context.next=55;break;}match=queryMethod.match("last\\(([\\d]+)\\)");if(!(!match||!match.length===2||parseInt(match[1])<1)){_context.next=50;break;}return _context.abrupt("return",null);case 50:_context.next=52;return collectorApi.last(baseFeatureName,match[1],window);case 52:_queryPromise3=_context.sent;dataValues=_queryPromise3.map(function(obj){return obj.data_value;});return _context.abrupt("return",dataValues);case 55:/**
              {"Listingpage" => 21}
              {"Homepage" => 12}
              -- example will have:
              mode: Listingpage
              cd: 2
              cv: 21+12
              last(3) (n, n-1, n-2)
            */ // 1000lik temizlenecek (maintOpCount -> version)
// queryMethod can be "mode", "cd" (count distint) for string/categorical data types
// queryMethod can be "cv" (sum of count values), "current", or "prev" for any data type (stored via last)
BeagleDataCollection_logger.failed("unknown queryMethod=".concat(queryMethod," in BeagleDataCollection"));return _context.abrupt("return",null);case 57:case"end":return _context.stop();}}},_callee);}));return function queryInCollector(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var updateInCollector=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(baseFeatureName,baseFeatureValue,updateMethod){return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:BeagleDataCollection_logger.log("updateInCollector",baseFeatureName,baseFeatureValue,updateMethod);if(collectorApi){_context2.next=4;break;}BeagleDataCollection_logger.failed("IndexedDB no supported/Initialized");return _context2.abrupt("return",null);case 4:_context2.next=6;return collectorApi.save(baseFeatureName,baseFeatureValue);case 6:case"end":return _context2.stop();}}},_callee2);}));return function updateInCollector(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();;// CONCATENATED MODULE: ./src/BeagleInfoLayer/index.js
function BeagleInfoLayer_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=BeagleInfoLayer_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function BeagleInfoLayer_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return BeagleInfoLayer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BeagleInfoLayer_arrayLikeToArray(o,minLen);}function BeagleInfoLayer_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/* eslint-disable max-len */window.beagleInfoLayer=window.beagleInfoLayer||{a:{},e:{},f:{},__hwm:0};var BeagleInfoLayer_logger=new src_logger("BeagleInfoLayer");// TODO: convert to name --> array of selectors
var searchPaths=[// ----------------------------------------------------------------------------------------------------------------------------------------------
// GA Data Layer Queries
{PageTypeDepend:"*",method:"GADataLayer",selector:"PageType",name:"PageType"},{PageTypeDepend:"*",method:"GADataLayer",selector:"isAdmin",name:"vvsIsShowroom"},{PageTypeDepend:"*",method:"GADataLayer",selector:"userId",name:"vvsUserId"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_name",name:"pdp.name"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"productgroup",name:"pdp.group"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivense_category",name:"pdp.class"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_ids",name:"pdp.sku",formatter:"upperCaseTR"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"ProductID",name:"pdp.sku"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_category",name:"pdp.category"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"ecommerce.detail.actionField.list",name:"pdp.listalias"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.sku",name:"pdp.sku",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.category",name:"pdp.category",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.discountRate",name:"pdp.discountRate",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.fastDelivery",name:"pdp.fastDelivery",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.isInShowroom",name:"pdp.isInShowroom",formatter:"dearray"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"search_success",name:"plp.searchSuccess",exclusive:["plp.id","plp.approximateCount","plp.name","plp.group","plp.class"]},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"content_ids",name:"plp.id",exclusive:["plp.searchSuccess"]},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"category_product_count",name:"plp.approximateCount",exclusive:["plp.searchSuccess"]},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"content_name",name:"plp.name",exclusive:["plp.searchSuccess"]},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"productgroup",name:"plp.group",exclusive:["plp.searchSuccess"]},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"vivense_category",name:"plp.class",exclusive:["plp.searchSuccess"]},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.id",name:"purchase.skus"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.price",name:"purchase.prices"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.quantity",name:"purchase.quantities"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.category",name:"purchase.categories"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.id",name:"purchase.orderId"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.revenue",name:"purchase.revenue"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.dimension15",name:"purchase.paymentType"},// ----------------------------------------------------------------------------------------------------------------------------------------------
// Document Queries
{PageTypeDepend:"*",method:"DocQuery",selector:"[class*=\"page_preview_wrapper_production\"]",name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Homepage"},{PageTypeDepend:"*",method:"DocQuery",selector:"[class*=\"category_page_wrapper\"]",name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Listingpage"},{PageTypeDepend:"*",method:"DocQuery",selector:"[class*=\"product-main-details\"]",name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Productpage"},{PageTypeDepend:"*",method:"DocQuery",selector:"[class*=\"product\"]",name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Productpage"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:"[class*=\"welcome_username\"]",name:"view.isLoggedIn",operand:"docQueryHasInnerText"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:"[class*=\"empty_basket_text\"]",name:"cart.isempty",operand:"docQueryHasInnerText",exclusive:["cart.totalBasePrice","cart.skucount","cart.couponNotApplicable"]},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:"body > .desktop_layout_wrapper .not-allowed-coupon",name:"cart.couponNotApplicable",operand:"docQuerySumNumInnerText",exclusive:["cart.isempty"]},// Note that sequential search will mark copuonNotApplicable as found
{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:"[class*=\"basket_total_price\"]",name:"cart.totalBasePrice",operand:"docQueryInnerText",exclusive:["cart.isempty","cart.couponNotApplicable"],formatter:"numericOnly"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:"[id*=\"cart_quantity\"], [class*=\"basket_length\"]",name:"cart.skucount",operand:"docQueryInnerText",exclusive:["cart.isempty"]},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"[class*=\"delivery-date\"]",name:"pdp.deliveryDate",operand:"docQueryInnerText"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"[class*=\"delivery-date\"]",name:"pdp.deliveryDateFormatted",operand:"docQueryInnerText",formatter:"formatDeliveryDate"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"[class*=\"product-title\"], [class*=\"header-bottom\"]",name:"pdp.name",operand:"docQueryInnerText"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"[class*=\"vivense-showrooms\"] > *",name:"pdp.showroomcount",operand:"docQueryCountElts",exclusive:["pdp.hasNoShowrooms"]},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"#vivense-showroom-tab p:not(.vivense-showrooms)",name:"pdp.hasNoShowrooms",operand:"docQueryHasInnerText",exclusive:["pdp.showroomcount"]},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"span.price",name:"pdp.price",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"#sales-price",name:"pdp.price",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"div.product-price-box",name:"__priceObserver",children:["pdp.price"],operand:"docQueryObserve"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"#mobile-product-sticky",name:"__priceObserver",children:["pdp.price"],operand:"docQueryObserve"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:"[class*=\"count-of-product\"]",name:"plp.itemCount",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:"[class*=\"subcategories-title\"]",name:"plp.name",operand:"docQueryInnerText"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:".product-card[data-product-sku]",name:"__features.SKUsonPage",operand:"docQueryAttribValueList",value:"data-product-sku"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:".product-list",name:"__listingItemBlockObserver",children:["__features.SKUsonPage"],operand:"docQueryObserve"},{PageTypeDepend:"basket",method:"DocQuery",selector:".empty-cart-container, .empty-cart",name:"cart.isempty",operand:"docQueryHasInnerText",exclusive:["cart.skucount","cart.totalPrice","cart.totalPriceFinal","cart.couponNotApplicable","cart.skus","cart.prices","cart.quantities","cart.categories","__checkoutFormObserver"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".bracket-text, .product-count",name:"cart.skucount",operand:"docQueryInnerText",exclusive:["cart.isempty"],formatter:"numericOnly"},{PageTypeDepend:"basket",method:"DocQuery",selector:".cartItemQuantity",name:"cart.quantities",operand:"docQueryAttribValueList",value:"data-previous",exclusive:["cart.isempty"]},{PageTypeDepend:"basket",method:"DocQuery",selector:"#bill_total",name:"cart.totalPrice",operand:"docQueryInnerText",exclusive:["cart.isempty"],formatter:"numericOnly"},{PageTypeDepend:"basket",method:"DocQuery",selector:"[class*=\"order-final-number\"]",name:"cart.totalPriceFinal",operand:"docQueryInnerText",exclusive:["cart.isempty"],formatter:"numericOnly"},{PageTypeDepend:"basket",method:"DocQuery",selector:"[class*=\"cart-price\"] .not-allowed-coupon",name:"cart.couponNotApplicable",operand:"docQuerySumNumInnerText",exclusive:["cart.isempty"]},// Note that sequential search will mark couponApplicable as found
{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.skus",operand:"docQueryAttribValueList",value:"data-sku",exclusive:["cart.isempty","cart.couponNotApplicable"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.categories",operand:"docQueryAttribValueList",value:"data-last-breadcrumb",exclusive:["cart.isempty","cart.couponNotApplicable"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.prices",operand:"docQueryAttribValueList",value:"data-price",exclusive:["cart.isempty","cart.couponNotApplicable"]},// Desktop observer for the right panel, as it is the one changing
{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-right-container",name:"__checkoutFormObserver",children:["cart.skucount","cart.totalPrice","cart.totalPriceFinal","cart.couponNotApplicable","cart.skus","cart.prices","cart.quantities","cart.categories","cart.isempty","cart.couponApplicableAmount"],operand:"docQueryObserve"},// Mobile observer for the full form block as it is completely replaced
{PageTypeDepend:"basket",method:"DocQuery",selector:"#checkoutForm",name:"__checkoutFormObserver",children:["cart.skucount","cart.totalPrice","cart.totalPriceFinal","cart.couponNotApplicable","cart.skus","cart.prices","cart.quantities","cart.categories","cart.isempty","cart.couponApplicableAmount"],operand:"docQueryObserve"},{PageTypeDepend:"purchase",method:"DocQuery",selector:"[class*=\"basket_summary_total\"], [class*=\"total_row\"]",name:"purchase.revenue",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"purchase",method:"DocQuery",selector:"[class*=\"order_follow_numb\"], [class*=\"cart-title-bottom\"]",name:"purchase.vvsTxnId",operand:"docQueryInnerText"},{PageTypeDepend:"purchase",method:"DocQuery",selector:".payment_type_title, .cart-title-info",name:"purchase.paymentType",operand:"docQueryInnerText",formatter:"lowerCaseTRFirstWord"},{PageTypeDepend:"purchase",method:"DocQuery",selector:"[class*=\"product_sku_code\"]",name:"purchase.skus",operand:"docQueryArrayInnerText"},{PageTypeDepend:"purchase",method:"DocQuery",selector:".cart-inside",name:"purchase.skus",operand:"docQueryAttribValueList",value:"data-sku"},// ----------------------------------------------------------------------------------------------------------------------------------------------
// SORG Elements
{PageTypeDepend:"Productpage",method:"DocSorg",selector:"sku",name:"pdp.sku"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"mpn",name:"pdp.mpn"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"name",name:"pdp.name",operand:"JSONFilterOther",value:"@type=Product"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"offers.priceValidUntil",name:"pdp.priceValidUntil"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"itemListElement.*.name",name:"view.breadcrumb"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"mainEntity.name",name:"plp.name"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"mainEntity.numberOfItems",name:"plp.itemCount"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"breadcrumb.itemListElement.*.item.name",name:"view.breadcrumb"},// ----------------------------------------------------------------------------------------------------------------------------------------------
// Window custom elements
{PageTypeDepend:"*",method:"SingleWT",selector:"favoriteProducts",name:"view.favoritedMPNs"},{PageTypeDepend:"*",method:"SingleWT",selector:"isAdmin",name:"vvsIsShowroom",formatter:"toString"},{PageTypeDepend:"*",method:"SingleWT",selector:"userId",name:"vvsUserId"}];var featureEngineeringOps={"view_epoch":[{updateMethod:"min"},{queryMethod:"min",window:"session",featureName:"history.view_epoch_min"}],"PageType":[{updateMethod:"count_values"},{queryMethod:"cv",window:"session",featureName:"history.PageType_count_session"},{queryMethod:"cv",window:"alltime",featureName:"history.PageType_count_alltime"}],"cart.couponApplicableAmount":[{updateMethod:"last"},{queryMethod:"last(1)",window:"session",featureName:"__features.lastCartCouponApplicable"}],"pdp.category":[{updateMethod:"count_values"},{updateMethod:"last"},{queryMethod:"mode",window:"session",featureName:"history.pdp_category_mode_session"},{queryMethod:"last(1)",window:"session",featureName:"history.pdp_category_last_session"}],"cart.skus":[{updateMethod:"last"},{queryMethod:"last(1)",window:"session",featureName:"__features.SKUsonLastCartView"}]};var increaseBeagleInfoLayerHWM=function increaseBeagleInfoLayerHWM(){var infoLayer=window.top.beagleInfoLayer;// update hwm to indicate change
infoLayer.__hwm+=1;};var addToBeagleInfoLayer=function addToBeagleInfoLayer(key,value){var infoLayer=window.top.beagleInfoLayer;if(key===null||key===undefined)return;// if value is string, add as a clean string, if object add the same
var typedValue=typeof value==="string"?value.toString().trim():value;// if key contains . create nested object
if(key.indexOf(".")>-1){var keys=key.split(".");var lastKey=keys.pop();var obj=infoLayer;keys.forEach(function(key){if(!obj[key])obj[key]={};obj=obj[key];});obj[lastKey]=typedValue;}else{infoLayer[key]=typedValue;}// update hwm to indicate change
increaseBeagleInfoLayerHWM();// process dependent historical data for scan-found elements
if(typedValue!==undefined&&typedValue!==null){updateDerivationsInCollector(key,typedValue);passValueToListeners(key,typedValue);}};var DATA_LISTENERS={};var addDataListener=function addDataListener(key,listener){if(!DATA_LISTENERS[key]){DATA_LISTENERS[key]=[];}DATA_LISTENERS[key].push(listener);};var passValueToListeners=function passValueToListeners(key,value){var listeners=DATA_LISTENERS[key];if(listeners&&Array.isArray(listeners)&&listeners.length>0){for(var i=0;i<listeners.length;i+=1){var listener=listeners[i];if(typeof listener==="function"){BeagleInfoLayer_logger.log("passValueToListeners --> value ".concat(value," to listener ").concat(i," of key ").concat(key));listener(value);}}}};var getFromBeagleInfoLayer=function getFromBeagleInfoLayer(key){var blocking=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var pollInterval=arguments.length>2&&arguments[2]!==undefined?arguments[2]:50;var timeout=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10000;// TODO: check featureEngineering and search list if all marked as found but value is missing
var infoLayer=window.top.beagleInfoLayer;// return null if key is missing or not an array or has no elements
if(!key)return null;var obtainData=jsonGet(infoLayer,key);if(obtainData!==null&&obtainData!==undefined){// found data for key
return Promise.resolve(obtainData);}var _iterator=BeagleInfoLayer_createForOfIteratorHelper(searchPaths),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var searchElement=_step.value;if(key===searchElement.name&&(searchElement.isFound||searchElement.isIgnore)){// data is missing but element is marked as found or ignored
return Promise.resolve(null);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(blocking){return new Promise(function(resolve){var interval=setInterval(function(){obtainData=jsonGet(infoLayer,key);if(obtainData!==null&&obtainData!==undefined){// found data for key, clear interval and resolve
clearInterval(interval);resolve(obtainData);}var _iterator2=BeagleInfoLayer_createForOfIteratorHelper(searchPaths),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var searchElement=_step2.value;if(key===searchElement.name&&(searchElement.isFound||searchElement.isIgnore)){// data is missing but element is marked as found or ignored
clearInterval(interval);resolve(null);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}},pollInterval);// add timeout
setTimeout(function(){clearInterval(interval);resolve(null);},timeout);// wait blocking for "timeout" msecs
});}return Promise.resolve(null);};var removeFromBeagleInfoLayer=function removeFromBeagleInfoLayer(key){var infoLayer=window.top.beagleInfoLayer;if(key===null||key===undefined)return;// remove key from infoLayer
if(key.indexOf(".")>-1){var keys=key.split(".");var lastKey=keys.pop();var obj=infoLayer;keys.forEach(function(key){if(!obj[key])return;obj=obj[key];});BeagleInfoLayer_logger.log("removeFromBeagleInfoLayer","Removing ".concat(lastKey," from ").concat(JSON.stringify(obj)));delete obj[lastKey];}else{delete infoLayer[key];}increaseBeagleInfoLayerHWM();// process dependent historical data for scan-found elements
updateDerivationsInCollector(key,null);passValueToListeners(key,null);};var addTreatment=function addTreatment(id,businessRuleId,variant,status){var dependant_on_treatment=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var value={};var infoLayer=window.top.beagleInfoLayer;if(businessRuleId!==null&&businessRuleId!==undefined)value.businessRuleId=businessRuleId;if(variant)value.variant=variant;switch(status){case"applied":infoLayer.a[id]=value;break;case"skipped":value.dependant_on_treatment=dependant_on_treatment;infoLayer.e[id]=value;break;case"failed":infoLayer.f[id]=value;break;}increaseBeagleInfoLayerHWM();};var PARSESEARCHMAXRETRY=10;var PARSESEARCHSTARTDELAY=10;var parseSearchPathsDelay=PARSESEARCHSTARTDELAY;var parseSearchPathsRetry=0;var initializeBeagleInfoLayer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Collect core data
prepareCoreData();// Trigger-start the parser loop
parserCaller();// Add metrics
addMetrics();case 3:case"end":return _context.stop();}}},_callee);}));return function initializeBeagleInfoLayer(){return _ref.apply(this,arguments);};}();var collectDerivationsFromCollector=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){var baseFeatureNames,_i,_baseFeatureNames,baseFeatureName,FEData,_iterator3,_step3,FEOp,queryResponse;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:baseFeatureNames=Object.keys(featureEngineeringOps);_i=0,_baseFeatureNames=baseFeatureNames;case 2:if(!(_i<_baseFeatureNames.length)){_context2.next=30;break;}baseFeatureName=_baseFeatureNames[_i];FEData=featureEngineeringOps[baseFeatureName];if(!(FEData&&Array.isArray(FEData)&&FEData.length>0)){_context2.next=27;break;}_iterator3=BeagleInfoLayer_createForOfIteratorHelper(FEData);_context2.prev=7;_iterator3.s();case 9:if((_step3=_iterator3.n()).done){_context2.next=19;break;}FEOp=_step3.value;if(!(FEOp.queryMethod===null||FEOp.queryMethod===undefined)){_context2.next=13;break;}return _context2.abrupt("continue",17);case 13:_context2.next=15;return queryInCollector(baseFeatureName,FEOp.queryMethod,FEOp.window);case 15:queryResponse=_context2.sent;addToBeagleInfoLayer(FEOp.featureName,queryResponse);case 17:_context2.next=9;break;case 19:_context2.next=24;break;case 21:_context2.prev=21;_context2.t0=_context2["catch"](7);_iterator3.e(_context2.t0);case 24:_context2.prev=24;_iterator3.f();return _context2.finish(24);case 27:_i++;_context2.next=2;break;case 30:case"end":return _context2.stop();}}},_callee2,null,[[7,21,24,27]]);}));return function collectDerivationsFromCollector(){return _ref2.apply(this,arguments);};}();var updateDerivationsInCollector=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(baseFeatureName,baseFeatureValue){var FEData,_iterator4,_step4,FEOp;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// process dependent historical data for scan-found elements
FEData=featureEngineeringOps[baseFeatureName];if(!(FEData&&Array.isArray(FEData)&&FEData.length>0)){_context3.next=21;break;}_iterator4=BeagleInfoLayer_createForOfIteratorHelper(FEData);_context3.prev=3;_iterator4.s();case 5:if((_step4=_iterator4.n()).done){_context3.next=13;break;}FEOp=_step4.value;if(!(FEOp.updateMethod===null||FEOp.updateMethod===undefined)){_context3.next=9;break;}return _context3.abrupt("continue",11);case 9:_context3.next=11;return updateInCollector(baseFeatureName,baseFeatureValue,FEOp.updateMethod);case 11:_context3.next=5;break;case 13:_context3.next=18;break;case 15:_context3.prev=15;_context3.t0=_context3["catch"](3);_iterator4.e(_context3.t0);case 18:_context3.prev=18;_iterator4.f();return _context3.finish(18);case 21:case"end":return _context3.stop();}}},_callee3,null,[[3,15,18,21]]);}));return function updateDerivationsInCollector(_x,_x2){return _ref3.apply(this,arguments);};}();var processFormatter=function processFormatter(value,formatter){if(value===null||value===undefined||!formatter){return null;}switch(formatter){case"upperCaseTR":return value.toString().toUpperCase("tr-TR");case"formatDeliveryDate":return formatDeliveryDate(value);case"numericOnly":return value.replace(/\D/g,"");case"lowerCaseTRFirstWord":return value.toString().toLowerCase("tr-TR").split(" ")[0];case"dearray":if(Array.isArray(value)&&value.length>0){return value[0];}return value;case"toString":return value.toString().trim();default:return value;}};var searchObj=function searchObj(obj,searchElement){var value;var layerValue;try{switch(searchElement.operand){case"JSONFilterOther":{value=jsonGet(obj,searchElement.selector);if(value===null||value===undefined){break;}var filterParams=searchElement.value.split("=");if(filterParams.length!==2)break;var filterName=filterParams[0];var filterValue=filterParams[1];if(!filterName||!filterValue)break;var filterMatch=jsonGet(obj,filterName);if(!filterMatch||filterMatch!==filterValue)break;if(value&&(Array.isArray(value)?value.length>0:value.toString().trim().length>0)){layerValue=value;}}break;case"docQueryObserve":value=obj.querySelector(searchElement.selector);if(value!==null&&value!==undefined){searchElement.isFound=true;// update found status of the elements in the children list
var toBeUpdated=[];searchElement.children.forEach(function(child){var childElements=searchPaths.filter(function(element){return element.name===child;});// add childElements into toBeUpdated
toBeUpdated.push.apply(toBeUpdated,_toConsumableArray(childElements));});// run only if the element has added or removed children
var observer=new MutationObserver(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(mutationList){var triggerRestart;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!isOwnMutation(mutationList)){_context4.next=2;break;}return _context4.abrupt("return");case 2:toBeUpdated.forEach(function(element){element.isFound=false;removeFromBeagleInfoLayer(element.name);});triggerRestart=parseSearchPathsRetry>=PARSESEARCHMAXRETRY;parseSearchPathsDelay=PARSESEARCHSTARTDELAY;parseSearchPathsRetry=0;if(triggerRestart){BeagleInfoLayer_logger.log("searchObj: triggered a restart of searchpaths due: ",searchElement.name);parserCaller();}case 7:case"end":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref4.apply(this,arguments);};}());observer.observe(value,{subtree:true,childList:true});}break;case"docQueryInnerText":value=obj.querySelector(searchElement.selector);if(value!==null&&value!==undefined&&value.innerText&&value.innerText.trim().length>0){layerValue=value.innerText;}break;case"docQueryAttribValueList":{var attribValueList=[];value=obj.querySelectorAll(searchElement.selector);if(value===null||value===undefined||value.length===0)break;var _iterator5=BeagleInfoLayer_createForOfIteratorHelper(value),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var valuechild=_step5.value;var attribValue=valuechild.getAttribute(searchElement.value);if(attribValue){attribValueList.push(attribValue);}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}if(attribValueList.length>0){layerValue=attribValueList;}}break;case"docQueryHasInnerText":value=obj.querySelector(searchElement.selector);if(value!==null&&value!==undefined){var setValue=value.innerText.trim().length>0;layerValue=setValue.toString();}break;case"docQueryCountElts":value=obj.querySelectorAll(searchElement.selector);if(value!==null&&value!==undefined){layerValue=value.length;}break;case"docQueryValueIfHasInnerText":value=obj.querySelector(searchElement.selector);if(value&&value.innerText&&value.innerText.trim().length>0){layerValue=searchElement.value;}break;case"docQuerySumNumInnerText":{value=obj.querySelectorAll(searchElement.selector);if(value===null||value===undefined||value.length===0)break;var sumPrice=0;var _iterator6=BeagleInfoLayer_createForOfIteratorHelper(value),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var child=_step6.value;var childText=child.innerText.trim().replace(/\D/g,"");if(childText.length>0){sumPrice+=parseInt(childText);}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}if(sumPrice>0){layerValue=sumPrice;}}break;case"docQueryArrayInnerText":{value=obj.querySelectorAll(searchElement.selector);if(value===null||value===undefined||value.length===0)break;var arrayInnerText=[];var _iterator7=BeagleInfoLayer_createForOfIteratorHelper(value),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _child=_step7.value;var _childText=_child.innerText.trim();if(_childText.length>0){arrayInnerText.push(_childText);}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}if(arrayInnerText.length>0){layerValue=arrayInnerText;}}break;default:value=jsonGet(obj,searchElement.selector);if(value!==null&&value!==undefined&&(Array.isArray(value)?value.length>0:value.toString().trim().length>0)){layerValue=value;}break;}// switch
if(layerValue!==undefined&&layerValue!==null){if(searchElement.formatter){layerValue=processFormatter(layerValue,searchElement.formatter);}addToBeagleInfoLayer(searchElement.name,layerValue);searchElement.isFound=true;// mark exclusive elements as found
if(searchElement.exclusive&&Array.isArray(searchElement.exclusive)&&searchElement.exclusive.length>0){var _iterator8=BeagleInfoLayer_createForOfIteratorHelper(searchPaths),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var exclusiveElement=_step8.value;if(searchElement.exclusive.includes(exclusiveElement.name)){exclusiveElement.isFound=true;}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}}}if(searchElement.isFound){return true;}}catch(e){BeagleInfoLayer_logger.error("searchObj error: "+e);}return false;};var customDataDerivations=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(){var currentPageType,_yield$Promise$all,_yield$Promise$all2,isCartEmpty,totalBasePrice,couponNotApplicable,prices,quantities,totalPrice,i,couponApplicableAmount,sku,skuList;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return getFromBeagleInfoLayer("PageType",true,50,1000);case 2:currentPageType=_context5.sent;_context5.prev=3;_context5.next=6;return Promise.all([getFromBeagleInfoLayer("cart.isempty"),getFromBeagleInfoLayer("cart.totalBasePrice"),getFromBeagleInfoLayer("cart.couponNotApplicable"),getFromBeagleInfoLayer("cart.prices"),getFromBeagleInfoLayer("cart.quantities")]);case 6:_yield$Promise$all=_context5.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,5);isCartEmpty=_yield$Promise$all2[0];totalBasePrice=_yield$Promise$all2[1];couponNotApplicable=_yield$Promise$all2[2];prices=_yield$Promise$all2[3];quantities=_yield$Promise$all2[4];totalPrice=0;if(!totalBasePrice&&prices&&Array.isArray(prices)&&prices.length>0&&quantities&&Array.isArray(quantities)&&quantities.length>0&&prices.length===quantities.length){for(i=0;i<prices.length;i++){totalPrice+=parseInt(prices[i])*parseInt(quantities[i]);}}else{totalPrice=parseInt(totalBasePrice);}couponApplicableAmount=0;if(!isCartEmpty&&totalPrice&&couponNotApplicable){couponApplicableAmount=totalPrice-parseInt(couponNotApplicable);}else if(!isCartEmpty&&totalPrice){couponApplicableAmount=parseInt(totalPrice);}else{couponApplicableAmount=0;}addToBeagleInfoLayer("cart.couponApplicableAmount",couponApplicableAmount);if(isCartEmpty){addToBeagleInfoLayer("cart.totalPrice",0);addToBeagleInfoLayer("cart.couponNotApplicable",0);}_context5.next=24;break;case 21:_context5.prev=21;_context5.t0=_context5["catch"](3);BeagleInfoLayer_logger.error("customDataDerivations cannot compute couponApplicablePrice: "+_context5.t0);case 24:if(!(currentPageType==="Productpage")){_context5.next=33;break;}_context5.next=27;return getFromBeagleInfoLayer("pdp.sku");case 27:sku=_context5.sent;if(!(sku!==null&&sku!==undefined)){_context5.next=31;break;}_context5.next=31;return addToBeagleInfoLayer("__features.SKUsonPage",[sku]);case 31:_context5.next=40;break;case 33:if(!(currentPageType==="basket")){_context5.next=40;break;}_context5.next=36;return getFromBeagleInfoLayer("cart.skus");case 36:skuList=_context5.sent;if(!(skuList!==null&&Array.isArray(skuList)&&skuList.length)){_context5.next=40;break;}_context5.next=40;return addToBeagleInfoLayer("__features.SKUsonPage",skuList);case 40:case"end":return _context5.stop();}}},_callee5,null,[[3,21]]);}));return function customDataDerivations(){return _ref5.apply(this,arguments);};}();var parseSearchPaths=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){var domStatus,wintop,dataLayer,windoc,sorgArrayInner,foundNames,prevFoundNames,notFoundNames,currentPageType,_iterator9,_step9,searchElement,_iterator10,_step10,_searchElement,_iterator11,_step11,dataLayerItem,_iterator12,_step12,sorgItem;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:domStatus=document.readyState;// check if document and dom is loaded and ready for scrapping
BeagleInfoLayer_logger.log("parseSearchPaths initialized with dom status:  "+domStatus);wintop=window.top;dataLayer=wintop.dataLayer;windoc=wintop.document;foundNames=new Set();prevFoundNames=new Set();notFoundNames=new Set();// PageType can be inferred from URL, if found use it from there
_context6.next=10;return getFromBeagleInfoLayer("PageType");case 10:currentPageType=_context6.sent;if(currentPageType){prevFoundNames.add("PageType");}// Loop through search lists and mark found names
_iterator9=BeagleInfoLayer_createForOfIteratorHelper(searchPaths);try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){searchElement=_step9.value;if(searchElement.isFound){prevFoundNames.add(searchElement.name);}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}_iterator10=BeagleInfoLayer_createForOfIteratorHelper(searchPaths);_context6.prev=15;_iterator10.s();case 17:if((_step10=_iterator10.n()).done){_context6.next=38;break;}_searchElement=_step10.value;if(!(_searchElement.isFound||_searchElement.isIgnore)){_context6.next=21;break;}return _context6.abrupt("continue",36);case 21:if(!(foundNames.has(_searchElement.name)||prevFoundNames.has(_searchElement.name))){_context6.next=24;break;}// had already found this element on another parse item
_searchElement.isFound=true;return _context6.abrupt("continue",36);case 24:if(!(_searchElement.PageTypeDepend!=="*")){_context6.next=35;break;}if(currentPageType){_context6.next=32;break;}_context6.next=28;return getFromBeagleInfoLayer("PageType");case 28:currentPageType=_context6.sent;if(currentPageType){_context6.next=32;break;}notFoundNames.add(_searchElement.name);return _context6.abrupt("continue",36);case 32:if(!(_searchElement.PageTypeDepend.indexOf(currentPageType)<0)){_context6.next=35;break;}// skip searchElement because of PageTypeDepend
_searchElement.isIgnore=true;return _context6.abrupt("continue",36);case 35:if(_searchElement.method==="SingleWT"){// SCAN Window for Single Elements
searchAndSet(wintop,_searchElement,foundNames,notFoundNames);}else if(_searchElement.method==="GADataLayer"){// SCAN GA DATA LAYER
_iterator11=BeagleInfoLayer_createForOfIteratorHelper(dataLayer);try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){dataLayerItem=_step11.value;searchAndSet(dataLayerItem,_searchElement,foundNames,notFoundNames);}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}}else if(_searchElement.method==="DocSorg"){// SCAN SORG ARRAY
if(!sorgArrayInner){sorgArrayInner=getSORGArray();}_iterator12=BeagleInfoLayer_createForOfIteratorHelper(sorgArrayInner);try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){sorgItem=_step12.value;searchAndSet(sorgItem,_searchElement,foundNames,notFoundNames);}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}}else if(_searchElement.method==="DocQuery"){// SCAN DOCUMENT
searchAndSet(windoc,_searchElement,foundNames,notFoundNames);}// DOCQUERY parse
case 36:_context6.next=17;break;case 38:_context6.next=43;break;case 40:_context6.prev=40;_context6.t0=_context6["catch"](15);_iterator10.e(_context6.t0);case 43:_context6.prev=43;_iterator10.f();return _context6.finish(43);case 46:if(notFoundNames.size===0){parseSearchPathsRetry=PARSESEARCHMAXRETRY;BeagleInfoLayer_logger.log("parseSearchPaths found all elements - setting retry to max");}else if(foundNames.size===0){// update retry counter and delay only if dom is active
if(domStatus==="complete"||domStatus==="interactive"){parseSearchPathsDelay*=2;parseSearchPathsRetry+=1;}BeagleInfoLayer_logger.log("parseSearchPaths processed but not found any, setting delay and retry to "+parseSearchPathsDelay+" and "+parseSearchPathsRetry+" for notfound: ["+Array.from(notFoundNames).join(" | ")+"]");}else{BeagleInfoLayer_logger.log("parseSearchPaths processed: notfound: ["+Array.from(notFoundNames).join(" | ")+"] and found "+foundNames.size);}case 47:case"end":return _context6.stop();}}},_callee6,null,[[15,40,43,46]]);}));return function parseSearchPaths(){return _ref6.apply(this,arguments);};}();var searchAndSet=function searchAndSet(obj,searchElement,foundNames,notFoundNames){if(searchObj(obj,searchElement)){foundNames.add(searchElement.name);}else{notFoundNames.add(searchElement.name);}};// parse source
var parserCaller=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee8(){return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return parseSearchPaths();case 2:if(!(parseSearchPathsRetry<PARSESEARCHMAXRETRY)){_context8.next=7;break;}BeagleInfoLayer_logger.log("parseSearchPaths: scheduled to be recalled in "+parseSearchPathsDelay+"ms");setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(){return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return parserCaller();case 2:case"end":return _context7.stop();}}},_callee7);})),parseSearchPathsDelay);_context8.next=13;break;case 7:BeagleInfoLayer_logger.log("parseSearchPaths: reached max retry, calling remainder historical data");_context8.next=10;return customDataDerivations();case 10:_context8.next=12;return collectDerivationsFromCollector();case 12:addToBeagleInfoLayer("__CompletedScraping",true);case 13:case"end":return _context8.stop();}}},_callee8);}));return function parserCaller(){return _ref7.apply(this,arguments);};}();// Extract value from json object using given path
// If an element is *, concatenate recursively all sub-path values as string
var jsonGet=function jsonGet(obj,path){if(!obj)return null;if(!path)return null;try{var pathArray=path.split(".");var current=obj;for(var i=0;i<pathArray.length;i++){if(current===null)return null;if(pathArray[i]==="*"){var subPath=pathArray.slice(i+1).join(".");var subArray=[];for(var subKey in current){if(current[subKey]!==undefined&&current[subKey]!==null){var subValue=jsonGet(current[subKey],subPath);if(subValue!==null&&subValue!==undefined){subArray.push(subValue);}}}return subArray;}current=current[pathArray[i]];}return current;}catch(e){return null;}};var prepareCoreData=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee9(){var _windowPtr$navigator,_windowPtr$navigator$,_windowPtr$navigator2,_windowPtr$navigator3,_windowPtr$screen,_windowPtr$screen2,_windowPtr$screen3,_windowPtr$screen4,_windowPtr$visualView,_windowPtr$visualView2,_windowPtr$history,_windowPtr$navigator4,_windowPtr$navigator5;var windowPtr,navPtr,platform,availWindow,windowDepth,vportShape,width,height,iOS,_windowPtr$screen5,_windowPtr$screen5$or,orientationAngle,temp,_navPtr$userAgentData,_navPtr$userAgentData2,_navPtr$userAgentData3,navAgent,currentURL,firstSessionReferrer,pageType;return regenerator_default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:windowPtr=window.top;navPtr=windowPtr.navigator;platform=((_windowPtr$navigator=windowPtr.navigator)===null||_windowPtr$navigator===void 0?void 0:(_windowPtr$navigator$=_windowPtr$navigator.userAgentData)===null||_windowPtr$navigator$===void 0?void 0:_windowPtr$navigator$.platform)||((_windowPtr$navigator2=windowPtr.navigator)===null||_windowPtr$navigator2===void 0?void 0:_windowPtr$navigator2.platform)||((_windowPtr$navigator3=windowPtr.navigator)===null||_windowPtr$navigator3===void 0?void 0:_windowPtr$navigator3.userAgent);addToBeagleInfoLayer("device.navPlatform",platform);/* window view area */addToBeagleInfoLayer("device.windowPRatio",windowPtr.devicePixelRatio);availWindow=((_windowPtr$screen=windowPtr.screen)===null||_windowPtr$screen===void 0?void 0:_windowPtr$screen.availWidth)+"x"+((_windowPtr$screen2=windowPtr.screen)===null||_windowPtr$screen2===void 0?void 0:_windowPtr$screen2.availHeight);addToBeagleInfoLayer("device.windowAvail",availWindow);windowDepth=((_windowPtr$screen3=windowPtr.screen)===null||_windowPtr$screen3===void 0?void 0:_windowPtr$screen3.colorDepth)+"-"+((_windowPtr$screen4=windowPtr.screen)===null||_windowPtr$screen4===void 0?void 0:_windowPtr$screen4.pixelDepth);addToBeagleInfoLayer("device.windowDepth",windowDepth);vportShape=((_windowPtr$visualView=windowPtr.visualViewport)===null||_windowPtr$visualView===void 0?void 0:_windowPtr$visualView.width)+"x"+((_windowPtr$visualView2=windowPtr.visualViewport)===null||_windowPtr$visualView2===void 0?void 0:_windowPtr$visualView2.height);addToBeagleInfoLayer("device.windowVport",vportShape);if(screen.width){width=parseInt(screen.width);height=screen.height?parseInt(screen.height):0;if(width!==0&&height!==0){iOS=/iPad|iPhone|iPod/.test(platform);if(iOS&&windowPtr.devicePixelRatio){// ios provides DPIs, need to multiply
width=Math.round(width*windowPtr.devicePixelRatio);height=Math.round(height*windowPtr.devicePixelRatio);}else{orientationAngle=(_windowPtr$screen5=windowPtr.screen)===null||_windowPtr$screen5===void 0?void 0:(_windowPtr$screen5$or=_windowPtr$screen5.orientation)===null||_windowPtr$screen5$or===void 0?void 0:_windowPtr$screen5$or.angle;if(Math.abs(orientationAngle)===90||Math.abs(orientationAngle)===270){// we have landscape orientation switch values for all except ios
temp=width;width=height;height=temp;}}addToBeagleInfoLayer("device.window",width+"x"+height);}}/* navigator */addToBeagleInfoLayer("device.navHistSize",(_windowPtr$history=windowPtr.history)===null||_windowPtr$history===void 0?void 0:_windowPtr$history.length);// check if userAgentData is supported and userAgent is not available, use it
if(!navPtr.userAgent){if(navPtr.userAgentData){// turn brands array into string
navAgent=navPtr===null||navPtr===void 0?void 0:(_navPtr$userAgentData=navPtr.userAgentData)===null||_navPtr$userAgentData===void 0?void 0:(_navPtr$userAgentData2=_navPtr$userAgentData.brands)===null||_navPtr$userAgentData2===void 0?void 0:_navPtr$userAgentData2.map(function(e){return e.brand+":"+e.version;}).join();// add mobile info
navAgent+=navPtr!==null&&navPtr!==void 0&&(_navPtr$userAgentData3=navPtr.userAgentData)!==null&&_navPtr$userAgentData3!==void 0&&_navPtr$userAgentData3.mobile?"mobi":" ";// add platform info
navAgent+=platform;addToBeagleInfoLayer("device.navAgent",navAgent);}}else{addToBeagleInfoLayer("device.navAgent",navPtr.userAgent);}addToBeagleInfoLayer("device.navHWCores",navPtr.hardwareConcurrency);addToBeagleInfoLayer("device.navLanguage",navPtr.language||navPtr.browserLanguage||navPtr.systemLanguage||navPtr.userLanguage);addToBeagleInfoLayer("device.navTouch",navPtr.maxTouchPoints);addToBeagleInfoLayer("device.navVendor",navPtr.vendor);addToBeagleInfoLayer("device.internetSpeed",(_windowPtr$navigator4=windowPtr.navigator)===null||_windowPtr$navigator4===void 0?void 0:(_windowPtr$navigator5=_windowPtr$navigator4.connection)===null||_windowPtr$navigator5===void 0?void 0:_windowPtr$navigator5.downlink);/* miscellaneous */currentURL=new URL(window.top.location.href);addToBeagleInfoLayer("u",currentURL.href);addToBeagleInfoLayer("d",currentURL.hostname);addToBeagleInfoLayer("donttrack",navPtr.doNotTrack||windowPtr.doNotTrack||navPtr.msDoNotTrack);addToBeagleInfoLayer("r",windowPtr.document.referrer);firstSessionReferrer=sessionStorage.getItem(SESSION_STORAGE_KEYS.SESSION_REFERRER);if(!firstSessionReferrer){sessionStorage.setItem(SESSION_STORAGE_KEYS.SESSION_REFERRER,windowPtr.document.referrer);addToBeagleInfoLayer("fr",windowPtr.document.referrer);}else{addToBeagleInfoLayer("fr",firstSessionReferrer);}/* Vivense specific */ // if url like x then set PageType = y
if(currentURL.pathname.indexOf("favorilerim.html")>-1){pageType="favorites";}else if(currentURL.pathname.indexOf("siparis-listesi.html")>-1){pageType="basket";}else if(currentURL.pathname.indexOf("siparis-ozeti.html")>-1){pageType="purchase";}else if(currentURL.pathname.indexOf("odeme.html")>-1){pageType="payment";}else if(currentURL.pathname.indexOf("adres-listesi.html")>-1){pageType="address";}else if(currentURL.pathname.indexOf("siparislerim.html")>-1){pageType="pastorders";}else if(currentURL.pathname.indexOf("uye-kayit.html")>-1){pageType="register";}else if(currentURL.pathname.indexOf("uye-girisi.html")>-1){pageType="signin";}else if(currentURL.pathname.indexOf("kuponlarim.html")>-1){pageType="profile_coupons";}else if(currentURL.pathname.indexOf("profil-guncelle.html")>-1){pageType="profile_info";}else if(currentURL.pathname.indexOf("adreslerim.html")>-1){pageType="profile_addresses";}else if(currentURL.pathname.indexOf("duyuru-tercihleri.html")>-1){pageType="profile_notifications";}else if(currentURL.pathname.indexOf("indirimli-mobilya-kampanyalari.html")>-1){pageType="special_campaigns";}if(pageType){addToBeagleInfoLayer("PageType",pageType);}case 28:case"end":return _context9.stop();}}},_callee9);}));return function prepareCoreData(){return _ref9.apply(this,arguments);};}();var addMetrics=function addMetrics(){var windowPtr=window.top;var perfMetrics={};var perfNavigationMetrics=windowPtr.performance.getEntriesByType("navigation")[0];if(windowPtr.performance&&perfNavigationMetrics){perfMetrics.connect=Math.round(perfNavigationMetrics.connectEnd-perfNavigationMetrics.connectStart);perfMetrics.request=Math.round(perfNavigationMetrics.responseEnd-perfNavigationMetrics.requestStart);perfMetrics.dom=Math.round(perfNavigationMetrics.domInteractive-perfNavigationMetrics.domComplete);perfMetrics.load=Math.round(perfNavigationMetrics.loadEventEnd-perfNavigationMetrics.loadEventStart);perfMetrics.duration=Math.round(perfNavigationMetrics.duration);}addToBeagleInfoLayer("metrics",perfMetrics);};// TODO: move this to an "element collector" module, then data is extracted from pre-collected elements
var getSORGArray=function getSORGArray(){var schemaOrgElts=window.top.document.querySelectorAll("[type=\"application/ld+json\"]");var sorgArray=[];var _iterator13=BeagleInfoLayer_createForOfIteratorHelper(schemaOrgElts),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var sTag=_step13.value;try{var cntnt=sTag.textContent;var jsoncontent=JSON.parse(cntnt);sorgArray.push(jsoncontent);}catch(err){// do nothing
}}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return sorgArray;};;// CONCATENATED MODULE: ./src/BeagleMonitor/index.js
var BeagleMonitor_logger=new src_logger("BeagleMonitor");var HEADERS={type:"text/plain"};var Monitor=/*#__PURE__*/function(){function Monitor(){_classCallCheck(this,Monitor);BeagleMonitor_logger.log("Initializing monitor");this.hasArrivalLogSent=false;this.hasMainLogSent=false;this.hasUpdatesSent=false;this.highWaterMark=null;this.initializeExitEventListeners();}// Attempts to send the initial log body (beagleInfoLayer's initial population) immediately
_createClass(Monitor,[{key:"sendLogs",value:function(){var _sendLogs=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(immediate){return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!immediate){_context.next=6;break;}BeagleMonitor_logger.log("In immediate sending block");_context.next=4;return this.packAndQueueMainLog();case 4:_context.next=12;break;case 6:BeagleMonitor_logger.log("In non-critical send path - awaiting scraping");_context.next=9;return getFromBeagleInfoLayer("__CompletedScraping",true,50,1000);case 9:BeagleMonitor_logger.log("In non-critical send path - sending logs");_context.next=12;return this.packAndQueueMainLog();case 12:case"end":return _context.stop();}}},_callee,this);}));function sendLogs(_x){return _sendLogs.apply(this,arguments);}return sendLogs;}()// Send initial log body and incremental update logs on close
},{key:"handleCloseEvent",value:function(){var _handleCloseEvent=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.packAndQueueMainLog();case 2:_context2.next=4;return this.packAndQueueIncrementalLog();case 4:case"end":return _context2.stop();}}},_callee2,this);}));function handleCloseEvent(){return _handleCloseEvent.apply(this,arguments);}return handleCloseEvent;}()},{key:"packAndQueueMainLog",value:function(){var _packAndQueueMainLog=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var requestBlob;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!this.hasMainLogSent){_context3.next=2;break;}return _context3.abrupt("return");case 2:_context3.next=4;return this.packageMainLogData();case 4:requestBlob=_context3.sent;if(!requestBlob){_context3.next=11;break;}_context3.next=8;return this.checkForLatestChanges();case 8:BeagleMonitor_logger.log("Request blob to send: ",requestBlob);this.hasMainLogSent=true;this.queueLogs(requestBlob);case 11:case"end":return _context3.stop();}}},_callee3,this);}));function packAndQueueMainLog(){return _packAndQueueMainLog.apply(this,arguments);}return packAndQueueMainLog;}()},{key:"packAndQueueIncrementalLog",value:function(){var _packAndQueueIncrementalLog=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(){var hasChanged,logData;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(!this.hasMainLogSent||this.hasUpdatesSent)){_context4.next=2;break;}return _context4.abrupt("return");case 2:_context4.next=4;return this.checkForLatestChanges();case 4:hasChanged=_context4.sent;BeagleMonitor_logger.log("Update logs change status: ",hasChanged);if(hasChanged){_context4.next=8;break;}return _context4.abrupt("return");case 8:_context4.next=10;return this.packageIncrementalLogData();case 10:logData=_context4.sent;if(logData){BeagleMonitor_logger.log("Sending incremental logs",logData);this.hasUpdatesSent=true;this.queueLogs(logData);}case 12:case"end":return _context4.stop();}}},_callee4,this);}));function packAndQueueIncrementalLog(){return _packAndQueueIncrementalLog.apply(this,arguments);}return packAndQueueIncrementalLog;}()},{key:"packAndQueueArrivalLog",value:function(){var _packAndQueueArrivalLog=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(){var requestBlob;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(this.hasMainLogSent||this.hasArrivalLogSent)){_context5.next=2;break;}return _context5.abrupt("return");case 2:_context5.next=4;return this.packageArrivalLogData();case 4:requestBlob=_context5.sent;if(requestBlob){// prepare change detection hashes at the time of main log preparation
BeagleMonitor_logger.log("Arrival blob to send: ",requestBlob);this.hasArrivalLogSent=true;this.queueLogs(requestBlob);}case 6:case"end":return _context5.stop();}}},_callee5,this);}));function packAndQueueArrivalLog(){return _packAndQueueArrivalLog.apply(this,arguments);}return packAndQueueArrivalLog;}()},{key:"checkForLatestChanges",value:function(){var _checkForLatestChanges=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){var hwm;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return getFromBeagleInfoLayer("__hwm");case 2:hwm=_context6.sent;if(!(this.highWaterMark!==hwm)){_context6.next=6;break;}this.highWaterMark=hwm;return _context6.abrupt("return",true);case 6:return _context6.abrupt("return",false);case 7:case"end":return _context6.stop();}}},_callee6,this);}));function checkForLatestChanges(){return _checkForLatestChanges.apply(this,arguments);}return checkForLatestChanges;}()},{key:"packageArrivalLogData",value:function(){var _packageArrivalLogData=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(){var _yield$Promise$all,_yield$Promise$all2,url,hash,cookieGaId,view_epoch,body;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return Promise.all([getFromBeagleInfoLayer("u"),getFromBeagleInfoLayer("onHashPct"),getFromBeagleInfoLayer("cookieGaId"),getFromBeagleInfoLayer("view_epoch")]);case 2:_yield$Promise$all=_context7.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,4);url=_yield$Promise$all2[0];hash=_yield$Promise$all2[1];cookieGaId=_yield$Promise$all2[2];view_epoch=_yield$Promise$all2[3];body={cookieGaId:cookieGaId,lc:0,view_epoch:view_epoch,u:url,onHashPct:hash};BeagleMonitor_logger.log("Arrival log data: ",body);return _context7.abrupt("return",new Blob([JSON.stringify(body)],HEADERS));case 11:case"end":return _context7.stop();}}},_callee7);}));function packageArrivalLogData(){return _packageArrivalLogData.apply(this,arguments);}return packageArrivalLogData;}()},{key:"packageMainLogData",value:function(){var _packageMainLogData=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee8(){var body,_i,_Object$entries,_Object$entries$_i,key,value;return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:body={};if(window.beagleInfoLayer){_context8.next=3;break;}return _context8.abrupt("return",null);case 3:for(_i=0,_Object$entries=Object.entries(window.beagleInfoLayer);_i<_Object$entries.length;_i++){_Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];if(!key.startsWith("_")&&value!==null)body[key]=value;}body.lc=1;return _context8.abrupt("return",new Blob([JSON.stringify(body)],HEADERS));case 6:case"end":return _context8.stop();}}},_callee8);}));function packageMainLogData(){return _packageMainLogData.apply(this,arguments);}return packageMainLogData;}()},{key:"packageIncrementalLogData",value:function(){var _packageIncrementalLogData=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee9(){var _yield$Promise$all3,_yield$Promise$all4,a,e,f,s,m,cookieGaId,view_epoch,body;return regenerator_default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return Promise.all([getFromBeagleInfoLayer("a"),getFromBeagleInfoLayer("e"),getFromBeagleInfoLayer("f"),getFromBeagleInfoLayer("s"),getFromBeagleInfoLayer("m"),getFromBeagleInfoLayer("cookieGaId"),getFromBeagleInfoLayer("view_epoch")]);case 2:_yield$Promise$all3=_context9.sent;_yield$Promise$all4=_slicedToArray(_yield$Promise$all3,7);a=_yield$Promise$all4[0];e=_yield$Promise$all4[1];f=_yield$Promise$all4[2];s=_yield$Promise$all4[3];m=_yield$Promise$all4[4];cookieGaId=_yield$Promise$all4[5];view_epoch=_yield$Promise$all4[6];body={cookieGaId:cookieGaId,lc:2,view_epoch:view_epoch,a:a,e:e,f:f,s:s,m:m};BeagleMonitor_logger.log("Update log data: ",body);return _context9.abrupt("return",new Blob([JSON.stringify(body)],HEADERS));case 14:case"end":return _context9.stop();}}},_callee9);}));function packageIncrementalLogData(){return _packageIncrementalLogData.apply(this,arguments);}return packageIncrementalLogData;}()},{key:"initializeExitEventListeners",value:function initializeExitEventListeners(){var _this=this;var visibilityChangeTimeout=null;BeagleMonitor_logger.log("Initializing exit event listener");window.addEventListener("beforeunload",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee10(){return regenerator_default().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:BeagleMonitor_logger.log("In beforeunload event");clearTimeout(visibilityChangeTimeout);_context10.next=4;return _this.handleCloseEvent();case 4:case"end":return _context10.stop();}}},_callee10);})),{capture:true});window.addEventListener("pagehide",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee11(){return regenerator_default().wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:BeagleMonitor_logger.log("In pagehide event");clearTimeout(visibilityChangeTimeout);_context11.next=4;return _this.handleCloseEvent();case 4:case"end":return _context11.stop();}}},_callee11);})),{capture:true});window.addEventListener("visibilitychange",function(){if(window.top.document.visibilityState==="hidden"){// If page is not visible and doesn't become visible within 30 seconds, send logs
visibilityChangeTimeout=setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee12(){return regenerator_default().wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:BeagleMonitor_logger.log("In timeout");_context12.next=3;return _this.handleCloseEvent();case 3:case"end":return _context12.stop();}}},_callee12);})),30000);return;}// Clear timeout when page is visible to make sure we send the latest logs possible
clearTimeout(visibilityChangeTimeout);visibilityChangeTimeout=null;},{capture:true});}},{key:"queueLogs",value:function queueLogs(logData){if(!navigator.sendBeacon||typeof navigator.sendBeacon!=="function"){fetch(LOG_API_URL,logData);return;}var queued=navigator.sendBeacon(LOG_API_URL,logData);var queueInterval=setInterval(function(){if(!queued)queued=navigator.sendBeacon(LOG_API_URL,logData);else{clearInterval(queueInterval);BeagleMonitor_logger.log("Logs queued successfully");}},10);if(queued)return;setTimeout(function(){clearInterval(queueInterval);if(!queued){BeagleMonitor_logger.log("Logs not queued");}},1000);}}]);return Monitor;}();/* harmony default export */var BeagleMonitor=Monitor;;// CONCATENATED MODULE: ./src/BeagleTreatmentRepository/index.js
function BeagleTreatmentRepository_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=BeagleTreatmentRepository_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function BeagleTreatmentRepository_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return BeagleTreatmentRepository_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BeagleTreatmentRepository_arrayLikeToArray(o,minLen);}function BeagleTreatmentRepository_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var BeagleTreatmentRepository_logger=new src_logger("BeagleTreatmentRepository");var TreatmentRepository=/*#__PURE__*/function(){function TreatmentRepository(body){_classCallCheck(this,TreatmentRepository);var treatments=body.treatments,treatmentWeights=body.treatmentWeights;this.treatments=treatments;this.treatmentWeights=treatmentWeights;this.currentPageType=null;}_createClass(TreatmentRepository,[{key:"getMatchedTreatments",value:function(){var _getMatchedTreatments=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(debugMode){var _CPT,_this=this;var CPT,matchedTreatments,treatments,treatmentWeights,userSegment,userSegmentWeights,_iterator,_step,_userSegmentWeights$t,treatment,segmentedWeight,_userSegmentWeights$t2,_iterator2,_step2,action,_i,_Object$keys,_userSegmentWeights$t3,_userSegmentWeights$t4,variantKey;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getFromBeagleInfoLayer("__eRules.PageType",true);case 2:CPT=_context.sent;CPT=((_CPT=CPT)===null||_CPT===void 0?void 0:_CPT[0])||null;if(CPT){_context.next=6;break;}return _context.abrupt("return",[]);case 6:this.currentPageType=CPT;matchedTreatments=window.sessionStorage.getItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS);if(!matchedTreatments){_context.next=22;break;}_context.prev=9;_context.next=12;return JSON.parse(matchedTreatments);case 12:matchedTreatments=_context.sent;matchedTreatments=matchedTreatments.filter(function(mt){return _this.checkPageType(mt.pageTypes);});BeagleTreatmentRepository_logger.log("".concat(matchedTreatments.length," treatments user segment matched"));return _context.abrupt("return",matchedTreatments);case 18:_context.prev=18;_context.t0=_context["catch"](9);BeagleTreatmentRepository_logger.failed("Error getting matched robots:",_context.t0.message);return _context.abrupt("return",[]);case 22:matchedTreatments=[];treatments=this.treatments,treatmentWeights=this.treatmentWeights;_context.next=26;return getFromBeagleInfoLayer("s");case 26:userSegment=_context.sent;if(userSegment){_context.next=29;break;}return _context.abrupt("return",null);case 29:if(!treatmentWeights){_context.next=76;break;}userSegmentWeights=treatmentWeights[userSegment];if(userSegmentWeights){_context.next=33;break;}return _context.abrupt("return",[]);case 33:_iterator=BeagleTreatmentRepository_createForOfIteratorHelper(treatments);_context.prev=34;_iterator.s();case 36:if((_step=_iterator.n()).done){_context.next=68;break;}treatment=_step.value;segmentedWeight=(_userSegmentWeights$t=userSegmentWeights[treatment.id])===null||_userSegmentWeights$t===void 0?void 0:_userSegmentWeights$t.weight;if(segmentedWeight){_context.next=43;break;}if(treatment.dependant_on_treatment){segmentedWeight=(_userSegmentWeights$t2=userSegmentWeights[treatment.dependant_on_treatment])===null||_userSegmentWeights$t2===void 0?void 0:_userSegmentWeights$t2.weight;}else if(debugMode&&debugMode===1)segmentedWeight=100;if(segmentedWeight){_context.next=43;break;}return _context.abrupt("continue",66);case 43:treatment.weight=segmentedWeight;if(treatment.actions.some(function(a){return a.variants;})){_context.next=47;break;}matchedTreatments.push(treatment);return _context.abrupt("continue",66);case 47:_iterator2=BeagleTreatmentRepository_createForOfIteratorHelper(treatment.actions);_context.prev=48;_iterator2.s();case 50:if((_step2=_iterator2.n()).done){_context.next=57;break;}action=_step2.value;if(action.variants){_context.next=54;break;}return _context.abrupt("continue",55);case 54:for(_i=0,_Object$keys=Object.keys(action.variants);_i<_Object$keys.length;_i++){variantKey=_Object$keys[_i];if((_userSegmentWeights$t3=userSegmentWeights[treatment.id])!==null&&_userSegmentWeights$t3!==void 0&&_userSegmentWeights$t3.variants&&(_userSegmentWeights$t4=userSegmentWeights[treatment.id])!==null&&_userSegmentWeights$t4!==void 0&&_userSegmentWeights$t4.variants[variantKey]){action.variants[variantKey].weight=userSegmentWeights[treatment.id].variants[variantKey];}}case 55:_context.next=50;break;case 57:_context.next=62;break;case 59:_context.prev=59;_context.t1=_context["catch"](48);_iterator2.e(_context.t1);case 62:_context.prev=62;_iterator2.f();return _context.finish(62);case 65:matchedTreatments.push(treatment);case 66:_context.next=36;break;case 68:_context.next=73;break;case 70:_context.prev=70;_context.t2=_context["catch"](34);_iterator.e(_context.t2);case 73:_context.prev=73;_iterator.f();return _context.finish(73);case 76:window.sessionStorage.setItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS,JSON.stringify(matchedTreatments));_context.next=79;return this.getMatchedTreatments(debugMode);case 79:return _context.abrupt("return",_context.sent);case 80:case"end":return _context.stop();}}},_callee,this,[[9,18],[34,70,73,76],[48,59,62,65]]);}));function getMatchedTreatments(_x){return _getMatchedTreatments.apply(this,arguments);}return getMatchedTreatments;}()},{key:"checkPageType",value:function checkPageType(pageTypes){var currentPageType=this.currentPageType;if(pageTypes===null||pageTypes===undefined)return true;if(!Array.isArray(pageTypes)){BeagleTreatmentRepository_logger.failed("Page Types should be an array");return false;}if(pageTypes[0].startsWith("!")){pageTypes=pageTypes.map(function(pt){return pt.substr(1);});return!pageTypes.includes(currentPageType);}return pageTypes.includes(currentPageType);}}],[{key:"getTreatments",value:function(){var _getTreatments=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){var TREATMENTS,treatmentsObj,treatments,timestamp,treatmentWithTimestamp,elapsedHours,_treatmentWithTimestamp;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:BeagleTreatmentRepository_logger.log("Loading treatments");TREATMENTS=LOCAL_STORAGE_KEYS.TREATMENTS;treatmentsObj=JSON.parse(window.localStorage.getItem(TREATMENTS));treatments=treatmentsObj===null||treatmentsObj===void 0?void 0:treatmentsObj.treatments;timestamp=treatmentsObj===null||treatmentsObj===void 0?void 0:treatmentsObj.timestamp;if(!(!treatments||!timestamp)){_context2.next=17;break;}BeagleTreatmentRepository_logger.failed("Treatments not found in local storage");_context2.next=9;return fetchTreatments();case 9:treatments=_context2.sent;if(treatments){_context2.next=13;break;}BeagleTreatmentRepository_logger.failed("Failed to fetch treatments");return _context2.abrupt("return",null);case 13:treatmentWithTimestamp={timestamp:Date.now(),treatments:treatments};window.localStorage.setItem(TREATMENTS,JSON.stringify(treatmentWithTimestamp));window.sessionStorage.removeItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS);return _context2.abrupt("return",treatments);case 17:if(!timestamp){_context2.next=31;break;}elapsedHours=(Date.now()-timestamp)/(1000*3600);if(!(elapsedHours>LOCAL_STORAGE_TTL_HOURS)){_context2.next=31;break;}BeagleTreatmentRepository_logger.failed("Treatments are expired");_context2.next=23;return fetchTreatments();case 23:treatments=_context2.sent;if(treatments){_context2.next=27;break;}BeagleTreatmentRepository_logger.failed("Failed to fetch treatments");return _context2.abrupt("return",null);case 27:_treatmentWithTimestamp={timestamp:Date.now(),treatments:treatments};window.localStorage.setItem(TREATMENTS,JSON.stringify(_treatmentWithTimestamp));window.sessionStorage.removeItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS);return _context2.abrupt("return",treatments);case 31:BeagleTreatmentRepository_logger.success("Treatments are loaded from local storage");return _context2.abrupt("return",treatments);case 33:case"end":return _context2.stop();}}},_callee2);}));function getTreatments(){return _getTreatments.apply(this,arguments);}return getTreatments;}()},{key:"getTreatmentWeights",value:function(){var _getTreatmentWeights=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var weightsObj,elapsedHours;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;weightsObj=window.localStorage.getItem(LOCAL_STORAGE_KEYS.WEIGHTS);if(!weightsObj){_context3.next=8;break;}weightsObj=JSON.parse(weightsObj);if(!weightsObj.timestamp){_context3.next=8;break;}elapsedHours=(Date.now()-weightsObj.timestamp)/(1000*3600);if(!(elapsedHours<LOCAL_STORAGE_TTL_HOURS)){_context3.next=8;break;}return _context3.abrupt("return",weightsObj.weights);case 8:_context3.next=10;return fetchTreatmentWeights();case 10:weightsObj=_context3.sent;if(weightsObj){_context3.next=14;break;}BeagleTreatmentRepository_logger.failed("Failed to fetch weights");return _context3.abrupt("return",null);case 14:weightsObj={weights:weightsObj,timestamp:Date.now()};window.localStorage.setItem(LOCAL_STORAGE_KEYS.WEIGHTS,JSON.stringify(weightsObj));return _context3.abrupt("return",weightsObj.weights);case 19:_context3.prev=19;_context3.t0=_context3["catch"](0);BeagleTreatmentRepository_logger.warn(_context3.t0.message);return _context3.abrupt("return",null);case 23:case"end":return _context3.stop();}}},_callee3,null,[[0,19]]);}));function getTreatmentWeights(){return _getTreatmentWeights.apply(this,arguments);}return getTreatmentWeights;}()}]);return TreatmentRepository;}();/* harmony default export */var BeagleTreatmentRepository=TreatmentRepository;;// CONCATENATED MODULE: ./src/BeagleApplyActions/replace-utils.js
function replace_utils_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=replace_utils_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function replace_utils_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return replace_utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return replace_utils_arrayLikeToArray(o,minLen);}function replace_utils_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var replace_utils_logger=new src_logger("ReplaceUtils");var replacer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(value,replaceFn){var _iterator,_step,_step$value,i,val,currentReplaceFn,replaceVal,_iterator2,_step2,rFn,_replaceVal,_replaceVal2;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!Array.isArray(value)){_context.next=27;break;}_iterator=replace_utils_createForOfIteratorHelper(value.entries());_context.prev=2;_iterator.s();case 4:if((_step=_iterator.n()).done){_context.next=17;break;}_step$value=_slicedToArray(_step.value,2),i=_step$value[0],val=_step$value[1];currentReplaceFn=Array.isArray(replaceFn)?replaceFn[i]:replaceFn||"";if(!(_typeof(currentReplaceFn)==="object")){_context.next=14;break;}_context.next=10;return replaceObjectExtractor(currentReplaceFn);case 10:replaceVal=_context.sent;value[i]=replaceAll(val,"{{REPLACE}}",replaceVal);_context.next=15;break;case 14:value[i]=replaceFnExecutor(currentReplaceFn,val);case 15:_context.next=4;break;case 17:_context.next=22;break;case 19:_context.prev=19;_context.t0=_context["catch"](2);_iterator.e(_context.t0);case 22:_context.prev=22;_iterator.f();return _context.finish(22);case 25:_context.next=61;break;case 27:if(!Array.isArray(replaceFn)){_context.next=53;break;}_iterator2=replace_utils_createForOfIteratorHelper(replaceFn);_context.prev=29;_iterator2.s();case 31:if((_step2=_iterator2.n()).done){_context.next=43;break;}rFn=_step2.value;if(!(_typeof(rFn)==="object")){_context.next=40;break;}_context.next=36;return replaceObjectExtractor(rFn);case 36:_replaceVal=_context.sent;value=value.replace("{{REPLACE}}",_replaceVal);_context.next=41;break;case 40:value=replaceFnExecutor(rFn,value,true);case 41:_context.next=31;break;case 43:_context.next=48;break;case 45:_context.prev=45;_context.t1=_context["catch"](29);_iterator2.e(_context.t1);case 48:_context.prev=48;_iterator2.f();return _context.finish(48);case 51:_context.next=61;break;case 53:if(!(_typeof(replaceFn)==="object")){_context.next=60;break;}_context.next=56;return replaceObjectExtractor(replaceFn);case 56:_replaceVal2=_context.sent;value=replaceAll(value,"{{REPLACE}}",_replaceVal2);_context.next=61;break;case 60:value=replaceFnExecutor(replaceFn,value);case 61:return _context.abrupt("return",value);case 62:case"end":return _context.stop();}}},_callee,null,[[2,19,22,25],[29,45,48,51]]);}));return function replacer(_x,_x2){return _ref.apply(this,arguments);};}();function replaceFnExecutor(replaceFn,value){var single=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(replaceFn&&value.includes("{{REPLACE}}")){replace_utils_logger.log("Executing replace function: ",replaceFn);var replaceFunction=Function(replaceFn);if(single)return value.replace("{{REPLACE}}",replaceFunction());return replaceAll(value,"{{REPLACE}}",replaceFunction());}return value;}function replaceObjectExtractor(_x3){return _replaceObjectExtractor.apply(this,arguments);}function _replaceObjectExtractor(){_replaceObjectExtractor=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(replaceFn){var storage,key,keyFallback,type,replaceVal,_replaceVal3;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:storage=replaceFn.storage,key=replaceFn.key,keyFallback=replaceFn.keyFallback,type=replaceFn.type;_context2.t0=storage;_context2.next=_context2.t0==="session"?4:_context2.t0==="info-layer"?18:26;break;case 4:replaceVal=null;replaceVal=window.sessionStorage.getItem(key);if(!replaceVal)replaceVal=window.sessionStorage.getItem(keyFallback);if(!type){_context2.next=17;break;}_context2.prev=8;replaceVal=JSON.parse(replaceVal);replaceVal=replaceVal[replaceVal.length-1][type];_context2.next=17;break;case 13:_context2.prev=13;_context2.t1=_context2["catch"](8);replace_utils_logger.failed("Could not parse ".concat(replaceVal));return _context2.abrupt("return",null);case 17:return _context2.abrupt("return",replaceVal);case 18:_context2.next=20;return getFromBeagleInfoLayer(key);case 20:_replaceVal3=_context2.sent;if(_replaceVal3){_context2.next=25;break;}_context2.next=24;return getFromBeagleInfoLayer(keyFallback);case 24:_replaceVal3=_context2.sent;case 25:return _context2.abrupt("return",_replaceVal3);case 26:case"end":return _context2.stop();}}},_callee2,null,[[8,13]]);}));return _replaceObjectExtractor.apply(this,arguments);}/* harmony default export */var replace_utils=replacer;;// CONCATENATED MODULE: ./src/GlovProductInfoRepository/store.config.js
var store_config_config={dbName:"beagle_cache",version:1,store:{name:"infoCache",indexes:[{name:"ix_sku",fields:"sku"}],options:{keyPath:"sku"}}};/* harmony default export */var GlovProductInfoRepository_store_config=store_config_config;;// CONCATENATED MODULE: ./src/GlovProductInfoRepository/index.js
function GlovProductInfoRepository_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=GlovProductInfoRepository_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function GlovProductInfoRepository_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return GlovProductInfoRepository_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GlovProductInfoRepository_arrayLikeToArray(o,minLen);}function GlovProductInfoRepository_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var GlovProductInfoRepository_logger=new src_logger("GlovProductInfoRepository");var GlovProductInfoRepository=/*#__PURE__*/function(){function GlovProductInfoRepository(){_classCallCheck(this,GlovProductInfoRepository);this.indexedDB=null;this.init();}_createClass(GlovProductInfoRepository,[{key:"init",value:function init(){var _window$top$indexedDB,_this=this;GlovProductInfoRepository_logger.log("Initializing indexedDB");var openRequest=(_window$top$indexedDB=window.top.indexedDB)===null||_window$top$indexedDB===void 0?void 0:_window$top$indexedDB.open(GlovProductInfoRepository_store_config.dbName,GlovProductInfoRepository_store_config.version);if(!openRequest){throw new Error("indexeddb is not supported");}openRequest.onupgradeneeded=function(event){switch(event.oldVersion){case 0:break;default:// TODO upgrade existing db instead of delete and create from scratch
try{openRequest.result.deleteObjectStore(GlovProductInfoRepository_store_config.store.name);}catch(err){GlovProductInfoRepository_logger.failed("Could not delete outdated database",err.message);}break;}try{var _config$store$indexes;var store=openRequest.result.createObjectStore(GlovProductInfoRepository_store_config.store.name,GlovProductInfoRepository_store_config.store.options);if(((_config$store$indexes=GlovProductInfoRepository_store_config.store.indexes)===null||_config$store$indexes===void 0?void 0:_config$store$indexes.length)>0){var _iterator=GlovProductInfoRepository_createForOfIteratorHelper(GlovProductInfoRepository_store_config.store.indexes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var idx=_step.value;store.createIndex(idx.name,idx.fields);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}}catch(err){GlovProductInfoRepository_logger.failed("Could not create object store on database",err.message);}};openRequest.onerror=function(){throw new Error("Error initializing beagle_cache indexed DB",openRequest.error);};openRequest.onsuccess=function(){_this.indexedDB=openRequest.result;};}},{key:"getConnection",value:function getConnection(){var _this2=this;return new Promise(function(resolve,reject){var interval=setInterval(function(){if(_this2.indexedDB){clearInterval(interval);resolve();}},25);setTimeout(function(){if(!_this2.indexedDB){clearInterval(interval);reject(new Error("IndexedDB not initialized within the allotted time"));}},1000);});}},{key:"initTransaction",value:function(){var _initTransaction=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var readwrite,tx,_args=arguments;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:readwrite=_args.length>0&&_args[0]!==undefined?_args[0]:false;_context.next=3;return this.getConnection();case 3:tx=this.indexedDB.transaction(GlovProductInfoRepository_store_config.store.name,readwrite?"readwrite":"readonly");return _context.abrupt("return",tx.objectStore(GlovProductInfoRepository_store_config.store.name));case 5:case"end":return _context.stop();}}},_callee,this);}));function initTransaction(){return _initTransaction.apply(this,arguments);}return initTransaction;}()},{key:"save",value:function(){var _save=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(payload){var store,timestamp,_iterator2,_step2,load;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.initTransaction(true);case 2:store=_context2.sent;timestamp=Math.round(Date.now()/1000);if(Array.isArray(payload)){_iterator2=GlovProductInfoRepository_createForOfIteratorHelper(payload);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){load=_step2.value;load.timestamp=timestamp;store.put(load);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}else{payload.timestamp=timestamp;store.put(payload);}case 5:case"end":return _context2.stop();}}},_callee2,this);}));function save(_x){return _save.apply(this,arguments);}return save;}()},{key:"clear",value:function(){var _clear=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var _this3=this;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",new Promise(function(resolve){_this3.initTransaction(true).then(function(store){var clearRequest=store.clear();clearRequest.onsuccess=function(){resolve();};clearRequest.onerror=function(){GlovProductInfoRepository_logger.failed("Error clearing store: ".concat(store.name));resolve(null);};});}));case 1:case"end":return _context3.stop();}}},_callee3);}));function clear(){return _clear.apply(this,arguments);}return clear;}()},{key:"get",value:function(){var _get=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(sku){var _this4=this;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",new Promise(function(resolve){_this4.initTransaction().then(function(store){var getRequest=store.get(sku);getRequest.onsuccess=function(){var result=getRequest.result;GlovProductInfoRepository_logger.log("Found value ".concat(result," for key ").concat(sku));resolve(result);};getRequest.onerror=function(){GlovProductInfoRepository_logger.failed("Error getting value for key: ".concat(sku),getRequest.onerror);resolve(null);};});}));case 1:case"end":return _context4.stop();}}},_callee4);}));function get(_x2){return _get.apply(this,arguments);}return get;}()},{key:"count",value:function(){var _count=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(){var _this5=this;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",new Promise(function(resolve){_this5.initTransaction().then(function(store){var countRequest=store.count();countRequest.onsuccess=function(){var result=countRequest.result;GlovProductInfoRepository_logger.log("Counted ".concat(result," entries"));resolve(result);};countRequest.onerror=function(){GlovProductInfoRepository_logger.failed("Error counting entries: ",countRequest.onerror);resolve(null);};});}));case 1:case"end":return _context5.stop();}}},_callee5);}));function count(){return _count.apply(this,arguments);}return count;}()},{key:"getCursor",value:function(){var _getCursor=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){var _this6=this;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",new Promise(function(resolve){_this6.initTransaction().then(function(store){var cursorRequest=store.openCursor();cursorRequest.onsuccess=function(event){resolve(event.target.result);};cursorRequest.onerror=function(){GlovProductInfoRepository_logger.failed("Error getting cursor",cursorRequest.onerror);resolve(null);};});}));case 1:case"end":return _context6.stop();}}},_callee6);}));function getCursor(){return _getCursor.apply(this,arguments);}return getCursor;}()},{key:"persistProductInfo",value:function(){var _persistProductInfo=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(){var existingProdInfo,cursor,timestamp,elapsedSeconds,productInfoPromise,clearPromise,_yield$Promise$all,_yield$Promise$all2,productInfoArray;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:addToBeagleInfoLayer("m","check-existing-prod-info");_context7.next=3;return this.count();case 3:existingProdInfo=_context7.sent;if(!existingProdInfo){_context7.next=14;break;}GlovProductInfoRepository_logger.log("Existing product info found");_context7.next=8;return this.getCursor();case 8:cursor=_context7.sent;timestamp=cursor.value.timestamp;elapsedSeconds=Date.now()/1000-timestamp;// Re-fetch product info once a day
if(!(elapsedSeconds<86400)){_context7.next=13;break;}return _context7.abrupt("return");case 13:GlovProductInfoRepository_logger.log("Existing product info is expired");case 14:addToBeagleInfoLayer("m","fetching-prod-info");productInfoPromise=fetchProductInfo();clearPromise=this.clear();_context7.next=19;return Promise.all([productInfoPromise,clearPromise]);case 19:_yield$Promise$all=_context7.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,1);productInfoArray=_yield$Promise$all2[0];if(!(!productInfoArray||!productInfoArray.length)){_context7.next=24;break;}return _context7.abrupt("return");case 24:addToBeagleInfoLayer("m","fetched-prod-info");_context7.next=27;return this.save(this.preparePayloads(productInfoArray));case 27:addToBeagleInfoLayer("m","persisted-prod-info");case 28:case"end":return _context7.stop();}}},_callee7,this);}));function persistProductInfo(){return _persistProductInfo.apply(this,arguments);}return persistProductInfo;}()},{key:"preparePayloads",value:function preparePayloads(productInfoArray){var payloads=[];var fieldNames=productInfoArray.shift();fieldNames.shift();var _iterator3=GlovProductInfoRepository_createForOfIteratorHelper(productInfoArray),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var info=_step3.value;var payload={sku:info.shift()};for(var i=0;i<fieldNames.length;i++){payload[fieldNames[i]]=info[i]||0;}payloads.push(payload);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return payloads;}}]);return GlovProductInfoRepository;}();/* harmony default export */var src_GlovProductInfoRepository=GlovProductInfoRepository;;// CONCATENATED MODULE: ./src/GlovProductInfoRepository/store.js
var Store=function(){var instance=null;return{getInstance:function getInstance(){if(instance===null){instance=new src_GlovProductInfoRepository();// Hide the constructor so the returned object can't be new'd...
instance.constructor=null;}return instance;}};}();/* harmony default export */var store=Store;;// CONCATENATED MODULE: ./src/BeagleApplyActions/action-condition-util.js
var action_condition_util_logger=new src_logger("ActionConditionUtils");var checkActionCondition=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(condition){var eligibleElements,attribute,inner_condition,operator,selector,type,value,chain,conditionElements,_i,_conditionElements,element;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:action_condition_util_logger.log("Action condition found: ",condition);eligibleElements=[];attribute=condition.attribute,inner_condition=condition.inner_condition,operator=condition.operator,selector=condition.selector,type=condition.type,value=condition.value,chain=condition.chain;conditionElements=Array.from(window.top.document.querySelectorAll(selector));_i=0,_conditionElements=conditionElements;case 5:if(!(_i<_conditionElements.length)){_context.next=14;break;}element=_conditionElements[_i];_context.next=9;return actionConditionChecker(element,type,operator,attribute,inner_condition,value,chain);case 9:if(!_context.sent){_context.next=11;break;}eligibleElements.push($(element));case 11:_i++;_context.next=5;break;case 14:return _context.abrupt("return",eligibleElements);case 15:case"end":return _context.stop();}}},_callee);}));return function checkActionCondition(_x){return _ref.apply(this,arguments);};}();var actionConditionChecker=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(element,type,operator,attribute,inner_condition,value,chain){var elementSku,productInfo,runTimeValue,res,_runTimeValue,_res;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=type;_context2.next=_context2.t0==="productInfoLookup"?3:20;break;case 3:elementSku=element.getAttribute(attribute);_context2.next=6;return store.getInstance().get(elementSku);case 6:productInfo=_context2.sent;runTimeValue=productInfo===null||productInfo===void 0?void 0:productInfo[operator];// runTimeValue may be 0
if(!(runTimeValue===null||runTimeValue===undefined)){_context2.next=11;break;}action_condition_util_logger.failed("Product info is empty");return _context2.abrupt("return",false);case 11:if(conditionChecker(runTimeValue,inner_condition,value)){_context2.next=13;break;}return _context2.abrupt("return",false);case 13:if(!chain){_context2.next=19;break;}_context2.next=16;return actionConditionChecker(element,chain.type,chain.operator,chain.attribute,chain.inner_condition,chain.value,chain.chain);case 16:res=_context2.sent;if(res){_context2.next=19;break;}return _context2.abrupt("return",false);case 19:return _context2.abrupt("break",29);case 20:_runTimeValue=element.getAttribute(attribute);if(conditionChecker(_runTimeValue,inner_condition,value)){_context2.next=23;break;}return _context2.abrupt("return",false);case 23:if(!chain){_context2.next=29;break;}_context2.next=26;return actionConditionChecker(element,chain.type,chain.operator,chain.attribute,chain.inner_condition,chain.value,chain.chain);case 26:_res=_context2.sent;if(_res){_context2.next=29;break;}return _context2.abrupt("return",false);case 29:return _context2.abrupt("return",true);case 30:case"end":return _context2.stop();}}},_callee2);}));return function actionConditionChecker(_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _ref2.apply(this,arguments);};}();/* harmony default export */var action_condition_util=checkActionCondition;;// CONCATENATED MODULE: ./src/BeagleApplyActions/index.js
function BeagleApplyActions_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=BeagleApplyActions_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function BeagleApplyActions_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return BeagleApplyActions_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BeagleApplyActions_arrayLikeToArray(o,minLen);}function BeagleApplyActions_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function applyActions(_x){return _applyActions.apply(this,arguments);}function _applyActions(){_applyActions=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(actions){var logger,POPUP_DISPLAY_FLAG,transformer,prepareFinalTitle,replaceWithVal,getProductInfo,handleDocumentTitleTabChange,handlePopupClick,handleModalClick,displayPopup,displayModal,createPopup,swapNodes,waitForJQuery,actionApplicator,result;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:logger=new src_logger("BeagleApplyActions");POPUP_DISPLAY_FLAG=SESSION_STORAGE_KEYS.POPUP_DISPLAY_FLAG;transformer=/*#__PURE__*/function(){var _transformer=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(action){var element,operator,type,applyEvent,contentSelector,selector,selectorFallback,mdCondition,move_selector_1,move_selector_2,replaceFn,pType,attribute,productInfoStorage,value,mc,elm,mobile,_iterator,_step,event,_yield$Promise$all,_yield$Promise$all2,r,d,styleChangesMap,_iterator2,_step2,_event,property,propertyValue,n1,n2,source,destination,res,_i,_Array$from,_e$innerText,e,finalTitle,_args=arguments;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:element=_args.length>1&&_args[1]!==undefined?_args[1]:null;logger.log("Applying action: ",JSON.stringify(action));operator=action.operator,type=action.type,applyEvent=action.applyEvent,contentSelector=action.contentSelector,selector=action.selector,selectorFallback=action.selectorFallback,mdCondition=action.mdCondition,move_selector_1=action.move_selector_1,move_selector_2=action.move_selector_2,replaceFn=action.replaceFn,pType=action.pType,attribute=action.attribute,productInfoStorage=action.productInfoStorage;if(!(operator==="noop")){_context.next=6;break;}logger.failed("Noop Operator: No operation is applied on target ");return _context.abrupt("return",true);case 6:value=action.value;// If an element is passed to transformer, selector is relative to passed element
element=element?element.find(selector):$(selector);mc=mdCondition?window.matchMedia(mdCondition).matches:true;if(mc){_context.next=12;break;}logger.failed("Media condition mismatch: ",mdCondition);return _context.abrupt("return",false);case 12:if(!(move_selector_1&&!move_selector_2||move_selector_2&&!move_selector_1)){_context.next=15;break;}logger.failed("Both move selectors are required");return _context.abrupt("return",false);case 15:if(!(move_selector_1&&move_selector_2)){_context.next=24;break;}if($(move_selector_1).length){_context.next=19;break;}logger.failed("Move selector 1 not found: ",move_selector_1);return _context.abrupt("return",false);case 19:if($(move_selector_2).length){_context.next=22;break;}logger.failed("Move selector 2 not found: ",move_selector_2);return _context.abrupt("return",false);case 22:_context.next=39;break;case 24:if(selector){_context.next=29;break;}logger.failed("Selector not specified");return _context.abrupt("return",false);case 29:if(element.length){_context.next=39;break;}if(!(!$(selectorFallback).length&&operator==="remove")){_context.next=32;break;}return _context.abrupt("return",true);case 32:if(!(selector!=="no-selector")){_context.next=39;break;}logger.failed("Selector not found: ",selector);logger.log("Trying fallback selector: ",selectorFallback);if(selectorFallback)element=$(selectorFallback);if(element.length){_context.next=39;break;}logger.failed("Fallback selector not found");return _context.abrupt("return",false);case 39:if(!replaceFn){_context.next=43;break;}_context.next=42;return replace_utils(value,replaceFn);case 42:value=_context.sent;case 43:if(!(operator==="remove")){_context.next=47;break;}if(element.length){logger.log("Removing: ",selector);element.remove();}else logger.log("Cannot found element with selector: ",selector);_context.next=225;break;case 47:if(!(operator==="insert")){_context.next=121;break;}_context.t0=type;_context.next=_context.t0==="before"?51:_context.t0==="after"?55:_context.t0==="append"?58:_context.t0==="modal"?61:_context.t0==="popup"?66:117;break;case 51:logger.log("Inserting before: ",value);if(String(value).includes("nd-add-to-win")){$(".nd-add-to-win").remove();}element.before(value);return _context.abrupt("break",119);case 55:logger.log("Inserting after: ",value);element.after(value);return _context.abrupt("break",119);case 58:logger.log("Appending value: ",value);element.append(value);return _context.abrupt("break",119);case 61:element.off("click");createPopup(value,contentSelector,true);elm=document.querySelector(selector);elm.addEventListener("click",function(e){if(elm==e.target){e.stopPropagation();}displayModal(value,contentSelector);},true);return _context.abrupt("break",119);case 66:if(!(parseInt(sessionStorage.getItem(POPUP_DISPLAY_FLAG))!==0)){_context.next=69;break;}logger.log("Popup already displayed in session");return _context.abrupt("break",119);case 69:logger.log("Creating Popup: ",value);if(!pType){_context.next=74;break;}_context.next=73;return getProductInfo(pType,value,productInfoStorage);case 73:value=_context.sent;case 74:createPopup(value,contentSelector);if(!applyEvent){_context.next=115;break;}mobile=window.matchMedia(MOBILE_MEDIA_QUERY).matches;_iterator=BeagleApplyActions_createForOfIteratorHelper(applyEvent);_context.prev=78;_iterator.s();case 80:if((_step=_iterator.n()).done){_context.next=105;break;}event=_step.value;_context.t1=event;_context.next=_context.t1==="exitIntent"?85:_context.t1==="copyIntent"?100:103;break;case 85:logger.log("Adding exit intent listener");if(!mobile){_context.next=98;break;}window.top.addEventListener("visibilitychange",displayPopup);_context.next=90;return Promise.all([getFromBeagleInfoLayer("r",true),getFromBeagleInfoLayer("d",true)]);case 90:_yield$Promise$all=_context.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2);r=_yield$Promise$all2[0];d=_yield$Promise$all2[1];if(typeof r==="string"&&typeof d==="string"&&!r.includes(d)){if(window.history&&typeof window.history.pushState==="function"){if(window.top.document.readyState!=="complete"){window.top.addEventListener("load",function(){if(window.history.state!=="bg_limbo")window.history.pushState("bg_limbo","");window.top.addEventListener("popstate",displayPopup,{once:true});});}else{if(window.history.state!=="bg_limbo")window.history.pushState("bg_limbo","");window.top.addEventListener("popstate",displayPopup,{once:true});}}}idleTimer(IDLE_TIMEOUT,displayPopup);_context.next=99;break;case 98:window.top.document.documentElement.addEventListener("mouseleave",displayPopup,{once:true});case 99:return _context.abrupt("break",103);case 100:logger.log("Adding copy intent listener");window.top.document.documentElement.addEventListener("copy",displayPopup,{once:true});return _context.abrupt("break",103);case 103:_context.next=80;break;case 105:_context.next=110;break;case 107:_context.prev=107;_context.t2=_context["catch"](78);_iterator.e(_context.t2);case 110:_context.prev=110;_iterator.f();return _context.finish(110);case 113:_context.next=116;break;case 115:// append popup to body after timeout expires
setTimeout(function(){displayPopup();},timeout);case 116:return _context.abrupt("break",119);case 117:logger.failed("Type: ".concat(type," not found for operator: ").concat(operator));return _context.abrupt("break",119);case 119:_context.next=225;break;case 121:if(!(operator==="edit")){_context.next=149;break;}_context.t3=type;_context.next=_context.t3==="text"?125:_context.t3==="html"?128:_context.t3==="styleApplicator"?131:_context.t3==="addClass"?136:_context.t3==="removeClass"?139:_context.t3==="documentTitle"?142:145;break;case 125:logger.log("Editing text: ",value);element.text(value);return _context.abrupt("break",147);case 128:logger.log("Editing html: ",value);element.html(value);return _context.abrupt("break",147);case 131:logger.log("Applying style: ",value);styleChangesMap=JSON.parse(value);logger.log("Style Changes Map: ",styleChangesMap);styleApplicator(element,styleChangesMap);return _context.abrupt("break",147);case 136:logger.log("addding class to ".concat(element," named ").concat(value));element.addClass(value);return _context.abrupt("break",147);case 139:logger.log("remove class from ".concat(element," named ").concat(value));element.removeClass(value);return _context.abrupt("break",147);case 142:logger.log("changing document title from ".concat(element," to ").concat(value));if(applyEvent){_iterator2=BeagleApplyActions_createForOfIteratorHelper(applyEvent);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_event=_step2.value;if(_event=="tabChange"){(function(){logger.log("catching event tabchange..");var originalTitle=window.top.document.title;window.top.document.addEventListener("visibilitychange",function(e){setTimeout(function(){handleDocumentTitleTabChange(e,value,originalTitle);},15000);});})();}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return _context.abrupt("break",147);case 145:logger.log("Unknown edit type: ",type);return _context.abrupt("break",147);case 147:_context.next=225;break;case 149:if(!(operator==="setattribute")){_context.next=166;break;}logger.log("Setting attribute: ",attribute,value);_context.t4=attribute;_context.next=_context.t4==="src"?154:_context.t4==="style"?156:160;break;case 154:element.css("content","url(".concat(value.trim(),")"));return _context.abrupt("break",164);case 156:// eslint-disable-next-line no-case-declarations
property=value.split(":")[0].trim();// eslint-disable-next-line no-case-declarations
propertyValue=value.split(":")[1].trim();element.css(property,propertyValue,"!important");return _context.abrupt("break",164);case 160:if(value.includes("function")){value=Function(value);}element.attr(attribute,value);logger.log("Unhandled attribute: Setting attribute: ",attribute,value);return _context.abrupt("break",164);case 164:_context.next=225;break;case 166:if(!(operator==="replace")){_context.next=171;break;}logger.log("Replacing: ",value);element.replaceAll(value);_context.next=225;break;case 171:if(!(operator==="swap")){_context.next=178;break;}logger.log("Swapping: ",move_selector_1,move_selector_2);n1=window.top.document.querySelector(move_selector_1);n2=window.top.document.querySelector(move_selector_2);swapNodes(n1,n2);_context.next=225;break;case 178:if(!(operator==="injectscript")){_context.next=183;break;}logger.log("Injecting script: ",value);element.append("<script>".concat(value,"</script>"));_context.next=225;break;case 183:if(!(operator==="move")){_context.next=191;break;}logger.log("Moving ".concat(move_selector_1," to ").concat(move_selector_2));source=window.top.document.querySelector(move_selector_1);destination=window.top.document.querySelector(move_selector_2);source.remove();destination.prepend(source);_context.next=225;break;case 191:if(!(operator==="productInfoLookup")){_context.next=198;break;}_context.next=194;return getProductInfo(pType,value,productInfoStorage);case 194:res=_context.sent;element.before(res);_context.next=225;break;case 198:if(!(operator==="text-transform")){_context.next=217;break;}_context.t5=type;_context.next=_context.t5==="capitalize"?202:_context.t5==="PLACEHOLDER"?213:214;break;case 202:_i=0,_Array$from=Array.from(element);case 203:if(!(_i<_Array$from.length)){_context.next=212;break;}e=_Array$from[_i];if(!((_e$innerText=e.innerText)!==null&&_e$innerText!==void 0&&_e$innerText.includes("\n"))){_context.next=208;break;}e.innerText=turkishToLower(e.innerText).split("\n").map(function(sentence){return sentence.split(" ").map(function(word){return word.charAt(0).toLocaleUpperCase()+word.slice(1);}).join(" ");}).join("\n");return _context.abrupt("continue",209);case 208:e.innerText=turkishToLower(e.innerText).split(" ").map(function(word){return word.charAt(0).toLocaleUpperCase()+word.slice(1);}).join(" ");case 209:_i++;_context.next=203;break;case 212:return _context.abrupt("break",215);case 213:return _context.abrupt("break",215);case 214:return _context.abrupt("break",215);case 215:_context.next=225;break;case 217:if(!(operator==="title-change")){_context.next=224;break;}_context.next=220;return prepareFinalTitle();case 220:finalTitle=_context.sent;element.text(finalTitle);_context.next=225;break;case 224:logger.failed("No such operator exists yet",operator);case 225:case"end":return _context.stop();}}},_callee,null,[[78,107,110,113]]);}));function transformer(_x2){return _transformer.apply(this,arguments);}return transformer;}();prepareFinalTitle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){var _yield$getFromBeagleI,name,sku,productInfo,res;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getFromBeagleInfoLayer("pdp",true);case 2:_yield$getFromBeagleI=_context2.sent;name=_yield$getFromBeagleI.name;sku=_yield$getFromBeagleI.sku;_context2.next=7;return store.getInstance().get(sku);case 7:productInfo=_context2.sent;res=name+productInfo.titleAugment+"("+sku+")";return _context2.abrupt("return",res);case 10:case"end":return _context2.stop();}}},_callee2);}));return function prepareFinalTitle(){return _ref.apply(this,arguments);};}();replaceWithVal=function replaceWithVal(value,htmlStr){if(value&&htmlStr.includes("{{REPLACE_PRODUCTINFO}}")){htmlStr=replaceAll(htmlStr,"{{REPLACE_PRODUCTINFO}}",value);}return htmlStr;};getProductInfo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(type,value,productInfoStorage){var skuList,res,productInfo;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(productInfoStorage==="basket")){_context3.next=6;break;}_context3.next=3;return getFromBeagleInfoLayer("__features.SKUsonLastCartView",true);case 3:_context3.t0=_context3.sent;_context3.next=9;break;case 6:_context3.next=8;return getFromBeagleInfoLayer("__features.SKUsonPage",true);case 8:_context3.t0=_context3.sent;case 9:skuList=_context3.t0;res=null;if(!(!skuList||skuList.length===0)){_context3.next=14;break;}logger.log("No sku found");return _context3.abrupt("return",null);case 14:_context3.next=16;return store.getInstance().get(skuList[0]);case 16:productInfo=_context3.sent;_context3.t1=type;_context3.next=_context3.t1==="transactionIn2Weeks"?20:_context3.t1==="addToCartIn2Weeks"?23:_context3.t1==="productViewCount"?26:29;break;case 20:res=replaceWithVal(productInfo.saleCntVisitorsIn15.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),value);logger.log("Replacing transcationIn2Weeks ",productInfo.saleCntVisitorsIn15);return _context3.abrupt("break",30);case 23:res=replaceWithVal(productInfo.cartCntVisitorsIn15.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),value);logger.log("Replacing AddToCartCount ",productInfo.cartCntVisitorsIn15);return _context3.abrupt("break",30);case 26:res=replaceWithVal(productInfo.viewCntVisitorsIn1.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),value);logger.log("Replacing productViewCount for",productInfo.viewCntVisitorsIn1);return _context3.abrupt("break",30);case 29:logger.failed("no such type found for productInfoLookup operator: "+type);case 30:return _context3.abrupt("return",res);case 31:case"end":return _context3.stop();}}},_callee3);}));return function getProductInfo(_x3,_x4,_x5){return _ref2.apply(this,arguments);};}();handleDocumentTitleTabChange=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(event,titles,originalTitle){var parsedTitles,_iterator3,_step3,parsedTitle;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:parsedTitles=!Array.isArray(titles)?[titles]:titles;_iterator3=BeagleApplyActions_createForOfIteratorHelper(parsedTitles);_context4.prev=2;_iterator3.s();case 4:if((_step3=_iterator3.n()).done){_context4.next=18;break;}parsedTitle=_step3.value;if(!window.top.document.hidden){_context4.next=15;break;}window.top.document.title=parsedTitle;_context4.next=10;return delay(2000);case 10:window.top.document.title=originalTitle;_context4.next=13;return delay(2000);case 13:_context4.next=16;break;case 15:window.top.document.title=originalTitle;case 16:_context4.next=4;break;case 18:_context4.next=23;break;case 20:_context4.prev=20;_context4.t0=_context4["catch"](2);_iterator3.e(_context4.t0);case 23:_context4.prev=23;_iterator3.f();return _context4.finish(23);case 26:if(!window.top.document.hidden){window.top.document.title=originalTitle;}else{handleDocumentTitleTabChange(event,titles,originalTitle);}case 27:case"end":return _context4.stop();}}},_callee4,null,[[2,20,23,26]]);}));return function handleDocumentTitleTabChange(_x6,_x7,_x8){return _ref3.apply(this,arguments);};}();handlePopupClick=function handlePopupClick(event){var id=event.target.id;if(id&&id==="nd-popup__wrapper"){$("#nd-popup__wrapper").remove();window.removeEventListener("click",handlePopupClick,true);window.removeEventListener("touchend",handlePopupClick,true);}};handleModalClick=function handleModalClick(event){var classList=event.target.classList;if(classList&&classList.contains("nd-modal__wrapper")){$(".nd-modal__wrapper").hide();window.removeEventListener("click",handleModalClick,true);window.removeEventListener("touchend",handleModalClick,true);}};displayPopup=function displayPopup(){if(window.top.document.hidden)return;if(parseInt(sessionStorage.getItem(POPUP_DISPLAY_FLAG))>0)return;sessionStorage.setItem(POPUP_DISPLAY_FLAG,1);var qPopup=window.top.document.querySelector("#grt-shadow-host");if(qPopup)qPopup.style["display"]="none";window.top.document.getElementById("nd-popup__wrapper").style["display"]="block";window.addEventListener("click",handlePopupClick,true);window.addEventListener("touchend",handlePopupClick,true);window.top.document.documentElement.removeEventListener("mouseleave",displayPopup,{once:true});window.top.document.documentElement.removeEventListener("copy",displayPopup,{once:true});window.top.removeEventListener("visibilitychange",displayPopup);window.top.removeEventListener("popstate",displayPopup,{once:true});setTimeout(function(){$("#nd-popup__wrapper").remove();window.removeEventListener("click",handlePopupClick,true);window.removeEventListener("touchend",handlePopupClick,true);},15000);};displayModal=function displayModal(value,contentSelector){if(window.top.document.hidden)return;var qPopup=window.top.document.querySelector("#grt-shadow-host");if(qPopup)qPopup.style["display"]="none";if(!window.top.document.querySelector(".nd-modal__wrapper"))createPopup(value,contentSelector,true);window.top.document.querySelector(".nd-modal__wrapper").style["display"]="block";window.addEventListener("click",handleModalClick,true);};createPopup=function createPopup(value,contentSelector){var isModal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;// Create popup wrapper
var popupWrapper=window.top.document.createElement("div");// eslint-disable-next-line max-len
popupWrapper.classList.add("nd-popup__wrapper");if(isModal)popupWrapper.classList.add("nd-modal__wrapper");if(!isModal)popupWrapper.id="nd-popup__wrapper";// Create popup close button
var popupCloseButton=window.top.document.createElement("button");var popupCloseButtonStyle=isModal?"nd-popup__button-close__colored":"nd-popup__button-close";popupCloseButton.classList.add(popupCloseButtonStyle);popupCloseButton.innerText="X";if(isModal){popupCloseButton.onclick=function(){$(".nd-modal__wrapper").hide();window.removeEventListener("click",handleModalClick,true);};}else{popupCloseButton.onclick=function(){$("#nd-popup__wrapper").remove();window.removeEventListener("click",handlePopupClick,true);};}if(contentSelector){var contents=Array.from(window.top.document.querySelectorAll(contentSelector));while(value.includes("{{REPLACE}}")&&contents.length>0){value=value.replace("{{REPLACE}}",contents.shift().src);}}// Create popup from action and append close button
var template=window.top.document.createElement("template");template.innerHTML=value.trim();var popup=template.content.firstChild;popup.appendChild(popupCloseButton);popupWrapper.appendChild(popup);// Remove old popup if exists before appending new one
$("#nd-popup__wrapper").remove();window.top.document.body.appendChild(popupWrapper);};swapNodes=function swapNodes(n1,n2){var p1=n1.parentNode;var p2=n2.parentNode;var i1;var i2;if(!p1||!p2||p1.isEqualNode(n2)||p2.isEqualNode(n1))return;for(var i=0;i<p1.children.length;i++){if(p1.children[i].isEqualNode(n1)){i1=i;}}for(var _i2=0;_i2<p2.children.length;_i2++){if(p2.children[_i2].isEqualNode(n2)){i2=_i2;}}if(p1.isEqualNode(p2)&&i1<i2){i2++;}p1.insertBefore(n2,p1.children[i1]);p2.insertBefore(n1,p2.children[i2]);};waitForJQuery=function waitForJQuery(){return new Promise(function(resolve){if(!window.jQuery){logger.log("jQuery not found, retrying");var jQueryInterval=setInterval(function(){if(window.jQuery){clearInterval(jQueryInterval);resolve(true);}},25);setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(){return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:clearInterval(jQueryInterval);resolve(false);case 2:case"end":return _context5.stop();}}},_callee5);})),2000);}else resolve(true);});};actionApplicator=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(actions){var _iterator4,_step4,action,_result,eligibleElements,_iterator5,_step5,element;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return waitForJQuery();case 2:if(!_context6.sent){_context6.next=59;break;}_iterator4=BeagleApplyActions_createForOfIteratorHelper(actions);_context6.prev=4;_iterator4.s();case 6:if((_step4=_iterator4.n()).done){_context6.next=49;break;}action=_step4.value;_context6.prev=8;_result=false;if(!action.condition){_context6.next=36;break;}_context6.next=13;return action_condition_util(action.condition);case 13:eligibleElements=_context6.sent;_iterator5=BeagleApplyActions_createForOfIteratorHelper(eligibleElements);_context6.prev=15;_iterator5.s();case 17:if((_step5=_iterator5.n()).done){_context6.next=26;break;}element=_step5.value;_context6.next=21;return transformer(action,element);case 21:_result=_context6.sent;if(!(_result===false)){_context6.next=24;break;}return _context6.abrupt("return",false);case 24:_context6.next=17;break;case 26:_context6.next=31;break;case 28:_context6.prev=28;_context6.t0=_context6["catch"](15);_iterator5.e(_context6.t0);case 31:_context6.prev=31;_iterator5.f();return _context6.finish(31);case 34:_context6.next=39;break;case 36:_context6.next=38;return transformer(action);case 38:_result=_context6.sent;case 39:if(!(_result===false)){_context6.next=41;break;}return _context6.abrupt("return",false);case 41:_context6.next=47;break;case 43:_context6.prev=43;_context6.t1=_context6["catch"](8);logger.failed("Couldn't apply action ".concat(JSON.stringify(action)," with error ").concat(_context6.t1.message));return _context6.abrupt("return",_context6.t1);case 47:_context6.next=6;break;case 49:_context6.next=54;break;case 51:_context6.prev=51;_context6.t2=_context6["catch"](4);_iterator4.e(_context6.t2);case 54:_context6.prev=54;_iterator4.f();return _context6.finish(54);case 57:_context6.next=61;break;case 59:logger.failed("Jquery not found on window");return _context6.abrupt("return",false);case 61:case"end":return _context6.stop();}}},_callee6,null,[[4,51,54,57],[8,43],[15,28,31,34]]);}));return function actionApplicator(_x9){return _ref5.apply(this,arguments);};}();// Apply actions
_context7.next=17;return actionApplicator(actions);case 17:result=_context7.sent;return _context7.abrupt("return",result);case 19:case"end":return _context7.stop();}}},_callee7);}));return _applyActions.apply(this,arguments);}/* harmony default export */var BeagleApplyActions=applyActions;;// CONCATENATED MODULE: ./node_modules/async-mutex/index.mjs
var E_TIMEOUT=new Error('timeout while waiting for mutex to become available');var E_ALREADY_LOCKED=new Error('mutex already locked');var E_CANCELED=new Error('request for lock canceled');var __awaiter$2= false||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var Semaphore=/*#__PURE__*/function(){function Semaphore(_value){var _cancelError=arguments.length>1&&arguments[1]!==undefined?arguments[1]:E_CANCELED;_classCallCheck2(this,Semaphore);this._value=_value;this._cancelError=_cancelError;this._weightedQueues=[];this._weightedWaiters=[];}_createClass2(Semaphore,[{key:"acquire",value:function acquire(){var _this8=this;var weight=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(weight<=0)throw new Error("invalid weight ".concat(weight,": must be positive"));return new Promise(function(resolve,reject){if(!_this8._weightedQueues[weight-1])_this8._weightedQueues[weight-1]=[];_this8._weightedQueues[weight-1].push({resolve:resolve,reject:reject});_this8._dispatch();});}},{key:"runExclusive",value:function runExclusive(callback){var weight=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return __awaiter$2(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2.mark(function _callee13(){var _yield$this$acquire,_yield$this$acquire2,value,release;return _regeneratorRuntime2.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return this.acquire(weight);case 2:_yield$this$acquire=_context13.sent;_yield$this$acquire2=_slicedToArray2(_yield$this$acquire,2);value=_yield$this$acquire2[0];release=_yield$this$acquire2[1];_context13.prev=6;_context13.next=9;return callback(value);case 9:return _context13.abrupt("return",_context13.sent);case 10:_context13.prev=10;release();return _context13.finish(10);case 13:case"end":return _context13.stop();}}},_callee13,this,[[6,,10,13]]);}));}},{key:"waitForUnlock",value:function waitForUnlock(){var _this9=this;var weight=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(weight<=0)throw new Error("invalid weight ".concat(weight,": must be positive"));return new Promise(function(resolve){if(!_this9._weightedWaiters[weight-1])_this9._weightedWaiters[weight-1]=[];_this9._weightedWaiters[weight-1].push(resolve);_this9._dispatch();});}},{key:"isLocked",value:function isLocked(){return this._value<=0;}},{key:"getValue",value:function getValue(){return this._value;}},{key:"setValue",value:function setValue(value){this._value=value;this._dispatch();}},{key:"release",value:function release(){var weight=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(weight<=0)throw new Error("invalid weight ".concat(weight,": must be positive"));this._value+=weight;this._dispatch();}},{key:"cancel",value:function cancel(){var _this10=this;this._weightedQueues.forEach(function(queue){return queue.forEach(function(entry){return entry.reject(_this10._cancelError);});});this._weightedQueues=[];}},{key:"_dispatch",value:function _dispatch(){var _a;for(var weight=this._value;weight>0;weight--){var queueEntry=(_a=this._weightedQueues[weight-1])===null||_a===void 0?void 0:_a.shift();if(!queueEntry)continue;var previousValue=this._value;var previousWeight=weight;this._value-=weight;weight=this._value+1;queueEntry.resolve([previousValue,this._newReleaser(previousWeight)]);}this._drainUnlockWaiters();}},{key:"_newReleaser",value:function _newReleaser(weight){var _this11=this;var called=false;return function(){if(called)return;called=true;_this11.release(weight);};}},{key:"_drainUnlockWaiters",value:function _drainUnlockWaiters(){for(var weight=this._value;weight>0;weight--){if(!this._weightedWaiters[weight-1])continue;this._weightedWaiters[weight-1].forEach(function(waiter){return waiter();});this._weightedWaiters[weight-1]=[];}}}]);return Semaphore;}();var __awaiter$1= false||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var Mutex=/*#__PURE__*/function(){function Mutex(cancelError){_classCallCheck2(this,Mutex);this._semaphore=new Semaphore(1,cancelError);}_createClass2(Mutex,[{key:"acquire",value:function acquire(){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2.mark(function _callee14(){var _yield$this$_semaphor,_yield$this$_semaphor2,releaser;return _regeneratorRuntime2.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return this._semaphore.acquire();case 2:_yield$this$_semaphor=_context14.sent;_yield$this$_semaphor2=_slicedToArray2(_yield$this$_semaphor,2);releaser=_yield$this$_semaphor2[1];return _context14.abrupt("return",releaser);case 6:case"end":return _context14.stop();}}},_callee14,this);}));}},{key:"runExclusive",value:function runExclusive(callback){return this._semaphore.runExclusive(function(){return callback();});}},{key:"isLocked",value:function isLocked(){return this._semaphore.isLocked();}},{key:"waitForUnlock",value:function waitForUnlock(){return this._semaphore.waitForUnlock();}},{key:"release",value:function release(){if(this._semaphore.isLocked())this._semaphore.release();}},{key:"cancel",value:function cancel(){return this._semaphore.cancel();}}]);return Mutex;}();var __awaiter= false||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};function withTimeout(sync,timeout){var _this12=this;var timeoutError=arguments.length>2&&arguments[2]!==undefined?arguments[2]:E_TIMEOUT;return{acquire:function acquire(weight){if(weight!==undefined&&weight<=0){throw new Error("invalid weight ".concat(weight,": must be positive"));}return new Promise(function(resolve,reject){return __awaiter(_this12,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2.mark(function _callee15(){var isTimeout,handle,ticket,release;return _regeneratorRuntime2.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:isTimeout=false;handle=setTimeout(function(){isTimeout=true;reject(timeoutError);},timeout);_context15.prev=2;_context15.next=5;return sync.acquire(weight);case 5:ticket=_context15.sent;if(isTimeout){release=Array.isArray(ticket)?ticket[1]:ticket;release();}else{clearTimeout(handle);resolve(ticket);}_context15.next=12;break;case 9:_context15.prev=9;_context15.t0=_context15["catch"](2);if(!isTimeout){clearTimeout(handle);reject(_context15.t0);}case 12:case"end":return _context15.stop();}}},_callee15,null,[[2,9]]);}));});},runExclusive:function runExclusive(callback,weight){return __awaiter(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2.mark(function _callee16(){var release,ticket;return _regeneratorRuntime2.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:release=function release(){return undefined;};_context16.prev=1;_context16.next=4;return this.acquire(weight);case 4:ticket=_context16.sent;if(!Array.isArray(ticket)){_context16.next=12;break;}release=ticket[1];_context16.next=9;return callback(ticket[0]);case 9:return _context16.abrupt("return",_context16.sent);case 12:release=ticket;_context16.next=15;return callback();case 15:return _context16.abrupt("return",_context16.sent);case 16:_context16.prev=16;release();return _context16.finish(16);case 19:case"end":return _context16.stop();}}},_callee16,this,[[1,,16,19]]);}));},release:function release(weight){sync.release(weight);},cancel:function cancel(){return sync.cancel();},waitForUnlock:function waitForUnlock(weight){if(weight!==undefined&&weight<=0){throw new Error("invalid weight ".concat(weight,": must be positive"));}return new Promise(function(resolve,reject){sync.waitForUnlock(weight).then(resolve);setTimeout(function(){return reject(timeoutError);},timeout);});},isLocked:function isLocked(){return sync.isLocked();},getValue:function getValue(){return sync.getValue();},setValue:function setValue(value){return sync.setValue(value);}};}// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types
function tryAcquire(sync){var alreadyAcquiredError=arguments.length>1&&arguments[1]!==undefined?arguments[1]:E_ALREADY_LOCKED;// eslint-disable-next-line @typescript-eslint/no-explicit-any
return withTimeout(sync,0,alreadyAcquiredError);};// CONCATENATED MODULE: ./src/BeagleOn/robotEngine.js
function robotEngine_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=robotEngine_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function robotEngine_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return robotEngine_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return robotEngine_arrayLikeToArray(o,minLen);}function robotEngine_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var robotEngine_logger=new src_logger("BeagleRobotEngine");var OBSERVER_CONFIG={subtree:true,childList:true,attributes:true};var RobotEngine=/*#__PURE__*/function(){function RobotEngine(body){_classCallCheck(this,RobotEngine);var debugFilteredTreatments=body.debugFilteredTreatments,debugMode=body.debugMode,matchedTreatments=body.matchedTreatments,identifier=body.identifier,pageType=body.pageType;this.engagementLock={};this.pageType=pageType;this.debugMode=debugMode;this.identifier=identifier;this.reApplyTreatmentsMap={};this.addedDataListenerIds=[];this.matchedTreatments=matchedTreatments;this.debugFilteredTreatments=debugFilteredTreatments;this.isMobile=window.matchMedia(MOBILE_MEDIA_QUERY).matches;}_createClass(RobotEngine,[{key:"engageRobots",value:function(){var _engageRobots=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var robotPromises,_iterator,_step,treatment;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:robotPromises=[];_iterator=robotEngine_createForOfIteratorHelper(this.matchedTreatments);_context.prev=2;_iterator.s();case 4:if((_step=_iterator.n()).done){_context.next=17;break;}treatment=_step.value;_context.prev=6;if(!treatment.dependant_on_treatment){_context.next=9;break;}return _context.abrupt("continue",15);case 9:robotPromises.push(this.engageRobot(treatment));_context.next=15;break;case 12:_context.prev=12;_context.t0=_context["catch"](6);robotEngine_logger.failed("Error engaging robot ".concat(treatment.id,": ").concat(_context.t0.message||_context.t0));case 15:_context.next=4;break;case 17:_context.next=22;break;case 19:_context.prev=19;_context.t1=_context["catch"](2);_iterator.e(_context.t1);case 22:_context.prev=22;_iterator.f();return _context.finish(22);case 25:_context.next=27;return Promise.all(robotPromises);case 27:this.initiateReapplyRobotMap();case 28:case"end":return _context.stop();}}},_callee,this,[[2,19,22,25],[6,12]]);}));function engageRobots(){return _engageRobots.apply(this,arguments);}return engageRobots;}()},{key:"engageRobot",value:function(){var _engageRobot=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(treatment){var _this=this;var id,actions,eligibilityRuleSet,device,dependant_on_treatment,businessRuleSet,weight,delay,helpers,debugMode,debugFilteredTreatments,engagementLock,identifier,isMobile,matchedTreatments,prepareAndApply,release,treatmentSkipRatio,determiningIdentifier,treatmentPct,businessRuleId;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:id=treatment.id,actions=treatment.actions,eligibilityRuleSet=treatment.eligibilityRuleSet,device=treatment.device,dependant_on_treatment=treatment.dependant_on_treatment,businessRuleSet=treatment.businessRuleSet,weight=treatment.weight,delay=treatment.delay,helpers=treatment.helpers;debugMode=this.debugMode,debugFilteredTreatments=this.debugFilteredTreatments,engagementLock=this.engagementLock,identifier=this.identifier,isMobile=this.isMobile,matchedTreatments=this.matchedTreatments,prepareAndApply=this.prepareAndApply;// one engagement at a time
engagementLock[id]=engagementLock[id]||new Mutex();_context3.next=5;return engagementLock[id].acquire();case 5:release=_context3.sent;_context3.prev=6;if(!(debugMode&&debugFilteredTreatments&&!debugFilteredTreatments.includes(id))){_context3.next=9;break;}return _context3.abrupt("return");case 9:if(!(device==="mobile"&&!isMobile)){_context3.next=12;break;}robotEngine_logger.failed("Treatment device 'mobile' mismatch");return _context3.abrupt("return");case 12:if(!(device==="desktop"&&isMobile)){_context3.next=15;break;}robotEngine_logger.failed("Treatment device 'desktop' mismatch");return _context3.abrupt("return");case 15:robotEngine_logger.log("Starting base rule set check for treatment: "+id);_context3.t0=!eligibilityRuleSet;if(_context3.t0){_context3.next=21;break;}_context3.next=20;return this.checkEligibilityRuleSet(eligibilityRuleSet);case 20:_context3.t0=_context3.sent;case 21:if(!_context3.t0){_context3.next=55;break;}treatmentSkipRatio=weight===100?0:100-weight||TREATMENT_RATIO;robotEngine_logger.log("Treatment skip ratio: "+treatmentSkipRatio);// Determining identifier for calculating treatment percentage (treatmentPct)
determiningIdentifier=dependant_on_treatment||id;// treatmentPct is the percentage value for the treatment used to determine if it should be skipped or not
// treatmentPct is 100 when debug mode is 1, ensuring no treatments are skipped
if(!(debugMode===1)){_context3.next=29;break;}_context3.t1=100;_context3.next=32;break;case 29:_context3.next=31;return determinePct(identifier+determiningIdentifier);case 31:_context3.t1=_context3.sent;case 32:treatmentPct=_context3.t1;robotEngine_logger.log("TreatmentPct: "+treatmentPct+" with debug mode ".concat(debugMode?"on":"off"));businessRuleId=null;if(!businessRuleSet){_context3.next=41;break;}robotEngine_logger.log("Starting sub variant rule set check for treatment: "+id);_context3.next=39;return this.checkBusinessRules(businessRuleSet);case 39:businessRuleId=_context3.sent;if(businessRuleId!==null){robotEngine_logger.log("Applying business rule transformation with id: ",businessRuleId);}else robotEngine_logger.log("Applying treatment with default values");case 41:if(!(treatmentPct<treatmentSkipRatio)){_context3.next=45;break;}robotEngine_logger.log("Treatment ".concat(id," skipped due to treatment split ratio"));addTreatment(id,businessRuleId,null,"skipped",dependant_on_treatment);return _context3.abrupt("return");case 45:if(delay){_context3.next=52;break;}_context3.next=48;return prepareAndApply(id,identifier,actions,businessRuleId,debugMode);case 48:_context3.next=50;return this.engageHelpers(helpers,matchedTreatments);case 50:_context3.next=53;break;case 52:setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return prepareAndApply(id,identifier,actions,businessRuleId,debugMode);case 2:_context2.next=4;return _this.engageHelpers(helpers,matchedTreatments);case 4:case"end":return _context2.stop();}}},_callee2);})),delay);case 53:_context3.next=56;break;case 55:robotEngine_logger.failed("Rule check failed for treatment:",id);case 56:_context3.prev=56;release();this.addReapplyEvent(treatment);this.addRuleSetDataListeners(treatment);return _context3.finish(56);case 61:case"end":return _context3.stop();}}},_callee3,this,[[6,,56,61]]);}));function engageRobot(_x){return _engageRobot.apply(this,arguments);}return engageRobot;}()},{key:"engageHelpers",value:function(){var _engageHelpers=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(helpers,matchedTreatments){var helperRobotPromises,_iterator2,_step2,treatment;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(Array.isArray(helpers)&&helpers.length)){_context4.next=22;break;}helperRobotPromises=[];_iterator2=robotEngine_createForOfIteratorHelper(matchedTreatments);_context4.prev=3;_iterator2.s();case 5:if((_step2=_iterator2.n()).done){_context4.next=12;break;}treatment=_step2.value;if(helpers.includes(treatment.id)){_context4.next=9;break;}return _context4.abrupt("continue",10);case 9:helperRobotPromises.push(this.engageRobot(treatment));case 10:_context4.next=5;break;case 12:_context4.next=17;break;case 14:_context4.prev=14;_context4.t0=_context4["catch"](3);_iterator2.e(_context4.t0);case 17:_context4.prev=17;_iterator2.f();return _context4.finish(17);case 20:_context4.next=22;return Promise.all(helperRobotPromises);case 22:case"end":return _context4.stop();}}},_callee4,this,[[3,14,17,20]]);}));function engageHelpers(_x2,_x3){return _engageHelpers.apply(this,arguments);}return engageHelpers;}()},{key:"prepareAndApply",value:function(){var _prepareAndApply=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(id,identifier,actions,businessRuleId,debugMode){var _yield$prepareActions,_yield$prepareActions2,prepared,variant,res;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return prepareActions(identifier,actions,businessRuleId,debugMode);case 2:_yield$prepareActions=_context5.sent;_yield$prepareActions2=_slicedToArray(_yield$prepareActions,2);prepared=_yield$prepareActions2[0];variant=_yield$prepareActions2[1];_context5.next=8;return BeagleApplyActions(prepared);case 8:res=_context5.sent;if(res===false){addTreatment(id,businessRuleId,variant,"failed");}else{addTreatment(id,businessRuleId,variant,"applied");}case 10:case"end":return _context5.stop();}}},_callee5);}));function prepareAndApply(_x4,_x5,_x6,_x7,_x8){return _prepareAndApply.apply(this,arguments);}return prepareAndApply;}()},{key:"addReapplyEvent",value:function addReapplyEvent(treatment){var pageType=this.pageType,reApplyTreatmentsMap=this.reApplyTreatmentsMap;var id=treatment.id,reapply_event=treatment.reapply_event,reapply_event_page_type=treatment.reapply_event_page_type;if(reapply_event){if(!reapply_event_page_type||reapply_event_page_type===pageType){var reapply_event_array=reapply_event;if(!Array.isArray(reapply_event))reapply_event_array=[reapply_event];robotEngine_logger.log("Reapply event '".concat(reapply_event,"' found for treatment: ").concat(id));var _iterator3=robotEngine_createForOfIteratorHelper(reapply_event_array),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var reapplyEvent=_step3.value;var previousValue=reApplyTreatmentsMap[reapplyEvent]?reApplyTreatmentsMap[reapplyEvent]:[];if(previousValue.includes(id)){robotEngine_logger.log("Treatment already added for reapply event");}else reApplyTreatmentsMap[reapplyEvent]=[].concat(_toConsumableArray(previousValue),[id]);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}}},{key:"initiateReapplyRobotMap",value:function initiateReapplyRobotMap(){var _this2=this;var reApplyTreatmentsMap=this.reApplyTreatmentsMap,matchedTreatments=this.matchedTreatments;var _loop=function _loop(){var key=_Object$keys[_i];var treatmentIds=reApplyTreatmentsMap[key];var reApplyTreatments=matchedTreatments.filter(function(t){return treatmentIds.includes(t.id);});switch(key){case"infinite_scroll":{var observer=new ResizeObserver(function(){var _iterator4=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var treatment=_step4.value;robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from infinite_scroll"));_this2.engageRobot(treatment);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}});observer.observe(window.top.document.documentElement);}break;case"timeout":{setTimeout(function(){var _iterator5=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var treatment=_step5.value;robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from timeout"));_this2.engageRobot(treatment);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}},500);}break;case"element_change":{var _iterator6=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step6;try{var _loop2=function _loop2(){var treatment=_step6.value;var reapplySelectorList=Array.isArray(treatment.reapply_selector)?treatment.reapply_selector:[treatment.reapply_selector];var _iterator7=robotEngine_createForOfIteratorHelper(reapplySelectorList),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var selector=_step7.value;var element=window.top.document.querySelector(selector);if(element){var _observer=new MutationObserver(function(){robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from element_change"));_this2.engageRobot(treatment);});_observer.observe(element,OBSERVER_CONFIG);}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}};for(_iterator6.s();!(_step6=_iterator6.n()).done;){_loop2();}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}break;case"on_scroll":{// add window scroll listener, call engageRobot on scroll, do not trigger more than once per 250ms
var lastScrollTop=0;var lastScrollTime=0;window.addEventListener("scroll",function(){var now=new Date().getTime();var st=window.pageYOffset||window.top.document.documentElement.scrollTop;if(now-lastScrollTime>250&&Math.abs(lastScrollTop-st)>5){lastScrollTop=st;lastScrollTime=now;var _iterator8=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var treatment=_step8.value;robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from on_scroll"));_this2.engageRobot(treatment);}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}}},false);}break;case"query_search_change":{var queryString=window.location.search;var _observer2=new MutationObserver(function(){if(window.location.search!==queryString){queryString=window.location.search;var _iterator9=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var treatment=_step9.value;robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from query_search_change"));_this2.engageRobot(treatment);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}});_observer2.observe(document,OBSERVER_CONFIG);}break;case"interval":var _iterator10=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step10;try{var _loop3=function _loop3(){var treatment=_step10.value;var reapplyInterval=setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){var applied;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return getFromBeagleInfoLayer("a",true);case 2:applied=_context6.sent;if(!(applied!==null&&applied!==void 0&&applied[treatment.id])){_context6.next=7;break;}clearInterval(reapplyInterval);_context6.next=10;break;case 7:robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from interval"));_context6.next=10;return _this2.engageRobot(treatment);case 10:case"end":return _context6.stop();}}},_callee6);})),50);setTimeout(function(){clearInterval(reapplyInterval);},2500);};for(_iterator10.s();!(_step10=_iterator10.n()).done;){_loop3();}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}break;case"info_layer_change":var _iterator11=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var treatment=_step11.value;var boundEngageTreatment=_this2.engageRobot.bind(_this2,treatment);addDataListener(treatment.reapply_selector,boundEngageTreatment);}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}break;default:robotEngine_logger.failed("Reapply event not found: ",key);break;}};for(var _i=0,_Object$keys=Object.keys(reApplyTreatmentsMap);_i<_Object$keys.length;_i++){_loop();}}},{key:"addRuleSetDataListeners",value:function(){var _addRuleSetDataListeners=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(treatment){var _treatment$eligibilit,eligibilityRuleSet,_treatment$businessRu,businessRuleSet,id,selectors,boundEngageTreatment,_iterator12,_step12,selector;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_treatment$eligibilit=treatment.eligibilityRuleSet,eligibilityRuleSet=_treatment$eligibilit===void 0?[]:_treatment$eligibilit,_treatment$businessRu=treatment.businessRuleSet,businessRuleSet=_treatment$businessRu===void 0?[]:_treatment$businessRu,id=treatment.id;if(!this.addedDataListenerIds.includes(id)){_context7.next=3;break;}return _context7.abrupt("return");case 3:selectors=this.extractDataListenerSelectors([].concat(_toConsumableArray(eligibilityRuleSet),_toConsumableArray(businessRuleSet)));boundEngageTreatment=this.engageRobot.bind(this,treatment);_iterator12=robotEngine_createForOfIteratorHelper(selectors);try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){selector=_step12.value;addDataListener("__eRules.".concat(selector),boundEngageTreatment);}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}this.addedDataListenerIds.push(id);case 8:case"end":return _context7.stop();}}},_callee7,this);}));function addRuleSetDataListeners(_x9){return _addRuleSetDataListeners.apply(this,arguments);}return addRuleSetDataListeners;}()},{key:"extractDataListenerSelectors",value:function extractDataListenerSelectors(ruleSet){var previousSelectors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var selectors=previousSelectors||[];var _iterator13=robotEngine_createForOfIteratorHelper(ruleSet),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var rule=_step13.value;if(typeof rule==="string"){if(rule.startsWith("!"))rule=rule.slice(1);selectors.push(rule.split(".")[0]);continue;}this.extractDataListenerSelectors(rule.set,selectors);}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return _toConsumableArray(new Set(selectors));}},{key:"checkEligibility",value:function(){var _checkEligibility=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee8(eligibilityRule){var oppositeFlag,_eligibilityRule$spli,_eligibilityRule$spli2,eligibilityScope,eligibilityName,res;return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:robotEngine_logger.log("Checking eligibility ".concat(eligibilityRule));oppositeFlag=false;_eligibilityRule$spli=eligibilityRule.split("."),_eligibilityRule$spli2=_slicedToArray(_eligibilityRule$spli,2),eligibilityScope=_eligibilityRule$spli2[0],eligibilityName=_eligibilityRule$spli2[1];if(eligibilityScope.startsWith("!")){oppositeFlag=true;eligibilityScope=eligibilityScope.slice(1);}_context8.next=6;return getFromBeagleInfoLayer("__eRules.".concat(eligibilityScope));case 6:res=_context8.sent;if(!(!res||!Array.isArray(res))){_context8.next=9;break;}return _context8.abrupt("return",false);case 9:if(!(oppositeFlag&&res.includes(eligibilityName))){_context8.next=11;break;}return _context8.abrupt("return",false);case 11:if(!(!oppositeFlag&&!res.includes(eligibilityName))){_context8.next=13;break;}return _context8.abrupt("return",false);case 13:robotEngine_logger.log("".concat(eligibilityRule," is eligible"));return _context8.abrupt("return",true);case 15:case"end":return _context8.stop();}}},_callee8);}));function checkEligibility(_x10){return _checkEligibility.apply(this,arguments);}return checkEligibility;}()},{key:"checkEligibilityRuleSet",value:function(){var _checkEligibilityRuleSet=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee9(eligibilityRuleSet){var eligibilitySetType,previousIsEligible,isEligible,_iterator14,_step14,eligibilityRule,_args9=arguments;return regenerator_default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:eligibilitySetType=_args9.length>1&&_args9[1]!==undefined?_args9[1]:null;previousIsEligible=_args9.length>2&&_args9[2]!==undefined?_args9[2]:null;robotEngine_logger.log("Checking robot eligibility");if(Array.isArray(eligibilityRuleSet)){_context9.next=6;break;}robotEngine_logger.failed("Eligibility Rule Set ".concat(eligibilityRuleSet," is not an array"));return _context9.abrupt("return",false);case 6:isEligible=previousIsEligible;_iterator14=robotEngine_createForOfIteratorHelper(eligibilityRuleSet);_context9.prev=8;_iterator14.s();case 10:if((_step14=_iterator14.n()).done){_context9.next=57;break;}eligibilityRule=_step14.value;if(!(typeof eligibilityRule==="string")){_context9.next=49;break;}if(eligibilitySetType){_context9.next=21;break;}_context9.next=16;return this.checkEligibility(eligibilityRule);case 16:isEligible=_context9.sent;if(isEligible){_context9.next=19;break;}return _context9.abrupt("return",false);case 19:_context9.next=47;break;case 21:if(!eligibilitySetType){_context9.next=47;break;}if(!(isEligible===null)){_context9.next=27;break;}_context9.next=25;return this.checkEligibility(eligibilityRule);case 25:isEligible=_context9.sent;return _context9.abrupt("continue",55);case 27:_context9.t0=eligibilitySetType;_context9.next=_context9.t0==="or"?30:_context9.t0==="and"?37:44;break;case 30:_context9.t1=isEligible;if(_context9.t1){_context9.next=35;break;}_context9.next=34;return this.checkEligibility(eligibilityRule,eligibilitySetType);case 34:_context9.t1=_context9.sent;case 35:isEligible=_context9.t1;return _context9.abrupt("break",47);case 37:_context9.t2=isEligible;if(!_context9.t2){_context9.next=42;break;}_context9.next=41;return this.checkEligibility(eligibilityRule,eligibilitySetType);case 41:_context9.t2=_context9.sent;case 42:isEligible=_context9.t2;return _context9.abrupt("break",47);case 44:robotEngine_logger.failed("Unknown eligibilitySetType: ",eligibilitySetType);isEligible=false;return _context9.abrupt("break",47);case 47:_context9.next=55;break;case 49:if(!(_typeof(eligibilityRule)==="object")){_context9.next=55;break;}_context9.next=52;return this.checkEligibilityRuleSet(eligibilityRule.set,eligibilityRule.type,isEligible);case 52:isEligible=_context9.sent;if(isEligible){_context9.next=55;break;}return _context9.abrupt("return",false);case 55:_context9.next=10;break;case 57:_context9.next=62;break;case 59:_context9.prev=59;_context9.t3=_context9["catch"](8);_iterator14.e(_context9.t3);case 62:_context9.prev=62;_iterator14.f();return _context9.finish(62);case 65:return _context9.abrupt("return",isEligible);case 66:case"end":return _context9.stop();}}},_callee9,this,[[8,59,62,65]]);}));function checkEligibilityRuleSet(_x11){return _checkEligibilityRuleSet.apply(this,arguments);}return checkEligibilityRuleSet;}()// Return index of businessRule, this is the businessRuleId
},{key:"checkBusinessRules",value:function(){var _checkBusinessRules=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee10(businessRuleSet){var _iterator15,_step15,_step15$value,index,businessRule;return regenerator_default().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_iterator15=robotEngine_createForOfIteratorHelper(businessRuleSet.entries());_context10.prev=1;_iterator15.s();case 3:if((_step15=_iterator15.n()).done){_context10.next=11;break;}_step15$value=_slicedToArray(_step15.value,2),index=_step15$value[0],businessRule=_step15$value[1];_context10.next=7;return this.checkEligibilityRuleSet([businessRule]);case 7:if(!_context10.sent){_context10.next=9;break;}return _context10.abrupt("return",index);case 9:_context10.next=3;break;case 11:_context10.next=16;break;case 13:_context10.prev=13;_context10.t0=_context10["catch"](1);_iterator15.e(_context10.t0);case 16:_context10.prev=16;_iterator15.f();return _context10.finish(16);case 19:return _context10.abrupt("return",null);case 20:case"end":return _context10.stop();}}},_callee10,this,[[1,13,16,19]]);}));function checkBusinessRules(_x12){return _checkBusinessRules.apply(this,arguments);}return checkBusinessRules;}()}]);return RobotEngine;}();;// CONCATENATED MODULE: ./src/BeagleRuleEngine/dataLayerChecker.js
var dataLayerChecker_logger=new src_logger("BeagleInfoLayerChecker");var checkDataLayerRule=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(rule){var operator,condition,value,runtimeValue;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dataLayerChecker_logger.log("Checking rule",JSON.stringify(rule));operator=rule.operator,condition=rule.condition,value=rule.value;_context.next=4;return dataLayerFinder(operator);case 4:runtimeValue=_context.sent;return _context.abrupt("return",conditionChecker(runtimeValue,condition,value));case 6:case"end":return _context.stop();}}},_callee);}));return function checkDataLayerRule(_x){return _ref.apply(this,arguments);};}();var dataLayerFinder=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(key){var res;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dataLayerChecker_logger.log("Searching beagleInfoLayer for key ",key);_context2.next=3;return getFromBeagleInfoLayer(key);case 3:res=_context2.sent;if(!(res!==null&&res!==undefined)){_context2.next=7;break;}dataLayerChecker_logger.success("Found key ".concat(key," with value ").concat(res));return _context2.abrupt("return",res);case 7:dataLayerChecker_logger.failed("Key ".concat(key," not found in beagleInfoLayer"));return _context2.abrupt("return",null);case 9:case"end":return _context2.stop();}}},_callee2);}));return function dataLayerFinder(_x2){return _ref2.apply(this,arguments);};}();;// CONCATENATED MODULE: ./src/BeagleRuleEngine/elementChecker.js
var elementChecker_logger=new src_logger("BeagleElementChecker");var checkElementRule=function checkElementRule(rule){elementChecker_logger.log("Checking rule",JSON.stringify(rule));var operator=rule.operator,condition=rule.condition,value=rule.value,selector=rule.selector,selectorAll=rule.selectorAll,_rule$selectorFallbac=rule.selectorFallback,selectorFallback=_rule$selectorFallbac===void 0?null:_rule$selectorFallbac;var mainSelector=selector;if(mainSelector&&!window.top.document.querySelector(mainSelector)){mainSelector=selectorFallback?selectorFallback:mainSelector;}if(operator===null){return conditionChecker(window.top.document.querySelector(mainSelector),condition,value);}if(mainSelector&&!window.top.document.querySelector(mainSelector)){elementChecker_logger.failed("Selector not found on page");return false;}if(selectorAll&&!window.top.document.querySelectorAll(selectorAll)){elementChecker_logger.failed("Selector not found on page");return false;}var element;if(mainSelector)element=window.top.document.querySelector(mainSelector);else if(selectorAll)element=Array.from(window.top.document.querySelectorAll(selectorAll));switch(operator){case"text-number":{var tempVal;if(Array.isArray(element)){tempVal=element.reduce(function(returnVal,elem){returnVal+=parseInt(elem.textContent.replace("TL","").replace(".",""));return returnVal;},0);}else{tempVal=parseInt(window.top.document.querySelector(mainSelector).textContent.replace("TL","").replace(".",""));}var runTimeValue=parseInt(tempVal);return conditionChecker(runTimeValue,condition,value);}case"classList":return conditionChecker(Array.from(element.classList),condition,value);case"count":{if(Array.isArray(element)&&element.length>0){return conditionChecker(element.length,condition,value);}else if(element){return conditionChecker(1,condition,value);}else{return conditionChecker(0,condition,value);}}case"style":{var elementStyles=getComputedStyle(element);var styleKey=value.split(":")[0].trim();var styleValue=value.split(":")[1].trim();var _runTimeValue=elementStyles[styleKey];return conditionChecker(_runTimeValue,condition,styleValue);}default:elementChecker_logger.failed("Operator not defined");return false;}};;// CONCATENATED MODULE: ./src/BeagleRuleEngine/functionChecker.js
var functionChecker_logger=new src_logger("BeagleFunctionChecker");var checkFunctionRule=function checkFunctionRule(rule){functionChecker_logger.log("Checking rule",JSON.stringify(rule));var operator=rule.operator,condition=rule.condition,value=rule.value;if(!operator){functionChecker_logger.failed("Rule function not defined");return false;}var ruleFunction=Function(operator);var runtimeValue=ruleFunction();return conditionChecker(runtimeValue,condition,value);};;// CONCATENATED MODULE: ./src/BeagleRuleEngine/sessionChecker.js
var sessionChecker_logger=new src_logger("BeagleSessionChecker");var checkSessionRule=function checkSessionRule(rule){sessionChecker_logger.log("Checking rule",JSON.stringify(rule));var operator=rule.operator,condition=rule.condition,value=rule.value;switch(operator){case"duration":return durationHandler(condition,value);case"history":return historyHandler(condition,value);default:return null;}};var getSessionTimestamp=function getSessionTimestamp(){try{return new Date(parseInt(window.sessionStorage.getItem(SESSION_STORAGE_KEYS.SESSION_TIMESTAMP)));}catch(err){sessionChecker_logger.failed("Could not get session timestamp",err);return Date.now();}};var durationHandler=function durationHandler(condition,value){var duration=(Date.now()-getSessionTimestamp())/1000;return conditionChecker(duration,condition,parseInt(value));};var historyHandler=function historyHandler(condition,value){var _window$sessionStorag;var currentHistory=(_window$sessionStorag=window.sessionStorage.getItem(SESSION_STORAGE_KEYS.SESSION_HISTORY))===null||_window$sessionStorag===void 0?void 0:_window$sessionStorag.split(",");return conditionChecker(currentHistory,condition,value);};;// CONCATENATED MODULE: ./src/BeagleRuleEngine/urlChecker.js
var urlChecker_logger=new src_logger("BeagleUrlChecker");var checkUrlRule=function checkUrlRule(rule){urlChecker_logger.log("Checking rule",JSON.stringify(rule));var operator=rule.operator,condition=rule.condition,value=rule.value;switch(operator){case"path":{var requestURL=window.top.location.href;var path=new URL(requestURL).pathname;urlChecker_logger.log("Checking path ".concat(path," matches rule path ").concat(value));return conditionChecker(path,condition,value);}case"PLACEHOLDER":{return null;}default:return null;}};;// CONCATENATED MODULE: ./src/BeagleRuleEngine/envChecker.js
var envChecker_logger=new src_logger("BeagleEnvChecker");var checkEnvRule=function checkEnvRule(rule){envChecker_logger.log("Checking rule",JSON.stringify(rule));var operator=rule.operator,condition=rule.condition,value=rule.value;switch(operator){case"device_type":{var isMobile=window.matchMedia(MOBILE_MEDIA_QUERY).matches?"mobile":"desktop";return conditionChecker(isMobile,condition,value);}case"PLACEHOLDER":{return null;}default:return null;}};;// CONCATENATED MODULE: ./src/BeagleRuleEngine/productInfoChecker.js
var productInfoChecker_logger=new src_logger("BeagleProductInfoChecker");var checkProductInfoRule=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(rule){var _skuList$Object$keys$;var operator,condition,value,skuList,runtimeValue,sku;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:productInfoChecker_logger.log("Checking rule",JSON.stringify(rule));operator=rule.operator,condition=rule.condition,value=rule.value;_context.next=4;return getFromBeagleInfoLayer("__features.SKUsonPage",true);case 4:skuList=_context.sent;if(!(!skuList||_typeof(skuList)==="object"&&!Object.keys(skuList).length)){_context.next=7;break;}return _context.abrupt("return",false);case 7:runtimeValue=null;sku=(_skuList$Object$keys$=skuList[Object.keys(skuList)[0]])===null||_skuList$Object$keys$===void 0?void 0:_skuList$Object$keys$.id;_context.t0=operator;_context.next=_context.t0==="transactionIn2Weeks"?12:_context.t0==="addToCartIn2Weeks"?17:_context.t0==="productViewCount"?22:27;break;case 12:productInfoChecker_logger.log("Getting TransactionCount for sku ",sku);_context.next=15;return getTransactionCount(sku);case 15:runtimeValue=_context.sent;return _context.abrupt("break",27);case 17:productInfoChecker_logger.log("Getting AddToCartCount for sku ",sku);_context.next=20;return getAddToCartCount(sku);case 20:runtimeValue=_context.sent;return _context.abrupt("break",27);case 22:productInfoChecker_logger.log("Getting productViewCount for sku ",sku);_context.next=25;return getPreviewCount(sku);case 25:runtimeValue=_context.sent;return _context.abrupt("break",27);case 27:return _context.abrupt("return",conditionChecker(runtimeValue,condition,value));case 28:case"end":return _context.stop();}}},_callee);}));return function checkProductInfoRule(_x){return _ref.apply(this,arguments);};}();var getTransactionCount=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(sku){var productInfo;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return store.getInstance().get(sku);case 2:productInfo=_context2.sent;if(!(sku&&productInfo)){_context2.next=5;break;}return _context2.abrupt("return",productInfo.saleCntVisitorsIn15);case 5:return _context2.abrupt("return",-1);case 6:case"end":return _context2.stop();}}},_callee2);}));return function getTransactionCount(_x2){return _ref2.apply(this,arguments);};}();var getAddToCartCount=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(sku){var productInfo;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return store.getInstance().get(sku);case 2:productInfo=_context3.sent;if(!(sku&&productInfo)){_context3.next=5;break;}return _context3.abrupt("return",productInfo.cartCntVisitorsIn15);case 5:return _context3.abrupt("return",-1);case 6:case"end":return _context3.stop();}}},_callee3);}));return function getAddToCartCount(_x3){return _ref3.apply(this,arguments);};}();var getPreviewCount=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(sku){var productInfo;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return store.getInstance().get(sku);case 2:productInfo=_context4.sent;if(!(sku&&productInfo)){_context4.next=5;break;}return _context4.abrupt("return",productInfo.viewCntVisitorsIn1);case 5:return _context4.abrupt("return",-1);case 6:case"end":return _context4.stop();}}},_callee4);}));return function getPreviewCount(_x4){return _ref4.apply(this,arguments);};}();;// CONCATENATED MODULE: ./src/BeagleRuleEngine/index.js
function BeagleRuleEngine_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=BeagleRuleEngine_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function BeagleRuleEngine_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return BeagleRuleEngine_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BeagleRuleEngine_arrayLikeToArray(o,minLen);}function BeagleRuleEngine_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var BeagleRuleEngine_logger=new src_logger("BeagleRuleEngine");var RuleEngine=/*#__PURE__*/function(){function RuleEngine(body){_classCallCheck(this,RuleEngine);var eligibilityRules=body.eligibilityRules,baseRuleSet=body.baseRuleSet;this.baseRuleSet=baseRuleSet;this.eligibilityRules=eligibilityRules;this.addedDataListeners=[];this.mutex=new Mutex();}_createClass(RuleEngine,[{key:"checkRules",value:function(){var _checkRules=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var _iterator,_step,rule,ruleSatisfied;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_iterator=BeagleRuleEngine_createForOfIteratorHelper(this.baseRuleSet);_context.prev=1;_iterator.s();case 3:if((_step=_iterator.n()).done){_context.next=12;break;}rule=_step.value;_context.next=7;return this.checkRule(rule);case 7:ruleSatisfied=_context.sent;if(ruleSatisfied){_context.next=10;break;}return _context.abrupt("return",false);case 10:_context.next=3;break;case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](1);_iterator.e(_context.t0);case 17:_context.prev=17;_iterator.f();return _context.finish(17);case 20:return _context.abrupt("return",true);case 21:case"end":return _context.stop();}}},_callee,this,[[1,14,17,20]]);}));function checkRules(){return _checkRules.apply(this,arguments);}return checkRules;}()},{key:"checkRule",value:function(){var _checkRule=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(rule){var chain,chain_condition,type,ruleSatisfied;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:chain=rule.chain,chain_condition=rule.chain_condition,type=rule.type;ruleSatisfied=null;// check rule
_context2.t0=type;_context2.next=_context2.t0==="session"?5:_context2.t0==="element"?7:_context2.t0==="dataLayer"?9:_context2.t0==="url"?13:_context2.t0==="function"?15:_context2.t0==="environment"?17:_context2.t0==="productInfoLookup"?19:23;break;case 5:ruleSatisfied=checkSessionRule(rule);return _context2.abrupt("break",25);case 7:ruleSatisfied=checkElementRule(rule);return _context2.abrupt("break",25);case 9:_context2.next=11;return checkDataLayerRule(rule);case 11:ruleSatisfied=_context2.sent;return _context2.abrupt("break",25);case 13:ruleSatisfied=checkUrlRule(rule);return _context2.abrupt("break",25);case 15:ruleSatisfied=checkFunctionRule(rule);return _context2.abrupt("break",25);case 17:ruleSatisfied=checkEnvRule(rule);return _context2.abrupt("break",25);case 19:_context2.next=21;return checkProductInfoRule(rule);case 21:ruleSatisfied=_context2.sent;return _context2.abrupt("break",25);case 23:BeagleRuleEngine_logger.failed("No such rule type: ".concat(type));return _context2.abrupt("return",null);case 25:if(!chain){_context2.next=51;break;}_context2.t1=chain_condition;_context2.next=_context2.t1==="and"?29:_context2.t1==="or"?36:_context2.t1==="xor"?43:49;break;case 29:_context2.t2=ruleSatisfied;if(!_context2.t2){_context2.next=34;break;}_context2.next=33;return this.checkRule(chain);case 33:_context2.t2=_context2.sent;case 34:ruleSatisfied=_context2.t2;return _context2.abrupt("break",51);case 36:_context2.t3=ruleSatisfied;if(_context2.t3){_context2.next=41;break;}_context2.next=40;return this.checkRule(chain);case 40:_context2.t3=_context2.sent;case 41:ruleSatisfied=_context2.t3;return _context2.abrupt("break",51);case 43:_context2.t4=ruleSatisfied;_context2.next=46;return this.checkRule(chain);case 46:_context2.t5=_context2.sent;ruleSatisfied=_context2.t4!=_context2.t5;return _context2.abrupt("break",51);case 49:BeagleRuleEngine_logger.failed("No such chain condition");return _context2.abrupt("break",51);case 51:return _context2.abrupt("return",ruleSatisfied?rule.name||true:false);case 52:case"end":return _context2.stop();}}},_callee2,this);}));function checkRule(_x){return _checkRule.apply(this,arguments);}return checkRule;}()},{key:"assesEligibilityRules",value:function(){var _assesEligibilityRules=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var keyPromisesMap,_i,_Object$entries,_Object$entries$_i,key,rules,_iterator2,_step2,rule,_i2,_Object$entries2,_Object$entries2$_i,_key,rulePromises,satisfiedRuleIds;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:addToBeagleInfoLayer("m","assessing-eligibility-rules");keyPromisesMap={};for(_i=0,_Object$entries=Object.entries(this.eligibilityRules);_i<_Object$entries.length;_i++){_Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],rules=_Object$entries$_i[1];keyPromisesMap[key]=[];_iterator2=BeagleRuleEngine_createForOfIteratorHelper(rules);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){rule=_step2.value;keyPromisesMap[key].push(this.checkRule(rule));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}_i2=0,_Object$entries2=Object.entries(keyPromisesMap);case 4:if(!(_i2<_Object$entries2.length)){_context3.next=14;break;}_Object$entries2$_i=_slicedToArray(_Object$entries2[_i2],2),_key=_Object$entries2$_i[0],rulePromises=_Object$entries2$_i[1];_context3.next=8;return Promise.all(rulePromises);case 8:satisfiedRuleIds=_context3.sent;addToBeagleInfoLayer("__eRules.".concat(_key),satisfiedRuleIds.filter(function(id){return id!==false;}));this.setUpListeners(_key,this.eligibilityRules[_key]);case 11:_i2++;_context3.next=4;break;case 14:case"end":return _context3.stop();}}},_callee3,this);}));function assesEligibilityRules(){return _assesEligibilityRules.apply(this,arguments);}return assesEligibilityRules;}()},{key:"assesEligibilityRulesCallBack",value:function(){var _assesEligibilityRulesCallBack=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(key,rules){var _this=this;var release,_iterator3,_step3,_loop,_ret;return regenerator_default().wrap(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(!key||!rules||!rules.length)){_context5.next=2;break;}return _context5.abrupt("return");case 2:_context5.next=4;return this.mutex.acquire();case 4:release=_context5.sent;BeagleRuleEngine_logger.log("Lock acquired for key ".concat(key));_context5.prev=6;_iterator3=BeagleRuleEngine_createForOfIteratorHelper(rules);_context5.prev=8;_loop=/*#__PURE__*/regenerator_default().mark(function _loop(){var rule,isEligible,current,filtered;return regenerator_default().wrap(function _loop$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:rule=_step3.value;_context4.next=3;return _this.checkRule(rule);case 3:isEligible=_context4.sent;_context4.next=6;return getFromBeagleInfoLayer("__eRules.".concat(key));case 6:_context4.t0=_context4.sent;if(_context4.t0){_context4.next=9;break;}_context4.t0=[];case 9:current=_context4.t0;if(!isEligible){_context4.next=19;break;}if(!current.includes(rule.name)){_context4.next=13;break;}return _context4.abrupt("return","continue");case 13:current.push(rule.name);addToBeagleInfoLayer("__eRules.".concat(key),current);if(!(key==="PageType")){_context4.next=17;break;}return _context4.abrupt("return","break");case 17:_context4.next=23;break;case 19:if(current.includes(rule.name)){_context4.next=21;break;}return _context4.abrupt("return","continue");case 21:filtered=current.filter(function(k){return k!==rule.name;});addToBeagleInfoLayer("__eRules.".concat(key),filtered);case 23:case"end":return _context4.stop();}}},_loop);});_iterator3.s();case 11:if((_step3=_iterator3.n()).done){_context5.next=20;break;}return _context5.delegateYield(_loop(),"t0",13);case 13:_ret=_context5.t0;if(!(_ret==="continue")){_context5.next=16;break;}return _context5.abrupt("continue",18);case 16:if(!(_ret==="break")){_context5.next=18;break;}return _context5.abrupt("break",20);case 18:_context5.next=11;break;case 20:_context5.next=25;break;case 22:_context5.prev=22;_context5.t1=_context5["catch"](8);_iterator3.e(_context5.t1);case 25:_context5.prev=25;_iterator3.f();return _context5.finish(25);case 28:_context5.next=33;break;case 30:_context5.prev=30;_context5.t2=_context5["catch"](6);BeagleRuleEngine_logger.failed("Error assessing rules for key: ".concat(key," - ").concat(_context5.t2.message));case 33:_context5.prev=33;BeagleRuleEngine_logger.log("Releasing lock for key: ".concat(key));release();return _context5.finish(33);case 37:case"end":return _context5.stop();}}},_callee4,this,[[6,30,33,37],[8,22,25,28]]);}));function assesEligibilityRulesCallBack(_x2,_x3){return _assesEligibilityRulesCallBack.apply(this,arguments);}return assesEligibilityRulesCallBack;}()},{key:"setUpListeners",value:function(){var _setUpListeners=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(key,rules){var _this2=this;var _this$extractRuleAttr,dataLayerRules,elementRules,_i3,_Object$entries3,_Object$entries3$_i,operator,_rules,boundAssesEligibilityRulesCallBack,_loop2,_i4,_Object$entries4;return regenerator_default().wrap(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this$extractRuleAttr=this.extractRuleAttributes(rules),dataLayerRules=_this$extractRuleAttr.dataLayerRules,elementRules=_this$extractRuleAttr.elementRules;for(_i3=0,_Object$entries3=Object.entries(dataLayerRules);_i3<_Object$entries3.length;_i3++){_Object$entries3$_i=_slicedToArray(_Object$entries3[_i3],2),operator=_Object$entries3$_i[0],_rules=_Object$entries3$_i[1];boundAssesEligibilityRulesCallBack=this.assesEligibilityRulesCallBack.bind(this,key,_rules);addDataListener(operator,boundAssesEligibilityRulesCallBack);}_loop2=function _loop2(){var _Object$entries4$_i=_slicedToArray(_Object$entries4[_i4],2),selector=_Object$entries4$_i[0],rules=_Object$entries4$_i[1];var observer=new MutationObserver(function(mutationList){if(window.top.document.readyState!=="complete")return;var nodes=[];var _iterator4=BeagleRuleEngine_createForOfIteratorHelper(mutationList),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var mutationRecord=_step4.value;nodes=[].concat(_toConsumableArray(nodes),_toConsumableArray(Array.from(mutationRecord.addedNodes)),_toConsumableArray(Array.from(mutationRecord.removedNodes)));}// exclude mutations that only update text
}catch(err){_iterator4.e(err);}finally{_iterator4.f();}if(nodes.every(function(n){return n.tagName===undefined;}))return;_this2.assesEligibilityRulesCallBack(key,rules);});if(selector==="body"){observer.observe(window.top.document.body,{subtree:true,childList:true});}else{observer.observe(window.top.document.querySelector(selector).parentNode,{subtree:true,childList:true});}};for(_i4=0,_Object$entries4=Object.entries(elementRules);_i4<_Object$entries4.length;_i4++){_loop2();}case 4:case"end":return _context6.stop();}}},_callee5,this);}));function setUpListeners(_x4,_x5){return _setUpListeners.apply(this,arguments);}return setUpListeners;}()},{key:"extractRuleAttributes",value:function extractRuleAttributes(rules){var dataLayerRules=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var elementRules=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!rules||!rules.length)return;var _iterator5=BeagleRuleEngine_createForOfIteratorHelper(rules),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var rule=_step5.value;var type=rule.type;switch(type){case"dataLayer":if(!dataLayerRules[rule.operator]){dataLayerRules[rule.operator]=[];}dataLayerRules[rule.operator].push(rule);break;case"element":if(document.querySelector(rule.selector)){elementRules[rule.selector]=elementRules[rule.selector]?[].concat(_toConsumableArray(elementRules[rule.selector]),[rule]):[rule];break;}if(document.querySelectorAll(rule.selectorAll).length){elementRules[rule.selectorAll]=elementRules[rule.selectorAll]?[].concat(_toConsumableArray(elementRules[rule.selectorAll]),[rule]):[rule];break;}elementRules["body"]=elementRules["body"]?[].concat(_toConsumableArray(elementRules["body"]),[rule]):[rule];break;}if(rule.chain){this.extractRuleAttributes([rule.chain],dataLayerRules,elementRules);}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}return{dataLayerRules:dataLayerRules,elementRules:elementRules};}}],[{key:"getEligibilityRules",value:function(){var _getEligibilityRules=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){var eligibilityRulesObj,elapsedHours;return regenerator_default().wrap(function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;eligibilityRulesObj=window.localStorage.getItem(LOCAL_STORAGE_KEYS.ELIGIBILITY_RULES);if(!eligibilityRulesObj){_context7.next=8;break;}eligibilityRulesObj=JSON.parse(eligibilityRulesObj);if(!eligibilityRulesObj.timestamp){_context7.next=8;break;}elapsedHours=(Date.now()-eligibilityRulesObj.timestamp)/(1000*3600);if(!(elapsedHours<LOCAL_STORAGE_TTL_HOURS)){_context7.next=8;break;}return _context7.abrupt("return",eligibilityRulesObj.rules);case 8:_context7.next=10;return fetchEligibilityRules();case 10:eligibilityRulesObj=_context7.sent;if(eligibilityRulesObj){_context7.next=14;break;}BeagleRuleEngine_logger.failed("Failed to fetch eligibility rules");return _context7.abrupt("return",null);case 14:eligibilityRulesObj={rules:eligibilityRulesObj,timestamp:Date.now()};window.localStorage.setItem(LOCAL_STORAGE_KEYS.ELIGIBILITY_RULES,JSON.stringify(eligibilityRulesObj));return _context7.abrupt("return",eligibilityRulesObj.rules);case 19:_context7.prev=19;_context7.t0=_context7["catch"](0);BeagleRuleEngine_logger.failed("Could not get eligibility rules: ",_context7.t0.message);return _context7.abrupt("return",null);case 23:case"end":return _context7.stop();}}},_callee6,null,[[0,19]]);}));function getEligibilityRules(){return _getEligibilityRules.apply(this,arguments);}return getEligibilityRules;}()}]);return RuleEngine;}();;// CONCATENATED MODULE: ./src/BeagleOn/index.js
var BeagleOn_logger=new src_logger("BeagleOnComponent");var beagleOn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(identifier,debugMode,pageType,treatmentWeights){var persistProductInfoPromise,eligibilityRulesAssessPromise,treatmentsPromise,searchParams,debugFilteredTreatments,treatments,treatmentRepository,matchedTreatments,robotEngine;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:persistProductInfoPromise=store.getInstance().persistProductInfo();eligibilityRulesAssessPromise=assesEligibilityRules();treatmentsPromise=BeagleTreatmentRepository.getTreatments();injectStyleSheet();initiateSessionStorages();addToBeagleInfoLayer("m","on-init");searchParams=window.location.search;debugFilteredTreatments=null;if(debugMode&&searchParams.includes("filter=")){debugFilteredTreatments=searchParams.slice(searchParams.indexOf("[")+1,searchParams.lastIndexOf("]")).split(",").map(function(item){return parseInt(item,10);});}_context.next=11;return treatmentsPromise;case 11:treatments=_context.sent;if(treatments){_context.next=15;break;}addToBeagleInfoLayer("m","no-robot-weights");throw new Error("Failed to fetch treatments/weights");case 15:BeagleOn_logger.success("Found treatments: ",treatments);addToBeagleInfoLayer("m","fetched-treatments");treatmentRepository=new BeagleTreatmentRepository({treatments:treatments,treatmentWeights:treatmentWeights});_context.next=20;return treatmentRepository.getMatchedTreatments(debugMode);case 20:matchedTreatments=_context.sent;if(!(matchedTreatments===null)){_context.next=25;break;}addToBeagleInfoLayer("m","no-user-segment");removeDocumentHide();return _context.abrupt("return");case 25:if(matchedTreatments.length){_context.next=30;break;}BeagleOn_logger.log("No treatments matched, returning without further action");addToBeagleInfoLayer("m","no-robot-matched");removeDocumentHide();return _context.abrupt("return");case 30:addToBeagleInfoLayer("m","found-matched-robots");_context.prev=31;_context.next=34;return eligibilityRulesAssessPromise;case 34:_context.next=40;break;case 36:_context.prev=36;_context.t0=_context["catch"](31);addToBeagleInfoLayer("m","no-rules-assessed");throw new Error("Could not asses eligibility rules");case 40:addToBeagleInfoLayer("m","rules-assessed");_context.prev=41;_context.next=44;return persistProductInfoPromise;case 44:_context.next=50;break;case 46:_context.prev=46;_context.t1=_context["catch"](41);addToBeagleInfoLayer("m","product-into-no-persist");throw new Error("Could not persist product info");case 50:addToBeagleInfoLayer("m","engaging-robots");robotEngine=new RobotEngine({debugFilteredTreatments:debugFilteredTreatments,debugMode:debugMode,matchedTreatments:matchedTreatments,identifier:identifier,pageType:pageType});_context.next=54;return robotEngine.engageRobots();case 54:removeDocumentHide();addToBeagleInfoLayer("m","robots-engaged");_context.t2=BeagleOn_logger;_context.next=59;return getFromBeagleInfoLayer("a");case 59:_context.t3=_context.sent;_context.t2.success.call(_context.t2,"Applied treatments: ",_context.t3);case 61:case"end":return _context.stop();}}},_callee,null,[[31,36],[41,46]]);}));return function beagleOn(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();function assesEligibilityRules(){return _assesEligibilityRules.apply(this,arguments);}function _assesEligibilityRules(){_assesEligibilityRules=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){var eligibilityRules,ruleEngine;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:addToBeagleInfoLayer("m","fetching-eligibility-rules");_context2.next=3;return RuleEngine.getEligibilityRules();case 3:eligibilityRules=_context2.sent;if(eligibilityRules){_context2.next=6;break;}return _context2.abrupt("return");case 6:addToBeagleInfoLayer("m","fetched-eligibility-rules");ruleEngine=new RuleEngine({eligibilityRules:eligibilityRules});_context2.next=10;return ruleEngine.assesEligibilityRules();case 10:addToBeagleInfoLayer("m","assessed-eligibility-rules");case 11:case"end":return _context2.stop();}}},_callee2);}));return _assesEligibilityRules.apply(this,arguments);}/* harmony default export */var BeagleOn=beagleOn;;// CONCATENATED MODULE: ./src/BeagleInfoLayer/segment-computer.js
var segment_computer_logger=new src_logger("SegmentationComputer");function computeSegment(_x){return _computeSegment.apply(this,arguments);}function _computeSegment(){_computeSegment=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(treatmentWeights){var _i,_Object$keys,_treatmentWeights$seg,segment,ruleSet,segmentRuleEngine;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:segment_computer_logger.log("Determining user segment");_context.prev=1;_i=0,_Object$keys=Object.keys(treatmentWeights);case 3:if(!(_i<_Object$keys.length)){_context.next=18;break;}segment=_Object$keys[_i];ruleSet=(_treatmentWeights$seg=treatmentWeights[segment])===null||_treatmentWeights$seg===void 0?void 0:_treatmentWeights$seg.ruleSet;if(ruleSet){_context.next=8;break;}return _context.abrupt("continue",15);case 8:segmentRuleEngine=new RuleEngine({baseRuleSet:ruleSet,businessRuleSet:[]});_context.next=11;return segmentRuleEngine.checkRules();case 11:if(!_context.sent){_context.next=15;break;}segment_computer_logger.log("User segment matched: ".concat(segment));addToBeagleInfoLayer("s",segment);return _context.abrupt("return",segment);case 15:_i++;_context.next=3;break;case 18:segment_computer_logger.log("User segment not matched");return _context.abrupt("return",null);case 22:_context.prev=22;_context.t0=_context["catch"](1);segment_computer_logger.failed("Could not compute user segment");return _context.abrupt("return",null);case 26:case"end":return _context.stop();}}},_callee,null,[[1,22]]);}));return _computeSegment.apply(this,arguments);};// CONCATENATED MODULE: ./src/BeagleClientSDK/index.js
var SHUTDOWN=false;_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var monitor,logger,earlyLogSent,hideRemoved,_String$prototype,treatmentWeightsPromise,identifier,cookiePct,userSegment,treatmentWeights,oosReason,isLabelSent,timeoutCounter,debugMode,processAdminUser,isAdmin,isOn,pageType;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:switchToEaseOut();monitor=null;logger=new src_logger();logger.info("Beagle initializing");window.dataLayer=window.dataLayer||[];earlyLogSent=false;hideRemoved=false;_context.prev=7;/* ======================================== INIT TASKS ===================================== */addToBeagleInfoLayer("GLOV_ON","not-sent | initializing");treatmentWeightsPromise=BeagleTreatmentRepository.getTreatmentWeights();monitor=new BeagleMonitor();initializeBeagleInfoLayer();_context.next=14;return getIdentifier();case 14:identifier=_context.sent;logger.log("Found identifier: ",identifier);addToBeagleInfoLayer("cookieGaId",identifier);_context.next=19;return determinePct(identifier);case 19:cookiePct=_context.sent;addToBeagleInfoLayer("onHashPct",cookiePct);addToBeagleInfoLayer("view_epoch",Date.now()+Math.random());addToBeagleInfoLayer("v",VERSION);addToBeagleInfoLayer("sr",SPLIT_RATIO);// data-less log to detect bounces
_context.next=26;return monitor.packAndQueueArrivalLog();case 26:setTimeout(function(){removeDocumentHide();},2000);/* ================================= EARLY PRUNE OUT-OF-SCOPE ============================== */userSegment=null;treatmentWeights=null;oosReason=window.localStorage.getItem(LOCAL_STORAGE_KEYS.OUT_OF_SCOPE);if(!(oosReason!=="unsupported")){_context.next=40;break;}_context.next=33;return treatmentWeightsPromise;case 33:treatmentWeights=_context.sent;if(treatmentWeights){_context.next=37;break;}addToBeagleInfoLayer("m","no-robot-weights");throw new Error("Unable to fetch weights");case 37:_context.next=39;return computeSegment(treatmentWeights);case 39:userSegment=_context.sent;case 40:if(!(cookiePct===null||!navigator.sendBeacon||typeof navigator.sendBeacon!=="function"||typeof(String===null||String===void 0?void 0:(_String$prototype=String.prototype)===null||_String$prototype===void 0?void 0:_String$prototype.padStart)!=="function"||oosReason&&oosReason==="unsupported"||!userSegment)){_context.next=45;break;}window.dataLayer.push({event:"GLOV",GLOV_ON:"unsupported"});window.localStorage.setItem(LOCAL_STORAGE_KEYS.OUT_OF_SCOPE,"unsupported");addToBeagleInfoLayer("GLOV_ON","unsupported | device");throw new Error("unsupported-device");case 45:isLabelSent=window.localStorage.getItem(LOCAL_STORAGE_KEYS.IS_LABEL_SENT);timeoutCounter=parseInt(sessionStorage.getItem(SESSION_STORAGE_KEYS.TIMEOUT_COUNT))||0;// check if debug mode is on, also adds dbm to beagleInfoLayer and sets oosReason
debugMode=getDebugMode("employee");// if timed-out too many times for very first interactsions, make out of scope for the session
if(!(!debugMode&&!oosReason&&!isLabelSent&&timeoutCounter>MAX_TIMEOUT_PER_SESSION)){_context.next=52;break;}window.dataLayer.push({event:"GLOV",GLOV_ON:"unsupported"});addToBeagleInfoLayer("GLOV_ON","unsupported | timeout");throw new Error("max-timeout");case 52:/* =================================== ADMIN USER CHECK ==================================== */ // TODO: rename showroom logic to admin, and map vvsIsShowroom to a configurable admin param
// if admin user, make out of scope and mark as employee
processAdminUser=function processAdminUser(){window.dataLayer.push({event:"GLOV",GLOV_ON:"employee"});window.localStorage.setItem(LOCAL_STORAGE_KEYS.OUT_OF_SCOPE,"employee");window.localStorage.setItem(LOCAL_STORAGE_KEYS.IS_ADMIN,true);addToBeagleInfoLayer("GLOV_ON","employee | admin");throw new Error("admin-employee");};isAdmin=window.localStorage.getItem(LOCAL_STORAGE_KEYS.IS_ADMIN);// if not found in localStorage, check beagleInfoLayer with blocking mdoe
if(!(isAdmin===null||isAdmin===undefined)){_context.next=60;break;}_context.next=57;return getFromBeagleInfoLayer("vvsIsShowroom",true);case 57:isAdmin=_context.sent;_context.next=61;break;case 60:if(isAdmin==="false"||isAdmin===false){// async call to getFromBeagleInfoLayer, then set localStorage
getFromBeagleInfoLayer("vvsIsShowroom",true).then(function(isAdmin){if(isAdmin&&(isAdmin==="true"||isAdmin===true)){processAdminUser();}});}case 61:if(!(isAdmin&&(isAdmin==="true"||isAdmin===true))){_context.next=65;break;}processAdminUser();_context.next=72;break;case 65:if(!(isAdmin===null||isAdmin===undefined)){_context.next=71;break;}sessionStorage.setItem(SESSION_STORAGE_KEYS.TIMEOUT_COUNT,timeoutCounter+1);addToBeagleInfoLayer("GLOV_ON","not-sent | timeout");throw new Error("no-admin-status");case 71:window.localStorage.setItem(LOCAL_STORAGE_KEYS.IS_ADMIN,false);case 72:if(window.top.document.documentElement.classList.contains("glov-ease")){_context.next=76;break;}sessionStorage.setItem(SESSION_STORAGE_KEYS.TIMEOUT_COUNT,timeoutCounter+1);addToBeagleInfoLayer("GLOV_ON","not-sent | timeout");throw new Error("anti-flicker-timeout");case 76:/* ===================================== ON/OFF CHECK ====================================== */ // isOn can be true (ON), false (OFF)
isOn=null;if(!debugMode){_context.next=84;break;}logger.log("Debug mode on: all applicable treatments will be applied");isOn=true;window.dataLayer.push({event:"GLOV",GLOV_ON:"employee"});addToBeagleInfoLayer("GLOV_ON","employee | tester");_context.next=100;break;case 84:if(!(oosReason&&oosReason==="employee")){_context.next=91;break;}logger.warn("User is out of scope");// set isOn to true/false when not debugMode but out of scope i.e. nd_debug=0 for testability
isOn=cookiePct>=SPLIT_RATIO;window.dataLayer.push({event:"GLOV",GLOV_ON:"employee"});addToBeagleInfoLayer("GLOV_ON","employee | tester");_context.next=100;break;case 91:if(!oosReason){_context.next=96;break;}addToBeagleInfoLayer("GLOV_ON","not-sent | unknown");throw new Error("Unknown out of scope reason");case 96:// if greater than SPLIT_RATIO, then in ON mode
if(cookiePct>=SPLIT_RATIO){isOn=true;window.dataLayer.push({event:"GLOV",GLOV_ON:"true"});}else if(cookiePct>=SPLIT_RATIO/2){isOn=false;window.dataLayer.push({event:"GLOV",GLOV_ON:"false2"});}else{isOn=false;window.dataLayer.push({event:"GLOV",GLOV_ON:"false1"});}addToBeagleInfoLayer("isOn",isOn);window.localStorage.setItem(LOCAL_STORAGE_KEYS.IS_LABEL_SENT,true);addToBeagleInfoLayer("GLOV_ON",isOn.toString());case 100:_context.next=102;return getFromBeagleInfoLayer("PageType",true);case 102:pageType=_context.sent;if(!(pageType==="purchase")){_context.next=113;break;}_context.next=106;return getFromBeagleInfoLayer("purchase.revenue",true,50,5000);case 106:_context.next=108;return getFromBeagleInfoLayer("purchase.paymentType",true,50,5000);case 108:_context.next=110;return monitor.sendLogs(true);case 110:// if purchase is complete, do not apply any treatments on the confirmation page
SHUTDOWN=true;_context.next=114;break;case 113:// send logs when ready, start scraping and sending asyncly
monitor.sendLogs(false);case 114:earlyLogSent=true;/* ======================================= ROBOT PATHs ===================================== */if(!(isOn===true)){_context.next=119;break;}if(!SHUTDOWN){logger.log("Beagle ON Group Path");BeagleOn(identifier,debugMode,pageType,treatmentWeights);}else{logger.info("Beagle ON Group SHUTDOWN Path");removeDocumentHide();hideRemoved=true;}_context.next=126;break;case 119:if(!(isOn===false)){_context.next=125;break;}logger.info("Beagle OFF Group Path");removeDocumentHide();hideRemoved=true;_context.next=126;break;case 125:throw new Error("isOn is undefined or null");case 126:_context.next=134;break;case 128:_context.prev=128;_context.t0=_context["catch"](7);logger.warn("Beagle Early Scope-out or ERROR: ",_context.t0.message);addToBeagleInfoLayer("m",_context.t0.message);if(!earlyLogSent&&monitor)monitor.sendLogs(false);if(!hideRemoved)removeDocumentHide();case 134:case"end":return _context.stop();}}},_callee,null,[[7,128]]);}))();}();/******/})();/***/},/***/897:/***/function _(module){function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}module.exports=_arrayLikeToArray,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/372:/***/function _(module){function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}module.exports=_arrayWithHoles,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/690:/***/function _(module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}module.exports=_classCallCheck,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/728:/***/function _(module,__unused_webpack_exports,__nested_webpack_require_262725__){var toPropertyKey=__nested_webpack_require_262725__(62);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,toPropertyKey(descriptor.key),descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}module.exports=_createClass,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/872:/***/function _(module){function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1;}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0){;}}catch(err){_d=!0,_e=err;}finally{try{if(!_n&&null!=_i["return"]&&(_r=_i["return"](),Object(_r)!==_r))return;}finally{if(_d)throw _e;}}return _arr;}}module.exports=_iterableToArrayLimit,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/218:/***/function _(module){function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}module.exports=_nonIterableRest,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/61:/***/function _(module,__unused_webpack_exports,__nested_webpack_require_264484__){var _typeof=__nested_webpack_require_264484__(698)["default"];function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */module.exports=_regeneratorRuntime=function _regeneratorRuntime(){return exports;},module.exports.__esModule=true,module.exports["default"]=module.exports;var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value;},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key];}try{define({},"");}catch(err){define=function define(obj,key,value){return obj[key]=value;};}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator;}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)};}catch(err){return{type:"throw",arg:err};}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this;});var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg);});});}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject);},function(err){invoke("throw",err,resolve,reject);}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result);},function(error){return invoke("throw",error,resolve,reject);});}reject(record.arg);}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject);});}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}});}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult();}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult;}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg);}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done};}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg);}};}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(undefined===method)return context.delegate=null,"throw"===methodName&&delegate.iterator["return"]&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel);}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry);}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record;}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0);}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;){if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;}return next.value=undefined,next.done=!0,next;};return next.next=next;}}return{next:doneResult};}function doneResult(){return{value:undefined,done:!0};}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name));},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun;},exports.awrap=function(arg){return{__await:arg};},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this;}),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next();});},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,function(){return this;}),define(Gp,"toString",function(){return"[object Generator]";}),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object){keys.push(key);}return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next;}return next.done=!0,next;};},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this){"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined);}},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval;},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught;}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc);}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc);}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break;}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record);},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel;},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel;}},"catch":function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry);}return thrown;}}throw new Error("illegal catch attempt");},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel;}},exports;}module.exports=_regeneratorRuntime,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/424:/***/function _(module,__unused_webpack_exports,__nested_webpack_require_275643__){var arrayWithHoles=__nested_webpack_require_275643__(372);var iterableToArrayLimit=__nested_webpack_require_275643__(872);var unsupportedIterableToArray=__nested_webpack_require_275643__(116);var nonIterableRest=__nested_webpack_require_275643__(218);function _slicedToArray(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||unsupportedIterableToArray(arr,i)||nonIterableRest();}module.exports=_slicedToArray,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/36:/***/function _(module,__unused_webpack_exports,__nested_webpack_require_276166__){var _typeof=__nested_webpack_require_276166__(698)["default"];function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}module.exports=_toPrimitive,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/62:/***/function _(module,__unused_webpack_exports,__nested_webpack_require_276738__){var _typeof=__nested_webpack_require_276738__(698)["default"];var toPrimitive=__nested_webpack_require_276738__(36);function _toPropertyKey(arg){var key=toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);}module.exports=_toPropertyKey,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/698:/***/function _(module){function _typeof(obj){"@babel/helpers - typeof";return(module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},module.exports.__esModule=true,module.exports["default"]=module.exports),_typeof(obj);}module.exports=_typeof,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/116:/***/function _(module,__unused_webpack_exports,__nested_webpack_require_277642__){var arrayLikeToArray=__nested_webpack_require_277642__(897);function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return arrayLikeToArray(o,minLen);}module.exports=_unsupportedIterableToArray,module.exports.__esModule=true,module.exports["default"]=module.exports;/***/},/***/687:/***/function _(module,__unused_webpack_exports,__nested_webpack_require_278260__){// TODO(Babel 8): Remove this file.
var runtime=__nested_webpack_require_278260__(61)();module.exports=runtime;// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=
try{regeneratorRuntime=runtime;}catch(accidentalStrictMode){if((typeof globalThis==="undefined"?"undefined":_typeof3(globalThis))==="object"){globalThis.regeneratorRuntime=runtime;}else{Function("r","regeneratorRuntime = r")(runtime);}}/***/}/******/};/************************************************************************/ /******/ // The module cache
/******/var __webpack_module_cache__={};/******/ /******/ // The require function
/******/function __nested_webpack_require_278923__(moduleId){/******/ // Check if module is in cache
/******/var cachedModule=__webpack_module_cache__[moduleId];/******/if(cachedModule!==undefined){/******/return cachedModule.exports;/******/}/******/ // Create a new module (and put it into the cache)
/******/var module=__webpack_module_cache__[moduleId]={/******/ // no module.id needed
/******/ // no module.loaded needed
/******/exports:{}/******/};/******/ /******/ // Execute the module function
/******/__webpack_modules__[moduleId](module,module.exports,__nested_webpack_require_278923__);/******/ /******/ // Return the exports of the module
/******/return module.exports;/******/}/******/ /************************************************************************/ /******/ /* webpack/runtime/compat get default export */ /******/!function(){/******/ // getDefaultExport function for compatibility with non-harmony modules
/******/__nested_webpack_require_278923__.n=function(module){/******/var getter=module&&module.__esModule?/******/function(){return module['default'];}:/******/function(){return module;};/******/__nested_webpack_require_278923__.d(getter,{a:getter});/******/return getter;/******/};/******/}();/******/ /******/ /* webpack/runtime/define property getters */ /******/!function(){/******/ // define getter functions for harmony exports
/******/__nested_webpack_require_278923__.d=function(exports,definition){/******/for(var key in definition){/******/if(__nested_webpack_require_278923__.o(definition,key)&&!__nested_webpack_require_278923__.o(exports,key)){/******/Object.defineProperty(exports,key,{enumerable:true,get:definition[key]});/******/}/******/}/******/};/******/}();/******/ /******/ /* webpack/runtime/hasOwnProperty shorthand */ /******/!function(){/******/__nested_webpack_require_278923__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);};/******/}();/******/ /************************************************************************/var __webpack_exports__={};// This entry need to be wrapped in an IIFE because it need to be in strict mode.
!function(){"use strict";;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js
var regenerator=__nested_webpack_require_278923__(687);var regenerator_default=/*#__PURE__*/__nested_webpack_require_278923__.n(regenerator);;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js
function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof(obj);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toPrimitive.js
function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;};// CONCATENATED MODULE: ./src/stringUtils.js
var replaceAll=function replaceAll(str,find){var replace=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";if(!str)return"";var index=str.indexOf(find);if(index<0)return str;while(str.indexOf(find)>=0){var _index=str.indexOf(find);str=(_index>0?str.substring(0,_index):"")+replace+str.substring(_index+find.length);}return str;};var turkishToLower=function turkishToLower(str){if(!str||typeof str!=="string")return str;var string=str;var letters={"İ":"i","I":"ı","Ş":"ş","Ğ":"ğ","Ü":"ü","Ö":"ö","Ç":"ç"};string=string.replace(/(([İIŞĞÜÇÖ]))/g,function(letter){return letters[letter];});return string.toLowerCase();};;// CONCATENATED MODULE: ./src/constants.js
/* eslint-disable max-len */var isStaging=typeof window!=="undefined"?window.location.href.includes("staging.vivense"):true;var VERSION="0.0.39.5";var COOKIE_NAME="_ga";// TODO revert the following staging env check after moving to new branch structure
var TREATMENTS_LOCATION="https://host-b96.pages.dev/treatments.json";var TREATMENT_WEIGHTS_LOCATION="https://host-b96.pages.dev/weights.json";var STYLESHEET_LOCATION=isStaging?"https://ndvivense.glov.ai/nd-styles_staging.css":"https://ndvivense.glov.ai/nd-styles.css?id=".concat(replaceAll(new Date().toISOString().substring(0,13).replace("T",""),"-",""));var E_RULES_LOCATION=isStaging?"https://ndvivense.glov.ai/eligibility_rules_staging.json":"https://ndvivense.glov.ai/eligibility_rules.json";var PRODUCT_INFO_LOCATION="https://ndvivense.glov.ai/social-proof-v2-staging.json";var LOG_API_URL="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/log";var LOOKUP_API_URL="https://catalog-api.adoraai.com";var MOBILE_MEDIA_QUERY="(max-width: 440px)";// Control group percentage
var SPLIT_RATIO=50;// Skipped treatment percentage
var TREATMENT_RATIO=50;var LOCAL_STORAGE_TTL_HOURS=2;var MAX_TIMEOUT_PER_SESSION=1;var LIST_MODE_BEAGLE_KEYS=/* unused pure expression or super */null&&0;var IDLE_TIMEOUT=15000;var SESSION_STORAGE_KEYS={SESSION_TIMESTAMP:"BG_SessionTimestamp",SESSION_HISTORY:"BG_SessionHistory",POPUP_DISPLAY_FLAG:"BG_PopupDisplayFlag",SKU_INFO_BASKET:"BG_ProductInfoBasket",TIMEOUT_COUNT:"BG_TimeoutCount",SESSION_REFERRER:"BG_SessionReferrer",MATCHED_TREATMENTS:"GLV_Matched"};var LOCAL_STORAGE_KEYS={TREATMENTS:"BG_Treatments",WEIGHTS:"BG_Weights",ELIGIBILITY_RULES:"BG_E_Rules",DEBUG_MODE:"BG_Debug",OUT_OF_SCOPE:"BG_OutOfScope",IS_LABEL_SENT:"BG_LabelSent",USER_ID:"BG_UserId_00",DATA_COLLECTION_DATA_SIZE:"BG_CollectionDataSize",IS_ADMIN:"GLV_IsAdmin"};var CUSTOM_STORAGE_PREFIX="BG_Seg_";;// CONCATENATED MODULE: ./src/logger.js
var Logger=/*#__PURE__*/function(){function Logger(){var origin=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"Beagle Client SDK";var testing=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_classCallCheck(this,Logger);this.origin=origin;if(testing){this.DEBUG=1;}else{this.DEBUG=window.localStorage.getItem(LOCAL_STORAGE_KEYS.DEBUG_MODE);}}_createClass(Logger,[{key:"info",value:function info(){var _console;var origin=this.origin;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}(_console=console).info.apply(_console,["[".concat(origin,"]")].concat(args));}},{key:"log",value:function log(){var DEBUG=this.DEBUG,origin=this.origin;if(DEBUG){var _console2;for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}(_console2=console).log.apply(_console2,["[".concat(origin,"]")].concat(args));}}},{key:"failed",value:function failed(){var _console3;var DEBUG=this.DEBUG,origin=this.origin;if(!DEBUG)return;var messageConfig="%c%s   ";for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}args.forEach(function(argument){var type=_typeof(argument);switch(type){case"bigint":case"number":case"boolean":messageConfig+="%d   ";break;case"string":messageConfig+="%s   ";break;case"object":case"undefined":default:messageConfig+="%o   ";}});(_console3=console).log.apply(_console3,[messageConfig,"color: red","[".concat(origin,"]")].concat(args));}},{key:"success",value:function success(){var _console4;var DEBUG=this.DEBUG,origin=this.origin;if(!DEBUG)return;var messageConfig="%c%s   ";for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}args.forEach(function(argument){var type=_typeof(argument);switch(type){case"bigint":case"number":case"boolean":messageConfig+="%d   ";break;case"string":messageConfig+="%s   ";break;case"object":case"undefined":default:messageConfig+="%o   ";}});(_console4=console).log.apply(_console4,[messageConfig,"color: green","[".concat(origin,"]")].concat(args));}},{key:"warn",value:function warn(){var _console5;var origin=this.origin;for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++){args[_key5]=arguments[_key5];}(_console5=console).warn.apply(_console5,["[".concat(origin,"]")].concat(args));}},{key:"error",value:function error(){var _console6;var origin=this.origin;for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6];}(_console6=console).error.apply(_console6,["[".concat(origin,"]")].concat(args));}}]);return Logger;}();/* harmony default export */var src_logger=Logger;;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js
function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1;}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0){;}}catch(err){_d=!0,_e=err;}finally{try{if(!_n&&null!=_i["return"]&&(_r=_i["return"](),Object(_r)!==_r))return;}finally{if(_d)throw _e;}}return _arr;}};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArray.js
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();};// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js
function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;};// CONCATENATED MODULE: ./src/utils.js
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=utils_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function utils_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return utils_arrayLikeToArray(o,minLen);}function utils_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}/* eslint-disable max-len */var logger=new src_logger("BeagleUtils");var months={"ocak":0,"şubat":1,"mart":2,"nisan":3,"mayıs":4,"haziran":5,"temmuz":6,"ağustos":7,"eylül":8,"ekim":9,"kasım":10,"aralık":11};var removeDocumentHide=function removeDocumentHide(){window.top.document.documentElement.classList.remove("glov-ease");window.top.document.documentElement.classList.remove("glov-hide");};var switchToEaseOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var el;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(window.top.document.documentElement.classList.contains("glov-hide")){_context.next=2;break;}return _context.abrupt("return");case 2:el=document.createElement("style");el.textContent=".glov-ease {\n    -webkit-animation: smooth 2s ease-in;\n    -moz-animation: smooth 2s ease-in;\n    -o-animation: smooth 2s ease-in;\n    -ms-animation: smooth 2s ease-in;\n    animation: smooth 2s ease-in;\n  }\n  \n  @keyframes smooth {\n    0% { opacity: 0;}\n    25% { opacity: 0.25;}\n    50% { opacity: 0.5;}\n    75% { opacity: 0.75;}\n    100% { opacity: 1;}\n  }\n  @-webkit-keyframes smooth {\n    0% { opacity: 0;}\n    25% { opacity: 0.25;}\n    50% { opacity: 0.5;}\n    75% { opacity: 0.75;}\n    100% { opacity: 1;}\n  }";window.top.document.documentElement.prepend(el);window.top.document.documentElement.classList.add("glov-ease");window.top.document.documentElement.classList.remove("glov-hide");case 7:case"end":return _context.stop();}}},_callee);}));return function switchToEaseOut(){return _ref.apply(this,arguments);};}();var fetchTreatments=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){var treatments,jsonTreatment;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;logger.log("Fetching treatments");_context2.next=4;return fetchPlus(TREATMENTS_LOCATION);case 4:treatments=_context2.sent;if(treatments){_context2.next=7;break;}throw new Error();case 7:_context2.next=9;return treatments.json();case 9:jsonTreatment=_context2.sent;return _context2.abrupt("return",jsonTreatment);case 13:_context2.prev=13;_context2.t0=_context2["catch"](0);logger.failed("Could not fetch treatments",_context2.t0.message);return _context2.abrupt("return",null);case 17:case"end":return _context2.stop();}}},_callee2,null,[[0,13]]);}));return function fetchTreatments(){return _ref2.apply(this,arguments);};}();var fetchTreatmentWeights=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var treatmentWeights,jsonTreatmentWeights;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;logger.log("Fetching treatment weights");_context3.next=4;return fetchPlus(TREATMENT_WEIGHTS_LOCATION);case 4:treatmentWeights=_context3.sent;if(treatmentWeights){_context3.next=7;break;}throw new Error();case 7:_context3.next=9;return treatmentWeights.json();case 9:jsonTreatmentWeights=_context3.sent;return _context3.abrupt("return",jsonTreatmentWeights);case 13:_context3.prev=13;_context3.t0=_context3["catch"](0);logger.failed("Could not fetch treatment weights",_context3.t0.message);return _context3.abrupt("return",null);case 17:case"end":return _context3.stop();}}},_callee3,null,[[0,13]]);}));return function fetchTreatmentWeights(){return _ref3.apply(this,arguments);};}();var fetchEligibilityRules=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(){var eligibilityRules,jsonEligibilityRules;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;logger.log("Fetching eligibility rules");_context4.next=4;return fetchPlus(E_RULES_LOCATION);case 4:eligibilityRules=_context4.sent;if(eligibilityRules){_context4.next=7;break;}throw new Error();case 7:_context4.next=9;return eligibilityRules.json();case 9:jsonEligibilityRules=_context4.sent;return _context4.abrupt("return",jsonEligibilityRules);case 13:_context4.prev=13;_context4.t0=_context4["catch"](0);logger.failed("Could not fetch eligibility rules",_context4.t0.message);return _context4.abrupt("return",null);case 17:case"end":return _context4.stop();}}},_callee4,null,[[0,13]]);}));return function fetchEligibilityRules(){return _ref4.apply(this,arguments);};}();var fetchProductInfo=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(){var productInfo,productInfoJson;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;logger.log("Fetching product info");_context5.next=4;return fetchPlus(PRODUCT_INFO_LOCATION);case 4:productInfo=_context5.sent;if(productInfo){_context5.next=7;break;}throw new Error();case 7:_context5.next=9;return productInfo.json();case 9:productInfoJson=_context5.sent;return _context5.abrupt("return",productInfoJson);case 13:_context5.prev=13;_context5.t0=_context5["catch"](0);logger.failed("Could not fetch product info",_context5.t0.message);return _context5.abrupt("return",null);case 17:case"end":return _context5.stop();}}},_callee5,null,[[0,13]]);}));return function fetchProductInfo(){return _ref5.apply(this,arguments);};}();var utils_timeout=function timeout(time){var controller=new AbortController();setTimeout(function(){return controller.abort();},time);return controller;};var fetchPlus=function fetchPlus(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var retries=arguments.length>2&&arguments[2]!==undefined?arguments[2]:5;return fetch(url,_objectSpread(_objectSpread({},options),{},{signal:utils_timeout(5000).signal})).then(function(res){if(res.ok){return res;}if(retries>0){return fetchPlus(url,options,retries-1);}throw new Error(res.status);}).catch(function(error){if(retries>0){logger.failed("Fetch timed out Retrying...: ",error.message);return fetchPlus(url,options,retries-1);}logger.failed("Fetch failed: ",error.message);return null;});};var extractCookieIdentifier=function extractCookieIdentifier(cookieString,cookieName){if(!cookieString){return null;}var parsed=cookieString.split(";").map(function(v){return v.split("=");}).reduce(function(acc,v){if(v[0]&&v[1]){acc[decodeURIComponent(v[0].trim())]=decodeURIComponent(v[1].trim());}return acc;},{});var identifier=parsed[cookieName];if(!identifier){return null;}if(cookieName==="_ga"){// extract unique identifier from GA cookie
var identifierIndex=2;identifier=identifier.split(".")[identifierIndex];}return identifier;};var determinePct=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(identifier){var hash,pct;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;if(identifier){_context6.next=3;break;}return _context6.abrupt("return",null);case 3:hash=getUnsecureHash(identifier);if(!(hash===null)){_context6.next=6;break;}return _context6.abrupt("return",null);case 6:pct=hash%100;if(!(pct>=0&&pct<100)){_context6.next=9;break;}return _context6.abrupt("return",pct);case 9:return _context6.abrupt("return",null);case 12:_context6.prev=12;_context6.t0=_context6["catch"](0);logger.error(_context6.t0);return _context6.abrupt("return",null);case 16:case"end":return _context6.stop();}}},_callee6,null,[[0,12]]);}));return function determinePct(_x){return _ref6.apply(this,arguments);};}();var exitScrollListener=function exitScrollListener(callBack){var loop=function loop(){var scrollTop=window.top.document.documentElement.scrollTop;if(lastScrollTop-400>scrollTop){clearInterval(exitScrollInterval);callBack();}else{lastScrollTop=scrollTop;}};var lastScrollTop=window.top.document.documentElement.scrollTop;var exitScrollInterval=setInterval(loop,500);};/**
 * @description This function is used to apply treatments to the page on specific media type.
 * @param {MediaQueryList} mediaQueryCondition window.matchMedia("(max-width: 500px)")
 * @param {DOMNodeList } elements document.querySelectorAll("div.product_info")
 * @param {Object} styleChangesMap { "margin-top" : "10rem"}
 * @returns
 */var styleApplicator=function styleApplicator(elements,styleChangesMap){logger.log("Applying style changes",styleChangesMap,"to elements",elements);for(var i=0;i<elements.length;i++){var element=elements[i];for(var _i=0,_Object$entries=Object.entries(styleChangesMap);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];element.style[key]=value;}}};var injectStyleSheet=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(){var styleSheet;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:styleSheet=window.top.document.createElement("link");styleSheet.rel="stylesheet";styleSheet.type="text/css";styleSheet.href=STYLESHEET_LOCATION;window.top.document.head.appendChild(styleSheet);case 5:case"end":return _context7.stop();}}},_callee7);}));return function injectStyleSheet(){return _ref7.apply(this,arguments);};}();var prepareActions=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee8(identifier,actionsToPrepare,businessRuleId,debugMode){var actions,variant,_iterator,_step,action,businessRuleTransformations,variants,_iterator2,_step2,businessTransformation,key,_iterator3,_step3,_step3$value,index,variantKey,randomPct,_iterator4,_step4,_businessTransformation,_i2,_Object$keys,_key,_key2;return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:actions=JSON.parse(JSON.stringify(actionsToPrepare));variant=null;_iterator=_createForOfIteratorHelper(actions);_context8.prev=3;_iterator.s();case 5:if((_step=_iterator.n()).done){_context8.next=65;break;}action=_step.value;businessRuleTransformations=action.businessRuleTransformations,variants=action.variants;if(!(!businessRuleTransformations&&!variants)){_context8.next=10;break;}return _context8.abrupt("continue",63);case 10:if(businessRuleId!==null&&businessRuleTransformations){_iterator2=_createForOfIteratorHelper(businessRuleTransformations);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){businessTransformation=_step2.value;if(businessTransformation.id===businessRuleId){for(key in businessTransformation){if(key!=="id"){action[key]=businessTransformation[key];}}}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}if(!variants){_context8.next=63;break;}_iterator3=_createForOfIteratorHelper(Object.keys(variants).entries());_context8.prev=13;_iterator3.s();case 15:if((_step3=_iterator3.n()).done){_context8.next=55;break;}_step3$value=_slicedToArray(_step3.value,2),index=_step3$value[0],variantKey=_step3$value[1];_context8.next=19;return determinePct(identifier+variantKey);case 19:randomPct=_context8.sent;if(debugMode&&!action.variants[variantKey].weight){action.variants[variantKey].weight=Math.floor(100/Object.keys(variants).length)*(index+1);}if(!(randomPct<action.variants[variantKey].weight)){_context8.next=53;break;}variant=variantKey;if(!(businessRuleId!==null&&variants[variantKey].businessRuleTransformations)){_context8.next=51;break;}_iterator4=_createForOfIteratorHelper(variants[variantKey].businessRuleTransformations);_context8.prev=25;_iterator4.s();case 27:if((_step4=_iterator4.n()).done){_context8.next=41;break;}_businessTransformation=_step4.value;if(!(_businessTransformation.id==businessRuleId)){_context8.next=39;break;}_i2=0,_Object$keys=Object.keys(_businessTransformation);case 31:if(!(_i2<_Object$keys.length)){_context8.next=39;break;}_key=_Object$keys[_i2];if(!(_key==="id")){_context8.next=35;break;}return _context8.abrupt("continue",36);case 35:action[_key]=_businessTransformation[_key];case 36:_i2++;_context8.next=31;break;case 39:_context8.next=27;break;case 41:_context8.next=46;break;case 43:_context8.prev=43;_context8.t0=_context8["catch"](25);_iterator4.e(_context8.t0);case 46:_context8.prev=46;_iterator4.f();return _context8.finish(46);case 49:_context8.next=52;break;case 51:for(_key2 in variants[variantKey]){if(_key2!=="weight"&&_key2!=="businessRuleTransformations"){action[_key2]=variants[variantKey][_key2];}}case 52:return _context8.abrupt("break",55);case 53:_context8.next=15;break;case 55:_context8.next=60;break;case 57:_context8.prev=57;_context8.t1=_context8["catch"](13);_iterator3.e(_context8.t1);case 60:_context8.prev=60;_iterator3.f();return _context8.finish(60);case 63:_context8.next=5;break;case 65:_context8.next=70;break;case 67:_context8.prev=67;_context8.t2=_context8["catch"](3);_iterator.e(_context8.t2);case 70:_context8.prev=70;_iterator.f();return _context8.finish(70);case 73:return _context8.abrupt("return",[actions,variant]);case 74:case"end":return _context8.stop();}}},_callee8,null,[[3,67,70,73],[13,57,60,63],[25,43,46,49]]);}));return function prepareActions(_x2,_x3,_x4,_x5){return _ref8.apply(this,arguments);};}();var initiateSessionStorages=function initiateSessionStorages(){var POPUP_DISPLAY_FLAG=SESSION_STORAGE_KEYS.POPUP_DISPLAY_FLAG,SESSION_TIMESTAMP=SESSION_STORAGE_KEYS.SESSION_TIMESTAMP,SESSION_HISTORY=SESSION_STORAGE_KEYS.SESSION_HISTORY;var popupDisplayFlag=sessionStorage.getItem(POPUP_DISPLAY_FLAG);var sessionTimestamp=sessionStorage.getItem(SESSION_TIMESTAMP);var sessionHistory=sessionStorage.getItem(SESSION_HISTORY);if(popupDisplayFlag===null){sessionStorage.setItem(POPUP_DISPLAY_FLAG,0);}if(!sessionTimestamp){sessionStorage.setItem(SESSION_TIMESTAMP,Date.now());}if(!sessionHistory){sessionStorage.setItem(SESSION_HISTORY,[window.location.pathname]);}else{sessionStorage.setItem(SESSION_HISTORY,[window.location.pathname,sessionHistory]);}};var conditionChecker=function conditionChecker(runTimeValue,condition,value){if(condition==="notExist"){if(!runTimeValue){logger.success("conditionChecker: -satisfied- target does not exist");return true;}logger.failed("conditionChecker: -not satisfied- target does exist");return false;}if(runTimeValue===null||runTimeValue===undefined||condition===null||condition===undefined){logger.failed("conditionChecker: runTimeValue or condition is not defined");return false;}switch(condition){case"exist":if(runTimeValue){logger.success("conditionChecker: -satisfied- target does exist");return true;}logger.failed("conditionChecker: -not satisfied- target does not exist");return false;case"includes":case"contains":if(runTimeValue.includes(value)){logger.success("conditionChecker: -satisfied- target contains value");return true;}logger.failed("conditionChecker: -not satisfied- target does not contain value");return false;case"notIncludes":case"notContains":if(!runTimeValue.includes(value)){logger.success("conditionChecker: -satisfied- target does not contain value");return true;}logger.failed("conditionChecker: -not satisfied- target contains value");return false;case"equal":if(runTimeValue===value){logger.success("conditionChecker: -satisfied- target equals value");return true;}logger.failed("conditionChecker: -not satisfied- target does not equal value");return false;case"notEqual":if(runTimeValue!==value){logger.success("conditionChecker: -satisfied- target does not equal value");return true;}logger.failed("conditionChecker: -not satisfied- target equals value");return false;case"greaterThan":if(runTimeValue>value){logger.success("conditionChecker: -satisfied- target is greater than value");return true;}logger.failed("conditionChecker: -not satisfied- target is not greater than value");return false;case"lessThan":if(runTimeValue<value){logger.success("conditionChecker: -satisfied- target is less than value");return true;}logger.failed("conditionChecker: -not satisfied- target is not less than value");return false;case"greaterEquals":if(runTimeValue>=value){logger.success("conditionChecker: -satisfied- target is greater or equal than value");return true;}logger.failed("conditionChecker: -not satisfied- target is not greater or equal than value");return false;case"lessEquals":if(runTimeValue<=value){logger.success("conditionChecker: -satisfied- target is less or equal than value");return true;}logger.failed("conditionChecker: -not satisfied- target is not less or equal than value");return false;case"between":{var _value$split=value.split(","),_value$split2=_slicedToArray(_value$split,2),min=_value$split2[0],max=_value$split2[1];min=parseInt(min);max=parseInt(max);if(runTimeValue>=min&&runTimeValue<=max){logger.success("conditionChecker: -satisfied- target is between min and max");return true;}logger.failed("conditionChecker: -not satisfied- target is not between min and max");return false;}case"regex":{var regex=new RegExp(value,"i");return regex.test(runTimeValue);}default:logger.failed("conditionChecker: condition is not defined ",condition);return false;}};var getDebugMode=function getDebugMode(oosReason){var DEBUG_MODE=LOCAL_STORAGE_KEYS.DEBUG_MODE,OUT_OF_SCOPE=LOCAL_STORAGE_KEYS.OUT_OF_SCOPE;var queryString=window.location.search;if(queryString.includes("nd_debug=")){window.localStorage.setItem(OUT_OF_SCOPE,oosReason);}if(queryString.includes("nd_debug=1")){window.localStorage.setItem(DEBUG_MODE,1);addToBeagleInfoLayer("dbm","on");return 1;}if(queryString.includes("nd_debug=2")){window.localStorage.setItem(DEBUG_MODE,2);addToBeagleInfoLayer("dbm","on");return 2;}if(queryString.includes("nd_debug=0")){window.localStorage.removeItem(DEBUG_MODE);addToBeagleInfoLayer("dbm","off");return 0;}var current=parseInt(window.localStorage.getItem(DEBUG_MODE));addToBeagleInfoLayer("dbm",current?"on":"off");return current||0;};// get GA client id using ga.getAll()
var getGaClientId=function getGaClientId(){var ga=window.ga;// if ga and ga.getAll() is not defined, return null
if(ga&&ga.getAll){var trackers=ga.getAll();if(trackers&&trackers.length){return trackers[0].get("clientId");}}return null;};// get deterministic numeric hash from string that conatins only numbers
var getUnsecureHash=function getUnsecureHash(str){var hash=0;if(str.length===0){return null;}for(var i=0;i<str.length;i++){var char=str.charCodeAt(i);hash=(hash<<5)-hash+char;hash=hash&hash;}// return absolute value
return Math.abs(hash);};// generate a 32-bit random integer
var getRandomInt=function getRandomInt(){return Math.floor(Math.random()*0x100000000);};// get current unix epoch time in seconds
var getUnixTime=function getUnixTime(){return Math.floor(Date.now()/1000);};var getIdentifier=function getIdentifier(){return new Promise(function(resolve){try{var id=window.localStorage.getItem(LOCAL_STORAGE_KEYS.USER_ID);if(id!==null&&id!==undefined){logger.log("getIdentifier: got identifier from local storage",id);resolve(id);return;}id=getGaClientId();if(id!==null&&id!==undefined){logger.log("getIdentifier: got identifier from ga in first attempt",id);window.localStorage.setItem(LOCAL_STORAGE_KEYS.USER_ID,id);resolve(id);return;}else{var extractIdentifierInterval=setInterval(function(){id=getGaClientId();if(id!==null&&id!==undefined){logger.log("getIdentifier: got identifier from ga",id);clearInterval(extractIdentifierInterval);window.localStorage.setItem(LOCAL_STORAGE_KEYS.USER_ID,id);resolve(id);}},10);setTimeout(function(){clearInterval(extractIdentifierInterval);if(id===null||id===undefined){logger.failed("Could not read GA client id");resolve(null);}},2000);}}catch(e){logger.failed("Error in getIdentifier",e);resolve(null);}});};var delay=function delay(ms){return new Promise(function(res){return setTimeout(res,ms);});};var formatDeliveryDate=function formatDeliveryDate(date){if(!date||typeof date!=="string")return date;var result={startMonthIndex:undefined,endMonthIndex:undefined,startDay:undefined,endDay:undefined};var match=date.match("([\\d]+)-([\\d]+)\\s?([\\wıüğşöçİÖÇĞÜŞ]+)");if(match&&match.length===4){result.startDay=parseInt(match[1]);result.endDay=parseInt(match[2]);result.startMonthIndex=months[match[3].toLowerCase()];result.endMonthIndex=result.startMonthIndex;}else{match=date.match("([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜŞ]+)-([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜŞ]+)");if(!match||match.length!==5)return date;result.startDay=parseInt(match[1]);result.startMonthIndex=months[match[2].toLowerCase()];result.endDay=parseInt(match[3]);result.endMonthIndex=months[match[4].toLowerCase()];}try{var today=new Date();if(!result.startMonthIndex||!result.endMonthIndex)return date;var startYear=result.startMonthIndex>=today.getMonth()?today.getFullYear():today.getFullYear()+1;var endYear=result.endMonthIndex>=today.getMonth()?today.getFullYear():today.getFullYear()+1;var estimatedStart=new Date(startYear,result.startMonthIndex,result.startDay);var estimatedEnd=new Date(endYear,result.endMonthIndex,result.endDay);var startDiffOverDays=Math.ceil(Math.abs(estimatedStart-today)/(1000*60*60*24));var endDiffOverDays=Math.ceil(Math.abs(estimatedEnd-today)/(1000*60*60*24));var startDiffOverWeeks=startDiffOverDays<7?0:Math.ceil(startDiffOverDays/7);var endDiffOverWeeks=endDiffOverDays<7?0:Math.ceil(endDiffOverDays/7);if(startDiffOverWeeks===0&&endDiffOverWeeks===0){return"".concat(startDiffOverDays," - ").concat(endDiffOverDays," G\xFCn");}if(startDiffOverWeeks===0&&endDiffOverWeeks>=1){return"".concat(startDiffOverDays," G\xFCn - ").concat(endDiffOverWeeks," Hafta");}if(startDiffOverWeeks===endDiffOverWeeks){return"".concat(startDiffOverWeeks," Hafta");}return"".concat(startDiffOverWeeks," - ").concat(endDiffOverWeeks," Hafta");}catch(err){return date;}};var idleTimer=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee9(timeOut,callBack){var idleTimeout,resetTimer;return regenerator_default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:resetTimer=function _resetTimer(){clearTimeout(idleTimeout);idleTimeout=setTimeout(callBack,timeOut);};idleTimeout=setTimeout(callBack,timeOut);window.top.document.ontouchstart=resetTimer;case 3:case"end":return _context9.stop();}}},_callee9);}));return function idleTimer(_x6,_x7){return _ref9.apply(this,arguments);};}();var getBrowserType=function getBrowserType(){var userAgent=navigator.userAgent;if(userAgent.match(/chrome|chromium|crios/i)){return"chrome";}if(userAgent.match(/firefox|fxios/i)){return"firefox";}if(userAgent.match(/safari/i)){return"safari";}if(userAgent.match(/opr\//i)){return"opera";}if(userAgent.match(/edg/i)){return"edge";}return null;};var isOwnMutation=function isOwnMutation(mutationList){var nodes=[].concat(_toConsumableArray(Array.from(mutationList[0].addedNodes)),_toConsumableArray(Array.from(mutationList[0].removedNodes)));return nodes.some(function(n){var _n$id;return n.tagName&&(((_n$id=n.id)===null||_n$id===void 0?void 0:_n$id.includes("bn-"))||Array.from(n.classList).some(function(c){return c.includes("bn-")||c.includes("nd-");}));});};;// CONCATENATED MODULE: ./src/BeagleDataCollection/store.config.js
var config={dbName:"beagle",version:1,maintenanceOperationCount:1000,// affects version
store:{name:"data",indexes:[{name:"ix_dataName",fields:["data_name"]},{name:"ix_dataName_session",fields:["data_name","session_id"]},{name:"ix_dataName_dataValue",fields:["data_name","data_value"]},{name:"ix_dataName_dataValue_session",fields:["data_name","data_value","session_id"]}],options:{keyPath:"id",autoIncrement:true}}};/* harmony default export */var store_config=config;;// CONCATENATED MODULE: ./src/BeagleDataCollection/api.js
function api_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=api_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function api_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return api_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return api_arrayLikeToArray(o,minLen);}function api_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var api_logger=new src_logger("BeagleDataCollectionWrapper");var _window={alltime:"alltime",session:"session"};var BeagleDataCollectionWrapper=/*#__PURE__*/function(){function BeagleDataCollectionWrapper(){_classCallCheck(this,BeagleDataCollectionWrapper);this.indexedDB=null;try{this.init();}catch(err){api_logger.failed("Failed to initialized db with: ",err.message);}}_createClass(BeagleDataCollectionWrapper,[{key:"init",value:function init(){var _window$top$indexedDB,_this=this;api_logger.log("Initializing indexedDB");// TODO, uncomment next line once existing stale dbs are purged
// const openRequest = window.top.indexedDB?.open(config.dbName, config.version);
var openRequest=(_window$top$indexedDB=window.top.indexedDB)===null||_window$top$indexedDB===void 0?void 0:_window$top$indexedDB.open(store_config.dbName);if(!openRequest){throw new Error("indexeddb is not supported");}openRequest.onupgradeneeded=function(event){switch(event.oldVersion){case 0:break;default:// TODO upgrade existing db instead of delete and create from scratch
try{openRequest.result.deleteObjectStore(store_config.store.name);}catch(err){api_logger.failed("Could not delete outdated database",err.message);}break;}try{var _config$store$indexes;var store=openRequest.result.createObjectStore(store_config.store.name,store_config.store.options);if(((_config$store$indexes=store_config.store.indexes)===null||_config$store$indexes===void 0?void 0:_config$store$indexes.length)>0){var _iterator=api_createForOfIteratorHelper(store_config.store.indexes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var idx=_step.value;store.createIndex(idx.name,idx.fields);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}}catch(err){api_logger.failed("Could not create object store on database",err.message);}};openRequest.onerror=function(){throw new Error("Error initializing beagle indexed DB",openRequest.error);};openRequest.onsuccess=function(){var db=openRequest.result;if(db.version!==1){// TODO, remove delete request once existing stale dbs are purged
var deleteRequest=window.indexedDB.deleteDatabase(store_config.dbName);deleteRequest.onsuccess=function(){_this.init();};}else _this.indexedDB=db;};}},{key:"getConnection",value:function getConnection(){var _this2=this;return new Promise(function(resolve,reject){var interval=setInterval(function(){if(_this2.indexedDB){clearInterval(interval);resolve();}},25);setTimeout(function(){if(!_this2.indexedDB){clearInterval(interval);reject(new Error("IndexedDB not initialized within the allotted time"));}},1000);});}},{key:"initTransaction",value:function(){var _initTransaction=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var readwrite,tx,store,_args=arguments;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:readwrite=_args.length>0&&_args[0]!==undefined?_args[0]:false;_context.next=3;return this.getConnection();case 3:tx=this.indexedDB.transaction(store_config.store.name,readwrite?"readwrite":"readonly");store=tx.objectStore(store_config.store.name);return _context.abrupt("return",store);case 6:case"end":return _context.stop();}}},_callee,this);}));function initTransaction(){return _initTransaction.apply(this,arguments);}return initTransaction;}()},{key:"save",value:function(){var _save=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(dataName,dataValue){var store,sessionId,time,payload;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.initTransaction(true);case 2:store=_context2.sent;sessionId=this.getCurrentSessionId();// date current -2 saat  yil-ay-gun
time=Math.round(Date.now()/1000);payload={"data_name":dataName,"data_value":dataValue,"session_id":sessionId,time:time};store.put(payload);case 7:case"end":return _context2.stop();}}},_callee2,this);}));function save(_x,_x2){return _save.apply(this,arguments);}return save;}()},{key:"minmax",value:function minmax(dataName,op){var _this3=this;var window=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_window.alltime;return new Promise(function(resolve){_this3.initTransaction().then(function(store){var stored=undefined;_this3.getCursor(store,dataName,window).onsuccess=function(event){var cursor=event.target.result;if(cursor){var value=cursor.value;if("data_value"in value){if(stored===undefined||op==="min"&&value["data_value"]<stored||op==="max"&&value["data_value"]>stored){stored=value["data_value"];}}else{console.warn("key not found in cursor values "+dataName);}cursor.continue();}else{resolve(stored);}};});});}},{key:"min",value:function min(dataName){var window=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_window.alltime;return this.minmax(dataName,"min",window);}},{key:"max",value:function max(dataName){var window=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_window.alltime;return this.minmax(dataName,"max",window);}},{key:"groupBy",value:function groupBy(dataName){var _this4=this;var window=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_window.alltime;return new Promise(function(resolve){_this4.initTransaction().then(function(store){var map=new Map();_this4.getCursor(store,dataName,window).onsuccess=function(event){var cursor=event.target.result;if(cursor){var value=cursor.value;if("data_value"in value){if(!map.has(value["data_value"]))map.set(value["data_value"],0);map.set(value["data_value"],map.get(value["data_value"])+1);}else{console.warn("key not found in cursor values "+dataName);}cursor.continue();}else{resolve(map);}};});});}},{key:"mode",value:function(){var _mode=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(dataName){var window,data,max,_iterator2,_step2,_step2$value,key,value,_args3=arguments;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:window=_args3.length>1&&_args3[1]!==undefined?_args3[1]:_window.alltime;_context3.next=3;return this.groupBy(dataName,window);case 3:data=_context3.sent;if(!(data.keys().length===0)){_context3.next=6;break;}return _context3.abrupt("return",null);case 6:max={name:undefined,value:-1};_iterator2=api_createForOfIteratorHelper(data);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_step2$value=_slicedToArray(_step2.value,2),key=_step2$value[0],value=_step2$value[1];if(max.value<value){max.name=key;max.value=value;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return _context3.abrupt("return",max);case 10:case"end":return _context3.stop();}}},_callee3,this);}));function mode(_x3){return _mode.apply(this,arguments);}return mode;}()},{key:"count",value:function count(dataName){var _this5=this;var window=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_window.alltime;return new Promise(function(resolve){_this5.initTransaction().then(function(store){var count=0;_this5.getCursor(store,dataName,window).onsuccess=function(event){var cursor=event.target.result;if(cursor){count++;cursor.continue();}else{resolve(count);}};});});}},{key:"sum",value:function sum(dataName){var _this6=this;var window=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"alltime";return new Promise(function(resolve){_this6.initTransaction().then(function(store){var total=0.00;_this6.getCursor(store,dataName,window).onsuccess=function(event){var cursor=event.target.result;if(cursor){var value=cursor.value;if("data_value"in value){total+=parseFloat(value["data_value"]);}else{console.warn("key not found in cursor values "+dataName);}cursor.continue();}else{resolve(total.toFixed(2));}};});});}},{key:"getCursor",value:function getCursor(store,dataName){var window=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_window.alltime;var dataValue=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;if(dataValue){if(window===_window.session){return store.index("ix_dataName_dataValue_session").openCursor(IDBKeyRange.only([dataName,dataValue,this.getCurrentSessionId().toString()]));}return store.index("ix_dataName_dataValue").openCursor(IDBKeyRange.only([dataName,dataValue]));}if(window===_window.session){return store.index("ix_dataName_session").openCursor(IDBKeyRange.only([dataName,this.getCurrentSessionId().toString()]));}var indexValue=getBrowserType()==="safari"?dataName:[dataName];return store.index("ix_dataName").openCursor(IDBKeyRange.only(indexValue));}},{key:"avg",value:function(){var _avg=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(dataName){var window,total,count,_args4=arguments;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:window=_args4.length>1&&_args4[1]!==undefined?_args4[1]:_window.alltime;_context4.next=3;return this.sum(dataName,window);case 3:total=_context4.sent;_context4.next=6;return this.count(dataName,window);case 6:count=_context4.sent;if(!(!total||!count)){_context4.next=9;break;}return _context4.abrupt("return",0);case 9:return _context4.abrupt("return",(total/count).toFixed(2));case 10:case"end":return _context4.stop();}}},_callee4,this);}));function avg(_x4){return _avg.apply(this,arguments);}return avg;}()},{key:"last",value:function(){var _last=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(dataName){var _this7=this;var size,window,_args5=arguments;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:size=_args5.length>1&&_args5[1]!==undefined?_args5[1]:1;window=_args5.length>2&&_args5[2]!==undefined?_args5[2]:_window.alltime;return _context5.abrupt("return",new Promise(function(resolve){_this7.initTransaction().then(function(store){var cursor=store.index("ix_dataName").openCursor([dataName],"prev");if(window===_window.session){cursor=store.index("ix_dataName_session").openCursor([dataName,_this7.getCurrentSessionId()],"prev");}var index=0;var values=[];cursor.onsuccess=function(event){var result=event.target.result;if(result&&index<size){index++;values.push(result.value);result.continue();}else{resolve(values);}};});}));case 3:case"end":return _context5.stop();}}},_callee5);}));function last(_x5){return _last.apply(this,arguments);}return last;}()},{key:"getCurrentSessionId",value:function getCurrentSessionId(){var d=new Date();d.setHours(d.getHours()-2);return d.getFullYear()+"-"+(d.getMonth()+1).toString().padStart(2,"0")+"-"+d.getDate().toString().padStart(2,"0");}}]);return BeagleDataCollectionWrapper;}();;// CONCATENATED MODULE: ./src/BeagleDataCollection/index.js
function BeagleDataCollection_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=BeagleDataCollection_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function BeagleDataCollection_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return BeagleDataCollection_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BeagleDataCollection_arrayLikeToArray(o,minLen);}function BeagleDataCollection_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/* eslint-disable max-len */var BeagleDataCollection_logger=new src_logger("BeagleDataCollection");var collectorApi=new BeagleDataCollectionWrapper();// keep a table in indexdb the format [session_id, data_name, data_value, stored_value]
var queryInCollector=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(baseFeatureName,queryMethod,window){var queryPromise,_queryPromise,_queryPromise2,data,count,_iterator,_step,_step$value,value,_data,match,_queryPromise3,dataValues;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:BeagleDataCollection_logger.log("queryInCollector",baseFeatureName,queryMethod,window);if(collectorApi){_context.next=4;break;}BeagleDataCollection_logger.failed("IndexedDB no supported/Initialized");return _context.abrupt("return",null);case 4:if(!(queryMethod==="min")){_context.next=11;break;}_context.next=7;return collectorApi.min(baseFeatureName,window);case 7:queryPromise=_context.sent;return _context.abrupt("return",queryPromise);case 11:if(!(queryMethod==="max")){_context.next=18;break;}_context.next=14;return collectorApi.max(baseFeatureName,window);case 14:_queryPromise=_context.sent;return _context.abrupt("return",_queryPromise);case 18:if(!(queryMethod==="avg")){_context.next=25;break;}_context.next=21;return collectorApi.avg(baseFeatureName,window);case 21:_queryPromise2=_context.sent;return _context.abrupt("return",_queryPromise2);case 25:if(!(queryMethod==="cd")){_context.next=31;break;}_context.next=28;return collectorApi.groupBy(baseFeatureName,window);case 28:return _context.abrupt("return",_context.sent.size);case 31:if(!(queryMethod==="cv")){_context.next=39;break;}_context.next=34;return collectorApi.groupBy(baseFeatureName,window);case 34:data=_context.sent;count=0;_iterator=BeagleDataCollection_createForOfIteratorHelper(data);try{for(_iterator.s();!(_step=_iterator.n()).done;){_step$value=_slicedToArray(_step.value,2),value=_step$value[1];count+=value;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return _context.abrupt("return",count);case 39:if(!(queryMethod==="mode")){_context.next=46;break;}_context.next=42;return collectorApi.mode(baseFeatureName,window);case 42:_data=_context.sent;if(_data){_context.next=45;break;}return _context.abrupt("return",null);case 45:return _context.abrupt("return",_data.name);case 46:if(!(queryMethod.indexOf("last")>=0)){_context.next=55;break;}match=queryMethod.match("last\\(([\\d]+)\\)");if(!(!match||!match.length===2||parseInt(match[1])<1)){_context.next=50;break;}return _context.abrupt("return",null);case 50:_context.next=52;return collectorApi.last(baseFeatureName,match[1],window);case 52:_queryPromise3=_context.sent;dataValues=_queryPromise3.map(function(obj){return obj.data_value;});return _context.abrupt("return",dataValues);case 55:/**
              {"Listingpage" => 21}
              {"Homepage" => 12}
              -- example will have:
              mode: Listingpage
              cd: 2
              cv: 21+12
              last(3) (n, n-1, n-2)
            */ // 1000lik temizlenecek (maintOpCount -> version)
// queryMethod can be "mode", "cd" (count distint) for string/categorical data types
// queryMethod can be "cv" (sum of count values), "current", or "prev" for any data type (stored via last)
BeagleDataCollection_logger.failed("unknown queryMethod=".concat(queryMethod," in BeagleDataCollection"));return _context.abrupt("return",null);case 57:case"end":return _context.stop();}}},_callee);}));return function queryInCollector(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var updateInCollector=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(baseFeatureName,baseFeatureValue,updateMethod){return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:BeagleDataCollection_logger.log("updateInCollector",baseFeatureName,baseFeatureValue,updateMethod);if(collectorApi){_context2.next=4;break;}BeagleDataCollection_logger.failed("IndexedDB no supported/Initialized");return _context2.abrupt("return",null);case 4:_context2.next=6;return collectorApi.save(baseFeatureName,baseFeatureValue);case 6:case"end":return _context2.stop();}}},_callee2);}));return function updateInCollector(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();;// CONCATENATED MODULE: ./src/BeagleInfoLayer/index.js
function BeagleInfoLayer_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=BeagleInfoLayer_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function BeagleInfoLayer_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return BeagleInfoLayer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BeagleInfoLayer_arrayLikeToArray(o,minLen);}function BeagleInfoLayer_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/* eslint-disable max-len */window.beagleInfoLayer=window.beagleInfoLayer||{a:{},e:{},f:{},__hwm:0};var BeagleInfoLayer_logger=new src_logger("BeagleInfoLayer");// TODO: convert to name --> array of selectors
var searchPaths=[// ----------------------------------------------------------------------------------------------------------------------------------------------
// GA Data Layer Queries
{PageTypeDepend:"*",method:"GADataLayer",selector:"PageType",name:"PageType"},{PageTypeDepend:"*",method:"GADataLayer",selector:"isAdmin",name:"vvsIsShowroom"},{PageTypeDepend:"*",method:"GADataLayer",selector:"userId",name:"vvsUserId"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_name",name:"pdp.name"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"productgroup",name:"pdp.group"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivense_category",name:"pdp.class"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_ids",name:"pdp.sku",formatter:"upperCaseTR"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"ProductID",name:"pdp.sku"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_category",name:"pdp.category"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"ecommerce.detail.actionField.list",name:"pdp.listalias"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.sku",name:"pdp.sku",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.category",name:"pdp.category",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.discountRate",name:"pdp.discountRate",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.fastDelivery",name:"pdp.fastDelivery",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.isInShowroom",name:"pdp.isInShowroom",formatter:"dearray"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"search_success",name:"plp.searchSuccess",exclusive:["plp.id","plp.approximateCount","plp.name","plp.group","plp.class"]},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"content_ids",name:"plp.id",exclusive:["plp.searchSuccess"]},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"category_product_count",name:"plp.approximateCount",exclusive:["plp.searchSuccess"]},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"content_name",name:"plp.name",exclusive:["plp.searchSuccess"]},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"productgroup",name:"plp.group",exclusive:["plp.searchSuccess"]},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"vivense_category",name:"plp.class",exclusive:["plp.searchSuccess"]},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.id",name:"purchase.skus"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.price",name:"purchase.prices"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.quantity",name:"purchase.quantities"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.category",name:"purchase.categories"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.id",name:"purchase.orderId"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.revenue",name:"purchase.revenue"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.dimension15",name:"purchase.paymentType"},// ----------------------------------------------------------------------------------------------------------------------------------------------
// Document Queries
{PageTypeDepend:"*",method:"DocQuery",selector:"[class*=\"page_preview_wrapper_production\"]",name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Homepage"},{PageTypeDepend:"*",method:"DocQuery",selector:"[class*=\"category_page_wrapper\"]",name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Listingpage"},{PageTypeDepend:"*",method:"DocQuery",selector:"[class*=\"product-main-details\"]",name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Productpage"},{PageTypeDepend:"*",method:"DocQuery",selector:"[class*=\"product\"]",name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Productpage"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:"[class*=\"welcome_username\"]",name:"view.isLoggedIn",operand:"docQueryHasInnerText"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:"[class*=\"empty_basket_text\"]",name:"cart.isempty",operand:"docQueryHasInnerText",exclusive:["cart.totalBasePrice","cart.skucount","cart.couponNotApplicable"]},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:"body > .desktop_layout_wrapper .not-allowed-coupon",name:"cart.couponNotApplicable",operand:"docQuerySumNumInnerText",exclusive:["cart.isempty"]},// Note that sequential search will mark copuonNotApplicable as found
{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:"[class*=\"basket_total_price\"]",name:"cart.totalBasePrice",operand:"docQueryInnerText",exclusive:["cart.isempty","cart.couponNotApplicable"],formatter:"numericOnly"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:"[id*=\"cart_quantity\"], [class*=\"basket_length\"]",name:"cart.skucount",operand:"docQueryInnerText",exclusive:["cart.isempty"]},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"[class*=\"delivery-date\"]",name:"pdp.deliveryDate",operand:"docQueryInnerText"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"[class*=\"delivery-date\"]",name:"pdp.deliveryDateFormatted",operand:"docQueryInnerText",formatter:"formatDeliveryDate"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"[class*=\"product-title\"], [class*=\"header-bottom\"]",name:"pdp.name",operand:"docQueryInnerText"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"[class*=\"vivense-showrooms\"] > *",name:"pdp.showroomcount",operand:"docQueryCountElts",exclusive:["pdp.hasNoShowrooms"]},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"#vivense-showroom-tab p:not(.vivense-showrooms)",name:"pdp.hasNoShowrooms",operand:"docQueryHasInnerText",exclusive:["pdp.showroomcount"]},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"span.price",name:"pdp.price",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"#sales-price",name:"pdp.price",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"div.product-price-box",name:"__priceObserver",children:["pdp.price"],operand:"docQueryObserve"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"#mobile-product-sticky",name:"__priceObserver",children:["pdp.price"],operand:"docQueryObserve"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:"[class*=\"count-of-product\"]",name:"plp.itemCount",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:"[class*=\"subcategories-title\"]",name:"plp.name",operand:"docQueryInnerText"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:".product-card[data-product-sku]",name:"__features.SKUsonPage",operand:"docQueryAttribValueList",value:"data-product-sku"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:".product-list",name:"__listingItemBlockObserver",children:["__features.SKUsonPage"],operand:"docQueryObserve"},{PageTypeDepend:"basket",method:"DocQuery",selector:".empty-cart-container, .empty-cart",name:"cart.isempty",operand:"docQueryHasInnerText",exclusive:["cart.skucount","cart.totalPrice","cart.totalPriceFinal","cart.couponNotApplicable","cart.skus","cart.prices","cart.quantities","cart.categories","__checkoutFormObserver"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".bracket-text, .product-count",name:"cart.skucount",operand:"docQueryInnerText",exclusive:["cart.isempty"],formatter:"numericOnly"},{PageTypeDepend:"basket",method:"DocQuery",selector:".cartItemQuantity",name:"cart.quantities",operand:"docQueryAttribValueList",value:"data-previous",exclusive:["cart.isempty"]},{PageTypeDepend:"basket",method:"DocQuery",selector:"#bill_total",name:"cart.totalPrice",operand:"docQueryInnerText",exclusive:["cart.isempty"],formatter:"numericOnly"},{PageTypeDepend:"basket",method:"DocQuery",selector:"[class*=\"order-final-number\"]",name:"cart.totalPriceFinal",operand:"docQueryInnerText",exclusive:["cart.isempty"],formatter:"numericOnly"},{PageTypeDepend:"basket",method:"DocQuery",selector:"[class*=\"cart-price\"] .not-allowed-coupon",name:"cart.couponNotApplicable",operand:"docQuerySumNumInnerText",exclusive:["cart.isempty"]},// Note that sequential search will mark couponApplicable as found
{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.skus",operand:"docQueryAttribValueList",value:"data-sku",exclusive:["cart.isempty","cart.couponNotApplicable"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.categories",operand:"docQueryAttribValueList",value:"data-last-breadcrumb",exclusive:["cart.isempty","cart.couponNotApplicable"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.prices",operand:"docQueryAttribValueList",value:"data-price",exclusive:["cart.isempty","cart.couponNotApplicable"]},// Desktop observer for the right panel, as it is the one changing
{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-right-container",name:"__checkoutFormObserver",children:["cart.skucount","cart.totalPrice","cart.totalPriceFinal","cart.couponNotApplicable","cart.skus","cart.prices","cart.quantities","cart.categories","cart.isempty","cart.couponApplicableAmount"],operand:"docQueryObserve"},// Mobile observer for the full form block as it is completely replaced
{PageTypeDepend:"basket",method:"DocQuery",selector:"#checkoutForm",name:"__checkoutFormObserver",children:["cart.skucount","cart.totalPrice","cart.totalPriceFinal","cart.couponNotApplicable","cart.skus","cart.prices","cart.quantities","cart.categories","cart.isempty","cart.couponApplicableAmount"],operand:"docQueryObserve"},{PageTypeDepend:"purchase",method:"DocQuery",selector:"[class*=\"basket_summary_total\"], [class*=\"total_row\"]",name:"purchase.revenue",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"purchase",method:"DocQuery",selector:"[class*=\"order_follow_numb\"], [class*=\"cart-title-bottom\"]",name:"purchase.vvsTxnId",operand:"docQueryInnerText"},{PageTypeDepend:"purchase",method:"DocQuery",selector:".payment_type_title, .cart-title-info",name:"purchase.paymentType",operand:"docQueryInnerText",formatter:"lowerCaseTRFirstWord"},{PageTypeDepend:"purchase",method:"DocQuery",selector:"[class*=\"product_sku_code\"]",name:"purchase.skus",operand:"docQueryArrayInnerText"},{PageTypeDepend:"purchase",method:"DocQuery",selector:".cart-inside",name:"purchase.skus",operand:"docQueryAttribValueList",value:"data-sku"},// ----------------------------------------------------------------------------------------------------------------------------------------------
// SORG Elements
{PageTypeDepend:"Productpage",method:"DocSorg",selector:"sku",name:"pdp.sku"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"mpn",name:"pdp.mpn"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"name",name:"pdp.name",operand:"JSONFilterOther",value:"@type=Product"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"offers.priceValidUntil",name:"pdp.priceValidUntil"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"itemListElement.*.name",name:"view.breadcrumb"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"mainEntity.name",name:"plp.name"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"mainEntity.numberOfItems",name:"plp.itemCount"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"breadcrumb.itemListElement.*.item.name",name:"view.breadcrumb"},// ----------------------------------------------------------------------------------------------------------------------------------------------
// Window custom elements
{PageTypeDepend:"*",method:"SingleWT",selector:"favoriteProducts",name:"view.favoritedMPNs"},{PageTypeDepend:"*",method:"SingleWT",selector:"isAdmin",name:"vvsIsShowroom",formatter:"toString"},{PageTypeDepend:"*",method:"SingleWT",selector:"userId",name:"vvsUserId"}];var featureEngineeringOps={"view_epoch":[{updateMethod:"min"},{queryMethod:"min",window:"session",featureName:"history.view_epoch_min"}],"PageType":[{updateMethod:"count_values"},{queryMethod:"cv",window:"session",featureName:"history.PageType_count_session"},{queryMethod:"cv",window:"alltime",featureName:"history.PageType_count_alltime"}],"cart.couponApplicableAmount":[{updateMethod:"last"},{queryMethod:"last(1)",window:"session",featureName:"__features.lastCartCouponApplicable"}],"pdp.category":[{updateMethod:"count_values"},{updateMethod:"last"},{queryMethod:"mode",window:"session",featureName:"history.pdp_category_mode_session"},{queryMethod:"last(1)",window:"session",featureName:"history.pdp_category_last_session"}],"cart.skus":[{updateMethod:"last"},{queryMethod:"last(1)",window:"session",featureName:"__features.SKUsonLastCartView"}]};var increaseBeagleInfoLayerHWM=function increaseBeagleInfoLayerHWM(){var infoLayer=window.top.beagleInfoLayer;// update hwm to indicate change
infoLayer.__hwm+=1;};var addToBeagleInfoLayer=function addToBeagleInfoLayer(key,value){var infoLayer=window.top.beagleInfoLayer;if(key===null||key===undefined)return;// if value is string, add as a clean string, if object add the same
var typedValue=typeof value==="string"?value.toString().trim():value;// if key contains . create nested object
if(key.indexOf(".")>-1){var keys=key.split(".");var lastKey=keys.pop();var obj=infoLayer;keys.forEach(function(key){if(!obj[key])obj[key]={};obj=obj[key];});obj[lastKey]=typedValue;}else{infoLayer[key]=typedValue;}// update hwm to indicate change
increaseBeagleInfoLayerHWM();// process dependent historical data for scan-found elements
if(typedValue!==undefined&&typedValue!==null){updateDerivationsInCollector(key,typedValue);passValueToListeners(key,typedValue);}};var DATA_LISTENERS={};var addDataListener=function addDataListener(key,listener){if(!DATA_LISTENERS[key]){DATA_LISTENERS[key]=[];}DATA_LISTENERS[key].push(listener);};var passValueToListeners=function passValueToListeners(key,value){var listeners=DATA_LISTENERS[key];if(listeners&&Array.isArray(listeners)&&listeners.length>0){for(var i=0;i<listeners.length;i+=1){var listener=listeners[i];if(typeof listener==="function"){BeagleInfoLayer_logger.log("passValueToListeners --> value ".concat(value," to listener ").concat(i," of key ").concat(key));listener(value);}}}};var getFromBeagleInfoLayer=function getFromBeagleInfoLayer(key){var blocking=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var pollInterval=arguments.length>2&&arguments[2]!==undefined?arguments[2]:50;var timeout=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10000;// TODO: check featureEngineering and search list if all marked as found but value is missing
var infoLayer=window.top.beagleInfoLayer;// return null if key is missing or not an array or has no elements
if(!key)return null;var obtainData=jsonGet(infoLayer,key);if(obtainData!==null&&obtainData!==undefined){// found data for key
return Promise.resolve(obtainData);}var _iterator=BeagleInfoLayer_createForOfIteratorHelper(searchPaths),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var searchElement=_step.value;if(key===searchElement.name&&(searchElement.isFound||searchElement.isIgnore)){// data is missing but element is marked as found or ignored
return Promise.resolve(null);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(blocking){return new Promise(function(resolve){var interval=setInterval(function(){obtainData=jsonGet(infoLayer,key);if(obtainData!==null&&obtainData!==undefined){// found data for key, clear interval and resolve
clearInterval(interval);resolve(obtainData);}var _iterator2=BeagleInfoLayer_createForOfIteratorHelper(searchPaths),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var searchElement=_step2.value;if(key===searchElement.name&&(searchElement.isFound||searchElement.isIgnore)){// data is missing but element is marked as found or ignored
clearInterval(interval);resolve(null);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}},pollInterval);// add timeout
setTimeout(function(){clearInterval(interval);resolve(null);},timeout);// wait blocking for "timeout" msecs
});}return Promise.resolve(null);};var removeFromBeagleInfoLayer=function removeFromBeagleInfoLayer(key){var infoLayer=window.top.beagleInfoLayer;if(key===null||key===undefined)return;// remove key from infoLayer
if(key.indexOf(".")>-1){var keys=key.split(".");var lastKey=keys.pop();var obj=infoLayer;keys.forEach(function(key){if(!obj[key])return;obj=obj[key];});BeagleInfoLayer_logger.log("removeFromBeagleInfoLayer","Removing ".concat(lastKey," from ").concat(JSON.stringify(obj)));delete obj[lastKey];}else{delete infoLayer[key];}increaseBeagleInfoLayerHWM();// process dependent historical data for scan-found elements
updateDerivationsInCollector(key,null);passValueToListeners(key,null);};var addTreatment=function addTreatment(id,businessRuleId,variant,status){var dependant_on_treatment=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var value={};var infoLayer=window.top.beagleInfoLayer;if(businessRuleId!==null&&businessRuleId!==undefined)value.businessRuleId=businessRuleId;if(variant)value.variant=variant;switch(status){case"applied":infoLayer.a[id]=value;break;case"skipped":value.dependant_on_treatment=dependant_on_treatment;infoLayer.e[id]=value;break;case"failed":infoLayer.f[id]=value;break;}increaseBeagleInfoLayerHWM();};var PARSESEARCHMAXRETRY=10;var PARSESEARCHSTARTDELAY=10;var parseSearchPathsDelay=PARSESEARCHSTARTDELAY;var parseSearchPathsRetry=0;var initializeBeagleInfoLayer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Collect core data
prepareCoreData();// Trigger-start the parser loop
parserCaller();// Add metrics
addMetrics();case 3:case"end":return _context.stop();}}},_callee);}));return function initializeBeagleInfoLayer(){return _ref.apply(this,arguments);};}();var collectDerivationsFromCollector=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){var baseFeatureNames,_i,_baseFeatureNames,baseFeatureName,FEData,_iterator3,_step3,FEOp,queryResponse;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:baseFeatureNames=Object.keys(featureEngineeringOps);_i=0,_baseFeatureNames=baseFeatureNames;case 2:if(!(_i<_baseFeatureNames.length)){_context2.next=30;break;}baseFeatureName=_baseFeatureNames[_i];FEData=featureEngineeringOps[baseFeatureName];if(!(FEData&&Array.isArray(FEData)&&FEData.length>0)){_context2.next=27;break;}_iterator3=BeagleInfoLayer_createForOfIteratorHelper(FEData);_context2.prev=7;_iterator3.s();case 9:if((_step3=_iterator3.n()).done){_context2.next=19;break;}FEOp=_step3.value;if(!(FEOp.queryMethod===null||FEOp.queryMethod===undefined)){_context2.next=13;break;}return _context2.abrupt("continue",17);case 13:_context2.next=15;return queryInCollector(baseFeatureName,FEOp.queryMethod,FEOp.window);case 15:queryResponse=_context2.sent;addToBeagleInfoLayer(FEOp.featureName,queryResponse);case 17:_context2.next=9;break;case 19:_context2.next=24;break;case 21:_context2.prev=21;_context2.t0=_context2["catch"](7);_iterator3.e(_context2.t0);case 24:_context2.prev=24;_iterator3.f();return _context2.finish(24);case 27:_i++;_context2.next=2;break;case 30:case"end":return _context2.stop();}}},_callee2,null,[[7,21,24,27]]);}));return function collectDerivationsFromCollector(){return _ref2.apply(this,arguments);};}();var updateDerivationsInCollector=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(baseFeatureName,baseFeatureValue){var FEData,_iterator4,_step4,FEOp;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// process dependent historical data for scan-found elements
FEData=featureEngineeringOps[baseFeatureName];if(!(FEData&&Array.isArray(FEData)&&FEData.length>0)){_context3.next=21;break;}_iterator4=BeagleInfoLayer_createForOfIteratorHelper(FEData);_context3.prev=3;_iterator4.s();case 5:if((_step4=_iterator4.n()).done){_context3.next=13;break;}FEOp=_step4.value;if(!(FEOp.updateMethod===null||FEOp.updateMethod===undefined)){_context3.next=9;break;}return _context3.abrupt("continue",11);case 9:_context3.next=11;return updateInCollector(baseFeatureName,baseFeatureValue,FEOp.updateMethod);case 11:_context3.next=5;break;case 13:_context3.next=18;break;case 15:_context3.prev=15;_context3.t0=_context3["catch"](3);_iterator4.e(_context3.t0);case 18:_context3.prev=18;_iterator4.f();return _context3.finish(18);case 21:case"end":return _context3.stop();}}},_callee3,null,[[3,15,18,21]]);}));return function updateDerivationsInCollector(_x,_x2){return _ref3.apply(this,arguments);};}();var processFormatter=function processFormatter(value,formatter){if(value===null||value===undefined||!formatter){return null;}switch(formatter){case"upperCaseTR":return value.toString().toUpperCase("tr-TR");case"formatDeliveryDate":return formatDeliveryDate(value);case"numericOnly":return value.replace(/\D/g,"");case"lowerCaseTRFirstWord":return value.toString().toLowerCase("tr-TR").split(" ")[0];case"dearray":if(Array.isArray(value)&&value.length>0){return value[0];}return value;case"toString":return value.toString().trim();default:return value;}};var searchObj=function searchObj(obj,searchElement){var value;var layerValue;try{switch(searchElement.operand){case"JSONFilterOther":{value=jsonGet(obj,searchElement.selector);if(value===null||value===undefined){break;}var filterParams=searchElement.value.split("=");if(filterParams.length!==2)break;var filterName=filterParams[0];var filterValue=filterParams[1];if(!filterName||!filterValue)break;var filterMatch=jsonGet(obj,filterName);if(!filterMatch||filterMatch!==filterValue)break;if(value&&(Array.isArray(value)?value.length>0:value.toString().trim().length>0)){layerValue=value;}}break;case"docQueryObserve":value=obj.querySelector(searchElement.selector);if(value!==null&&value!==undefined){searchElement.isFound=true;// update found status of the elements in the children list
var toBeUpdated=[];searchElement.children.forEach(function(child){var childElements=searchPaths.filter(function(element){return element.name===child;});// add childElements into toBeUpdated
toBeUpdated.push.apply(toBeUpdated,_toConsumableArray(childElements));});// run only if the element has added or removed children
var observer=new MutationObserver(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(mutationList){var triggerRestart;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!isOwnMutation(mutationList)){_context4.next=2;break;}return _context4.abrupt("return");case 2:toBeUpdated.forEach(function(element){element.isFound=false;removeFromBeagleInfoLayer(element.name);});triggerRestart=parseSearchPathsRetry>=PARSESEARCHMAXRETRY;parseSearchPathsDelay=PARSESEARCHSTARTDELAY;parseSearchPathsRetry=0;if(triggerRestart){BeagleInfoLayer_logger.log("searchObj: triggered a restart of searchpaths due: ",searchElement.name);parserCaller();}case 7:case"end":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref4.apply(this,arguments);};}());observer.observe(value,{subtree:true,childList:true});}break;case"docQueryInnerText":value=obj.querySelector(searchElement.selector);if(value!==null&&value!==undefined&&value.innerText&&value.innerText.trim().length>0){layerValue=value.innerText;}break;case"docQueryAttribValueList":{var attribValueList=[];value=obj.querySelectorAll(searchElement.selector);if(value===null||value===undefined||value.length===0)break;var _iterator5=BeagleInfoLayer_createForOfIteratorHelper(value),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var valuechild=_step5.value;var attribValue=valuechild.getAttribute(searchElement.value);if(attribValue){attribValueList.push(attribValue);}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}if(attribValueList.length>0){layerValue=attribValueList;}}break;case"docQueryHasInnerText":value=obj.querySelector(searchElement.selector);if(value!==null&&value!==undefined){var setValue=value.innerText.trim().length>0;layerValue=setValue.toString();}break;case"docQueryCountElts":value=obj.querySelectorAll(searchElement.selector);if(value!==null&&value!==undefined){layerValue=value.length;}break;case"docQueryValueIfHasInnerText":value=obj.querySelector(searchElement.selector);if(value&&value.innerText&&value.innerText.trim().length>0){layerValue=searchElement.value;}break;case"docQuerySumNumInnerText":{value=obj.querySelectorAll(searchElement.selector);if(value===null||value===undefined||value.length===0)break;var sumPrice=0;var _iterator6=BeagleInfoLayer_createForOfIteratorHelper(value),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var child=_step6.value;var childText=child.innerText.trim().replace(/\D/g,"");if(childText.length>0){sumPrice+=parseInt(childText);}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}if(sumPrice>0){layerValue=sumPrice;}}break;case"docQueryArrayInnerText":{value=obj.querySelectorAll(searchElement.selector);if(value===null||value===undefined||value.length===0)break;var arrayInnerText=[];var _iterator7=BeagleInfoLayer_createForOfIteratorHelper(value),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _child=_step7.value;var _childText=_child.innerText.trim();if(_childText.length>0){arrayInnerText.push(_childText);}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}if(arrayInnerText.length>0){layerValue=arrayInnerText;}}break;default:value=jsonGet(obj,searchElement.selector);if(value!==null&&value!==undefined&&(Array.isArray(value)?value.length>0:value.toString().trim().length>0)){layerValue=value;}break;}// switch
if(layerValue!==undefined&&layerValue!==null){if(searchElement.formatter){layerValue=processFormatter(layerValue,searchElement.formatter);}addToBeagleInfoLayer(searchElement.name,layerValue);searchElement.isFound=true;// mark exclusive elements as found
if(searchElement.exclusive&&Array.isArray(searchElement.exclusive)&&searchElement.exclusive.length>0){var _iterator8=BeagleInfoLayer_createForOfIteratorHelper(searchPaths),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var exclusiveElement=_step8.value;if(searchElement.exclusive.includes(exclusiveElement.name)){exclusiveElement.isFound=true;}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}}}if(searchElement.isFound){return true;}}catch(e){BeagleInfoLayer_logger.error("searchObj error: "+e);}return false;};var customDataDerivations=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(){var currentPageType,_yield$Promise$all,_yield$Promise$all2,isCartEmpty,totalBasePrice,couponNotApplicable,prices,quantities,totalPrice,i,couponApplicableAmount,sku,skuList;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return getFromBeagleInfoLayer("PageType",true,50,1000);case 2:currentPageType=_context5.sent;_context5.prev=3;_context5.next=6;return Promise.all([getFromBeagleInfoLayer("cart.isempty"),getFromBeagleInfoLayer("cart.totalBasePrice"),getFromBeagleInfoLayer("cart.couponNotApplicable"),getFromBeagleInfoLayer("cart.prices"),getFromBeagleInfoLayer("cart.quantities")]);case 6:_yield$Promise$all=_context5.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,5);isCartEmpty=_yield$Promise$all2[0];totalBasePrice=_yield$Promise$all2[1];couponNotApplicable=_yield$Promise$all2[2];prices=_yield$Promise$all2[3];quantities=_yield$Promise$all2[4];totalPrice=0;if(!totalBasePrice&&prices&&Array.isArray(prices)&&prices.length>0&&quantities&&Array.isArray(quantities)&&quantities.length>0&&prices.length===quantities.length){for(i=0;i<prices.length;i++){totalPrice+=parseInt(prices[i])*parseInt(quantities[i]);}}else{totalPrice=parseInt(totalBasePrice);}couponApplicableAmount=0;if(!isCartEmpty&&totalPrice&&couponNotApplicable){couponApplicableAmount=totalPrice-parseInt(couponNotApplicable);}else if(!isCartEmpty&&totalPrice){couponApplicableAmount=parseInt(totalPrice);}else{couponApplicableAmount=0;}addToBeagleInfoLayer("cart.couponApplicableAmount",couponApplicableAmount);if(isCartEmpty){addToBeagleInfoLayer("cart.totalPrice",0);addToBeagleInfoLayer("cart.couponNotApplicable",0);}_context5.next=24;break;case 21:_context5.prev=21;_context5.t0=_context5["catch"](3);BeagleInfoLayer_logger.error("customDataDerivations cannot compute couponApplicablePrice: "+_context5.t0);case 24:if(!(currentPageType==="Productpage")){_context5.next=33;break;}_context5.next=27;return getFromBeagleInfoLayer("pdp.sku");case 27:sku=_context5.sent;if(!(sku!==null&&sku!==undefined)){_context5.next=31;break;}_context5.next=31;return addToBeagleInfoLayer("__features.SKUsonPage",[sku]);case 31:_context5.next=40;break;case 33:if(!(currentPageType==="basket")){_context5.next=40;break;}_context5.next=36;return getFromBeagleInfoLayer("cart.skus");case 36:skuList=_context5.sent;if(!(skuList!==null&&Array.isArray(skuList)&&skuList.length)){_context5.next=40;break;}_context5.next=40;return addToBeagleInfoLayer("__features.SKUsonPage",skuList);case 40:case"end":return _context5.stop();}}},_callee5,null,[[3,21]]);}));return function customDataDerivations(){return _ref5.apply(this,arguments);};}();var parseSearchPaths=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){var domStatus,wintop,dataLayer,windoc,sorgArrayInner,foundNames,prevFoundNames,notFoundNames,currentPageType,_iterator9,_step9,searchElement,_iterator10,_step10,_searchElement,_iterator11,_step11,dataLayerItem,_iterator12,_step12,sorgItem;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:domStatus=document.readyState;// check if document and dom is loaded and ready for scrapping
BeagleInfoLayer_logger.log("parseSearchPaths initialized with dom status:  "+domStatus);wintop=window.top;dataLayer=wintop.dataLayer;windoc=wintop.document;foundNames=new Set();prevFoundNames=new Set();notFoundNames=new Set();// PageType can be inferred from URL, if found use it from there
_context6.next=10;return getFromBeagleInfoLayer("PageType");case 10:currentPageType=_context6.sent;if(currentPageType){prevFoundNames.add("PageType");}// Loop through search lists and mark found names
_iterator9=BeagleInfoLayer_createForOfIteratorHelper(searchPaths);try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){searchElement=_step9.value;if(searchElement.isFound){prevFoundNames.add(searchElement.name);}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}_iterator10=BeagleInfoLayer_createForOfIteratorHelper(searchPaths);_context6.prev=15;_iterator10.s();case 17:if((_step10=_iterator10.n()).done){_context6.next=38;break;}_searchElement=_step10.value;if(!(_searchElement.isFound||_searchElement.isIgnore)){_context6.next=21;break;}return _context6.abrupt("continue",36);case 21:if(!(foundNames.has(_searchElement.name)||prevFoundNames.has(_searchElement.name))){_context6.next=24;break;}// had already found this element on another parse item
_searchElement.isFound=true;return _context6.abrupt("continue",36);case 24:if(!(_searchElement.PageTypeDepend!=="*")){_context6.next=35;break;}if(currentPageType){_context6.next=32;break;}_context6.next=28;return getFromBeagleInfoLayer("PageType");case 28:currentPageType=_context6.sent;if(currentPageType){_context6.next=32;break;}notFoundNames.add(_searchElement.name);return _context6.abrupt("continue",36);case 32:if(!(_searchElement.PageTypeDepend.indexOf(currentPageType)<0)){_context6.next=35;break;}// skip searchElement because of PageTypeDepend
_searchElement.isIgnore=true;return _context6.abrupt("continue",36);case 35:if(_searchElement.method==="SingleWT"){// SCAN Window for Single Elements
searchAndSet(wintop,_searchElement,foundNames,notFoundNames);}else if(_searchElement.method==="GADataLayer"){// SCAN GA DATA LAYER
_iterator11=BeagleInfoLayer_createForOfIteratorHelper(dataLayer);try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){dataLayerItem=_step11.value;searchAndSet(dataLayerItem,_searchElement,foundNames,notFoundNames);}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}}else if(_searchElement.method==="DocSorg"){// SCAN SORG ARRAY
if(!sorgArrayInner){sorgArrayInner=getSORGArray();}_iterator12=BeagleInfoLayer_createForOfIteratorHelper(sorgArrayInner);try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){sorgItem=_step12.value;searchAndSet(sorgItem,_searchElement,foundNames,notFoundNames);}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}}else if(_searchElement.method==="DocQuery"){// SCAN DOCUMENT
searchAndSet(windoc,_searchElement,foundNames,notFoundNames);}// DOCQUERY parse
case 36:_context6.next=17;break;case 38:_context6.next=43;break;case 40:_context6.prev=40;_context6.t0=_context6["catch"](15);_iterator10.e(_context6.t0);case 43:_context6.prev=43;_iterator10.f();return _context6.finish(43);case 46:if(notFoundNames.size===0){parseSearchPathsRetry=PARSESEARCHMAXRETRY;BeagleInfoLayer_logger.log("parseSearchPaths found all elements - setting retry to max");}else if(foundNames.size===0){// update retry counter and delay only if dom is active
if(domStatus==="complete"||domStatus==="interactive"){parseSearchPathsDelay*=2;parseSearchPathsRetry+=1;}BeagleInfoLayer_logger.log("parseSearchPaths processed but not found any, setting delay and retry to "+parseSearchPathsDelay+" and "+parseSearchPathsRetry+" for notfound: ["+Array.from(notFoundNames).join(" | ")+"]");}else{BeagleInfoLayer_logger.log("parseSearchPaths processed: notfound: ["+Array.from(notFoundNames).join(" | ")+"] and found "+foundNames.size);}case 47:case"end":return _context6.stop();}}},_callee6,null,[[15,40,43,46]]);}));return function parseSearchPaths(){return _ref6.apply(this,arguments);};}();var searchAndSet=function searchAndSet(obj,searchElement,foundNames,notFoundNames){if(searchObj(obj,searchElement)){foundNames.add(searchElement.name);}else{notFoundNames.add(searchElement.name);}};// parse source
var parserCaller=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee8(){return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return parseSearchPaths();case 2:if(!(parseSearchPathsRetry<PARSESEARCHMAXRETRY)){_context8.next=7;break;}BeagleInfoLayer_logger.log("parseSearchPaths: scheduled to be recalled in "+parseSearchPathsDelay+"ms");setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(){return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return parserCaller();case 2:case"end":return _context7.stop();}}},_callee7);})),parseSearchPathsDelay);_context8.next=13;break;case 7:BeagleInfoLayer_logger.log("parseSearchPaths: reached max retry, calling remainder historical data");_context8.next=10;return customDataDerivations();case 10:_context8.next=12;return collectDerivationsFromCollector();case 12:addToBeagleInfoLayer("__CompletedScraping",true);case 13:case"end":return _context8.stop();}}},_callee8);}));return function parserCaller(){return _ref7.apply(this,arguments);};}();// Extract value from json object using given path
// If an element is *, concatenate recursively all sub-path values as string
var jsonGet=function jsonGet(obj,path){if(!obj)return null;if(!path)return null;try{var pathArray=path.split(".");var current=obj;for(var i=0;i<pathArray.length;i++){if(current===null)return null;if(pathArray[i]==="*"){var subPath=pathArray.slice(i+1).join(".");var subArray=[];for(var subKey in current){if(current[subKey]!==undefined&&current[subKey]!==null){var subValue=jsonGet(current[subKey],subPath);if(subValue!==null&&subValue!==undefined){subArray.push(subValue);}}}return subArray;}current=current[pathArray[i]];}return current;}catch(e){return null;}};var prepareCoreData=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee9(){var _windowPtr$navigator,_windowPtr$navigator$,_windowPtr$navigator2,_windowPtr$navigator3,_windowPtr$screen,_windowPtr$screen2,_windowPtr$screen3,_windowPtr$screen4,_windowPtr$visualView,_windowPtr$visualView2,_windowPtr$history,_windowPtr$navigator4,_windowPtr$navigator5;var windowPtr,navPtr,platform,availWindow,windowDepth,vportShape,width,height,iOS,_windowPtr$screen5,_windowPtr$screen5$or,orientationAngle,temp,_navPtr$userAgentData,_navPtr$userAgentData2,_navPtr$userAgentData3,navAgent,currentURL,firstSessionReferrer,pageType;return regenerator_default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:windowPtr=window.top;navPtr=windowPtr.navigator;platform=((_windowPtr$navigator=windowPtr.navigator)===null||_windowPtr$navigator===void 0?void 0:(_windowPtr$navigator$=_windowPtr$navigator.userAgentData)===null||_windowPtr$navigator$===void 0?void 0:_windowPtr$navigator$.platform)||((_windowPtr$navigator2=windowPtr.navigator)===null||_windowPtr$navigator2===void 0?void 0:_windowPtr$navigator2.platform)||((_windowPtr$navigator3=windowPtr.navigator)===null||_windowPtr$navigator3===void 0?void 0:_windowPtr$navigator3.userAgent);addToBeagleInfoLayer("device.navPlatform",platform);/* window view area */addToBeagleInfoLayer("device.windowPRatio",windowPtr.devicePixelRatio);availWindow=((_windowPtr$screen=windowPtr.screen)===null||_windowPtr$screen===void 0?void 0:_windowPtr$screen.availWidth)+"x"+((_windowPtr$screen2=windowPtr.screen)===null||_windowPtr$screen2===void 0?void 0:_windowPtr$screen2.availHeight);addToBeagleInfoLayer("device.windowAvail",availWindow);windowDepth=((_windowPtr$screen3=windowPtr.screen)===null||_windowPtr$screen3===void 0?void 0:_windowPtr$screen3.colorDepth)+"-"+((_windowPtr$screen4=windowPtr.screen)===null||_windowPtr$screen4===void 0?void 0:_windowPtr$screen4.pixelDepth);addToBeagleInfoLayer("device.windowDepth",windowDepth);vportShape=((_windowPtr$visualView=windowPtr.visualViewport)===null||_windowPtr$visualView===void 0?void 0:_windowPtr$visualView.width)+"x"+((_windowPtr$visualView2=windowPtr.visualViewport)===null||_windowPtr$visualView2===void 0?void 0:_windowPtr$visualView2.height);addToBeagleInfoLayer("device.windowVport",vportShape);if(screen.width){width=parseInt(screen.width);height=screen.height?parseInt(screen.height):0;if(width!==0&&height!==0){iOS=/iPad|iPhone|iPod/.test(platform);if(iOS&&windowPtr.devicePixelRatio){// ios provides DPIs, need to multiply
width=Math.round(width*windowPtr.devicePixelRatio);height=Math.round(height*windowPtr.devicePixelRatio);}else{orientationAngle=(_windowPtr$screen5=windowPtr.screen)===null||_windowPtr$screen5===void 0?void 0:(_windowPtr$screen5$or=_windowPtr$screen5.orientation)===null||_windowPtr$screen5$or===void 0?void 0:_windowPtr$screen5$or.angle;if(Math.abs(orientationAngle)===90||Math.abs(orientationAngle)===270){// we have landscape orientation switch values for all except ios
temp=width;width=height;height=temp;}}addToBeagleInfoLayer("device.window",width+"x"+height);}}/* navigator */addToBeagleInfoLayer("device.navHistSize",(_windowPtr$history=windowPtr.history)===null||_windowPtr$history===void 0?void 0:_windowPtr$history.length);// check if userAgentData is supported and userAgent is not available, use it
if(!navPtr.userAgent){if(navPtr.userAgentData){// turn brands array into string
navAgent=navPtr===null||navPtr===void 0?void 0:(_navPtr$userAgentData=navPtr.userAgentData)===null||_navPtr$userAgentData===void 0?void 0:(_navPtr$userAgentData2=_navPtr$userAgentData.brands)===null||_navPtr$userAgentData2===void 0?void 0:_navPtr$userAgentData2.map(function(e){return e.brand+":"+e.version;}).join();// add mobile info
navAgent+=navPtr!==null&&navPtr!==void 0&&(_navPtr$userAgentData3=navPtr.userAgentData)!==null&&_navPtr$userAgentData3!==void 0&&_navPtr$userAgentData3.mobile?"mobi":" ";// add platform info
navAgent+=platform;addToBeagleInfoLayer("device.navAgent",navAgent);}}else{addToBeagleInfoLayer("device.navAgent",navPtr.userAgent);}addToBeagleInfoLayer("device.navHWCores",navPtr.hardwareConcurrency);addToBeagleInfoLayer("device.navLanguage",navPtr.language||navPtr.browserLanguage||navPtr.systemLanguage||navPtr.userLanguage);addToBeagleInfoLayer("device.navTouch",navPtr.maxTouchPoints);addToBeagleInfoLayer("device.navVendor",navPtr.vendor);addToBeagleInfoLayer("device.internetSpeed",(_windowPtr$navigator4=windowPtr.navigator)===null||_windowPtr$navigator4===void 0?void 0:(_windowPtr$navigator5=_windowPtr$navigator4.connection)===null||_windowPtr$navigator5===void 0?void 0:_windowPtr$navigator5.downlink);/* miscellaneous */currentURL=new URL(window.top.location.href);addToBeagleInfoLayer("u",currentURL.href);addToBeagleInfoLayer("d",currentURL.hostname);addToBeagleInfoLayer("donttrack",navPtr.doNotTrack||windowPtr.doNotTrack||navPtr.msDoNotTrack);addToBeagleInfoLayer("r",windowPtr.document.referrer);firstSessionReferrer=sessionStorage.getItem(SESSION_STORAGE_KEYS.SESSION_REFERRER);if(!firstSessionReferrer){sessionStorage.setItem(SESSION_STORAGE_KEYS.SESSION_REFERRER,windowPtr.document.referrer);addToBeagleInfoLayer("fr",windowPtr.document.referrer);}else{addToBeagleInfoLayer("fr",firstSessionReferrer);}/* Vivense specific */ // if url like x then set PageType = y
if(currentURL.pathname.indexOf("favorilerim.html")>-1){pageType="favorites";}else if(currentURL.pathname.indexOf("siparis-listesi.html")>-1){pageType="basket";}else if(currentURL.pathname.indexOf("siparis-ozeti.html")>-1){pageType="purchase";}else if(currentURL.pathname.indexOf("odeme.html")>-1){pageType="payment";}else if(currentURL.pathname.indexOf("adres-listesi.html")>-1){pageType="address";}else if(currentURL.pathname.indexOf("siparislerim.html")>-1){pageType="pastorders";}else if(currentURL.pathname.indexOf("uye-kayit.html")>-1){pageType="register";}else if(currentURL.pathname.indexOf("uye-girisi.html")>-1){pageType="signin";}else if(currentURL.pathname.indexOf("kuponlarim.html")>-1){pageType="profile_coupons";}else if(currentURL.pathname.indexOf("profil-guncelle.html")>-1){pageType="profile_info";}else if(currentURL.pathname.indexOf("adreslerim.html")>-1){pageType="profile_addresses";}else if(currentURL.pathname.indexOf("duyuru-tercihleri.html")>-1){pageType="profile_notifications";}else if(currentURL.pathname.indexOf("indirimli-mobilya-kampanyalari.html")>-1){pageType="special_campaigns";}if(pageType){addToBeagleInfoLayer("PageType",pageType);}case 28:case"end":return _context9.stop();}}},_callee9);}));return function prepareCoreData(){return _ref9.apply(this,arguments);};}();var addMetrics=function addMetrics(){var windowPtr=window.top;var perfMetrics={};var perfNavigationMetrics=windowPtr.performance.getEntriesByType("navigation")[0];if(windowPtr.performance&&perfNavigationMetrics){perfMetrics.connect=Math.round(perfNavigationMetrics.connectEnd-perfNavigationMetrics.connectStart);perfMetrics.request=Math.round(perfNavigationMetrics.responseEnd-perfNavigationMetrics.requestStart);perfMetrics.dom=Math.round(perfNavigationMetrics.domInteractive-perfNavigationMetrics.domComplete);perfMetrics.load=Math.round(perfNavigationMetrics.loadEventEnd-perfNavigationMetrics.loadEventStart);perfMetrics.duration=Math.round(perfNavigationMetrics.duration);}addToBeagleInfoLayer("metrics",perfMetrics);};// TODO: move this to an "element collector" module, then data is extracted from pre-collected elements
var getSORGArray=function getSORGArray(){var schemaOrgElts=window.top.document.querySelectorAll("[type=\"application/ld+json\"]");var sorgArray=[];var _iterator13=BeagleInfoLayer_createForOfIteratorHelper(schemaOrgElts),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var sTag=_step13.value;try{var cntnt=sTag.textContent;var jsoncontent=JSON.parse(cntnt);sorgArray.push(jsoncontent);}catch(err){// do nothing
}}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return sorgArray;};;// CONCATENATED MODULE: ./src/BeagleMonitor/index.js
var BeagleMonitor_logger=new src_logger("BeagleMonitor");var HEADERS={type:"text/plain"};var Monitor=/*#__PURE__*/function(){function Monitor(){_classCallCheck(this,Monitor);BeagleMonitor_logger.log("Initializing monitor");this.hasArrivalLogSent=false;this.hasMainLogSent=false;this.hasUpdatesSent=false;this.highWaterMark=null;this.initializeExitEventListeners();}// Attempts to send the initial log body (beagleInfoLayer's initial population) immediately
_createClass(Monitor,[{key:"sendLogs",value:function(){var _sendLogs=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(immediate){return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!immediate){_context.next=6;break;}BeagleMonitor_logger.log("In immediate sending block");_context.next=4;return this.packAndQueueMainLog();case 4:_context.next=12;break;case 6:BeagleMonitor_logger.log("In non-critical send path - awaiting scraping");_context.next=9;return getFromBeagleInfoLayer("__CompletedScraping",true,50,1000);case 9:BeagleMonitor_logger.log("In non-critical send path - sending logs");_context.next=12;return this.packAndQueueMainLog();case 12:case"end":return _context.stop();}}},_callee,this);}));function sendLogs(_x){return _sendLogs.apply(this,arguments);}return sendLogs;}()// Send initial log body and incremental update logs on close
},{key:"handleCloseEvent",value:function(){var _handleCloseEvent=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.packAndQueueMainLog();case 2:_context2.next=4;return this.packAndQueueIncrementalLog();case 4:case"end":return _context2.stop();}}},_callee2,this);}));function handleCloseEvent(){return _handleCloseEvent.apply(this,arguments);}return handleCloseEvent;}()},{key:"packAndQueueMainLog",value:function(){var _packAndQueueMainLog=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var requestBlob;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!this.hasMainLogSent){_context3.next=2;break;}return _context3.abrupt("return");case 2:_context3.next=4;return this.packageMainLogData();case 4:requestBlob=_context3.sent;if(!requestBlob){_context3.next=11;break;}_context3.next=8;return this.checkForLatestChanges();case 8:BeagleMonitor_logger.log("Request blob to send: ",requestBlob);this.hasMainLogSent=true;this.queueLogs(requestBlob);case 11:case"end":return _context3.stop();}}},_callee3,this);}));function packAndQueueMainLog(){return _packAndQueueMainLog.apply(this,arguments);}return packAndQueueMainLog;}()},{key:"packAndQueueIncrementalLog",value:function(){var _packAndQueueIncrementalLog=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(){var hasChanged,logData;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(!this.hasMainLogSent||this.hasUpdatesSent)){_context4.next=2;break;}return _context4.abrupt("return");case 2:_context4.next=4;return this.checkForLatestChanges();case 4:hasChanged=_context4.sent;BeagleMonitor_logger.log("Update logs change status: ",hasChanged);if(hasChanged){_context4.next=8;break;}return _context4.abrupt("return");case 8:_context4.next=10;return this.packageIncrementalLogData();case 10:logData=_context4.sent;if(logData){BeagleMonitor_logger.log("Sending incremental logs",logData);this.hasUpdatesSent=true;this.queueLogs(logData);}case 12:case"end":return _context4.stop();}}},_callee4,this);}));function packAndQueueIncrementalLog(){return _packAndQueueIncrementalLog.apply(this,arguments);}return packAndQueueIncrementalLog;}()},{key:"packAndQueueArrivalLog",value:function(){var _packAndQueueArrivalLog=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(){var requestBlob;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(this.hasMainLogSent||this.hasArrivalLogSent)){_context5.next=2;break;}return _context5.abrupt("return");case 2:_context5.next=4;return this.packageArrivalLogData();case 4:requestBlob=_context5.sent;if(requestBlob){// prepare change detection hashes at the time of main log preparation
BeagleMonitor_logger.log("Arrival blob to send: ",requestBlob);this.hasArrivalLogSent=true;this.queueLogs(requestBlob);}case 6:case"end":return _context5.stop();}}},_callee5,this);}));function packAndQueueArrivalLog(){return _packAndQueueArrivalLog.apply(this,arguments);}return packAndQueueArrivalLog;}()},{key:"checkForLatestChanges",value:function(){var _checkForLatestChanges=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){var hwm;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return getFromBeagleInfoLayer("__hwm");case 2:hwm=_context6.sent;if(!(this.highWaterMark!==hwm)){_context6.next=6;break;}this.highWaterMark=hwm;return _context6.abrupt("return",true);case 6:return _context6.abrupt("return",false);case 7:case"end":return _context6.stop();}}},_callee6,this);}));function checkForLatestChanges(){return _checkForLatestChanges.apply(this,arguments);}return checkForLatestChanges;}()},{key:"packageArrivalLogData",value:function(){var _packageArrivalLogData=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(){var _yield$Promise$all,_yield$Promise$all2,url,hash,cookieGaId,view_epoch,body;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return Promise.all([getFromBeagleInfoLayer("u"),getFromBeagleInfoLayer("onHashPct"),getFromBeagleInfoLayer("cookieGaId"),getFromBeagleInfoLayer("view_epoch")]);case 2:_yield$Promise$all=_context7.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,4);url=_yield$Promise$all2[0];hash=_yield$Promise$all2[1];cookieGaId=_yield$Promise$all2[2];view_epoch=_yield$Promise$all2[3];body={cookieGaId:cookieGaId,lc:0,view_epoch:view_epoch,u:url,onHashPct:hash};BeagleMonitor_logger.log("Arrival log data: ",body);return _context7.abrupt("return",new Blob([JSON.stringify(body)],HEADERS));case 11:case"end":return _context7.stop();}}},_callee7);}));function packageArrivalLogData(){return _packageArrivalLogData.apply(this,arguments);}return packageArrivalLogData;}()},{key:"packageMainLogData",value:function(){var _packageMainLogData=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee8(){var body,_i,_Object$entries,_Object$entries$_i,key,value;return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:body={};if(window.beagleInfoLayer){_context8.next=3;break;}return _context8.abrupt("return",null);case 3:for(_i=0,_Object$entries=Object.entries(window.beagleInfoLayer);_i<_Object$entries.length;_i++){_Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];if(!key.startsWith("_")&&value!==null)body[key]=value;}body.lc=1;return _context8.abrupt("return",new Blob([JSON.stringify(body)],HEADERS));case 6:case"end":return _context8.stop();}}},_callee8);}));function packageMainLogData(){return _packageMainLogData.apply(this,arguments);}return packageMainLogData;}()},{key:"packageIncrementalLogData",value:function(){var _packageIncrementalLogData=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee9(){var _yield$Promise$all3,_yield$Promise$all4,a,e,f,s,m,cookieGaId,view_epoch,body;return regenerator_default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return Promise.all([getFromBeagleInfoLayer("a"),getFromBeagleInfoLayer("e"),getFromBeagleInfoLayer("f"),getFromBeagleInfoLayer("s"),getFromBeagleInfoLayer("m"),getFromBeagleInfoLayer("cookieGaId"),getFromBeagleInfoLayer("view_epoch")]);case 2:_yield$Promise$all3=_context9.sent;_yield$Promise$all4=_slicedToArray(_yield$Promise$all3,7);a=_yield$Promise$all4[0];e=_yield$Promise$all4[1];f=_yield$Promise$all4[2];s=_yield$Promise$all4[3];m=_yield$Promise$all4[4];cookieGaId=_yield$Promise$all4[5];view_epoch=_yield$Promise$all4[6];body={cookieGaId:cookieGaId,lc:2,view_epoch:view_epoch,a:a,e:e,f:f,s:s,m:m};BeagleMonitor_logger.log("Update log data: ",body);return _context9.abrupt("return",new Blob([JSON.stringify(body)],HEADERS));case 14:case"end":return _context9.stop();}}},_callee9);}));function packageIncrementalLogData(){return _packageIncrementalLogData.apply(this,arguments);}return packageIncrementalLogData;}()},{key:"initializeExitEventListeners",value:function initializeExitEventListeners(){var _this=this;var visibilityChangeTimeout=null;BeagleMonitor_logger.log("Initializing exit event listener");window.addEventListener("beforeunload",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee10(){return regenerator_default().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:BeagleMonitor_logger.log("In beforeunload event");clearTimeout(visibilityChangeTimeout);_context10.next=4;return _this.handleCloseEvent();case 4:case"end":return _context10.stop();}}},_callee10);})),{capture:true});window.addEventListener("pagehide",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee11(){return regenerator_default().wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:BeagleMonitor_logger.log("In pagehide event");clearTimeout(visibilityChangeTimeout);_context11.next=4;return _this.handleCloseEvent();case 4:case"end":return _context11.stop();}}},_callee11);})),{capture:true});window.addEventListener("visibilitychange",function(){if(window.top.document.visibilityState==="hidden"){// If page is not visible and doesn't become visible within 30 seconds, send logs
visibilityChangeTimeout=setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee12(){return regenerator_default().wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:BeagleMonitor_logger.log("In timeout");_context12.next=3;return _this.handleCloseEvent();case 3:case"end":return _context12.stop();}}},_callee12);})),30000);return;}// Clear timeout when page is visible to make sure we send the latest logs possible
clearTimeout(visibilityChangeTimeout);visibilityChangeTimeout=null;},{capture:true});}},{key:"queueLogs",value:function queueLogs(logData){if(!navigator.sendBeacon||typeof navigator.sendBeacon!=="function"){fetch(LOG_API_URL,logData);return;}var queued=navigator.sendBeacon(LOG_API_URL,logData);var queueInterval=setInterval(function(){if(!queued)queued=navigator.sendBeacon(LOG_API_URL,logData);else{clearInterval(queueInterval);BeagleMonitor_logger.log("Logs queued successfully");}},10);if(queued)return;setTimeout(function(){clearInterval(queueInterval);if(!queued){BeagleMonitor_logger.log("Logs not queued");}},1000);}}]);return Monitor;}();/* harmony default export */var BeagleMonitor=Monitor;;// CONCATENATED MODULE: ./src/BeagleTreatmentRepository/index.js
function BeagleTreatmentRepository_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=BeagleTreatmentRepository_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function BeagleTreatmentRepository_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return BeagleTreatmentRepository_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BeagleTreatmentRepository_arrayLikeToArray(o,minLen);}function BeagleTreatmentRepository_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var BeagleTreatmentRepository_logger=new src_logger("BeagleTreatmentRepository");var TreatmentRepository=/*#__PURE__*/function(){function TreatmentRepository(body){_classCallCheck(this,TreatmentRepository);var treatments=body.treatments,treatmentWeights=body.treatmentWeights;this.treatments=treatments;this.treatmentWeights=treatmentWeights;this.currentPageType=null;}_createClass(TreatmentRepository,[{key:"getMatchedTreatments",value:function(){var _getMatchedTreatments=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(debugMode){var _CPT,_this=this;var CPT,matchedTreatments,treatments,treatmentWeights,userSegment,userSegmentWeights,_iterator,_step,_userSegmentWeights$t,treatment,segmentedWeight,_userSegmentWeights$t2,_iterator2,_step2,action,_i,_Object$keys,_userSegmentWeights$t3,_userSegmentWeights$t4,variantKey;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getFromBeagleInfoLayer("__eRules.PageType",true);case 2:CPT=_context.sent;CPT=((_CPT=CPT)===null||_CPT===void 0?void 0:_CPT[0])||null;if(CPT){_context.next=6;break;}return _context.abrupt("return",[]);case 6:this.currentPageType=CPT;matchedTreatments=window.sessionStorage.getItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS);if(!matchedTreatments){_context.next=22;break;}_context.prev=9;_context.next=12;return JSON.parse(matchedTreatments);case 12:matchedTreatments=_context.sent;matchedTreatments=matchedTreatments.filter(function(mt){return _this.checkPageType(mt.pageTypes);});BeagleTreatmentRepository_logger.log("".concat(matchedTreatments.length," treatments user segment matched"));return _context.abrupt("return",matchedTreatments);case 18:_context.prev=18;_context.t0=_context["catch"](9);BeagleTreatmentRepository_logger.failed("Error getting matched robots:",_context.t0.message);return _context.abrupt("return",[]);case 22:matchedTreatments=[];treatments=this.treatments,treatmentWeights=this.treatmentWeights;_context.next=26;return getFromBeagleInfoLayer("s");case 26:userSegment=_context.sent;if(userSegment){_context.next=29;break;}return _context.abrupt("return",null);case 29:if(!treatmentWeights){_context.next=76;break;}userSegmentWeights=treatmentWeights[userSegment];if(userSegmentWeights){_context.next=33;break;}return _context.abrupt("return",[]);case 33:_iterator=BeagleTreatmentRepository_createForOfIteratorHelper(treatments);_context.prev=34;_iterator.s();case 36:if((_step=_iterator.n()).done){_context.next=68;break;}treatment=_step.value;segmentedWeight=(_userSegmentWeights$t=userSegmentWeights[treatment.id])===null||_userSegmentWeights$t===void 0?void 0:_userSegmentWeights$t.weight;if(segmentedWeight){_context.next=43;break;}if(treatment.dependant_on_treatment){segmentedWeight=(_userSegmentWeights$t2=userSegmentWeights[treatment.dependant_on_treatment])===null||_userSegmentWeights$t2===void 0?void 0:_userSegmentWeights$t2.weight;}else if(debugMode&&debugMode===1)segmentedWeight=100;if(segmentedWeight){_context.next=43;break;}return _context.abrupt("continue",66);case 43:treatment.weight=segmentedWeight;if(treatment.actions.some(function(a){return a.variants;})){_context.next=47;break;}matchedTreatments.push(treatment);return _context.abrupt("continue",66);case 47:_iterator2=BeagleTreatmentRepository_createForOfIteratorHelper(treatment.actions);_context.prev=48;_iterator2.s();case 50:if((_step2=_iterator2.n()).done){_context.next=57;break;}action=_step2.value;if(action.variants){_context.next=54;break;}return _context.abrupt("continue",55);case 54:for(_i=0,_Object$keys=Object.keys(action.variants);_i<_Object$keys.length;_i++){variantKey=_Object$keys[_i];if((_userSegmentWeights$t3=userSegmentWeights[treatment.id])!==null&&_userSegmentWeights$t3!==void 0&&_userSegmentWeights$t3.variants&&(_userSegmentWeights$t4=userSegmentWeights[treatment.id])!==null&&_userSegmentWeights$t4!==void 0&&_userSegmentWeights$t4.variants[variantKey]){action.variants[variantKey].weight=userSegmentWeights[treatment.id].variants[variantKey];}}case 55:_context.next=50;break;case 57:_context.next=62;break;case 59:_context.prev=59;_context.t1=_context["catch"](48);_iterator2.e(_context.t1);case 62:_context.prev=62;_iterator2.f();return _context.finish(62);case 65:matchedTreatments.push(treatment);case 66:_context.next=36;break;case 68:_context.next=73;break;case 70:_context.prev=70;_context.t2=_context["catch"](34);_iterator.e(_context.t2);case 73:_context.prev=73;_iterator.f();return _context.finish(73);case 76:window.sessionStorage.setItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS,JSON.stringify(matchedTreatments));_context.next=79;return this.getMatchedTreatments(debugMode);case 79:return _context.abrupt("return",_context.sent);case 80:case"end":return _context.stop();}}},_callee,this,[[9,18],[34,70,73,76],[48,59,62,65]]);}));function getMatchedTreatments(_x){return _getMatchedTreatments.apply(this,arguments);}return getMatchedTreatments;}()},{key:"checkPageType",value:function checkPageType(pageTypes){var currentPageType=this.currentPageType;if(pageTypes===null||pageTypes===undefined)return true;if(!Array.isArray(pageTypes)){BeagleTreatmentRepository_logger.failed("Page Types should be an array");return false;}if(pageTypes[0].startsWith("!")){pageTypes=pageTypes.map(function(pt){return pt.substr(1);});return!pageTypes.includes(currentPageType);}return pageTypes.includes(currentPageType);}}],[{key:"getTreatments",value:function(){var _getTreatments=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){var TREATMENTS,treatmentsObj,treatments,timestamp,treatmentWithTimestamp,elapsedHours,_treatmentWithTimestamp;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:BeagleTreatmentRepository_logger.log("Loading treatments");TREATMENTS=LOCAL_STORAGE_KEYS.TREATMENTS;treatmentsObj=JSON.parse(window.localStorage.getItem(TREATMENTS));treatments=treatmentsObj===null||treatmentsObj===void 0?void 0:treatmentsObj.treatments;timestamp=treatmentsObj===null||treatmentsObj===void 0?void 0:treatmentsObj.timestamp;if(!(!treatments||!timestamp)){_context2.next=17;break;}BeagleTreatmentRepository_logger.failed("Treatments not found in local storage");_context2.next=9;return fetchTreatments();case 9:treatments=_context2.sent;if(treatments){_context2.next=13;break;}BeagleTreatmentRepository_logger.failed("Failed to fetch treatments");return _context2.abrupt("return",null);case 13:treatmentWithTimestamp={timestamp:Date.now(),treatments:treatments};window.localStorage.setItem(TREATMENTS,JSON.stringify(treatmentWithTimestamp));window.sessionStorage.removeItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS);return _context2.abrupt("return",treatments);case 17:if(!timestamp){_context2.next=31;break;}elapsedHours=(Date.now()-timestamp)/(1000*3600);if(!(elapsedHours>LOCAL_STORAGE_TTL_HOURS)){_context2.next=31;break;}BeagleTreatmentRepository_logger.failed("Treatments are expired");_context2.next=23;return fetchTreatments();case 23:treatments=_context2.sent;if(treatments){_context2.next=27;break;}BeagleTreatmentRepository_logger.failed("Failed to fetch treatments");return _context2.abrupt("return",null);case 27:_treatmentWithTimestamp={timestamp:Date.now(),treatments:treatments};window.localStorage.setItem(TREATMENTS,JSON.stringify(_treatmentWithTimestamp));window.sessionStorage.removeItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS);return _context2.abrupt("return",treatments);case 31:BeagleTreatmentRepository_logger.success("Treatments are loaded from local storage");return _context2.abrupt("return",treatments);case 33:case"end":return _context2.stop();}}},_callee2);}));function getTreatments(){return _getTreatments.apply(this,arguments);}return getTreatments;}()},{key:"getTreatmentWeights",value:function(){var _getTreatmentWeights=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var weightsObj,elapsedHours;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;weightsObj=window.localStorage.getItem(LOCAL_STORAGE_KEYS.WEIGHTS);if(!weightsObj){_context3.next=8;break;}weightsObj=JSON.parse(weightsObj);if(!weightsObj.timestamp){_context3.next=8;break;}elapsedHours=(Date.now()-weightsObj.timestamp)/(1000*3600);if(!(elapsedHours<LOCAL_STORAGE_TTL_HOURS)){_context3.next=8;break;}return _context3.abrupt("return",weightsObj.weights);case 8:_context3.next=10;return fetchTreatmentWeights();case 10:weightsObj=_context3.sent;if(weightsObj){_context3.next=14;break;}BeagleTreatmentRepository_logger.failed("Failed to fetch weights");return _context3.abrupt("return",null);case 14:weightsObj={weights:weightsObj,timestamp:Date.now()};window.localStorage.setItem(LOCAL_STORAGE_KEYS.WEIGHTS,JSON.stringify(weightsObj));return _context3.abrupt("return",weightsObj.weights);case 19:_context3.prev=19;_context3.t0=_context3["catch"](0);BeagleTreatmentRepository_logger.warn(_context3.t0.message);return _context3.abrupt("return",null);case 23:case"end":return _context3.stop();}}},_callee3,null,[[0,19]]);}));function getTreatmentWeights(){return _getTreatmentWeights.apply(this,arguments);}return getTreatmentWeights;}()}]);return TreatmentRepository;}();/* harmony default export */var BeagleTreatmentRepository=TreatmentRepository;;// CONCATENATED MODULE: ./src/BeagleApplyActions/replace-utils.js
function replace_utils_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=replace_utils_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function replace_utils_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return replace_utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return replace_utils_arrayLikeToArray(o,minLen);}function replace_utils_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var replace_utils_logger=new src_logger("ReplaceUtils");var replacer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(value,replaceFn){var _iterator,_step,_step$value,i,val,currentReplaceFn,replaceVal,_iterator2,_step2,rFn,_replaceVal,_replaceVal2;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!Array.isArray(value)){_context.next=27;break;}_iterator=replace_utils_createForOfIteratorHelper(value.entries());_context.prev=2;_iterator.s();case 4:if((_step=_iterator.n()).done){_context.next=17;break;}_step$value=_slicedToArray(_step.value,2),i=_step$value[0],val=_step$value[1];currentReplaceFn=Array.isArray(replaceFn)?replaceFn[i]:replaceFn||"";if(!(_typeof(currentReplaceFn)==="object")){_context.next=14;break;}_context.next=10;return replaceObjectExtractor(currentReplaceFn);case 10:replaceVal=_context.sent;value[i]=replaceAll(val,"{{REPLACE}}",replaceVal);_context.next=15;break;case 14:value[i]=replaceFnExecutor(currentReplaceFn,val);case 15:_context.next=4;break;case 17:_context.next=22;break;case 19:_context.prev=19;_context.t0=_context["catch"](2);_iterator.e(_context.t0);case 22:_context.prev=22;_iterator.f();return _context.finish(22);case 25:_context.next=61;break;case 27:if(!Array.isArray(replaceFn)){_context.next=53;break;}_iterator2=replace_utils_createForOfIteratorHelper(replaceFn);_context.prev=29;_iterator2.s();case 31:if((_step2=_iterator2.n()).done){_context.next=43;break;}rFn=_step2.value;if(!(_typeof(rFn)==="object")){_context.next=40;break;}_context.next=36;return replaceObjectExtractor(rFn);case 36:_replaceVal=_context.sent;value=value.replace("{{REPLACE}}",_replaceVal);_context.next=41;break;case 40:value=replaceFnExecutor(rFn,value,true);case 41:_context.next=31;break;case 43:_context.next=48;break;case 45:_context.prev=45;_context.t1=_context["catch"](29);_iterator2.e(_context.t1);case 48:_context.prev=48;_iterator2.f();return _context.finish(48);case 51:_context.next=61;break;case 53:if(!(_typeof(replaceFn)==="object")){_context.next=60;break;}_context.next=56;return replaceObjectExtractor(replaceFn);case 56:_replaceVal2=_context.sent;value=replaceAll(value,"{{REPLACE}}",_replaceVal2);_context.next=61;break;case 60:value=replaceFnExecutor(replaceFn,value);case 61:return _context.abrupt("return",value);case 62:case"end":return _context.stop();}}},_callee,null,[[2,19,22,25],[29,45,48,51]]);}));return function replacer(_x,_x2){return _ref.apply(this,arguments);};}();function replaceFnExecutor(replaceFn,value){var single=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(replaceFn&&value.includes("{{REPLACE}}")){replace_utils_logger.log("Executing replace function: ",replaceFn);var replaceFunction=Function(replaceFn);if(single)return value.replace("{{REPLACE}}",replaceFunction());return replaceAll(value,"{{REPLACE}}",replaceFunction());}return value;}function replaceObjectExtractor(_x3){return _replaceObjectExtractor.apply(this,arguments);}function _replaceObjectExtractor(){_replaceObjectExtractor=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(replaceFn){var storage,key,keyFallback,type,replaceVal,_replaceVal3;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:storage=replaceFn.storage,key=replaceFn.key,keyFallback=replaceFn.keyFallback,type=replaceFn.type;_context2.t0=storage;_context2.next=_context2.t0==="session"?4:_context2.t0==="info-layer"?18:26;break;case 4:replaceVal=null;replaceVal=window.sessionStorage.getItem(key);if(!replaceVal)replaceVal=window.sessionStorage.getItem(keyFallback);if(!type){_context2.next=17;break;}_context2.prev=8;replaceVal=JSON.parse(replaceVal);replaceVal=replaceVal[replaceVal.length-1][type];_context2.next=17;break;case 13:_context2.prev=13;_context2.t1=_context2["catch"](8);replace_utils_logger.failed("Could not parse ".concat(replaceVal));return _context2.abrupt("return",null);case 17:return _context2.abrupt("return",replaceVal);case 18:_context2.next=20;return getFromBeagleInfoLayer(key);case 20:_replaceVal3=_context2.sent;if(_replaceVal3){_context2.next=25;break;}_context2.next=24;return getFromBeagleInfoLayer(keyFallback);case 24:_replaceVal3=_context2.sent;case 25:return _context2.abrupt("return",_replaceVal3);case 26:case"end":return _context2.stop();}}},_callee2,null,[[8,13]]);}));return _replaceObjectExtractor.apply(this,arguments);}/* harmony default export */var replace_utils=replacer;;// CONCATENATED MODULE: ./src/GlovProductInfoRepository/store.config.js
var store_config_config={dbName:"beagle_cache",version:1,store:{name:"infoCache",indexes:[{name:"ix_sku",fields:"sku"}],options:{keyPath:"sku"}}};/* harmony default export */var GlovProductInfoRepository_store_config=store_config_config;;// CONCATENATED MODULE: ./src/GlovProductInfoRepository/index.js
function GlovProductInfoRepository_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=GlovProductInfoRepository_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function GlovProductInfoRepository_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return GlovProductInfoRepository_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GlovProductInfoRepository_arrayLikeToArray(o,minLen);}function GlovProductInfoRepository_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var GlovProductInfoRepository_logger=new src_logger("GlovProductInfoRepository");var GlovProductInfoRepository=/*#__PURE__*/function(){function GlovProductInfoRepository(){_classCallCheck(this,GlovProductInfoRepository);this.indexedDB=null;this.init();}_createClass(GlovProductInfoRepository,[{key:"init",value:function init(){var _window$top$indexedDB,_this=this;GlovProductInfoRepository_logger.log("Initializing indexedDB");var openRequest=(_window$top$indexedDB=window.top.indexedDB)===null||_window$top$indexedDB===void 0?void 0:_window$top$indexedDB.open(GlovProductInfoRepository_store_config.dbName,GlovProductInfoRepository_store_config.version);if(!openRequest){throw new Error("indexeddb is not supported");}openRequest.onupgradeneeded=function(event){switch(event.oldVersion){case 0:break;default:// TODO upgrade existing db instead of delete and create from scratch
try{openRequest.result.deleteObjectStore(GlovProductInfoRepository_store_config.store.name);}catch(err){GlovProductInfoRepository_logger.failed("Could not delete outdated database",err.message);}break;}try{var _config$store$indexes;var store=openRequest.result.createObjectStore(GlovProductInfoRepository_store_config.store.name,GlovProductInfoRepository_store_config.store.options);if(((_config$store$indexes=GlovProductInfoRepository_store_config.store.indexes)===null||_config$store$indexes===void 0?void 0:_config$store$indexes.length)>0){var _iterator=GlovProductInfoRepository_createForOfIteratorHelper(GlovProductInfoRepository_store_config.store.indexes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var idx=_step.value;store.createIndex(idx.name,idx.fields);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}}catch(err){GlovProductInfoRepository_logger.failed("Could not create object store on database",err.message);}};openRequest.onerror=function(){throw new Error("Error initializing beagle_cache indexed DB",openRequest.error);};openRequest.onsuccess=function(){_this.indexedDB=openRequest.result;};}},{key:"getConnection",value:function getConnection(){var _this2=this;return new Promise(function(resolve,reject){var interval=setInterval(function(){if(_this2.indexedDB){clearInterval(interval);resolve();}},25);setTimeout(function(){if(!_this2.indexedDB){clearInterval(interval);reject(new Error("IndexedDB not initialized within the allotted time"));}},1000);});}},{key:"initTransaction",value:function(){var _initTransaction=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var readwrite,tx,_args=arguments;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:readwrite=_args.length>0&&_args[0]!==undefined?_args[0]:false;_context.next=3;return this.getConnection();case 3:tx=this.indexedDB.transaction(GlovProductInfoRepository_store_config.store.name,readwrite?"readwrite":"readonly");return _context.abrupt("return",tx.objectStore(GlovProductInfoRepository_store_config.store.name));case 5:case"end":return _context.stop();}}},_callee,this);}));function initTransaction(){return _initTransaction.apply(this,arguments);}return initTransaction;}()},{key:"save",value:function(){var _save=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(payload){var store,timestamp,_iterator2,_step2,load;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.initTransaction(true);case 2:store=_context2.sent;timestamp=Math.round(Date.now()/1000);if(Array.isArray(payload)){_iterator2=GlovProductInfoRepository_createForOfIteratorHelper(payload);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){load=_step2.value;load.timestamp=timestamp;store.put(load);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}else{payload.timestamp=timestamp;store.put(payload);}case 5:case"end":return _context2.stop();}}},_callee2,this);}));function save(_x){return _save.apply(this,arguments);}return save;}()},{key:"clear",value:function(){var _clear=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var _this3=this;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",new Promise(function(resolve){_this3.initTransaction(true).then(function(store){var clearRequest=store.clear();clearRequest.onsuccess=function(){resolve();};clearRequest.onerror=function(){GlovProductInfoRepository_logger.failed("Error clearing store: ".concat(store.name));resolve(null);};});}));case 1:case"end":return _context3.stop();}}},_callee3);}));function clear(){return _clear.apply(this,arguments);}return clear;}()},{key:"get",value:function(){var _get=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(sku){var _this4=this;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",new Promise(function(resolve){_this4.initTransaction().then(function(store){var getRequest=store.get(sku);getRequest.onsuccess=function(){var result=getRequest.result;GlovProductInfoRepository_logger.log("Found value ".concat(result," for key ").concat(sku));resolve(result);};getRequest.onerror=function(){GlovProductInfoRepository_logger.failed("Error getting value for key: ".concat(sku),getRequest.onerror);resolve(null);};});}));case 1:case"end":return _context4.stop();}}},_callee4);}));function get(_x2){return _get.apply(this,arguments);}return get;}()},{key:"count",value:function(){var _count=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(){var _this5=this;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",new Promise(function(resolve){_this5.initTransaction().then(function(store){var countRequest=store.count();countRequest.onsuccess=function(){var result=countRequest.result;GlovProductInfoRepository_logger.log("Counted ".concat(result," entries"));resolve(result);};countRequest.onerror=function(){GlovProductInfoRepository_logger.failed("Error counting entries: ",countRequest.onerror);resolve(null);};});}));case 1:case"end":return _context5.stop();}}},_callee5);}));function count(){return _count.apply(this,arguments);}return count;}()},{key:"getCursor",value:function(){var _getCursor=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){var _this6=this;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",new Promise(function(resolve){_this6.initTransaction().then(function(store){var cursorRequest=store.openCursor();cursorRequest.onsuccess=function(event){resolve(event.target.result);};cursorRequest.onerror=function(){GlovProductInfoRepository_logger.failed("Error getting cursor",cursorRequest.onerror);resolve(null);};});}));case 1:case"end":return _context6.stop();}}},_callee6);}));function getCursor(){return _getCursor.apply(this,arguments);}return getCursor;}()},{key:"persistProductInfo",value:function(){var _persistProductInfo=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(){var existingProdInfo,cursor,timestamp,elapsedSeconds,productInfoPromise,clearPromise,_yield$Promise$all,_yield$Promise$all2,productInfoArray;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:addToBeagleInfoLayer("m","check-existing-prod-info");_context7.next=3;return this.count();case 3:existingProdInfo=_context7.sent;if(!existingProdInfo){_context7.next=14;break;}GlovProductInfoRepository_logger.log("Existing product info found");_context7.next=8;return this.getCursor();case 8:cursor=_context7.sent;timestamp=cursor.value.timestamp;elapsedSeconds=Date.now()/1000-timestamp;// Re-fetch product info once a day
if(!(elapsedSeconds<86400)){_context7.next=13;break;}return _context7.abrupt("return");case 13:GlovProductInfoRepository_logger.log("Existing product info is expired");case 14:addToBeagleInfoLayer("m","fetching-prod-info");productInfoPromise=fetchProductInfo();clearPromise=this.clear();_context7.next=19;return Promise.all([productInfoPromise,clearPromise]);case 19:_yield$Promise$all=_context7.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,1);productInfoArray=_yield$Promise$all2[0];if(!(!productInfoArray||!productInfoArray.length)){_context7.next=24;break;}return _context7.abrupt("return");case 24:addToBeagleInfoLayer("m","fetched-prod-info");_context7.next=27;return this.save(this.preparePayloads(productInfoArray));case 27:addToBeagleInfoLayer("m","persisted-prod-info");case 28:case"end":return _context7.stop();}}},_callee7,this);}));function persistProductInfo(){return _persistProductInfo.apply(this,arguments);}return persistProductInfo;}()},{key:"preparePayloads",value:function preparePayloads(productInfoArray){var payloads=[];var fieldNames=productInfoArray.shift();fieldNames.shift();var _iterator3=GlovProductInfoRepository_createForOfIteratorHelper(productInfoArray),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var info=_step3.value;var payload={sku:info.shift()};for(var i=0;i<fieldNames.length;i++){payload[fieldNames[i]]=info[i]||0;}payloads.push(payload);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return payloads;}}]);return GlovProductInfoRepository;}();/* harmony default export */var src_GlovProductInfoRepository=GlovProductInfoRepository;;// CONCATENATED MODULE: ./src/GlovProductInfoRepository/store.js
var Store=function(){var instance=null;return{getInstance:function getInstance(){if(instance===null){instance=new src_GlovProductInfoRepository();// Hide the constructor so the returned object can't be new'd...
instance.constructor=null;}return instance;}};}();/* harmony default export */var store=Store;;// CONCATENATED MODULE: ./src/BeagleApplyActions/action-condition-util.js
var action_condition_util_logger=new src_logger("ActionConditionUtils");var checkActionCondition=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(condition){var eligibleElements,attribute,inner_condition,operator,selector,type,value,chain,conditionElements,_i,_conditionElements,element;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:action_condition_util_logger.log("Action condition found: ",condition);eligibleElements=[];attribute=condition.attribute,inner_condition=condition.inner_condition,operator=condition.operator,selector=condition.selector,type=condition.type,value=condition.value,chain=condition.chain;conditionElements=Array.from(window.top.document.querySelectorAll(selector));_i=0,_conditionElements=conditionElements;case 5:if(!(_i<_conditionElements.length)){_context.next=14;break;}element=_conditionElements[_i];_context.next=9;return actionConditionChecker(element,type,operator,attribute,inner_condition,value,chain);case 9:if(!_context.sent){_context.next=11;break;}eligibleElements.push($(element));case 11:_i++;_context.next=5;break;case 14:return _context.abrupt("return",eligibleElements);case 15:case"end":return _context.stop();}}},_callee);}));return function checkActionCondition(_x){return _ref.apply(this,arguments);};}();var actionConditionChecker=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(element,type,operator,attribute,inner_condition,value,chain){var elementSku,productInfo,runTimeValue,res,_runTimeValue,_res;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=type;_context2.next=_context2.t0==="productInfoLookup"?3:20;break;case 3:elementSku=element.getAttribute(attribute);_context2.next=6;return store.getInstance().get(elementSku);case 6:productInfo=_context2.sent;runTimeValue=productInfo===null||productInfo===void 0?void 0:productInfo[operator];// runTimeValue may be 0
if(!(runTimeValue===null||runTimeValue===undefined)){_context2.next=11;break;}action_condition_util_logger.failed("Product info is empty");return _context2.abrupt("return",false);case 11:if(conditionChecker(runTimeValue,inner_condition,value)){_context2.next=13;break;}return _context2.abrupt("return",false);case 13:if(!chain){_context2.next=19;break;}_context2.next=16;return actionConditionChecker(element,chain.type,chain.operator,chain.attribute,chain.inner_condition,chain.value,chain.chain);case 16:res=_context2.sent;if(res){_context2.next=19;break;}return _context2.abrupt("return",false);case 19:return _context2.abrupt("break",29);case 20:_runTimeValue=element.getAttribute(attribute);if(conditionChecker(_runTimeValue,inner_condition,value)){_context2.next=23;break;}return _context2.abrupt("return",false);case 23:if(!chain){_context2.next=29;break;}_context2.next=26;return actionConditionChecker(element,chain.type,chain.operator,chain.attribute,chain.inner_condition,chain.value,chain.chain);case 26:_res=_context2.sent;if(_res){_context2.next=29;break;}return _context2.abrupt("return",false);case 29:return _context2.abrupt("return",true);case 30:case"end":return _context2.stop();}}},_callee2);}));return function actionConditionChecker(_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _ref2.apply(this,arguments);};}();/* harmony default export */var action_condition_util=checkActionCondition;// EXTERNAL MODULE: ./out/GlovAiClientSDK/bundle.js
var bundle=__nested_webpack_require_278923__(63);;// CONCATENATED MODULE: ./src/BeagleApplyActions/index.js
function BeagleApplyActions_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=BeagleApplyActions_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function BeagleApplyActions_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return BeagleApplyActions_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BeagleApplyActions_arrayLikeToArray(o,minLen);}function BeagleApplyActions_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function applyActions(_x){return _applyActions.apply(this,arguments);}function _applyActions(){_applyActions=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee8(actions){var logger,POPUP_DISPLAY_FLAG,transformer,prepareDescElm,prepareFinalTitle,replaceWithVal,getProductInfo,handleDocumentTitleTabChange,handlePopupClick,handleModalClick,displayPopup,displayModal,createPopup,swapNodes,waitForJQuery,actionApplicator,result;return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:logger=new src_logger("BeagleApplyActions");POPUP_DISPLAY_FLAG=SESSION_STORAGE_KEYS.POPUP_DISPLAY_FLAG;transformer=/*#__PURE__*/function(){var _transformer=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(action){var element,operator,type,applyEvent,contentSelector,selector,selectorFallback,mdCondition,move_selector_1,move_selector_2,replaceFn,pType,attribute,productInfoStorage,value,mc,elm,mobile,_iterator,_step,event,_yield$Promise$all,_yield$Promise$all2,r,d,styleChangesMap,_iterator2,_step2,_event,property,propertyValue,n1,n2,source,destination,res,_i,_Array$from,_e$innerText,e,finalTitle,descriptionElm,_args=arguments;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:element=_args.length>1&&_args[1]!==undefined?_args[1]:null;logger.log("Applying action: ",JSON.stringify(action));operator=action.operator,type=action.type,applyEvent=action.applyEvent,contentSelector=action.contentSelector,selector=action.selector,selectorFallback=action.selectorFallback,mdCondition=action.mdCondition,move_selector_1=action.move_selector_1,move_selector_2=action.move_selector_2,replaceFn=action.replaceFn,pType=action.pType,attribute=action.attribute,productInfoStorage=action.productInfoStorage;if(!(operator==="noop")){_context.next=6;break;}logger.failed("Noop Operator: No operation is applied on target ");return _context.abrupt("return",true);case 6:value=action.value;// If an element is passed to transformer, selector is relative to passed element
element=element?element.find(selector):$(selector);mc=mdCondition?window.matchMedia(mdCondition).matches:true;if(mc){_context.next=12;break;}logger.failed("Media condition mismatch: ",mdCondition);return _context.abrupt("return",false);case 12:if(!(move_selector_1&&!move_selector_2||move_selector_2&&!move_selector_1)){_context.next=15;break;}logger.failed("Both move selectors are required");return _context.abrupt("return",false);case 15:if(!(move_selector_1&&move_selector_2)){_context.next=24;break;}if($(move_selector_1).length){_context.next=19;break;}logger.failed("Move selector 1 not found: ",move_selector_1);return _context.abrupt("return",false);case 19:if($(move_selector_2).length){_context.next=22;break;}logger.failed("Move selector 2 not found: ",move_selector_2);return _context.abrupt("return",false);case 22:_context.next=39;break;case 24:if(selector){_context.next=29;break;}logger.failed("Selector not specified");return _context.abrupt("return",false);case 29:if(element.length){_context.next=39;break;}if(!(!$(selectorFallback).length&&operator==="remove")){_context.next=32;break;}return _context.abrupt("return",true);case 32:if(!(selector!=="no-selector")){_context.next=39;break;}logger.failed("Selector not found: ",selector);logger.log("Trying fallback selector: ",selectorFallback);if(selectorFallback)element=$(selectorFallback);if(element.length){_context.next=39;break;}logger.failed("Fallback selector not found");return _context.abrupt("return",false);case 39:if(!replaceFn){_context.next=43;break;}_context.next=42;return replace_utils(value,replaceFn);case 42:value=_context.sent;case 43:if(!(operator==="remove")){_context.next=47;break;}if(element.length){logger.log("Removing: ",selector);element.remove();}else logger.log("Cannot found element with selector: ",selector);_context.next=234;break;case 47:if(!(operator==="insert")){_context.next=121;break;}_context.t0=type;_context.next=_context.t0==="before"?51:_context.t0==="after"?55:_context.t0==="append"?58:_context.t0==="modal"?61:_context.t0==="popup"?66:117;break;case 51:logger.log("Inserting before: ",value);if(String(value).includes("nd-add-to-win")){$(".nd-add-to-win").remove();}element.before(value);return _context.abrupt("break",119);case 55:logger.log("Inserting after: ",value);element.after(value);return _context.abrupt("break",119);case 58:logger.log("Appending value: ",value);element.append(value);return _context.abrupt("break",119);case 61:element.off("click");createPopup(value,contentSelector,true);elm=document.querySelector(selector);elm.addEventListener("click",function(e){if(elm==e.target){e.stopPropagation();}displayModal(value,contentSelector);},true);return _context.abrupt("break",119);case 66:if(!(parseInt(sessionStorage.getItem(POPUP_DISPLAY_FLAG))!==0)){_context.next=69;break;}logger.log("Popup already displayed in session");return _context.abrupt("break",119);case 69:logger.log("Creating Popup: ",value);if(!pType){_context.next=74;break;}_context.next=73;return getProductInfo(pType,value,productInfoStorage);case 73:value=_context.sent;case 74:createPopup(value,contentSelector);if(!applyEvent){_context.next=115;break;}mobile=window.matchMedia(MOBILE_MEDIA_QUERY).matches;_iterator=BeagleApplyActions_createForOfIteratorHelper(applyEvent);_context.prev=78;_iterator.s();case 80:if((_step=_iterator.n()).done){_context.next=105;break;}event=_step.value;_context.t1=event;_context.next=_context.t1==="exitIntent"?85:_context.t1==="copyIntent"?100:103;break;case 85:logger.log("Adding exit intent listener");if(!mobile){_context.next=98;break;}window.top.addEventListener("visibilitychange",displayPopup);_context.next=90;return Promise.all([getFromBeagleInfoLayer("r",true),getFromBeagleInfoLayer("d",true)]);case 90:_yield$Promise$all=_context.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2);r=_yield$Promise$all2[0];d=_yield$Promise$all2[1];if(typeof r==="string"&&typeof d==="string"&&!r.includes(d)){if(window.history&&typeof window.history.pushState==="function"){if(window.top.document.readyState!=="complete"){window.top.addEventListener("load",function(){if(window.history.state!=="bg_limbo")window.history.pushState("bg_limbo","");window.top.addEventListener("popstate",displayPopup,{once:true});});}else{if(window.history.state!=="bg_limbo")window.history.pushState("bg_limbo","");window.top.addEventListener("popstate",displayPopup,{once:true});}}}idleTimer(IDLE_TIMEOUT,displayPopup);_context.next=99;break;case 98:window.top.document.documentElement.addEventListener("mouseleave",displayPopup,{once:true});case 99:return _context.abrupt("break",103);case 100:logger.log("Adding copy intent listener");window.top.document.documentElement.addEventListener("copy",displayPopup,{once:true});return _context.abrupt("break",103);case 103:_context.next=80;break;case 105:_context.next=110;break;case 107:_context.prev=107;_context.t2=_context["catch"](78);_iterator.e(_context.t2);case 110:_context.prev=110;_iterator.f();return _context.finish(110);case 113:_context.next=116;break;case 115:// append popup to body after timeout expires
setTimeout(function(){displayPopup();},timeout);case 116:return _context.abrupt("break",119);case 117:logger.failed("Type: ".concat(type," not found for operator: ").concat(operator));return _context.abrupt("break",119);case 119:_context.next=234;break;case 121:if(!(operator==="edit")){_context.next=149;break;}_context.t3=type;_context.next=_context.t3==="text"?125:_context.t3==="html"?128:_context.t3==="styleApplicator"?131:_context.t3==="addClass"?136:_context.t3==="removeClass"?139:_context.t3==="documentTitle"?142:145;break;case 125:logger.log("Editing text: ",value);element.text(value);return _context.abrupt("break",147);case 128:logger.log("Editing html: ",value);element.html(value);return _context.abrupt("break",147);case 131:logger.log("Applying style: ",value);styleChangesMap=JSON.parse(value);logger.log("Style Changes Map: ",styleChangesMap);styleApplicator(element,styleChangesMap);return _context.abrupt("break",147);case 136:logger.log("addding class to ".concat(element," named ").concat(value));element.addClass(value);return _context.abrupt("break",147);case 139:logger.log("remove class from ".concat(element," named ").concat(value));element.removeClass(value);return _context.abrupt("break",147);case 142:logger.log("changing document title from ".concat(element," to ").concat(value));if(applyEvent){_iterator2=BeagleApplyActions_createForOfIteratorHelper(applyEvent);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_event=_step2.value;if(_event=="tabChange"){(function(){logger.log("catching event tabchange..");var originalTitle=window.top.document.title;window.top.document.addEventListener("visibilitychange",function(e){setTimeout(function(){handleDocumentTitleTabChange(e,value,originalTitle);},15000);});})();}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return _context.abrupt("break",147);case 145:logger.log("Unknown edit type: ",type);return _context.abrupt("break",147);case 147:_context.next=234;break;case 149:if(!(operator==="setattribute")){_context.next=166;break;}logger.log("Setting attribute: ",attribute,value);_context.t4=attribute;_context.next=_context.t4==="src"?154:_context.t4==="style"?156:160;break;case 154:element.css("content","url(".concat(value.trim(),")"));return _context.abrupt("break",164);case 156:// eslint-disable-next-line no-case-declarations
property=value.split(":")[0].trim();// eslint-disable-next-line no-case-declarations
propertyValue=value.split(":")[1].trim();element.css(property,propertyValue,"!important");return _context.abrupt("break",164);case 160:if(value.includes("function")){value=Function(value);}element.attr(attribute,value);logger.log("Unhandled attribute: Setting attribute: ",attribute,value);return _context.abrupt("break",164);case 164:_context.next=234;break;case 166:if(!(operator==="replace")){_context.next=171;break;}logger.log("Replacing: ",value);element.replaceAll(value);_context.next=234;break;case 171:if(!(operator==="swap")){_context.next=178;break;}logger.log("Swapping: ",move_selector_1,move_selector_2);n1=window.top.document.querySelector(move_selector_1);n2=window.top.document.querySelector(move_selector_2);swapNodes(n1,n2);_context.next=234;break;case 178:if(!(operator==="injectscript")){_context.next=183;break;}logger.log("Injecting script: ",value);element.append("<script>".concat(value,"</script>"));_context.next=234;break;case 183:if(!(operator==="move")){_context.next=191;break;}logger.log("Moving ".concat(move_selector_1," to ").concat(move_selector_2));source=window.top.document.querySelector(move_selector_1);destination=window.top.document.querySelector(move_selector_2);source.remove();destination.prepend(source);_context.next=234;break;case 191:if(!(operator==="productInfoLookup")){_context.next=198;break;}_context.next=194;return getProductInfo(pType,value,productInfoStorage);case 194:res=_context.sent;element.before(res);_context.next=234;break;case 198:if(!(operator==="text-transform")){_context.next=217;break;}_context.t5=type;_context.next=_context.t5==="capitalize"?202:_context.t5==="PLACEHOLDER"?213:214;break;case 202:_i=0,_Array$from=Array.from(element);case 203:if(!(_i<_Array$from.length)){_context.next=212;break;}e=_Array$from[_i];if(!((_e$innerText=e.innerText)!==null&&_e$innerText!==void 0&&_e$innerText.includes("\n"))){_context.next=208;break;}e.innerText=turkishToLower(e.innerText).split("\n").map(function(sentence){return sentence.split(" ").map(function(word){return word.charAt(0).toLocaleUpperCase()+word.slice(1);}).join(" ");}).join("\n");return _context.abrupt("continue",209);case 208:e.innerText=turkishToLower(e.innerText).split(" ").map(function(word){return word.charAt(0).toLocaleUpperCase()+word.slice(1);}).join(" ");case 209:_i++;_context.next=203;break;case 212:return _context.abrupt("break",215);case 213:return _context.abrupt("break",215);case 214:return _context.abrupt("break",215);case 215:_context.next=234;break;case 217:if(!(operator==="ai-suggest")){_context.next=233;break;}_context.t6=type;_context.next=_context.t6==="title-change"?221:_context.t6==="add-description"?226:231;break;case 221:_context.next=223;return prepareFinalTitle();case 223:finalTitle=_context.sent;element.contents().filter(function(){return this.nodeType==3;})[0].nodeValue=finalTitle;return _context.abrupt("break",231);case 226:_context.next=228;return prepareDescElm(value);case 228:descriptionElm=_context.sent;element.before(descriptionElm);return _context.abrupt("break",231);case 231:_context.next=234;break;case 233:logger.failed("No such operator exists yet",operator);case 234:case"end":return _context.stop();}}},_callee,null,[[78,107,110,113]]);}));function transformer(_x2){return _transformer.apply(this,arguments);}return transformer;}();prepareDescElm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(value){var regex,_yield$getFromBeagleI,sku,productInfo,updatedHtmlString;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:regex=/<p[^>]*>([\s\S]*?)<\/p>/;_context2.next=3;return getFromBeagleInfoLayer("pdp",true);case 3:_yield$getFromBeagleI=_context2.sent;sku=_yield$getFromBeagleI.sku;_context2.next=7;return store.getInstance().get(sku);case 7:productInfo=_context2.sent;updatedHtmlString=value.replace(regex,"<p>$1".concat(productInfo.marketingCopy,"</p>"));return _context2.abrupt("return",updatedHtmlString);case 10:case"end":return _context2.stop();}}},_callee2);}));return function prepareDescElm(_x3){return _ref.apply(this,arguments);};}();prepareFinalTitle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var _yield$getFromBeagleI2,name,sku,productInfo,res;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getFromBeagleInfoLayer("pdp",true);case 2:_yield$getFromBeagleI2=_context3.sent;name=_yield$getFromBeagleI2.name;sku=_yield$getFromBeagleI2.sku;_context3.next=7;return store.getInstance().get(sku);case 7:productInfo=_context3.sent;res=name+", "+productInfo.titleAugment+" ";return _context3.abrupt("return",res);case 10:case"end":return _context3.stop();}}},_callee3);}));return function prepareFinalTitle(){return _ref2.apply(this,arguments);};}();replaceWithVal=function replaceWithVal(value,htmlStr){if(value&&htmlStr.includes("{{REPLACE_PRODUCTINFO}}")){htmlStr=replaceAll(htmlStr,"{{REPLACE_PRODUCTINFO}}",value);}return htmlStr;};getProductInfo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(type,value,productInfoStorage){var skuList,res,productInfo;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(productInfoStorage==="basket")){_context4.next=6;break;}_context4.next=3;return getFromBeagleInfoLayer("__features.SKUsonLastCartView",true);case 3:_context4.t0=_context4.sent;_context4.next=9;break;case 6:_context4.next=8;return getFromBeagleInfoLayer("__features.SKUsonPage",true);case 8:_context4.t0=_context4.sent;case 9:skuList=_context4.t0;res=null;if(!(!skuList||skuList.length===0)){_context4.next=14;break;}logger.log("No sku found");return _context4.abrupt("return",null);case 14:_context4.next=16;return store.getInstance().get(skuList[0]);case 16:productInfo=_context4.sent;_context4.t1=type;_context4.next=_context4.t1==="transactionIn2Weeks"?20:_context4.t1==="addToCartIn2Weeks"?23:_context4.t1==="productViewCount"?26:29;break;case 20:res=replaceWithVal(productInfo.saleCntVisitorsIn15.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),value);logger.log("Replacing transcationIn2Weeks ",productInfo.saleCntVisitorsIn15);return _context4.abrupt("break",30);case 23:res=replaceWithVal(productInfo.cartCntVisitorsIn15.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),value);logger.log("Replacing AddToCartCount ",productInfo.cartCntVisitorsIn15);return _context4.abrupt("break",30);case 26:res=replaceWithVal(productInfo.viewCntVisitorsIn1.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),value);logger.log("Replacing productViewCount for",productInfo.viewCntVisitorsIn1);return _context4.abrupt("break",30);case 29:logger.failed("no such type found for productInfoLookup operator: "+type);case 30:return _context4.abrupt("return",res);case 31:case"end":return _context4.stop();}}},_callee4);}));return function getProductInfo(_x4,_x5,_x6){return _ref3.apply(this,arguments);};}();handleDocumentTitleTabChange=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(event,titles,originalTitle){var parsedTitles,_iterator3,_step3,parsedTitle;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:parsedTitles=!Array.isArray(titles)?[titles]:titles;_iterator3=BeagleApplyActions_createForOfIteratorHelper(parsedTitles);_context5.prev=2;_iterator3.s();case 4:if((_step3=_iterator3.n()).done){_context5.next=18;break;}parsedTitle=_step3.value;if(!window.top.document.hidden){_context5.next=15;break;}window.top.document.title=parsedTitle;_context5.next=10;return delay(2000);case 10:window.top.document.title=originalTitle;_context5.next=13;return delay(2000);case 13:_context5.next=16;break;case 15:window.top.document.title=originalTitle;case 16:_context5.next=4;break;case 18:_context5.next=23;break;case 20:_context5.prev=20;_context5.t0=_context5["catch"](2);_iterator3.e(_context5.t0);case 23:_context5.prev=23;_iterator3.f();return _context5.finish(23);case 26:if(!window.top.document.hidden){window.top.document.title=originalTitle;}else{handleDocumentTitleTabChange(event,titles,originalTitle);}case 27:case"end":return _context5.stop();}}},_callee5,null,[[2,20,23,26]]);}));return function handleDocumentTitleTabChange(_x7,_x8,_x9){return _ref4.apply(this,arguments);};}();handlePopupClick=function handlePopupClick(event){var id=event.target.id;if(id&&id==="nd-popup__wrapper"){$("#nd-popup__wrapper").remove();window.removeEventListener("click",handlePopupClick,true);window.removeEventListener("touchend",handlePopupClick,true);}};handleModalClick=function handleModalClick(event){var classList=event.target.classList;if(classList&&classList.contains("nd-modal__wrapper")){$(".nd-modal__wrapper").hide();window.removeEventListener("click",handleModalClick,true);window.removeEventListener("touchend",handleModalClick,true);}};displayPopup=function displayPopup(){if(window.top.document.hidden)return;if(parseInt(sessionStorage.getItem(POPUP_DISPLAY_FLAG))>0)return;sessionStorage.setItem(POPUP_DISPLAY_FLAG,1);var qPopup=window.top.document.querySelector("#grt-shadow-host");if(qPopup)qPopup.style["display"]="none";window.top.document.getElementById("nd-popup__wrapper").style["display"]="block";window.addEventListener("click",handlePopupClick,true);window.addEventListener("touchend",handlePopupClick,true);window.top.document.documentElement.removeEventListener("mouseleave",displayPopup,{once:true});window.top.document.documentElement.removeEventListener("copy",displayPopup,{once:true});window.top.removeEventListener("visibilitychange",displayPopup);window.top.removeEventListener("popstate",displayPopup,{once:true});setTimeout(function(){$("#nd-popup__wrapper").remove();window.removeEventListener("click",handlePopupClick,true);window.removeEventListener("touchend",handlePopupClick,true);},15000);};displayModal=function displayModal(value,contentSelector){if(window.top.document.hidden)return;var qPopup=window.top.document.querySelector("#grt-shadow-host");if(qPopup)qPopup.style["display"]="none";if(!window.top.document.querySelector(".nd-modal__wrapper"))createPopup(value,contentSelector,true);window.top.document.querySelector(".nd-modal__wrapper").style["display"]="block";window.addEventListener("click",handleModalClick,true);};createPopup=function createPopup(value,contentSelector){var isModal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;// Create popup wrapper
var popupWrapper=window.top.document.createElement("div");// eslint-disable-next-line max-len
popupWrapper.classList.add("nd-popup__wrapper");if(isModal)popupWrapper.classList.add("nd-modal__wrapper");if(!isModal)popupWrapper.id="nd-popup__wrapper";// Create popup close button
var popupCloseButton=window.top.document.createElement("button");var popupCloseButtonStyle=isModal?"nd-popup__button-close__colored":"nd-popup__button-close";popupCloseButton.classList.add(popupCloseButtonStyle);popupCloseButton.innerText="X";if(isModal){popupCloseButton.onclick=function(){$(".nd-modal__wrapper").hide();window.removeEventListener("click",handleModalClick,true);};}else{popupCloseButton.onclick=function(){$("#nd-popup__wrapper").remove();window.removeEventListener("click",handlePopupClick,true);};}if(contentSelector){var contents=Array.from(window.top.document.querySelectorAll(contentSelector));while(value.includes("{{REPLACE}}")&&contents.length>0){value=value.replace("{{REPLACE}}",contents.shift().src);}}// Create popup from action and append close button
var template=window.top.document.createElement("template");template.innerHTML=value.trim();var popup=template.content.firstChild;popup.appendChild(popupCloseButton);popupWrapper.appendChild(popup);// Remove old popup if exists before appending new one
$("#nd-popup__wrapper").remove();window.top.document.body.appendChild(popupWrapper);};swapNodes=function swapNodes(n1,n2){var p1=n1.parentNode;var p2=n2.parentNode;var i1;var i2;if(!p1||!p2||p1.isEqualNode(n2)||p2.isEqualNode(n1))return;for(var i=0;i<p1.children.length;i++){if(p1.children[i].isEqualNode(n1)){i1=i;}}for(var _i2=0;_i2<p2.children.length;_i2++){if(p2.children[_i2].isEqualNode(n2)){i2=_i2;}}if(p1.isEqualNode(p2)&&i1<i2){i2++;}p1.insertBefore(n2,p1.children[i1]);p2.insertBefore(n1,p2.children[i2]);};waitForJQuery=function waitForJQuery(){return new Promise(function(resolve){if(!window.jQuery){logger.log("jQuery not found, retrying");var jQueryInterval=setInterval(function(){if(window.jQuery){clearInterval(jQueryInterval);resolve(true);}},25);setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:clearInterval(jQueryInterval);resolve(false);case 2:case"end":return _context6.stop();}}},_callee6);})),2000);}else resolve(true);});};actionApplicator=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(actions){var _iterator4,_step4,action,_result,eligibleElements,_iterator5,_step5,element;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return waitForJQuery();case 2:if(!_context7.sent){_context7.next=59;break;}_iterator4=BeagleApplyActions_createForOfIteratorHelper(actions);_context7.prev=4;_iterator4.s();case 6:if((_step4=_iterator4.n()).done){_context7.next=49;break;}action=_step4.value;_context7.prev=8;_result=false;if(!action.condition){_context7.next=36;break;}_context7.next=13;return action_condition_util(action.condition);case 13:eligibleElements=_context7.sent;_iterator5=BeagleApplyActions_createForOfIteratorHelper(eligibleElements);_context7.prev=15;_iterator5.s();case 17:if((_step5=_iterator5.n()).done){_context7.next=26;break;}element=_step5.value;_context7.next=21;return transformer(action,element);case 21:_result=_context7.sent;if(!(_result===false)){_context7.next=24;break;}return _context7.abrupt("return",false);case 24:_context7.next=17;break;case 26:_context7.next=31;break;case 28:_context7.prev=28;_context7.t0=_context7["catch"](15);_iterator5.e(_context7.t0);case 31:_context7.prev=31;_iterator5.f();return _context7.finish(31);case 34:_context7.next=39;break;case 36:_context7.next=38;return transformer(action);case 38:_result=_context7.sent;case 39:if(!(_result===false)){_context7.next=41;break;}return _context7.abrupt("return",false);case 41:_context7.next=47;break;case 43:_context7.prev=43;_context7.t1=_context7["catch"](8);logger.failed("Couldn't apply action ".concat(JSON.stringify(action)," with error ").concat(_context7.t1.message));return _context7.abrupt("return",_context7.t1);case 47:_context7.next=6;break;case 49:_context7.next=54;break;case 51:_context7.prev=51;_context7.t2=_context7["catch"](4);_iterator4.e(_context7.t2);case 54:_context7.prev=54;_iterator4.f();return _context7.finish(54);case 57:_context7.next=61;break;case 59:logger.failed("Jquery not found on window");return _context7.abrupt("return",false);case 61:case"end":return _context7.stop();}}},_callee7,null,[[4,51,54,57],[8,43],[15,28,31,34]]);}));return function actionApplicator(_x10){return _ref6.apply(this,arguments);};}();// Apply actions
_context8.next=18;return actionApplicator(actions);case 18:result=_context8.sent;return _context8.abrupt("return",result);case 20:case"end":return _context8.stop();}}},_callee8);}));return _applyActions.apply(this,arguments);}/* harmony default export */var BeagleApplyActions=applyActions;;// CONCATENATED MODULE: ./node_modules/async-mutex/index.mjs
var E_TIMEOUT=new Error('timeout while waiting for mutex to become available');var E_ALREADY_LOCKED=new Error('mutex already locked');var E_CANCELED=new Error('request for lock canceled');var __awaiter$2= false||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var Semaphore=/*#__PURE__*/function(){function Semaphore(_value){var _cancelError=arguments.length>1&&arguments[1]!==undefined?arguments[1]:E_CANCELED;_classCallCheck3(this,Semaphore);this._value=_value;this._cancelError=_cancelError;this._weightedQueues=[];this._weightedWaiters=[];}_createClass3(Semaphore,[{key:"acquire",value:function acquire(){var _this13=this;var weight=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(weight<=0)throw new Error("invalid weight ".concat(weight,": must be positive"));return new Promise(function(resolve,reject){if(!_this13._weightedQueues[weight-1])_this13._weightedQueues[weight-1]=[];_this13._weightedQueues[weight-1].push({resolve:resolve,reject:reject});_this13._dispatch();});}},{key:"runExclusive",value:function runExclusive(callback){var weight=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return __awaiter$2(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime3.mark(function _callee17(){var _yield$this$acquire3,_yield$this$acquire4,value,release;return _regeneratorRuntime3.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.next=2;return this.acquire(weight);case 2:_yield$this$acquire3=_context17.sent;_yield$this$acquire4=_slicedToArray3(_yield$this$acquire3,2);value=_yield$this$acquire4[0];release=_yield$this$acquire4[1];_context17.prev=6;_context17.next=9;return callback(value);case 9:return _context17.abrupt("return",_context17.sent);case 10:_context17.prev=10;release();return _context17.finish(10);case 13:case"end":return _context17.stop();}}},_callee17,this,[[6,,10,13]]);}));}},{key:"waitForUnlock",value:function waitForUnlock(){var _this14=this;var weight=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(weight<=0)throw new Error("invalid weight ".concat(weight,": must be positive"));return new Promise(function(resolve){if(!_this14._weightedWaiters[weight-1])_this14._weightedWaiters[weight-1]=[];_this14._weightedWaiters[weight-1].push(resolve);_this14._dispatch();});}},{key:"isLocked",value:function isLocked(){return this._value<=0;}},{key:"getValue",value:function getValue(){return this._value;}},{key:"setValue",value:function setValue(value){this._value=value;this._dispatch();}},{key:"release",value:function release(){var weight=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(weight<=0)throw new Error("invalid weight ".concat(weight,": must be positive"));this._value+=weight;this._dispatch();}},{key:"cancel",value:function cancel(){var _this15=this;this._weightedQueues.forEach(function(queue){return queue.forEach(function(entry){return entry.reject(_this15._cancelError);});});this._weightedQueues=[];}},{key:"_dispatch",value:function _dispatch(){var _a;for(var weight=this._value;weight>0;weight--){var queueEntry=(_a=this._weightedQueues[weight-1])===null||_a===void 0?void 0:_a.shift();if(!queueEntry)continue;var previousValue=this._value;var previousWeight=weight;this._value-=weight;weight=this._value+1;queueEntry.resolve([previousValue,this._newReleaser(previousWeight)]);}this._drainUnlockWaiters();}},{key:"_newReleaser",value:function _newReleaser(weight){var _this16=this;var called=false;return function(){if(called)return;called=true;_this16.release(weight);};}},{key:"_drainUnlockWaiters",value:function _drainUnlockWaiters(){for(var weight=this._value;weight>0;weight--){if(!this._weightedWaiters[weight-1])continue;this._weightedWaiters[weight-1].forEach(function(waiter){return waiter();});this._weightedWaiters[weight-1]=[];}}}]);return Semaphore;}();var __awaiter$1= false||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var Mutex=/*#__PURE__*/function(){function Mutex(cancelError){_classCallCheck3(this,Mutex);this._semaphore=new Semaphore(1,cancelError);}_createClass3(Mutex,[{key:"acquire",value:function acquire(){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime3.mark(function _callee18(){var _yield$this$_semaphor3,_yield$this$_semaphor4,releaser;return _regeneratorRuntime3.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return this._semaphore.acquire();case 2:_yield$this$_semaphor3=_context18.sent;_yield$this$_semaphor4=_slicedToArray3(_yield$this$_semaphor3,2);releaser=_yield$this$_semaphor4[1];return _context18.abrupt("return",releaser);case 6:case"end":return _context18.stop();}}},_callee18,this);}));}},{key:"runExclusive",value:function runExclusive(callback){return this._semaphore.runExclusive(function(){return callback();});}},{key:"isLocked",value:function isLocked(){return this._semaphore.isLocked();}},{key:"waitForUnlock",value:function waitForUnlock(){return this._semaphore.waitForUnlock();}},{key:"release",value:function release(){if(this._semaphore.isLocked())this._semaphore.release();}},{key:"cancel",value:function cancel(){return this._semaphore.cancel();}}]);return Mutex;}();var __awaiter= false||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};function withTimeout(sync,timeout){var _this17=this;var timeoutError=arguments.length>2&&arguments[2]!==undefined?arguments[2]:E_TIMEOUT;return{acquire:function acquire(weight){if(weight!==undefined&&weight<=0){throw new Error("invalid weight ".concat(weight,": must be positive"));}return new Promise(function(resolve,reject){return __awaiter(_this17,void 0,void 0,/*#__PURE__*/_regeneratorRuntime3.mark(function _callee19(){var isTimeout,handle,ticket,release;return _regeneratorRuntime3.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:isTimeout=false;handle=setTimeout(function(){isTimeout=true;reject(timeoutError);},timeout);_context19.prev=2;_context19.next=5;return sync.acquire(weight);case 5:ticket=_context19.sent;if(isTimeout){release=Array.isArray(ticket)?ticket[1]:ticket;release();}else{clearTimeout(handle);resolve(ticket);}_context19.next=12;break;case 9:_context19.prev=9;_context19.t0=_context19["catch"](2);if(!isTimeout){clearTimeout(handle);reject(_context19.t0);}case 12:case"end":return _context19.stop();}}},_callee19,null,[[2,9]]);}));});},runExclusive:function runExclusive(callback,weight){return __awaiter(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime3.mark(function _callee20(){var release,ticket;return _regeneratorRuntime3.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:release=function release(){return undefined;};_context20.prev=1;_context20.next=4;return this.acquire(weight);case 4:ticket=_context20.sent;if(!Array.isArray(ticket)){_context20.next=12;break;}release=ticket[1];_context20.next=9;return callback(ticket[0]);case 9:return _context20.abrupt("return",_context20.sent);case 12:release=ticket;_context20.next=15;return callback();case 15:return _context20.abrupt("return",_context20.sent);case 16:_context20.prev=16;release();return _context20.finish(16);case 19:case"end":return _context20.stop();}}},_callee20,this,[[1,,16,19]]);}));},release:function release(weight){sync.release(weight);},cancel:function cancel(){return sync.cancel();},waitForUnlock:function waitForUnlock(weight){if(weight!==undefined&&weight<=0){throw new Error("invalid weight ".concat(weight,": must be positive"));}return new Promise(function(resolve,reject){sync.waitForUnlock(weight).then(resolve);setTimeout(function(){return reject(timeoutError);},timeout);});},isLocked:function isLocked(){return sync.isLocked();},getValue:function getValue(){return sync.getValue();},setValue:function setValue(value){return sync.setValue(value);}};}// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types
function tryAcquire(sync){var alreadyAcquiredError=arguments.length>1&&arguments[1]!==undefined?arguments[1]:E_ALREADY_LOCKED;// eslint-disable-next-line @typescript-eslint/no-explicit-any
return withTimeout(sync,0,alreadyAcquiredError);};// CONCATENATED MODULE: ./src/BeagleOn/robotEngine.js
function robotEngine_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=robotEngine_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function robotEngine_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return robotEngine_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return robotEngine_arrayLikeToArray(o,minLen);}function robotEngine_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var robotEngine_logger=new src_logger("BeagleRobotEngine");var OBSERVER_CONFIG={subtree:true,childList:true,attributes:true};var RobotEngine=/*#__PURE__*/function(){function RobotEngine(body){_classCallCheck(this,RobotEngine);var debugFilteredTreatments=body.debugFilteredTreatments,debugMode=body.debugMode,matchedTreatments=body.matchedTreatments,identifier=body.identifier,pageType=body.pageType;this.engagementLock={};this.pageType=pageType;this.debugMode=debugMode;this.identifier=identifier;this.reApplyTreatmentsMap={};this.addedDataListenerIds=[];this.matchedTreatments=matchedTreatments;this.debugFilteredTreatments=debugFilteredTreatments;this.isMobile=window.matchMedia(MOBILE_MEDIA_QUERY).matches;}_createClass(RobotEngine,[{key:"engageRobots",value:function(){var _engageRobots=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var robotPromises,_iterator,_step,treatment;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:robotPromises=[];_iterator=robotEngine_createForOfIteratorHelper(this.matchedTreatments);_context.prev=2;_iterator.s();case 4:if((_step=_iterator.n()).done){_context.next=17;break;}treatment=_step.value;_context.prev=6;if(!treatment.dependant_on_treatment){_context.next=9;break;}return _context.abrupt("continue",15);case 9:robotPromises.push(this.engageRobot(treatment));_context.next=15;break;case 12:_context.prev=12;_context.t0=_context["catch"](6);robotEngine_logger.failed("Error engaging robot ".concat(treatment.id,": ").concat(_context.t0.message||_context.t0));case 15:_context.next=4;break;case 17:_context.next=22;break;case 19:_context.prev=19;_context.t1=_context["catch"](2);_iterator.e(_context.t1);case 22:_context.prev=22;_iterator.f();return _context.finish(22);case 25:_context.next=27;return Promise.all(robotPromises);case 27:this.initiateReapplyRobotMap();case 28:case"end":return _context.stop();}}},_callee,this,[[2,19,22,25],[6,12]]);}));function engageRobots(){return _engageRobots.apply(this,arguments);}return engageRobots;}()},{key:"engageRobot",value:function(){var _engageRobot=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(treatment){var _this=this;var id,actions,eligibilityRuleSet,device,dependant_on_treatment,businessRuleSet,weight,delay,helpers,debugMode,debugFilteredTreatments,engagementLock,identifier,isMobile,matchedTreatments,prepareAndApply,release,treatmentSkipRatio,determiningIdentifier,treatmentPct,businessRuleId;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:id=treatment.id,actions=treatment.actions,eligibilityRuleSet=treatment.eligibilityRuleSet,device=treatment.device,dependant_on_treatment=treatment.dependant_on_treatment,businessRuleSet=treatment.businessRuleSet,weight=treatment.weight,delay=treatment.delay,helpers=treatment.helpers;debugMode=this.debugMode,debugFilteredTreatments=this.debugFilteredTreatments,engagementLock=this.engagementLock,identifier=this.identifier,isMobile=this.isMobile,matchedTreatments=this.matchedTreatments,prepareAndApply=this.prepareAndApply;// one engagement at a time
engagementLock[id]=engagementLock[id]||new Mutex();_context3.next=5;return engagementLock[id].acquire();case 5:release=_context3.sent;_context3.prev=6;if(!(debugMode&&debugFilteredTreatments&&!debugFilteredTreatments.includes(id))){_context3.next=9;break;}return _context3.abrupt("return");case 9:if(!(device==="mobile"&&!isMobile)){_context3.next=12;break;}robotEngine_logger.failed("Treatment device 'mobile' mismatch");return _context3.abrupt("return");case 12:if(!(device==="desktop"&&isMobile)){_context3.next=15;break;}robotEngine_logger.failed("Treatment device 'desktop' mismatch");return _context3.abrupt("return");case 15:robotEngine_logger.log("Starting base rule set check for treatment: "+id);_context3.t0=!eligibilityRuleSet;if(_context3.t0){_context3.next=21;break;}_context3.next=20;return this.checkEligibilityRuleSet(eligibilityRuleSet);case 20:_context3.t0=_context3.sent;case 21:if(!_context3.t0){_context3.next=55;break;}treatmentSkipRatio=weight===100?0:100-weight||TREATMENT_RATIO;robotEngine_logger.log("Treatment skip ratio: "+treatmentSkipRatio);// Determining identifier for calculating treatment percentage (treatmentPct)
determiningIdentifier=dependant_on_treatment||id;// treatmentPct is the percentage value for the treatment used to determine if it should be skipped or not
// treatmentPct is 100 when debug mode is 1, ensuring no treatments are skipped
if(!(debugMode===1)){_context3.next=29;break;}_context3.t1=100;_context3.next=32;break;case 29:_context3.next=31;return determinePct(identifier+determiningIdentifier);case 31:_context3.t1=_context3.sent;case 32:treatmentPct=_context3.t1;robotEngine_logger.log("TreatmentPct: "+treatmentPct+" with debug mode ".concat(debugMode?"on":"off"));businessRuleId=null;if(!businessRuleSet){_context3.next=41;break;}robotEngine_logger.log("Starting sub variant rule set check for treatment: "+id);_context3.next=39;return this.checkBusinessRules(businessRuleSet);case 39:businessRuleId=_context3.sent;if(businessRuleId!==null){robotEngine_logger.log("Applying business rule transformation with id: ",businessRuleId);}else robotEngine_logger.log("Applying treatment with default values");case 41:if(!(treatmentPct<treatmentSkipRatio)){_context3.next=45;break;}robotEngine_logger.log("Treatment ".concat(id," skipped due to treatment split ratio"));addTreatment(id,businessRuleId,null,"skipped",dependant_on_treatment);return _context3.abrupt("return");case 45:if(delay){_context3.next=52;break;}_context3.next=48;return prepareAndApply(id,identifier,actions,businessRuleId,debugMode);case 48:_context3.next=50;return this.engageHelpers(helpers,matchedTreatments);case 50:_context3.next=53;break;case 52:setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return prepareAndApply(id,identifier,actions,businessRuleId,debugMode);case 2:_context2.next=4;return _this.engageHelpers(helpers,matchedTreatments);case 4:case"end":return _context2.stop();}}},_callee2);})),delay);case 53:_context3.next=56;break;case 55:robotEngine_logger.failed("Rule check failed for treatment:",id);case 56:_context3.prev=56;release();this.addReapplyEvent(treatment);this.addRuleSetDataListeners(treatment);return _context3.finish(56);case 61:case"end":return _context3.stop();}}},_callee3,this,[[6,,56,61]]);}));function engageRobot(_x){return _engageRobot.apply(this,arguments);}return engageRobot;}()},{key:"engageHelpers",value:function(){var _engageHelpers=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(helpers,matchedTreatments){var helperRobotPromises,_iterator2,_step2,treatment;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(Array.isArray(helpers)&&helpers.length)){_context4.next=22;break;}helperRobotPromises=[];_iterator2=robotEngine_createForOfIteratorHelper(matchedTreatments);_context4.prev=3;_iterator2.s();case 5:if((_step2=_iterator2.n()).done){_context4.next=12;break;}treatment=_step2.value;if(helpers.includes(treatment.id)){_context4.next=9;break;}return _context4.abrupt("continue",10);case 9:helperRobotPromises.push(this.engageRobot(treatment));case 10:_context4.next=5;break;case 12:_context4.next=17;break;case 14:_context4.prev=14;_context4.t0=_context4["catch"](3);_iterator2.e(_context4.t0);case 17:_context4.prev=17;_iterator2.f();return _context4.finish(17);case 20:_context4.next=22;return Promise.all(helperRobotPromises);case 22:case"end":return _context4.stop();}}},_callee4,this,[[3,14,17,20]]);}));function engageHelpers(_x2,_x3){return _engageHelpers.apply(this,arguments);}return engageHelpers;}()},{key:"prepareAndApply",value:function(){var _prepareAndApply=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(id,identifier,actions,businessRuleId,debugMode){var _yield$prepareActions,_yield$prepareActions2,prepared,variant,res;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return prepareActions(identifier,actions,businessRuleId,debugMode);case 2:_yield$prepareActions=_context5.sent;_yield$prepareActions2=_slicedToArray(_yield$prepareActions,2);prepared=_yield$prepareActions2[0];variant=_yield$prepareActions2[1];_context5.next=8;return BeagleApplyActions(prepared);case 8:res=_context5.sent;if(res===false){addTreatment(id,businessRuleId,variant,"failed");}else{addTreatment(id,businessRuleId,variant,"applied");}case 10:case"end":return _context5.stop();}}},_callee5);}));function prepareAndApply(_x4,_x5,_x6,_x7,_x8){return _prepareAndApply.apply(this,arguments);}return prepareAndApply;}()},{key:"addReapplyEvent",value:function addReapplyEvent(treatment){var pageType=this.pageType,reApplyTreatmentsMap=this.reApplyTreatmentsMap;var id=treatment.id,reapply_event=treatment.reapply_event,reapply_event_page_type=treatment.reapply_event_page_type;if(reapply_event){if(!reapply_event_page_type||reapply_event_page_type===pageType){var reapply_event_array=reapply_event;if(!Array.isArray(reapply_event))reapply_event_array=[reapply_event];robotEngine_logger.log("Reapply event '".concat(reapply_event,"' found for treatment: ").concat(id));var _iterator3=robotEngine_createForOfIteratorHelper(reapply_event_array),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var reapplyEvent=_step3.value;var previousValue=reApplyTreatmentsMap[reapplyEvent]?reApplyTreatmentsMap[reapplyEvent]:[];if(previousValue.includes(id)){robotEngine_logger.log("Treatment already added for reapply event");}else reApplyTreatmentsMap[reapplyEvent]=[].concat(_toConsumableArray(previousValue),[id]);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}}},{key:"initiateReapplyRobotMap",value:function initiateReapplyRobotMap(){var _this2=this;var reApplyTreatmentsMap=this.reApplyTreatmentsMap,matchedTreatments=this.matchedTreatments;var _loop=function _loop(){var key=_Object$keys[_i];var treatmentIds=reApplyTreatmentsMap[key];var reApplyTreatments=matchedTreatments.filter(function(t){return treatmentIds.includes(t.id);});switch(key){case"infinite_scroll":{var observer=new ResizeObserver(function(){var _iterator4=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var treatment=_step4.value;robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from infinite_scroll"));_this2.engageRobot(treatment);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}});observer.observe(window.top.document.documentElement);}break;case"timeout":{setTimeout(function(){var _iterator5=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var treatment=_step5.value;robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from timeout"));_this2.engageRobot(treatment);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}},500);}break;case"element_change":{var _iterator6=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step6;try{var _loop2=function _loop2(){var treatment=_step6.value;var reapplySelectorList=Array.isArray(treatment.reapply_selector)?treatment.reapply_selector:[treatment.reapply_selector];var _iterator7=robotEngine_createForOfIteratorHelper(reapplySelectorList),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var selector=_step7.value;var element=window.top.document.querySelector(selector);if(element){var _observer=new MutationObserver(function(){robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from element_change"));_this2.engageRobot(treatment);});_observer.observe(element,OBSERVER_CONFIG);}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}};for(_iterator6.s();!(_step6=_iterator6.n()).done;){_loop2();}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}break;case"on_scroll":{// add window scroll listener, call engageRobot on scroll, do not trigger more than once per 250ms
var lastScrollTop=0;var lastScrollTime=0;window.addEventListener("scroll",function(){var now=new Date().getTime();var st=window.pageYOffset||window.top.document.documentElement.scrollTop;if(now-lastScrollTime>250&&Math.abs(lastScrollTop-st)>5){lastScrollTop=st;lastScrollTime=now;var _iterator8=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var treatment=_step8.value;robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from on_scroll"));_this2.engageRobot(treatment);}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}}},false);}break;case"query_search_change":{var queryString=window.location.search;var _observer2=new MutationObserver(function(){if(window.location.search!==queryString){queryString=window.location.search;var _iterator9=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var treatment=_step9.value;robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from query_search_change"));_this2.engageRobot(treatment);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}});_observer2.observe(document,OBSERVER_CONFIG);}break;case"interval":var _iterator10=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step10;try{var _loop3=function _loop3(){var treatment=_step10.value;var reapplyInterval=setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){var applied;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return getFromBeagleInfoLayer("a",true);case 2:applied=_context6.sent;if(!(applied!==null&&applied!==void 0&&applied[treatment.id])){_context6.next=7;break;}clearInterval(reapplyInterval);_context6.next=10;break;case 7:robotEngine_logger.log("Retrying treatment ".concat(treatment.id," from interval"));_context6.next=10;return _this2.engageRobot(treatment);case 10:case"end":return _context6.stop();}}},_callee6);})),50);setTimeout(function(){clearInterval(reapplyInterval);},2500);};for(_iterator10.s();!(_step10=_iterator10.n()).done;){_loop3();}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}break;case"info_layer_change":var _iterator11=robotEngine_createForOfIteratorHelper(reApplyTreatments),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var treatment=_step11.value;var boundEngageTreatment=_this2.engageRobot.bind(_this2,treatment);addDataListener(treatment.reapply_selector,boundEngageTreatment);}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}break;default:robotEngine_logger.failed("Reapply event not found: ",key);break;}};for(var _i=0,_Object$keys=Object.keys(reApplyTreatmentsMap);_i<_Object$keys.length;_i++){_loop();}}},{key:"addRuleSetDataListeners",value:function(){var _addRuleSetDataListeners=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee7(treatment){var _treatment$eligibilit,eligibilityRuleSet,_treatment$businessRu,businessRuleSet,id,selectors,boundEngageTreatment,_iterator12,_step12,selector;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_treatment$eligibilit=treatment.eligibilityRuleSet,eligibilityRuleSet=_treatment$eligibilit===void 0?[]:_treatment$eligibilit,_treatment$businessRu=treatment.businessRuleSet,businessRuleSet=_treatment$businessRu===void 0?[]:_treatment$businessRu,id=treatment.id;if(!this.addedDataListenerIds.includes(id)){_context7.next=3;break;}return _context7.abrupt("return");case 3:selectors=this.extractDataListenerSelectors([].concat(_toConsumableArray(eligibilityRuleSet),_toConsumableArray(businessRuleSet)));boundEngageTreatment=this.engageRobot.bind(this,treatment);_iterator12=robotEngine_createForOfIteratorHelper(selectors);try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){selector=_step12.value;addDataListener("__eRules.".concat(selector),boundEngageTreatment);}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}this.addedDataListenerIds.push(id);case 8:case"end":return _context7.stop();}}},_callee7,this);}));function addRuleSetDataListeners(_x9){return _addRuleSetDataListeners.apply(this,arguments);}return addRuleSetDataListeners;}()},{key:"extractDataListenerSelectors",value:function extractDataListenerSelectors(ruleSet){var previousSelectors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var selectors=previousSelectors||[];var _iterator13=robotEngine_createForOfIteratorHelper(ruleSet),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var rule=_step13.value;if(typeof rule==="string"){if(rule.startsWith("!"))rule=rule.slice(1);selectors.push(rule.split(".")[0]);continue;}this.extractDataListenerSelectors(rule.set,selectors);}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return _toConsumableArray(new Set(selectors));}},{key:"checkEligibility",value:function(){var _checkEligibility=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee8(eligibilityRule){var oppositeFlag,_eligibilityRule$spli,_eligibilityRule$spli2,eligibilityScope,eligibilityName,res;return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:robotEngine_logger.log("Checking eligibility ".concat(eligibilityRule));oppositeFlag=false;_eligibilityRule$spli=eligibilityRule.split("."),_eligibilityRule$spli2=_slicedToArray(_eligibilityRule$spli,2),eligibilityScope=_eligibilityRule$spli2[0],eligibilityName=_eligibilityRule$spli2[1];if(eligibilityScope.startsWith("!")){oppositeFlag=true;eligibilityScope=eligibilityScope.slice(1);}_context8.next=6;return getFromBeagleInfoLayer("__eRules.".concat(eligibilityScope));case 6:res=_context8.sent;if(!(!res||!Array.isArray(res))){_context8.next=9;break;}return _context8.abrupt("return",false);case 9:if(!(oppositeFlag&&res.includes(eligibilityName))){_context8.next=11;break;}return _context8.abrupt("return",false);case 11:if(!(!oppositeFlag&&!res.includes(eligibilityName))){_context8.next=13;break;}return _context8.abrupt("return",false);case 13:robotEngine_logger.log("".concat(eligibilityRule," is eligible"));return _context8.abrupt("return",true);case 15:case"end":return _context8.stop();}}},_callee8);}));function checkEligibility(_x10){return _checkEligibility.apply(this,arguments);}return checkEligibility;}()},{key:"checkEligibilityRuleSet",value:function(){var _checkEligibilityRuleSet=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee9(eligibilityRuleSet){var eligibilitySetType,previousIsEligible,isEligible,_iterator14,_step14,eligibilityRule,_args9=arguments;return regenerator_default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:eligibilitySetType=_args9.length>1&&_args9[1]!==undefined?_args9[1]:null;previousIsEligible=_args9.length>2&&_args9[2]!==undefined?_args9[2]:null;robotEngine_logger.log("Checking robot eligibility");if(Array.isArray(eligibilityRuleSet)){_context9.next=6;break;}robotEngine_logger.failed("Eligibility Rule Set ".concat(eligibilityRuleSet," is not an array"));return _context9.abrupt("return",false);case 6:isEligible=previousIsEligible;_iterator14=robotEngine_createForOfIteratorHelper(eligibilityRuleSet);_context9.prev=8;_iterator14.s();case 10:if((_step14=_iterator14.n()).done){_context9.next=57;break;}eligibilityRule=_step14.value;if(!(typeof eligibilityRule==="string")){_context9.next=49;break;}if(eligibilitySetType){_context9.next=21;break;}_context9.next=16;return this.checkEligibility(eligibilityRule);case 16:isEligible=_context9.sent;if(isEligible){_context9.next=19;break;}return _context9.abrupt("return",false);case 19:_context9.next=47;break;case 21:if(!eligibilitySetType){_context9.next=47;break;}if(!(isEligible===null)){_context9.next=27;break;}_context9.next=25;return this.checkEligibility(eligibilityRule);case 25:isEligible=_context9.sent;return _context9.abrupt("continue",55);case 27:_context9.t0=eligibilitySetType;_context9.next=_context9.t0==="or"?30:_context9.t0==="and"?37:44;break;case 30:_context9.t1=isEligible;if(_context9.t1){_context9.next=35;break;}_context9.next=34;return this.checkEligibility(eligibilityRule,eligibilitySetType);case 34:_context9.t1=_context9.sent;case 35:isEligible=_context9.t1;return _context9.abrupt("break",47);case 37:_context9.t2=isEligible;if(!_context9.t2){_context9.next=42;break;}_context9.next=41;return this.checkEligibility(eligibilityRule,eligibilitySetType);case 41:_context9.t2=_context9.sent;case 42:isEligible=_context9.t2;return _context9.abrupt("break",47);case 44:robotEngine_logger.failed("Unknown eligibilitySetType: ",eligibilitySetType);isEligible=false;return _context9.abrupt("break",47);case 47:_context9.next=55;break;case 49:if(!(_typeof(eligibilityRule)==="object")){_context9.next=55;break;}_context9.next=52;return this.checkEligibilityRuleSet(eligibilityRule.set,eligibilityRule.type,isEligible);case 52:isEligible=_context9.sent;if(isEligible){_context9.next=55;break;}return _context9.abrupt("return",false);case 55:_context9.next=10;break;case 57:_context9.next=62;break;case 59:_context9.prev=59;_context9.t3=_context9["catch"](8);_iterator14.e(_context9.t3);case 62:_context9.prev=62;_iterator14.f();return _context9.finish(62);case 65:return _context9.abrupt("return",isEligible);case 66:case"end":return _context9.stop();}}},_callee9,this,[[8,59,62,65]]);}));function checkEligibilityRuleSet(_x11){return _checkEligibilityRuleSet.apply(this,arguments);}return checkEligibilityRuleSet;}()// Return index of businessRule, this is the businessRuleId
},{key:"checkBusinessRules",value:function(){var _checkBusinessRules=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee10(businessRuleSet){var _iterator15,_step15,_step15$value,index,businessRule;return regenerator_default().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_iterator15=robotEngine_createForOfIteratorHelper(businessRuleSet.entries());_context10.prev=1;_iterator15.s();case 3:if((_step15=_iterator15.n()).done){_context10.next=11;break;}_step15$value=_slicedToArray(_step15.value,2),index=_step15$value[0],businessRule=_step15$value[1];_context10.next=7;return this.checkEligibilityRuleSet([businessRule]);case 7:if(!_context10.sent){_context10.next=9;break;}return _context10.abrupt("return",index);case 9:_context10.next=3;break;case 11:_context10.next=16;break;case 13:_context10.prev=13;_context10.t0=_context10["catch"](1);_iterator15.e(_context10.t0);case 16:_context10.prev=16;_iterator15.f();return _context10.finish(16);case 19:return _context10.abrupt("return",null);case 20:case"end":return _context10.stop();}}},_callee10,this,[[1,13,16,19]]);}));function checkBusinessRules(_x12){return _checkBusinessRules.apply(this,arguments);}return checkBusinessRules;}()}]);return RobotEngine;}();;// CONCATENATED MODULE: ./src/BeagleRuleEngine/dataLayerChecker.js
var dataLayerChecker_logger=new src_logger("BeagleInfoLayerChecker");var checkDataLayerRule=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(rule){var operator,condition,value,runtimeValue;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dataLayerChecker_logger.log("Checking rule",JSON.stringify(rule));operator=rule.operator,condition=rule.condition,value=rule.value;_context.next=4;return dataLayerFinder(operator);case 4:runtimeValue=_context.sent;return _context.abrupt("return",conditionChecker(runtimeValue,condition,value));case 6:case"end":return _context.stop();}}},_callee);}));return function checkDataLayerRule(_x){return _ref.apply(this,arguments);};}();var dataLayerFinder=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(key){var res;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dataLayerChecker_logger.log("Searching beagleInfoLayer for key ",key);_context2.next=3;return getFromBeagleInfoLayer(key);case 3:res=_context2.sent;if(!(res!==null&&res!==undefined)){_context2.next=7;break;}dataLayerChecker_logger.success("Found key ".concat(key," with value ").concat(res));return _context2.abrupt("return",res);case 7:dataLayerChecker_logger.failed("Key ".concat(key," not found in beagleInfoLayer"));return _context2.abrupt("return",null);case 9:case"end":return _context2.stop();}}},_callee2);}));return function dataLayerFinder(_x2){return _ref2.apply(this,arguments);};}();;// CONCATENATED MODULE: ./src/BeagleRuleEngine/elementChecker.js
var elementChecker_logger=new src_logger("BeagleElementChecker");var checkElementRule=function checkElementRule(rule){elementChecker_logger.log("Checking rule",JSON.stringify(rule));var operator=rule.operator,condition=rule.condition,value=rule.value,selector=rule.selector,selectorAll=rule.selectorAll,_rule$selectorFallbac=rule.selectorFallback,selectorFallback=_rule$selectorFallbac===void 0?null:_rule$selectorFallbac;var mainSelector=selector;if(mainSelector&&!window.top.document.querySelector(mainSelector)){mainSelector=selectorFallback?selectorFallback:mainSelector;}if(operator===null){return conditionChecker(window.top.document.querySelector(mainSelector),condition,value);}if(mainSelector&&!window.top.document.querySelector(mainSelector)){elementChecker_logger.failed("Selector not found on page");return false;}if(selectorAll&&!window.top.document.querySelectorAll(selectorAll)){elementChecker_logger.failed("Selector not found on page");return false;}var element;if(mainSelector)element=window.top.document.querySelector(mainSelector);else if(selectorAll)element=Array.from(window.top.document.querySelectorAll(selectorAll));switch(operator){case"text-number":{var tempVal;if(Array.isArray(element)){tempVal=element.reduce(function(returnVal,elem){returnVal+=parseInt(elem.textContent.replace("TL","").replace(".",""));return returnVal;},0);}else{tempVal=parseInt(window.top.document.querySelector(mainSelector).textContent.replace("TL","").replace(".",""));}var runTimeValue=parseInt(tempVal);return conditionChecker(runTimeValue,condition,value);}case"classList":return conditionChecker(Array.from(element.classList),condition,value);case"count":{if(Array.isArray(element)&&element.length>0){return conditionChecker(element.length,condition,value);}else if(element){return conditionChecker(1,condition,value);}else{return conditionChecker(0,condition,value);}}case"style":{var elementStyles=getComputedStyle(element);var styleKey=value.split(":")[0].trim();var styleValue=value.split(":")[1].trim();var _runTimeValue=elementStyles[styleKey];return conditionChecker(_runTimeValue,condition,styleValue);}default:elementChecker_logger.failed("Operator not defined");return false;}};;// CONCATENATED MODULE: ./src/BeagleRuleEngine/functionChecker.js
var functionChecker_logger=new src_logger("BeagleFunctionChecker");var checkFunctionRule=function checkFunctionRule(rule){functionChecker_logger.log("Checking rule",JSON.stringify(rule));var operator=rule.operator,condition=rule.condition,value=rule.value;if(!operator){functionChecker_logger.failed("Rule function not defined");return false;}var ruleFunction=Function(operator);var runtimeValue=ruleFunction();return conditionChecker(runtimeValue,condition,value);};;// CONCATENATED MODULE: ./src/BeagleRuleEngine/sessionChecker.js
var sessionChecker_logger=new src_logger("BeagleSessionChecker");var checkSessionRule=function checkSessionRule(rule){sessionChecker_logger.log("Checking rule",JSON.stringify(rule));var operator=rule.operator,condition=rule.condition,value=rule.value;switch(operator){case"duration":return durationHandler(condition,value);case"history":return historyHandler(condition,value);default:return null;}};var getSessionTimestamp=function getSessionTimestamp(){try{return new Date(parseInt(window.sessionStorage.getItem(SESSION_STORAGE_KEYS.SESSION_TIMESTAMP)));}catch(err){sessionChecker_logger.failed("Could not get session timestamp",err);return Date.now();}};var durationHandler=function durationHandler(condition,value){var duration=(Date.now()-getSessionTimestamp())/1000;return conditionChecker(duration,condition,parseInt(value));};var historyHandler=function historyHandler(condition,value){var _window$sessionStorag;var currentHistory=(_window$sessionStorag=window.sessionStorage.getItem(SESSION_STORAGE_KEYS.SESSION_HISTORY))===null||_window$sessionStorag===void 0?void 0:_window$sessionStorag.split(",");return conditionChecker(currentHistory,condition,value);};;// CONCATENATED MODULE: ./src/BeagleRuleEngine/urlChecker.js
var urlChecker_logger=new src_logger("BeagleUrlChecker");var checkUrlRule=function checkUrlRule(rule){urlChecker_logger.log("Checking rule",JSON.stringify(rule));var operator=rule.operator,condition=rule.condition,value=rule.value;switch(operator){case"path":{var requestURL=window.top.location.href;var path=new URL(requestURL).pathname;urlChecker_logger.log("Checking path ".concat(path," matches rule path ").concat(value));return conditionChecker(path,condition,value);}case"PLACEHOLDER":{return null;}default:return null;}};;// CONCATENATED MODULE: ./src/BeagleRuleEngine/envChecker.js
var envChecker_logger=new src_logger("BeagleEnvChecker");var checkEnvRule=function checkEnvRule(rule){envChecker_logger.log("Checking rule",JSON.stringify(rule));var operator=rule.operator,condition=rule.condition,value=rule.value;switch(operator){case"device_type":{var isMobile=window.matchMedia(MOBILE_MEDIA_QUERY).matches?"mobile":"desktop";return conditionChecker(isMobile,condition,value);}case"PLACEHOLDER":{return null;}default:return null;}};;// CONCATENATED MODULE: ./src/BeagleRuleEngine/productInfoChecker.js
var productInfoChecker_logger=new src_logger("BeagleProductInfoChecker");var checkProductInfoRule=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(rule){var _skuList$Object$keys$;var operator,condition,value,skuList,runtimeValue,sku;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:productInfoChecker_logger.log("Checking rule",JSON.stringify(rule));operator=rule.operator,condition=rule.condition,value=rule.value;_context.next=4;return getFromBeagleInfoLayer("__features.SKUsonPage",true);case 4:skuList=_context.sent;if(!(!skuList||_typeof(skuList)==="object"&&!Object.keys(skuList).length)){_context.next=7;break;}return _context.abrupt("return",false);case 7:runtimeValue=null;sku=(_skuList$Object$keys$=skuList[Object.keys(skuList)[0]])===null||_skuList$Object$keys$===void 0?void 0:_skuList$Object$keys$.id;_context.t0=operator;_context.next=_context.t0==="transactionIn2Weeks"?12:_context.t0==="addToCartIn2Weeks"?17:_context.t0==="productViewCount"?22:27;break;case 12:productInfoChecker_logger.log("Getting TransactionCount for sku ",sku);_context.next=15;return getTransactionCount(sku);case 15:runtimeValue=_context.sent;return _context.abrupt("break",27);case 17:productInfoChecker_logger.log("Getting AddToCartCount for sku ",sku);_context.next=20;return getAddToCartCount(sku);case 20:runtimeValue=_context.sent;return _context.abrupt("break",27);case 22:productInfoChecker_logger.log("Getting productViewCount for sku ",sku);_context.next=25;return getPreviewCount(sku);case 25:runtimeValue=_context.sent;return _context.abrupt("break",27);case 27:return _context.abrupt("return",conditionChecker(runtimeValue,condition,value));case 28:case"end":return _context.stop();}}},_callee);}));return function checkProductInfoRule(_x){return _ref.apply(this,arguments);};}();var getTransactionCount=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(sku){var productInfo;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return store.getInstance().get(sku);case 2:productInfo=_context2.sent;if(!(sku&&productInfo)){_context2.next=5;break;}return _context2.abrupt("return",productInfo.saleCntVisitorsIn15);case 5:return _context2.abrupt("return",-1);case 6:case"end":return _context2.stop();}}},_callee2);}));return function getTransactionCount(_x2){return _ref2.apply(this,arguments);};}();var getAddToCartCount=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(sku){var productInfo;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return store.getInstance().get(sku);case 2:productInfo=_context3.sent;if(!(sku&&productInfo)){_context3.next=5;break;}return _context3.abrupt("return",productInfo.cartCntVisitorsIn15);case 5:return _context3.abrupt("return",-1);case 6:case"end":return _context3.stop();}}},_callee3);}));return function getAddToCartCount(_x3){return _ref3.apply(this,arguments);};}();var getPreviewCount=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(sku){var productInfo;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return store.getInstance().get(sku);case 2:productInfo=_context4.sent;if(!(sku&&productInfo)){_context4.next=5;break;}return _context4.abrupt("return",productInfo.viewCntVisitorsIn1);case 5:return _context4.abrupt("return",-1);case 6:case"end":return _context4.stop();}}},_callee4);}));return function getPreviewCount(_x4){return _ref4.apply(this,arguments);};}();;// CONCATENATED MODULE: ./src/BeagleRuleEngine/index.js
function BeagleRuleEngine_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=BeagleRuleEngine_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function BeagleRuleEngine_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return BeagleRuleEngine_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BeagleRuleEngine_arrayLikeToArray(o,minLen);}function BeagleRuleEngine_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var BeagleRuleEngine_logger=new src_logger("BeagleRuleEngine");var RuleEngine=/*#__PURE__*/function(){function RuleEngine(body){_classCallCheck(this,RuleEngine);var eligibilityRules=body.eligibilityRules,baseRuleSet=body.baseRuleSet;this.baseRuleSet=baseRuleSet;this.eligibilityRules=eligibilityRules;this.addedDataListeners=[];this.mutex=new Mutex();}_createClass(RuleEngine,[{key:"checkRules",value:function(){var _checkRules=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var _iterator,_step,rule,ruleSatisfied;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_iterator=BeagleRuleEngine_createForOfIteratorHelper(this.baseRuleSet);_context.prev=1;_iterator.s();case 3:if((_step=_iterator.n()).done){_context.next=12;break;}rule=_step.value;_context.next=7;return this.checkRule(rule);case 7:ruleSatisfied=_context.sent;if(ruleSatisfied){_context.next=10;break;}return _context.abrupt("return",false);case 10:_context.next=3;break;case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](1);_iterator.e(_context.t0);case 17:_context.prev=17;_iterator.f();return _context.finish(17);case 20:return _context.abrupt("return",true);case 21:case"end":return _context.stop();}}},_callee,this,[[1,14,17,20]]);}));function checkRules(){return _checkRules.apply(this,arguments);}return checkRules;}()},{key:"checkRule",value:function(){var _checkRule=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(rule){var chain,chain_condition,type,ruleSatisfied;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:chain=rule.chain,chain_condition=rule.chain_condition,type=rule.type;ruleSatisfied=null;// check rule
_context2.t0=type;_context2.next=_context2.t0==="session"?5:_context2.t0==="element"?7:_context2.t0==="dataLayer"?9:_context2.t0==="url"?13:_context2.t0==="function"?15:_context2.t0==="environment"?17:_context2.t0==="productInfoLookup"?19:23;break;case 5:ruleSatisfied=checkSessionRule(rule);return _context2.abrupt("break",25);case 7:ruleSatisfied=checkElementRule(rule);return _context2.abrupt("break",25);case 9:_context2.next=11;return checkDataLayerRule(rule);case 11:ruleSatisfied=_context2.sent;return _context2.abrupt("break",25);case 13:ruleSatisfied=checkUrlRule(rule);return _context2.abrupt("break",25);case 15:ruleSatisfied=checkFunctionRule(rule);return _context2.abrupt("break",25);case 17:ruleSatisfied=checkEnvRule(rule);return _context2.abrupt("break",25);case 19:_context2.next=21;return checkProductInfoRule(rule);case 21:ruleSatisfied=_context2.sent;return _context2.abrupt("break",25);case 23:BeagleRuleEngine_logger.failed("No such rule type: ".concat(type));return _context2.abrupt("return",null);case 25:if(!chain){_context2.next=51;break;}_context2.t1=chain_condition;_context2.next=_context2.t1==="and"?29:_context2.t1==="or"?36:_context2.t1==="xor"?43:49;break;case 29:_context2.t2=ruleSatisfied;if(!_context2.t2){_context2.next=34;break;}_context2.next=33;return this.checkRule(chain);case 33:_context2.t2=_context2.sent;case 34:ruleSatisfied=_context2.t2;return _context2.abrupt("break",51);case 36:_context2.t3=ruleSatisfied;if(_context2.t3){_context2.next=41;break;}_context2.next=40;return this.checkRule(chain);case 40:_context2.t3=_context2.sent;case 41:ruleSatisfied=_context2.t3;return _context2.abrupt("break",51);case 43:_context2.t4=ruleSatisfied;_context2.next=46;return this.checkRule(chain);case 46:_context2.t5=_context2.sent;ruleSatisfied=_context2.t4!=_context2.t5;return _context2.abrupt("break",51);case 49:BeagleRuleEngine_logger.failed("No such chain condition");return _context2.abrupt("break",51);case 51:return _context2.abrupt("return",ruleSatisfied?rule.name||true:false);case 52:case"end":return _context2.stop();}}},_callee2,this);}));function checkRule(_x){return _checkRule.apply(this,arguments);}return checkRule;}()},{key:"assesEligibilityRules",value:function(){var _assesEligibilityRules=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(){var keyPromisesMap,_i,_Object$entries,_Object$entries$_i,key,rules,_iterator2,_step2,rule,_i2,_Object$entries2,_Object$entries2$_i,_key,rulePromises,satisfiedRuleIds;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:addToBeagleInfoLayer("m","assessing-eligibility-rules");keyPromisesMap={};for(_i=0,_Object$entries=Object.entries(this.eligibilityRules);_i<_Object$entries.length;_i++){_Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],rules=_Object$entries$_i[1];keyPromisesMap[key]=[];_iterator2=BeagleRuleEngine_createForOfIteratorHelper(rules);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){rule=_step2.value;keyPromisesMap[key].push(this.checkRule(rule));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}_i2=0,_Object$entries2=Object.entries(keyPromisesMap);case 4:if(!(_i2<_Object$entries2.length)){_context3.next=14;break;}_Object$entries2$_i=_slicedToArray(_Object$entries2[_i2],2),_key=_Object$entries2$_i[0],rulePromises=_Object$entries2$_i[1];_context3.next=8;return Promise.all(rulePromises);case 8:satisfiedRuleIds=_context3.sent;addToBeagleInfoLayer("__eRules.".concat(_key),satisfiedRuleIds.filter(function(id){return id!==false;}));this.setUpListeners(_key,this.eligibilityRules[_key]);case 11:_i2++;_context3.next=4;break;case 14:case"end":return _context3.stop();}}},_callee3,this);}));function assesEligibilityRules(){return _assesEligibilityRules.apply(this,arguments);}return assesEligibilityRules;}()},{key:"assesEligibilityRulesCallBack",value:function(){var _assesEligibilityRulesCallBack=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee4(key,rules){var _this=this;var release,_iterator3,_step3,_loop,_ret;return regenerator_default().wrap(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(!key||!rules||!rules.length)){_context5.next=2;break;}return _context5.abrupt("return");case 2:_context5.next=4;return this.mutex.acquire();case 4:release=_context5.sent;BeagleRuleEngine_logger.log("Lock acquired for key ".concat(key));_context5.prev=6;_iterator3=BeagleRuleEngine_createForOfIteratorHelper(rules);_context5.prev=8;_loop=/*#__PURE__*/regenerator_default().mark(function _loop(){var rule,isEligible,current,filtered;return regenerator_default().wrap(function _loop$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:rule=_step3.value;_context4.next=3;return _this.checkRule(rule);case 3:isEligible=_context4.sent;_context4.next=6;return getFromBeagleInfoLayer("__eRules.".concat(key));case 6:_context4.t0=_context4.sent;if(_context4.t0){_context4.next=9;break;}_context4.t0=[];case 9:current=_context4.t0;if(!isEligible){_context4.next=19;break;}if(!current.includes(rule.name)){_context4.next=13;break;}return _context4.abrupt("return","continue");case 13:current.push(rule.name);addToBeagleInfoLayer("__eRules.".concat(key),current);if(!(key==="PageType")){_context4.next=17;break;}return _context4.abrupt("return","break");case 17:_context4.next=23;break;case 19:if(current.includes(rule.name)){_context4.next=21;break;}return _context4.abrupt("return","continue");case 21:filtered=current.filter(function(k){return k!==rule.name;});addToBeagleInfoLayer("__eRules.".concat(key),filtered);case 23:case"end":return _context4.stop();}}},_loop);});_iterator3.s();case 11:if((_step3=_iterator3.n()).done){_context5.next=20;break;}return _context5.delegateYield(_loop(),"t0",13);case 13:_ret=_context5.t0;if(!(_ret==="continue")){_context5.next=16;break;}return _context5.abrupt("continue",18);case 16:if(!(_ret==="break")){_context5.next=18;break;}return _context5.abrupt("break",20);case 18:_context5.next=11;break;case 20:_context5.next=25;break;case 22:_context5.prev=22;_context5.t1=_context5["catch"](8);_iterator3.e(_context5.t1);case 25:_context5.prev=25;_iterator3.f();return _context5.finish(25);case 28:_context5.next=33;break;case 30:_context5.prev=30;_context5.t2=_context5["catch"](6);BeagleRuleEngine_logger.failed("Error assessing rules for key: ".concat(key," - ").concat(_context5.t2.message));case 33:_context5.prev=33;BeagleRuleEngine_logger.log("Releasing lock for key: ".concat(key));release();return _context5.finish(33);case 37:case"end":return _context5.stop();}}},_callee4,this,[[6,30,33,37],[8,22,25,28]]);}));function assesEligibilityRulesCallBack(_x2,_x3){return _assesEligibilityRulesCallBack.apply(this,arguments);}return assesEligibilityRulesCallBack;}()},{key:"setUpListeners",value:function(){var _setUpListeners=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee5(key,rules){var _this2=this;var _this$extractRuleAttr,dataLayerRules,elementRules,_i3,_Object$entries3,_Object$entries3$_i,operator,_rules,boundAssesEligibilityRulesCallBack,_loop2,_i4,_Object$entries4;return regenerator_default().wrap(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this$extractRuleAttr=this.extractRuleAttributes(rules),dataLayerRules=_this$extractRuleAttr.dataLayerRules,elementRules=_this$extractRuleAttr.elementRules;for(_i3=0,_Object$entries3=Object.entries(dataLayerRules);_i3<_Object$entries3.length;_i3++){_Object$entries3$_i=_slicedToArray(_Object$entries3[_i3],2),operator=_Object$entries3$_i[0],_rules=_Object$entries3$_i[1];boundAssesEligibilityRulesCallBack=this.assesEligibilityRulesCallBack.bind(this,key,_rules);addDataListener(operator,boundAssesEligibilityRulesCallBack);}_loop2=function _loop2(){var _Object$entries4$_i=_slicedToArray(_Object$entries4[_i4],2),selector=_Object$entries4$_i[0],rules=_Object$entries4$_i[1];var observer=new MutationObserver(function(mutationList){if(window.top.document.readyState!=="complete")return;var nodes=[];var _iterator4=BeagleRuleEngine_createForOfIteratorHelper(mutationList),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var mutationRecord=_step4.value;nodes=[].concat(_toConsumableArray(nodes),_toConsumableArray(Array.from(mutationRecord.addedNodes)),_toConsumableArray(Array.from(mutationRecord.removedNodes)));}// exclude mutations that only update text
}catch(err){_iterator4.e(err);}finally{_iterator4.f();}if(nodes.every(function(n){return n.tagName===undefined;}))return;_this2.assesEligibilityRulesCallBack(key,rules);});if(selector==="body"){observer.observe(window.top.document.body,{subtree:true,childList:true});}else{observer.observe(window.top.document.querySelector(selector).parentNode,{subtree:true,childList:true});}};for(_i4=0,_Object$entries4=Object.entries(elementRules);_i4<_Object$entries4.length;_i4++){_loop2();}case 4:case"end":return _context6.stop();}}},_callee5,this);}));function setUpListeners(_x4,_x5){return _setUpListeners.apply(this,arguments);}return setUpListeners;}()},{key:"extractRuleAttributes",value:function extractRuleAttributes(rules){var dataLayerRules=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var elementRules=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!rules||!rules.length)return;var _iterator5=BeagleRuleEngine_createForOfIteratorHelper(rules),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var rule=_step5.value;var type=rule.type;switch(type){case"dataLayer":if(!dataLayerRules[rule.operator]){dataLayerRules[rule.operator]=[];}dataLayerRules[rule.operator].push(rule);break;case"element":if(document.querySelector(rule.selector)){elementRules[rule.selector]=elementRules[rule.selector]?[].concat(_toConsumableArray(elementRules[rule.selector]),[rule]):[rule];break;}if(document.querySelectorAll(rule.selectorAll).length){elementRules[rule.selectorAll]=elementRules[rule.selectorAll]?[].concat(_toConsumableArray(elementRules[rule.selectorAll]),[rule]):[rule];break;}elementRules["body"]=elementRules["body"]?[].concat(_toConsumableArray(elementRules["body"]),[rule]):[rule];break;}if(rule.chain){this.extractRuleAttributes([rule.chain],dataLayerRules,elementRules);}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}return{dataLayerRules:dataLayerRules,elementRules:elementRules};}}],[{key:"getEligibilityRules",value:function(){var _getEligibilityRules=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee6(){var eligibilityRulesObj,elapsedHours;return regenerator_default().wrap(function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;eligibilityRulesObj=window.localStorage.getItem(LOCAL_STORAGE_KEYS.ELIGIBILITY_RULES);if(!eligibilityRulesObj){_context7.next=8;break;}eligibilityRulesObj=JSON.parse(eligibilityRulesObj);if(!eligibilityRulesObj.timestamp){_context7.next=8;break;}elapsedHours=(Date.now()-eligibilityRulesObj.timestamp)/(1000*3600);if(!(elapsedHours<LOCAL_STORAGE_TTL_HOURS)){_context7.next=8;break;}return _context7.abrupt("return",eligibilityRulesObj.rules);case 8:_context7.next=10;return fetchEligibilityRules();case 10:eligibilityRulesObj=_context7.sent;if(eligibilityRulesObj){_context7.next=14;break;}BeagleRuleEngine_logger.failed("Failed to fetch eligibility rules");return _context7.abrupt("return",null);case 14:eligibilityRulesObj={rules:eligibilityRulesObj,timestamp:Date.now()};window.localStorage.setItem(LOCAL_STORAGE_KEYS.ELIGIBILITY_RULES,JSON.stringify(eligibilityRulesObj));return _context7.abrupt("return",eligibilityRulesObj.rules);case 19:_context7.prev=19;_context7.t0=_context7["catch"](0);BeagleRuleEngine_logger.failed("Could not get eligibility rules: ",_context7.t0.message);return _context7.abrupt("return",null);case 23:case"end":return _context7.stop();}}},_callee6,null,[[0,19]]);}));function getEligibilityRules(){return _getEligibilityRules.apply(this,arguments);}return getEligibilityRules;}()}]);return RuleEngine;}();;// CONCATENATED MODULE: ./src/BeagleOn/index.js
var BeagleOn_logger=new src_logger("BeagleOnComponent");var beagleOn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(identifier,debugMode,pageType,treatmentWeights){var persistProductInfoPromise,eligibilityRulesAssessPromise,treatmentsPromise,searchParams,debugFilteredTreatments,treatments,treatmentRepository,matchedTreatments,robotEngine;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:persistProductInfoPromise=store.getInstance().persistProductInfo();eligibilityRulesAssessPromise=assesEligibilityRules();treatmentsPromise=BeagleTreatmentRepository.getTreatments();injectStyleSheet();initiateSessionStorages();addToBeagleInfoLayer("m","on-init");searchParams=window.location.search;debugFilteredTreatments=null;if(debugMode&&searchParams.includes("filter=")){debugFilteredTreatments=searchParams.slice(searchParams.indexOf("[")+1,searchParams.lastIndexOf("]")).split(",").map(function(item){return parseInt(item,10);});}_context.next=11;return treatmentsPromise;case 11:treatments=_context.sent;if(treatments){_context.next=15;break;}addToBeagleInfoLayer("m","no-robot-weights");throw new Error("Failed to fetch treatments/weights");case 15:BeagleOn_logger.success("Found treatments: ",treatments);addToBeagleInfoLayer("m","fetched-treatments");treatmentRepository=new BeagleTreatmentRepository({treatments:treatments,treatmentWeights:treatmentWeights});_context.next=20;return treatmentRepository.getMatchedTreatments(debugMode);case 20:matchedTreatments=_context.sent;if(!(matchedTreatments===null)){_context.next=25;break;}addToBeagleInfoLayer("m","no-user-segment");removeDocumentHide();return _context.abrupt("return");case 25:if(matchedTreatments.length){_context.next=30;break;}BeagleOn_logger.log("No treatments matched, returning without further action");addToBeagleInfoLayer("m","no-robot-matched");removeDocumentHide();return _context.abrupt("return");case 30:addToBeagleInfoLayer("m","found-matched-robots");_context.prev=31;_context.next=34;return eligibilityRulesAssessPromise;case 34:_context.next=40;break;case 36:_context.prev=36;_context.t0=_context["catch"](31);addToBeagleInfoLayer("m","no-rules-assessed");throw new Error("Could not asses eligibility rules");case 40:addToBeagleInfoLayer("m","rules-assessed");_context.prev=41;_context.next=44;return persistProductInfoPromise;case 44:_context.next=50;break;case 46:_context.prev=46;_context.t1=_context["catch"](41);addToBeagleInfoLayer("m","product-into-no-persist");throw new Error("Could not persist product info");case 50:addToBeagleInfoLayer("m","engaging-robots");robotEngine=new RobotEngine({debugFilteredTreatments:debugFilteredTreatments,debugMode:debugMode,matchedTreatments:matchedTreatments,identifier:identifier,pageType:pageType});_context.next=54;return robotEngine.engageRobots();case 54:removeDocumentHide();addToBeagleInfoLayer("m","robots-engaged");_context.t2=BeagleOn_logger;_context.next=59;return getFromBeagleInfoLayer("a");case 59:_context.t3=_context.sent;_context.t2.success.call(_context.t2,"Applied treatments: ",_context.t3);case 61:case"end":return _context.stop();}}},_callee,null,[[31,36],[41,46]]);}));return function beagleOn(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();function assesEligibilityRules(){return _assesEligibilityRules.apply(this,arguments);}function _assesEligibilityRules(){_assesEligibilityRules=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(){var eligibilityRules,ruleEngine;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:addToBeagleInfoLayer("m","fetching-eligibility-rules");_context2.next=3;return RuleEngine.getEligibilityRules();case 3:eligibilityRules=_context2.sent;if(eligibilityRules){_context2.next=6;break;}return _context2.abrupt("return");case 6:addToBeagleInfoLayer("m","fetched-eligibility-rules");ruleEngine=new RuleEngine({eligibilityRules:eligibilityRules});_context2.next=10;return ruleEngine.assesEligibilityRules();case 10:addToBeagleInfoLayer("m","assessed-eligibility-rules");case 11:case"end":return _context2.stop();}}},_callee2);}));return _assesEligibilityRules.apply(this,arguments);}/* harmony default export */var BeagleOn=beagleOn;;// CONCATENATED MODULE: ./src/BeagleInfoLayer/segment-computer.js
var segment_computer_logger=new src_logger("SegmentationComputer");function computeSegment(_x){return _computeSegment.apply(this,arguments);}function _computeSegment(){_computeSegment=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(treatmentWeights){var _i,_Object$keys,_treatmentWeights$seg,segment,ruleSet,segmentRuleEngine;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:segment_computer_logger.log("Determining user segment");_context.prev=1;_i=0,_Object$keys=Object.keys(treatmentWeights);case 3:if(!(_i<_Object$keys.length)){_context.next=18;break;}segment=_Object$keys[_i];ruleSet=(_treatmentWeights$seg=treatmentWeights[segment])===null||_treatmentWeights$seg===void 0?void 0:_treatmentWeights$seg.ruleSet;if(ruleSet){_context.next=8;break;}return _context.abrupt("continue",15);case 8:segmentRuleEngine=new RuleEngine({baseRuleSet:ruleSet,businessRuleSet:[]});_context.next=11;return segmentRuleEngine.checkRules();case 11:if(!_context.sent){_context.next=15;break;}segment_computer_logger.log("User segment matched: ".concat(segment));addToBeagleInfoLayer("s",segment);return _context.abrupt("return",segment);case 15:_i++;_context.next=3;break;case 18:segment_computer_logger.log("User segment not matched");return _context.abrupt("return",null);case 22:_context.prev=22;_context.t0=_context["catch"](1);segment_computer_logger.failed("Could not compute user segment");return _context.abrupt("return",null);case 26:case"end":return _context.stop();}}},_callee,null,[[1,22]]);}));return _computeSegment.apply(this,arguments);};// CONCATENATED MODULE: ./src/BeagleClientSDK/index.js
var SHUTDOWN=false;_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(){var monitor,logger,earlyLogSent,hideRemoved,_String$prototype,treatmentWeightsPromise,identifier,cookiePct,userSegment,treatmentWeights,oosReason,isLabelSent,timeoutCounter,debugMode,processAdminUser,isAdmin,isOn,pageType;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:switchToEaseOut();monitor=null;logger=new src_logger();logger.info("Beagle initializing");window.dataLayer=window.dataLayer||[];earlyLogSent=false;hideRemoved=false;_context.prev=7;/* ======================================== INIT TASKS ===================================== */addToBeagleInfoLayer("GLOV_ON","not-sent | initializing");treatmentWeightsPromise=BeagleTreatmentRepository.getTreatmentWeights();monitor=new BeagleMonitor();initializeBeagleInfoLayer();_context.next=14;return getIdentifier();case 14:identifier=_context.sent;logger.log("Found identifier: ",identifier);addToBeagleInfoLayer("cookieGaId",identifier);_context.next=19;return determinePct(identifier);case 19:cookiePct=_context.sent;addToBeagleInfoLayer("onHashPct",cookiePct);addToBeagleInfoLayer("view_epoch",Date.now()+Math.random());addToBeagleInfoLayer("v",VERSION);addToBeagleInfoLayer("sr",SPLIT_RATIO);// data-less log to detect bounces
_context.next=26;return monitor.packAndQueueArrivalLog();case 26:setTimeout(function(){removeDocumentHide();},2000);/* ================================= EARLY PRUNE OUT-OF-SCOPE ============================== */userSegment=null;treatmentWeights=null;oosReason=window.localStorage.getItem(LOCAL_STORAGE_KEYS.OUT_OF_SCOPE);if(!(oosReason!=="unsupported")){_context.next=40;break;}_context.next=33;return treatmentWeightsPromise;case 33:treatmentWeights=_context.sent;if(treatmentWeights){_context.next=37;break;}addToBeagleInfoLayer("m","no-robot-weights");throw new Error("Unable to fetch weights");case 37:_context.next=39;return computeSegment(treatmentWeights);case 39:userSegment=_context.sent;case 40:if(!(cookiePct===null||!navigator.sendBeacon||typeof navigator.sendBeacon!=="function"||typeof(String===null||String===void 0?void 0:(_String$prototype=String.prototype)===null||_String$prototype===void 0?void 0:_String$prototype.padStart)!=="function"||oosReason&&oosReason==="unsupported"||!userSegment)){_context.next=45;break;}window.dataLayer.push({event:"GLOV",GLOV_ON:"unsupported"});window.localStorage.setItem(LOCAL_STORAGE_KEYS.OUT_OF_SCOPE,"unsupported");addToBeagleInfoLayer("GLOV_ON","unsupported | device");throw new Error("unsupported-device");case 45:isLabelSent=window.localStorage.getItem(LOCAL_STORAGE_KEYS.IS_LABEL_SENT);timeoutCounter=parseInt(sessionStorage.getItem(SESSION_STORAGE_KEYS.TIMEOUT_COUNT))||0;// check if debug mode is on, also adds dbm to beagleInfoLayer and sets oosReason
debugMode=getDebugMode("employee");// if timed-out too many times for very first interactsions, make out of scope for the session
if(!(!debugMode&&!oosReason&&!isLabelSent&&timeoutCounter>MAX_TIMEOUT_PER_SESSION)){_context.next=52;break;}window.dataLayer.push({event:"GLOV",GLOV_ON:"unsupported"});addToBeagleInfoLayer("GLOV_ON","unsupported | timeout");throw new Error("max-timeout");case 52:/* =================================== ADMIN USER CHECK ==================================== */ // TODO: rename showroom logic to admin, and map vvsIsShowroom to a configurable admin param
// if admin user, make out of scope and mark as employee
processAdminUser=function processAdminUser(){window.dataLayer.push({event:"GLOV",GLOV_ON:"employee"});window.localStorage.setItem(LOCAL_STORAGE_KEYS.OUT_OF_SCOPE,"employee");window.localStorage.setItem(LOCAL_STORAGE_KEYS.IS_ADMIN,true);addToBeagleInfoLayer("GLOV_ON","employee | admin");throw new Error("admin-employee");};isAdmin=window.localStorage.getItem(LOCAL_STORAGE_KEYS.IS_ADMIN);// if not found in localStorage, check beagleInfoLayer with blocking mdoe
if(!(isAdmin===null||isAdmin===undefined)){_context.next=60;break;}_context.next=57;return getFromBeagleInfoLayer("vvsIsShowroom",true);case 57:isAdmin=_context.sent;_context.next=61;break;case 60:if(isAdmin==="false"||isAdmin===false){// async call to getFromBeagleInfoLayer, then set localStorage
getFromBeagleInfoLayer("vvsIsShowroom",true).then(function(isAdmin){if(isAdmin&&(isAdmin==="true"||isAdmin===true)){processAdminUser();}});}case 61:if(!(isAdmin&&(isAdmin==="true"||isAdmin===true))){_context.next=65;break;}processAdminUser();_context.next=72;break;case 65:if(!(isAdmin===null||isAdmin===undefined)){_context.next=71;break;}sessionStorage.setItem(SESSION_STORAGE_KEYS.TIMEOUT_COUNT,timeoutCounter+1);addToBeagleInfoLayer("GLOV_ON","not-sent | timeout");throw new Error("no-admin-status");case 71:window.localStorage.setItem(LOCAL_STORAGE_KEYS.IS_ADMIN,false);case 72:if(window.top.document.documentElement.classList.contains("glov-ease")){_context.next=76;break;}sessionStorage.setItem(SESSION_STORAGE_KEYS.TIMEOUT_COUNT,timeoutCounter+1);addToBeagleInfoLayer("GLOV_ON","not-sent | timeout");throw new Error("anti-flicker-timeout");case 76:/* ===================================== ON/OFF CHECK ====================================== */ // isOn can be true (ON), false (OFF)
isOn=null;if(!debugMode){_context.next=84;break;}logger.log("Debug mode on: all applicable treatments will be applied");isOn=true;window.dataLayer.push({event:"GLOV",GLOV_ON:"employee"});addToBeagleInfoLayer("GLOV_ON","employee | tester");_context.next=100;break;case 84:if(!(oosReason&&oosReason==="employee")){_context.next=91;break;}logger.warn("User is out of scope");// set isOn to true/false when not debugMode but out of scope i.e. nd_debug=0 for testability
isOn=cookiePct>=SPLIT_RATIO;window.dataLayer.push({event:"GLOV",GLOV_ON:"employee"});addToBeagleInfoLayer("GLOV_ON","employee | tester");_context.next=100;break;case 91:if(!oosReason){_context.next=96;break;}addToBeagleInfoLayer("GLOV_ON","not-sent | unknown");throw new Error("Unknown out of scope reason");case 96:// if greater than SPLIT_RATIO, then in ON mode
if(cookiePct>=SPLIT_RATIO){isOn=true;window.dataLayer.push({event:"GLOV",GLOV_ON:"true"});}else if(cookiePct>=SPLIT_RATIO/2){isOn=false;window.dataLayer.push({event:"GLOV",GLOV_ON:"false2"});}else{isOn=false;window.dataLayer.push({event:"GLOV",GLOV_ON:"false1"});}addToBeagleInfoLayer("isOn",isOn);window.localStorage.setItem(LOCAL_STORAGE_KEYS.IS_LABEL_SENT,true);addToBeagleInfoLayer("GLOV_ON",isOn.toString());case 100:_context.next=102;return getFromBeagleInfoLayer("PageType",true);case 102:pageType=_context.sent;if(!(pageType==="purchase")){_context.next=113;break;}_context.next=106;return getFromBeagleInfoLayer("purchase.revenue",true,50,5000);case 106:_context.next=108;return getFromBeagleInfoLayer("purchase.paymentType",true,50,5000);case 108:_context.next=110;return monitor.sendLogs(true);case 110:// if purchase is complete, do not apply any treatments on the confirmation page
SHUTDOWN=true;_context.next=114;break;case 113:// send logs when ready, start scraping and sending asyncly
monitor.sendLogs(false);case 114:earlyLogSent=true;/* ======================================= ROBOT PATHs ===================================== */if(!(isOn===true)){_context.next=119;break;}if(!SHUTDOWN){logger.log("Beagle ON Group Path");BeagleOn(identifier,debugMode,pageType,treatmentWeights);}else{logger.info("Beagle ON Group SHUTDOWN Path");removeDocumentHide();hideRemoved=true;}_context.next=126;break;case 119:if(!(isOn===false)){_context.next=125;break;}logger.info("Beagle OFF Group Path");removeDocumentHide();hideRemoved=true;_context.next=126;break;case 125:throw new Error("isOn is undefined or null");case 126:_context.next=134;break;case 128:_context.prev=128;_context.t0=_context["catch"](7);logger.warn("Beagle Early Scope-out or ERROR: ",_context.t0.message);addToBeagleInfoLayer("m",_context.t0.message);if(!earlyLogSent&&monitor)monitor.sendLogs(false);if(!hideRemoved)removeDocumentHide();case 134:case"end":return _context.stop();}}},_callee,null,[[7,128]]);}))();}();/******/})();

/***/ }),

/***/ 897:
/***/ (function(module) {

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }
  return arr2;
}
module.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 372:
/***/ (function(module) {

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}
module.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 690:
/***/ (function(module) {

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
module.exports = _classCallCheck, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 728:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var toPropertyKey = __webpack_require__(62);
function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);
  }
}
function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  Object.defineProperty(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}
module.exports = _createClass, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 872:
/***/ (function(module) {

function _iterableToArrayLimit(arr, i) {
  var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"];
  if (null != _i) {
    var _s,
      _e,
      _x,
      _r,
      _arr = [],
      _n = !0,
      _d = !1;
    try {
      if (_x = (_i = _i.call(arr)).next, 0 === i) {
        if (Object(_i) !== _i) return;
        _n = !1;
      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) {
        ;
      }
    } catch (err) {
      _d = !0, _e = err;
    } finally {
      try {
        if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return;
      } finally {
        if (_d) throw _e;
      }
    }
    return _arr;
  }
}
module.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 218:
/***/ (function(module) {

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
module.exports = _nonIterableRest, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 61:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var _typeof = (__webpack_require__(698)["default"]);
function _regeneratorRuntime() {
  "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {
    return exports;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  var exports = {},
    Op = Object.prototype,
    hasOwn = Op.hasOwnProperty,
    defineProperty = Object.defineProperty || function (obj, key, desc) {
      obj[key] = desc.value;
    },
    $Symbol = "function" == typeof Symbol ? Symbol : {},
    iteratorSymbol = $Symbol.iterator || "@@iterator",
    asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator",
    toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
  function define(obj, key, value) {
    return Object.defineProperty(obj, key, {
      value: value,
      enumerable: !0,
      configurable: !0,
      writable: !0
    }), obj[key];
  }
  try {
    define({}, "");
  } catch (err) {
    define = function define(obj, key, value) {
      return obj[key] = value;
    };
  }
  function wrap(innerFn, outerFn, self, tryLocsList) {
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,
      generator = Object.create(protoGenerator.prototype),
      context = new Context(tryLocsList || []);
    return defineProperty(generator, "_invoke", {
      value: makeInvokeMethod(innerFn, self, context)
    }), generator;
  }
  function tryCatch(fn, obj, arg) {
    try {
      return {
        type: "normal",
        arg: fn.call(obj, arg)
      };
    } catch (err) {
      return {
        type: "throw",
        arg: err
      };
    }
  }
  exports.wrap = wrap;
  var ContinueSentinel = {};
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}
  var IteratorPrototype = {};
  define(IteratorPrototype, iteratorSymbol, function () {
    return this;
  });
  var getProto = Object.getPrototypeOf,
    NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function (method) {
      define(prototype, method, function (arg) {
        return this._invoke(method, arg);
      });
    });
  }
  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if ("throw" !== record.type) {
        var result = record.arg,
          value = result.value;
        return value && "object" == _typeof(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) {
          invoke("next", value, resolve, reject);
        }, function (err) {
          invoke("throw", err, resolve, reject);
        }) : PromiseImpl.resolve(value).then(function (unwrapped) {
          result.value = unwrapped, resolve(result);
        }, function (error) {
          return invoke("throw", error, resolve, reject);
        });
      }
      reject(record.arg);
    }
    var previousPromise;
    defineProperty(this, "_invoke", {
      value: function value(method, arg) {
        function callInvokeWithMethodAndArg() {
          return new PromiseImpl(function (resolve, reject) {
            invoke(method, arg, resolve, reject);
          });
        }
        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
      }
    });
  }
  function makeInvokeMethod(innerFn, self, context) {
    var state = "suspendedStart";
    return function (method, arg) {
      if ("executing" === state) throw new Error("Generator is already running");
      if ("completed" === state) {
        if ("throw" === method) throw arg;
        return doneResult();
      }
      for (context.method = method, context.arg = arg;;) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }
        if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) {
          if ("suspendedStart" === state) throw state = "completed", context.arg;
          context.dispatchException(context.arg);
        } else "return" === context.method && context.abrupt("return", context.arg);
        state = "executing";
        var record = tryCatch(innerFn, self, context);
        if ("normal" === record.type) {
          if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
          return {
            value: record.arg,
            done: context.done
          };
        }
        "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
      }
    };
  }
  function maybeInvokeDelegate(delegate, context) {
    var methodName = context.method,
      method = delegate.iterator[methodName];
    if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a '" + methodName + "' method")), ContinueSentinel;
    var record = tryCatch(method, delegate.iterator, context.arg);
    if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel;
    var info = record.arg;
    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel);
  }
  function pushTryEntry(locs) {
    var entry = {
      tryLoc: locs[0]
    };
    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);
  }
  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal", delete record.arg, entry.completion = record;
  }
  function Context(tryLocsList) {
    this.tryEntries = [{
      tryLoc: "root"
    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
  }
  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) return iteratorMethod.call(iterable);
      if ("function" == typeof iterable.next) return iterable;
      if (!isNaN(iterable.length)) {
        var i = -1,
          next = function next() {
            for (; ++i < iterable.length;) {
              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;
            }
            return next.value = undefined, next.done = !0, next;
          };
        return next.next = next;
      }
    }
    return {
      next: doneResult
    };
  }
  function doneResult() {
    return {
      value: undefined,
      done: !0
    };
  }
  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", {
    value: GeneratorFunctionPrototype,
    configurable: !0
  }), defineProperty(GeneratorFunctionPrototype, "constructor", {
    value: GeneratorFunction,
    configurable: !0
  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) {
    var ctor = "function" == typeof genFun && genFun.constructor;
    return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
  }, exports.mark = function (genFun) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun;
  }, exports.awrap = function (arg) {
    return {
      __await: arg
    };
  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {
    return this;
  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    void 0 === PromiseImpl && (PromiseImpl = Promise);
    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {
      return result.done ? result.value : iter.next();
    });
  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () {
    return this;
  }), define(Gp, "toString", function () {
    return "[object Generator]";
  }), exports.keys = function (val) {
    var object = Object(val),
      keys = [];
    for (var key in object) {
      keys.push(key);
    }
    return keys.reverse(), function next() {
      for (; keys.length;) {
        var key = keys.pop();
        if (key in object) return next.value = key, next.done = !1, next;
      }
      return next.done = !0, next;
    };
  }, exports.values = values, Context.prototype = {
    constructor: Context,
    reset: function reset(skipTempReset) {
      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {
        "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);
      }
    },
    stop: function stop() {
      this.done = !0;
      var rootRecord = this.tryEntries[0].completion;
      if ("throw" === rootRecord.type) throw rootRecord.arg;
      return this.rval;
    },
    dispatchException: function dispatchException(exception) {
      if (this.done) throw exception;
      var context = this;
      function handle(loc, caught) {
        return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught;
      }
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i],
          record = entry.completion;
        if ("root" === entry.tryLoc) return handle("end");
        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc"),
            hasFinally = hasOwn.call(entry, "finallyLoc");
          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
          } else {
            if (!hasFinally) throw new Error("try statement without catch or finally");
            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
          }
        }
      }
    },
    abrupt: function abrupt(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }
      finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
      var record = finallyEntry ? finallyEntry.completion : {};
      return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
    },
    complete: function complete(record, afterLoc) {
      if ("throw" === record.type) throw record.arg;
      return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;
    },
    finish: function finish(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;
      }
    },
    "catch": function _catch(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if ("throw" === record.type) {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }
      throw new Error("illegal catch attempt");
    },
    delegateYield: function delegateYield(iterable, resultName, nextLoc) {
      return this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      }, "next" === this.method && (this.arg = undefined), ContinueSentinel;
    }
  }, exports;
}
module.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 424:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var arrayWithHoles = __webpack_require__(372);
var iterableToArrayLimit = __webpack_require__(872);
var unsupportedIterableToArray = __webpack_require__(116);
var nonIterableRest = __webpack_require__(218);
function _slicedToArray(arr, i) {
  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();
}
module.exports = _slicedToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 36:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var _typeof = (__webpack_require__(698)["default"]);
function _toPrimitive(input, hint) {
  if (_typeof(input) !== "object" || input === null) return input;
  var prim = input[Symbol.toPrimitive];
  if (prim !== undefined) {
    var res = prim.call(input, hint || "default");
    if (_typeof(res) !== "object") return res;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (hint === "string" ? String : Number)(input);
}
module.exports = _toPrimitive, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 62:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var _typeof = (__webpack_require__(698)["default"]);
var toPrimitive = __webpack_require__(36);
function _toPropertyKey(arg) {
  var key = toPrimitive(arg, "string");
  return _typeof(key) === "symbol" ? key : String(key);
}
module.exports = _toPropertyKey, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 698:
/***/ (function(module) {

function _typeof(obj) {
  "@babel/helpers - typeof";

  return (module.exports = _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports), _typeof(obj);
}
module.exports = _typeof, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 116:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var arrayLikeToArray = __webpack_require__(897);
function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);
}
module.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 687:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

// TODO(Babel 8): Remove this file.

var runtime = __webpack_require__(61)();
module.exports = runtime;

// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=
try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  if (typeof globalThis === "object") {
    globalThis.regeneratorRuntime = runtime;
  } else {
    Function("r", "regeneratorRuntime = r")(runtime);
  }
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
!function() {
"use strict";

;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }
  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}
function _asyncToGenerator(fn) {
  return function () {
    var self = this,
      args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);
      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }
      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }
      _next(undefined);
    });
  };
}
// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(687);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js
function _typeof(obj) {
  "@babel/helpers - typeof";

  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  }, _typeof(obj);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toPrimitive.js

function _toPrimitive(input, hint) {
  if (_typeof(input) !== "object" || input === null) return input;
  var prim = input[Symbol.toPrimitive];
  if (prim !== undefined) {
    var res = prim.call(input, hint || "default");
    if (_typeof(res) !== "object") return res;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (hint === "string" ? String : Number)(input);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js


function _toPropertyKey(arg) {
  var key = _toPrimitive(arg, "string");
  return _typeof(key) === "symbol" ? key : String(key);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
  }
}
function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  Object.defineProperty(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}
;// CONCATENATED MODULE: ./src/constants.js
/* eslint-disable max-len */

var isStaging = typeof window !== "undefined" ? window.location.href.includes("staging.vivense") : true;
var VERSION = "0.0.39.5";
var COOKIE_NAME = "_ga";
// TODO revert the following staging env check after moving to new branch structure
var TREATMENTS_LOCATION = "https://host-b96.pages.dev/treatments.json";
var TREATMENT_WEIGHTS_LOCATION = "https://host-b96.pages.dev/weights.json";
var STYLESHEET_LOCATION = "https://host-b96.pages.dev/nd-styless.css";
var E_RULES_LOCATION = isStaging ? "https://ndvivense.glov.ai/eligibility_rules_staging.json" : "https://ndvivense.glov.ai/eligibility_rules.json";
var PRODUCT_INFO_LOCATION = "https://ndvivense.glov.ai/social-proof-v2-staging.json";
var LOG_API_URL = "https://europe-west3-nextday-34eb3.cloudfunctions.net/api/log";
var LOOKUP_API_URL = "https://catalog-api.adoraai.com";
var MOBILE_MEDIA_QUERY = "(max-width: 440px)";
// Control group percentage
var SPLIT_RATIO = 50;
// Skipped treatment percentage
var TREATMENT_RATIO = 50;
var LOCAL_STORAGE_TTL_HOURS = 2;
var MAX_TIMEOUT_PER_SESSION = 1;
var LIST_MODE_BEAGLE_KEYS = (/* unused pure expression or super */ null && (["pagetype", "category", "alltimePLPCategoryMode", "sessionPLPCategoryMode", "alltimePDPCategoryMode", "sessionPDPCategoryMode", "alltimeCartCategoryMode", "sessionCartCategoryMode"]));
var IDLE_TIMEOUT = 15000;
var SESSION_STORAGE_KEYS = {
  SESSION_TIMESTAMP: "BG_SessionTimestamp",
  SESSION_HISTORY: "BG_SessionHistory",
  POPUP_DISPLAY_FLAG: "BG_PopupDisplayFlag",
  SKU_INFO_BASKET: "BG_ProductInfoBasket",
  TIMEOUT_COUNT: "BG_TimeoutCount",
  SESSION_REFERRER: "BG_SessionReferrer",
  MATCHED_TREATMENTS: "GLV_Matched"
};
var LOCAL_STORAGE_KEYS = {
  TREATMENTS: "BG_Treatments",
  WEIGHTS: "BG_Weights",
  ELIGIBILITY_RULES: "BG_E_Rules",
  DEBUG_MODE: "BG_Debug",
  OUT_OF_SCOPE: "BG_OutOfScope",
  IS_LABEL_SENT: "BG_LabelSent",
  USER_ID: "BG_UserId_00",
  DATA_COLLECTION_DATA_SIZE: "BG_CollectionDataSize",
  IS_ADMIN: "GLV_IsAdmin"
};
var CUSTOM_STORAGE_PREFIX = "BG_Seg_";
;// CONCATENATED MODULE: ./src/logger.js




var Logger = /*#__PURE__*/function () {
  function Logger() {
    var origin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "Beagle Client SDK";
    var testing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    _classCallCheck(this, Logger);
    this.origin = origin;
    if (testing) {
      this.DEBUG = 1;
    } else {
      this.DEBUG = window.localStorage.getItem(LOCAL_STORAGE_KEYS.DEBUG_MODE);
    }
  }
  _createClass(Logger, [{
    key: "info",
    value: function info() {
      var _console;
      var origin = this.origin;
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      (_console = console).info.apply(_console, ["[".concat(origin, "]")].concat(args));
    }
  }, {
    key: "log",
    value: function log() {
      var DEBUG = this.DEBUG,
        origin = this.origin;
      if (DEBUG) {
        var _console2;
        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          args[_key2] = arguments[_key2];
        }
        (_console2 = console).log.apply(_console2, ["[".concat(origin, "]")].concat(args));
      }
    }
  }, {
    key: "failed",
    value: function failed() {
      var _console3;
      var DEBUG = this.DEBUG,
        origin = this.origin;
      if (!DEBUG) return;
      var messageConfig = "%c%s   ";
      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }
      args.forEach(function (argument) {
        var type = _typeof(argument);
        switch (type) {
          case "bigint":
          case "number":
          case "boolean":
            messageConfig += "%d   ";
            break;
          case "string":
            messageConfig += "%s   ";
            break;
          case "object":
          case "undefined":
          default:
            messageConfig += "%o   ";
        }
      });
      (_console3 = console).log.apply(_console3, [messageConfig, "color: red", "[".concat(origin, "]")].concat(args));
    }
  }, {
    key: "success",
    value: function success() {
      var _console4;
      var DEBUG = this.DEBUG,
        origin = this.origin;
      if (!DEBUG) return;
      var messageConfig = "%c%s   ";
      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        args[_key4] = arguments[_key4];
      }
      args.forEach(function (argument) {
        var type = _typeof(argument);
        switch (type) {
          case "bigint":
          case "number":
          case "boolean":
            messageConfig += "%d   ";
            break;
          case "string":
            messageConfig += "%s   ";
            break;
          case "object":
          case "undefined":
          default:
            messageConfig += "%o   ";
        }
      });
      (_console4 = console).log.apply(_console4, [messageConfig, "color: green", "[".concat(origin, "]")].concat(args));
    }
  }, {
    key: "warn",
    value: function warn() {
      var _console5;
      var origin = this.origin;
      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
        args[_key5] = arguments[_key5];
      }
      (_console5 = console).warn.apply(_console5, ["[".concat(origin, "]")].concat(args));
    }
  }, {
    key: "error",
    value: function error() {
      var _console6;
      var origin = this.origin;
      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
        args[_key6] = arguments[_key6];
      }
      (_console6 = console).error.apply(_console6, ["[".concat(origin, "]")].concat(args));
    }
  }]);
  return Logger;
}();
/* harmony default export */ var src_logger = (Logger);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js
function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js
function _iterableToArrayLimit(arr, i) {
  var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"];
  if (null != _i) {
    var _s,
      _e,
      _x,
      _r,
      _arr = [],
      _n = !0,
      _d = !1;
    try {
      if (_x = (_i = _i.call(arr)).next, 0 === i) {
        if (Object(_i) !== _i) return;
        _n = !1;
      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) {
        ;
      }
    } catch (err) {
      _d = !0, _e = err;
    } finally {
      try {
        if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return;
      } finally {
        if (_d) throw _e;
      }
    }
    return _arr;
  }
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }
  return arr2;
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js




function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArray.js
function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js




function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js

function _defineProperty(obj, key, value) {
  key = _toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
;// CONCATENATED MODULE: ./src/utils.js




function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = utils_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function utils_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return utils_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return utils_arrayLikeToArray(o, minLen); }
function utils_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

/* eslint-disable max-len */



var logger = new src_logger("BeagleUtils");
var months = {
  "ocak": 0,
  "şubat": 1,
  "mart": 2,
  "nisan": 3,
  "mayıs": 4,
  "haziran": 5,
  "temmuz": 6,
  "ağustos": 7,
  "eylül": 8,
  "ekim": 9,
  "kasım": 10,
  "aralık": 11
};
var removeDocumentHide = function removeDocumentHide() {
  window.top.document.documentElement.classList.remove("glov-ease");
  window.top.document.documentElement.classList.remove("glov-hide");
};
var switchToEaseOut = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee() {
    var el;
    return regenerator_default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (window.top.document.documentElement.classList.contains("glov-hide")) {
              _context.next = 2;
              break;
            }
            return _context.abrupt("return");
          case 2:
            el = document.createElement("style");
            el.textContent = ".glov-ease {\n    -webkit-animation: smooth 2s ease-in;\n    -moz-animation: smooth 2s ease-in;\n    -o-animation: smooth 2s ease-in;\n    -ms-animation: smooth 2s ease-in;\n    animation: smooth 2s ease-in;\n  }\n  \n  @keyframes smooth {\n    0% { opacity: 0;}\n    25% { opacity: 0.25;}\n    50% { opacity: 0.5;}\n    75% { opacity: 0.75;}\n    100% { opacity: 1;}\n  }\n  @-webkit-keyframes smooth {\n    0% { opacity: 0;}\n    25% { opacity: 0.25;}\n    50% { opacity: 0.5;}\n    75% { opacity: 0.75;}\n    100% { opacity: 1;}\n  }";
            window.top.document.documentElement.prepend(el);
            window.top.document.documentElement.classList.add("glov-ease");
            window.top.document.documentElement.classList.remove("glov-hide");
          case 7:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return function switchToEaseOut() {
    return _ref.apply(this, arguments);
  };
}();
var fetchTreatments = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2() {
    var treatments, jsonTreatment;
    return regenerator_default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.prev = 0;
            logger.log("Fetching treatments");
            _context2.next = 4;
            return fetchPlus(TREATMENTS_LOCATION);
          case 4:
            treatments = _context2.sent;
            if (treatments) {
              _context2.next = 7;
              break;
            }
            throw new Error();
          case 7:
            _context2.next = 9;
            return treatments.json();
          case 9:
            jsonTreatment = _context2.sent;
            return _context2.abrupt("return", jsonTreatment);
          case 13:
            _context2.prev = 13;
            _context2.t0 = _context2["catch"](0);
            logger.failed("Could not fetch treatments", _context2.t0.message);
            return _context2.abrupt("return", null);
          case 17:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[0, 13]]);
  }));
  return function fetchTreatments() {
    return _ref2.apply(this, arguments);
  };
}();
var fetchTreatmentWeights = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee3() {
    var treatmentWeights, jsonTreatmentWeights;
    return regenerator_default().wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.prev = 0;
            logger.log("Fetching treatment weights");
            _context3.next = 4;
            return fetchPlus(TREATMENT_WEIGHTS_LOCATION);
          case 4:
            treatmentWeights = _context3.sent;
            if (treatmentWeights) {
              _context3.next = 7;
              break;
            }
            throw new Error();
          case 7:
            _context3.next = 9;
            return treatmentWeights.json();
          case 9:
            jsonTreatmentWeights = _context3.sent;
            return _context3.abrupt("return", jsonTreatmentWeights);
          case 13:
            _context3.prev = 13;
            _context3.t0 = _context3["catch"](0);
            logger.failed("Could not fetch treatment weights", _context3.t0.message);
            return _context3.abrupt("return", null);
          case 17:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, null, [[0, 13]]);
  }));
  return function fetchTreatmentWeights() {
    return _ref3.apply(this, arguments);
  };
}();
var fetchEligibilityRules = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee4() {
    var eligibilityRules, jsonEligibilityRules;
    return regenerator_default().wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.prev = 0;
            logger.log("Fetching eligibility rules");
            _context4.next = 4;
            return fetchPlus(E_RULES_LOCATION);
          case 4:
            eligibilityRules = _context4.sent;
            if (eligibilityRules) {
              _context4.next = 7;
              break;
            }
            throw new Error();
          case 7:
            _context4.next = 9;
            return eligibilityRules.json();
          case 9:
            jsonEligibilityRules = _context4.sent;
            return _context4.abrupt("return", jsonEligibilityRules);
          case 13:
            _context4.prev = 13;
            _context4.t0 = _context4["catch"](0);
            logger.failed("Could not fetch eligibility rules", _context4.t0.message);
            return _context4.abrupt("return", null);
          case 17:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4, null, [[0, 13]]);
  }));
  return function fetchEligibilityRules() {
    return _ref4.apply(this, arguments);
  };
}();
var fetchProductInfo = /*#__PURE__*/function () {
  var _ref5 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee5() {
    var productInfo, productInfoJson;
    return regenerator_default().wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _context5.prev = 0;
            logger.log("Fetching product info");
            _context5.next = 4;
            return fetchPlus(PRODUCT_INFO_LOCATION);
          case 4:
            productInfo = _context5.sent;
            if (productInfo) {
              _context5.next = 7;
              break;
            }
            throw new Error();
          case 7:
            _context5.next = 9;
            return productInfo.json();
          case 9:
            productInfoJson = _context5.sent;
            return _context5.abrupt("return", productInfoJson);
          case 13:
            _context5.prev = 13;
            _context5.t0 = _context5["catch"](0);
            logger.failed("Could not fetch product info", _context5.t0.message);
            return _context5.abrupt("return", null);
          case 17:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5, null, [[0, 13]]);
  }));
  return function fetchProductInfo() {
    return _ref5.apply(this, arguments);
  };
}();
var utils_timeout = function timeout(time) {
  var controller = new AbortController();
  setTimeout(function () {
    return controller.abort();
  }, time);
  return controller;
};
var fetchPlus = function fetchPlus(url) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var retries = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;
  return fetch(url, _objectSpread(_objectSpread({}, options), {}, {
    signal: utils_timeout(5000).signal
  })).then(function (res) {
    if (res.ok) {
      return res;
    }
    if (retries > 0) {
      return fetchPlus(url, options, retries - 1);
    }
    throw new Error(res.status);
  }).catch(function (error) {
    if (retries > 0) {
      logger.failed("Fetch timed out Retrying...: ", error.message);
      return fetchPlus(url, options, retries - 1);
    }
    logger.failed("Fetch failed: ", error.message);
    return null;
  });
};
var extractCookieIdentifier = function extractCookieIdentifier(cookieString, cookieName) {
  if (!cookieString) {
    return null;
  }
  var parsed = cookieString.split(";").map(function (v) {
    return v.split("=");
  }).reduce(function (acc, v) {
    if (v[0] && v[1]) {
      acc[decodeURIComponent(v[0].trim())] = decodeURIComponent(v[1].trim());
    }
    return acc;
  }, {});
  var identifier = parsed[cookieName];
  if (!identifier) {
    return null;
  }
  if (cookieName === "_ga") {
    // extract unique identifier from GA cookie
    var identifierIndex = 2;
    identifier = identifier.split(".")[identifierIndex];
  }
  return identifier;
};
var determinePct = /*#__PURE__*/function () {
  var _ref6 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee6(identifier) {
    var hash, pct;
    return regenerator_default().wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _context6.prev = 0;
            if (identifier) {
              _context6.next = 3;
              break;
            }
            return _context6.abrupt("return", null);
          case 3:
            hash = getUnsecureHash(identifier);
            if (!(hash === null)) {
              _context6.next = 6;
              break;
            }
            return _context6.abrupt("return", null);
          case 6:
            pct = hash % 100;
            if (!(pct >= 0 && pct < 100)) {
              _context6.next = 9;
              break;
            }
            return _context6.abrupt("return", pct);
          case 9:
            return _context6.abrupt("return", null);
          case 12:
            _context6.prev = 12;
            _context6.t0 = _context6["catch"](0);
            logger.error(_context6.t0);
            return _context6.abrupt("return", null);
          case 16:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6, null, [[0, 12]]);
  }));
  return function determinePct(_x) {
    return _ref6.apply(this, arguments);
  };
}();
var exitScrollListener = function exitScrollListener(callBack) {
  var loop = function loop() {
    var scrollTop = window.top.document.documentElement.scrollTop;
    if (lastScrollTop - 400 > scrollTop) {
      clearInterval(exitScrollInterval);
      callBack();
    } else {
      lastScrollTop = scrollTop;
    }
  };
  var lastScrollTop = window.top.document.documentElement.scrollTop;
  var exitScrollInterval = setInterval(loop, 500);
};

/**
 * @description This function is used to apply treatments to the page on specific media type.
 * @param {MediaQueryList} mediaQueryCondition window.matchMedia("(max-width: 500px)")
 * @param {DOMNodeList } elements document.querySelectorAll("div.product_info")
 * @param {Object} styleChangesMap { "margin-top" : "10rem"}
 * @returns
 */

var styleApplicator = function styleApplicator(elements, styleChangesMap) {
  logger.log("Applying style changes", styleChangesMap, "to elements", elements);
  for (var i = 0; i < elements.length; i++) {
    var element = elements[i];
    for (var _i = 0, _Object$entries = Object.entries(styleChangesMap); _i < _Object$entries.length; _i++) {
      var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),
        key = _Object$entries$_i[0],
        value = _Object$entries$_i[1];
      element.style[key] = value;
    }
  }
};
var injectStyleSheet = /*#__PURE__*/function () {
  var _ref7 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee7() {
    var styleSheet;
    return regenerator_default().wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            styleSheet = window.top.document.createElement("link");
            styleSheet.rel = "stylesheet";
            styleSheet.type = "text/css";
            styleSheet.href = STYLESHEET_LOCATION;
            window.top.document.head.appendChild(styleSheet);
          case 5:
          case "end":
            return _context7.stop();
        }
      }
    }, _callee7);
  }));
  return function injectStyleSheet() {
    return _ref7.apply(this, arguments);
  };
}();
var prepareActions = /*#__PURE__*/function () {
  var _ref8 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee8(identifier, actionsToPrepare, businessRuleId, debugMode) {
    var actions, variant, _iterator, _step, action, businessRuleTransformations, variants, _iterator2, _step2, businessTransformation, key, _iterator3, _step3, _step3$value, index, variantKey, randomPct, _iterator4, _step4, _businessTransformation, _i2, _Object$keys, _key, _key2;
    return regenerator_default().wrap(function _callee8$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            actions = JSON.parse(JSON.stringify(actionsToPrepare));
            variant = null;
            _iterator = _createForOfIteratorHelper(actions);
            _context8.prev = 3;
            _iterator.s();
          case 5:
            if ((_step = _iterator.n()).done) {
              _context8.next = 65;
              break;
            }
            action = _step.value;
            businessRuleTransformations = action.businessRuleTransformations, variants = action.variants;
            if (!(!businessRuleTransformations && !variants)) {
              _context8.next = 10;
              break;
            }
            return _context8.abrupt("continue", 63);
          case 10:
            if (businessRuleId !== null && businessRuleTransformations) {
              _iterator2 = _createForOfIteratorHelper(businessRuleTransformations);
              try {
                for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
                  businessTransformation = _step2.value;
                  if (businessTransformation.id === businessRuleId) {
                    for (key in businessTransformation) {
                      if (key !== "id") {
                        action[key] = businessTransformation[key];
                      }
                    }
                  }
                }
              } catch (err) {
                _iterator2.e(err);
              } finally {
                _iterator2.f();
              }
            }
            if (!variants) {
              _context8.next = 63;
              break;
            }
            _iterator3 = _createForOfIteratorHelper(Object.keys(variants).entries());
            _context8.prev = 13;
            _iterator3.s();
          case 15:
            if ((_step3 = _iterator3.n()).done) {
              _context8.next = 55;
              break;
            }
            _step3$value = _slicedToArray(_step3.value, 2), index = _step3$value[0], variantKey = _step3$value[1];
            _context8.next = 19;
            return determinePct(identifier + variantKey);
          case 19:
            randomPct = _context8.sent;
            if (debugMode && !action.variants[variantKey].weight) {
              action.variants[variantKey].weight = Math.floor(100 / Object.keys(variants).length) * (index + 1);
            }
            if (!(randomPct < action.variants[variantKey].weight)) {
              _context8.next = 53;
              break;
            }
            variant = variantKey;
            if (!(businessRuleId !== null && variants[variantKey].businessRuleTransformations)) {
              _context8.next = 51;
              break;
            }
            _iterator4 = _createForOfIteratorHelper(variants[variantKey].businessRuleTransformations);
            _context8.prev = 25;
            _iterator4.s();
          case 27:
            if ((_step4 = _iterator4.n()).done) {
              _context8.next = 41;
              break;
            }
            _businessTransformation = _step4.value;
            if (!(_businessTransformation.id == businessRuleId)) {
              _context8.next = 39;
              break;
            }
            _i2 = 0, _Object$keys = Object.keys(_businessTransformation);
          case 31:
            if (!(_i2 < _Object$keys.length)) {
              _context8.next = 39;
              break;
            }
            _key = _Object$keys[_i2];
            if (!(_key === "id")) {
              _context8.next = 35;
              break;
            }
            return _context8.abrupt("continue", 36);
          case 35:
            action[_key] = _businessTransformation[_key];
          case 36:
            _i2++;
            _context8.next = 31;
            break;
          case 39:
            _context8.next = 27;
            break;
          case 41:
            _context8.next = 46;
            break;
          case 43:
            _context8.prev = 43;
            _context8.t0 = _context8["catch"](25);
            _iterator4.e(_context8.t0);
          case 46:
            _context8.prev = 46;
            _iterator4.f();
            return _context8.finish(46);
          case 49:
            _context8.next = 52;
            break;
          case 51:
            for (_key2 in variants[variantKey]) {
              if (_key2 !== "weight" && _key2 !== "businessRuleTransformations") {
                action[_key2] = variants[variantKey][_key2];
              }
            }
          case 52:
            return _context8.abrupt("break", 55);
          case 53:
            _context8.next = 15;
            break;
          case 55:
            _context8.next = 60;
            break;
          case 57:
            _context8.prev = 57;
            _context8.t1 = _context8["catch"](13);
            _iterator3.e(_context8.t1);
          case 60:
            _context8.prev = 60;
            _iterator3.f();
            return _context8.finish(60);
          case 63:
            _context8.next = 5;
            break;
          case 65:
            _context8.next = 70;
            break;
          case 67:
            _context8.prev = 67;
            _context8.t2 = _context8["catch"](3);
            _iterator.e(_context8.t2);
          case 70:
            _context8.prev = 70;
            _iterator.f();
            return _context8.finish(70);
          case 73:
            return _context8.abrupt("return", [actions, variant]);
          case 74:
          case "end":
            return _context8.stop();
        }
      }
    }, _callee8, null, [[3, 67, 70, 73], [13, 57, 60, 63], [25, 43, 46, 49]]);
  }));
  return function prepareActions(_x2, _x3, _x4, _x5) {
    return _ref8.apply(this, arguments);
  };
}();
var initiateSessionStorages = function initiateSessionStorages() {
  var POPUP_DISPLAY_FLAG = SESSION_STORAGE_KEYS.POPUP_DISPLAY_FLAG,
    SESSION_TIMESTAMP = SESSION_STORAGE_KEYS.SESSION_TIMESTAMP,
    SESSION_HISTORY = SESSION_STORAGE_KEYS.SESSION_HISTORY;
  var popupDisplayFlag = sessionStorage.getItem(POPUP_DISPLAY_FLAG);
  var sessionTimestamp = sessionStorage.getItem(SESSION_TIMESTAMP);
  var sessionHistory = sessionStorage.getItem(SESSION_HISTORY);
  if (popupDisplayFlag === null) {
    sessionStorage.setItem(POPUP_DISPLAY_FLAG, 0);
  }
  if (!sessionTimestamp) {
    sessionStorage.setItem(SESSION_TIMESTAMP, Date.now());
  }
  if (!sessionHistory) {
    sessionStorage.setItem(SESSION_HISTORY, [window.location.pathname]);
  } else {
    sessionStorage.setItem(SESSION_HISTORY, [window.location.pathname, sessionHistory]);
  }
};
var conditionChecker = function conditionChecker(runTimeValue, condition, value) {
  if (condition === "notExist") {
    if (!runTimeValue) {
      logger.success("conditionChecker: -satisfied- target does not exist");
      return true;
    }
    logger.failed("conditionChecker: -not satisfied- target does exist");
    return false;
  }
  if (runTimeValue === null || runTimeValue === undefined || condition === null || condition === undefined) {
    logger.failed("conditionChecker: runTimeValue or condition is not defined");
    return false;
  }
  switch (condition) {
    case "exist":
      if (runTimeValue) {
        logger.success("conditionChecker: -satisfied- target does exist");
        return true;
      }
      logger.failed("conditionChecker: -not satisfied- target does not exist");
      return false;
    case "includes":
    case "contains":
      if (runTimeValue.includes(value)) {
        logger.success("conditionChecker: -satisfied- target contains value");
        return true;
      }
      logger.failed("conditionChecker: -not satisfied- target does not contain value");
      return false;
    case "notIncludes":
    case "notContains":
      if (!runTimeValue.includes(value)) {
        logger.success("conditionChecker: -satisfied- target does not contain value");
        return true;
      }
      logger.failed("conditionChecker: -not satisfied- target contains value");
      return false;
    case "equal":
      if (runTimeValue === value) {
        logger.success("conditionChecker: -satisfied- target equals value");
        return true;
      }
      logger.failed("conditionChecker: -not satisfied- target does not equal value");
      return false;
    case "notEqual":
      if (runTimeValue !== value) {
        logger.success("conditionChecker: -satisfied- target does not equal value");
        return true;
      }
      logger.failed("conditionChecker: -not satisfied- target equals value");
      return false;
    case "greaterThan":
      if (runTimeValue > value) {
        logger.success("conditionChecker: -satisfied- target is greater than value");
        return true;
      }
      logger.failed("conditionChecker: -not satisfied- target is not greater than value");
      return false;
    case "lessThan":
      if (runTimeValue < value) {
        logger.success("conditionChecker: -satisfied- target is less than value");
        return true;
      }
      logger.failed("conditionChecker: -not satisfied- target is not less than value");
      return false;
    case "greaterEquals":
      if (runTimeValue >= value) {
        logger.success("conditionChecker: -satisfied- target is greater or equal than value");
        return true;
      }
      logger.failed("conditionChecker: -not satisfied- target is not greater or equal than value");
      return false;
    case "lessEquals":
      if (runTimeValue <= value) {
        logger.success("conditionChecker: -satisfied- target is less or equal than value");
        return true;
      }
      logger.failed("conditionChecker: -not satisfied- target is not less or equal than value");
      return false;
    case "between":
      {
        var _value$split = value.split(","),
          _value$split2 = _slicedToArray(_value$split, 2),
          min = _value$split2[0],
          max = _value$split2[1];
        min = parseInt(min);
        max = parseInt(max);
        if (runTimeValue >= min && runTimeValue <= max) {
          logger.success("conditionChecker: -satisfied- target is between min and max");
          return true;
        }
        logger.failed("conditionChecker: -not satisfied- target is not between min and max");
        return false;
      }
    case "regex":
      {
        var regex = new RegExp(value, "i");
        return regex.test(runTimeValue);
      }
    default:
      logger.failed("conditionChecker: condition is not defined ", condition);
      return false;
  }
};
var getDebugMode = function getDebugMode(oosReason) {
  var DEBUG_MODE = LOCAL_STORAGE_KEYS.DEBUG_MODE,
    OUT_OF_SCOPE = LOCAL_STORAGE_KEYS.OUT_OF_SCOPE;
  var queryString = window.location.search;
  if (queryString.includes("nd_debug=")) {
    window.localStorage.setItem(OUT_OF_SCOPE, oosReason);
  }
  if (queryString.includes("nd_debug=1")) {
    window.localStorage.setItem(DEBUG_MODE, 1);
    addToBeagleInfoLayer("dbm", "on");
    return 1;
  }
  if (queryString.includes("nd_debug=2")) {
    window.localStorage.setItem(DEBUG_MODE, 2);
    addToBeagleInfoLayer("dbm", "on");
    return 2;
  }
  if (queryString.includes("nd_debug=0")) {
    window.localStorage.removeItem(DEBUG_MODE);
    addToBeagleInfoLayer("dbm", "off");
    return 0;
  }
  var current = parseInt(window.localStorage.getItem(DEBUG_MODE));
  addToBeagleInfoLayer("dbm", current ? "on" : "off");
  return current || 0;
};

// get GA client id using ga.getAll()
var getGaClientId = function getGaClientId() {
  var ga = window.ga;
  // if ga and ga.getAll() is not defined, return null
  if (ga && ga.getAll) {
    var trackers = ga.getAll();
    if (trackers && trackers.length) {
      return trackers[0].get("clientId");
    }
  }
  return null;
};

// get deterministic numeric hash from string that conatins only numbers
var getUnsecureHash = function getUnsecureHash(str) {
  var hash = 0;
  if (str.length === 0) {
    return null;
  }
  for (var i = 0; i < str.length; i++) {
    var char = str.charCodeAt(i);
    hash = (hash << 5) - hash + char;
    hash = hash & hash;
  }
  // return absolute value
  return Math.abs(hash);
};

// generate a 32-bit random integer
var getRandomInt = function getRandomInt() {
  return Math.floor(Math.random() * 0x100000000);
};

// get current unix epoch time in seconds
var getUnixTime = function getUnixTime() {
  return Math.floor(Date.now() / 1000);
};
var getIdentifier = function getIdentifier() {
  return new Promise(function (resolve) {
    try {
      var id = window.localStorage.getItem(LOCAL_STORAGE_KEYS.USER_ID);
      if (id !== null && id !== undefined) {
        logger.log("getIdentifier: got identifier from local storage", id);
        resolve(id);
        return;
      }
      id = getGaClientId();
      if (id !== null && id !== undefined) {
        logger.log("getIdentifier: got identifier from ga in first attempt", id);
        window.localStorage.setItem(LOCAL_STORAGE_KEYS.USER_ID, id);
        resolve(id);
        return;
      } else {
        var extractIdentifierInterval = setInterval(function () {
          id = getGaClientId();
          if (id !== null && id !== undefined) {
            logger.log("getIdentifier: got identifier from ga", id);
            clearInterval(extractIdentifierInterval);
            window.localStorage.setItem(LOCAL_STORAGE_KEYS.USER_ID, id);
            resolve(id);
          }
        }, 10);
        setTimeout(function () {
          clearInterval(extractIdentifierInterval);
          if (id === null || id === undefined) {
            logger.failed("Could not read GA client id");
            resolve(null);
          }
        }, 2000);
      }
    } catch (e) {
      logger.failed("Error in getIdentifier", e);
      resolve(null);
    }
  });
};
var delay = function delay(ms) {
  return new Promise(function (res) {
    return setTimeout(res, ms);
  });
};
var formatDeliveryDate = function formatDeliveryDate(date) {
  if (!date || typeof date !== "string") return date;
  var result = {
    startMonthIndex: undefined,
    endMonthIndex: undefined,
    startDay: undefined,
    endDay: undefined
  };
  var match = date.match("([\\d]+)-([\\d]+)\\s?([\\wıüğşöçİÖÇĞÜŞ]+)");
  if (match && match.length === 4) {
    result.startDay = parseInt(match[1]);
    result.endDay = parseInt(match[2]);
    result.startMonthIndex = months[match[3].toLowerCase()];
    result.endMonthIndex = result.startMonthIndex;
  } else {
    match = date.match("([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜŞ]+)-([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜŞ]+)");
    if (!match || match.length !== 5) return date;
    result.startDay = parseInt(match[1]);
    result.startMonthIndex = months[match[2].toLowerCase()];
    result.endDay = parseInt(match[3]);
    result.endMonthIndex = months[match[4].toLowerCase()];
  }
  try {
    var today = new Date();
    if (!result.startMonthIndex || !result.endMonthIndex) return date;
    var startYear = result.startMonthIndex >= today.getMonth() ? today.getFullYear() : today.getFullYear() + 1;
    var endYear = result.endMonthIndex >= today.getMonth() ? today.getFullYear() : today.getFullYear() + 1;
    var estimatedStart = new Date(startYear, result.startMonthIndex, result.startDay);
    var estimatedEnd = new Date(endYear, result.endMonthIndex, result.endDay);
    var startDiffOverDays = Math.ceil(Math.abs(estimatedStart - today) / (1000 * 60 * 60 * 24));
    var endDiffOverDays = Math.ceil(Math.abs(estimatedEnd - today) / (1000 * 60 * 60 * 24));
    var startDiffOverWeeks = startDiffOverDays < 7 ? 0 : Math.ceil(startDiffOverDays / 7);
    var endDiffOverWeeks = endDiffOverDays < 7 ? 0 : Math.ceil(endDiffOverDays / 7);
    if (startDiffOverWeeks === 0 && endDiffOverWeeks === 0) {
      return "".concat(startDiffOverDays, " - ").concat(endDiffOverDays, " G\xFCn");
    }
    if (startDiffOverWeeks === 0 && endDiffOverWeeks >= 1) {
      return "".concat(startDiffOverDays, " G\xFCn - ").concat(endDiffOverWeeks, " Hafta");
    }
    if (startDiffOverWeeks === endDiffOverWeeks) {
      return "".concat(startDiffOverWeeks, " Hafta");
    }
    return "".concat(startDiffOverWeeks, " - ").concat(endDiffOverWeeks, " Hafta");
  } catch (err) {
    return date;
  }
};
var idleTimer = /*#__PURE__*/function () {
  var _ref9 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee9(timeOut, callBack) {
    var idleTimeout, resetTimer;
    return regenerator_default().wrap(function _callee9$(_context9) {
      while (1) {
        switch (_context9.prev = _context9.next) {
          case 0:
            resetTimer = function _resetTimer() {
              clearTimeout(idleTimeout);
              idleTimeout = setTimeout(callBack, timeOut);
            };
            idleTimeout = setTimeout(callBack, timeOut);
            window.top.document.ontouchstart = resetTimer;
          case 3:
          case "end":
            return _context9.stop();
        }
      }
    }, _callee9);
  }));
  return function idleTimer(_x6, _x7) {
    return _ref9.apply(this, arguments);
  };
}();
var getBrowserType = function getBrowserType() {
  var userAgent = navigator.userAgent;
  if (userAgent.match(/chrome|chromium|crios/i)) {
    return "chrome";
  }
  if (userAgent.match(/firefox|fxios/i)) {
    return "firefox";
  }
  if (userAgent.match(/safari/i)) {
    return "safari";
  }
  if (userAgent.match(/opr\//i)) {
    return "opera";
  }
  if (userAgent.match(/edg/i)) {
    return "edge";
  }
  return null;
};
var isOwnMutation = function isOwnMutation(mutationList) {
  var nodes = [].concat(_toConsumableArray(Array.from(mutationList[0].addedNodes)), _toConsumableArray(Array.from(mutationList[0].removedNodes)));
  return nodes.some(function (n) {
    var _n$id;
    return n.tagName && (((_n$id = n.id) === null || _n$id === void 0 ? void 0 : _n$id.includes("bn-")) || Array.from(n.classList).some(function (c) {
      return c.includes("bn-") || c.includes("nd-");
    }));
  });
};
;// CONCATENATED MODULE: ./src/BeagleDataCollection/store.config.js
var config = {
  dbName: "beagle",
  version: 1,
  maintenanceOperationCount: 1000,
  // affects version
  store: {
    name: "data",
    indexes: [{
      name: "ix_dataName",
      fields: ["data_name"]
    }, {
      name: "ix_dataName_session",
      fields: ["data_name", "session_id"]
    }, {
      name: "ix_dataName_dataValue",
      fields: ["data_name", "data_value"]
    }, {
      name: "ix_dataName_dataValue_session",
      fields: ["data_name", "data_value", "session_id"]
    }],
    options: {
      keyPath: "id",
      autoIncrement: true
    }
  }
};
/* harmony default export */ var store_config = (config);
;// CONCATENATED MODULE: ./src/BeagleDataCollection/api.js





function api_createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = api_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function api_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return api_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return api_arrayLikeToArray(o, minLen); }
function api_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }



var api_logger = new src_logger("BeagleDataCollectionWrapper");
var _window = {
  alltime: "alltime",
  session: "session"
};
var BeagleDataCollectionWrapper = /*#__PURE__*/function () {
  function BeagleDataCollectionWrapper() {
    _classCallCheck(this, BeagleDataCollectionWrapper);
    this.indexedDB = null;
    try {
      this.init();
    } catch (err) {
      api_logger.failed("Failed to initialized db with: ", err.message);
    }
  }
  _createClass(BeagleDataCollectionWrapper, [{
    key: "init",
    value: function init() {
      var _window$top$indexedDB,
        _this = this;
      api_logger.log("Initializing indexedDB");
      // TODO, uncomment next line once existing stale dbs are purged
      // const openRequest = window.top.indexedDB?.open(config.dbName, config.version);
      var openRequest = (_window$top$indexedDB = window.top.indexedDB) === null || _window$top$indexedDB === void 0 ? void 0 : _window$top$indexedDB.open(store_config.dbName);
      if (!openRequest) {
        throw new Error("indexeddb is not supported");
      }
      openRequest.onupgradeneeded = function (event) {
        switch (event.oldVersion) {
          case 0:
            break;
          default:
            // TODO upgrade existing db instead of delete and create from scratch
            try {
              openRequest.result.deleteObjectStore(store_config.store.name);
            } catch (err) {
              api_logger.failed("Could not delete outdated database", err.message);
            }
            break;
        }
        try {
          var _config$store$indexes;
          var store = openRequest.result.createObjectStore(store_config.store.name, store_config.store.options);
          if (((_config$store$indexes = store_config.store.indexes) === null || _config$store$indexes === void 0 ? void 0 : _config$store$indexes.length) > 0) {
            var _iterator = api_createForOfIteratorHelper(store_config.store.indexes),
              _step;
            try {
              for (_iterator.s(); !(_step = _iterator.n()).done;) {
                var idx = _step.value;
                store.createIndex(idx.name, idx.fields);
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }
          }
        } catch (err) {
          api_logger.failed("Could not create object store on database", err.message);
        }
      };
      openRequest.onerror = function () {
        throw new Error("Error initializing beagle indexed DB", openRequest.error);
      };
      openRequest.onsuccess = function () {
        var db = openRequest.result;
        if (db.version !== 1) {
          // TODO, remove delete request once existing stale dbs are purged
          var deleteRequest = window.indexedDB.deleteDatabase(store_config.dbName);
          deleteRequest.onsuccess = function () {
            _this.init();
          };
        } else _this.indexedDB = db;
      };
    }
  }, {
    key: "getConnection",
    value: function getConnection() {
      var _this2 = this;
      return new Promise(function (resolve, reject) {
        var interval = setInterval(function () {
          if (_this2.indexedDB) {
            clearInterval(interval);
            resolve();
          }
        }, 25);
        setTimeout(function () {
          if (!_this2.indexedDB) {
            clearInterval(interval);
            reject(new Error("IndexedDB not initialized within the allotted time"));
          }
        }, 1000);
      });
    }
  }, {
    key: "initTransaction",
    value: function () {
      var _initTransaction = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee() {
        var readwrite,
          tx,
          store,
          _args = arguments;
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                readwrite = _args.length > 0 && _args[0] !== undefined ? _args[0] : false;
                _context.next = 3;
                return this.getConnection();
              case 3:
                tx = this.indexedDB.transaction(store_config.store.name, readwrite ? "readwrite" : "readonly");
                store = tx.objectStore(store_config.store.name);
                return _context.abrupt("return", store);
              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));
      function initTransaction() {
        return _initTransaction.apply(this, arguments);
      }
      return initTransaction;
    }()
  }, {
    key: "save",
    value: function () {
      var _save = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2(dataName, dataValue) {
        var store, sessionId, time, payload;
        return regenerator_default().wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this.initTransaction(true);
              case 2:
                store = _context2.sent;
                sessionId = this.getCurrentSessionId(); // date current -2 saat  yil-ay-gun
                time = Math.round(Date.now() / 1000);
                payload = {
                  "data_name": dataName,
                  "data_value": dataValue,
                  "session_id": sessionId,
                  time: time
                };
                store.put(payload);
              case 7:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));
      function save(_x, _x2) {
        return _save.apply(this, arguments);
      }
      return save;
    }()
  }, {
    key: "minmax",
    value: function minmax(dataName, op) {
      var _this3 = this;
      var window = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _window.alltime;
      return new Promise(function (resolve) {
        _this3.initTransaction().then(function (store) {
          var stored = undefined;
          _this3.getCursor(store, dataName, window).onsuccess = function (event) {
            var cursor = event.target.result;
            if (cursor) {
              var value = cursor.value;
              if ("data_value" in value) {
                if (stored === undefined || op === "min" && value["data_value"] < stored || op === "max" && value["data_value"] > stored) {
                  stored = value["data_value"];
                }
              } else {
                console.warn("key not found in cursor values " + dataName);
              }
              cursor.continue();
            } else {
              resolve(stored);
            }
          };
        });
      });
    }
  }, {
    key: "min",
    value: function min(dataName) {
      var window = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _window.alltime;
      return this.minmax(dataName, "min", window);
    }
  }, {
    key: "max",
    value: function max(dataName) {
      var window = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _window.alltime;
      return this.minmax(dataName, "max", window);
    }
  }, {
    key: "groupBy",
    value: function groupBy(dataName) {
      var _this4 = this;
      var window = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _window.alltime;
      return new Promise(function (resolve) {
        _this4.initTransaction().then(function (store) {
          var map = new Map();
          _this4.getCursor(store, dataName, window).onsuccess = function (event) {
            var cursor = event.target.result;
            if (cursor) {
              var value = cursor.value;
              if ("data_value" in value) {
                if (!map.has(value["data_value"])) map.set(value["data_value"], 0);
                map.set(value["data_value"], map.get(value["data_value"]) + 1);
              } else {
                console.warn("key not found in cursor values " + dataName);
              }
              cursor.continue();
            } else {
              resolve(map);
            }
          };
        });
      });
    }
  }, {
    key: "mode",
    value: function () {
      var _mode = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee3(dataName) {
        var window,
          data,
          max,
          _iterator2,
          _step2,
          _step2$value,
          key,
          value,
          _args3 = arguments;
        return regenerator_default().wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                window = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : _window.alltime;
                _context3.next = 3;
                return this.groupBy(dataName, window);
              case 3:
                data = _context3.sent;
                if (!(data.keys().length === 0)) {
                  _context3.next = 6;
                  break;
                }
                return _context3.abrupt("return", null);
              case 6:
                max = {
                  name: undefined,
                  value: -1
                };
                _iterator2 = api_createForOfIteratorHelper(data);
                try {
                  for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
                    _step2$value = _slicedToArray(_step2.value, 2), key = _step2$value[0], value = _step2$value[1];
                    if (max.value < value) {
                      max.name = key;
                      max.value = value;
                    }
                  }
                } catch (err) {
                  _iterator2.e(err);
                } finally {
                  _iterator2.f();
                }
                return _context3.abrupt("return", max);
              case 10:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));
      function mode(_x3) {
        return _mode.apply(this, arguments);
      }
      return mode;
    }()
  }, {
    key: "count",
    value: function count(dataName) {
      var _this5 = this;
      var window = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _window.alltime;
      return new Promise(function (resolve) {
        _this5.initTransaction().then(function (store) {
          var count = 0;
          _this5.getCursor(store, dataName, window).onsuccess = function (event) {
            var cursor = event.target.result;
            if (cursor) {
              count++;
              cursor.continue();
            } else {
              resolve(count);
            }
          };
        });
      });
    }
  }, {
    key: "sum",
    value: function sum(dataName) {
      var _this6 = this;
      var window = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "alltime";
      return new Promise(function (resolve) {
        _this6.initTransaction().then(function (store) {
          var total = 0.00;
          _this6.getCursor(store, dataName, window).onsuccess = function (event) {
            var cursor = event.target.result;
            if (cursor) {
              var value = cursor.value;
              if ("data_value" in value) {
                total += parseFloat(value["data_value"]);
              } else {
                console.warn("key not found in cursor values " + dataName);
              }
              cursor.continue();
            } else {
              resolve(total.toFixed(2));
            }
          };
        });
      });
    }
  }, {
    key: "getCursor",
    value: function getCursor(store, dataName) {
      var window = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _window.alltime;
      var dataValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;
      if (dataValue) {
        if (window === _window.session) {
          return store.index("ix_dataName_dataValue_session").openCursor(IDBKeyRange.only([dataName, dataValue, this.getCurrentSessionId().toString()]));
        }
        return store.index("ix_dataName_dataValue").openCursor(IDBKeyRange.only([dataName, dataValue]));
      }
      if (window === _window.session) {
        return store.index("ix_dataName_session").openCursor(IDBKeyRange.only([dataName, this.getCurrentSessionId().toString()]));
      }
      var indexValue = getBrowserType() === "safari" ? dataName : [dataName];
      return store.index("ix_dataName").openCursor(IDBKeyRange.only(indexValue));
    }
  }, {
    key: "avg",
    value: function () {
      var _avg = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee4(dataName) {
        var window,
          total,
          count,
          _args4 = arguments;
        return regenerator_default().wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                window = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : _window.alltime;
                _context4.next = 3;
                return this.sum(dataName, window);
              case 3:
                total = _context4.sent;
                _context4.next = 6;
                return this.count(dataName, window);
              case 6:
                count = _context4.sent;
                if (!(!total || !count)) {
                  _context4.next = 9;
                  break;
                }
                return _context4.abrupt("return", 0);
              case 9:
                return _context4.abrupt("return", (total / count).toFixed(2));
              case 10:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));
      function avg(_x4) {
        return _avg.apply(this, arguments);
      }
      return avg;
    }()
  }, {
    key: "last",
    value: function () {
      var _last = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee5(dataName) {
        var _this7 = this;
        var size,
          window,
          _args5 = arguments;
        return regenerator_default().wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                size = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : 1;
                window = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : _window.alltime;
                return _context5.abrupt("return", new Promise(function (resolve) {
                  _this7.initTransaction().then(function (store) {
                    var cursor = store.index("ix_dataName").openCursor([dataName], "prev");
                    if (window === _window.session) {
                      cursor = store.index("ix_dataName_session").openCursor([dataName, _this7.getCurrentSessionId()], "prev");
                    }
                    var index = 0;
                    var values = [];
                    cursor.onsuccess = function (event) {
                      var result = event.target.result;
                      if (result && index < size) {
                        index++;
                        values.push(result.value);
                        result.continue();
                      } else {
                        resolve(values);
                      }
                    };
                  });
                }));
              case 3:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5);
      }));
      function last(_x5) {
        return _last.apply(this, arguments);
      }
      return last;
    }()
  }, {
    key: "getCurrentSessionId",
    value: function getCurrentSessionId() {
      var d = new Date();
      d.setHours(d.getHours() - 2);
      return d.getFullYear() + "-" + (d.getMonth() + 1).toString().padStart(2, "0") + "-" + d.getDate().toString().padStart(2, "0");
    }
  }]);
  return BeagleDataCollectionWrapper;
}();

;// CONCATENATED MODULE: ./src/BeagleDataCollection/index.js



function BeagleDataCollection_createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = BeagleDataCollection_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function BeagleDataCollection_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return BeagleDataCollection_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return BeagleDataCollection_arrayLikeToArray(o, minLen); }
function BeagleDataCollection_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
/* eslint-disable max-len */


var BeagleDataCollection_logger = new src_logger("BeagleDataCollection");
var collectorApi = new BeagleDataCollectionWrapper();

// keep a table in indexdb the format [session_id, data_name, data_value, stored_value]

var queryInCollector = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee(baseFeatureName, queryMethod, window) {
    var queryPromise, _queryPromise, _queryPromise2, data, count, _iterator, _step, _step$value, value, _data, match, _queryPromise3, dataValues;
    return regenerator_default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            BeagleDataCollection_logger.log("queryInCollector", baseFeatureName, queryMethod, window);
            if (collectorApi) {
              _context.next = 4;
              break;
            }
            BeagleDataCollection_logger.failed("IndexedDB no supported/Initialized");
            return _context.abrupt("return", null);
          case 4:
            if (!(queryMethod === "min")) {
              _context.next = 11;
              break;
            }
            _context.next = 7;
            return collectorApi.min(baseFeatureName, window);
          case 7:
            queryPromise = _context.sent;
            return _context.abrupt("return", queryPromise);
          case 11:
            if (!(queryMethod === "max")) {
              _context.next = 18;
              break;
            }
            _context.next = 14;
            return collectorApi.max(baseFeatureName, window);
          case 14:
            _queryPromise = _context.sent;
            return _context.abrupt("return", _queryPromise);
          case 18:
            if (!(queryMethod === "avg")) {
              _context.next = 25;
              break;
            }
            _context.next = 21;
            return collectorApi.avg(baseFeatureName, window);
          case 21:
            _queryPromise2 = _context.sent;
            return _context.abrupt("return", _queryPromise2);
          case 25:
            if (!(queryMethod === "cd")) {
              _context.next = 31;
              break;
            }
            _context.next = 28;
            return collectorApi.groupBy(baseFeatureName, window);
          case 28:
            return _context.abrupt("return", _context.sent.size);
          case 31:
            if (!(queryMethod === "cv")) {
              _context.next = 39;
              break;
            }
            _context.next = 34;
            return collectorApi.groupBy(baseFeatureName, window);
          case 34:
            data = _context.sent;
            count = 0;
            _iterator = BeagleDataCollection_createForOfIteratorHelper(data);
            try {
              for (_iterator.s(); !(_step = _iterator.n()).done;) {
                _step$value = _slicedToArray(_step.value, 2), value = _step$value[1];
                count += value;
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }
            return _context.abrupt("return", count);
          case 39:
            if (!(queryMethod === "mode")) {
              _context.next = 46;
              break;
            }
            _context.next = 42;
            return collectorApi.mode(baseFeatureName, window);
          case 42:
            _data = _context.sent;
            if (_data) {
              _context.next = 45;
              break;
            }
            return _context.abrupt("return", null);
          case 45:
            return _context.abrupt("return", _data.name);
          case 46:
            if (!(queryMethod.indexOf("last") >= 0)) {
              _context.next = 55;
              break;
            }
            match = queryMethod.match("last\\(([\\d]+)\\)");
            if (!(!match || !match.length === 2 || parseInt(match[1]) < 1)) {
              _context.next = 50;
              break;
            }
            return _context.abrupt("return", null);
          case 50:
            _context.next = 52;
            return collectorApi.last(baseFeatureName, match[1], window);
          case 52:
            _queryPromise3 = _context.sent;
            dataValues = _queryPromise3.map(function (obj) {
              return obj.data_value;
            });
            return _context.abrupt("return", dataValues);
          case 55:
            /**
              {"Listingpage" => 21}
              {"Homepage" => 12}
              -- example will have:
              mode: Listingpage
              cd: 2
              cv: 21+12
              last(3) (n, n-1, n-2)
            */

            // 1000lik temizlenecek (maintOpCount -> version)

            // queryMethod can be "mode", "cd" (count distint) for string/categorical data types
            // queryMethod can be "cv" (sum of count values), "current", or "prev" for any data type (stored via last)
            BeagleDataCollection_logger.failed("unknown queryMethod=".concat(queryMethod, " in BeagleDataCollection"));
            return _context.abrupt("return", null);
          case 57:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return function queryInCollector(_x, _x2, _x3) {
    return _ref.apply(this, arguments);
  };
}();
var updateInCollector = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2(baseFeatureName, baseFeatureValue, updateMethod) {
    return regenerator_default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            BeagleDataCollection_logger.log("updateInCollector", baseFeatureName, baseFeatureValue, updateMethod);
            if (collectorApi) {
              _context2.next = 4;
              break;
            }
            BeagleDataCollection_logger.failed("IndexedDB no supported/Initialized");
            return _context2.abrupt("return", null);
          case 4:
            _context2.next = 6;
            return collectorApi.save(baseFeatureName, baseFeatureValue);
          case 6:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return function updateInCollector(_x4, _x5, _x6) {
    return _ref2.apply(this, arguments);
  };
}();
;// CONCATENATED MODULE: ./src/BeagleInfoLayer/index.js




function BeagleInfoLayer_createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = BeagleInfoLayer_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function BeagleInfoLayer_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return BeagleInfoLayer_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return BeagleInfoLayer_arrayLikeToArray(o, minLen); }
function BeagleInfoLayer_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
/* eslint-disable max-len */




window.beagleInfoLayer = window.beagleInfoLayer || {
  a: {},
  e: {},
  f: {},
  __hwm: 0
};
var BeagleInfoLayer_logger = new src_logger("BeagleInfoLayer");

// TODO: convert to name --> array of selectors
var searchPaths = [
// ----------------------------------------------------------------------------------------------------------------------------------------------
// GA Data Layer Queries
{
  PageTypeDepend: "*",
  method: "GADataLayer",
  selector: "PageType",
  name: "PageType"
}, {
  PageTypeDepend: "*",
  method: "GADataLayer",
  selector: "isAdmin",
  name: "vvsIsShowroom"
}, {
  PageTypeDepend: "*",
  method: "GADataLayer",
  selector: "userId",
  name: "vvsUserId"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "content_name",
  name: "pdp.name"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "productgroup",
  name: "pdp.group"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "vivense_category",
  name: "pdp.class"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "content_ids",
  name: "pdp.sku",
  formatter: "upperCaseTR"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "ProductID",
  name: "pdp.sku"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "content_category",
  name: "pdp.category"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "ecommerce.detail.actionField.list",
  name: "pdp.listalias"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "vivenseProducts.*.sku",
  name: "pdp.sku",
  formatter: "dearray"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "vivenseProducts.*.category",
  name: "pdp.category",
  formatter: "dearray"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "vivenseProducts.*.discountRate",
  name: "pdp.discountRate",
  formatter: "dearray"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "vivenseProducts.*.fastDelivery",
  name: "pdp.fastDelivery",
  formatter: "dearray"
}, {
  PageTypeDepend: "Productpage",
  method: "GADataLayer",
  selector: "vivenseProducts.*.isInShowroom",
  name: "pdp.isInShowroom",
  formatter: "dearray"
}, {
  PageTypeDepend: "Listingpage",
  method: "GADataLayer",
  selector: "search_success",
  name: "plp.searchSuccess",
  exclusive: ["plp.id", "plp.approximateCount", "plp.name", "plp.group", "plp.class"]
}, {
  PageTypeDepend: "Listingpage",
  method: "GADataLayer",
  selector: "content_ids",
  name: "plp.id",
  exclusive: ["plp.searchSuccess"]
}, {
  PageTypeDepend: "Listingpage",
  method: "GADataLayer",
  selector: "category_product_count",
  name: "plp.approximateCount",
  exclusive: ["plp.searchSuccess"]
}, {
  PageTypeDepend: "Listingpage",
  method: "GADataLayer",
  selector: "content_name",
  name: "plp.name",
  exclusive: ["plp.searchSuccess"]
}, {
  PageTypeDepend: "Listingpage",
  method: "GADataLayer",
  selector: "productgroup",
  name: "plp.group",
  exclusive: ["plp.searchSuccess"]
}, {
  PageTypeDepend: "Listingpage",
  method: "GADataLayer",
  selector: "vivense_category",
  name: "plp.class",
  exclusive: ["plp.searchSuccess"]
}, {
  PageTypeDepend: "purchase",
  method: "GADataLayer",
  selector: "ecommerce.purchase.products.*.id",
  name: "purchase.skus"
}, {
  PageTypeDepend: "purchase",
  method: "GADataLayer",
  selector: "ecommerce.purchase.products.*.price",
  name: "purchase.prices"
}, {
  PageTypeDepend: "purchase",
  method: "GADataLayer",
  selector: "ecommerce.purchase.products.*.quantity",
  name: "purchase.quantities"
}, {
  PageTypeDepend: "purchase",
  method: "GADataLayer",
  selector: "ecommerce.purchase.products.*.category",
  name: "purchase.categories"
}, {
  PageTypeDepend: "purchase",
  method: "GADataLayer",
  selector: "ecommerce.purchase.actionField.id",
  name: "purchase.orderId"
}, {
  PageTypeDepend: "purchase",
  method: "GADataLayer",
  selector: "ecommerce.purchase.actionField.revenue",
  name: "purchase.revenue"
}, {
  PageTypeDepend: "purchase",
  method: "GADataLayer",
  selector: "ecommerce.purchase.actionField.dimension15",
  name: "purchase.paymentType"
},
// ----------------------------------------------------------------------------------------------------------------------------------------------
// Document Queries
{
  PageTypeDepend: "*",
  method: "DocQuery",
  selector: "[class*=\"page_preview_wrapper_production\"]",
  name: "PageType",
  operand: "docQueryValueIfHasInnerText",
  value: "Homepage"
}, {
  PageTypeDepend: "*",
  method: "DocQuery",
  selector: "[class*=\"category_page_wrapper\"]",
  name: "PageType",
  operand: "docQueryValueIfHasInnerText",
  value: "Listingpage"
}, {
  PageTypeDepend: "*",
  method: "DocQuery",
  selector: "[class*=\"product-main-details\"]",
  name: "PageType",
  operand: "docQueryValueIfHasInnerText",
  value: "Productpage"
}, {
  PageTypeDepend: "*",
  method: "DocQuery",
  selector: "[class*=\"product\"]",
  name: "PageType",
  operand: "docQueryValueIfHasInnerText",
  value: "Productpage"
}, {
  PageTypeDepend: "Homepage|Productpage|Listingpage",
  method: "DocQuery",
  selector: "[class*=\"welcome_username\"]",
  name: "view.isLoggedIn",
  operand: "docQueryHasInnerText"
}, {
  PageTypeDepend: "Homepage|Productpage|Listingpage",
  method: "DocQuery",
  selector: "[class*=\"empty_basket_text\"]",
  name: "cart.isempty",
  operand: "docQueryHasInnerText",
  exclusive: ["cart.totalBasePrice", "cart.skucount", "cart.couponNotApplicable"]
}, {
  PageTypeDepend: "Homepage|Productpage|Listingpage",
  method: "DocQuery",
  selector: "body > .desktop_layout_wrapper .not-allowed-coupon",
  name: "cart.couponNotApplicable",
  operand: "docQuerySumNumInnerText",
  exclusive: ["cart.isempty"]
},
// Note that sequential search will mark copuonNotApplicable as found
{
  PageTypeDepend: "Homepage|Productpage|Listingpage",
  method: "DocQuery",
  selector: "[class*=\"basket_total_price\"]",
  name: "cart.totalBasePrice",
  operand: "docQueryInnerText",
  exclusive: ["cart.isempty", "cart.couponNotApplicable"],
  formatter: "numericOnly"
}, {
  PageTypeDepend: "Homepage|Productpage|Listingpage",
  method: "DocQuery",
  selector: "[id*=\"cart_quantity\"], [class*=\"basket_length\"]",
  name: "cart.skucount",
  operand: "docQueryInnerText",
  exclusive: ["cart.isempty"]
}, {
  PageTypeDepend: "Productpage",
  method: "DocQuery",
  selector: "[class*=\"delivery-date\"]",
  name: "pdp.deliveryDate",
  operand: "docQueryInnerText"
}, {
  PageTypeDepend: "Productpage",
  method: "DocQuery",
  selector: "[class*=\"delivery-date\"]",
  name: "pdp.deliveryDateFormatted",
  operand: "docQueryInnerText",
  formatter: "formatDeliveryDate"
}, {
  PageTypeDepend: "Productpage",
  method: "DocQuery",
  selector: "[class*=\"product-title\"], [class*=\"header-bottom\"]",
  name: "pdp.name",
  operand: "docQueryInnerText"
}, {
  PageTypeDepend: "Productpage",
  method: "DocQuery",
  selector: "[class*=\"vivense-showrooms\"] > *",
  name: "pdp.showroomcount",
  operand: "docQueryCountElts",
  exclusive: ["pdp.hasNoShowrooms"]
}, {
  PageTypeDepend: "Productpage",
  method: "DocQuery",
  selector: "#vivense-showroom-tab p:not(.vivense-showrooms)",
  name: "pdp.hasNoShowrooms",
  operand: "docQueryHasInnerText",
  exclusive: ["pdp.showroomcount"]
}, {
  PageTypeDepend: "Productpage",
  method: "DocQuery",
  selector: "span.price",
  name: "pdp.price",
  operand: "docQueryInnerText",
  formatter: "numericOnly"
}, {
  PageTypeDepend: "Productpage",
  method: "DocQuery",
  selector: "#sales-price",
  name: "pdp.price",
  operand: "docQueryInnerText",
  formatter: "numericOnly"
}, {
  PageTypeDepend: "Productpage",
  method: "DocQuery",
  selector: "div.product-price-box",
  name: "__priceObserver",
  children: ["pdp.price"],
  operand: "docQueryObserve"
}, {
  PageTypeDepend: "Productpage",
  method: "DocQuery",
  selector: "#mobile-product-sticky",
  name: "__priceObserver",
  children: ["pdp.price"],
  operand: "docQueryObserve"
}, {
  PageTypeDepend: "Listingpage",
  method: "DocQuery",
  selector: "[class*=\"count-of-product\"]",
  name: "plp.itemCount",
  operand: "docQueryInnerText",
  formatter: "numericOnly"
}, {
  PageTypeDepend: "Listingpage",
  method: "DocQuery",
  selector: "[class*=\"subcategories-title\"]",
  name: "plp.name",
  operand: "docQueryInnerText"
}, {
  PageTypeDepend: "Listingpage",
  method: "DocQuery",
  selector: ".product-card[data-product-sku]",
  name: "__features.SKUsonPage",
  operand: "docQueryAttribValueList",
  value: "data-product-sku"
}, {
  PageTypeDepend: "Listingpage",
  method: "DocQuery",
  selector: ".product-list",
  name: "__listingItemBlockObserver",
  children: ["__features.SKUsonPage"],
  operand: "docQueryObserve"
}, {
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: ".empty-cart-container, .empty-cart",
  name: "cart.isempty",
  operand: "docQueryHasInnerText",
  exclusive: ["cart.skucount", "cart.totalPrice", "cart.totalPriceFinal", "cart.couponNotApplicable", "cart.skus", "cart.prices", "cart.quantities", "cart.categories", "__checkoutFormObserver"]
}, {
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: ".bracket-text, .product-count",
  name: "cart.skucount",
  operand: "docQueryInnerText",
  exclusive: ["cart.isempty"],
  formatter: "numericOnly"
}, {
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: ".cartItemQuantity",
  name: "cart.quantities",
  operand: "docQueryAttribValueList",
  value: "data-previous",
  exclusive: ["cart.isempty"]
}, {
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: "#bill_total",
  name: "cart.totalPrice",
  operand: "docQueryInnerText",
  exclusive: ["cart.isempty"],
  formatter: "numericOnly"
}, {
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: "[class*=\"order-final-number\"]",
  name: "cart.totalPriceFinal",
  operand: "docQueryInnerText",
  exclusive: ["cart.isempty"],
  formatter: "numericOnly"
}, {
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: "[class*=\"cart-price\"] .not-allowed-coupon",
  name: "cart.couponNotApplicable",
  operand: "docQuerySumNumInnerText",
  exclusive: ["cart.isempty"]
},
// Note that sequential search will mark couponApplicable as found
{
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: ".cart-inside",
  name: "cart.skus",
  operand: "docQueryAttribValueList",
  value: "data-sku",
  exclusive: ["cart.isempty", "cart.couponNotApplicable"]
}, {
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: ".cart-inside",
  name: "cart.categories",
  operand: "docQueryAttribValueList",
  value: "data-last-breadcrumb",
  exclusive: ["cart.isempty", "cart.couponNotApplicable"]
}, {
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: ".cart-inside",
  name: "cart.prices",
  operand: "docQueryAttribValueList",
  value: "data-price",
  exclusive: ["cart.isempty", "cart.couponNotApplicable"]
},
// Desktop observer for the right panel, as it is the one changing
{
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: ".cart-right-container",
  name: "__checkoutFormObserver",
  children: ["cart.skucount", "cart.totalPrice", "cart.totalPriceFinal", "cart.couponNotApplicable", "cart.skus", "cart.prices", "cart.quantities", "cart.categories", "cart.isempty", "cart.couponApplicableAmount"],
  operand: "docQueryObserve"
},
// Mobile observer for the full form block as it is completely replaced
{
  PageTypeDepend: "basket",
  method: "DocQuery",
  selector: "#checkoutForm",
  name: "__checkoutFormObserver",
  children: ["cart.skucount", "cart.totalPrice", "cart.totalPriceFinal", "cart.couponNotApplicable", "cart.skus", "cart.prices", "cart.quantities", "cart.categories", "cart.isempty", "cart.couponApplicableAmount"],
  operand: "docQueryObserve"
}, {
  PageTypeDepend: "purchase",
  method: "DocQuery",
  selector: "[class*=\"basket_summary_total\"], [class*=\"total_row\"]",
  name: "purchase.revenue",
  operand: "docQueryInnerText",
  formatter: "numericOnly"
}, {
  PageTypeDepend: "purchase",
  method: "DocQuery",
  selector: "[class*=\"order_follow_numb\"], [class*=\"cart-title-bottom\"]",
  name: "purchase.vvsTxnId",
  operand: "docQueryInnerText"
}, {
  PageTypeDepend: "purchase",
  method: "DocQuery",
  selector: ".payment_type_title, .cart-title-info",
  name: "purchase.paymentType",
  operand: "docQueryInnerText",
  formatter: "lowerCaseTRFirstWord"
}, {
  PageTypeDepend: "purchase",
  method: "DocQuery",
  selector: "[class*=\"product_sku_code\"]",
  name: "purchase.skus",
  operand: "docQueryArrayInnerText"
}, {
  PageTypeDepend: "purchase",
  method: "DocQuery",
  selector: ".cart-inside",
  name: "purchase.skus",
  operand: "docQueryAttribValueList",
  value: "data-sku"
},
// ----------------------------------------------------------------------------------------------------------------------------------------------
// SORG Elements
{
  PageTypeDepend: "Productpage",
  method: "DocSorg",
  selector: "sku",
  name: "pdp.sku"
}, {
  PageTypeDepend: "Productpage",
  method: "DocSorg",
  selector: "mpn",
  name: "pdp.mpn"
}, {
  PageTypeDepend: "Productpage",
  method: "DocSorg",
  selector: "name",
  name: "pdp.name",
  operand: "JSONFilterOther",
  value: "@type=Product"
}, {
  PageTypeDepend: "Productpage",
  method: "DocSorg",
  selector: "offers.priceValidUntil",
  name: "pdp.priceValidUntil"
}, {
  PageTypeDepend: "Productpage",
  method: "DocSorg",
  selector: "itemListElement.*.name",
  name: "view.breadcrumb"
}, {
  PageTypeDepend: "Listingpage",
  method: "DocSorg",
  selector: "mainEntity.name",
  name: "plp.name"
}, {
  PageTypeDepend: "Listingpage",
  method: "DocSorg",
  selector: "mainEntity.numberOfItems",
  name: "plp.itemCount"
}, {
  PageTypeDepend: "Listingpage",
  method: "DocSorg",
  selector: "breadcrumb.itemListElement.*.item.name",
  name: "view.breadcrumb"
},
// ----------------------------------------------------------------------------------------------------------------------------------------------
// Window custom elements
{
  PageTypeDepend: "*",
  method: "SingleWT",
  selector: "favoriteProducts",
  name: "view.favoritedMPNs"
}, {
  PageTypeDepend: "*",
  method: "SingleWT",
  selector: "isAdmin",
  name: "vvsIsShowroom",
  formatter: "toString"
}, {
  PageTypeDepend: "*",
  method: "SingleWT",
  selector: "userId",
  name: "vvsUserId"
}];
var featureEngineeringOps = {
  "view_epoch": [{
    updateMethod: "min"
  }, {
    queryMethod: "min",
    window: "session",
    featureName: "history.view_epoch_min"
  }],
  "PageType": [{
    updateMethod: "count_values"
  }, {
    queryMethod: "cv",
    window: "session",
    featureName: "history.PageType_count_session"
  }, {
    queryMethod: "cv",
    window: "alltime",
    featureName: "history.PageType_count_alltime"
  }],
  "cart.couponApplicableAmount": [{
    updateMethod: "last"
  }, {
    queryMethod: "last(1)",
    window: "session",
    featureName: "__features.lastCartCouponApplicable"
  }],
  "pdp.category": [{
    updateMethod: "count_values"
  }, {
    updateMethod: "last"
  }, {
    queryMethod: "mode",
    window: "session",
    featureName: "history.pdp_category_mode_session"
  }, {
    queryMethod: "last(1)",
    window: "session",
    featureName: "history.pdp_category_last_session"
  }],
  "cart.skus": [{
    updateMethod: "last"
  }, {
    queryMethod: "last(1)",
    window: "session",
    featureName: "__features.SKUsonLastCartView"
  }]
};
var increaseBeagleInfoLayerHWM = function increaseBeagleInfoLayerHWM() {
  var infoLayer = window.top.beagleInfoLayer;
  // update hwm to indicate change
  infoLayer.__hwm += 1;
};
var addToBeagleInfoLayer = function addToBeagleInfoLayer(key, value) {
  var infoLayer = window.top.beagleInfoLayer;
  if (key === null || key === undefined) return;
  // if value is string, add as a clean string, if object add the same
  var typedValue = typeof value === "string" ? value.toString().trim() : value;
  // if key contains . create nested object
  if (key.indexOf(".") > -1) {
    var keys = key.split(".");
    var lastKey = keys.pop();
    var obj = infoLayer;
    keys.forEach(function (key) {
      if (!obj[key]) obj[key] = {};
      obj = obj[key];
    });
    obj[lastKey] = typedValue;
  } else {
    infoLayer[key] = typedValue;
  }
  // update hwm to indicate change
  increaseBeagleInfoLayerHWM();
  // process dependent historical data for scan-found elements
  if (typedValue !== undefined && typedValue !== null) {
    updateDerivationsInCollector(key, typedValue);
    passValueToListeners(key, typedValue);
  }
};
var DATA_LISTENERS = {};
var addDataListener = function addDataListener(key, listener) {
  if (!DATA_LISTENERS[key]) {
    DATA_LISTENERS[key] = [];
  }
  DATA_LISTENERS[key].push(listener);
};
var passValueToListeners = function passValueToListeners(key, value) {
  var listeners = DATA_LISTENERS[key];
  if (listeners && Array.isArray(listeners) && listeners.length > 0) {
    for (var i = 0; i < listeners.length; i += 1) {
      var listener = listeners[i];
      if (typeof listener === "function") {
        BeagleInfoLayer_logger.log("passValueToListeners --> value ".concat(value, " to listener ").concat(i, " of key ").concat(key));
        listener(value);
      }
    }
  }
};
var getFromBeagleInfoLayer = function getFromBeagleInfoLayer(key) {
  var blocking = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var pollInterval = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 50;
  var timeout = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 10000;
  // TODO: check featureEngineering and search list if all marked as found but value is missing
  var infoLayer = window.top.beagleInfoLayer;
  // return null if key is missing or not an array or has no elements
  if (!key) return null;
  var obtainData = jsonGet(infoLayer, key);
  if (obtainData !== null && obtainData !== undefined) {
    // found data for key
    return Promise.resolve(obtainData);
  }
  var _iterator = BeagleInfoLayer_createForOfIteratorHelper(searchPaths),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var searchElement = _step.value;
      if (key === searchElement.name && (searchElement.isFound || searchElement.isIgnore)) {
        // data is missing but element is marked as found or ignored
        return Promise.resolve(null);
      }
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
  if (blocking) {
    return new Promise(function (resolve) {
      var interval = setInterval(function () {
        obtainData = jsonGet(infoLayer, key);
        if (obtainData !== null && obtainData !== undefined) {
          // found data for key, clear interval and resolve
          clearInterval(interval);
          resolve(obtainData);
        }
        var _iterator2 = BeagleInfoLayer_createForOfIteratorHelper(searchPaths),
          _step2;
        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var searchElement = _step2.value;
            if (key === searchElement.name && (searchElement.isFound || searchElement.isIgnore)) {
              // data is missing but element is marked as found or ignored
              clearInterval(interval);
              resolve(null);
            }
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
      }, pollInterval);
      // add timeout
      setTimeout(function () {
        clearInterval(interval);
        resolve(null);
      }, timeout); // wait blocking for "timeout" msecs
    });
  }

  return Promise.resolve(null);
};
var removeFromBeagleInfoLayer = function removeFromBeagleInfoLayer(key) {
  var infoLayer = window.top.beagleInfoLayer;
  if (key === null || key === undefined) return;
  // remove key from infoLayer
  if (key.indexOf(".") > -1) {
    var keys = key.split(".");
    var lastKey = keys.pop();
    var obj = infoLayer;
    keys.forEach(function (key) {
      if (!obj[key]) return;
      obj = obj[key];
    });
    BeagleInfoLayer_logger.log("removeFromBeagleInfoLayer", "Removing ".concat(lastKey, " from ").concat(JSON.stringify(obj)));
    delete obj[lastKey];
  } else {
    delete infoLayer[key];
  }
  increaseBeagleInfoLayerHWM();
  // process dependent historical data for scan-found elements
  updateDerivationsInCollector(key, null);
  passValueToListeners(key, null);
};
var addTreatment = function addTreatment(id, businessRuleId, variant, status) {
  var dependant_on_treatment = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
  var value = {};
  var infoLayer = window.top.beagleInfoLayer;
  if (businessRuleId !== null && businessRuleId !== undefined) value.businessRuleId = businessRuleId;
  if (variant) value.variant = variant;
  switch (status) {
    case "applied":
      infoLayer.a[id] = value;
      break;
    case "skipped":
      value.dependant_on_treatment = dependant_on_treatment;
      infoLayer.e[id] = value;
      break;
    case "failed":
      infoLayer.f[id] = value;
      break;
  }
  increaseBeagleInfoLayerHWM();
};
var PARSESEARCHMAXRETRY = 10;
var PARSESEARCHSTARTDELAY = 10;
var parseSearchPathsDelay = PARSESEARCHSTARTDELAY;
var parseSearchPathsRetry = 0;
var initializeBeagleInfoLayer = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee() {
    return regenerator_default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            // Collect core data
            prepareCoreData();

            // Trigger-start the parser loop
            parserCaller();

            // Add metrics
            addMetrics();
          case 3:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return function initializeBeagleInfoLayer() {
    return _ref.apply(this, arguments);
  };
}();
var collectDerivationsFromCollector = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2() {
    var baseFeatureNames, _i, _baseFeatureNames, baseFeatureName, FEData, _iterator3, _step3, FEOp, queryResponse;
    return regenerator_default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            baseFeatureNames = Object.keys(featureEngineeringOps);
            _i = 0, _baseFeatureNames = baseFeatureNames;
          case 2:
            if (!(_i < _baseFeatureNames.length)) {
              _context2.next = 30;
              break;
            }
            baseFeatureName = _baseFeatureNames[_i];
            FEData = featureEngineeringOps[baseFeatureName];
            if (!(FEData && Array.isArray(FEData) && FEData.length > 0)) {
              _context2.next = 27;
              break;
            }
            _iterator3 = BeagleInfoLayer_createForOfIteratorHelper(FEData);
            _context2.prev = 7;
            _iterator3.s();
          case 9:
            if ((_step3 = _iterator3.n()).done) {
              _context2.next = 19;
              break;
            }
            FEOp = _step3.value;
            if (!(FEOp.queryMethod === null || FEOp.queryMethod === undefined)) {
              _context2.next = 13;
              break;
            }
            return _context2.abrupt("continue", 17);
          case 13:
            _context2.next = 15;
            return queryInCollector(baseFeatureName, FEOp.queryMethod, FEOp.window);
          case 15:
            queryResponse = _context2.sent;
            addToBeagleInfoLayer(FEOp.featureName, queryResponse);
          case 17:
            _context2.next = 9;
            break;
          case 19:
            _context2.next = 24;
            break;
          case 21:
            _context2.prev = 21;
            _context2.t0 = _context2["catch"](7);
            _iterator3.e(_context2.t0);
          case 24:
            _context2.prev = 24;
            _iterator3.f();
            return _context2.finish(24);
          case 27:
            _i++;
            _context2.next = 2;
            break;
          case 30:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[7, 21, 24, 27]]);
  }));
  return function collectDerivationsFromCollector() {
    return _ref2.apply(this, arguments);
  };
}();
var updateDerivationsInCollector = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee3(baseFeatureName, baseFeatureValue) {
    var FEData, _iterator4, _step4, FEOp;
    return regenerator_default().wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            // process dependent historical data for scan-found elements
            FEData = featureEngineeringOps[baseFeatureName];
            if (!(FEData && Array.isArray(FEData) && FEData.length > 0)) {
              _context3.next = 21;
              break;
            }
            _iterator4 = BeagleInfoLayer_createForOfIteratorHelper(FEData);
            _context3.prev = 3;
            _iterator4.s();
          case 5:
            if ((_step4 = _iterator4.n()).done) {
              _context3.next = 13;
              break;
            }
            FEOp = _step4.value;
            if (!(FEOp.updateMethod === null || FEOp.updateMethod === undefined)) {
              _context3.next = 9;
              break;
            }
            return _context3.abrupt("continue", 11);
          case 9:
            _context3.next = 11;
            return updateInCollector(baseFeatureName, baseFeatureValue, FEOp.updateMethod);
          case 11:
            _context3.next = 5;
            break;
          case 13:
            _context3.next = 18;
            break;
          case 15:
            _context3.prev = 15;
            _context3.t0 = _context3["catch"](3);
            _iterator4.e(_context3.t0);
          case 18:
            _context3.prev = 18;
            _iterator4.f();
            return _context3.finish(18);
          case 21:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, null, [[3, 15, 18, 21]]);
  }));
  return function updateDerivationsInCollector(_x, _x2) {
    return _ref3.apply(this, arguments);
  };
}();
var processFormatter = function processFormatter(value, formatter) {
  if (value === null || value === undefined || !formatter) {
    return null;
  }
  switch (formatter) {
    case "upperCaseTR":
      return value.toString().toUpperCase("tr-TR");
    case "formatDeliveryDate":
      return formatDeliveryDate(value);
    case "numericOnly":
      return value.replace(/\D/g, "");
    case "lowerCaseTRFirstWord":
      return value.toString().toLowerCase("tr-TR").split(" ")[0];
    case "dearray":
      if (Array.isArray(value) && value.length > 0) {
        return value[0];
      }
      return value;
    case "toString":
      return value.toString().trim();
    default:
      return value;
  }
};
var searchObj = function searchObj(obj, searchElement) {
  var value;
  var layerValue;
  try {
    switch (searchElement.operand) {
      case "JSONFilterOther":
        {
          value = jsonGet(obj, searchElement.selector);
          if (value === null || value === undefined) {
            break;
          }
          var filterParams = searchElement.value.split("=");
          if (filterParams.length !== 2) break;
          var filterName = filterParams[0];
          var filterValue = filterParams[1];
          if (!filterName || !filterValue) break;
          var filterMatch = jsonGet(obj, filterName);
          if (!filterMatch || filterMatch !== filterValue) break;
          if (value && (Array.isArray(value) ? value.length > 0 : value.toString().trim().length > 0)) {
            layerValue = value;
          }
        }
        break;
      case "docQueryObserve":
        value = obj.querySelector(searchElement.selector);
        if (value !== null && value !== undefined) {
          searchElement.isFound = true;
          // update found status of the elements in the children list
          var toBeUpdated = [];
          searchElement.children.forEach(function (child) {
            var childElements = searchPaths.filter(function (element) {
              return element.name === child;
            });
            // add childElements into toBeUpdated
            toBeUpdated.push.apply(toBeUpdated, _toConsumableArray(childElements));
          });
          // run only if the element has added or removed children
          var observer = new MutationObserver( /*#__PURE__*/function () {
            var _ref4 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee4(mutationList) {
              var triggerRestart;
              return regenerator_default().wrap(function _callee4$(_context4) {
                while (1) {
                  switch (_context4.prev = _context4.next) {
                    case 0:
                      if (!isOwnMutation(mutationList)) {
                        _context4.next = 2;
                        break;
                      }
                      return _context4.abrupt("return");
                    case 2:
                      toBeUpdated.forEach(function (element) {
                        element.isFound = false;
                        removeFromBeagleInfoLayer(element.name);
                      });
                      triggerRestart = parseSearchPathsRetry >= PARSESEARCHMAXRETRY;
                      parseSearchPathsDelay = PARSESEARCHSTARTDELAY;
                      parseSearchPathsRetry = 0;
                      if (triggerRestart) {
                        BeagleInfoLayer_logger.log("searchObj: triggered a restart of searchpaths due: ", searchElement.name);
                        parserCaller();
                      }
                    case 7:
                    case "end":
                      return _context4.stop();
                  }
                }
              }, _callee4);
            }));
            return function (_x3) {
              return _ref4.apply(this, arguments);
            };
          }());
          observer.observe(value, {
            subtree: true,
            childList: true
          });
        }
        break;
      case "docQueryInnerText":
        value = obj.querySelector(searchElement.selector);
        if (value !== null && value !== undefined && value.innerText && value.innerText.trim().length > 0) {
          layerValue = value.innerText;
        }
        break;
      case "docQueryAttribValueList":
        {
          var attribValueList = [];
          value = obj.querySelectorAll(searchElement.selector);
          if (value === null || value === undefined || value.length === 0) break;
          var _iterator5 = BeagleInfoLayer_createForOfIteratorHelper(value),
            _step5;
          try {
            for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
              var valuechild = _step5.value;
              var attribValue = valuechild.getAttribute(searchElement.value);
              if (attribValue) {
                attribValueList.push(attribValue);
              }
            }
          } catch (err) {
            _iterator5.e(err);
          } finally {
            _iterator5.f();
          }
          if (attribValueList.length > 0) {
            layerValue = attribValueList;
          }
        }
        break;
      case "docQueryHasInnerText":
        value = obj.querySelector(searchElement.selector);
        if (value !== null && value !== undefined) {
          var setValue = value.innerText.trim().length > 0;
          layerValue = setValue.toString();
        }
        break;
      case "docQueryCountElts":
        value = obj.querySelectorAll(searchElement.selector);
        if (value !== null && value !== undefined) {
          layerValue = value.length;
        }
        break;
      case "docQueryValueIfHasInnerText":
        value = obj.querySelector(searchElement.selector);
        if (value && value.innerText && value.innerText.trim().length > 0) {
          layerValue = searchElement.value;
        }
        break;
      case "docQuerySumNumInnerText":
        {
          value = obj.querySelectorAll(searchElement.selector);
          if (value === null || value === undefined || value.length === 0) break;
          var sumPrice = 0;
          var _iterator6 = BeagleInfoLayer_createForOfIteratorHelper(value),
            _step6;
          try {
            for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
              var child = _step6.value;
              var childText = child.innerText.trim().replace(/\D/g, "");
              if (childText.length > 0) {
                sumPrice += parseInt(childText);
              }
            }
          } catch (err) {
            _iterator6.e(err);
          } finally {
            _iterator6.f();
          }
          if (sumPrice > 0) {
            layerValue = sumPrice;
          }
        }
        break;
      case "docQueryArrayInnerText":
        {
          value = obj.querySelectorAll(searchElement.selector);
          if (value === null || value === undefined || value.length === 0) break;
          var arrayInnerText = [];
          var _iterator7 = BeagleInfoLayer_createForOfIteratorHelper(value),
            _step7;
          try {
            for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
              var _child = _step7.value;
              var _childText = _child.innerText.trim();
              if (_childText.length > 0) {
                arrayInnerText.push(_childText);
              }
            }
          } catch (err) {
            _iterator7.e(err);
          } finally {
            _iterator7.f();
          }
          if (arrayInnerText.length > 0) {
            layerValue = arrayInnerText;
          }
        }
        break;
      default:
        value = jsonGet(obj, searchElement.selector);
        if (value !== null && value !== undefined && (Array.isArray(value) ? value.length > 0 : value.toString().trim().length > 0)) {
          layerValue = value;
        }
        break;
    } // switch

    if (layerValue !== undefined && layerValue !== null) {
      if (searchElement.formatter) {
        layerValue = processFormatter(layerValue, searchElement.formatter);
      }
      addToBeagleInfoLayer(searchElement.name, layerValue);
      searchElement.isFound = true;

      // mark exclusive elements as found
      if (searchElement.exclusive && Array.isArray(searchElement.exclusive) && searchElement.exclusive.length > 0) {
        var _iterator8 = BeagleInfoLayer_createForOfIteratorHelper(searchPaths),
          _step8;
        try {
          for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
            var exclusiveElement = _step8.value;
            if (searchElement.exclusive.includes(exclusiveElement.name)) {
              exclusiveElement.isFound = true;
            }
          }
        } catch (err) {
          _iterator8.e(err);
        } finally {
          _iterator8.f();
        }
      }
    }
    if (searchElement.isFound) {
      return true;
    }
  } catch (e) {
    BeagleInfoLayer_logger.error("searchObj error: " + e);
  }
  return false;
};
var customDataDerivations = /*#__PURE__*/function () {
  var _ref5 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee5() {
    var currentPageType, _yield$Promise$all, _yield$Promise$all2, isCartEmpty, totalBasePrice, couponNotApplicable, prices, quantities, totalPrice, i, couponApplicableAmount, sku, skuList;
    return regenerator_default().wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _context5.next = 2;
            return getFromBeagleInfoLayer("PageType", true, 50, 1000);
          case 2:
            currentPageType = _context5.sent;
            _context5.prev = 3;
            _context5.next = 6;
            return Promise.all([getFromBeagleInfoLayer("cart.isempty"), getFromBeagleInfoLayer("cart.totalBasePrice"), getFromBeagleInfoLayer("cart.couponNotApplicable"), getFromBeagleInfoLayer("cart.prices"), getFromBeagleInfoLayer("cart.quantities")]);
          case 6:
            _yield$Promise$all = _context5.sent;
            _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 5);
            isCartEmpty = _yield$Promise$all2[0];
            totalBasePrice = _yield$Promise$all2[1];
            couponNotApplicable = _yield$Promise$all2[2];
            prices = _yield$Promise$all2[3];
            quantities = _yield$Promise$all2[4];
            totalPrice = 0;
            if (!totalBasePrice && prices && Array.isArray(prices) && prices.length > 0 && quantities && Array.isArray(quantities) && quantities.length > 0 && prices.length === quantities.length) {
              for (i = 0; i < prices.length; i++) {
                totalPrice += parseInt(prices[i]) * parseInt(quantities[i]);
              }
            } else {
              totalPrice = parseInt(totalBasePrice);
            }
            couponApplicableAmount = 0;
            if (!isCartEmpty && totalPrice && couponNotApplicable) {
              couponApplicableAmount = totalPrice - parseInt(couponNotApplicable);
            } else if (!isCartEmpty && totalPrice) {
              couponApplicableAmount = parseInt(totalPrice);
            } else {
              couponApplicableAmount = 0;
            }
            addToBeagleInfoLayer("cart.couponApplicableAmount", couponApplicableAmount);
            if (isCartEmpty) {
              addToBeagleInfoLayer("cart.totalPrice", 0);
              addToBeagleInfoLayer("cart.couponNotApplicable", 0);
            }
            _context5.next = 24;
            break;
          case 21:
            _context5.prev = 21;
            _context5.t0 = _context5["catch"](3);
            BeagleInfoLayer_logger.error("customDataDerivations cannot compute couponApplicablePrice: " + _context5.t0);
          case 24:
            if (!(currentPageType === "Productpage")) {
              _context5.next = 33;
              break;
            }
            _context5.next = 27;
            return getFromBeagleInfoLayer("pdp.sku");
          case 27:
            sku = _context5.sent;
            if (!(sku !== null && sku !== undefined)) {
              _context5.next = 31;
              break;
            }
            _context5.next = 31;
            return addToBeagleInfoLayer("__features.SKUsonPage", [sku]);
          case 31:
            _context5.next = 40;
            break;
          case 33:
            if (!(currentPageType === "basket")) {
              _context5.next = 40;
              break;
            }
            _context5.next = 36;
            return getFromBeagleInfoLayer("cart.skus");
          case 36:
            skuList = _context5.sent;
            if (!(skuList !== null && Array.isArray(skuList) && skuList.length)) {
              _context5.next = 40;
              break;
            }
            _context5.next = 40;
            return addToBeagleInfoLayer("__features.SKUsonPage", skuList);
          case 40:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5, null, [[3, 21]]);
  }));
  return function customDataDerivations() {
    return _ref5.apply(this, arguments);
  };
}();
var parseSearchPaths = /*#__PURE__*/function () {
  var _ref6 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee6() {
    var domStatus, wintop, dataLayer, windoc, sorgArrayInner, foundNames, prevFoundNames, notFoundNames, currentPageType, _iterator9, _step9, searchElement, _iterator10, _step10, _searchElement, _iterator11, _step11, dataLayerItem, _iterator12, _step12, sorgItem;
    return regenerator_default().wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            domStatus = document.readyState; // check if document and dom is loaded and ready for scrapping
            BeagleInfoLayer_logger.log("parseSearchPaths initialized with dom status:  " + domStatus);
            wintop = window.top;
            dataLayer = wintop.dataLayer;
            windoc = wintop.document;
            foundNames = new Set();
            prevFoundNames = new Set();
            notFoundNames = new Set(); // PageType can be inferred from URL, if found use it from there
            _context6.next = 10;
            return getFromBeagleInfoLayer("PageType");
          case 10:
            currentPageType = _context6.sent;
            if (currentPageType) {
              prevFoundNames.add("PageType");
            }

            // Loop through search lists and mark found names
            _iterator9 = BeagleInfoLayer_createForOfIteratorHelper(searchPaths);
            try {
              for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {
                searchElement = _step9.value;
                if (searchElement.isFound) {
                  prevFoundNames.add(searchElement.name);
                }
              }
            } catch (err) {
              _iterator9.e(err);
            } finally {
              _iterator9.f();
            }
            _iterator10 = BeagleInfoLayer_createForOfIteratorHelper(searchPaths);
            _context6.prev = 15;
            _iterator10.s();
          case 17:
            if ((_step10 = _iterator10.n()).done) {
              _context6.next = 38;
              break;
            }
            _searchElement = _step10.value;
            if (!(_searchElement.isFound || _searchElement.isIgnore)) {
              _context6.next = 21;
              break;
            }
            return _context6.abrupt("continue", 36);
          case 21:
            if (!(foundNames.has(_searchElement.name) || prevFoundNames.has(_searchElement.name))) {
              _context6.next = 24;
              break;
            }
            // had already found this element on another parse item
            _searchElement.isFound = true;
            return _context6.abrupt("continue", 36);
          case 24:
            if (!(_searchElement.PageTypeDepend !== "*")) {
              _context6.next = 35;
              break;
            }
            if (currentPageType) {
              _context6.next = 32;
              break;
            }
            _context6.next = 28;
            return getFromBeagleInfoLayer("PageType");
          case 28:
            currentPageType = _context6.sent;
            if (currentPageType) {
              _context6.next = 32;
              break;
            }
            notFoundNames.add(_searchElement.name);
            return _context6.abrupt("continue", 36);
          case 32:
            if (!(_searchElement.PageTypeDepend.indexOf(currentPageType) < 0)) {
              _context6.next = 35;
              break;
            }
            // skip searchElement because of PageTypeDepend
            _searchElement.isIgnore = true;
            return _context6.abrupt("continue", 36);
          case 35:
            if (_searchElement.method === "SingleWT") {
              // SCAN Window for Single Elements
              searchAndSet(wintop, _searchElement, foundNames, notFoundNames);
            } else if (_searchElement.method === "GADataLayer") {
              // SCAN GA DATA LAYER
              _iterator11 = BeagleInfoLayer_createForOfIteratorHelper(dataLayer);
              try {
                for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {
                  dataLayerItem = _step11.value;
                  searchAndSet(dataLayerItem, _searchElement, foundNames, notFoundNames);
                }
              } catch (err) {
                _iterator11.e(err);
              } finally {
                _iterator11.f();
              }
            } else if (_searchElement.method === "DocSorg") {
              // SCAN SORG ARRAY
              if (!sorgArrayInner) {
                sorgArrayInner = getSORGArray();
              }
              _iterator12 = BeagleInfoLayer_createForOfIteratorHelper(sorgArrayInner);
              try {
                for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {
                  sorgItem = _step12.value;
                  searchAndSet(sorgItem, _searchElement, foundNames, notFoundNames);
                }
              } catch (err) {
                _iterator12.e(err);
              } finally {
                _iterator12.f();
              }
            } else if (_searchElement.method === "DocQuery") {
              // SCAN DOCUMENT
              searchAndSet(windoc, _searchElement, foundNames, notFoundNames);
            } // DOCQUERY parse
          case 36:
            _context6.next = 17;
            break;
          case 38:
            _context6.next = 43;
            break;
          case 40:
            _context6.prev = 40;
            _context6.t0 = _context6["catch"](15);
            _iterator10.e(_context6.t0);
          case 43:
            _context6.prev = 43;
            _iterator10.f();
            return _context6.finish(43);
          case 46:
            if (notFoundNames.size === 0) {
              parseSearchPathsRetry = PARSESEARCHMAXRETRY;
              BeagleInfoLayer_logger.log("parseSearchPaths found all elements - setting retry to max");
            } else if (foundNames.size === 0) {
              // update retry counter and delay only if dom is active
              if (domStatus === "complete" || domStatus === "interactive") {
                parseSearchPathsDelay *= 2;
                parseSearchPathsRetry += 1;
              }
              BeagleInfoLayer_logger.log("parseSearchPaths processed but not found any, setting delay and retry to " + parseSearchPathsDelay + " and " + parseSearchPathsRetry + " for notfound: [" + Array.from(notFoundNames).join(" | ") + "]");
            } else {
              BeagleInfoLayer_logger.log("parseSearchPaths processed: notfound: [" + Array.from(notFoundNames).join(" | ") + "] and found " + foundNames.size);
            }
          case 47:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6, null, [[15, 40, 43, 46]]);
  }));
  return function parseSearchPaths() {
    return _ref6.apply(this, arguments);
  };
}();
var searchAndSet = function searchAndSet(obj, searchElement, foundNames, notFoundNames) {
  if (searchObj(obj, searchElement)) {
    foundNames.add(searchElement.name);
  } else {
    notFoundNames.add(searchElement.name);
  }
};

// parse source
var parserCaller = /*#__PURE__*/function () {
  var _ref7 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee8() {
    return regenerator_default().wrap(function _callee8$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            _context8.next = 2;
            return parseSearchPaths();
          case 2:
            if (!(parseSearchPathsRetry < PARSESEARCHMAXRETRY)) {
              _context8.next = 7;
              break;
            }
            BeagleInfoLayer_logger.log("parseSearchPaths: scheduled to be recalled in " + parseSearchPathsDelay + "ms");
            setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee7() {
              return regenerator_default().wrap(function _callee7$(_context7) {
                while (1) {
                  switch (_context7.prev = _context7.next) {
                    case 0:
                      _context7.next = 2;
                      return parserCaller();
                    case 2:
                    case "end":
                      return _context7.stop();
                  }
                }
              }, _callee7);
            })), parseSearchPathsDelay);
            _context8.next = 13;
            break;
          case 7:
            BeagleInfoLayer_logger.log("parseSearchPaths: reached max retry, calling remainder historical data");
            _context8.next = 10;
            return customDataDerivations();
          case 10:
            _context8.next = 12;
            return collectDerivationsFromCollector();
          case 12:
            addToBeagleInfoLayer("__CompletedScraping", true);
          case 13:
          case "end":
            return _context8.stop();
        }
      }
    }, _callee8);
  }));
  return function parserCaller() {
    return _ref7.apply(this, arguments);
  };
}();

// Extract value from json object using given path
// If an element is *, concatenate recursively all sub-path values as string
var jsonGet = function jsonGet(obj, path) {
  if (!obj) return null;
  if (!path) return null;
  try {
    var pathArray = path.split(".");
    var current = obj;
    for (var i = 0; i < pathArray.length; i++) {
      if (current === null) return null;
      if (pathArray[i] === "*") {
        var subPath = pathArray.slice(i + 1).join(".");
        var subArray = [];
        for (var subKey in current) {
          if (current[subKey] !== undefined && current[subKey] !== null) {
            var subValue = jsonGet(current[subKey], subPath);
            if (subValue !== null && subValue !== undefined) {
              subArray.push(subValue);
            }
          }
        }
        return subArray;
      }
      current = current[pathArray[i]];
    }
    return current;
  } catch (e) {
    return null;
  }
};
var prepareCoreData = /*#__PURE__*/function () {
  var _ref9 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee9() {
    var _windowPtr$navigator, _windowPtr$navigator$, _windowPtr$navigator2, _windowPtr$navigator3, _windowPtr$screen, _windowPtr$screen2, _windowPtr$screen3, _windowPtr$screen4, _windowPtr$visualView, _windowPtr$visualView2, _windowPtr$history, _windowPtr$navigator4, _windowPtr$navigator5;
    var windowPtr, navPtr, platform, availWindow, windowDepth, vportShape, width, height, iOS, _windowPtr$screen5, _windowPtr$screen5$or, orientationAngle, temp, _navPtr$userAgentData, _navPtr$userAgentData2, _navPtr$userAgentData3, navAgent, currentURL, firstSessionReferrer, pageType;
    return regenerator_default().wrap(function _callee9$(_context9) {
      while (1) {
        switch (_context9.prev = _context9.next) {
          case 0:
            windowPtr = window.top;
            navPtr = windowPtr.navigator;
            platform = ((_windowPtr$navigator = windowPtr.navigator) === null || _windowPtr$navigator === void 0 ? void 0 : (_windowPtr$navigator$ = _windowPtr$navigator.userAgentData) === null || _windowPtr$navigator$ === void 0 ? void 0 : _windowPtr$navigator$.platform) || ((_windowPtr$navigator2 = windowPtr.navigator) === null || _windowPtr$navigator2 === void 0 ? void 0 : _windowPtr$navigator2.platform) || ((_windowPtr$navigator3 = windowPtr.navigator) === null || _windowPtr$navigator3 === void 0 ? void 0 : _windowPtr$navigator3.userAgent);
            addToBeagleInfoLayer("device.navPlatform", platform);

            /* window view area */
            addToBeagleInfoLayer("device.windowPRatio", windowPtr.devicePixelRatio);
            availWindow = ((_windowPtr$screen = windowPtr.screen) === null || _windowPtr$screen === void 0 ? void 0 : _windowPtr$screen.availWidth) + "x" + ((_windowPtr$screen2 = windowPtr.screen) === null || _windowPtr$screen2 === void 0 ? void 0 : _windowPtr$screen2.availHeight);
            addToBeagleInfoLayer("device.windowAvail", availWindow);
            windowDepth = ((_windowPtr$screen3 = windowPtr.screen) === null || _windowPtr$screen3 === void 0 ? void 0 : _windowPtr$screen3.colorDepth) + "-" + ((_windowPtr$screen4 = windowPtr.screen) === null || _windowPtr$screen4 === void 0 ? void 0 : _windowPtr$screen4.pixelDepth);
            addToBeagleInfoLayer("device.windowDepth", windowDepth);
            vportShape = ((_windowPtr$visualView = windowPtr.visualViewport) === null || _windowPtr$visualView === void 0 ? void 0 : _windowPtr$visualView.width) + "x" + ((_windowPtr$visualView2 = windowPtr.visualViewport) === null || _windowPtr$visualView2 === void 0 ? void 0 : _windowPtr$visualView2.height);
            addToBeagleInfoLayer("device.windowVport", vportShape);
            if (screen.width) {
              width = parseInt(screen.width);
              height = screen.height ? parseInt(screen.height) : 0;
              if (width !== 0 && height !== 0) {
                iOS = /iPad|iPhone|iPod/.test(platform);
                if (iOS && windowPtr.devicePixelRatio) {
                  // ios provides DPIs, need to multiply
                  width = Math.round(width * windowPtr.devicePixelRatio);
                  height = Math.round(height * windowPtr.devicePixelRatio);
                } else {
                  orientationAngle = (_windowPtr$screen5 = windowPtr.screen) === null || _windowPtr$screen5 === void 0 ? void 0 : (_windowPtr$screen5$or = _windowPtr$screen5.orientation) === null || _windowPtr$screen5$or === void 0 ? void 0 : _windowPtr$screen5$or.angle;
                  if (Math.abs(orientationAngle) === 90 || Math.abs(orientationAngle) === 270) {
                    // we have landscape orientation switch values for all except ios
                    temp = width;
                    width = height;
                    height = temp;
                  }
                }
                addToBeagleInfoLayer("device.window", width + "x" + height);
              }
            }

            /* navigator */
            addToBeagleInfoLayer("device.navHistSize", (_windowPtr$history = windowPtr.history) === null || _windowPtr$history === void 0 ? void 0 : _windowPtr$history.length);

            // check if userAgentData is supported and userAgent is not available, use it
            if (!navPtr.userAgent) {
              if (navPtr.userAgentData) {
                // turn brands array into string
                navAgent = navPtr === null || navPtr === void 0 ? void 0 : (_navPtr$userAgentData = navPtr.userAgentData) === null || _navPtr$userAgentData === void 0 ? void 0 : (_navPtr$userAgentData2 = _navPtr$userAgentData.brands) === null || _navPtr$userAgentData2 === void 0 ? void 0 : _navPtr$userAgentData2.map(function (e) {
                  return e.brand + ":" + e.version;
                }).join(); // add mobile info
                navAgent += navPtr !== null && navPtr !== void 0 && (_navPtr$userAgentData3 = navPtr.userAgentData) !== null && _navPtr$userAgentData3 !== void 0 && _navPtr$userAgentData3.mobile ? "mobi" : " ";
                // add platform info
                navAgent += platform;
                addToBeagleInfoLayer("device.navAgent", navAgent);
              }
            } else {
              addToBeagleInfoLayer("device.navAgent", navPtr.userAgent);
            }
            addToBeagleInfoLayer("device.navHWCores", navPtr.hardwareConcurrency);
            addToBeagleInfoLayer("device.navLanguage", navPtr.language || navPtr.browserLanguage || navPtr.systemLanguage || navPtr.userLanguage);
            addToBeagleInfoLayer("device.navTouch", navPtr.maxTouchPoints);
            addToBeagleInfoLayer("device.navVendor", navPtr.vendor);
            addToBeagleInfoLayer("device.internetSpeed", (_windowPtr$navigator4 = windowPtr.navigator) === null || _windowPtr$navigator4 === void 0 ? void 0 : (_windowPtr$navigator5 = _windowPtr$navigator4.connection) === null || _windowPtr$navigator5 === void 0 ? void 0 : _windowPtr$navigator5.downlink);

            /* miscellaneous */
            currentURL = new URL(window.top.location.href);
            addToBeagleInfoLayer("u", currentURL.href);
            addToBeagleInfoLayer("d", currentURL.hostname);
            addToBeagleInfoLayer("donttrack", navPtr.doNotTrack || windowPtr.doNotTrack || navPtr.msDoNotTrack);
            addToBeagleInfoLayer("r", windowPtr.document.referrer);
            firstSessionReferrer = sessionStorage.getItem(SESSION_STORAGE_KEYS.SESSION_REFERRER);
            if (!firstSessionReferrer) {
              sessionStorage.setItem(SESSION_STORAGE_KEYS.SESSION_REFERRER, windowPtr.document.referrer);
              addToBeagleInfoLayer("fr", windowPtr.document.referrer);
            } else {
              addToBeagleInfoLayer("fr", firstSessionReferrer);
            }

            /* Vivense specific */

            // if url like x then set PageType = y
            if (currentURL.pathname.indexOf("favorilerim.html") > -1) {
              pageType = "favorites";
            } else if (currentURL.pathname.indexOf("siparis-listesi.html") > -1) {
              pageType = "basket";
            } else if (currentURL.pathname.indexOf("siparis-ozeti.html") > -1) {
              pageType = "purchase";
            } else if (currentURL.pathname.indexOf("odeme.html") > -1) {
              pageType = "payment";
            } else if (currentURL.pathname.indexOf("adres-listesi.html") > -1) {
              pageType = "address";
            } else if (currentURL.pathname.indexOf("siparislerim.html") > -1) {
              pageType = "pastorders";
            } else if (currentURL.pathname.indexOf("uye-kayit.html") > -1) {
              pageType = "register";
            } else if (currentURL.pathname.indexOf("uye-girisi.html") > -1) {
              pageType = "signin";
            } else if (currentURL.pathname.indexOf("kuponlarim.html") > -1) {
              pageType = "profile_coupons";
            } else if (currentURL.pathname.indexOf("profil-guncelle.html") > -1) {
              pageType = "profile_info";
            } else if (currentURL.pathname.indexOf("adreslerim.html") > -1) {
              pageType = "profile_addresses";
            } else if (currentURL.pathname.indexOf("duyuru-tercihleri.html") > -1) {
              pageType = "profile_notifications";
            } else if (currentURL.pathname.indexOf("indirimli-mobilya-kampanyalari.html") > -1) {
              pageType = "special_campaigns";
            }
            if (pageType) {
              addToBeagleInfoLayer("PageType", pageType);
            }
          case 28:
          case "end":
            return _context9.stop();
        }
      }
    }, _callee9);
  }));
  return function prepareCoreData() {
    return _ref9.apply(this, arguments);
  };
}();
var addMetrics = function addMetrics() {
  var windowPtr = window.top;
  var perfMetrics = {};
  var perfNavigationMetrics = windowPtr.performance.getEntriesByType("navigation")[0];
  if (windowPtr.performance && perfNavigationMetrics) {
    perfMetrics.connect = Math.round(perfNavigationMetrics.connectEnd - perfNavigationMetrics.connectStart);
    perfMetrics.request = Math.round(perfNavigationMetrics.responseEnd - perfNavigationMetrics.requestStart);
    perfMetrics.dom = Math.round(perfNavigationMetrics.domInteractive - perfNavigationMetrics.domComplete);
    perfMetrics.load = Math.round(perfNavigationMetrics.loadEventEnd - perfNavigationMetrics.loadEventStart);
    perfMetrics.duration = Math.round(perfNavigationMetrics.duration);
  }
  addToBeagleInfoLayer("metrics", perfMetrics);
};

// TODO: move this to an "element collector" module, then data is extracted from pre-collected elements
var getSORGArray = function getSORGArray() {
  var schemaOrgElts = window.top.document.querySelectorAll("[type=\"application/ld+json\"]");
  var sorgArray = [];
  var _iterator13 = BeagleInfoLayer_createForOfIteratorHelper(schemaOrgElts),
    _step13;
  try {
    for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {
      var sTag = _step13.value;
      try {
        var cntnt = sTag.textContent;
        var jsoncontent = JSON.parse(cntnt);
        sorgArray.push(jsoncontent);
      } catch (err) {
        // do nothing
      }
    }
  } catch (err) {
    _iterator13.e(err);
  } finally {
    _iterator13.f();
  }
  return sorgArray;
};
;// CONCATENATED MODULE: ./src/BeagleMonitor/index.js








var BeagleMonitor_logger = new src_logger("BeagleMonitor");
var HEADERS = {
  type: "text/plain"
};
var Monitor = /*#__PURE__*/function () {
  function Monitor() {
    _classCallCheck(this, Monitor);
    BeagleMonitor_logger.log("Initializing monitor");
    this.hasArrivalLogSent = false;
    this.hasMainLogSent = false;
    this.hasUpdatesSent = false;
    this.highWaterMark = null;
    this.initializeExitEventListeners();
  }

  // Attempts to send the initial log body (beagleInfoLayer's initial population) immediately
  _createClass(Monitor, [{
    key: "sendLogs",
    value: function () {
      var _sendLogs = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee(immediate) {
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!immediate) {
                  _context.next = 6;
                  break;
                }
                BeagleMonitor_logger.log("In immediate sending block");
                _context.next = 4;
                return this.packAndQueueMainLog();
              case 4:
                _context.next = 12;
                break;
              case 6:
                BeagleMonitor_logger.log("In non-critical send path - awaiting scraping");
                _context.next = 9;
                return getFromBeagleInfoLayer("__CompletedScraping", true, 50, 1000);
              case 9:
                BeagleMonitor_logger.log("In non-critical send path - sending logs");
                _context.next = 12;
                return this.packAndQueueMainLog();
              case 12:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));
      function sendLogs(_x) {
        return _sendLogs.apply(this, arguments);
      }
      return sendLogs;
    }() // Send initial log body and incremental update logs on close
  }, {
    key: "handleCloseEvent",
    value: function () {
      var _handleCloseEvent = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2() {
        return regenerator_default().wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this.packAndQueueMainLog();
              case 2:
                _context2.next = 4;
                return this.packAndQueueIncrementalLog();
              case 4:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));
      function handleCloseEvent() {
        return _handleCloseEvent.apply(this, arguments);
      }
      return handleCloseEvent;
    }()
  }, {
    key: "packAndQueueMainLog",
    value: function () {
      var _packAndQueueMainLog = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee3() {
        var requestBlob;
        return regenerator_default().wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                if (!this.hasMainLogSent) {
                  _context3.next = 2;
                  break;
                }
                return _context3.abrupt("return");
              case 2:
                _context3.next = 4;
                return this.packageMainLogData();
              case 4:
                requestBlob = _context3.sent;
                if (!requestBlob) {
                  _context3.next = 11;
                  break;
                }
                _context3.next = 8;
                return this.checkForLatestChanges();
              case 8:
                BeagleMonitor_logger.log("Request blob to send: ", requestBlob);
                this.hasMainLogSent = true;
                this.queueLogs(requestBlob);
              case 11:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));
      function packAndQueueMainLog() {
        return _packAndQueueMainLog.apply(this, arguments);
      }
      return packAndQueueMainLog;
    }()
  }, {
    key: "packAndQueueIncrementalLog",
    value: function () {
      var _packAndQueueIncrementalLog = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee4() {
        var hasChanged, logData;
        return regenerator_default().wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (!(!this.hasMainLogSent || this.hasUpdatesSent)) {
                  _context4.next = 2;
                  break;
                }
                return _context4.abrupt("return");
              case 2:
                _context4.next = 4;
                return this.checkForLatestChanges();
              case 4:
                hasChanged = _context4.sent;
                BeagleMonitor_logger.log("Update logs change status: ", hasChanged);
                if (hasChanged) {
                  _context4.next = 8;
                  break;
                }
                return _context4.abrupt("return");
              case 8:
                _context4.next = 10;
                return this.packageIncrementalLogData();
              case 10:
                logData = _context4.sent;
                if (logData) {
                  BeagleMonitor_logger.log("Sending incremental logs", logData);
                  this.hasUpdatesSent = true;
                  this.queueLogs(logData);
                }
              case 12:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));
      function packAndQueueIncrementalLog() {
        return _packAndQueueIncrementalLog.apply(this, arguments);
      }
      return packAndQueueIncrementalLog;
    }()
  }, {
    key: "packAndQueueArrivalLog",
    value: function () {
      var _packAndQueueArrivalLog = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee5() {
        var requestBlob;
        return regenerator_default().wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (!(this.hasMainLogSent || this.hasArrivalLogSent)) {
                  _context5.next = 2;
                  break;
                }
                return _context5.abrupt("return");
              case 2:
                _context5.next = 4;
                return this.packageArrivalLogData();
              case 4:
                requestBlob = _context5.sent;
                if (requestBlob) {
                  // prepare change detection hashes at the time of main log preparation
                  BeagleMonitor_logger.log("Arrival blob to send: ", requestBlob);
                  this.hasArrivalLogSent = true;
                  this.queueLogs(requestBlob);
                }
              case 6:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));
      function packAndQueueArrivalLog() {
        return _packAndQueueArrivalLog.apply(this, arguments);
      }
      return packAndQueueArrivalLog;
    }()
  }, {
    key: "checkForLatestChanges",
    value: function () {
      var _checkForLatestChanges = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee6() {
        var hwm;
        return regenerator_default().wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _context6.next = 2;
                return getFromBeagleInfoLayer("__hwm");
              case 2:
                hwm = _context6.sent;
                if (!(this.highWaterMark !== hwm)) {
                  _context6.next = 6;
                  break;
                }
                this.highWaterMark = hwm;
                return _context6.abrupt("return", true);
              case 6:
                return _context6.abrupt("return", false);
              case 7:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));
      function checkForLatestChanges() {
        return _checkForLatestChanges.apply(this, arguments);
      }
      return checkForLatestChanges;
    }()
  }, {
    key: "packageArrivalLogData",
    value: function () {
      var _packageArrivalLogData = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee7() {
        var _yield$Promise$all, _yield$Promise$all2, url, hash, cookieGaId, view_epoch, body;
        return regenerator_default().wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.next = 2;
                return Promise.all([getFromBeagleInfoLayer("u"), getFromBeagleInfoLayer("onHashPct"), getFromBeagleInfoLayer("cookieGaId"), getFromBeagleInfoLayer("view_epoch")]);
              case 2:
                _yield$Promise$all = _context7.sent;
                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 4);
                url = _yield$Promise$all2[0];
                hash = _yield$Promise$all2[1];
                cookieGaId = _yield$Promise$all2[2];
                view_epoch = _yield$Promise$all2[3];
                body = {
                  cookieGaId: cookieGaId,
                  lc: 0,
                  view_epoch: view_epoch,
                  u: url,
                  onHashPct: hash
                };
                BeagleMonitor_logger.log("Arrival log data: ", body);
                return _context7.abrupt("return", new Blob([JSON.stringify(body)], HEADERS));
              case 11:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7);
      }));
      function packageArrivalLogData() {
        return _packageArrivalLogData.apply(this, arguments);
      }
      return packageArrivalLogData;
    }()
  }, {
    key: "packageMainLogData",
    value: function () {
      var _packageMainLogData = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee8() {
        var body, _i, _Object$entries, _Object$entries$_i, key, value;
        return regenerator_default().wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                body = {};
                if (window.beagleInfoLayer) {
                  _context8.next = 3;
                  break;
                }
                return _context8.abrupt("return", null);
              case 3:
                for (_i = 0, _Object$entries = Object.entries(window.beagleInfoLayer); _i < _Object$entries.length; _i++) {
                  _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), key = _Object$entries$_i[0], value = _Object$entries$_i[1];
                  if (!key.startsWith("_") && value !== null) body[key] = value;
                }
                body.lc = 1;
                return _context8.abrupt("return", new Blob([JSON.stringify(body)], HEADERS));
              case 6:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8);
      }));
      function packageMainLogData() {
        return _packageMainLogData.apply(this, arguments);
      }
      return packageMainLogData;
    }()
  }, {
    key: "packageIncrementalLogData",
    value: function () {
      var _packageIncrementalLogData = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee9() {
        var _yield$Promise$all3, _yield$Promise$all4, a, e, f, s, m, cookieGaId, view_epoch, body;
        return regenerator_default().wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                _context9.next = 2;
                return Promise.all([getFromBeagleInfoLayer("a"), getFromBeagleInfoLayer("e"), getFromBeagleInfoLayer("f"), getFromBeagleInfoLayer("s"), getFromBeagleInfoLayer("m"), getFromBeagleInfoLayer("cookieGaId"), getFromBeagleInfoLayer("view_epoch")]);
              case 2:
                _yield$Promise$all3 = _context9.sent;
                _yield$Promise$all4 = _slicedToArray(_yield$Promise$all3, 7);
                a = _yield$Promise$all4[0];
                e = _yield$Promise$all4[1];
                f = _yield$Promise$all4[2];
                s = _yield$Promise$all4[3];
                m = _yield$Promise$all4[4];
                cookieGaId = _yield$Promise$all4[5];
                view_epoch = _yield$Promise$all4[6];
                body = {
                  cookieGaId: cookieGaId,
                  lc: 2,
                  view_epoch: view_epoch,
                  a: a,
                  e: e,
                  f: f,
                  s: s,
                  m: m
                };
                BeagleMonitor_logger.log("Update log data: ", body);
                return _context9.abrupt("return", new Blob([JSON.stringify(body)], HEADERS));
              case 14:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee9);
      }));
      function packageIncrementalLogData() {
        return _packageIncrementalLogData.apply(this, arguments);
      }
      return packageIncrementalLogData;
    }()
  }, {
    key: "initializeExitEventListeners",
    value: function initializeExitEventListeners() {
      var _this = this;
      var visibilityChangeTimeout = null;
      BeagleMonitor_logger.log("Initializing exit event listener");
      window.addEventListener("beforeunload", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee10() {
        return regenerator_default().wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                BeagleMonitor_logger.log("In beforeunload event");
                clearTimeout(visibilityChangeTimeout);
                _context10.next = 4;
                return _this.handleCloseEvent();
              case 4:
              case "end":
                return _context10.stop();
            }
          }
        }, _callee10);
      })), {
        capture: true
      });
      window.addEventListener("pagehide", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee11() {
        return regenerator_default().wrap(function _callee11$(_context11) {
          while (1) {
            switch (_context11.prev = _context11.next) {
              case 0:
                BeagleMonitor_logger.log("In pagehide event");
                clearTimeout(visibilityChangeTimeout);
                _context11.next = 4;
                return _this.handleCloseEvent();
              case 4:
              case "end":
                return _context11.stop();
            }
          }
        }, _callee11);
      })), {
        capture: true
      });
      window.addEventListener("visibilitychange", function () {
        if (window.top.document.visibilityState === "hidden") {
          // If page is not visible and doesn't become visible within 30 seconds, send logs
          visibilityChangeTimeout = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee12() {
            return regenerator_default().wrap(function _callee12$(_context12) {
              while (1) {
                switch (_context12.prev = _context12.next) {
                  case 0:
                    BeagleMonitor_logger.log("In timeout");
                    _context12.next = 3;
                    return _this.handleCloseEvent();
                  case 3:
                  case "end":
                    return _context12.stop();
                }
              }
            }, _callee12);
          })), 30000);
          return;
        }
        // Clear timeout when page is visible to make sure we send the latest logs possible
        clearTimeout(visibilityChangeTimeout);
        visibilityChangeTimeout = null;
      }, {
        capture: true
      });
    }
  }, {
    key: "queueLogs",
    value: function queueLogs(logData) {
      if (!navigator.sendBeacon || typeof navigator.sendBeacon !== "function") {
        fetch(LOG_API_URL, logData);
        return;
      }
      var queued = navigator.sendBeacon(LOG_API_URL, logData);
      var queueInterval = setInterval(function () {
        if (!queued) queued = navigator.sendBeacon(LOG_API_URL, logData);else {
          clearInterval(queueInterval);
          BeagleMonitor_logger.log("Logs queued successfully");
        }
      }, 10);
      if (queued) return;
      setTimeout(function () {
        clearInterval(queueInterval);
        if (!queued) {
          BeagleMonitor_logger.log("Logs not queued");
        }
      }, 1000);
    }
  }]);
  return Monitor;
}();
/* harmony default export */ var BeagleMonitor = (Monitor);
;// CONCATENATED MODULE: ./src/BeagleTreatmentRepository/index.js




function BeagleTreatmentRepository_createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = BeagleTreatmentRepository_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function BeagleTreatmentRepository_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return BeagleTreatmentRepository_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return BeagleTreatmentRepository_arrayLikeToArray(o, minLen); }
function BeagleTreatmentRepository_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }




var BeagleTreatmentRepository_logger = new src_logger("BeagleTreatmentRepository");
var TreatmentRepository = /*#__PURE__*/function () {
  function TreatmentRepository(body) {
    _classCallCheck(this, TreatmentRepository);
    var treatments = body.treatments,
      treatmentWeights = body.treatmentWeights;
    this.treatments = treatments;
    this.treatmentWeights = treatmentWeights;
    this.currentPageType = null;
  }
  _createClass(TreatmentRepository, [{
    key: "getMatchedTreatments",
    value: function () {
      var _getMatchedTreatments = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee(debugMode) {
        var _CPT,
          _this = this;
        var CPT, matchedTreatments, treatments, treatmentWeights, userSegment, userSegmentWeights, _iterator, _step, _userSegmentWeights$t, treatment, segmentedWeight, _userSegmentWeights$t2, _iterator2, _step2, action, _i, _Object$keys, _userSegmentWeights$t3, _userSegmentWeights$t4, variantKey;
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return getFromBeagleInfoLayer("__eRules.PageType", true);
              case 2:
                CPT = _context.sent;
                CPT = ((_CPT = CPT) === null || _CPT === void 0 ? void 0 : _CPT[0]) || null;
                if (CPT) {
                  _context.next = 6;
                  break;
                }
                return _context.abrupt("return", []);
              case 6:
                this.currentPageType = CPT;
                matchedTreatments = window.sessionStorage.getItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS);
                if (!matchedTreatments) {
                  _context.next = 22;
                  break;
                }
                _context.prev = 9;
                _context.next = 12;
                return JSON.parse(matchedTreatments);
              case 12:
                matchedTreatments = _context.sent;
                matchedTreatments = matchedTreatments.filter(function (mt) {
                  return _this.checkPageType(mt.pageTypes);
                });
                BeagleTreatmentRepository_logger.log("".concat(matchedTreatments.length, " treatments user segment matched"));
                return _context.abrupt("return", matchedTreatments);
              case 18:
                _context.prev = 18;
                _context.t0 = _context["catch"](9);
                BeagleTreatmentRepository_logger.failed("Error getting matched robots:", _context.t0.message);
                return _context.abrupt("return", []);
              case 22:
                matchedTreatments = [];
                treatments = this.treatments, treatmentWeights = this.treatmentWeights;
                _context.next = 26;
                return getFromBeagleInfoLayer("s");
              case 26:
                userSegment = _context.sent;
                if (userSegment) {
                  _context.next = 29;
                  break;
                }
                return _context.abrupt("return", null);
              case 29:
                if (!treatmentWeights) {
                  _context.next = 76;
                  break;
                }
                userSegmentWeights = treatmentWeights[userSegment];
                if (userSegmentWeights) {
                  _context.next = 33;
                  break;
                }
                return _context.abrupt("return", []);
              case 33:
                _iterator = BeagleTreatmentRepository_createForOfIteratorHelper(treatments);
                _context.prev = 34;
                _iterator.s();
              case 36:
                if ((_step = _iterator.n()).done) {
                  _context.next = 68;
                  break;
                }
                treatment = _step.value;
                segmentedWeight = (_userSegmentWeights$t = userSegmentWeights[treatment.id]) === null || _userSegmentWeights$t === void 0 ? void 0 : _userSegmentWeights$t.weight;
                if (segmentedWeight) {
                  _context.next = 43;
                  break;
                }
                if (treatment.dependant_on_treatment) {
                  segmentedWeight = (_userSegmentWeights$t2 = userSegmentWeights[treatment.dependant_on_treatment]) === null || _userSegmentWeights$t2 === void 0 ? void 0 : _userSegmentWeights$t2.weight;
                } else if (debugMode && debugMode === 1) segmentedWeight = 100;
                if (segmentedWeight) {
                  _context.next = 43;
                  break;
                }
                return _context.abrupt("continue", 66);
              case 43:
                treatment.weight = segmentedWeight;
                if (treatment.actions.some(function (a) {
                  return a.variants;
                })) {
                  _context.next = 47;
                  break;
                }
                matchedTreatments.push(treatment);
                return _context.abrupt("continue", 66);
              case 47:
                _iterator2 = BeagleTreatmentRepository_createForOfIteratorHelper(treatment.actions);
                _context.prev = 48;
                _iterator2.s();
              case 50:
                if ((_step2 = _iterator2.n()).done) {
                  _context.next = 57;
                  break;
                }
                action = _step2.value;
                if (action.variants) {
                  _context.next = 54;
                  break;
                }
                return _context.abrupt("continue", 55);
              case 54:
                for (_i = 0, _Object$keys = Object.keys(action.variants); _i < _Object$keys.length; _i++) {
                  variantKey = _Object$keys[_i];
                  if ((_userSegmentWeights$t3 = userSegmentWeights[treatment.id]) !== null && _userSegmentWeights$t3 !== void 0 && _userSegmentWeights$t3.variants && (_userSegmentWeights$t4 = userSegmentWeights[treatment.id]) !== null && _userSegmentWeights$t4 !== void 0 && _userSegmentWeights$t4.variants[variantKey]) {
                    action.variants[variantKey].weight = userSegmentWeights[treatment.id].variants[variantKey];
                  }
                }
              case 55:
                _context.next = 50;
                break;
              case 57:
                _context.next = 62;
                break;
              case 59:
                _context.prev = 59;
                _context.t1 = _context["catch"](48);
                _iterator2.e(_context.t1);
              case 62:
                _context.prev = 62;
                _iterator2.f();
                return _context.finish(62);
              case 65:
                matchedTreatments.push(treatment);
              case 66:
                _context.next = 36;
                break;
              case 68:
                _context.next = 73;
                break;
              case 70:
                _context.prev = 70;
                _context.t2 = _context["catch"](34);
                _iterator.e(_context.t2);
              case 73:
                _context.prev = 73;
                _iterator.f();
                return _context.finish(73);
              case 76:
                window.sessionStorage.setItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS, JSON.stringify(matchedTreatments));
                _context.next = 79;
                return this.getMatchedTreatments(debugMode);
              case 79:
                return _context.abrupt("return", _context.sent);
              case 80:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[9, 18], [34, 70, 73, 76], [48, 59, 62, 65]]);
      }));
      function getMatchedTreatments(_x) {
        return _getMatchedTreatments.apply(this, arguments);
      }
      return getMatchedTreatments;
    }()
  }, {
    key: "checkPageType",
    value: function checkPageType(pageTypes) {
      var currentPageType = this.currentPageType;
      if (pageTypes === null || pageTypes === undefined) return true;
      if (!Array.isArray(pageTypes)) {
        BeagleTreatmentRepository_logger.failed("Page Types should be an array");
        return false;
      }
      if (pageTypes[0].startsWith("!")) {
        pageTypes = pageTypes.map(function (pt) {
          return pt.substr(1);
        });
        return !pageTypes.includes(currentPageType);
      }
      return pageTypes.includes(currentPageType);
    }
  }], [{
    key: "getTreatments",
    value: function () {
      var _getTreatments = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2() {
        var TREATMENTS, treatmentsObj, treatments, timestamp, treatmentWithTimestamp, elapsedHours, _treatmentWithTimestamp;
        return regenerator_default().wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                BeagleTreatmentRepository_logger.log("Loading treatments");
                TREATMENTS = LOCAL_STORAGE_KEYS.TREATMENTS;
                treatmentsObj = JSON.parse(window.localStorage.getItem(TREATMENTS));
                treatments = treatmentsObj === null || treatmentsObj === void 0 ? void 0 : treatmentsObj.treatments;
                timestamp = treatmentsObj === null || treatmentsObj === void 0 ? void 0 : treatmentsObj.timestamp;
                if (!(!treatments || !timestamp)) {
                  _context2.next = 17;
                  break;
                }
                BeagleTreatmentRepository_logger.failed("Treatments not found in local storage");
                _context2.next = 9;
                return fetchTreatments();
              case 9:
                treatments = _context2.sent;
                if (treatments) {
                  _context2.next = 13;
                  break;
                }
                BeagleTreatmentRepository_logger.failed("Failed to fetch treatments");
                return _context2.abrupt("return", null);
              case 13:
                treatmentWithTimestamp = {
                  timestamp: Date.now(),
                  treatments: treatments
                };
                window.localStorage.setItem(TREATMENTS, JSON.stringify(treatmentWithTimestamp));
                window.sessionStorage.removeItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS);
                return _context2.abrupt("return", treatments);
              case 17:
                if (!timestamp) {
                  _context2.next = 31;
                  break;
                }
                elapsedHours = (Date.now() - timestamp) / (1000 * 3600);
                if (!(elapsedHours > LOCAL_STORAGE_TTL_HOURS)) {
                  _context2.next = 31;
                  break;
                }
                BeagleTreatmentRepository_logger.failed("Treatments are expired");
                _context2.next = 23;
                return fetchTreatments();
              case 23:
                treatments = _context2.sent;
                if (treatments) {
                  _context2.next = 27;
                  break;
                }
                BeagleTreatmentRepository_logger.failed("Failed to fetch treatments");
                return _context2.abrupt("return", null);
              case 27:
                _treatmentWithTimestamp = {
                  timestamp: Date.now(),
                  treatments: treatments
                };
                window.localStorage.setItem(TREATMENTS, JSON.stringify(_treatmentWithTimestamp));
                window.sessionStorage.removeItem(SESSION_STORAGE_KEYS.MATCHED_TREATMENTS);
                return _context2.abrupt("return", treatments);
              case 31:
                BeagleTreatmentRepository_logger.success("Treatments are loaded from local storage");
                return _context2.abrupt("return", treatments);
              case 33:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2);
      }));
      function getTreatments() {
        return _getTreatments.apply(this, arguments);
      }
      return getTreatments;
    }()
  }, {
    key: "getTreatmentWeights",
    value: function () {
      var _getTreatmentWeights = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee3() {
        var weightsObj, elapsedHours;
        return regenerator_default().wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.prev = 0;
                weightsObj = window.localStorage.getItem(LOCAL_STORAGE_KEYS.WEIGHTS);
                if (!weightsObj) {
                  _context3.next = 8;
                  break;
                }
                weightsObj = JSON.parse(weightsObj);
                if (!weightsObj.timestamp) {
                  _context3.next = 8;
                  break;
                }
                elapsedHours = (Date.now() - weightsObj.timestamp) / (1000 * 3600);
                if (!(elapsedHours < LOCAL_STORAGE_TTL_HOURS)) {
                  _context3.next = 8;
                  break;
                }
                return _context3.abrupt("return", weightsObj.weights);
              case 8:
                _context3.next = 10;
                return fetchTreatmentWeights();
              case 10:
                weightsObj = _context3.sent;
                if (weightsObj) {
                  _context3.next = 14;
                  break;
                }
                BeagleTreatmentRepository_logger.failed("Failed to fetch weights");
                return _context3.abrupt("return", null);
              case 14:
                weightsObj = {
                  weights: weightsObj,
                  timestamp: Date.now()
                };
                window.localStorage.setItem(LOCAL_STORAGE_KEYS.WEIGHTS, JSON.stringify(weightsObj));
                return _context3.abrupt("return", weightsObj.weights);
              case 19:
                _context3.prev = 19;
                _context3.t0 = _context3["catch"](0);
                BeagleTreatmentRepository_logger.warn(_context3.t0.message);
                return _context3.abrupt("return", null);
              case 23:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, null, [[0, 19]]);
      }));
      function getTreatmentWeights() {
        return _getTreatmentWeights.apply(this, arguments);
      }
      return getTreatmentWeights;
    }()
  }]);
  return TreatmentRepository;
}();
/* harmony default export */ var BeagleTreatmentRepository = (TreatmentRepository);
;// CONCATENATED MODULE: ./src/stringUtils.js
var replaceAll = function replaceAll(str, find) {
  var replace = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "";
  if (!str) return "";
  var index = str.indexOf(find);
  if (index < 0) return str;
  while (str.indexOf(find) >= 0) {
    var _index = str.indexOf(find);
    str = (_index > 0 ? str.substring(0, _index) : "") + replace + str.substring(_index + find.length);
  }
  return str;
};
var turkishToLower = function turkishToLower(str) {
  if (!str || typeof str !== "string") return str;
  var string = str;
  var letters = {
    "İ": "i",
    "I": "ı",
    "Ş": "ş",
    "Ğ": "ğ",
    "Ü": "ü",
    "Ö": "ö",
    "Ç": "ç"
  };
  string = string.replace(/(([İIŞĞÜÇÖ]))/g, function (letter) {
    return letters[letter];
  });
  return string.toLowerCase();
};
;// CONCATENATED MODULE: ./src/BeagleApplyActions/replace-utils.js




function replace_utils_createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = replace_utils_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function replace_utils_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return replace_utils_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return replace_utils_arrayLikeToArray(o, minLen); }
function replace_utils_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }



var replace_utils_logger = new src_logger("ReplaceUtils");
var replacer = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee(value, replaceFn) {
    var _iterator, _step, _step$value, i, val, currentReplaceFn, replaceVal, _iterator2, _step2, rFn, _replaceVal, _replaceVal2;
    return regenerator_default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!Array.isArray(value)) {
              _context.next = 27;
              break;
            }
            _iterator = replace_utils_createForOfIteratorHelper(value.entries());
            _context.prev = 2;
            _iterator.s();
          case 4:
            if ((_step = _iterator.n()).done) {
              _context.next = 17;
              break;
            }
            _step$value = _slicedToArray(_step.value, 2), i = _step$value[0], val = _step$value[1];
            currentReplaceFn = Array.isArray(replaceFn) ? replaceFn[i] : replaceFn || "";
            if (!(_typeof(currentReplaceFn) === "object")) {
              _context.next = 14;
              break;
            }
            _context.next = 10;
            return replaceObjectExtractor(currentReplaceFn);
          case 10:
            replaceVal = _context.sent;
            value[i] = replaceAll(val, "{{REPLACE}}", replaceVal);
            _context.next = 15;
            break;
          case 14:
            value[i] = replaceFnExecutor(currentReplaceFn, val);
          case 15:
            _context.next = 4;
            break;
          case 17:
            _context.next = 22;
            break;
          case 19:
            _context.prev = 19;
            _context.t0 = _context["catch"](2);
            _iterator.e(_context.t0);
          case 22:
            _context.prev = 22;
            _iterator.f();
            return _context.finish(22);
          case 25:
            _context.next = 61;
            break;
          case 27:
            if (!Array.isArray(replaceFn)) {
              _context.next = 53;
              break;
            }
            _iterator2 = replace_utils_createForOfIteratorHelper(replaceFn);
            _context.prev = 29;
            _iterator2.s();
          case 31:
            if ((_step2 = _iterator2.n()).done) {
              _context.next = 43;
              break;
            }
            rFn = _step2.value;
            if (!(_typeof(rFn) === "object")) {
              _context.next = 40;
              break;
            }
            _context.next = 36;
            return replaceObjectExtractor(rFn);
          case 36:
            _replaceVal = _context.sent;
            value = value.replace("{{REPLACE}}", _replaceVal);
            _context.next = 41;
            break;
          case 40:
            value = replaceFnExecutor(rFn, value, true);
          case 41:
            _context.next = 31;
            break;
          case 43:
            _context.next = 48;
            break;
          case 45:
            _context.prev = 45;
            _context.t1 = _context["catch"](29);
            _iterator2.e(_context.t1);
          case 48:
            _context.prev = 48;
            _iterator2.f();
            return _context.finish(48);
          case 51:
            _context.next = 61;
            break;
          case 53:
            if (!(_typeof(replaceFn) === "object")) {
              _context.next = 60;
              break;
            }
            _context.next = 56;
            return replaceObjectExtractor(replaceFn);
          case 56:
            _replaceVal2 = _context.sent;
            value = replaceAll(value, "{{REPLACE}}", _replaceVal2);
            _context.next = 61;
            break;
          case 60:
            value = replaceFnExecutor(replaceFn, value);
          case 61:
            return _context.abrupt("return", value);
          case 62:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[2, 19, 22, 25], [29, 45, 48, 51]]);
  }));
  return function replacer(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();
function replaceFnExecutor(replaceFn, value) {
  var single = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  if (replaceFn && value.includes("{{REPLACE}}")) {
    replace_utils_logger.log("Executing replace function: ", replaceFn);
    var replaceFunction = Function(replaceFn);
    if (single) return value.replace("{{REPLACE}}", replaceFunction());
    return replaceAll(value, "{{REPLACE}}", replaceFunction());
  }
  return value;
}
function replaceObjectExtractor(_x3) {
  return _replaceObjectExtractor.apply(this, arguments);
}
function _replaceObjectExtractor() {
  _replaceObjectExtractor = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2(replaceFn) {
    var storage, key, keyFallback, type, replaceVal, _replaceVal3;
    return regenerator_default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            storage = replaceFn.storage, key = replaceFn.key, keyFallback = replaceFn.keyFallback, type = replaceFn.type;
            _context2.t0 = storage;
            _context2.next = _context2.t0 === "session" ? 4 : _context2.t0 === "info-layer" ? 18 : 26;
            break;
          case 4:
            replaceVal = null;
            replaceVal = window.sessionStorage.getItem(key);
            if (!replaceVal) replaceVal = window.sessionStorage.getItem(keyFallback);
            if (!type) {
              _context2.next = 17;
              break;
            }
            _context2.prev = 8;
            replaceVal = JSON.parse(replaceVal);
            replaceVal = replaceVal[replaceVal.length - 1][type];
            _context2.next = 17;
            break;
          case 13:
            _context2.prev = 13;
            _context2.t1 = _context2["catch"](8);
            replace_utils_logger.failed("Could not parse ".concat(replaceVal));
            return _context2.abrupt("return", null);
          case 17:
            return _context2.abrupt("return", replaceVal);
          case 18:
            _context2.next = 20;
            return getFromBeagleInfoLayer(key);
          case 20:
            _replaceVal3 = _context2.sent;
            if (_replaceVal3) {
              _context2.next = 25;
              break;
            }
            _context2.next = 24;
            return getFromBeagleInfoLayer(keyFallback);
          case 24:
            _replaceVal3 = _context2.sent;
          case 25:
            return _context2.abrupt("return", _replaceVal3);
          case 26:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[8, 13]]);
  }));
  return _replaceObjectExtractor.apply(this, arguments);
}
/* harmony default export */ var replace_utils = (replacer);
;// CONCATENATED MODULE: ./src/GlovProductInfoRepository/store.config.js
var store_config_config = {
  dbName: "beagle_cache",
  version: 1,
  store: {
    name: "infoCache",
    indexes: [{
      name: "ix_sku",
      fields: "sku"
    }],
    options: {
      keyPath: "sku"
    }
  }
};
/* harmony default export */ var GlovProductInfoRepository_store_config = (store_config_config);
;// CONCATENATED MODULE: ./src/GlovProductInfoRepository/index.js





function GlovProductInfoRepository_createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = GlovProductInfoRepository_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function GlovProductInfoRepository_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return GlovProductInfoRepository_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return GlovProductInfoRepository_arrayLikeToArray(o, minLen); }
function GlovProductInfoRepository_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }




var GlovProductInfoRepository_logger = new src_logger("GlovProductInfoRepository");
var GlovProductInfoRepository = /*#__PURE__*/function () {
  function GlovProductInfoRepository() {
    _classCallCheck(this, GlovProductInfoRepository);
    this.indexedDB = null;
    this.init();
  }
  _createClass(GlovProductInfoRepository, [{
    key: "init",
    value: function init() {
      var _window$top$indexedDB,
        _this = this;
      GlovProductInfoRepository_logger.log("Initializing indexedDB");
      var openRequest = (_window$top$indexedDB = window.top.indexedDB) === null || _window$top$indexedDB === void 0 ? void 0 : _window$top$indexedDB.open(GlovProductInfoRepository_store_config.dbName, GlovProductInfoRepository_store_config.version);
      if (!openRequest) {
        throw new Error("indexeddb is not supported");
      }
      openRequest.onupgradeneeded = function (event) {
        switch (event.oldVersion) {
          case 0:
            break;
          default:
            // TODO upgrade existing db instead of delete and create from scratch
            try {
              openRequest.result.deleteObjectStore(GlovProductInfoRepository_store_config.store.name);
            } catch (err) {
              GlovProductInfoRepository_logger.failed("Could not delete outdated database", err.message);
            }
            break;
        }
        try {
          var _config$store$indexes;
          var store = openRequest.result.createObjectStore(GlovProductInfoRepository_store_config.store.name, GlovProductInfoRepository_store_config.store.options);
          if (((_config$store$indexes = GlovProductInfoRepository_store_config.store.indexes) === null || _config$store$indexes === void 0 ? void 0 : _config$store$indexes.length) > 0) {
            var _iterator = GlovProductInfoRepository_createForOfIteratorHelper(GlovProductInfoRepository_store_config.store.indexes),
              _step;
            try {
              for (_iterator.s(); !(_step = _iterator.n()).done;) {
                var idx = _step.value;
                store.createIndex(idx.name, idx.fields);
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }
          }
        } catch (err) {
          GlovProductInfoRepository_logger.failed("Could not create object store on database", err.message);
        }
      };
      openRequest.onerror = function () {
        throw new Error("Error initializing beagle_cache indexed DB", openRequest.error);
      };
      openRequest.onsuccess = function () {
        _this.indexedDB = openRequest.result;
      };
    }
  }, {
    key: "getConnection",
    value: function getConnection() {
      var _this2 = this;
      return new Promise(function (resolve, reject) {
        var interval = setInterval(function () {
          if (_this2.indexedDB) {
            clearInterval(interval);
            resolve();
          }
        }, 25);
        setTimeout(function () {
          if (!_this2.indexedDB) {
            clearInterval(interval);
            reject(new Error("IndexedDB not initialized within the allotted time"));
          }
        }, 1000);
      });
    }
  }, {
    key: "initTransaction",
    value: function () {
      var _initTransaction = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee() {
        var readwrite,
          tx,
          _args = arguments;
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                readwrite = _args.length > 0 && _args[0] !== undefined ? _args[0] : false;
                _context.next = 3;
                return this.getConnection();
              case 3:
                tx = this.indexedDB.transaction(GlovProductInfoRepository_store_config.store.name, readwrite ? "readwrite" : "readonly");
                return _context.abrupt("return", tx.objectStore(GlovProductInfoRepository_store_config.store.name));
              case 5:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));
      function initTransaction() {
        return _initTransaction.apply(this, arguments);
      }
      return initTransaction;
    }()
  }, {
    key: "save",
    value: function () {
      var _save = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2(payload) {
        var store, timestamp, _iterator2, _step2, load;
        return regenerator_default().wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this.initTransaction(true);
              case 2:
                store = _context2.sent;
                timestamp = Math.round(Date.now() / 1000);
                if (Array.isArray(payload)) {
                  _iterator2 = GlovProductInfoRepository_createForOfIteratorHelper(payload);
                  try {
                    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
                      load = _step2.value;
                      load.timestamp = timestamp;
                      store.put(load);
                    }
                  } catch (err) {
                    _iterator2.e(err);
                  } finally {
                    _iterator2.f();
                  }
                } else {
                  payload.timestamp = timestamp;
                  store.put(payload);
                }
              case 5:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));
      function save(_x) {
        return _save.apply(this, arguments);
      }
      return save;
    }()
  }, {
    key: "clear",
    value: function () {
      var _clear = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee3() {
        var _this3 = this;
        return regenerator_default().wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                return _context3.abrupt("return", new Promise(function (resolve) {
                  _this3.initTransaction(true).then(function (store) {
                    var clearRequest = store.clear();
                    clearRequest.onsuccess = function () {
                      resolve();
                    };
                    clearRequest.onerror = function () {
                      GlovProductInfoRepository_logger.failed("Error clearing store: ".concat(store.name));
                      resolve(null);
                    };
                  });
                }));
              case 1:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3);
      }));
      function clear() {
        return _clear.apply(this, arguments);
      }
      return clear;
    }()
  }, {
    key: "get",
    value: function () {
      var _get = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee4(sku) {
        var _this4 = this;
        return regenerator_default().wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                return _context4.abrupt("return", new Promise(function (resolve) {
                  _this4.initTransaction().then(function (store) {
                    var getRequest = store.get(sku);
                    getRequest.onsuccess = function () {
                      var result = getRequest.result;
                      GlovProductInfoRepository_logger.log("Found value ".concat(result, " for key ").concat(sku));
                      resolve(result);
                    };
                    getRequest.onerror = function () {
                      GlovProductInfoRepository_logger.failed("Error getting value for key: ".concat(sku), getRequest.onerror);
                      resolve(null);
                    };
                  });
                }));
              case 1:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4);
      }));
      function get(_x2) {
        return _get.apply(this, arguments);
      }
      return get;
    }()
  }, {
    key: "count",
    value: function () {
      var _count = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee5() {
        var _this5 = this;
        return regenerator_default().wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                return _context5.abrupt("return", new Promise(function (resolve) {
                  _this5.initTransaction().then(function (store) {
                    var countRequest = store.count();
                    countRequest.onsuccess = function () {
                      var result = countRequest.result;
                      GlovProductInfoRepository_logger.log("Counted ".concat(result, " entries"));
                      resolve(result);
                    };
                    countRequest.onerror = function () {
                      GlovProductInfoRepository_logger.failed("Error counting entries: ", countRequest.onerror);
                      resolve(null);
                    };
                  });
                }));
              case 1:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5);
      }));
      function count() {
        return _count.apply(this, arguments);
      }
      return count;
    }()
  }, {
    key: "getCursor",
    value: function () {
      var _getCursor = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee6() {
        var _this6 = this;
        return regenerator_default().wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                return _context6.abrupt("return", new Promise(function (resolve) {
                  _this6.initTransaction().then(function (store) {
                    var cursorRequest = store.openCursor();
                    cursorRequest.onsuccess = function (event) {
                      resolve(event.target.result);
                    };
                    cursorRequest.onerror = function () {
                      GlovProductInfoRepository_logger.failed("Error getting cursor", cursorRequest.onerror);
                      resolve(null);
                    };
                  });
                }));
              case 1:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6);
      }));
      function getCursor() {
        return _getCursor.apply(this, arguments);
      }
      return getCursor;
    }()
  }, {
    key: "persistProductInfo",
    value: function () {
      var _persistProductInfo = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee7() {
        var existingProdInfo, cursor, timestamp, elapsedSeconds, productInfoPromise, clearPromise, _yield$Promise$all, _yield$Promise$all2, productInfoArray;
        return regenerator_default().wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                addToBeagleInfoLayer("m", "check-existing-prod-info");
                _context7.next = 3;
                return this.count();
              case 3:
                existingProdInfo = _context7.sent;
                if (!existingProdInfo) {
                  _context7.next = 14;
                  break;
                }
                GlovProductInfoRepository_logger.log("Existing product info found");
                _context7.next = 8;
                return this.getCursor();
              case 8:
                cursor = _context7.sent;
                timestamp = cursor.value.timestamp;
                elapsedSeconds = Date.now() / 1000 - timestamp; // Re-fetch product info once a day
                if (!(elapsedSeconds < 86400)) {
                  _context7.next = 13;
                  break;
                }
                return _context7.abrupt("return");
              case 13:
                GlovProductInfoRepository_logger.log("Existing product info is expired");
              case 14:
                addToBeagleInfoLayer("m", "fetching-prod-info");
                productInfoPromise = fetchProductInfo();
                clearPromise = this.clear();
                _context7.next = 19;
                return Promise.all([productInfoPromise, clearPromise]);
              case 19:
                _yield$Promise$all = _context7.sent;
                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 1);
                productInfoArray = _yield$Promise$all2[0];
                if (!(!productInfoArray || !productInfoArray.length)) {
                  _context7.next = 24;
                  break;
                }
                return _context7.abrupt("return");
              case 24:
                addToBeagleInfoLayer("m", "fetched-prod-info");
                _context7.next = 27;
                return this.save(this.preparePayloads(productInfoArray));
              case 27:
                addToBeagleInfoLayer("m", "persisted-prod-info");
              case 28:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));
      function persistProductInfo() {
        return _persistProductInfo.apply(this, arguments);
      }
      return persistProductInfo;
    }()
  }, {
    key: "preparePayloads",
    value: function preparePayloads(productInfoArray) {
      var payloads = [];
      var fieldNames = productInfoArray.shift();
      fieldNames.shift();
      var _iterator3 = GlovProductInfoRepository_createForOfIteratorHelper(productInfoArray),
        _step3;
      try {
        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
          var info = _step3.value;
          var payload = {
            sku: info.shift()
          };
          for (var i = 0; i < fieldNames.length; i++) {
            payload[fieldNames[i]] = info[i] || 0;
          }
          payloads.push(payload);
        }
      } catch (err) {
        _iterator3.e(err);
      } finally {
        _iterator3.f();
      }
      return payloads;
    }
  }]);
  return GlovProductInfoRepository;
}();
/* harmony default export */ var src_GlovProductInfoRepository = (GlovProductInfoRepository);
;// CONCATENATED MODULE: ./src/GlovProductInfoRepository/store.js

var Store = function () {
  var instance = null;
  return {
    getInstance: function getInstance() {
      if (instance === null) {
        instance = new src_GlovProductInfoRepository();
        // Hide the constructor so the returned object can't be new'd...
        instance.constructor = null;
      }
      return instance;
    }
  };
}();
/* harmony default export */ var store = (Store);
;// CONCATENATED MODULE: ./src/BeagleApplyActions/action-condition-util.js





var action_condition_util_logger = new src_logger("ActionConditionUtils");
var checkActionCondition = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee(condition) {
    var eligibleElements, attribute, inner_condition, operator, selector, type, value, chain, conditionElements, _i, _conditionElements, element;
    return regenerator_default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            action_condition_util_logger.log("Action condition found: ", condition);
            eligibleElements = [];
            attribute = condition.attribute, inner_condition = condition.inner_condition, operator = condition.operator, selector = condition.selector, type = condition.type, value = condition.value, chain = condition.chain;
            conditionElements = Array.from(window.top.document.querySelectorAll(selector));
            _i = 0, _conditionElements = conditionElements;
          case 5:
            if (!(_i < _conditionElements.length)) {
              _context.next = 14;
              break;
            }
            element = _conditionElements[_i];
            _context.next = 9;
            return actionConditionChecker(element, type, operator, attribute, inner_condition, value, chain);
          case 9:
            if (!_context.sent) {
              _context.next = 11;
              break;
            }
            eligibleElements.push($(element));
          case 11:
            _i++;
            _context.next = 5;
            break;
          case 14:
            return _context.abrupt("return", eligibleElements);
          case 15:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return function checkActionCondition(_x) {
    return _ref.apply(this, arguments);
  };
}();
var actionConditionChecker = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2(element, type, operator, attribute, inner_condition, value, chain) {
    var elementSku, productInfo, runTimeValue, res, _runTimeValue, _res;
    return regenerator_default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.t0 = type;
            _context2.next = _context2.t0 === "productInfoLookup" ? 3 : 20;
            break;
          case 3:
            elementSku = element.getAttribute(attribute);
            _context2.next = 6;
            return store.getInstance().get(elementSku);
          case 6:
            productInfo = _context2.sent;
            runTimeValue = productInfo === null || productInfo === void 0 ? void 0 : productInfo[operator]; // runTimeValue may be 0
            if (!(runTimeValue === null || runTimeValue === undefined)) {
              _context2.next = 11;
              break;
            }
            action_condition_util_logger.failed("Product info is empty");
            return _context2.abrupt("return", false);
          case 11:
            if (conditionChecker(runTimeValue, inner_condition, value)) {
              _context2.next = 13;
              break;
            }
            return _context2.abrupt("return", false);
          case 13:
            if (!chain) {
              _context2.next = 19;
              break;
            }
            _context2.next = 16;
            return actionConditionChecker(element, chain.type, chain.operator, chain.attribute, chain.inner_condition, chain.value, chain.chain);
          case 16:
            res = _context2.sent;
            if (res) {
              _context2.next = 19;
              break;
            }
            return _context2.abrupt("return", false);
          case 19:
            return _context2.abrupt("break", 29);
          case 20:
            _runTimeValue = element.getAttribute(attribute);
            if (conditionChecker(_runTimeValue, inner_condition, value)) {
              _context2.next = 23;
              break;
            }
            return _context2.abrupt("return", false);
          case 23:
            if (!chain) {
              _context2.next = 29;
              break;
            }
            _context2.next = 26;
            return actionConditionChecker(element, chain.type, chain.operator, chain.attribute, chain.inner_condition, chain.value, chain.chain);
          case 26:
            _res = _context2.sent;
            if (_res) {
              _context2.next = 29;
              break;
            }
            return _context2.abrupt("return", false);
          case 29:
            return _context2.abrupt("return", true);
          case 30:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return function actionConditionChecker(_x2, _x3, _x4, _x5, _x6, _x7, _x8) {
    return _ref2.apply(this, arguments);
  };
}();
/* harmony default export */ var action_condition_util = (checkActionCondition);
// EXTERNAL MODULE: ./out/GlovAiClientSDK/bundle.js
var bundle = __webpack_require__(63);
;// CONCATENATED MODULE: ./src/BeagleApplyActions/index.js



function BeagleApplyActions_createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = BeagleApplyActions_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function BeagleApplyActions_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return BeagleApplyActions_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return BeagleApplyActions_arrayLikeToArray(o, minLen); }
function BeagleApplyActions_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }









function applyActions(_x) {
  return _applyActions.apply(this, arguments);
}
function _applyActions() {
  _applyActions = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee8(actions) {
    var logger, POPUP_DISPLAY_FLAG, transformer, prepareDescElm, prepareFinalTitle, replaceWithVal, getProductInfo, handleDocumentTitleTabChange, handlePopupClick, handleModalClick, displayPopup, displayModal, createPopup, swapNodes, waitForJQuery, actionApplicator, result;
    return regenerator_default().wrap(function _callee8$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            logger = new src_logger("BeagleApplyActions");
            POPUP_DISPLAY_FLAG = SESSION_STORAGE_KEYS.POPUP_DISPLAY_FLAG;
            transformer = /*#__PURE__*/function () {
              var _transformer = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee(action) {
                var element,
                  operator,
                  type,
                  applyEvent,
                  contentSelector,
                  selector,
                  selectorFallback,
                  mdCondition,
                  move_selector_1,
                  move_selector_2,
                  replaceFn,
                  pType,
                  attribute,
                  productInfoStorage,
                  value,
                  mc,
                  elm,
                  mobile,
                  _iterator,
                  _step,
                  event,
                  _yield$Promise$all,
                  _yield$Promise$all2,
                  r,
                  d,
                  styleChangesMap,
                  _iterator2,
                  _step2,
                  _event,
                  property,
                  propertyValue,
                  n1,
                  n2,
                  source,
                  destination,
                  res,
                  _i,
                  _Array$from,
                  _e$innerText,
                  e,
                  finalTitle,
                  descriptionElm,
                  _args = arguments;
                return regenerator_default().wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        element = _args.length > 1 && _args[1] !== undefined ? _args[1] : null;
                        logger.log("Applying action: ", JSON.stringify(action));
                        operator = action.operator, type = action.type, applyEvent = action.applyEvent, contentSelector = action.contentSelector, selector = action.selector, selectorFallback = action.selectorFallback, mdCondition = action.mdCondition, move_selector_1 = action.move_selector_1, move_selector_2 = action.move_selector_2, replaceFn = action.replaceFn, pType = action.pType, attribute = action.attribute, productInfoStorage = action.productInfoStorage;
                        if (!(operator === "noop")) {
                          _context.next = 6;
                          break;
                        }
                        logger.failed("Noop Operator: No operation is applied on target ");
                        return _context.abrupt("return", true);
                      case 6:
                        value = action.value; // If an element is passed to transformer, selector is relative to passed element
                        element = element ? element.find(selector) : $(selector);
                        mc = mdCondition ? window.matchMedia(mdCondition).matches : true;
                        if (mc) {
                          _context.next = 12;
                          break;
                        }
                        logger.failed("Media condition mismatch: ", mdCondition);
                        return _context.abrupt("return", false);
                      case 12:
                        if (!(move_selector_1 && !move_selector_2 || move_selector_2 && !move_selector_1)) {
                          _context.next = 15;
                          break;
                        }
                        logger.failed("Both move selectors are required");
                        return _context.abrupt("return", false);
                      case 15:
                        if (!(move_selector_1 && move_selector_2)) {
                          _context.next = 24;
                          break;
                        }
                        if ($(move_selector_1).length) {
                          _context.next = 19;
                          break;
                        }
                        logger.failed("Move selector 1 not found: ", move_selector_1);
                        return _context.abrupt("return", false);
                      case 19:
                        if ($(move_selector_2).length) {
                          _context.next = 22;
                          break;
                        }
                        logger.failed("Move selector 2 not found: ", move_selector_2);
                        return _context.abrupt("return", false);
                      case 22:
                        _context.next = 39;
                        break;
                      case 24:
                        if (selector) {
                          _context.next = 29;
                          break;
                        }
                        logger.failed("Selector not specified");
                        return _context.abrupt("return", false);
                      case 29:
                        if (element.length) {
                          _context.next = 39;
                          break;
                        }
                        if (!(!$(selectorFallback).length && operator === "remove")) {
                          _context.next = 32;
                          break;
                        }
                        return _context.abrupt("return", true);
                      case 32:
                        if (!(selector !== "no-selector")) {
                          _context.next = 39;
                          break;
                        }
                        logger.failed("Selector not found: ", selector);
                        logger.log("Trying fallback selector: ", selectorFallback);
                        if (selectorFallback) element = $(selectorFallback);
                        if (element.length) {
                          _context.next = 39;
                          break;
                        }
                        logger.failed("Fallback selector not found");
                        return _context.abrupt("return", false);
                      case 39:
                        if (!replaceFn) {
                          _context.next = 43;
                          break;
                        }
                        _context.next = 42;
                        return replace_utils(value, replaceFn);
                      case 42:
                        value = _context.sent;
                      case 43:
                        if (!(operator === "remove")) {
                          _context.next = 47;
                          break;
                        }
                        if (element.length) {
                          logger.log("Removing: ", selector);
                          element.remove();
                        } else logger.log("Cannot found element with selector: ", selector);
                        _context.next = 234;
                        break;
                      case 47:
                        if (!(operator === "insert")) {
                          _context.next = 121;
                          break;
                        }
                        _context.t0 = type;
                        _context.next = _context.t0 === "before" ? 51 : _context.t0 === "after" ? 55 : _context.t0 === "append" ? 58 : _context.t0 === "modal" ? 61 : _context.t0 === "popup" ? 66 : 117;
                        break;
                      case 51:
                        logger.log("Inserting before: ", value);
                        if (String(value).includes("nd-add-to-win")) {
                          $(".nd-add-to-win").remove();
                        }
                        element.before(value);
                        return _context.abrupt("break", 119);
                      case 55:
                        logger.log("Inserting after: ", value);
                        element.after(value);
                        return _context.abrupt("break", 119);
                      case 58:
                        logger.log("Appending value: ", value);
                        element.append(value);
                        return _context.abrupt("break", 119);
                      case 61:
                        element.off("click");
                        createPopup(value, contentSelector, true);
                        elm = document.querySelector(selector);
                        elm.addEventListener("click", function (e) {
                          if (elm == e.target) {
                            e.stopPropagation();
                          }
                          displayModal(value, contentSelector);
                        }, true);
                        return _context.abrupt("break", 119);
                      case 66:
                        if (!(parseInt(sessionStorage.getItem(POPUP_DISPLAY_FLAG)) !== 0)) {
                          _context.next = 69;
                          break;
                        }
                        logger.log("Popup already displayed in session");
                        return _context.abrupt("break", 119);
                      case 69:
                        logger.log("Creating Popup: ", value);
                        if (!pType) {
                          _context.next = 74;
                          break;
                        }
                        _context.next = 73;
                        return getProductInfo(pType, value, productInfoStorage);
                      case 73:
                        value = _context.sent;
                      case 74:
                        createPopup(value, contentSelector);
                        if (!applyEvent) {
                          _context.next = 115;
                          break;
                        }
                        mobile = window.matchMedia(MOBILE_MEDIA_QUERY).matches;
                        _iterator = BeagleApplyActions_createForOfIteratorHelper(applyEvent);
                        _context.prev = 78;
                        _iterator.s();
                      case 80:
                        if ((_step = _iterator.n()).done) {
                          _context.next = 105;
                          break;
                        }
                        event = _step.value;
                        _context.t1 = event;
                        _context.next = _context.t1 === "exitIntent" ? 85 : _context.t1 === "copyIntent" ? 100 : 103;
                        break;
                      case 85:
                        logger.log("Adding exit intent listener");
                        if (!mobile) {
                          _context.next = 98;
                          break;
                        }
                        window.top.addEventListener("visibilitychange", displayPopup);
                        _context.next = 90;
                        return Promise.all([getFromBeagleInfoLayer("r", true), getFromBeagleInfoLayer("d", true)]);
                      case 90:
                        _yield$Promise$all = _context.sent;
                        _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);
                        r = _yield$Promise$all2[0];
                        d = _yield$Promise$all2[1];
                        if (typeof r === "string" && typeof d === "string" && !r.includes(d)) {
                          if (window.history && typeof window.history.pushState === "function") {
                            if (window.top.document.readyState !== "complete") {
                              window.top.addEventListener("load", function () {
                                if (window.history.state !== "bg_limbo") window.history.pushState("bg_limbo", "");
                                window.top.addEventListener("popstate", displayPopup, {
                                  once: true
                                });
                              });
                            } else {
                              if (window.history.state !== "bg_limbo") window.history.pushState("bg_limbo", "");
                              window.top.addEventListener("popstate", displayPopup, {
                                once: true
                              });
                            }
                          }
                        }
                        idleTimer(IDLE_TIMEOUT, displayPopup);
                        _context.next = 99;
                        break;
                      case 98:
                        window.top.document.documentElement.addEventListener("mouseleave", displayPopup, {
                          once: true
                        });
                      case 99:
                        return _context.abrupt("break", 103);
                      case 100:
                        logger.log("Adding copy intent listener");
                        window.top.document.documentElement.addEventListener("copy", displayPopup, {
                          once: true
                        });
                        return _context.abrupt("break", 103);
                      case 103:
                        _context.next = 80;
                        break;
                      case 105:
                        _context.next = 110;
                        break;
                      case 107:
                        _context.prev = 107;
                        _context.t2 = _context["catch"](78);
                        _iterator.e(_context.t2);
                      case 110:
                        _context.prev = 110;
                        _iterator.f();
                        return _context.finish(110);
                      case 113:
                        _context.next = 116;
                        break;
                      case 115:
                        // append popup to body after timeout expires
                        setTimeout(function () {
                          displayPopup();
                        }, timeout);
                      case 116:
                        return _context.abrupt("break", 119);
                      case 117:
                        logger.failed("Type: ".concat(type, " not found for operator: ").concat(operator));
                        return _context.abrupt("break", 119);
                      case 119:
                        _context.next = 234;
                        break;
                      case 121:
                        if (!(operator === "edit")) {
                          _context.next = 149;
                          break;
                        }
                        _context.t3 = type;
                        _context.next = _context.t3 === "text" ? 125 : _context.t3 === "html" ? 128 : _context.t3 === "styleApplicator" ? 131 : _context.t3 === "addClass" ? 136 : _context.t3 === "removeClass" ? 139 : _context.t3 === "documentTitle" ? 142 : 145;
                        break;
                      case 125:
                        logger.log("Editing text: ", value);
                        element.text(value);
                        return _context.abrupt("break", 147);
                      case 128:
                        logger.log("Editing html: ", value);
                        element.html(value);
                        return _context.abrupt("break", 147);
                      case 131:
                        logger.log("Applying style: ", value);
                        styleChangesMap = JSON.parse(value);
                        logger.log("Style Changes Map: ", styleChangesMap);
                        styleApplicator(element, styleChangesMap);
                        return _context.abrupt("break", 147);
                      case 136:
                        logger.log("addding class to ".concat(element, " named ").concat(value));
                        element.addClass(value);
                        return _context.abrupt("break", 147);
                      case 139:
                        logger.log("remove class from ".concat(element, " named ").concat(value));
                        element.removeClass(value);
                        return _context.abrupt("break", 147);
                      case 142:
                        logger.log("changing document title from ".concat(element, " to ").concat(value));
                        if (applyEvent) {
                          _iterator2 = BeagleApplyActions_createForOfIteratorHelper(applyEvent);
                          try {
                            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
                              _event = _step2.value;
                              if (_event == "tabChange") {
                                (function () {
                                  logger.log("catching event tabchange..");
                                  var originalTitle = window.top.document.title;
                                  window.top.document.addEventListener("visibilitychange", function (e) {
                                    setTimeout(function () {
                                      handleDocumentTitleTabChange(e, value, originalTitle);
                                    }, 15000);
                                  });
                                })();
                              }
                            }
                          } catch (err) {
                            _iterator2.e(err);
                          } finally {
                            _iterator2.f();
                          }
                        }
                        return _context.abrupt("break", 147);
                      case 145:
                        logger.log("Unknown edit type: ", type);
                        return _context.abrupt("break", 147);
                      case 147:
                        _context.next = 234;
                        break;
                      case 149:
                        if (!(operator === "setattribute")) {
                          _context.next = 166;
                          break;
                        }
                        logger.log("Setting attribute: ", attribute, value);
                        _context.t4 = attribute;
                        _context.next = _context.t4 === "src" ? 154 : _context.t4 === "style" ? 156 : 160;
                        break;
                      case 154:
                        element.css("content", "url(".concat(value.trim(), ")"));
                        return _context.abrupt("break", 164);
                      case 156:
                        // eslint-disable-next-line no-case-declarations
                        property = value.split(":")[0].trim(); // eslint-disable-next-line no-case-declarations
                        propertyValue = value.split(":")[1].trim();
                        element.css(property, propertyValue, "!important");
                        return _context.abrupt("break", 164);
                      case 160:
                        if (value.includes("function")) {
                          value = Function(value);
                        }
                        element.attr(attribute, value);
                        logger.log("Unhandled attribute: Setting attribute: ", attribute, value);
                        return _context.abrupt("break", 164);
                      case 164:
                        _context.next = 234;
                        break;
                      case 166:
                        if (!(operator === "replace")) {
                          _context.next = 171;
                          break;
                        }
                        logger.log("Replacing: ", value);
                        element.replaceAll(value);
                        _context.next = 234;
                        break;
                      case 171:
                        if (!(operator === "swap")) {
                          _context.next = 178;
                          break;
                        }
                        logger.log("Swapping: ", move_selector_1, move_selector_2);
                        n1 = window.top.document.querySelector(move_selector_1);
                        n2 = window.top.document.querySelector(move_selector_2);
                        swapNodes(n1, n2);
                        _context.next = 234;
                        break;
                      case 178:
                        if (!(operator === "injectscript")) {
                          _context.next = 183;
                          break;
                        }
                        logger.log("Injecting script: ", value);
                        element.append("<script>".concat(value, "</script>"));
                        _context.next = 234;
                        break;
                      case 183:
                        if (!(operator === "move")) {
                          _context.next = 191;
                          break;
                        }
                        logger.log("Moving ".concat(move_selector_1, " to ").concat(move_selector_2));
                        source = window.top.document.querySelector(move_selector_1);
                        destination = window.top.document.querySelector(move_selector_2);
                        source.remove();
                        destination.prepend(source);
                        _context.next = 234;
                        break;
                      case 191:
                        if (!(operator === "productInfoLookup")) {
                          _context.next = 198;
                          break;
                        }
                        _context.next = 194;
                        return getProductInfo(pType, value, productInfoStorage);
                      case 194:
                        res = _context.sent;
                        element.before(res);
                        _context.next = 234;
                        break;
                      case 198:
                        if (!(operator === "text-transform")) {
                          _context.next = 217;
                          break;
                        }
                        _context.t5 = type;
                        _context.next = _context.t5 === "capitalize" ? 202 : _context.t5 === "PLACEHOLDER" ? 213 : 214;
                        break;
                      case 202:
                        _i = 0, _Array$from = Array.from(element);
                      case 203:
                        if (!(_i < _Array$from.length)) {
                          _context.next = 212;
                          break;
                        }
                        e = _Array$from[_i];
                        if (!((_e$innerText = e.innerText) !== null && _e$innerText !== void 0 && _e$innerText.includes("\n"))) {
                          _context.next = 208;
                          break;
                        }
                        e.innerText = turkishToLower(e.innerText).split("\n").map(function (sentence) {
                          return sentence.split(" ").map(function (word) {
                            return word.charAt(0).toLocaleUpperCase() + word.slice(1);
                          }).join(" ");
                        }).join("\n");
                        return _context.abrupt("continue", 209);
                      case 208:
                        e.innerText = turkishToLower(e.innerText).split(" ").map(function (word) {
                          return word.charAt(0).toLocaleUpperCase() + word.slice(1);
                        }).join(" ");
                      case 209:
                        _i++;
                        _context.next = 203;
                        break;
                      case 212:
                        return _context.abrupt("break", 215);
                      case 213:
                        return _context.abrupt("break", 215);
                      case 214:
                        return _context.abrupt("break", 215);
                      case 215:
                        _context.next = 234;
                        break;
                      case 217:
                        if (!(operator === "ai-suggest")) {
                          _context.next = 233;
                          break;
                        }
                        _context.t6 = type;
                        _context.next = _context.t6 === "title-change" ? 221 : _context.t6 === "add-description" ? 226 : 231;
                        break;
                      case 221:
                        _context.next = 223;
                        return prepareFinalTitle();
                      case 223:
                        finalTitle = _context.sent;
                        element.contents().filter(function () {
                          return this.nodeType == 3;
                        })[0].nodeValue = finalTitle;
                        return _context.abrupt("break", 231);
                      case 226:
                        _context.next = 228;
                        return prepareDescElm(value);
                      case 228:
                        descriptionElm = _context.sent;
                        element.before(descriptionElm);
                        return _context.abrupt("break", 231);
                      case 231:
                        _context.next = 234;
                        break;
                      case 233:
                        logger.failed("No such operator exists yet", operator);
                      case 234:
                      case "end":
                        return _context.stop();
                    }
                  }
                }, _callee, null, [[78, 107, 110, 113]]);
              }));
              function transformer(_x2) {
                return _transformer.apply(this, arguments);
              }
              return transformer;
            }();
            prepareDescElm = /*#__PURE__*/function () {
              var _ref = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2(value) {
                var regex, _yield$getFromBeagleI, sku, productInfo, updatedHtmlString;
                return regenerator_default().wrap(function _callee2$(_context2) {
                  while (1) {
                    switch (_context2.prev = _context2.next) {
                      case 0:
                        regex = /<p[^>]*>([\s\S]*?)<\/p>/;
                        _context2.next = 3;
                        return getFromBeagleInfoLayer("pdp", true);
                      case 3:
                        _yield$getFromBeagleI = _context2.sent;
                        sku = _yield$getFromBeagleI.sku;
                        _context2.next = 7;
                        return store.getInstance().get(sku);
                      case 7:
                        productInfo = _context2.sent;
                        updatedHtmlString = value.replace(regex, "<p>$1".concat(productInfo.marketingCopy, "</p>"));
                        return _context2.abrupt("return", updatedHtmlString);
                      case 10:
                      case "end":
                        return _context2.stop();
                    }
                  }
                }, _callee2);
              }));
              return function prepareDescElm(_x3) {
                return _ref.apply(this, arguments);
              };
            }();
            prepareFinalTitle = /*#__PURE__*/function () {
              var _ref2 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee3() {
                var _yield$getFromBeagleI2, name, sku, productInfo, res;
                return regenerator_default().wrap(function _callee3$(_context3) {
                  while (1) {
                    switch (_context3.prev = _context3.next) {
                      case 0:
                        _context3.next = 2;
                        return getFromBeagleInfoLayer("pdp", true);
                      case 2:
                        _yield$getFromBeagleI2 = _context3.sent;
                        name = _yield$getFromBeagleI2.name;
                        sku = _yield$getFromBeagleI2.sku;
                        _context3.next = 7;
                        return store.getInstance().get(sku);
                      case 7:
                        productInfo = _context3.sent;
                        res = name + ", " + productInfo.titleAugment + " ";
                        return _context3.abrupt("return", res);
                      case 10:
                      case "end":
                        return _context3.stop();
                    }
                  }
                }, _callee3);
              }));
              return function prepareFinalTitle() {
                return _ref2.apply(this, arguments);
              };
            }();
            replaceWithVal = function replaceWithVal(value, htmlStr) {
              if (value && htmlStr.includes("{{REPLACE_PRODUCTINFO}}")) {
                htmlStr = replaceAll(htmlStr, "{{REPLACE_PRODUCTINFO}}", value);
              }
              return htmlStr;
            };
            getProductInfo = /*#__PURE__*/function () {
              var _ref3 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee4(type, value, productInfoStorage) {
                var skuList, res, productInfo;
                return regenerator_default().wrap(function _callee4$(_context4) {
                  while (1) {
                    switch (_context4.prev = _context4.next) {
                      case 0:
                        if (!(productInfoStorage === "basket")) {
                          _context4.next = 6;
                          break;
                        }
                        _context4.next = 3;
                        return getFromBeagleInfoLayer("__features.SKUsonLastCartView", true);
                      case 3:
                        _context4.t0 = _context4.sent;
                        _context4.next = 9;
                        break;
                      case 6:
                        _context4.next = 8;
                        return getFromBeagleInfoLayer("__features.SKUsonPage", true);
                      case 8:
                        _context4.t0 = _context4.sent;
                      case 9:
                        skuList = _context4.t0;
                        res = null;
                        if (!(!skuList || skuList.length === 0)) {
                          _context4.next = 14;
                          break;
                        }
                        logger.log("No sku found");
                        return _context4.abrupt("return", null);
                      case 14:
                        _context4.next = 16;
                        return store.getInstance().get(skuList[0]);
                      case 16:
                        productInfo = _context4.sent;
                        _context4.t1 = type;
                        _context4.next = _context4.t1 === "transactionIn2Weeks" ? 20 : _context4.t1 === "addToCartIn2Weeks" ? 23 : _context4.t1 === "productViewCount" ? 26 : 29;
                        break;
                      case 20:
                        res = replaceWithVal(productInfo.saleCntVisitorsIn15.toString().replace(/\B(?=(\d{3})+(?!\d))/g, "."), value);
                        logger.log("Replacing transcationIn2Weeks ", productInfo.saleCntVisitorsIn15);
                        return _context4.abrupt("break", 30);
                      case 23:
                        res = replaceWithVal(productInfo.cartCntVisitorsIn15.toString().replace(/\B(?=(\d{3})+(?!\d))/g, "."), value);
                        logger.log("Replacing AddToCartCount ", productInfo.cartCntVisitorsIn15);
                        return _context4.abrupt("break", 30);
                      case 26:
                        res = replaceWithVal(productInfo.viewCntVisitorsIn1.toString().replace(/\B(?=(\d{3})+(?!\d))/g, "."), value);
                        logger.log("Replacing productViewCount for", productInfo.viewCntVisitorsIn1);
                        return _context4.abrupt("break", 30);
                      case 29:
                        logger.failed("no such type found for productInfoLookup operator: " + type);
                      case 30:
                        return _context4.abrupt("return", res);
                      case 31:
                      case "end":
                        return _context4.stop();
                    }
                  }
                }, _callee4);
              }));
              return function getProductInfo(_x4, _x5, _x6) {
                return _ref3.apply(this, arguments);
              };
            }();
            handleDocumentTitleTabChange = /*#__PURE__*/function () {
              var _ref4 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee5(event, titles, originalTitle) {
                var parsedTitles, _iterator3, _step3, parsedTitle;
                return regenerator_default().wrap(function _callee5$(_context5) {
                  while (1) {
                    switch (_context5.prev = _context5.next) {
                      case 0:
                        parsedTitles = !Array.isArray(titles) ? [titles] : titles;
                        _iterator3 = BeagleApplyActions_createForOfIteratorHelper(parsedTitles);
                        _context5.prev = 2;
                        _iterator3.s();
                      case 4:
                        if ((_step3 = _iterator3.n()).done) {
                          _context5.next = 18;
                          break;
                        }
                        parsedTitle = _step3.value;
                        if (!window.top.document.hidden) {
                          _context5.next = 15;
                          break;
                        }
                        window.top.document.title = parsedTitle;
                        _context5.next = 10;
                        return delay(2000);
                      case 10:
                        window.top.document.title = originalTitle;
                        _context5.next = 13;
                        return delay(2000);
                      case 13:
                        _context5.next = 16;
                        break;
                      case 15:
                        window.top.document.title = originalTitle;
                      case 16:
                        _context5.next = 4;
                        break;
                      case 18:
                        _context5.next = 23;
                        break;
                      case 20:
                        _context5.prev = 20;
                        _context5.t0 = _context5["catch"](2);
                        _iterator3.e(_context5.t0);
                      case 23:
                        _context5.prev = 23;
                        _iterator3.f();
                        return _context5.finish(23);
                      case 26:
                        if (!window.top.document.hidden) {
                          window.top.document.title = originalTitle;
                        } else {
                          handleDocumentTitleTabChange(event, titles, originalTitle);
                        }
                      case 27:
                      case "end":
                        return _context5.stop();
                    }
                  }
                }, _callee5, null, [[2, 20, 23, 26]]);
              }));
              return function handleDocumentTitleTabChange(_x7, _x8, _x9) {
                return _ref4.apply(this, arguments);
              };
            }();
            handlePopupClick = function handlePopupClick(event) {
              var id = event.target.id;
              if (id && id === "nd-popup__wrapper") {
                $("#nd-popup__wrapper").remove();
                window.removeEventListener("click", handlePopupClick, true);
                window.removeEventListener("touchend", handlePopupClick, true);
              }
            };
            handleModalClick = function handleModalClick(event) {
              var classList = event.target.classList;
              if (classList && classList.contains("nd-modal__wrapper")) {
                $(".nd-modal__wrapper").hide();
                window.removeEventListener("click", handleModalClick, true);
                window.removeEventListener("touchend", handleModalClick, true);
              }
            };
            displayPopup = function displayPopup() {
              if (window.top.document.hidden) return;
              if (parseInt(sessionStorage.getItem(POPUP_DISPLAY_FLAG)) > 0) return;
              sessionStorage.setItem(POPUP_DISPLAY_FLAG, 1);
              var qPopup = window.top.document.querySelector("#grt-shadow-host");
              if (qPopup) qPopup.style["display"] = "none";
              window.top.document.getElementById("nd-popup__wrapper").style["display"] = "block";
              window.addEventListener("click", handlePopupClick, true);
              window.addEventListener("touchend", handlePopupClick, true);
              window.top.document.documentElement.removeEventListener("mouseleave", displayPopup, {
                once: true
              });
              window.top.document.documentElement.removeEventListener("copy", displayPopup, {
                once: true
              });
              window.top.removeEventListener("visibilitychange", displayPopup);
              window.top.removeEventListener("popstate", displayPopup, {
                once: true
              });
              setTimeout(function () {
                $("#nd-popup__wrapper").remove();
                window.removeEventListener("click", handlePopupClick, true);
                window.removeEventListener("touchend", handlePopupClick, true);
              }, 15000);
            };
            displayModal = function displayModal(value, contentSelector) {
              if (window.top.document.hidden) return;
              var qPopup = window.top.document.querySelector("#grt-shadow-host");
              if (qPopup) qPopup.style["display"] = "none";
              if (!window.top.document.querySelector(".nd-modal__wrapper")) createPopup(value, contentSelector, true);
              window.top.document.querySelector(".nd-modal__wrapper").style["display"] = "block";
              window.addEventListener("click", handleModalClick, true);
            };
            createPopup = function createPopup(value, contentSelector) {
              var isModal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
              // Create popup wrapper
              var popupWrapper = window.top.document.createElement("div");
              // eslint-disable-next-line max-len
              popupWrapper.classList.add("nd-popup__wrapper");
              if (isModal) popupWrapper.classList.add("nd-modal__wrapper");
              if (!isModal) popupWrapper.id = "nd-popup__wrapper";

              // Create popup close button
              var popupCloseButton = window.top.document.createElement("button");
              var popupCloseButtonStyle = isModal ? "nd-popup__button-close__colored" : "nd-popup__button-close";
              popupCloseButton.classList.add(popupCloseButtonStyle);
              popupCloseButton.innerText = "X";
              if (isModal) {
                popupCloseButton.onclick = function () {
                  $(".nd-modal__wrapper").hide();
                  window.removeEventListener("click", handleModalClick, true);
                };
              } else {
                popupCloseButton.onclick = function () {
                  $("#nd-popup__wrapper").remove();
                  window.removeEventListener("click", handlePopupClick, true);
                };
              }
              if (contentSelector) {
                var contents = Array.from(window.top.document.querySelectorAll(contentSelector));
                while (value.includes("{{REPLACE}}") && contents.length > 0) {
                  value = value.replace("{{REPLACE}}", contents.shift().src);
                }
              }

              // Create popup from action and append close button
              var template = window.top.document.createElement("template");
              template.innerHTML = value.trim();
              var popup = template.content.firstChild;
              popup.appendChild(popupCloseButton);
              popupWrapper.appendChild(popup);

              // Remove old popup if exists before appending new one
              $("#nd-popup__wrapper").remove();
              window.top.document.body.appendChild(popupWrapper);
            };
            swapNodes = function swapNodes(n1, n2) {
              var p1 = n1.parentNode;
              var p2 = n2.parentNode;
              var i1;
              var i2;
              if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;
              for (var i = 0; i < p1.children.length; i++) {
                if (p1.children[i].isEqualNode(n1)) {
                  i1 = i;
                }
              }
              for (var _i2 = 0; _i2 < p2.children.length; _i2++) {
                if (p2.children[_i2].isEqualNode(n2)) {
                  i2 = _i2;
                }
              }
              if (p1.isEqualNode(p2) && i1 < i2) {
                i2++;
              }
              p1.insertBefore(n2, p1.children[i1]);
              p2.insertBefore(n1, p2.children[i2]);
            };
            waitForJQuery = function waitForJQuery() {
              return new Promise(function (resolve) {
                if (!window.jQuery) {
                  logger.log("jQuery not found, retrying");
                  var jQueryInterval = setInterval(function () {
                    if (window.jQuery) {
                      clearInterval(jQueryInterval);
                      resolve(true);
                    }
                  }, 25);
                  setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee6() {
                    return regenerator_default().wrap(function _callee6$(_context6) {
                      while (1) {
                        switch (_context6.prev = _context6.next) {
                          case 0:
                            clearInterval(jQueryInterval);
                            resolve(false);
                          case 2:
                          case "end":
                            return _context6.stop();
                        }
                      }
                    }, _callee6);
                  })), 2000);
                } else resolve(true);
              });
            };
            actionApplicator = /*#__PURE__*/function () {
              var _ref6 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee7(actions) {
                var _iterator4, _step4, action, _result, eligibleElements, _iterator5, _step5, element;
                return regenerator_default().wrap(function _callee7$(_context7) {
                  while (1) {
                    switch (_context7.prev = _context7.next) {
                      case 0:
                        _context7.next = 2;
                        return waitForJQuery();
                      case 2:
                        if (!_context7.sent) {
                          _context7.next = 59;
                          break;
                        }
                        _iterator4 = BeagleApplyActions_createForOfIteratorHelper(actions);
                        _context7.prev = 4;
                        _iterator4.s();
                      case 6:
                        if ((_step4 = _iterator4.n()).done) {
                          _context7.next = 49;
                          break;
                        }
                        action = _step4.value;
                        _context7.prev = 8;
                        _result = false;
                        if (!action.condition) {
                          _context7.next = 36;
                          break;
                        }
                        _context7.next = 13;
                        return action_condition_util(action.condition);
                      case 13:
                        eligibleElements = _context7.sent;
                        _iterator5 = BeagleApplyActions_createForOfIteratorHelper(eligibleElements);
                        _context7.prev = 15;
                        _iterator5.s();
                      case 17:
                        if ((_step5 = _iterator5.n()).done) {
                          _context7.next = 26;
                          break;
                        }
                        element = _step5.value;
                        _context7.next = 21;
                        return transformer(action, element);
                      case 21:
                        _result = _context7.sent;
                        if (!(_result === false)) {
                          _context7.next = 24;
                          break;
                        }
                        return _context7.abrupt("return", false);
                      case 24:
                        _context7.next = 17;
                        break;
                      case 26:
                        _context7.next = 31;
                        break;
                      case 28:
                        _context7.prev = 28;
                        _context7.t0 = _context7["catch"](15);
                        _iterator5.e(_context7.t0);
                      case 31:
                        _context7.prev = 31;
                        _iterator5.f();
                        return _context7.finish(31);
                      case 34:
                        _context7.next = 39;
                        break;
                      case 36:
                        _context7.next = 38;
                        return transformer(action);
                      case 38:
                        _result = _context7.sent;
                      case 39:
                        if (!(_result === false)) {
                          _context7.next = 41;
                          break;
                        }
                        return _context7.abrupt("return", false);
                      case 41:
                        _context7.next = 47;
                        break;
                      case 43:
                        _context7.prev = 43;
                        _context7.t1 = _context7["catch"](8);
                        logger.failed("Couldn't apply action ".concat(JSON.stringify(action), " with error ").concat(_context7.t1.message));
                        return _context7.abrupt("return", _context7.t1);
                      case 47:
                        _context7.next = 6;
                        break;
                      case 49:
                        _context7.next = 54;
                        break;
                      case 51:
                        _context7.prev = 51;
                        _context7.t2 = _context7["catch"](4);
                        _iterator4.e(_context7.t2);
                      case 54:
                        _context7.prev = 54;
                        _iterator4.f();
                        return _context7.finish(54);
                      case 57:
                        _context7.next = 61;
                        break;
                      case 59:
                        logger.failed("Jquery not found on window");
                        return _context7.abrupt("return", false);
                      case 61:
                      case "end":
                        return _context7.stop();
                    }
                  }
                }, _callee7, null, [[4, 51, 54, 57], [8, 43], [15, 28, 31, 34]]);
              }));
              return function actionApplicator(_x10) {
                return _ref6.apply(this, arguments);
              };
            }(); // Apply actions
            _context8.next = 18;
            return actionApplicator(actions);
          case 18:
            result = _context8.sent;
            return _context8.abrupt("return", result);
          case 20:
          case "end":
            return _context8.stop();
        }
      }
    }, _callee8);
  }));
  return _applyActions.apply(this, arguments);
}
/* harmony default export */ var BeagleApplyActions = (applyActions);
;// CONCATENATED MODULE: ./node_modules/async-mutex/index.mjs
const E_TIMEOUT = new Error('timeout while waiting for mutex to become available');
const E_ALREADY_LOCKED = new Error('mutex already locked');
const E_CANCELED = new Error('request for lock canceled');

var __awaiter$2 = ( false) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class Semaphore {
    constructor(_value, _cancelError = E_CANCELED) {
        this._value = _value;
        this._cancelError = _cancelError;
        this._weightedQueues = [];
        this._weightedWaiters = [];
    }
    acquire(weight = 1) {
        if (weight <= 0)
            throw new Error(`invalid weight ${weight}: must be positive`);
        return new Promise((resolve, reject) => {
            if (!this._weightedQueues[weight - 1])
                this._weightedQueues[weight - 1] = [];
            this._weightedQueues[weight - 1].push({ resolve, reject });
            this._dispatch();
        });
    }
    runExclusive(callback, weight = 1) {
        return __awaiter$2(this, void 0, void 0, function* () {
            const [value, release] = yield this.acquire(weight);
            try {
                return yield callback(value);
            }
            finally {
                release();
            }
        });
    }
    waitForUnlock(weight = 1) {
        if (weight <= 0)
            throw new Error(`invalid weight ${weight}: must be positive`);
        return new Promise((resolve) => {
            if (!this._weightedWaiters[weight - 1])
                this._weightedWaiters[weight - 1] = [];
            this._weightedWaiters[weight - 1].push(resolve);
            this._dispatch();
        });
    }
    isLocked() {
        return this._value <= 0;
    }
    getValue() {
        return this._value;
    }
    setValue(value) {
        this._value = value;
        this._dispatch();
    }
    release(weight = 1) {
        if (weight <= 0)
            throw new Error(`invalid weight ${weight}: must be positive`);
        this._value += weight;
        this._dispatch();
    }
    cancel() {
        this._weightedQueues.forEach((queue) => queue.forEach((entry) => entry.reject(this._cancelError)));
        this._weightedQueues = [];
    }
    _dispatch() {
        var _a;
        for (let weight = this._value; weight > 0; weight--) {
            const queueEntry = (_a = this._weightedQueues[weight - 1]) === null || _a === void 0 ? void 0 : _a.shift();
            if (!queueEntry)
                continue;
            const previousValue = this._value;
            const previousWeight = weight;
            this._value -= weight;
            weight = this._value + 1;
            queueEntry.resolve([previousValue, this._newReleaser(previousWeight)]);
        }
        this._drainUnlockWaiters();
    }
    _newReleaser(weight) {
        let called = false;
        return () => {
            if (called)
                return;
            called = true;
            this.release(weight);
        };
    }
    _drainUnlockWaiters() {
        for (let weight = this._value; weight > 0; weight--) {
            if (!this._weightedWaiters[weight - 1])
                continue;
            this._weightedWaiters[weight - 1].forEach((waiter) => waiter());
            this._weightedWaiters[weight - 1] = [];
        }
    }
}

var __awaiter$1 = ( false) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class Mutex {
    constructor(cancelError) {
        this._semaphore = new Semaphore(1, cancelError);
    }
    acquire() {
        return __awaiter$1(this, void 0, void 0, function* () {
            const [, releaser] = yield this._semaphore.acquire();
            return releaser;
        });
    }
    runExclusive(callback) {
        return this._semaphore.runExclusive(() => callback());
    }
    isLocked() {
        return this._semaphore.isLocked();
    }
    waitForUnlock() {
        return this._semaphore.waitForUnlock();
    }
    release() {
        if (this._semaphore.isLocked())
            this._semaphore.release();
    }
    cancel() {
        return this._semaphore.cancel();
    }
}

var __awaiter = ( false) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
function withTimeout(sync, timeout, timeoutError = E_TIMEOUT) {
    return {
        acquire: (weight) => {
            if (weight !== undefined && weight <= 0) {
                throw new Error(`invalid weight ${weight}: must be positive`);
            }
            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {
                let isTimeout = false;
                const handle = setTimeout(() => {
                    isTimeout = true;
                    reject(timeoutError);
                }, timeout);
                try {
                    const ticket = yield sync.acquire(weight);
                    if (isTimeout) {
                        const release = Array.isArray(ticket) ? ticket[1] : ticket;
                        release();
                    }
                    else {
                        clearTimeout(handle);
                        resolve(ticket);
                    }
                }
                catch (e) {
                    if (!isTimeout) {
                        clearTimeout(handle);
                        reject(e);
                    }
                }
            }));
        },
        runExclusive(callback, weight) {
            return __awaiter(this, void 0, void 0, function* () {
                let release = () => undefined;
                try {
                    const ticket = yield this.acquire(weight);
                    if (Array.isArray(ticket)) {
                        release = ticket[1];
                        return yield callback(ticket[0]);
                    }
                    else {
                        release = ticket;
                        return yield callback();
                    }
                }
                finally {
                    release();
                }
            });
        },
        release(weight) {
            sync.release(weight);
        },
        cancel() {
            return sync.cancel();
        },
        waitForUnlock: (weight) => {
            if (weight !== undefined && weight <= 0) {
                throw new Error(`invalid weight ${weight}: must be positive`);
            }
            return new Promise((resolve, reject) => {
                sync.waitForUnlock(weight).then(resolve);
                setTimeout(() => reject(timeoutError), timeout);
            });
        },
        isLocked: () => sync.isLocked(),
        getValue: () => sync.getValue(),
        setValue: (value) => sync.setValue(value),
    };
}

// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types
function tryAcquire(sync, alreadyAcquiredError = E_ALREADY_LOCKED) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    return withTimeout(sync, 0, alreadyAcquiredError);
}



;// CONCATENATED MODULE: ./src/BeagleOn/robotEngine.js







function robotEngine_createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = robotEngine_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function robotEngine_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return robotEngine_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return robotEngine_arrayLikeToArray(o, minLen); }
function robotEngine_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }






var robotEngine_logger = new src_logger("BeagleRobotEngine");
var OBSERVER_CONFIG = {
  subtree: true,
  childList: true,
  attributes: true
};
var RobotEngine = /*#__PURE__*/function () {
  function RobotEngine(body) {
    _classCallCheck(this, RobotEngine);
    var debugFilteredTreatments = body.debugFilteredTreatments,
      debugMode = body.debugMode,
      matchedTreatments = body.matchedTreatments,
      identifier = body.identifier,
      pageType = body.pageType;
    this.engagementLock = {};
    this.pageType = pageType;
    this.debugMode = debugMode;
    this.identifier = identifier;
    this.reApplyTreatmentsMap = {};
    this.addedDataListenerIds = [];
    this.matchedTreatments = matchedTreatments;
    this.debugFilteredTreatments = debugFilteredTreatments;
    this.isMobile = window.matchMedia(MOBILE_MEDIA_QUERY).matches;
  }
  _createClass(RobotEngine, [{
    key: "engageRobots",
    value: function () {
      var _engageRobots = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee() {
        var robotPromises, _iterator, _step, treatment;
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                robotPromises = [];
                _iterator = robotEngine_createForOfIteratorHelper(this.matchedTreatments);
                _context.prev = 2;
                _iterator.s();
              case 4:
                if ((_step = _iterator.n()).done) {
                  _context.next = 17;
                  break;
                }
                treatment = _step.value;
                _context.prev = 6;
                if (!treatment.dependant_on_treatment) {
                  _context.next = 9;
                  break;
                }
                return _context.abrupt("continue", 15);
              case 9:
                robotPromises.push(this.engageRobot(treatment));
                _context.next = 15;
                break;
              case 12:
                _context.prev = 12;
                _context.t0 = _context["catch"](6);
                robotEngine_logger.failed("Error engaging robot ".concat(treatment.id, ": ").concat(_context.t0.message || _context.t0));
              case 15:
                _context.next = 4;
                break;
              case 17:
                _context.next = 22;
                break;
              case 19:
                _context.prev = 19;
                _context.t1 = _context["catch"](2);
                _iterator.e(_context.t1);
              case 22:
                _context.prev = 22;
                _iterator.f();
                return _context.finish(22);
              case 25:
                _context.next = 27;
                return Promise.all(robotPromises);
              case 27:
                this.initiateReapplyRobotMap();
              case 28:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[2, 19, 22, 25], [6, 12]]);
      }));
      function engageRobots() {
        return _engageRobots.apply(this, arguments);
      }
      return engageRobots;
    }()
  }, {
    key: "engageRobot",
    value: function () {
      var _engageRobot = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee3(treatment) {
        var _this = this;
        var id, actions, eligibilityRuleSet, device, dependant_on_treatment, businessRuleSet, weight, delay, helpers, debugMode, debugFilteredTreatments, engagementLock, identifier, isMobile, matchedTreatments, prepareAndApply, release, treatmentSkipRatio, determiningIdentifier, treatmentPct, businessRuleId;
        return regenerator_default().wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                id = treatment.id, actions = treatment.actions, eligibilityRuleSet = treatment.eligibilityRuleSet, device = treatment.device, dependant_on_treatment = treatment.dependant_on_treatment, businessRuleSet = treatment.businessRuleSet, weight = treatment.weight, delay = treatment.delay, helpers = treatment.helpers;
                debugMode = this.debugMode, debugFilteredTreatments = this.debugFilteredTreatments, engagementLock = this.engagementLock, identifier = this.identifier, isMobile = this.isMobile, matchedTreatments = this.matchedTreatments, prepareAndApply = this.prepareAndApply; // one engagement at a time
                engagementLock[id] = engagementLock[id] || new Mutex();
                _context3.next = 5;
                return engagementLock[id].acquire();
              case 5:
                release = _context3.sent;
                _context3.prev = 6;
                if (!(debugMode && debugFilteredTreatments && !debugFilteredTreatments.includes(id))) {
                  _context3.next = 9;
                  break;
                }
                return _context3.abrupt("return");
              case 9:
                if (!(device === "mobile" && !isMobile)) {
                  _context3.next = 12;
                  break;
                }
                robotEngine_logger.failed("Treatment device 'mobile' mismatch");
                return _context3.abrupt("return");
              case 12:
                if (!(device === "desktop" && isMobile)) {
                  _context3.next = 15;
                  break;
                }
                robotEngine_logger.failed("Treatment device 'desktop' mismatch");
                return _context3.abrupt("return");
              case 15:
                robotEngine_logger.log("Starting base rule set check for treatment: " + id);
                _context3.t0 = !eligibilityRuleSet;
                if (_context3.t0) {
                  _context3.next = 21;
                  break;
                }
                _context3.next = 20;
                return this.checkEligibilityRuleSet(eligibilityRuleSet);
              case 20:
                _context3.t0 = _context3.sent;
              case 21:
                if (!_context3.t0) {
                  _context3.next = 55;
                  break;
                }
                treatmentSkipRatio = weight === 100 ? 0 : 100 - weight || TREATMENT_RATIO;
                robotEngine_logger.log("Treatment skip ratio: " + treatmentSkipRatio);
                // Determining identifier for calculating treatment percentage (treatmentPct)
                determiningIdentifier = dependant_on_treatment || id; // treatmentPct is the percentage value for the treatment used to determine if it should be skipped or not
                // treatmentPct is 100 when debug mode is 1, ensuring no treatments are skipped
                if (!(debugMode === 1)) {
                  _context3.next = 29;
                  break;
                }
                _context3.t1 = 100;
                _context3.next = 32;
                break;
              case 29:
                _context3.next = 31;
                return determinePct(identifier + determiningIdentifier);
              case 31:
                _context3.t1 = _context3.sent;
              case 32:
                treatmentPct = _context3.t1;
                robotEngine_logger.log("TreatmentPct: " + treatmentPct + " with debug mode ".concat(debugMode ? "on" : "off"));
                businessRuleId = null;
                if (!businessRuleSet) {
                  _context3.next = 41;
                  break;
                }
                robotEngine_logger.log("Starting sub variant rule set check for treatment: " + id);
                _context3.next = 39;
                return this.checkBusinessRules(businessRuleSet);
              case 39:
                businessRuleId = _context3.sent;
                if (businessRuleId !== null) {
                  robotEngine_logger.log("Applying business rule transformation with id: ", businessRuleId);
                } else robotEngine_logger.log("Applying treatment with default values");
              case 41:
                if (!(treatmentPct < treatmentSkipRatio)) {
                  _context3.next = 45;
                  break;
                }
                robotEngine_logger.log("Treatment ".concat(id, " skipped due to treatment split ratio"));
                addTreatment(id, businessRuleId, null, "skipped", dependant_on_treatment);
                return _context3.abrupt("return");
              case 45:
                if (delay) {
                  _context3.next = 52;
                  break;
                }
                _context3.next = 48;
                return prepareAndApply(id, identifier, actions, businessRuleId, debugMode);
              case 48:
                _context3.next = 50;
                return this.engageHelpers(helpers, matchedTreatments);
              case 50:
                _context3.next = 53;
                break;
              case 52:
                setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2() {
                  return regenerator_default().wrap(function _callee2$(_context2) {
                    while (1) {
                      switch (_context2.prev = _context2.next) {
                        case 0:
                          _context2.next = 2;
                          return prepareAndApply(id, identifier, actions, businessRuleId, debugMode);
                        case 2:
                          _context2.next = 4;
                          return _this.engageHelpers(helpers, matchedTreatments);
                        case 4:
                        case "end":
                          return _context2.stop();
                      }
                    }
                  }, _callee2);
                })), delay);
              case 53:
                _context3.next = 56;
                break;
              case 55:
                robotEngine_logger.failed("Rule check failed for treatment:", id);
              case 56:
                _context3.prev = 56;
                release();
                this.addReapplyEvent(treatment);
                this.addRuleSetDataListeners(treatment);
                return _context3.finish(56);
              case 61:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this, [[6,, 56, 61]]);
      }));
      function engageRobot(_x) {
        return _engageRobot.apply(this, arguments);
      }
      return engageRobot;
    }()
  }, {
    key: "engageHelpers",
    value: function () {
      var _engageHelpers = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee4(helpers, matchedTreatments) {
        var helperRobotPromises, _iterator2, _step2, treatment;
        return regenerator_default().wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (!(Array.isArray(helpers) && helpers.length)) {
                  _context4.next = 22;
                  break;
                }
                helperRobotPromises = [];
                _iterator2 = robotEngine_createForOfIteratorHelper(matchedTreatments);
                _context4.prev = 3;
                _iterator2.s();
              case 5:
                if ((_step2 = _iterator2.n()).done) {
                  _context4.next = 12;
                  break;
                }
                treatment = _step2.value;
                if (helpers.includes(treatment.id)) {
                  _context4.next = 9;
                  break;
                }
                return _context4.abrupt("continue", 10);
              case 9:
                helperRobotPromises.push(this.engageRobot(treatment));
              case 10:
                _context4.next = 5;
                break;
              case 12:
                _context4.next = 17;
                break;
              case 14:
                _context4.prev = 14;
                _context4.t0 = _context4["catch"](3);
                _iterator2.e(_context4.t0);
              case 17:
                _context4.prev = 17;
                _iterator2.f();
                return _context4.finish(17);
              case 20:
                _context4.next = 22;
                return Promise.all(helperRobotPromises);
              case 22:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[3, 14, 17, 20]]);
      }));
      function engageHelpers(_x2, _x3) {
        return _engageHelpers.apply(this, arguments);
      }
      return engageHelpers;
    }()
  }, {
    key: "prepareAndApply",
    value: function () {
      var _prepareAndApply = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee5(id, identifier, actions, businessRuleId, debugMode) {
        var _yield$prepareActions, _yield$prepareActions2, prepared, variant, res;
        return regenerator_default().wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                _context5.next = 2;
                return prepareActions(identifier, actions, businessRuleId, debugMode);
              case 2:
                _yield$prepareActions = _context5.sent;
                _yield$prepareActions2 = _slicedToArray(_yield$prepareActions, 2);
                prepared = _yield$prepareActions2[0];
                variant = _yield$prepareActions2[1];
                _context5.next = 8;
                return BeagleApplyActions(prepared);
              case 8:
                res = _context5.sent;
                if (res === false) {
                  addTreatment(id, businessRuleId, variant, "failed");
                } else {
                  addTreatment(id, businessRuleId, variant, "applied");
                }
              case 10:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5);
      }));
      function prepareAndApply(_x4, _x5, _x6, _x7, _x8) {
        return _prepareAndApply.apply(this, arguments);
      }
      return prepareAndApply;
    }()
  }, {
    key: "addReapplyEvent",
    value: function addReapplyEvent(treatment) {
      var pageType = this.pageType,
        reApplyTreatmentsMap = this.reApplyTreatmentsMap;
      var id = treatment.id,
        reapply_event = treatment.reapply_event,
        reapply_event_page_type = treatment.reapply_event_page_type;
      if (reapply_event) {
        if (!reapply_event_page_type || reapply_event_page_type === pageType) {
          var reapply_event_array = reapply_event;
          if (!Array.isArray(reapply_event)) reapply_event_array = [reapply_event];
          robotEngine_logger.log("Reapply event '".concat(reapply_event, "' found for treatment: ").concat(id));
          var _iterator3 = robotEngine_createForOfIteratorHelper(reapply_event_array),
            _step3;
          try {
            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
              var reapplyEvent = _step3.value;
              var previousValue = reApplyTreatmentsMap[reapplyEvent] ? reApplyTreatmentsMap[reapplyEvent] : [];
              if (previousValue.includes(id)) {
                robotEngine_logger.log("Treatment already added for reapply event");
              } else reApplyTreatmentsMap[reapplyEvent] = [].concat(_toConsumableArray(previousValue), [id]);
            }
          } catch (err) {
            _iterator3.e(err);
          } finally {
            _iterator3.f();
          }
        }
      }
    }
  }, {
    key: "initiateReapplyRobotMap",
    value: function initiateReapplyRobotMap() {
      var _this2 = this;
      var reApplyTreatmentsMap = this.reApplyTreatmentsMap,
        matchedTreatments = this.matchedTreatments;
      var _loop = function _loop() {
        var key = _Object$keys[_i];
        var treatmentIds = reApplyTreatmentsMap[key];
        var reApplyTreatments = matchedTreatments.filter(function (t) {
          return treatmentIds.includes(t.id);
        });
        switch (key) {
          case "infinite_scroll":
            {
              var observer = new ResizeObserver(function () {
                var _iterator4 = robotEngine_createForOfIteratorHelper(reApplyTreatments),
                  _step4;
                try {
                  for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
                    var treatment = _step4.value;
                    robotEngine_logger.log("Retrying treatment ".concat(treatment.id, " from infinite_scroll"));
                    _this2.engageRobot(treatment);
                  }
                } catch (err) {
                  _iterator4.e(err);
                } finally {
                  _iterator4.f();
                }
              });
              observer.observe(window.top.document.documentElement);
            }
            break;
          case "timeout":
            {
              setTimeout(function () {
                var _iterator5 = robotEngine_createForOfIteratorHelper(reApplyTreatments),
                  _step5;
                try {
                  for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
                    var treatment = _step5.value;
                    robotEngine_logger.log("Retrying treatment ".concat(treatment.id, " from timeout"));
                    _this2.engageRobot(treatment);
                  }
                } catch (err) {
                  _iterator5.e(err);
                } finally {
                  _iterator5.f();
                }
              }, 500);
            }
            break;
          case "element_change":
            {
              var _iterator6 = robotEngine_createForOfIteratorHelper(reApplyTreatments),
                _step6;
              try {
                var _loop2 = function _loop2() {
                  var treatment = _step6.value;
                  var reapplySelectorList = Array.isArray(treatment.reapply_selector) ? treatment.reapply_selector : [treatment.reapply_selector];
                  var _iterator7 = robotEngine_createForOfIteratorHelper(reapplySelectorList),
                    _step7;
                  try {
                    for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
                      var selector = _step7.value;
                      var element = window.top.document.querySelector(selector);
                      if (element) {
                        var _observer = new MutationObserver(function () {
                          robotEngine_logger.log("Retrying treatment ".concat(treatment.id, " from element_change"));
                          _this2.engageRobot(treatment);
                        });
                        _observer.observe(element, OBSERVER_CONFIG);
                      }
                    }
                  } catch (err) {
                    _iterator7.e(err);
                  } finally {
                    _iterator7.f();
                  }
                };
                for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
                  _loop2();
                }
              } catch (err) {
                _iterator6.e(err);
              } finally {
                _iterator6.f();
              }
            }
            break;
          case "on_scroll":
            {
              // add window scroll listener, call engageRobot on scroll, do not trigger more than once per 250ms
              var lastScrollTop = 0;
              var lastScrollTime = 0;
              window.addEventListener("scroll", function () {
                var now = new Date().getTime();
                var st = window.pageYOffset || window.top.document.documentElement.scrollTop;
                if (now - lastScrollTime > 250 && Math.abs(lastScrollTop - st) > 5) {
                  lastScrollTop = st;
                  lastScrollTime = now;
                  var _iterator8 = robotEngine_createForOfIteratorHelper(reApplyTreatments),
                    _step8;
                  try {
                    for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
                      var treatment = _step8.value;
                      robotEngine_logger.log("Retrying treatment ".concat(treatment.id, " from on_scroll"));
                      _this2.engageRobot(treatment);
                    }
                  } catch (err) {
                    _iterator8.e(err);
                  } finally {
                    _iterator8.f();
                  }
                }
              }, false);
            }
            break;
          case "query_search_change":
            {
              var queryString = window.location.search;
              var _observer2 = new MutationObserver(function () {
                if (window.location.search !== queryString) {
                  queryString = window.location.search;
                  var _iterator9 = robotEngine_createForOfIteratorHelper(reApplyTreatments),
                    _step9;
                  try {
                    for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {
                      var treatment = _step9.value;
                      robotEngine_logger.log("Retrying treatment ".concat(treatment.id, " from query_search_change"));
                      _this2.engageRobot(treatment);
                    }
                  } catch (err) {
                    _iterator9.e(err);
                  } finally {
                    _iterator9.f();
                  }
                }
              });
              _observer2.observe(document, OBSERVER_CONFIG);
            }
            break;
          case "interval":
            var _iterator10 = robotEngine_createForOfIteratorHelper(reApplyTreatments),
              _step10;
            try {
              var _loop3 = function _loop3() {
                var treatment = _step10.value;
                var reapplyInterval = setInterval( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee6() {
                  var applied;
                  return regenerator_default().wrap(function _callee6$(_context6) {
                    while (1) {
                      switch (_context6.prev = _context6.next) {
                        case 0:
                          _context6.next = 2;
                          return getFromBeagleInfoLayer("a", true);
                        case 2:
                          applied = _context6.sent;
                          if (!(applied !== null && applied !== void 0 && applied[treatment.id])) {
                            _context6.next = 7;
                            break;
                          }
                          clearInterval(reapplyInterval);
                          _context6.next = 10;
                          break;
                        case 7:
                          robotEngine_logger.log("Retrying treatment ".concat(treatment.id, " from interval"));
                          _context6.next = 10;
                          return _this2.engageRobot(treatment);
                        case 10:
                        case "end":
                          return _context6.stop();
                      }
                    }
                  }, _callee6);
                })), 50);
                setTimeout(function () {
                  clearInterval(reapplyInterval);
                }, 2500);
              };
              for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {
                _loop3();
              }
            } catch (err) {
              _iterator10.e(err);
            } finally {
              _iterator10.f();
            }
            break;
          case "info_layer_change":
            var _iterator11 = robotEngine_createForOfIteratorHelper(reApplyTreatments),
              _step11;
            try {
              for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {
                var treatment = _step11.value;
                var boundEngageTreatment = _this2.engageRobot.bind(_this2, treatment);
                addDataListener(treatment.reapply_selector, boundEngageTreatment);
              }
            } catch (err) {
              _iterator11.e(err);
            } finally {
              _iterator11.f();
            }
            break;
          default:
            robotEngine_logger.failed("Reapply event not found: ", key);
            break;
        }
      };
      for (var _i = 0, _Object$keys = Object.keys(reApplyTreatmentsMap); _i < _Object$keys.length; _i++) {
        _loop();
      }
    }
  }, {
    key: "addRuleSetDataListeners",
    value: function () {
      var _addRuleSetDataListeners = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee7(treatment) {
        var _treatment$eligibilit, eligibilityRuleSet, _treatment$businessRu, businessRuleSet, id, selectors, boundEngageTreatment, _iterator12, _step12, selector;
        return regenerator_default().wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _treatment$eligibilit = treatment.eligibilityRuleSet, eligibilityRuleSet = _treatment$eligibilit === void 0 ? [] : _treatment$eligibilit, _treatment$businessRu = treatment.businessRuleSet, businessRuleSet = _treatment$businessRu === void 0 ? [] : _treatment$businessRu, id = treatment.id;
                if (!this.addedDataListenerIds.includes(id)) {
                  _context7.next = 3;
                  break;
                }
                return _context7.abrupt("return");
              case 3:
                selectors = this.extractDataListenerSelectors([].concat(_toConsumableArray(eligibilityRuleSet), _toConsumableArray(businessRuleSet)));
                boundEngageTreatment = this.engageRobot.bind(this, treatment);
                _iterator12 = robotEngine_createForOfIteratorHelper(selectors);
                try {
                  for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {
                    selector = _step12.value;
                    addDataListener("__eRules.".concat(selector), boundEngageTreatment);
                  }
                } catch (err) {
                  _iterator12.e(err);
                } finally {
                  _iterator12.f();
                }
                this.addedDataListenerIds.push(id);
              case 8:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));
      function addRuleSetDataListeners(_x9) {
        return _addRuleSetDataListeners.apply(this, arguments);
      }
      return addRuleSetDataListeners;
    }()
  }, {
    key: "extractDataListenerSelectors",
    value: function extractDataListenerSelectors(ruleSet) {
      var previousSelectors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var selectors = previousSelectors || [];
      var _iterator13 = robotEngine_createForOfIteratorHelper(ruleSet),
        _step13;
      try {
        for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {
          var rule = _step13.value;
          if (typeof rule === "string") {
            if (rule.startsWith("!")) rule = rule.slice(1);
            selectors.push(rule.split(".")[0]);
            continue;
          }
          this.extractDataListenerSelectors(rule.set, selectors);
        }
      } catch (err) {
        _iterator13.e(err);
      } finally {
        _iterator13.f();
      }
      return _toConsumableArray(new Set(selectors));
    }
  }, {
    key: "checkEligibility",
    value: function () {
      var _checkEligibility = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee8(eligibilityRule) {
        var oppositeFlag, _eligibilityRule$spli, _eligibilityRule$spli2, eligibilityScope, eligibilityName, res;
        return regenerator_default().wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                robotEngine_logger.log("Checking eligibility ".concat(eligibilityRule));
                oppositeFlag = false;
                _eligibilityRule$spli = eligibilityRule.split("."), _eligibilityRule$spli2 = _slicedToArray(_eligibilityRule$spli, 2), eligibilityScope = _eligibilityRule$spli2[0], eligibilityName = _eligibilityRule$spli2[1];
                if (eligibilityScope.startsWith("!")) {
                  oppositeFlag = true;
                  eligibilityScope = eligibilityScope.slice(1);
                }
                _context8.next = 6;
                return getFromBeagleInfoLayer("__eRules.".concat(eligibilityScope));
              case 6:
                res = _context8.sent;
                if (!(!res || !Array.isArray(res))) {
                  _context8.next = 9;
                  break;
                }
                return _context8.abrupt("return", false);
              case 9:
                if (!(oppositeFlag && res.includes(eligibilityName))) {
                  _context8.next = 11;
                  break;
                }
                return _context8.abrupt("return", false);
              case 11:
                if (!(!oppositeFlag && !res.includes(eligibilityName))) {
                  _context8.next = 13;
                  break;
                }
                return _context8.abrupt("return", false);
              case 13:
                robotEngine_logger.log("".concat(eligibilityRule, " is eligible"));
                return _context8.abrupt("return", true);
              case 15:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8);
      }));
      function checkEligibility(_x10) {
        return _checkEligibility.apply(this, arguments);
      }
      return checkEligibility;
    }()
  }, {
    key: "checkEligibilityRuleSet",
    value: function () {
      var _checkEligibilityRuleSet = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee9(eligibilityRuleSet) {
        var eligibilitySetType,
          previousIsEligible,
          isEligible,
          _iterator14,
          _step14,
          eligibilityRule,
          _args9 = arguments;
        return regenerator_default().wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                eligibilitySetType = _args9.length > 1 && _args9[1] !== undefined ? _args9[1] : null;
                previousIsEligible = _args9.length > 2 && _args9[2] !== undefined ? _args9[2] : null;
                robotEngine_logger.log("Checking robot eligibility");
                if (Array.isArray(eligibilityRuleSet)) {
                  _context9.next = 6;
                  break;
                }
                robotEngine_logger.failed("Eligibility Rule Set ".concat(eligibilityRuleSet, " is not an array"));
                return _context9.abrupt("return", false);
              case 6:
                isEligible = previousIsEligible;
                _iterator14 = robotEngine_createForOfIteratorHelper(eligibilityRuleSet);
                _context9.prev = 8;
                _iterator14.s();
              case 10:
                if ((_step14 = _iterator14.n()).done) {
                  _context9.next = 57;
                  break;
                }
                eligibilityRule = _step14.value;
                if (!(typeof eligibilityRule === "string")) {
                  _context9.next = 49;
                  break;
                }
                if (eligibilitySetType) {
                  _context9.next = 21;
                  break;
                }
                _context9.next = 16;
                return this.checkEligibility(eligibilityRule);
              case 16:
                isEligible = _context9.sent;
                if (isEligible) {
                  _context9.next = 19;
                  break;
                }
                return _context9.abrupt("return", false);
              case 19:
                _context9.next = 47;
                break;
              case 21:
                if (!eligibilitySetType) {
                  _context9.next = 47;
                  break;
                }
                if (!(isEligible === null)) {
                  _context9.next = 27;
                  break;
                }
                _context9.next = 25;
                return this.checkEligibility(eligibilityRule);
              case 25:
                isEligible = _context9.sent;
                return _context9.abrupt("continue", 55);
              case 27:
                _context9.t0 = eligibilitySetType;
                _context9.next = _context9.t0 === "or" ? 30 : _context9.t0 === "and" ? 37 : 44;
                break;
              case 30:
                _context9.t1 = isEligible;
                if (_context9.t1) {
                  _context9.next = 35;
                  break;
                }
                _context9.next = 34;
                return this.checkEligibility(eligibilityRule, eligibilitySetType);
              case 34:
                _context9.t1 = _context9.sent;
              case 35:
                isEligible = _context9.t1;
                return _context9.abrupt("break", 47);
              case 37:
                _context9.t2 = isEligible;
                if (!_context9.t2) {
                  _context9.next = 42;
                  break;
                }
                _context9.next = 41;
                return this.checkEligibility(eligibilityRule, eligibilitySetType);
              case 41:
                _context9.t2 = _context9.sent;
              case 42:
                isEligible = _context9.t2;
                return _context9.abrupt("break", 47);
              case 44:
                robotEngine_logger.failed("Unknown eligibilitySetType: ", eligibilitySetType);
                isEligible = false;
                return _context9.abrupt("break", 47);
              case 47:
                _context9.next = 55;
                break;
              case 49:
                if (!(_typeof(eligibilityRule) === "object")) {
                  _context9.next = 55;
                  break;
                }
                _context9.next = 52;
                return this.checkEligibilityRuleSet(eligibilityRule.set, eligibilityRule.type, isEligible);
              case 52:
                isEligible = _context9.sent;
                if (isEligible) {
                  _context9.next = 55;
                  break;
                }
                return _context9.abrupt("return", false);
              case 55:
                _context9.next = 10;
                break;
              case 57:
                _context9.next = 62;
                break;
              case 59:
                _context9.prev = 59;
                _context9.t3 = _context9["catch"](8);
                _iterator14.e(_context9.t3);
              case 62:
                _context9.prev = 62;
                _iterator14.f();
                return _context9.finish(62);
              case 65:
                return _context9.abrupt("return", isEligible);
              case 66:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee9, this, [[8, 59, 62, 65]]);
      }));
      function checkEligibilityRuleSet(_x11) {
        return _checkEligibilityRuleSet.apply(this, arguments);
      }
      return checkEligibilityRuleSet;
    }() // Return index of businessRule, this is the businessRuleId
  }, {
    key: "checkBusinessRules",
    value: function () {
      var _checkBusinessRules = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee10(businessRuleSet) {
        var _iterator15, _step15, _step15$value, index, businessRule;
        return regenerator_default().wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                _iterator15 = robotEngine_createForOfIteratorHelper(businessRuleSet.entries());
                _context10.prev = 1;
                _iterator15.s();
              case 3:
                if ((_step15 = _iterator15.n()).done) {
                  _context10.next = 11;
                  break;
                }
                _step15$value = _slicedToArray(_step15.value, 2), index = _step15$value[0], businessRule = _step15$value[1];
                _context10.next = 7;
                return this.checkEligibilityRuleSet([businessRule]);
              case 7:
                if (!_context10.sent) {
                  _context10.next = 9;
                  break;
                }
                return _context10.abrupt("return", index);
              case 9:
                _context10.next = 3;
                break;
              case 11:
                _context10.next = 16;
                break;
              case 13:
                _context10.prev = 13;
                _context10.t0 = _context10["catch"](1);
                _iterator15.e(_context10.t0);
              case 16:
                _context10.prev = 16;
                _iterator15.f();
                return _context10.finish(16);
              case 19:
                return _context10.abrupt("return", null);
              case 20:
              case "end":
                return _context10.stop();
            }
          }
        }, _callee10, this, [[1, 13, 16, 19]]);
      }));
      function checkBusinessRules(_x12) {
        return _checkBusinessRules.apply(this, arguments);
      }
      return checkBusinessRules;
    }()
  }]);
  return RobotEngine;
}();

;// CONCATENATED MODULE: ./src/BeagleRuleEngine/dataLayerChecker.js





var dataLayerChecker_logger = new src_logger("BeagleInfoLayerChecker");
var checkDataLayerRule = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee(rule) {
    var operator, condition, value, runtimeValue;
    return regenerator_default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            dataLayerChecker_logger.log("Checking rule", JSON.stringify(rule));
            operator = rule.operator, condition = rule.condition, value = rule.value;
            _context.next = 4;
            return dataLayerFinder(operator);
          case 4:
            runtimeValue = _context.sent;
            return _context.abrupt("return", conditionChecker(runtimeValue, condition, value));
          case 6:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return function checkDataLayerRule(_x) {
    return _ref.apply(this, arguments);
  };
}();
var dataLayerFinder = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2(key) {
    var res;
    return regenerator_default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            dataLayerChecker_logger.log("Searching beagleInfoLayer for key ", key);
            _context2.next = 3;
            return getFromBeagleInfoLayer(key);
          case 3:
            res = _context2.sent;
            if (!(res !== null && res !== undefined)) {
              _context2.next = 7;
              break;
            }
            dataLayerChecker_logger.success("Found key ".concat(key, " with value ").concat(res));
            return _context2.abrupt("return", res);
          case 7:
            dataLayerChecker_logger.failed("Key ".concat(key, " not found in beagleInfoLayer"));
            return _context2.abrupt("return", null);
          case 9:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return function dataLayerFinder(_x2) {
    return _ref2.apply(this, arguments);
  };
}();
;// CONCATENATED MODULE: ./src/BeagleRuleEngine/elementChecker.js


var elementChecker_logger = new src_logger("BeagleElementChecker");
var checkElementRule = function checkElementRule(rule) {
  elementChecker_logger.log("Checking rule", JSON.stringify(rule));
  var operator = rule.operator,
    condition = rule.condition,
    value = rule.value,
    selector = rule.selector,
    selectorAll = rule.selectorAll,
    _rule$selectorFallbac = rule.selectorFallback,
    selectorFallback = _rule$selectorFallbac === void 0 ? null : _rule$selectorFallbac;
  var mainSelector = selector;
  if (mainSelector && !window.top.document.querySelector(mainSelector)) {
    mainSelector = selectorFallback ? selectorFallback : mainSelector;
  }
  if (operator === null) {
    return conditionChecker(window.top.document.querySelector(mainSelector), condition, value);
  }
  if (mainSelector && !window.top.document.querySelector(mainSelector)) {
    elementChecker_logger.failed("Selector not found on page");
    return false;
  }
  if (selectorAll && !window.top.document.querySelectorAll(selectorAll)) {
    elementChecker_logger.failed("Selector not found on page");
    return false;
  }
  var element;
  if (mainSelector) element = window.top.document.querySelector(mainSelector);else if (selectorAll) element = Array.from(window.top.document.querySelectorAll(selectorAll));
  switch (operator) {
    case "text-number":
      {
        var tempVal;
        if (Array.isArray(element)) {
          tempVal = element.reduce(function (returnVal, elem) {
            returnVal += parseInt(elem.textContent.replace("TL", "").replace(".", ""));
            return returnVal;
          }, 0);
        } else {
          tempVal = parseInt(window.top.document.querySelector(mainSelector).textContent.replace("TL", "").replace(".", ""));
        }
        var runTimeValue = parseInt(tempVal);
        return conditionChecker(runTimeValue, condition, value);
      }
    case "classList":
      return conditionChecker(Array.from(element.classList), condition, value);
    case "count":
      {
        if (Array.isArray(element) && element.length > 0) {
          return conditionChecker(element.length, condition, value);
        } else if (element) {
          return conditionChecker(1, condition, value);
        } else {
          return conditionChecker(0, condition, value);
        }
      }
    case "style":
      {
        var elementStyles = getComputedStyle(element);
        var styleKey = value.split(":")[0].trim();
        var styleValue = value.split(":")[1].trim();
        var _runTimeValue = elementStyles[styleKey];
        return conditionChecker(_runTimeValue, condition, styleValue);
      }
    default:
      elementChecker_logger.failed("Operator not defined");
      return false;
  }
};
;// CONCATENATED MODULE: ./src/BeagleRuleEngine/functionChecker.js


var functionChecker_logger = new src_logger("BeagleFunctionChecker");
var checkFunctionRule = function checkFunctionRule(rule) {
  functionChecker_logger.log("Checking rule", JSON.stringify(rule));
  var operator = rule.operator,
    condition = rule.condition,
    value = rule.value;
  if (!operator) {
    functionChecker_logger.failed("Rule function not defined");
    return false;
  }
  var ruleFunction = Function(operator);
  var runtimeValue = ruleFunction();
  return conditionChecker(runtimeValue, condition, value);
};
;// CONCATENATED MODULE: ./src/BeagleRuleEngine/sessionChecker.js



var sessionChecker_logger = new src_logger("BeagleSessionChecker");
var checkSessionRule = function checkSessionRule(rule) {
  sessionChecker_logger.log("Checking rule", JSON.stringify(rule));
  var operator = rule.operator,
    condition = rule.condition,
    value = rule.value;
  switch (operator) {
    case "duration":
      return durationHandler(condition, value);
    case "history":
      return historyHandler(condition, value);
    default:
      return null;
  }
};
var getSessionTimestamp = function getSessionTimestamp() {
  try {
    return new Date(parseInt(window.sessionStorage.getItem(SESSION_STORAGE_KEYS.SESSION_TIMESTAMP)));
  } catch (err) {
    sessionChecker_logger.failed("Could not get session timestamp", err);
    return Date.now();
  }
};
var durationHandler = function durationHandler(condition, value) {
  var duration = (Date.now() - getSessionTimestamp()) / 1000;
  return conditionChecker(duration, condition, parseInt(value));
};
var historyHandler = function historyHandler(condition, value) {
  var _window$sessionStorag;
  var currentHistory = (_window$sessionStorag = window.sessionStorage.getItem(SESSION_STORAGE_KEYS.SESSION_HISTORY)) === null || _window$sessionStorag === void 0 ? void 0 : _window$sessionStorag.split(",");
  return conditionChecker(currentHistory, condition, value);
};
;// CONCATENATED MODULE: ./src/BeagleRuleEngine/urlChecker.js


var urlChecker_logger = new src_logger("BeagleUrlChecker");
var checkUrlRule = function checkUrlRule(rule) {
  urlChecker_logger.log("Checking rule", JSON.stringify(rule));
  var operator = rule.operator,
    condition = rule.condition,
    value = rule.value;
  switch (operator) {
    case "path":
      {
        var requestURL = window.top.location.href;
        var path = new URL(requestURL).pathname;
        urlChecker_logger.log("Checking path ".concat(path, " matches rule path ").concat(value));
        return conditionChecker(path, condition, value);
      }
    case "PLACEHOLDER":
      {
        return null;
      }
    default:
      return null;
  }
};
;// CONCATENATED MODULE: ./src/BeagleRuleEngine/envChecker.js



var envChecker_logger = new src_logger("BeagleEnvChecker");
var checkEnvRule = function checkEnvRule(rule) {
  envChecker_logger.log("Checking rule", JSON.stringify(rule));
  var operator = rule.operator,
    condition = rule.condition,
    value = rule.value;
  switch (operator) {
    case "device_type":
      {
        var isMobile = window.matchMedia(MOBILE_MEDIA_QUERY).matches ? "mobile" : "desktop";
        return conditionChecker(isMobile, condition, value);
      }
    case "PLACEHOLDER":
      {
        return null;
      }
    default:
      return null;
  }
};
;// CONCATENATED MODULE: ./src/BeagleRuleEngine/productInfoChecker.js







var productInfoChecker_logger = new src_logger("BeagleProductInfoChecker");
var checkProductInfoRule = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee(rule) {
    var _skuList$Object$keys$;
    var operator, condition, value, skuList, runtimeValue, sku;
    return regenerator_default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            productInfoChecker_logger.log("Checking rule", JSON.stringify(rule));
            operator = rule.operator, condition = rule.condition, value = rule.value;
            _context.next = 4;
            return getFromBeagleInfoLayer("__features.SKUsonPage", true);
          case 4:
            skuList = _context.sent;
            if (!(!skuList || _typeof(skuList) === "object" && !Object.keys(skuList).length)) {
              _context.next = 7;
              break;
            }
            return _context.abrupt("return", false);
          case 7:
            runtimeValue = null;
            sku = (_skuList$Object$keys$ = skuList[Object.keys(skuList)[0]]) === null || _skuList$Object$keys$ === void 0 ? void 0 : _skuList$Object$keys$.id;
            _context.t0 = operator;
            _context.next = _context.t0 === "transactionIn2Weeks" ? 12 : _context.t0 === "addToCartIn2Weeks" ? 17 : _context.t0 === "productViewCount" ? 22 : 27;
            break;
          case 12:
            productInfoChecker_logger.log("Getting TransactionCount for sku ", sku);
            _context.next = 15;
            return getTransactionCount(sku);
          case 15:
            runtimeValue = _context.sent;
            return _context.abrupt("break", 27);
          case 17:
            productInfoChecker_logger.log("Getting AddToCartCount for sku ", sku);
            _context.next = 20;
            return getAddToCartCount(sku);
          case 20:
            runtimeValue = _context.sent;
            return _context.abrupt("break", 27);
          case 22:
            productInfoChecker_logger.log("Getting productViewCount for sku ", sku);
            _context.next = 25;
            return getPreviewCount(sku);
          case 25:
            runtimeValue = _context.sent;
            return _context.abrupt("break", 27);
          case 27:
            return _context.abrupt("return", conditionChecker(runtimeValue, condition, value));
          case 28:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return function checkProductInfoRule(_x) {
    return _ref.apply(this, arguments);
  };
}();
var getTransactionCount = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2(sku) {
    var productInfo;
    return regenerator_default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return store.getInstance().get(sku);
          case 2:
            productInfo = _context2.sent;
            if (!(sku && productInfo)) {
              _context2.next = 5;
              break;
            }
            return _context2.abrupt("return", productInfo.saleCntVisitorsIn15);
          case 5:
            return _context2.abrupt("return", -1);
          case 6:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return function getTransactionCount(_x2) {
    return _ref2.apply(this, arguments);
  };
}();
var getAddToCartCount = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee3(sku) {
    var productInfo;
    return regenerator_default().wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return store.getInstance().get(sku);
          case 2:
            productInfo = _context3.sent;
            if (!(sku && productInfo)) {
              _context3.next = 5;
              break;
            }
            return _context3.abrupt("return", productInfo.cartCntVisitorsIn15);
          case 5:
            return _context3.abrupt("return", -1);
          case 6:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));
  return function getAddToCartCount(_x3) {
    return _ref3.apply(this, arguments);
  };
}();
var getPreviewCount = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee4(sku) {
    var productInfo;
    return regenerator_default().wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return store.getInstance().get(sku);
          case 2:
            productInfo = _context4.sent;
            if (!(sku && productInfo)) {
              _context4.next = 5;
              break;
            }
            return _context4.abrupt("return", productInfo.viewCntVisitorsIn1);
          case 5:
            return _context4.abrupt("return", -1);
          case 6:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));
  return function getPreviewCount(_x4) {
    return _ref4.apply(this, arguments);
  };
}();
;// CONCATENATED MODULE: ./src/BeagleRuleEngine/index.js






function BeagleRuleEngine_createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = BeagleRuleEngine_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function BeagleRuleEngine_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return BeagleRuleEngine_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return BeagleRuleEngine_arrayLikeToArray(o, minLen); }
function BeagleRuleEngine_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }












var BeagleRuleEngine_logger = new src_logger("BeagleRuleEngine");
var RuleEngine = /*#__PURE__*/function () {
  function RuleEngine(body) {
    _classCallCheck(this, RuleEngine);
    var eligibilityRules = body.eligibilityRules,
      baseRuleSet = body.baseRuleSet;
    this.baseRuleSet = baseRuleSet;
    this.eligibilityRules = eligibilityRules;
    this.addedDataListeners = [];
    this.mutex = new Mutex();
  }
  _createClass(RuleEngine, [{
    key: "checkRules",
    value: function () {
      var _checkRules = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee() {
        var _iterator, _step, rule, ruleSatisfied;
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _iterator = BeagleRuleEngine_createForOfIteratorHelper(this.baseRuleSet);
                _context.prev = 1;
                _iterator.s();
              case 3:
                if ((_step = _iterator.n()).done) {
                  _context.next = 12;
                  break;
                }
                rule = _step.value;
                _context.next = 7;
                return this.checkRule(rule);
              case 7:
                ruleSatisfied = _context.sent;
                if (ruleSatisfied) {
                  _context.next = 10;
                  break;
                }
                return _context.abrupt("return", false);
              case 10:
                _context.next = 3;
                break;
              case 12:
                _context.next = 17;
                break;
              case 14:
                _context.prev = 14;
                _context.t0 = _context["catch"](1);
                _iterator.e(_context.t0);
              case 17:
                _context.prev = 17;
                _iterator.f();
                return _context.finish(17);
              case 20:
                return _context.abrupt("return", true);
              case 21:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[1, 14, 17, 20]]);
      }));
      function checkRules() {
        return _checkRules.apply(this, arguments);
      }
      return checkRules;
    }()
  }, {
    key: "checkRule",
    value: function () {
      var _checkRule = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2(rule) {
        var chain, chain_condition, type, ruleSatisfied;
        return regenerator_default().wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                chain = rule.chain, chain_condition = rule.chain_condition, type = rule.type;
                ruleSatisfied = null; // check rule
                _context2.t0 = type;
                _context2.next = _context2.t0 === "session" ? 5 : _context2.t0 === "element" ? 7 : _context2.t0 === "dataLayer" ? 9 : _context2.t0 === "url" ? 13 : _context2.t0 === "function" ? 15 : _context2.t0 === "environment" ? 17 : _context2.t0 === "productInfoLookup" ? 19 : 23;
                break;
              case 5:
                ruleSatisfied = checkSessionRule(rule);
                return _context2.abrupt("break", 25);
              case 7:
                ruleSatisfied = checkElementRule(rule);
                return _context2.abrupt("break", 25);
              case 9:
                _context2.next = 11;
                return checkDataLayerRule(rule);
              case 11:
                ruleSatisfied = _context2.sent;
                return _context2.abrupt("break", 25);
              case 13:
                ruleSatisfied = checkUrlRule(rule);
                return _context2.abrupt("break", 25);
              case 15:
                ruleSatisfied = checkFunctionRule(rule);
                return _context2.abrupt("break", 25);
              case 17:
                ruleSatisfied = checkEnvRule(rule);
                return _context2.abrupt("break", 25);
              case 19:
                _context2.next = 21;
                return checkProductInfoRule(rule);
              case 21:
                ruleSatisfied = _context2.sent;
                return _context2.abrupt("break", 25);
              case 23:
                BeagleRuleEngine_logger.failed("No such rule type: ".concat(type));
                return _context2.abrupt("return", null);
              case 25:
                if (!chain) {
                  _context2.next = 51;
                  break;
                }
                _context2.t1 = chain_condition;
                _context2.next = _context2.t1 === "and" ? 29 : _context2.t1 === "or" ? 36 : _context2.t1 === "xor" ? 43 : 49;
                break;
              case 29:
                _context2.t2 = ruleSatisfied;
                if (!_context2.t2) {
                  _context2.next = 34;
                  break;
                }
                _context2.next = 33;
                return this.checkRule(chain);
              case 33:
                _context2.t2 = _context2.sent;
              case 34:
                ruleSatisfied = _context2.t2;
                return _context2.abrupt("break", 51);
              case 36:
                _context2.t3 = ruleSatisfied;
                if (_context2.t3) {
                  _context2.next = 41;
                  break;
                }
                _context2.next = 40;
                return this.checkRule(chain);
              case 40:
                _context2.t3 = _context2.sent;
              case 41:
                ruleSatisfied = _context2.t3;
                return _context2.abrupt("break", 51);
              case 43:
                _context2.t4 = ruleSatisfied;
                _context2.next = 46;
                return this.checkRule(chain);
              case 46:
                _context2.t5 = _context2.sent;
                ruleSatisfied = _context2.t4 != _context2.t5;
                return _context2.abrupt("break", 51);
              case 49:
                BeagleRuleEngine_logger.failed("No such chain condition");
                return _context2.abrupt("break", 51);
              case 51:
                return _context2.abrupt("return", ruleSatisfied ? rule.name || true : false);
              case 52:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));
      function checkRule(_x) {
        return _checkRule.apply(this, arguments);
      }
      return checkRule;
    }()
  }, {
    key: "assesEligibilityRules",
    value: function () {
      var _assesEligibilityRules = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee3() {
        var keyPromisesMap, _i, _Object$entries, _Object$entries$_i, key, rules, _iterator2, _step2, rule, _i2, _Object$entries2, _Object$entries2$_i, _key, rulePromises, satisfiedRuleIds;
        return regenerator_default().wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                addToBeagleInfoLayer("m", "assessing-eligibility-rules");
                keyPromisesMap = {};
                for (_i = 0, _Object$entries = Object.entries(this.eligibilityRules); _i < _Object$entries.length; _i++) {
                  _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), key = _Object$entries$_i[0], rules = _Object$entries$_i[1];
                  keyPromisesMap[key] = [];
                  _iterator2 = BeagleRuleEngine_createForOfIteratorHelper(rules);
                  try {
                    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
                      rule = _step2.value;
                      keyPromisesMap[key].push(this.checkRule(rule));
                    }
                  } catch (err) {
                    _iterator2.e(err);
                  } finally {
                    _iterator2.f();
                  }
                }
                _i2 = 0, _Object$entries2 = Object.entries(keyPromisesMap);
              case 4:
                if (!(_i2 < _Object$entries2.length)) {
                  _context3.next = 14;
                  break;
                }
                _Object$entries2$_i = _slicedToArray(_Object$entries2[_i2], 2), _key = _Object$entries2$_i[0], rulePromises = _Object$entries2$_i[1];
                _context3.next = 8;
                return Promise.all(rulePromises);
              case 8:
                satisfiedRuleIds = _context3.sent;
                addToBeagleInfoLayer("__eRules.".concat(_key), satisfiedRuleIds.filter(function (id) {
                  return id !== false;
                }));
                this.setUpListeners(_key, this.eligibilityRules[_key]);
              case 11:
                _i2++;
                _context3.next = 4;
                break;
              case 14:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));
      function assesEligibilityRules() {
        return _assesEligibilityRules.apply(this, arguments);
      }
      return assesEligibilityRules;
    }()
  }, {
    key: "assesEligibilityRulesCallBack",
    value: function () {
      var _assesEligibilityRulesCallBack = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee4(key, rules) {
        var _this = this;
        var release, _iterator3, _step3, _loop, _ret;
        return regenerator_default().wrap(function _callee4$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (!(!key || !rules || !rules.length)) {
                  _context5.next = 2;
                  break;
                }
                return _context5.abrupt("return");
              case 2:
                _context5.next = 4;
                return this.mutex.acquire();
              case 4:
                release = _context5.sent;
                BeagleRuleEngine_logger.log("Lock acquired for key ".concat(key));
                _context5.prev = 6;
                _iterator3 = BeagleRuleEngine_createForOfIteratorHelper(rules);
                _context5.prev = 8;
                _loop = /*#__PURE__*/regenerator_default().mark(function _loop() {
                  var rule, isEligible, current, filtered;
                  return regenerator_default().wrap(function _loop$(_context4) {
                    while (1) {
                      switch (_context4.prev = _context4.next) {
                        case 0:
                          rule = _step3.value;
                          _context4.next = 3;
                          return _this.checkRule(rule);
                        case 3:
                          isEligible = _context4.sent;
                          _context4.next = 6;
                          return getFromBeagleInfoLayer("__eRules.".concat(key));
                        case 6:
                          _context4.t0 = _context4.sent;
                          if (_context4.t0) {
                            _context4.next = 9;
                            break;
                          }
                          _context4.t0 = [];
                        case 9:
                          current = _context4.t0;
                          if (!isEligible) {
                            _context4.next = 19;
                            break;
                          }
                          if (!current.includes(rule.name)) {
                            _context4.next = 13;
                            break;
                          }
                          return _context4.abrupt("return", "continue");
                        case 13:
                          current.push(rule.name);
                          addToBeagleInfoLayer("__eRules.".concat(key), current);
                          if (!(key === "PageType")) {
                            _context4.next = 17;
                            break;
                          }
                          return _context4.abrupt("return", "break");
                        case 17:
                          _context4.next = 23;
                          break;
                        case 19:
                          if (current.includes(rule.name)) {
                            _context4.next = 21;
                            break;
                          }
                          return _context4.abrupt("return", "continue");
                        case 21:
                          filtered = current.filter(function (k) {
                            return k !== rule.name;
                          });
                          addToBeagleInfoLayer("__eRules.".concat(key), filtered);
                        case 23:
                        case "end":
                          return _context4.stop();
                      }
                    }
                  }, _loop);
                });
                _iterator3.s();
              case 11:
                if ((_step3 = _iterator3.n()).done) {
                  _context5.next = 20;
                  break;
                }
                return _context5.delegateYield(_loop(), "t0", 13);
              case 13:
                _ret = _context5.t0;
                if (!(_ret === "continue")) {
                  _context5.next = 16;
                  break;
                }
                return _context5.abrupt("continue", 18);
              case 16:
                if (!(_ret === "break")) {
                  _context5.next = 18;
                  break;
                }
                return _context5.abrupt("break", 20);
              case 18:
                _context5.next = 11;
                break;
              case 20:
                _context5.next = 25;
                break;
              case 22:
                _context5.prev = 22;
                _context5.t1 = _context5["catch"](8);
                _iterator3.e(_context5.t1);
              case 25:
                _context5.prev = 25;
                _iterator3.f();
                return _context5.finish(25);
              case 28:
                _context5.next = 33;
                break;
              case 30:
                _context5.prev = 30;
                _context5.t2 = _context5["catch"](6);
                BeagleRuleEngine_logger.failed("Error assessing rules for key: ".concat(key, " - ").concat(_context5.t2.message));
              case 33:
                _context5.prev = 33;
                BeagleRuleEngine_logger.log("Releasing lock for key: ".concat(key));
                release();
                return _context5.finish(33);
              case 37:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee4, this, [[6, 30, 33, 37], [8, 22, 25, 28]]);
      }));
      function assesEligibilityRulesCallBack(_x2, _x3) {
        return _assesEligibilityRulesCallBack.apply(this, arguments);
      }
      return assesEligibilityRulesCallBack;
    }()
  }, {
    key: "setUpListeners",
    value: function () {
      var _setUpListeners = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee5(key, rules) {
        var _this2 = this;
        var _this$extractRuleAttr, dataLayerRules, elementRules, _i3, _Object$entries3, _Object$entries3$_i, operator, _rules, boundAssesEligibilityRulesCallBack, _loop2, _i4, _Object$entries4;
        return regenerator_default().wrap(function _callee5$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _this$extractRuleAttr = this.extractRuleAttributes(rules), dataLayerRules = _this$extractRuleAttr.dataLayerRules, elementRules = _this$extractRuleAttr.elementRules;
                for (_i3 = 0, _Object$entries3 = Object.entries(dataLayerRules); _i3 < _Object$entries3.length; _i3++) {
                  _Object$entries3$_i = _slicedToArray(_Object$entries3[_i3], 2), operator = _Object$entries3$_i[0], _rules = _Object$entries3$_i[1];
                  boundAssesEligibilityRulesCallBack = this.assesEligibilityRulesCallBack.bind(this, key, _rules);
                  addDataListener(operator, boundAssesEligibilityRulesCallBack);
                }
                _loop2 = function _loop2() {
                  var _Object$entries4$_i = _slicedToArray(_Object$entries4[_i4], 2),
                    selector = _Object$entries4$_i[0],
                    rules = _Object$entries4$_i[1];
                  var observer = new MutationObserver(function (mutationList) {
                    if (window.top.document.readyState !== "complete") return;
                    var nodes = [];
                    var _iterator4 = BeagleRuleEngine_createForOfIteratorHelper(mutationList),
                      _step4;
                    try {
                      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
                        var mutationRecord = _step4.value;
                        nodes = [].concat(_toConsumableArray(nodes), _toConsumableArray(Array.from(mutationRecord.addedNodes)), _toConsumableArray(Array.from(mutationRecord.removedNodes)));
                      }
                      // exclude mutations that only update text
                    } catch (err) {
                      _iterator4.e(err);
                    } finally {
                      _iterator4.f();
                    }
                    if (nodes.every(function (n) {
                      return n.tagName === undefined;
                    })) return;
                    _this2.assesEligibilityRulesCallBack(key, rules);
                  });
                  if (selector === "body") {
                    observer.observe(window.top.document.body, {
                      subtree: true,
                      childList: true
                    });
                  } else {
                    observer.observe(window.top.document.querySelector(selector).parentNode, {
                      subtree: true,
                      childList: true
                    });
                  }
                };
                for (_i4 = 0, _Object$entries4 = Object.entries(elementRules); _i4 < _Object$entries4.length; _i4++) {
                  _loop2();
                }
              case 4:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee5, this);
      }));
      function setUpListeners(_x4, _x5) {
        return _setUpListeners.apply(this, arguments);
      }
      return setUpListeners;
    }()
  }, {
    key: "extractRuleAttributes",
    value: function extractRuleAttributes(rules) {
      var dataLayerRules = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var elementRules = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      if (!rules || !rules.length) return;
      var _iterator5 = BeagleRuleEngine_createForOfIteratorHelper(rules),
        _step5;
      try {
        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
          var rule = _step5.value;
          var type = rule.type;
          switch (type) {
            case "dataLayer":
              if (!dataLayerRules[rule.operator]) {
                dataLayerRules[rule.operator] = [];
              }
              dataLayerRules[rule.operator].push(rule);
              break;
            case "element":
              if (document.querySelector(rule.selector)) {
                elementRules[rule.selector] = elementRules[rule.selector] ? [].concat(_toConsumableArray(elementRules[rule.selector]), [rule]) : [rule];
                break;
              }
              if (document.querySelectorAll(rule.selectorAll).length) {
                elementRules[rule.selectorAll] = elementRules[rule.selectorAll] ? [].concat(_toConsumableArray(elementRules[rule.selectorAll]), [rule]) : [rule];
                break;
              }
              elementRules["body"] = elementRules["body"] ? [].concat(_toConsumableArray(elementRules["body"]), [rule]) : [rule];
              break;
          }
          if (rule.chain) {
            this.extractRuleAttributes([rule.chain], dataLayerRules, elementRules);
          }
        }
      } catch (err) {
        _iterator5.e(err);
      } finally {
        _iterator5.f();
      }
      return {
        dataLayerRules: dataLayerRules,
        elementRules: elementRules
      };
    }
  }], [{
    key: "getEligibilityRules",
    value: function () {
      var _getEligibilityRules = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee6() {
        var eligibilityRulesObj, elapsedHours;
        return regenerator_default().wrap(function _callee6$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.prev = 0;
                eligibilityRulesObj = window.localStorage.getItem(LOCAL_STORAGE_KEYS.ELIGIBILITY_RULES);
                if (!eligibilityRulesObj) {
                  _context7.next = 8;
                  break;
                }
                eligibilityRulesObj = JSON.parse(eligibilityRulesObj);
                if (!eligibilityRulesObj.timestamp) {
                  _context7.next = 8;
                  break;
                }
                elapsedHours = (Date.now() - eligibilityRulesObj.timestamp) / (1000 * 3600);
                if (!(elapsedHours < LOCAL_STORAGE_TTL_HOURS)) {
                  _context7.next = 8;
                  break;
                }
                return _context7.abrupt("return", eligibilityRulesObj.rules);
              case 8:
                _context7.next = 10;
                return fetchEligibilityRules();
              case 10:
                eligibilityRulesObj = _context7.sent;
                if (eligibilityRulesObj) {
                  _context7.next = 14;
                  break;
                }
                BeagleRuleEngine_logger.failed("Failed to fetch eligibility rules");
                return _context7.abrupt("return", null);
              case 14:
                eligibilityRulesObj = {
                  rules: eligibilityRulesObj,
                  timestamp: Date.now()
                };
                window.localStorage.setItem(LOCAL_STORAGE_KEYS.ELIGIBILITY_RULES, JSON.stringify(eligibilityRulesObj));
                return _context7.abrupt("return", eligibilityRulesObj.rules);
              case 19:
                _context7.prev = 19;
                _context7.t0 = _context7["catch"](0);
                BeagleRuleEngine_logger.failed("Could not get eligibility rules: ", _context7.t0.message);
                return _context7.abrupt("return", null);
              case 23:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee6, null, [[0, 19]]);
      }));
      function getEligibilityRules() {
        return _getEligibilityRules.apply(this, arguments);
      }
      return getEligibilityRules;
    }()
  }]);
  return RuleEngine;
}();

;// CONCATENATED MODULE: ./src/BeagleOn/index.js









var BeagleOn_logger = new src_logger("BeagleOnComponent");
var beagleOn = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee(identifier, debugMode, pageType, treatmentWeights) {
    var persistProductInfoPromise, eligibilityRulesAssessPromise, treatmentsPromise, searchParams, debugFilteredTreatments, treatments, treatmentRepository, matchedTreatments, robotEngine;
    return regenerator_default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            persistProductInfoPromise = store.getInstance().persistProductInfo();
            eligibilityRulesAssessPromise = assesEligibilityRules();
            treatmentsPromise = BeagleTreatmentRepository.getTreatments();
            injectStyleSheet();
            initiateSessionStorages();
            addToBeagleInfoLayer("m", "on-init");
            searchParams = window.location.search;
            debugFilteredTreatments = null;
            if (debugMode && searchParams.includes("filter=")) {
              debugFilteredTreatments = searchParams.slice(searchParams.indexOf("[") + 1, searchParams.lastIndexOf("]")).split(",").map(function (item) {
                return parseInt(item, 10);
              });
            }
            _context.next = 11;
            return treatmentsPromise;
          case 11:
            treatments = _context.sent;
            if (treatments) {
              _context.next = 15;
              break;
            }
            addToBeagleInfoLayer("m", "no-robot-weights");
            throw new Error("Failed to fetch treatments/weights");
          case 15:
            BeagleOn_logger.success("Found treatments: ", treatments);
            addToBeagleInfoLayer("m", "fetched-treatments");
            treatmentRepository = new BeagleTreatmentRepository({
              treatments: treatments,
              treatmentWeights: treatmentWeights
            });
            _context.next = 20;
            return treatmentRepository.getMatchedTreatments(debugMode);
          case 20:
            matchedTreatments = _context.sent;
            if (!(matchedTreatments === null)) {
              _context.next = 25;
              break;
            }
            addToBeagleInfoLayer("m", "no-user-segment");
            removeDocumentHide();
            return _context.abrupt("return");
          case 25:
            if (matchedTreatments.length) {
              _context.next = 30;
              break;
            }
            BeagleOn_logger.log("No treatments matched, returning without further action");
            addToBeagleInfoLayer("m", "no-robot-matched");
            removeDocumentHide();
            return _context.abrupt("return");
          case 30:
            addToBeagleInfoLayer("m", "found-matched-robots");
            _context.prev = 31;
            _context.next = 34;
            return eligibilityRulesAssessPromise;
          case 34:
            _context.next = 40;
            break;
          case 36:
            _context.prev = 36;
            _context.t0 = _context["catch"](31);
            addToBeagleInfoLayer("m", "no-rules-assessed");
            throw new Error("Could not asses eligibility rules");
          case 40:
            addToBeagleInfoLayer("m", "rules-assessed");
            _context.prev = 41;
            _context.next = 44;
            return persistProductInfoPromise;
          case 44:
            _context.next = 50;
            break;
          case 46:
            _context.prev = 46;
            _context.t1 = _context["catch"](41);
            addToBeagleInfoLayer("m", "product-into-no-persist");
            throw new Error("Could not persist product info");
          case 50:
            addToBeagleInfoLayer("m", "engaging-robots");
            robotEngine = new RobotEngine({
              debugFilteredTreatments: debugFilteredTreatments,
              debugMode: debugMode,
              matchedTreatments: matchedTreatments,
              identifier: identifier,
              pageType: pageType
            });
            _context.next = 54;
            return robotEngine.engageRobots();
          case 54:
            removeDocumentHide();
            addToBeagleInfoLayer("m", "robots-engaged");
            _context.t2 = BeagleOn_logger;
            _context.next = 59;
            return getFromBeagleInfoLayer("a");
          case 59:
            _context.t3 = _context.sent;
            _context.t2.success.call(_context.t2, "Applied treatments: ", _context.t3);
          case 61:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[31, 36], [41, 46]]);
  }));
  return function beagleOn(_x, _x2, _x3, _x4) {
    return _ref.apply(this, arguments);
  };
}();
function assesEligibilityRules() {
  return _assesEligibilityRules.apply(this, arguments);
}
function _assesEligibilityRules() {
  _assesEligibilityRules = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee2() {
    var eligibilityRules, ruleEngine;
    return regenerator_default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            addToBeagleInfoLayer("m", "fetching-eligibility-rules");
            _context2.next = 3;
            return RuleEngine.getEligibilityRules();
          case 3:
            eligibilityRules = _context2.sent;
            if (eligibilityRules) {
              _context2.next = 6;
              break;
            }
            return _context2.abrupt("return");
          case 6:
            addToBeagleInfoLayer("m", "fetched-eligibility-rules");
            ruleEngine = new RuleEngine({
              eligibilityRules: eligibilityRules
            });
            _context2.next = 10;
            return ruleEngine.assesEligibilityRules();
          case 10:
            addToBeagleInfoLayer("m", "assessed-eligibility-rules");
          case 11:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return _assesEligibilityRules.apply(this, arguments);
}
/* harmony default export */ var BeagleOn = (beagleOn);
;// CONCATENATED MODULE: ./src/BeagleInfoLayer/segment-computer.js





var segment_computer_logger = new src_logger("SegmentationComputer");
function computeSegment(_x) {
  return _computeSegment.apply(this, arguments);
}
function _computeSegment() {
  _computeSegment = _asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee(treatmentWeights) {
    var _i, _Object$keys, _treatmentWeights$seg, segment, ruleSet, segmentRuleEngine;
    return regenerator_default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            segment_computer_logger.log("Determining user segment");
            _context.prev = 1;
            _i = 0, _Object$keys = Object.keys(treatmentWeights);
          case 3:
            if (!(_i < _Object$keys.length)) {
              _context.next = 18;
              break;
            }
            segment = _Object$keys[_i];
            ruleSet = (_treatmentWeights$seg = treatmentWeights[segment]) === null || _treatmentWeights$seg === void 0 ? void 0 : _treatmentWeights$seg.ruleSet;
            if (ruleSet) {
              _context.next = 8;
              break;
            }
            return _context.abrupt("continue", 15);
          case 8:
            segmentRuleEngine = new RuleEngine({
              baseRuleSet: ruleSet,
              businessRuleSet: []
            });
            _context.next = 11;
            return segmentRuleEngine.checkRules();
          case 11:
            if (!_context.sent) {
              _context.next = 15;
              break;
            }
            segment_computer_logger.log("User segment matched: ".concat(segment));
            addToBeagleInfoLayer("s", segment);
            return _context.abrupt("return", segment);
          case 15:
            _i++;
            _context.next = 3;
            break;
          case 18:
            segment_computer_logger.log("User segment not matched");
            return _context.abrupt("return", null);
          case 22:
            _context.prev = 22;
            _context.t0 = _context["catch"](1);
            segment_computer_logger.failed("Could not compute user segment");
            return _context.abrupt("return", null);
          case 26:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[1, 22]]);
  }));
  return _computeSegment.apply(this, arguments);
}
;// CONCATENATED MODULE: ./src/BeagleClientSDK/index.js










var SHUTDOWN = false;
_asyncToGenerator( /*#__PURE__*/regenerator_default().mark(function _callee() {
  var monitor, logger, earlyLogSent, hideRemoved, _String$prototype, treatmentWeightsPromise, identifier, cookiePct, userSegment, treatmentWeights, oosReason, isLabelSent, timeoutCounter, debugMode, processAdminUser, isAdmin, isOn, pageType;
  return regenerator_default().wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          switchToEaseOut();
          monitor = null;
          logger = new src_logger();
          logger.info("Beagle initializing");
          window.dataLayer = window.dataLayer || [];
          earlyLogSent = false;
          hideRemoved = false;
          _context.prev = 7;
          /* ======================================== INIT TASKS ===================================== */

          addToBeagleInfoLayer("GLOV_ON", "not-sent | initializing");
          treatmentWeightsPromise = BeagleTreatmentRepository.getTreatmentWeights();
          monitor = new BeagleMonitor();
          initializeBeagleInfoLayer();
          _context.next = 14;
          return getIdentifier();
        case 14:
          identifier = _context.sent;
          logger.log("Found identifier: ", identifier);
          addToBeagleInfoLayer("cookieGaId", identifier);
          _context.next = 19;
          return determinePct(identifier);
        case 19:
          cookiePct = _context.sent;
          addToBeagleInfoLayer("onHashPct", cookiePct);
          addToBeagleInfoLayer("view_epoch", Date.now() + Math.random());
          addToBeagleInfoLayer("v", VERSION);
          addToBeagleInfoLayer("sr", SPLIT_RATIO);

          // data-less log to detect bounces
          _context.next = 26;
          return monitor.packAndQueueArrivalLog();
        case 26:
          setTimeout(function () {
            removeDocumentHide();
          }, 2000);

          /* ================================= EARLY PRUNE OUT-OF-SCOPE ============================== */
          userSegment = null;
          treatmentWeights = null;
          oosReason = window.localStorage.getItem(LOCAL_STORAGE_KEYS.OUT_OF_SCOPE);
          if (!(oosReason !== "unsupported")) {
            _context.next = 40;
            break;
          }
          _context.next = 33;
          return treatmentWeightsPromise;
        case 33:
          treatmentWeights = _context.sent;
          if (treatmentWeights) {
            _context.next = 37;
            break;
          }
          addToBeagleInfoLayer("m", "no-robot-weights");
          throw new Error("Unable to fetch weights");
        case 37:
          _context.next = 39;
          return computeSegment(treatmentWeights);
        case 39:
          userSegment = _context.sent;
        case 40:
          if (!(cookiePct === null || !navigator.sendBeacon || typeof navigator.sendBeacon !== "function" || typeof (String === null || String === void 0 ? void 0 : (_String$prototype = String.prototype) === null || _String$prototype === void 0 ? void 0 : _String$prototype.padStart) !== "function" || oosReason && oosReason === "unsupported" || !userSegment)) {
            _context.next = 45;
            break;
          }
          window.dataLayer.push({
            event: "GLOV",
            GLOV_ON: "unsupported"
          });
          window.localStorage.setItem(LOCAL_STORAGE_KEYS.OUT_OF_SCOPE, "unsupported");
          addToBeagleInfoLayer("GLOV_ON", "unsupported | device");
          throw new Error("unsupported-device");
        case 45:
          isLabelSent = window.localStorage.getItem(LOCAL_STORAGE_KEYS.IS_LABEL_SENT);
          timeoutCounter = parseInt(sessionStorage.getItem(SESSION_STORAGE_KEYS.TIMEOUT_COUNT)) || 0; // check if debug mode is on, also adds dbm to beagleInfoLayer and sets oosReason
          debugMode = getDebugMode("employee"); // if timed-out too many times for very first interactsions, make out of scope for the session
          if (!(!debugMode && !oosReason && !isLabelSent && timeoutCounter > MAX_TIMEOUT_PER_SESSION)) {
            _context.next = 52;
            break;
          }
          window.dataLayer.push({
            event: "GLOV",
            GLOV_ON: "unsupported"
          });
          addToBeagleInfoLayer("GLOV_ON", "unsupported | timeout");
          throw new Error("max-timeout");
        case 52:
          /* =================================== ADMIN USER CHECK ==================================== */
          // TODO: rename showroom logic to admin, and map vvsIsShowroom to a configurable admin param
          // if admin user, make out of scope and mark as employee
          processAdminUser = function processAdminUser() {
            window.dataLayer.push({
              event: "GLOV",
              GLOV_ON: "employee"
            });
            window.localStorage.setItem(LOCAL_STORAGE_KEYS.OUT_OF_SCOPE, "employee");
            window.localStorage.setItem(LOCAL_STORAGE_KEYS.IS_ADMIN, true);
            addToBeagleInfoLayer("GLOV_ON", "employee | admin");
            throw new Error("admin-employee");
          };
          isAdmin = window.localStorage.getItem(LOCAL_STORAGE_KEYS.IS_ADMIN); // if not found in localStorage, check beagleInfoLayer with blocking mdoe
          if (!(isAdmin === null || isAdmin === undefined)) {
            _context.next = 60;
            break;
          }
          _context.next = 57;
          return getFromBeagleInfoLayer("vvsIsShowroom", true);
        case 57:
          isAdmin = _context.sent;
          _context.next = 61;
          break;
        case 60:
          if (isAdmin === "false" || isAdmin === false) {
            // async call to getFromBeagleInfoLayer, then set localStorage
            getFromBeagleInfoLayer("vvsIsShowroom", true).then(function (isAdmin) {
              if (isAdmin && (isAdmin === "true" || isAdmin === true)) {
                processAdminUser();
              }
            });
          }
        case 61:
          if (!(isAdmin && (isAdmin === "true" || isAdmin === true))) {
            _context.next = 65;
            break;
          }
          processAdminUser();
          _context.next = 72;
          break;
        case 65:
          if (!(isAdmin === null || isAdmin === undefined)) {
            _context.next = 71;
            break;
          }
          sessionStorage.setItem(SESSION_STORAGE_KEYS.TIMEOUT_COUNT, timeoutCounter + 1);
          addToBeagleInfoLayer("GLOV_ON", "not-sent | timeout");
          throw new Error("no-admin-status");
        case 71:
          window.localStorage.setItem(LOCAL_STORAGE_KEYS.IS_ADMIN, false);
        case 72:
          if (window.top.document.documentElement.classList.contains("glov-ease")) {
            _context.next = 76;
            break;
          }
          sessionStorage.setItem(SESSION_STORAGE_KEYS.TIMEOUT_COUNT, timeoutCounter + 1);
          addToBeagleInfoLayer("GLOV_ON", "not-sent | timeout");
          throw new Error("anti-flicker-timeout");
        case 76:
          /* ===================================== ON/OFF CHECK ====================================== */
          // isOn can be true (ON), false (OFF)
          isOn = null;
          if (!debugMode) {
            _context.next = 84;
            break;
          }
          logger.log("Debug mode on: all applicable treatments will be applied");
          isOn = true;
          window.dataLayer.push({
            event: "GLOV",
            GLOV_ON: "employee"
          });
          addToBeagleInfoLayer("GLOV_ON", "employee | tester");
          _context.next = 100;
          break;
        case 84:
          if (!(oosReason && oosReason === "employee")) {
            _context.next = 91;
            break;
          }
          logger.warn("User is out of scope");
          // set isOn to true/false when not debugMode but out of scope i.e. nd_debug=0 for testability
          isOn = cookiePct >= SPLIT_RATIO;
          window.dataLayer.push({
            event: "GLOV",
            GLOV_ON: "employee"
          });
          addToBeagleInfoLayer("GLOV_ON", "employee | tester");
          _context.next = 100;
          break;
        case 91:
          if (!oosReason) {
            _context.next = 96;
            break;
          }
          addToBeagleInfoLayer("GLOV_ON", "not-sent | unknown");
          throw new Error("Unknown out of scope reason");
        case 96:
          // if greater than SPLIT_RATIO, then in ON mode
          if (cookiePct >= SPLIT_RATIO) {
            isOn = true;
            window.dataLayer.push({
              event: "GLOV",
              GLOV_ON: "true"
            });
          } else if (cookiePct >= SPLIT_RATIO / 2) {
            isOn = false;
            window.dataLayer.push({
              event: "GLOV",
              GLOV_ON: "false2"
            });
          } else {
            isOn = false;
            window.dataLayer.push({
              event: "GLOV",
              GLOV_ON: "false1"
            });
          }
          addToBeagleInfoLayer("isOn", isOn);
          window.localStorage.setItem(LOCAL_STORAGE_KEYS.IS_LABEL_SENT, true);
          addToBeagleInfoLayer("GLOV_ON", isOn.toString());
        case 100:
          _context.next = 102;
          return getFromBeagleInfoLayer("PageType", true);
        case 102:
          pageType = _context.sent;
          if (!(pageType === "purchase")) {
            _context.next = 113;
            break;
          }
          _context.next = 106;
          return getFromBeagleInfoLayer("purchase.revenue", true, 50, 5000);
        case 106:
          _context.next = 108;
          return getFromBeagleInfoLayer("purchase.paymentType", true, 50, 5000);
        case 108:
          _context.next = 110;
          return monitor.sendLogs(true);
        case 110:
          // if purchase is complete, do not apply any treatments on the confirmation page
          SHUTDOWN = true;
          _context.next = 114;
          break;
        case 113:
          // send logs when ready, start scraping and sending asyncly
          monitor.sendLogs(false);
        case 114:
          earlyLogSent = true;

          /* ======================================= ROBOT PATHs ===================================== */
          if (!(isOn === true)) {
            _context.next = 119;
            break;
          }
          if (!SHUTDOWN) {
            logger.log("Beagle ON Group Path");
            BeagleOn(identifier, debugMode, pageType, treatmentWeights);
          } else {
            logger.info("Beagle ON Group SHUTDOWN Path");
            removeDocumentHide();
            hideRemoved = true;
          }
          _context.next = 126;
          break;
        case 119:
          if (!(isOn === false)) {
            _context.next = 125;
            break;
          }
          logger.info("Beagle OFF Group Path");
          removeDocumentHide();
          hideRemoved = true;
          _context.next = 126;
          break;
        case 125:
          throw new Error("isOn is undefined or null");
        case 126:
          _context.next = 134;
          break;
        case 128:
          _context.prev = 128;
          _context.t0 = _context["catch"](7);
          logger.warn("Beagle Early Scope-out or ERROR: ", _context.t0.message);
          addToBeagleInfoLayer("m", _context.t0.message);
          if (!earlyLogSent && monitor) monitor.sendLogs(false);
          if (!hideRemoved) removeDocumentHide();
        case 134:
        case "end":
          return _context.stop();
      }
    }
  }, _callee, null, [[7, 128]]);
}))();
}();
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNjLFFBQVEsQ0FBQyxLQUFLLENBQUM7VUFDckQsSUFBSSxDQUFDWixXQUFXLEVBQUV0MEIsa0JBQWtCLEVBQUU7UUFBQztRQUFBO1VBQUE7TUFBQTtJQUFBO0VBQUE7QUFBQSxDQUUxQyxJQUFHLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9yZWdlbmVyYXRvclJ1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9QcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvUHJvcGVydHlLZXkuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9zdHJpbmdVdGlscy5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9zcmMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aEhvbGVzLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlMaWtlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRob3V0SG9sZXMuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvc3JjL0JlYWdsZURhdGFDb2xsZWN0aW9uL3N0b3JlLmNvbmZpZy5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9zcmMvQmVhZ2xlRGF0YUNvbGxlY3Rpb24vYXBpLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9CZWFnbGVEYXRhQ29sbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9zcmMvQmVhZ2xlSW5mb0xheWVyL2luZGV4LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9CZWFnbGVNb25pdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9CZWFnbGVUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9CZWFnbGVBcHBseUFjdGlvbnMvcmVwbGFjZS11dGlscy5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9zcmMvR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeS9zdG9yZS5jb25maWcuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvc3JjL0dsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvc3JjL0dsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkvc3RvcmUuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvc3JjL0JlYWdsZUFwcGx5QWN0aW9ucy9hY3Rpb24tY29uZGl0aW9uLXV0aWwuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvc3JjL0JlYWdsZUFwcGx5QWN0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvYXN5bmMtbXV0ZXgvaW5kZXgubWpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9CZWFnbGVPbi9yb2JvdEVuZ2luZS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9zcmMvQmVhZ2xlUnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9CZWFnbGVSdWxlRW5naW5lL2VsZW1lbnRDaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9CZWFnbGVSdWxlRW5naW5lL2Z1bmN0aW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9zcmMvQmVhZ2xlUnVsZUVuZ2luZS9zZXNzaW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9zcmMvQmVhZ2xlUnVsZUVuZ2luZS91cmxDaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9CZWFnbGVSdWxlRW5naW5lL2VudkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvc3JjL0JlYWdsZVJ1bGVFbmdpbmUvcHJvZHVjdEluZm9DaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9CZWFnbGVSdWxlRW5naW5lL2luZGV4LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9jb3JlL3NyYy9CZWFnbGVPbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvY29yZS9zcmMvQmVhZ2xlSW5mb0xheWVyL3NlZ21lbnQtY29tcHV0ZXIuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL2NvcmUvc3JjL0JlYWdsZUNsaWVudFNESy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlMaWtlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaXRlcmFibGVUb0FycmF5TGltaXQuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcmVnZW5lcmF0b3JSdW50aW1lLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b1ByaW1pdGl2ZS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Qcm9wZXJ0eUtleS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NvcmUvY29yZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvUHJpbWl0aXZlLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Qcm9wZXJ0eUtleS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9zcmMvc3RyaW5nVXRpbHMuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL3NyYy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhIb2xlcy5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlMaWtlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVSZXN0LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL3NyYy9CZWFnbGVEYXRhQ29sbGVjdGlvbi9zdG9yZS5jb25maWcuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL3NyYy9CZWFnbGVEYXRhQ29sbGVjdGlvbi9hcGkuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL3NyYy9CZWFnbGVEYXRhQ29sbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvc3JjL0JlYWdsZUluZm9MYXllci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvc3JjL0JlYWdsZU1vbml0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL3NyYy9CZWFnbGVUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9zcmMvQmVhZ2xlQXBwbHlBY3Rpb25zL3JlcGxhY2UtdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL3NyYy9HbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5L3N0b3JlLmNvbmZpZy5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvc3JjL0dsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL3NyYy9HbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5L3N0b3JlLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9zcmMvQmVhZ2xlQXBwbHlBY3Rpb25zL2FjdGlvbi1jb25kaXRpb24tdXRpbC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvc3JjL0JlYWdsZUFwcGx5QWN0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvbm9kZV9tb2R1bGVzL2FzeW5jLW11dGV4L2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvc3JjL0JlYWdsZU9uL3JvYm90RW5naW5lLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9zcmMvQmVhZ2xlUnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9zcmMvQmVhZ2xlUnVsZUVuZ2luZS9lbGVtZW50Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvc3JjL0JlYWdsZVJ1bGVFbmdpbmUvZnVuY3Rpb25DaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9zcmMvQmVhZ2xlUnVsZUVuZ2luZS9zZXNzaW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvc3JjL0JlYWdsZVJ1bGVFbmdpbmUvdXJsQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvc3JjL0JlYWdsZVJ1bGVFbmdpbmUvZW52Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvc3JjL0JlYWdsZVJ1bGVFbmdpbmUvcHJvZHVjdEluZm9DaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvY29yZS9zcmMvQmVhZ2xlUnVsZUVuZ2luZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlL2NvcmUvc3JjL0JlYWdsZU9uL2luZGV4LmpzIiwid2VicGFjazovL2NvcmUvY29yZS9zcmMvQmVhZ2xlSW5mb0xheWVyL3NlZ21lbnQtY29tcHV0ZXIuanMiLCJ3ZWJwYWNrOi8vY29yZS9jb3JlL3NyYy9CZWFnbGVDbGllbnRTREsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29yZS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5TGlrZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5V2l0aEhvbGVzLmpzIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9ub25JdGVyYWJsZVJlc3QuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3JlZ2VuZXJhdG9yUnVudGltZS5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9QcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvUHJvcGVydHlLZXkuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NvcmUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vY29yZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY29yZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9QcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b1Byb3BlcnR5S2V5LmpzIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhIb2xlcy5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlMaWtlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVSZXN0LmpzIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL2NvcmUvLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVEYXRhQ29sbGVjdGlvbi9zdG9yZS5jb25maWcuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVEYXRhQ29sbGVjdGlvbi9hcGkuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVEYXRhQ29sbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vc3JjL0JlYWdsZUluZm9MYXllci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vc3JjL0JlYWdsZU1vbml0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4LmpzIiwid2VicGFjazovL2NvcmUvLi9zcmMvc3RyaW5nVXRpbHMuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVBcHBseUFjdGlvbnMvcmVwbGFjZS11dGlscy5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vc3JjL0dsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkvc3RvcmUuY29uZmlnLmpzIiwid2VicGFjazovL2NvcmUvLi9zcmMvR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vc3JjL0dsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkvc3RvcmUuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVBcHBseUFjdGlvbnMvYWN0aW9uLWNvbmRpdGlvbi11dGlsLmpzIiwid2VicGFjazovL2NvcmUvLi9zcmMvQmVhZ2xlQXBwbHlBY3Rpb25zL2luZGV4LmpzIiwid2VicGFjazovL2NvcmUvLi9ub2RlX21vZHVsZXMvYXN5bmMtbXV0ZXgvaW5kZXgubWpzIiwid2VicGFjazovL2NvcmUvLi9zcmMvQmVhZ2xlT24vcm9ib3RFbmdpbmUuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVSdWxlRW5naW5lL2VsZW1lbnRDaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvLi9zcmMvQmVhZ2xlUnVsZUVuZ2luZS9mdW5jdGlvbkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVSdWxlRW5naW5lL3Nlc3Npb25DaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvLi9zcmMvQmVhZ2xlUnVsZUVuZ2luZS91cmxDaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvLi9zcmMvQmVhZ2xlUnVsZUVuZ2luZS9lbnZDaGVja2VyLmpzIiwid2VicGFjazovL2NvcmUvLi9zcmMvQmVhZ2xlUnVsZUVuZ2luZS9wcm9kdWN0SW5mb0NoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVSdWxlRW5naW5lL2luZGV4LmpzIiwid2VicGFjazovL2NvcmUvLi9zcmMvQmVhZ2xlT24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29yZS8uL3NyYy9CZWFnbGVJbmZvTGF5ZXIvc2VnbWVudC1jb21wdXRlci5qcyIsIndlYnBhY2s6Ly9jb3JlLy4vc3JjL0JlYWdsZUNsaWVudFNESy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuL3R5cGVvZi5qc1wiKVtcImRlZmF1bHRcIl07XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkge1xuICBcInVzZSBzdHJpY3RcIjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqL1xuICBtb2R1bGUuZXhwb3J0cyA9IF9yZWdlbmVyYXRvclJ1bnRpbWUgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkge1xuICAgIHJldHVybiBleHBvcnRzO1xuICB9LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG4gIHZhciBleHBvcnRzID0ge30sXG4gICAgT3AgPSBPYmplY3QucHJvdG90eXBlLFxuICAgIGhhc093biA9IE9wLmhhc093blByb3BlcnR5LFxuICAgIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uIChvYmosIGtleSwgZGVzYykge1xuICAgICAgb2JqW2tleV0gPSBkZXNjLnZhbHVlO1xuICAgIH0sXG4gICAgJFN5bWJvbCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sXG4gICAgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLFxuICAgIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIixcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICB3cml0YWJsZTogITBcbiAgICB9KSwgb2JqW2tleV07XG4gIH1cbiAgdHJ5IHtcbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcixcbiAgICAgIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKSxcbiAgICAgIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG4gICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGdlbmVyYXRvciwgXCJfaW52b2tlXCIsIHtcbiAgICAgIHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpXG4gICAgfSksIGdlbmVyYXRvcjtcbiAgfVxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJub3JtYWxcIixcbiAgICAgICAgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwidGhyb3dcIixcbiAgICAgICAgYXJnOiBlcnJcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJiBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiYgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSAmJiAoSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSk7XG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24gKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChcInRocm93XCIgIT09IHJlY29yZC50eXBlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnLFxuICAgICAgICAgIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgXCJvYmplY3RcIiA9PSBfdHlwZW9mKHZhbHVlKSAmJiBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpID8gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pIDogUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAodW53cmFwcGVkKSB7XG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkLCByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgfVxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG4gICAgZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW52b2tlXCIsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShtZXRob2QsIGFyZykge1xuICAgICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID0gcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICAgIHJldHVybiBmdW5jdGlvbiAobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChcImV4ZWN1dGluZ1wiID09PSBzdGF0ZSkgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIGlmIChcImNvbXBsZXRlZFwiID09PSBzdGF0ZSkge1xuICAgICAgICBpZiAoXCJ0aHJvd1wiID09PSBtZXRob2QpIHRocm93IGFyZztcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29udGV4dC5tZXRob2QgPSBtZXRob2QsIGNvbnRleHQuYXJnID0gYXJnOzspIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJuZXh0XCIgPT09IGNvbnRleHQubWV0aG9kKSBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7ZWxzZSBpZiAoXCJ0aHJvd1wiID09PSBjb250ZXh0Lm1ldGhvZCkge1xuICAgICAgICAgIGlmIChcInN1c3BlbmRlZFN0YXJ0XCIgPT09IHN0YXRlKSB0aHJvdyBzdGF0ZSA9IFwiY29tcGxldGVkXCIsIGNvbnRleHQuYXJnO1xuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuICAgICAgICB9IGVsc2UgXCJyZXR1cm5cIiA9PT0gY29udGV4dC5tZXRob2QgJiYgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICBzdGF0ZSA9IFwiZXhlY3V0aW5nXCI7XG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKFwibm9ybWFsXCIgPT09IHJlY29yZC50eXBlKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID0gY29udGV4dC5kb25lID8gXCJjb21wbGV0ZWRcIiA6IFwic3VzcGVuZGVkWWllbGRcIiwgcmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcInRocm93XCIgPT09IHJlY29yZC50eXBlICYmIChzdGF0ZSA9IFwiY29tcGxldGVkXCIsIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiLCBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmcpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2ROYW1lID0gY29udGV4dC5tZXRob2QsXG4gICAgICBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2ROYW1lXTtcbiAgICBpZiAodW5kZWZpbmVkID09PSBtZXRob2QpIHJldHVybiBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBtZXRob2ROYW1lICYmIGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdICYmIChjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkLCBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSwgXCJ0aHJvd1wiID09PSBjb250ZXh0Lm1ldGhvZCkgfHwgXCJyZXR1cm5cIiAhPT0gbWV0aG9kTmFtZSAmJiAoY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbWV0aG9kTmFtZSArIFwiJyBtZXRob2RcIikpLCBDb250aW51ZVNlbnRpbmVsO1xuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG4gICAgaWYgKFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUpIHJldHVybiBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIiwgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbDtcbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG4gICAgcmV0dXJuIGluZm8gPyBpbmZvLmRvbmUgPyAoY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWUsIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IGNvbnRleHQubWV0aG9kICYmIChjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCksIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsKSA6IGluZm8gOiAoY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbCk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7XG4gICAgICB0cnlMb2M6IGxvY3NbMF1cbiAgICB9O1xuICAgIDEgaW4gbG9jcyAmJiAoZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdKSwgMiBpbiBsb2NzICYmIChlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXSwgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCIsIGRlbGV0ZSByZWNvcmQuYXJnLCBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbe1xuICAgICAgdHJ5TG9jOiBcInJvb3RcIlxuICAgIH1dLCB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApO1xuICB9XG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBpdGVyYWJsZS5uZXh0KSByZXR1cm4gaXRlcmFibGU7XG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSxcbiAgICAgICAgICBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIGZvciAoOyArK2kgPCBpdGVyYWJsZS5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHJldHVybiBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV0sIG5leHQuZG9uZSA9ICExLCBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQudmFsdWUgPSB1bmRlZmluZWQsIG5leHQuZG9uZSA9ICEwLCBuZXh0O1xuICAgICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbmV4dDogZG9uZVJlc3VsdFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGRvbmU6ICEwXG4gICAgfTtcbiAgfVxuICByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZVByb3BlcnR5KEdwLCBcImNvbnN0cnVjdG9yXCIsIHtcbiAgICB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgY29uZmlndXJhYmxlOiAhMFxuICB9KSwgZGVmaW5lUHJvcGVydHkoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwge1xuICAgIHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvbixcbiAgICBjb25maWd1cmFibGU6ICEwXG4gIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZ2VuRnVuICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gISFjdG9yICYmIChjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIgPT09IChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkpO1xuICB9LCBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbiAoZ2VuRnVuKSB7XG4gICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6IChnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSwgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApLCBnZW5GdW47XG4gIH0sIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fYXdhaXQ6IGFyZ1xuICAgIH07XG4gIH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KSwgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvciwgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uIChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICB2b2lkIDAgPT09IFByb21pc2VJbXBsICYmIChQcm9taXNlSW1wbCA9IFByb21pc2UpO1xuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksIFByb21pc2VJbXBsKTtcbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pID8gaXRlciA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgfSk7XG4gIH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCksIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yXCIpLCBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pLCBkZWZpbmUoR3AsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9KSwgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIHZhciBvYmplY3QgPSBPYmplY3QodmFsKSxcbiAgICAgIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGtleXMucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgZm9yICg7IGtleXMubGVuZ3RoOykge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHJldHVybiBuZXh0LnZhbHVlID0ga2V5LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0LmRvbmUgPSAhMCwgbmV4dDtcbiAgICB9O1xuICB9LCBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkLCB0aGlzLmRvbmUgPSAhMSwgdGhpcy5kZWxlZ2F0ZSA9IG51bGwsIHRoaXMubWV0aG9kID0gXCJuZXh0XCIsIHRoaXMuYXJnID0gdW5kZWZpbmVkLCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIXNraXBUZW1wUmVzZXQpIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICBcInRcIiA9PT0gbmFtZS5jaGFyQXQoMCkgJiYgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiYgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSAmJiAodGhpc1tuYW1lXSA9IHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdGhpcy5kb25lID0gITA7XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO1xuICAgICAgaWYgKFwidGhyb3dcIiA9PT0gcm9vdFJlY29yZC50eXBlKSB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB0aHJvdyBleGNlcHRpb247XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmV0dXJuIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiLCByZWNvcmQuYXJnID0gZXhjZXB0aW9uLCBjb250ZXh0Lm5leHQgPSBsb2MsIGNhdWdodCAmJiAoY29udGV4dC5tZXRob2QgPSBcIm5leHRcIiwgY29udGV4dC5hcmcgPSB1bmRlZmluZWQpLCAhIWNhdWdodDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldLFxuICAgICAgICAgIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgIGlmIChcInJvb3RcIiA9PT0gZW50cnkudHJ5TG9jKSByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpLFxuICAgICAgICAgICAgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgITApO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzRmluYWxseSkgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiYgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmluYWxseUVudHJ5ICYmIChcImJyZWFrXCIgPT09IHR5cGUgfHwgXCJjb250aW51ZVwiID09PSB0eXBlKSAmJiBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJiBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MgJiYgKGZpbmFsbHlFbnRyeSA9IG51bGwpO1xuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZXR1cm4gcmVjb3JkLnR5cGUgPSB0eXBlLCByZWNvcmQuYXJnID0gYXJnLCBmaW5hbGx5RW50cnkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MsIENvbnRpbnVlU2VudGluZWwpIDogdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChcInRocm93XCIgPT09IHJlY29yZC50eXBlKSB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgcmV0dXJuIFwiYnJlYWtcIiA9PT0gcmVjb3JkLnR5cGUgfHwgXCJjb250aW51ZVwiID09PSByZWNvcmQudHlwZSA/IHRoaXMubmV4dCA9IHJlY29yZC5hcmcgOiBcInJldHVyblwiID09PSByZWNvcmQudHlwZSA/ICh0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSByZWNvcmQudHlwZSAmJiBhZnRlckxvYyAmJiAodGhpcy5uZXh0ID0gYWZ0ZXJMb2MpLCBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG4gICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSByZXR1cm4gdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyksIHJlc2V0VHJ5RW50cnkoZW50cnkpLCBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuICAgIH0sXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbiBfY2F0Y2godHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfSwgXCJuZXh0XCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHVuZGVmaW5lZCksIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9LCBleHBvcnRzO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfcmVnZW5lcmF0b3JSdW50aW1lLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiAobW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cyksIF90eXBlb2Yob2JqKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsIi8vIFRPRE8oQmFiZWwgOCk6IFJlbW92ZSB0aGlzIGZpbGUuXG5cbnZhciBydW50aW1lID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvcmVnZW5lcmF0b3JSdW50aW1lXCIpKCk7XG5tb2R1bGUuZXhwb3J0cyA9IHJ1bnRpbWU7XG5cbi8vIENvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vcGFja2FnZXMvcnVudGltZS9ydW50aW1lLmpzI0w3MzY9XG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSBcIm9iamVjdFwiKSB7XG4gICAgZ2xvYmFsVGhpcy5yZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xuICB9IGVsc2Uge1xuICAgIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG4gIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuXHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTtcbiAgICAgIH1cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufSIsImltcG9ydCBfdHlwZW9mIGZyb20gXCIuL3R5cGVvZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7XG4gIGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTtcbn0iLCJpbXBvcnQgX3R5cGVvZiBmcm9tIFwiLi90eXBlb2YuanNcIjtcbmltcG9ydCB0b1ByaW1pdGl2ZSBmcm9tIFwiLi90b1ByaW1pdGl2ZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gIHZhciBrZXkgPSB0b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7XG59IiwiaW1wb3J0IHRvUHJvcGVydHlLZXkgZnJvbSBcIi4vdG9Qcm9wZXJ0eUtleS5qc1wiO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufSIsImV4cG9ydCBjb25zdCByZXBsYWNlQWxsID0gKHN0ciwgZmluZCwgcmVwbGFjZSA9IFwiXCIpID0+IHtcbiAgaWYgKCFzdHIpIHJldHVybiBcIlwiO1xuXG4gIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZmluZCk7XG4gIGlmIChpbmRleCA8IDApIHJldHVybiBzdHI7XG5cbiAgd2hpbGUgKHN0ci5pbmRleE9mKGZpbmQpID49IDApIHtcbiAgICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKGZpbmQpO1xuICAgIHN0ciA9IChpbmRleCA+IDAgPyBzdHIuc3Vic3RyaW5nKDAsIGluZGV4KSA6IFwiXCIpICsgcmVwbGFjZSArIHN0ci5zdWJzdHJpbmcoaW5kZXggKyBmaW5kLmxlbmd0aCk7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufTtcblxuZXhwb3J0IGNvbnN0IHR1cmtpc2hUb0xvd2VyID0gKHN0cikgPT4ge1xuICBpZiAoIXN0ciB8fCB0eXBlb2Ygc3RyICE9PSBcInN0cmluZ1wiKSByZXR1cm4gc3RyO1xuICBsZXQgc3RyaW5nID0gc3RyO1xuICBjb25zdCBsZXR0ZXJzID0ge1wixLBcIjogXCJpXCIsIFwiSVwiOiBcIsSxXCIsIFwixZ5cIjogXCLFn1wiLCBcIsSeXCI6IFwixJ9cIiwgXCLDnFwiOiBcIsO8XCIsIFwiw5ZcIjogXCLDtlwiLCBcIsOHXCI6IFwiw6dcIn07XG4gIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8oKFvEsEnFnsSew5zDh8OWXSkpL2csIGZ1bmN0aW9uKGxldHRlcikge1xuICAgIHJldHVybiBsZXR0ZXJzW2xldHRlcl07XG4gIH0pO1xuICByZXR1cm4gc3RyaW5nLnRvTG93ZXJDYXNlKCk7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtyZXBsYWNlQWxsfSBmcm9tIFwiLi9zdHJpbmdVdGlsc1wiO1xuY29uc3QgaXNTdGFnaW5nID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwic3RhZ2luZy52aXZlbnNlXCIpIDogdHJ1ZTtcblxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSBcIjAuMC4zOS41XCI7XG5leHBvcnQgY29uc3QgQ09PS0lFX05BTUUgPSBcIl9nYVwiO1xuLy8gVE9ETyByZXZlcnQgdGhlIGZvbGxvd2luZyBzdGFnaW5nIGVudiBjaGVjayBhZnRlciBtb3ZpbmcgdG8gbmV3IGJyYW5jaCBzdHJ1Y3R1cmVcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRTX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi90cmVhdG1lbnRzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTiA9IFwiaHR0cHM6Ly9ob3N0LWI5Ni5wYWdlcy5kZXYvd2VpZ2h0cy5qc29uXCI7XG5leHBvcnQgY29uc3QgU1RZTEVTSEVFVF9MT0NBVElPTiA9IGlzU3RhZ2luZyA/IFwiaHR0cHM6Ly9uZHZpdmVuc2UuZ2xvdi5haS9uZC1zdHlsZXNfc3RhZ2luZy5jc3NcIiA6IGBodHRwczovL25kdml2ZW5zZS5nbG92LmFpL25kLXN0eWxlcy5jc3M/aWQ9JHtyZXBsYWNlQWxsKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTMpLnJlcGxhY2UoXCJUXCIsIFwiXCIpLCBcIi1cIiwgXCJcIil9YDtcbmV4cG9ydCBjb25zdCBFX1JVTEVTX0xPQ0FUSU9OID0gaXNTdGFnaW5nID8gXCJodHRwczovL25kdml2ZW5zZS5nbG92LmFpL2VsaWdpYmlsaXR5X3J1bGVzX3N0YWdpbmcuanNvblwiIDogXCJodHRwczovL25kdml2ZW5zZS5nbG92LmFpL2VsaWdpYmlsaXR5X3J1bGVzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBQUk9EVUNUX0lORk9fTE9DQVRJT04gPSBcImh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvc29jaWFsLXByb29mLXYyLXN0YWdpbmcuanNvblwiO1xuZXhwb3J0IGNvbnN0IExPR19BUElfVVJMID0gXCJodHRwczovL2V1cm9wZS13ZXN0My1uZXh0ZGF5LTM0ZWIzLmNsb3VkZnVuY3Rpb25zLm5ldC9hcGkvbG9nXCI7XG5leHBvcnQgY29uc3QgTE9PS1VQX0FQSV9VUkwgPSBcImh0dHBzOi8vY2F0YWxvZy1hcGkuYWRvcmFhaS5jb21cIjtcbmV4cG9ydCBjb25zdCBNT0JJTEVfTUVESUFfUVVFUlkgPSBcIihtYXgtd2lkdGg6IDQ0MHB4KVwiO1xuLy8gQ29udHJvbCBncm91cCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgU1BMSVRfUkFUSU8gPSA1MDtcbi8vIFNraXBwZWQgdHJlYXRtZW50IHBlcmNlbnRhZ2VcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRfUkFUSU8gPSA1MDtcbmV4cG9ydCBjb25zdCBMT0NBTF9TVE9SQUdFX1RUTF9IT1VSUyA9IDI7XG5leHBvcnQgY29uc3QgTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04gPSAxO1xuZXhwb3J0IGNvbnN0IExJU1RfTU9ERV9CRUFHTEVfS0VZUyA9IFtcInBhZ2V0eXBlXCIsIFwiY2F0ZWdvcnlcIiwgXCJhbGx0aW1lUExQQ2F0ZWdvcnlNb2RlXCIsIFwic2Vzc2lvblBMUENhdGVnb3J5TW9kZVwiLFxuICBcImFsbHRpbWVQRFBDYXRlZ29yeU1vZGVcIiwgXCJzZXNzaW9uUERQQ2F0ZWdvcnlNb2RlXCIsIFwiYWxsdGltZUNhcnRDYXRlZ29yeU1vZGVcIiwgXCJzZXNzaW9uQ2FydENhdGVnb3J5TW9kZVwiXTtcbmV4cG9ydCBjb25zdCBJRExFX1RJTUVPVVQgPSAxNTAwMDtcblxuZXhwb3J0IGNvbnN0IFNFU1NJT05fU1RPUkFHRV9LRVlTID0ge1xuICBTRVNTSU9OX1RJTUVTVEFNUDogXCJCR19TZXNzaW9uVGltZXN0YW1wXCIsXG4gIFNFU1NJT05fSElTVE9SWTogXCJCR19TZXNzaW9uSGlzdG9yeVwiLFxuICBQT1BVUF9ESVNQTEFZX0ZMQUc6IFwiQkdfUG9wdXBEaXNwbGF5RmxhZ1wiLFxuICBTS1VfSU5GT19CQVNLRVQ6IFwiQkdfUHJvZHVjdEluZm9CYXNrZXRcIixcbiAgVElNRU9VVF9DT1VOVDogXCJCR19UaW1lb3V0Q291bnRcIixcbiAgU0VTU0lPTl9SRUZFUlJFUjogXCJCR19TZXNzaW9uUmVmZXJyZXJcIixcbiAgTUFUQ0hFRF9UUkVBVE1FTlRTOiBcIkdMVl9NYXRjaGVkXCIsXG59O1xuZXhwb3J0IGNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZUyA9IHtcbiAgVFJFQVRNRU5UUzogXCJCR19UcmVhdG1lbnRzXCIsXG4gIFdFSUdIVFM6IFwiQkdfV2VpZ2h0c1wiLFxuICBFTElHSUJJTElUWV9SVUxFUzogXCJCR19FX1J1bGVzXCIsXG4gIERFQlVHX01PREU6IFwiQkdfRGVidWdcIixcbiAgT1VUX09GX1NDT1BFOiBcIkJHX091dE9mU2NvcGVcIixcbiAgSVNfTEFCRUxfU0VOVDogXCJCR19MYWJlbFNlbnRcIixcbiAgVVNFUl9JRDogXCJCR19Vc2VySWRfMDBcIixcbiAgREFUQV9DT0xMRUNUSU9OX0RBVEFfU0laRTogXCJCR19Db2xsZWN0aW9uRGF0YVNpemVcIixcbiAgSVNfQURNSU46IFwiR0xWX0lzQWRtaW5cIixcbn07XG5cbmV4cG9ydCBjb25zdCBDVVNUT01fU1RPUkFHRV9QUkVGSVggPSBcIkJHX1NlZ19cIjtcbiIsImltcG9ydCB7TE9DQUxfU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmNsYXNzIExvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKG9yaWdpbiA9IFwiQmVhZ2xlIENsaWVudCBTREtcIiwgdGVzdGluZyA9IGZhbHNlKSB7XG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgaWYgKHRlc3RpbmcpIHtcbiAgICAgIHRoaXMuREVCVUcgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLkRFQlVHID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ERUJVR19NT0RFKTtcbiAgICB9XG4gIH1cblxuICBpbmZvKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5pbmZvKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmIChERUJVRykge1xuICAgICAgY29uc29sZS5sb2coYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgZmFpbGVkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmICghREVCVUcpIHJldHVybjtcbiAgICBsZXQgbWVzc2FnZUNvbmZpZyA9IFwiJWMlcyAgIFwiO1xuXG4gICAgYXJncy5mb3JFYWNoKChhcmd1bWVudCkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBhcmd1bWVudDtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICBtZXNzYWdlQ29uZmlnICs9IFwiJWQgICBcIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVzICAgXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVvICAgXCI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2cobWVzc2FnZUNvbmZpZywgXCJjb2xvcjogcmVkXCIsIGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgc3VjY2VzcyguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoIURFQlVHKSByZXR1cm47XG4gICAgbGV0IG1lc3NhZ2VDb25maWcgPSBcIiVjJXMgICBcIjtcblxuICAgIGFyZ3MuZm9yRWFjaCgoYXJndW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgYXJndW1lbnQ7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVkICAgXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlcyAgIFwiO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlbyAgIFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2VDb25maWcsIFwiY29sb3I6IGdyZWVuXCIsIGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgd2FybiguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUud2FybihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGVycm9yKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5lcnJvcihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXI7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBudWxsID09IGFyciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcbiAgaWYgKG51bGwgIT0gX2kpIHtcbiAgICB2YXIgX3MsXG4gICAgICBfZSxcbiAgICAgIF94LFxuICAgICAgX3IsXG4gICAgICBfYXJyID0gW10sXG4gICAgICBfbiA9ICEwLFxuICAgICAgX2QgPSAhMTtcbiAgICB0cnkge1xuICAgICAgaWYgKF94ID0gKF9pID0gX2kuY2FsbChhcnIpKS5uZXh0LCAwID09PSBpKSB7XG4gICAgICAgIGlmIChPYmplY3QoX2kpICE9PSBfaSkgcmV0dXJuO1xuICAgICAgICBfbiA9ICExO1xuICAgICAgfSBlbHNlIGZvciAoOyAhKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApIHtcbiAgICAgICAgO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSAhMCwgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgbnVsbCAhPSBfaVtcInJldHVyblwiXSAmJiAoX3IgPSBfaVtcInJldHVyblwiXSgpLCBPYmplY3QoX3IpICE9PSBfcikpIHJldHVybjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfYXJyO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIGFycjI7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImltcG9ydCBhcnJheVdpdGhIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheUxpbWl0IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVJlc3QgZnJvbSBcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IG5vbkl0ZXJhYmxlUmVzdCgpO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRob3V0SG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRob3V0SG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVNwcmVhZCBmcm9tIFwiLi9ub25JdGVyYWJsZVNwcmVhZC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59IiwiaW1wb3J0IHRvUHJvcGVydHlLZXkgZnJvbSBcIi4vdG9Qcm9wZXJ0eUtleS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBrZXkgPSB0b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59IiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHthZGRUb0JlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBTVFlMRVNIRUVUX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTixcbiAgVFJFQVRNRU5UU19MT0NBVElPTixcbiAgRV9SVUxFU19MT0NBVElPTixcbiAgUFJPRFVDVF9JTkZPX0xPQ0FUSU9OLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVVdGlsc1wiKTtcbmNvbnN0IG1vbnRocyA9IHtcbiAgXCJvY2FrXCI6IDAsXG4gIFwixZ91YmF0XCI6IDEsXG4gIFwibWFydFwiOiAyLFxuICBcIm5pc2FuXCI6IDMsXG4gIFwibWF5xLFzXCI6IDQsXG4gIFwiaGF6aXJhblwiOiA1LFxuICBcInRlbW11elwiOiA2LFxuICBcImHEn3VzdG9zXCI6IDcsXG4gIFwiZXlsw7xsXCI6IDgsXG4gIFwiZWtpbVwiOiA5LFxuICBcImthc8SxbVwiOiAxMCxcbiAgXCJhcmFsxLFrXCI6IDExLFxufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZURvY3VtZW50SGlkZSA9ICgpID0+IHtcbiAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImdsb3YtZWFzZVwiKTtcbiAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImdsb3YtaGlkZVwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzd2l0Y2hUb0Vhc2VPdXQgPSBhc3luYyAoKSA9PiB7XG4gIGlmICghd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ2xvdi1oaWRlXCIpKSByZXR1cm47XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBlbC50ZXh0Q29udGVudCA9IGAuZ2xvdi1lYXNlIHtcbiAgICAtd2Via2l0LWFuaW1hdGlvbjogc21vb3RoIDJzIGVhc2UtaW47XG4gICAgLW1vei1hbmltYXRpb246IHNtb290aCAycyBlYXNlLWluO1xuICAgIC1vLWFuaW1hdGlvbjogc21vb3RoIDJzIGVhc2UtaW47XG4gICAgLW1zLWFuaW1hdGlvbjogc21vb3RoIDJzIGVhc2UtaW47XG4gICAgYW5pbWF0aW9uOiBzbW9vdGggMnMgZWFzZS1pbjtcbiAgfVxuICBcbiAgQGtleWZyYW1lcyBzbW9vdGgge1xuICAgIDAlIHsgb3BhY2l0eTogMDt9XG4gICAgMjUlIHsgb3BhY2l0eTogMC4yNTt9XG4gICAgNTAlIHsgb3BhY2l0eTogMC41O31cbiAgICA3NSUgeyBvcGFjaXR5OiAwLjc1O31cbiAgICAxMDAlIHsgb3BhY2l0eTogMTt9XG4gIH1cbiAgQC13ZWJraXQta2V5ZnJhbWVzIHNtb290aCB7XG4gICAgMCUgeyBvcGFjaXR5OiAwO31cbiAgICAyNSUgeyBvcGFjaXR5OiAwLjI1O31cbiAgICA1MCUgeyBvcGFjaXR5OiAwLjU7fVxuICAgIDc1JSB7IG9wYWNpdHk6IDAuNzU7fVxuICAgIDEwMCUgeyBvcGFjaXR5OiAxO31cbiAgfWA7XG4gIHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnByZXBlbmQoZWwpO1xuICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZ2xvdi1lYXNlXCIpO1xuICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZ2xvdi1oaWRlXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoVHJlYXRtZW50cyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgdHJlYXRtZW50c1wiKTtcbiAgICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hQbHVzKFRSRUFUTUVOVFNfTE9DQVRJT04pO1xuICAgIGlmICghdHJlYXRtZW50cykgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgY29uc3QganNvblRyZWF0bWVudCA9IGF3YWl0IHRyZWF0bWVudHMuanNvbigpO1xuICAgIHJldHVybiBqc29uVHJlYXRtZW50O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGZldGNoIHRyZWF0bWVudHNcIiwgZXJyLm1lc3NhZ2UpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnQgd2VpZ2h0c1wiKTtcbiAgICBjb25zdCB0cmVhdG1lbnRXZWlnaHRzID0gYXdhaXQgZmV0Y2hQbHVzKFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OKTtcbiAgICBpZiAoIXRyZWF0bWVudFdlaWdodHMpIHRocm93IG5ldyBFcnJvcigpO1xuICAgIGNvbnN0IGpzb25UcmVhdG1lbnRXZWlnaHRzID0gYXdhaXQgdHJlYXRtZW50V2VpZ2h0cy5qc29uKCk7XG4gICAgcmV0dXJuIGpzb25UcmVhdG1lbnRXZWlnaHRzO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGZldGNoIHRyZWF0bWVudCB3ZWlnaHRzXCIsIGVyci5tZXNzYWdlKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoRWxpZ2liaWxpdHlSdWxlcyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgZWxpZ2liaWxpdHkgcnVsZXNcIik7XG4gICAgY29uc3QgZWxpZ2liaWxpdHlSdWxlcyA9IGF3YWl0IGZldGNoUGx1cyhFX1JVTEVTX0xPQ0FUSU9OKTtcbiAgICBpZiAoIWVsaWdpYmlsaXR5UnVsZXMpIHRocm93IG5ldyBFcnJvcigpO1xuICAgIGNvbnN0IGpzb25FbGlnaWJpbGl0eVJ1bGVzID0gYXdhaXQgZWxpZ2liaWxpdHlSdWxlcy5qc29uKCk7XG4gICAgcmV0dXJuIGpzb25FbGlnaWJpbGl0eVJ1bGVzO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGZldGNoIGVsaWdpYmlsaXR5IHJ1bGVzXCIsIGVyci5tZXNzYWdlKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoUHJvZHVjdEluZm8gPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgbG9nZ2VyLmxvZyhcIkZldGNoaW5nIHByb2R1Y3QgaW5mb1wiKTtcbiAgICBjb25zdCBwcm9kdWN0SW5mbyA9IGF3YWl0IGZldGNoUGx1cyhQUk9EVUNUX0lORk9fTE9DQVRJT04pO1xuICAgIGlmICghcHJvZHVjdEluZm8pIHRocm93IG5ldyBFcnJvcigpO1xuICAgIGNvbnN0IHByb2R1Y3RJbmZvSnNvbiA9IGF3YWl0IHByb2R1Y3RJbmZvLmpzb24oKTtcbiAgICByZXR1cm4gcHJvZHVjdEluZm9Kc29uO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGZldGNoIHByb2R1Y3QgaW5mb1wiLCBlcnIubWVzc2FnZSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IHRpbWVvdXQgPSAodGltZSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgdGltZSk7XG4gIHJldHVybiBjb250cm9sbGVyO1xufTtcblxuY29uc3QgZmV0Y2hQbHVzID0gKHVybCwgb3B0aW9ucyA9IHt9LCByZXRyaWVzID0gNSkgPT5cbiAgZmV0Y2godXJsLCB7Li4ub3B0aW9ucywgc2lnbmFsOiB0aW1lb3V0KDUwMDApLnNpZ25hbH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXRyaWVzID4gMCkge1xuICAgICAgICAgIHJldHVybiBmZXRjaFBsdXModXJsLCBvcHRpb25zLCByZXRyaWVzIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5zdGF0dXMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKHJldHJpZXMgPiAwKSB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZldGNoIHRpbWVkIG91dCBSZXRyeWluZy4uLjogXCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgIHJldHVybiBmZXRjaFBsdXModXJsLCBvcHRpb25zLCByZXRyaWVzIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZldGNoIGZhaWxlZDogXCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuXG5leHBvcnQgY29uc3QgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIgPSAoY29va2llU3RyaW5nLCBjb29raWVOYW1lKSA9PiB7XG4gIGlmICghY29va2llU3RyaW5nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBwYXJzZWQgPSBjb29raWVTdHJpbmdcbiAgICAgIC5zcGxpdChcIjtcIilcbiAgICAgIC5tYXAoKHYpID0+IHYuc3BsaXQoXCI9XCIpKVxuICAgICAgLnJlZHVjZSgoYWNjLCB2KSA9PiB7XG4gICAgICAgIGlmICh2WzBdICYmIHZbMV0pIHtcbiAgICAgICAgICBhY2NbZGVjb2RlVVJJQ29tcG9uZW50KHZbMF0udHJpbSgpKV0gPSBkZWNvZGVVUklDb21wb25lbnQodlsxXS50cmltKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCB7fSk7XG5cbiAgbGV0IGlkZW50aWZpZXIgPSBwYXJzZWRbY29va2llTmFtZV07XG4gIGlmICghaWRlbnRpZmllcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChjb29raWVOYW1lID09PSBcIl9nYVwiKSB7XG4gICAgLy8gZXh0cmFjdCB1bmlxdWUgaWRlbnRpZmllciBmcm9tIEdBIGNvb2tpZVxuICAgIGNvbnN0IGlkZW50aWZpZXJJbmRleCA9IDI7XG4gICAgaWRlbnRpZmllciA9IGlkZW50aWZpZXIuc3BsaXQoXCIuXCIpW2lkZW50aWZpZXJJbmRleF07XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXI7XG59O1xuXG5leHBvcnQgY29uc3QgZGV0ZXJtaW5lUGN0ID0gYXN5bmMgKGlkZW50aWZpZXIpID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBoYXNoID0gZ2V0VW5zZWN1cmVIYXNoKGlkZW50aWZpZXIpO1xuICAgIGlmIChoYXNoID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGN0ID0gaGFzaCAlIDEwMDtcbiAgICBpZiAocGN0ID49IDAgJiYgcGN0IDwgMTAwKSB7XG4gICAgICByZXR1cm4gcGN0O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5lcnJvcihlKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGV4aXRTY3JvbGxMaXN0ZW5lciA9IChjYWxsQmFjaykgPT4ge1xuICBjb25zdCBsb29wID0gKCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBpZiAobGFzdFNjcm9sbFRvcCAtIDQwMCA+IHNjcm9sbFRvcCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChleGl0U2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgY2FsbEJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdFNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICB9XG4gIH07XG5cbiAgbGV0IGxhc3RTY3JvbGxUb3AgPSB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIGNvbnN0IGV4aXRTY3JvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGxvb3AsIDUwMCk7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYXBwbHkgdHJlYXRtZW50cyB0byB0aGUgcGFnZSBvbiBzcGVjaWZpYyBtZWRpYSB0eXBlLlxuICogQHBhcmFtIHtNZWRpYVF1ZXJ5TGlzdH0gbWVkaWFRdWVyeUNvbmRpdGlvbiB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDUwMHB4KVwiKVxuICogQHBhcmFtIHtET01Ob2RlTGlzdCB9IGVsZW1lbnRzIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXYucHJvZHVjdF9pbmZvXCIpXG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVDaGFuZ2VzTWFwIHsgXCJtYXJnaW4tdG9wXCIgOiBcIjEwcmVtXCJ9XG4gKiBAcmV0dXJuc1xuICovXG5cbmV4cG9ydCBjb25zdCBzdHlsZUFwcGxpY2F0b3IgPSAoZWxlbWVudHMsIHN0eWxlQ2hhbmdlc01hcCkgPT4ge1xuICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGUgY2hhbmdlc1wiLCBzdHlsZUNoYW5nZXNNYXAsIFwidG8gZWxlbWVudHNcIiwgZWxlbWVudHMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlQ2hhbmdlc01hcCkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdFN0eWxlU2hlZXQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHN0eWxlU2hlZXQgPSB3aW5kb3cudG9wLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICBzdHlsZVNoZWV0LnJlbCA9IFwic3R5bGVzaGVldFwiO1xuICBzdHlsZVNoZWV0LnR5cGUgPSBcInRleHQvY3NzXCI7XG4gIHN0eWxlU2hlZXQuaHJlZiA9IFNUWUxFU0hFRVRfTE9DQVRJT047XG4gIHdpbmRvdy50b3AuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVNoZWV0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlQWN0aW9ucyA9IGFzeW5jIChpZGVudGlmaWVyLCBhY3Rpb25zVG9QcmVwYXJlLCBidXNpbmVzc1J1bGVJZCwgZGVidWdNb2RlKSA9PiB7XG4gIGNvbnN0IGFjdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFjdGlvbnNUb1ByZXBhcmUpKTtcbiAgbGV0IHZhcmlhbnQgPSBudWxsO1xuICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgY29uc3Qge2J1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucywgdmFyaWFudHN9ID0gYWN0aW9uO1xuICAgIGlmICghYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zICYmICF2YXJpYW50cykgY29udGludWU7XG4gICAgaWYgKGJ1c2luZXNzUnVsZUlkICE9PSBudWxsICYmIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgZm9yIChjb25zdCBidXNpbmVzc1RyYW5zZm9ybWF0aW9uIG9mIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICBpZiAoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbi5pZCA9PT0gYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBidXNpbmVzc1RyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSBcImlkXCIpIHtcbiAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBidXNpbmVzc1RyYW5zZm9ybWF0aW9uW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh2YXJpYW50cykge1xuICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHZhcmlhbnRLZXldIG9mIE9iamVjdC5rZXlzKHZhcmlhbnRzKS5lbnRyaWVzKCkpIHtcbiAgICAgICAgY29uc3QgcmFuZG9tUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyB2YXJpYW50S2V5KTtcbiAgICAgICAgaWYgKGRlYnVnTW9kZSAmJiAhYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCkge1xuICAgICAgICAgIGFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQgPSBNYXRoLmZsb29yKDEwMCAvIE9iamVjdC5rZXlzKHZhcmlhbnRzKS5sZW5ndGgpICogKGluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJhbmRvbVBjdCA8IGFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQpIHtcbiAgICAgICAgICB2YXJpYW50ID0gdmFyaWFudEtleTtcbiAgICAgICAgICBpZiAoYnVzaW5lc3NSdWxlSWQgIT09IG51bGwgJiYgdmFyaWFudHNbdmFyaWFudEtleV0uYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJ1c2luZXNzVHJhbnNmb3JtYXRpb24gb2YgdmFyaWFudHNbdmFyaWFudEtleV0uYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgICAgICAgIGlmIChidXNpbmVzc1RyYW5zZm9ybWF0aW9uLmlkID09IGJ1c2luZXNzUnVsZUlkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiaWRcIikgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBhY3Rpb25ba2V5XSA9IGJ1c2luZXNzVHJhbnNmb3JtYXRpb25ba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFyaWFudHNbdmFyaWFudEtleV0pIHtcbiAgICAgICAgICAgICAgaWYgKGtleSAhPT0gXCJ3ZWlnaHRcIiAmJiBrZXkgIT09IFwiYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zXCIpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25ba2V5XSA9IHZhcmlhbnRzW3ZhcmlhbnRLZXldW2tleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFthY3Rpb25zLCB2YXJpYW50XTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcyA9ICgpID0+IHtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBRywgU0VTU0lPTl9USU1FU1RBTVAsIFNFU1NJT05fSElTVE9SWX0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCBwb3B1cERpc3BsYXlGbGFnID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcpO1xuICBjb25zdCBzZXNzaW9uVGltZXN0YW1wID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1RJTUVTVEFNUCk7XG4gIGNvbnN0IHNlc3Npb25IaXN0b3J5ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX0hJU1RPUlkpO1xuXG4gIGlmIChwb3B1cERpc3BsYXlGbGFnID09PSBudWxsKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDApO1xuICB9XG4gIGlmICghc2Vzc2lvblRpbWVzdGFtcCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVAsIERhdGUubm93KCkpO1xuICB9XG4gIGlmICghc2Vzc2lvbkhpc3RvcnkpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZV0pO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9ISVNUT1JZLCBbd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCBzZXNzaW9uSGlzdG9yeV0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY29uZGl0aW9uQ2hlY2tlciA9IChydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgaWYgKGNvbmRpdGlvbiA9PT0gXCJub3RFeGlzdFwiKSB7XG4gICAgaWYgKCFydW5UaW1lVmFsdWUpIHtcbiAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChydW5UaW1lVmFsdWUgPT09IG51bGwgfHxcbiAgICBydW5UaW1lVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gbnVsbCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IHJ1blRpbWVWYWx1ZSBvciBjb25kaXRpb24gaXMgbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN3aXRjaCAoY29uZGl0aW9uKSB7XG4gICAgY2FzZSBcImV4aXN0XCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImluY2x1ZGVzXCI6XG4gICAgY2FzZSBcImNvbnRhaW5zXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBjb250YWlucyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RJbmNsdWRlc1wiOlxuICAgIGNhc2UgXCJub3RDb250YWluc1wiOlxuICAgICAgaWYgKCFydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGNvbnRhaW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcIm5vdEVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID4gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPD0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImJldHdlZW5cIjoge1xuICAgICAgbGV0IFttaW4sIG1heF0gPSB2YWx1ZS5zcGxpdChcIixcIik7XG4gICAgICBtaW4gPSBwYXJzZUludChtaW4pO1xuICAgICAgbWF4ID0gcGFyc2VJbnQobWF4KTtcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gbWluICYmIHJ1blRpbWVWYWx1ZSA8PSBtYXgpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgYmV0d2VlbiBtaW4gYW5kIG1heFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgYmV0d2VlbiBtaW4gYW5kIG1heFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY2FzZSBcInJlZ2V4XCI6IHtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCh2YWx1ZSwgXCJpXCIpO1xuICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QocnVuVGltZVZhbHVlKTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiBjb25kaXRpb24gaXMgbm90IGRlZmluZWQgXCIsIGNvbmRpdGlvbik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWJ1Z01vZGUgPSAob29zUmVhc29uKSA9PiB7XG4gIGNvbnN0IHtERUJVR19NT0RFLCBPVVRfT0ZfU0NPUEV9ID0gTE9DQUxfU1RPUkFHRV9LRVlTO1xuICBjb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPVwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIG9vc1JlYXNvbik7XG4gIH1cblxuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0xXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKERFQlVHX01PREUsIDEpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIFwib25cIik7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MlwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShERUJVR19NT0RFLCAyKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCBcIm9uXCIpO1xuICAgIHJldHVybiAyO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTBcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oREVCVUdfTU9ERSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvZmZcIik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgY3VycmVudCA9IHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShERUJVR19NT0RFKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIChjdXJyZW50ID8gXCJvblwiIDogXCJvZmZcIikpO1xuICByZXR1cm4gKGN1cnJlbnQgfHwgMCk7XG59O1xuXG4vLyBnZXQgR0EgY2xpZW50IGlkIHVzaW5nIGdhLmdldEFsbCgpXG5leHBvcnQgY29uc3QgZ2V0R2FDbGllbnRJZCA9ICgpID0+IHtcbiAgY29uc3QgZ2EgPSB3aW5kb3cuZ2E7XG4gIC8vIGlmIGdhIGFuZCBnYS5nZXRBbGwoKSBpcyBub3QgZGVmaW5lZCwgcmV0dXJuIG51bGxcbiAgaWYgKGdhICYmIGdhLmdldEFsbCkge1xuICAgIGNvbnN0IHRyYWNrZXJzID0gZ2EuZ2V0QWxsKCk7XG4gICAgaWYgKHRyYWNrZXJzICYmIHRyYWNrZXJzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRyYWNrZXJzWzBdLmdldChcImNsaWVudElkXCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIGdldCBkZXRlcm1pbmlzdGljIG51bWVyaWMgaGFzaCBmcm9tIHN0cmluZyB0aGF0IGNvbmF0aW5zIG9ubHkgbnVtYmVyc1xuZXhwb3J0IGNvbnN0IGdldFVuc2VjdXJlSGFzaCA9IChzdHIpID0+IHtcbiAgbGV0IGhhc2ggPSAwO1xuICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhciA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNoYXI7XG4gICAgaGFzaCA9IGhhc2ggJiBoYXNoO1xuICB9XG4gIC8vIHJldHVybiBhYnNvbHV0ZSB2YWx1ZVxuICByZXR1cm4gTWF0aC5hYnMoaGFzaCk7XG59O1xuXG4vLyBnZW5lcmF0ZSBhIDMyLWJpdCByYW5kb20gaW50ZWdlclxuZXhwb3J0IGNvbnN0IGdldFJhbmRvbUludCA9ICgpID0+IHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwKTtcbn07XG5cbi8vIGdldCBjdXJyZW50IHVuaXggZXBvY2ggdGltZSBpbiBzZWNvbmRzXG5leHBvcnQgY29uc3QgZ2V0VW5peFRpbWUgPSAoKSA9PiB7XG4gIHJldHVybiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbn07XG5cblxuZXhwb3J0IGNvbnN0IGdldElkZW50aWZpZXIgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQpO1xuICAgICAgaWYgKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImdldElkZW50aWZpZXI6IGdvdCBpZGVudGlmaWVyIGZyb20gbG9jYWwgc3RvcmFnZVwiLCBpZCk7XG4gICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZCA9IGdldEdhQ2xpZW50SWQoKTtcbiAgICAgIGlmIChpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJnZXRJZGVudGlmaWVyOiBnb3QgaWRlbnRpZmllciBmcm9tIGdhIGluIGZpcnN0IGF0dGVtcHRcIiwgaWQpO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQsIGlkKTtcbiAgICAgICAgcmVzb2x2ZShpZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgaWQgPSBnZXRHYUNsaWVudElkKCk7XG4gICAgICAgICAgaWYgKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJnZXRJZGVudGlmaWVyOiBnb3QgaWRlbnRpZmllciBmcm9tIGdhXCIsIGlkKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQsIGlkKTtcbiAgICAgICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTApO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICAgIGlmIChpZCA9PT0gbnVsbCB8fCBpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IHJlYWQgR0EgY2xpZW50IGlkXCIpO1xuICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJFcnJvciBpbiBnZXRJZGVudGlmaWVyXCIsIGUpO1xuICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgbXMpKTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdERlbGl2ZXJ5RGF0ZSA9IChkYXRlKSA9PiB7XG4gIGlmICghZGF0ZSB8fCB0eXBlb2YgZGF0ZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIGRhdGU7XG5cbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIHN0YXJ0TW9udGhJbmRleDogdW5kZWZpbmVkLFxuICAgIGVuZE1vbnRoSW5kZXg6IHVuZGVmaW5lZCxcbiAgICBzdGFydERheTogdW5kZWZpbmVkLFxuICAgIGVuZERheTogdW5kZWZpbmVkLFxuICB9O1xuXG4gIGxldCBtYXRjaCA9IGRhdGUubWF0Y2goXCIoW1xcXFxkXSspLShbXFxcXGRdKylcXFxccz8oW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnMWeXSspXCIpO1xuICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID09PSA0KSB7XG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5lbmREYXkgPSBwYXJzZUludChtYXRjaFsyXSk7XG4gICAgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFszXS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IHJlc3VsdC5zdGFydE1vbnRoSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgbWF0Y2ggPSBkYXRlLm1hdGNoKFwiKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcxZ5dKyktKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcxZ5dKylcIik7XG4gICAgaWYgKCFtYXRjaCB8fCBtYXRjaC5sZW5ndGggIT09IDUpIHJldHVybiBkYXRlO1xuXG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5zdGFydE1vbnRoSW5kZXggPSBtb250aHNbbWF0Y2hbMl0udG9Mb3dlckNhc2UoKV07XG4gICAgcmVzdWx0LmVuZERheSA9IHBhcnNlSW50KG1hdGNoWzNdKTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFs0XS50b0xvd2VyQ2FzZSgpXTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKCFyZXN1bHQuc3RhcnRNb250aEluZGV4IHx8ICFyZXN1bHQuZW5kTW9udGhJbmRleCkgcmV0dXJuIGRhdGU7XG5cbiAgICBjb25zdCBzdGFydFllYXIgPSByZXN1bHQuc3RhcnRNb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG4gICAgY29uc3QgZW5kWWVhciA9IHJlc3VsdC5lbmRNb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG5cbiAgICBjb25zdCBlc3RpbWF0ZWRTdGFydCA9IG5ldyBEYXRlKHN0YXJ0WWVhciwgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCwgcmVzdWx0LnN0YXJ0RGF5KTtcbiAgICBjb25zdCBlc3RpbWF0ZWRFbmQgPSBuZXcgRGF0ZShlbmRZZWFyLCByZXN1bHQuZW5kTW9udGhJbmRleCwgcmVzdWx0LmVuZERheSk7XG5cblxuICAgIGNvbnN0IHN0YXJ0RGlmZk92ZXJEYXlzID0gTWF0aC5jZWlsKE1hdGguYWJzKGVzdGltYXRlZFN0YXJ0IC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbiAgICBjb25zdCBlbmREaWZmT3ZlckRheXMgPSBNYXRoLmNlaWwoTWF0aC5hYnMoZXN0aW1hdGVkRW5kIC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcblxuICAgIGNvbnN0IHN0YXJ0RGlmZk92ZXJXZWVrcyA9IHN0YXJ0RGlmZk92ZXJEYXlzIDwgNyA/IDAgOiBNYXRoLmNlaWwoc3RhcnREaWZmT3ZlckRheXMgLyA3KTtcbiAgICBjb25zdCBlbmREaWZmT3ZlcldlZWtzID0gZW5kRGlmZk92ZXJEYXlzIDwgNyA/IDAgOiBNYXRoLmNlaWwoZW5kRGlmZk92ZXJEYXlzIC8gNyk7XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSAwICYmIGVuZERpZmZPdmVyV2Vla3MgPT09IDApIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyRGF5c30gLSAke2VuZERpZmZPdmVyRGF5c30gR8O8bmA7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gMCAmJiBlbmREaWZmT3ZlcldlZWtzID49IDEpIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyRGF5c30gR8O8biAtICR7ZW5kRGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICAgIH1cblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IGVuZERpZmZPdmVyV2Vla3MpIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyV2Vla3N9IEhhZnRhYDtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlcldlZWtzfSAtICR7ZW5kRGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlkbGVUaW1lciA9IGFzeW5jICh0aW1lT3V0LCBjYWxsQmFjaykgPT4ge1xuICBsZXQgaWRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxCYWNrLCB0aW1lT3V0KTtcblxuICB3aW5kb3cudG9wLmRvY3VtZW50Lm9udG91Y2hzdGFydCA9IHJlc2V0VGltZXI7XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHtcbiAgICBjbGVhclRpbWVvdXQoaWRsZVRpbWVvdXQpO1xuICAgIGlkbGVUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsQmFjaywgdGltZU91dCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRCcm93c2VyVHlwZSA9ICgpID0+IHtcbiAgY29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuICBpZiAodXNlckFnZW50Lm1hdGNoKC9jaHJvbWV8Y2hyb21pdW18Y3Jpb3MvaSkpIHtcbiAgICByZXR1cm4gXCJjaHJvbWVcIjtcbiAgfVxuXG4gIGlmICh1c2VyQWdlbnQubWF0Y2goL2ZpcmVmb3h8Znhpb3MvaSkpIHtcbiAgICByZXR1cm4gXCJmaXJlZm94XCI7XG4gIH1cblxuICBpZiAodXNlckFnZW50Lm1hdGNoKC9zYWZhcmkvaSkpIHtcbiAgICByZXR1cm4gXCJzYWZhcmlcIjtcbiAgfVxuXG4gIGlmICh1c2VyQWdlbnQubWF0Y2goL29wclxcLy9pKSkge1xuICAgIHJldHVybiBcIm9wZXJhXCI7XG4gIH1cblxuICBpZiAodXNlckFnZW50Lm1hdGNoKC9lZGcvaSkpIHtcbiAgICByZXR1cm4gXCJlZGdlXCI7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc093bk11dGF0aW9uID0gKG11dGF0aW9uTGlzdCkgPT4ge1xuICBjb25zdCBub2RlcyA9IFsuLi5BcnJheS5mcm9tKG11dGF0aW9uTGlzdFswXS5hZGRlZE5vZGVzKSwgLi4uQXJyYXkuZnJvbShtdXRhdGlvbkxpc3RbMF0ucmVtb3ZlZE5vZGVzKV07XG4gIHJldHVybiBub2Rlcy5zb21lKChuKSA9PiB7XG4gICAgcmV0dXJuIG4udGFnTmFtZSAmJiAobi5pZD8uaW5jbHVkZXMoXCJibi1cIikgfHwgQXJyYXkuZnJvbShuLmNsYXNzTGlzdCkuc29tZSgoYykgPT4gYy5pbmNsdWRlcyhcImJuLVwiKSB8fCBjLmluY2x1ZGVzKFwibmQtXCIpKSk7XG4gIH0pO1xufTtcbiIsImNvbnN0IGNvbmZpZyA9IHtcbiAgZGJOYW1lOiBcImJlYWdsZVwiLFxuICB2ZXJzaW9uOiAxLFxuICBtYWludGVuYW5jZU9wZXJhdGlvbkNvdW50OiAxMDAwLCAvLyBhZmZlY3RzIHZlcnNpb25cbiAgc3RvcmU6IHtcbiAgICBuYW1lOiBcImRhdGFcIixcbiAgICBpbmRleGVzOiBbe1xuICAgICAgbmFtZTogXCJpeF9kYXRhTmFtZVwiLFxuICAgICAgZmllbGRzOiBbXCJkYXRhX25hbWVcIl0sXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJpeF9kYXRhTmFtZV9zZXNzaW9uXCIsXG4gICAgICBmaWVsZHM6IFtcImRhdGFfbmFtZVwiLCBcInNlc3Npb25faWRcIl0sXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJpeF9kYXRhTmFtZV9kYXRhVmFsdWVcIixcbiAgICAgIGZpZWxkczogW1wiZGF0YV9uYW1lXCIsIFwiZGF0YV92YWx1ZVwiXSxcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIml4X2RhdGFOYW1lX2RhdGFWYWx1ZV9zZXNzaW9uXCIsXG4gICAgICBmaWVsZHM6IFtcImRhdGFfbmFtZVwiLCBcImRhdGFfdmFsdWVcIiwgXCJzZXNzaW9uX2lkXCJdLFxuICAgIH1dLFxuICAgIG9wdGlvbnM6IHtrZXlQYXRoOiBcImlkXCIsIGF1dG9JbmNyZW1lbnQ6IHRydWV9LFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29uZmlnO1xuIiwiaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi9zdG9yZS5jb25maWdcIjtcbmltcG9ydCB7Z2V0QnJvd3NlclR5cGV9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVEYXRhQ29sbGVjdGlvbldyYXBwZXJcIik7XG5jb25zdCBfd2luZG93ID0ge1xuICBhbGx0aW1lOiBcImFsbHRpbWVcIiwgc2Vzc2lvbjogXCJzZXNzaW9uXCIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZWFnbGVEYXRhQ29sbGVjdGlvbldyYXBwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluZGV4ZWREQiA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkZhaWxlZCB0byBpbml0aWFsaXplZCBkYiB3aXRoOiBcIiwgZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBpbmRleGVkREJcIik7XG4gICAgLy8gVE9ETywgdW5jb21tZW50IG5leHQgbGluZSBvbmNlIGV4aXN0aW5nIHN0YWxlIGRicyBhcmUgcHVyZ2VkXG4gICAgLy8gY29uc3Qgb3BlblJlcXVlc3QgPSB3aW5kb3cudG9wLmluZGV4ZWREQj8ub3Blbihjb25maWcuZGJOYW1lLCBjb25maWcudmVyc2lvbik7XG4gICAgY29uc3Qgb3BlblJlcXVlc3QgPSB3aW5kb3cudG9wLmluZGV4ZWREQj8ub3Blbihjb25maWcuZGJOYW1lKTtcbiAgICBpZiAoIW9wZW5SZXF1ZXN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbmRleGVkZGIgaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICB9XG5cbiAgICBvcGVuUmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZXZlbnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZlbnQub2xkVmVyc2lvbikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gVE9ETyB1cGdyYWRlIGV4aXN0aW5nIGRiIGluc3RlYWQgb2YgZGVsZXRlIGFuZCBjcmVhdGUgZnJvbSBzY3JhdGNoXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9wZW5SZXF1ZXN0LnJlc3VsdC5kZWxldGVPYmplY3RTdG9yZShjb25maWcuc3RvcmUubmFtZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGRlbGV0ZSBvdXRkYXRlZCBkYXRhYmFzZVwiLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSBvcGVuUmVxdWVzdC5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoY29uZmlnLnN0b3JlLm5hbWUsIGNvbmZpZy5zdG9yZS5vcHRpb25zKTtcbiAgICAgICAgaWYgKGNvbmZpZy5zdG9yZS5pbmRleGVzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBpZHggb2YgY29uZmlnLnN0b3JlLmluZGV4ZXMpIHtcbiAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KGlkeC5uYW1lLCBpZHguZmllbGRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGNyZWF0ZSBvYmplY3Qgc3RvcmUgb24gZGF0YWJhc2VcIiwgZXJyLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBvcGVuUmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIGJlYWdsZSBpbmRleGVkIERCXCIsIG9wZW5SZXF1ZXN0LmVycm9yKTtcbiAgICB9O1xuXG4gICAgb3BlblJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgY29uc3QgZGIgPSBvcGVuUmVxdWVzdC5yZXN1bHQ7XG4gICAgICBpZiAoZGIudmVyc2lvbiAhPT0gMSkge1xuICAgICAgICAvLyBUT0RPLCByZW1vdmUgZGVsZXRlIHJlcXVlc3Qgb25jZSBleGlzdGluZyBzdGFsZSBkYnMgYXJlIHB1cmdlZFxuICAgICAgICBjb25zdCBkZWxldGVSZXF1ZXN0ID0gd2luZG93LmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShjb25maWcuZGJOYW1lKTtcbiAgICAgICAgZGVsZXRlUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgdGhpcy5pbmRleGVkREIgPSBkYjtcbiAgICB9O1xuICB9XG5cbiAgZ2V0Q29ubmVjdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ZWREQikge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMjUpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5pbmRleGVkREIpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiSW5kZXhlZERCIG5vdCBpbml0aWFsaXplZCB3aXRoaW4gdGhlIGFsbG90dGVkIHRpbWVcIikpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGluaXRUcmFuc2FjdGlvbihyZWFkd3JpdGUgPSBmYWxzZSkge1xuICAgIGF3YWl0IHRoaXMuZ2V0Q29ubmVjdGlvbigpO1xuICAgIGNvbnN0IHR4ID0gdGhpcy5pbmRleGVkREIudHJhbnNhY3Rpb24oY29uZmlnLnN0b3JlLm5hbWUsIChyZWFkd3JpdGUgPyBcInJlYWR3cml0ZVwiIDogXCJyZWFkb25seVwiKSk7XG4gICAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShjb25maWcuc3RvcmUubmFtZSk7XG5cbiAgICByZXR1cm4gc3RvcmU7XG4gIH1cblxuICBhc3luYyBzYXZlKGRhdGFOYW1lLCBkYXRhVmFsdWUpIHtcbiAgICBjb25zdCBzdG9yZSA9IGF3YWl0IHRoaXMuaW5pdFRyYW5zYWN0aW9uKHRydWUpO1xuICAgIGNvbnN0IHNlc3Npb25JZCA9IHRoaXMuZ2V0Q3VycmVudFNlc3Npb25JZCgpOyAvLyBkYXRlIGN1cnJlbnQgLTIgc2FhdCAgeWlsLWF5LWd1blxuICAgIGNvbnN0IHRpbWUgPSBNYXRoLnJvdW5kKERhdGUubm93KCkgLyAxMDAwKTtcblxuICAgIGNvbnN0IHBheWxvYWQgPSB7XCJkYXRhX25hbWVcIjogZGF0YU5hbWUsIFwiZGF0YV92YWx1ZVwiOiBkYXRhVmFsdWUsIFwic2Vzc2lvbl9pZFwiOiBzZXNzaW9uSWQsIHRpbWV9O1xuICAgIHN0b3JlLnB1dChwYXlsb2FkKTtcbiAgfVxuXG4gIG1pbm1heChkYXRhTmFtZSwgb3AsIHdpbmRvdyA9IF93aW5kb3cuYWxsdGltZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24oKS50aGVuKChzdG9yZSkgPT4ge1xuICAgICAgICBsZXQgc3RvcmVkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmdldEN1cnNvcihzdG9yZSwgZGF0YU5hbWUsIHdpbmRvdykub25zdWNjZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBjb25zdCBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgaWYgKFwiZGF0YV92YWx1ZVwiIGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdG9yZWQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIChvcCA9PT0gXCJtaW5cIiAmJiB2YWx1ZVtcImRhdGFfdmFsdWVcIl0gPCBzdG9yZWQpIHx8XG4gICAgICAgICAgICAgICAgKG9wID09PSBcIm1heFwiICYmIHZhbHVlW1wiZGF0YV92YWx1ZVwiXSA+IHN0b3JlZClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc3RvcmVkID0gdmFsdWVbXCJkYXRhX3ZhbHVlXCJdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJrZXkgbm90IGZvdW5kIGluIGN1cnNvciB2YWx1ZXMgXCIgKyBkYXRhTmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHN0b3JlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBtaW4oZGF0YU5hbWUsIHdpbmRvdyA9IF93aW5kb3cuYWxsdGltZSkge1xuICAgIHJldHVybiB0aGlzLm1pbm1heChkYXRhTmFtZSwgXCJtaW5cIiwgd2luZG93KTtcbiAgfVxuXG4gIG1heChkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWlubWF4KGRhdGFOYW1lLCBcIm1heFwiLCB3aW5kb3cpO1xuICB9XG5cbiAgZ3JvdXBCeShkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmluaXRUcmFuc2FjdGlvbigpLnRoZW4oKHN0b3JlKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5nZXRDdXJzb3Ioc3RvcmUsIGRhdGFOYW1lLCB3aW5kb3cpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgIGlmIChcImRhdGFfdmFsdWVcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoIW1hcC5oYXModmFsdWVbXCJkYXRhX3ZhbHVlXCJdKSkgbWFwLnNldCh2YWx1ZVtcImRhdGFfdmFsdWVcIl0sIDApO1xuICAgICAgICAgICAgICBtYXAuc2V0KHZhbHVlW1wiZGF0YV92YWx1ZVwiXSwgbWFwLmdldCh2YWx1ZVtcImRhdGFfdmFsdWVcIl0pICsgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJrZXkgbm90IGZvdW5kIGluIGN1cnNvciB2YWx1ZXMgXCIgKyBkYXRhTmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKG1hcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBtb2RlKGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ncm91cEJ5KGRhdGFOYW1lLCB3aW5kb3cpO1xuICAgIGlmIChkYXRhLmtleXMoKS5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgbWF4ID0ge25hbWU6IHVuZGVmaW5lZCwgdmFsdWU6IC0xfTtcblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGRhdGEpIHtcbiAgICAgIGlmIChtYXgudmFsdWUgPCB2YWx1ZSkge1xuICAgICAgICBtYXgubmFtZSA9IGtleTtcbiAgICAgICAgbWF4LnZhbHVlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heDtcbiAgfVxuXG4gIGNvdW50KGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoc3RvcmUpID0+IHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5nZXRDdXJzb3Ioc3RvcmUsIGRhdGFOYW1lLCB3aW5kb3cpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoY291bnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc3VtKGRhdGFOYW1lLCB3aW5kb3cgPSBcImFsbHRpbWVcIikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24oKS50aGVuKChzdG9yZSkgPT4ge1xuICAgICAgICBsZXQgdG90YWwgPSAwLjAwO1xuICAgICAgICB0aGlzLmdldEN1cnNvcihzdG9yZSwgZGF0YU5hbWUsIHdpbmRvdykub25zdWNjZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBjb25zdCBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgaWYgKFwiZGF0YV92YWx1ZVwiIGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgIHRvdGFsICs9IHBhcnNlRmxvYXQodmFsdWVbXCJkYXRhX3ZhbHVlXCJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImtleSBub3QgZm91bmQgaW4gY3Vyc29yIHZhbHVlcyBcIiArIGRhdGFOYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUodG90YWwudG9GaXhlZCgyKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRDdXJzb3Ioc3RvcmUsIGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUsIGRhdGFWYWx1ZSA9IHVuZGVmaW5lZCkge1xuICAgIGlmIChkYXRhVmFsdWUpIHtcbiAgICAgIGlmICh3aW5kb3cgPT09IF93aW5kb3cuc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gc3RvcmUuaW5kZXgoXCJpeF9kYXRhTmFtZV9kYXRhVmFsdWVfc2Vzc2lvblwiKVxuICAgICAgICAgICAgLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seShbZGF0YU5hbWUsIGRhdGFWYWx1ZSwgdGhpcy5nZXRDdXJyZW50U2Vzc2lvbklkKCkudG9TdHJpbmcoKV0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0b3JlLmluZGV4KFwiaXhfZGF0YU5hbWVfZGF0YVZhbHVlXCIpXG4gICAgICAgICAgLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seShbZGF0YU5hbWUsIGRhdGFWYWx1ZV0pKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93ID09PSBfd2luZG93LnNlc3Npb24pIHtcbiAgICAgIHJldHVybiBzdG9yZS5pbmRleChcIml4X2RhdGFOYW1lX3Nlc3Npb25cIilcbiAgICAgICAgICAub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KFtkYXRhTmFtZSwgdGhpcy5nZXRDdXJyZW50U2Vzc2lvbklkKCkudG9TdHJpbmcoKV0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleFZhbHVlID0gZ2V0QnJvd3NlclR5cGUoKSA9PT0gXCJzYWZhcmlcIiA/IGRhdGFOYW1lIDogW2RhdGFOYW1lXTtcblxuICAgIHJldHVybiBzdG9yZS5pbmRleChcIml4X2RhdGFOYW1lXCIpXG4gICAgICAgIC5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkoaW5kZXhWYWx1ZSkpO1xuICB9XG5cbiAgYXN5bmMgYXZnKGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IHRoaXMuc3VtKGRhdGFOYW1lLCB3aW5kb3cpO1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgdGhpcy5jb3VudChkYXRhTmFtZSwgd2luZG93KTtcblxuICAgIGlmICghdG90YWwgfHwgIWNvdW50KSByZXR1cm4gMDtcblxuICAgIHJldHVybiAodG90YWwgLyBjb3VudCkudG9GaXhlZCgyKTtcbiAgfVxuXG4gIGFzeW5jIGxhc3QoZGF0YU5hbWUsIHNpemUgPSAxLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoc3RvcmUpID0+IHtcbiAgICAgICAgbGV0IGN1cnNvciA9IHN0b3JlLmluZGV4KFwiaXhfZGF0YU5hbWVcIikub3BlbkN1cnNvcihbZGF0YU5hbWVdLCBcInByZXZcIik7XG4gICAgICAgIGlmICh3aW5kb3cgPT09IF93aW5kb3cuc2Vzc2lvbikge1xuICAgICAgICAgIGN1cnNvciA9IHN0b3JlLmluZGV4KFwiaXhfZGF0YU5hbWVfc2Vzc2lvblwiKVxuICAgICAgICAgICAgICAub3BlbkN1cnNvcihbZGF0YU5hbWUsIHRoaXMuZ2V0Q3VycmVudFNlc3Npb25JZCgpXSwgXCJwcmV2XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKHJlc3VsdCAmJiBpbmRleCA8IHNpemUpIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgcmVzdWx0LmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEN1cnJlbnRTZXNzaW9uSWQoKSB7XG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XG4gICAgZC5zZXRIb3VycyhkLmdldEhvdXJzKCkgLSAyKTtcblxuICAgIHJldHVybiBkLmdldEZ1bGxZZWFyKCkgKyBcIi1cIiArXG4gICAgICAoZC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIikgKyBcIi1cIiArXG4gICAgICBkLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgfVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IENvbGxlY3RvckFwaSBmcm9tIFwiLi4vQmVhZ2xlRGF0YUNvbGxlY3Rpb24vYXBpXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZURhdGFDb2xsZWN0aW9uXCIpO1xuY29uc3QgY29sbGVjdG9yQXBpID0gbmV3IENvbGxlY3RvckFwaSgpO1xuXG4vLyBrZWVwIGEgdGFibGUgaW4gaW5kZXhkYiB0aGUgZm9ybWF0IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIGRhdGFfdmFsdWUsIHN0b3JlZF92YWx1ZV1cblxuZXhwb3J0IGNvbnN0IHF1ZXJ5SW5Db2xsZWN0b3IgPSBhc3luYyAoYmFzZUZlYXR1cmVOYW1lLCBxdWVyeU1ldGhvZCwgd2luZG93KSA9PiB7XG4gIGxvZ2dlci5sb2coXCJxdWVyeUluQ29sbGVjdG9yXCIsIGJhc2VGZWF0dXJlTmFtZSwgcXVlcnlNZXRob2QsIHdpbmRvdyk7XG4gIGlmICghY29sbGVjdG9yQXBpKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkluZGV4ZWREQiBubyBzdXBwb3J0ZWQvSW5pdGlhbGl6ZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyB3aW5kb3cgY2FuIGJlIGVpdGhlciBzYW1lZGF5IG9yIGFsbHRpbWVcblxuICBpZiAocXVlcnlNZXRob2QgPT09IFwibWluXCIpIHtcbiAgICBjb25zdCBxdWVyeVByb21pc2UgPSBhd2FpdCBjb2xsZWN0b3JBcGkubWluKGJhc2VGZWF0dXJlTmFtZSwgd2luZG93KTtcbiAgICByZXR1cm4gcXVlcnlQcm9taXNlO1xuICB9IGVsc2UgaWYgKHF1ZXJ5TWV0aG9kID09PSBcIm1heFwiKSB7XG4gICAgY29uc3QgcXVlcnlQcm9taXNlID0gYXdhaXQgY29sbGVjdG9yQXBpLm1heChiYXNlRmVhdHVyZU5hbWUsIHdpbmRvdyk7XG4gICAgcmV0dXJuIHF1ZXJ5UHJvbWlzZTtcbiAgfSBlbHNlIGlmIChxdWVyeU1ldGhvZCA9PT0gXCJhdmdcIikge1xuICAgIGNvbnN0IHF1ZXJ5UHJvbWlzZSA9IGF3YWl0IGNvbGxlY3RvckFwaS5hdmcoYmFzZUZlYXR1cmVOYW1lLCB3aW5kb3cpO1xuICAgIHJldHVybiBxdWVyeVByb21pc2U7XG4gIH0gZWxzZSBpZiAocXVlcnlNZXRob2QgPT09IFwiY2RcIikge1xuICAgIHJldHVybiAoYXdhaXQgY29sbGVjdG9yQXBpLmdyb3VwQnkoYmFzZUZlYXR1cmVOYW1lLCB3aW5kb3cpKS5zaXplO1xuICB9IGVsc2UgaWYgKHF1ZXJ5TWV0aG9kID09PSBcImN2XCIpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgY29sbGVjdG9yQXBpLmdyb3VwQnkoYmFzZUZlYXR1cmVOYW1lLCB3aW5kb3cpO1xuXG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IFssIHZhbHVlXSBvZiBkYXRhKSB7XG4gICAgICBjb3VudCArPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG5cbiAgaWYgKHF1ZXJ5TWV0aG9kID09PSBcIm1vZGVcIikge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjb2xsZWN0b3JBcGkubW9kZShiYXNlRmVhdHVyZU5hbWUsIHdpbmRvdyk7XG4gICAgaWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gZGF0YS5uYW1lO1xuICB9XG5cbiAgaWYgKHF1ZXJ5TWV0aG9kLmluZGV4T2YoXCJsYXN0XCIpID49IDApIHtcbiAgICBjb25zdCBtYXRjaCA9IHF1ZXJ5TWV0aG9kLm1hdGNoKFwibGFzdFxcXFwoKFtcXFxcZF0rKVxcXFwpXCIpO1xuICAgIGlmICghbWF0Y2ggfHwgIW1hdGNoLmxlbmd0aCA9PT0gMiB8fCBwYXJzZUludChtYXRjaFsxXSkgPCAxICkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcXVlcnlQcm9taXNlID0gYXdhaXQgY29sbGVjdG9yQXBpLmxhc3QoYmFzZUZlYXR1cmVOYW1lLCBtYXRjaFsxXSwgd2luZG93KTtcbiAgICBjb25zdCBkYXRhVmFsdWVzID0gcXVlcnlQcm9taXNlLm1hcCgob2JqKSA9PiBvYmouZGF0YV92YWx1ZSk7XG4gICAgcmV0dXJuIGRhdGFWYWx1ZXM7XG4gIH1cblxuICAvKipcbiAgICB7XCJMaXN0aW5ncGFnZVwiID0+IDIxfVxuICAgIHtcIkhvbWVwYWdlXCIgPT4gMTJ9XG4gICAgLS0gZXhhbXBsZSB3aWxsIGhhdmU6XG4gICAgbW9kZTogTGlzdGluZ3BhZ2VcbiAgICBjZDogMlxuICAgIGN2OiAyMSsxMlxuICAgIGxhc3QoMykgKG4sIG4tMSwgbi0yKVxuICAqL1xuXG4gIC8vIDEwMDBsaWsgdGVtaXpsZW5lY2VrIChtYWludE9wQ291bnQgLT4gdmVyc2lvbilcblxuICAvLyBxdWVyeU1ldGhvZCBjYW4gYmUgXCJtb2RlXCIsIFwiY2RcIiAoY291bnQgZGlzdGludCkgZm9yIHN0cmluZy9jYXRlZ29yaWNhbCBkYXRhIHR5cGVzXG4gIC8vIHF1ZXJ5TWV0aG9kIGNhbiBiZSBcImN2XCIgKHN1bSBvZiBjb3VudCB2YWx1ZXMpLCBcImN1cnJlbnRcIiwgb3IgXCJwcmV2XCIgZm9yIGFueSBkYXRhIHR5cGUgKHN0b3JlZCB2aWEgbGFzdClcbiAgbG9nZ2VyLmZhaWxlZChgdW5rbm93biBxdWVyeU1ldGhvZD0ke3F1ZXJ5TWV0aG9kfSBpbiBCZWFnbGVEYXRhQ29sbGVjdGlvbmApO1xuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVJbkNvbGxlY3RvciA9IGFzeW5jIChiYXNlRmVhdHVyZU5hbWUsIGJhc2VGZWF0dXJlVmFsdWUsIHVwZGF0ZU1ldGhvZCkgPT4ge1xuICBsb2dnZXIubG9nKFwidXBkYXRlSW5Db2xsZWN0b3JcIiwgYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlLCB1cGRhdGVNZXRob2QpO1xuICBpZiAoIWNvbGxlY3RvckFwaSkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJJbmRleGVkREIgbm8gc3VwcG9ydGVkL0luaXRpYWxpemVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXdhaXQgY29sbGVjdG9yQXBpLnNhdmUoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlKTtcblxuXG4gIC8vIHVwZGF0ZU1ldGhvZCBjYW4gYmUgXCJtaW5cIiwgXCJtYXhcIiwgXCJjbnRcIiwgXCJzdW1cIiBmb3IgbnVtZXJpYyBkYXRhIHR5cGVzLCBtaW4tbWF4IGNvbXBhcmVzIHdpdGggb25seSBleGlzdGluZywgYXZnIHVwZGF0ZXMgY250IGFuZCBzdW1cbiAgLy8gLS0+IG1pbjogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJtaW5cIiwgKGxlYXN0IG9mIGV4aXN0aW5nIGFuZCBpbmNvbWluZyBzdG9yZWRfdmFsdWUpXVxuICAvLyAtLT4gbWF4OiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcIm1heFwiLCAoZ3JlYXRlc3Qgb2YgZXhpc3RpbmcgYW5kIGluY29taW5nIHN0b3JlZF92YWx1ZSldXG4gIC8vIC0tPiBzdW06IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwic3VtXCIsIChzdW0gb2YgZXhpc3RpbmcgYW5kIGluY29taW5nIHN0b3JlZF92YWx1ZSldXG4gIC8vIC0tPiBjbnQ6IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwiY250XCIsIChleGlzdGluZyArIDEpXVxuICAvL1xuICAvLyB1cGRhdGVNZXRob2QgY2FuIGJlIFwiY291bnRfdmFsdWVzXCIgZm9yIHN0cmluZy9jYXRlZ29yaWNhbCBkYXRhIHR5cGVzLCBrZWVwIGEgY291bnRlciBmb3IgZWFjaCB2YWx1ZVxuICAvLyAtLT4gY291bnRfdmFsdWVzOiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBkYXRhX3ZhbHVlLCAoZXhpc3RpbmcgKyAxKV1cbiAgLy9cbiAgLy8gdXBkYXRlTWV0aG9kIGNhbiBiZSBcImxhc3RcIiBmb3IgYW55IGRhdGEgdHlwZSAtLT4ga2VlcHMgMiB2YWx1ZXMgZm9yIGN1cnJlbnQgYW5kIHRoZSBwcmV2aW91c1xuICAvLyBkZWxldGU6IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwicHJldlwiLCAoZXhpc3RpbmcgdmFsdWUpXVxuICAvLyBtb3ZlOiBleGlzdGluZyBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcImN1cnJlbnRcIiwgKGV4aXN0aW5nIHZhbHVlKV0gLS0+IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwicHJldlwiLCAoZXhpc3RpbmcgdmFsdWUpXVxuICAvLyBwdXQ6IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwiY3VycmVudFwiLCAoaW5jb21pbmcgc3RvcmVkX3ZhbHVlKV1cbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge2Zvcm1hdERlbGl2ZXJ5RGF0ZSwgaXNPd25NdXRhdGlvbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge3F1ZXJ5SW5Db2xsZWN0b3IsIHVwZGF0ZUluQ29sbGVjdG9yfSBmcm9tIFwiLi4vQmVhZ2xlRGF0YUNvbGxlY3Rpb25cIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG53aW5kb3cuYmVhZ2xlSW5mb0xheWVyID0gd2luZG93LmJlYWdsZUluZm9MYXllciB8fCB7XG4gIGE6IHt9LCBlOiB7fSwgZjoge30sIF9faHdtOiAwLFxufTtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUluZm9MYXllclwiKTtcblxuLy8gVE9ETzogY29udmVydCB0byBuYW1lIC0tPiBhcnJheSBvZiBzZWxlY3RvcnNcbmNvbnN0IHNlYXJjaFBhdGhzID0gW1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIEdBIERhdGEgTGF5ZXIgUXVlcmllc1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiUGFnZVR5cGVcIiwgbmFtZTogXCJQYWdlVHlwZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImlzQWRtaW5cIiwgbmFtZTogXCJ2dnNJc1Nob3dyb29tXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidXNlcklkXCIsIG5hbWU6IFwidnZzVXNlcklkXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9uYW1lXCIsIG5hbWU6IFwicGRwLm5hbWVcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwicHJvZHVjdGdyb3VwXCIsIG5hbWU6IFwicGRwLmdyb3VwXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VfY2F0ZWdvcnlcIiwgbmFtZTogXCJwZHAuY2xhc3NcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9pZHNcIiwgbmFtZTogXCJwZHAuc2t1XCIsIGZvcm1hdHRlcjogXCJ1cHBlckNhc2VUUlwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJQcm9kdWN0SURcIiwgbmFtZTogXCJwZHAuc2t1XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImNvbnRlbnRfY2F0ZWdvcnlcIiwgbmFtZTogXCJwZHAuY2F0ZWdvcnlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLmRldGFpbC5hY3Rpb25GaWVsZC5saXN0XCIsIG5hbWU6IFwicGRwLmxpc3RhbGlhc1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlUHJvZHVjdHMuKi5za3VcIiwgbmFtZTogXCJwZHAuc2t1XCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLmNhdGVnb3J5XCIsIG5hbWU6IFwicGRwLmNhdGVnb3J5XCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLmRpc2NvdW50UmF0ZVwiLCBuYW1lOiBcInBkcC5kaXNjb3VudFJhdGVcIiwgZm9ybWF0dGVyOiBcImRlYXJyYXlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidml2ZW5zZVByb2R1Y3RzLiouZmFzdERlbGl2ZXJ5XCIsIG5hbWU6IFwicGRwLmZhc3REZWxpdmVyeVwiLCBmb3JtYXR0ZXI6IFwiZGVhcnJheVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlUHJvZHVjdHMuKi5pc0luU2hvd3Jvb21cIiwgbmFtZTogXCJwZHAuaXNJblNob3dyb29tXCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwic2VhcmNoX3N1Y2Nlc3NcIiwgbmFtZTogXCJwbHAuc2VhcmNoU3VjY2Vzc1wiLCBleGNsdXNpdmU6IFtcInBscC5pZFwiLCBcInBscC5hcHByb3hpbWF0ZUNvdW50XCIsIFwicGxwLm5hbWVcIiwgXCJwbHAuZ3JvdXBcIiwgXCJwbHAuY2xhc3NcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImNvbnRlbnRfaWRzXCIsIG5hbWU6IFwicGxwLmlkXCIsIGV4Y2x1c2l2ZTogW1wicGxwLnNlYXJjaFN1Y2Nlc3NcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImNhdGVnb3J5X3Byb2R1Y3RfY291bnRcIiwgbmFtZTogXCJwbHAuYXBwcm94aW1hdGVDb3VudFwiLCBleGNsdXNpdmU6IFtcInBscC5zZWFyY2hTdWNjZXNzXCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJjb250ZW50X25hbWVcIiwgbmFtZTogXCJwbHAubmFtZVwiLCBleGNsdXNpdmU6IFtcInBscC5zZWFyY2hTdWNjZXNzXCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJwcm9kdWN0Z3JvdXBcIiwgbmFtZTogXCJwbHAuZ3JvdXBcIiwgZXhjbHVzaXZlOiBbXCJwbHAuc2VhcmNoU3VjY2Vzc1wiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidml2ZW5zZV9jYXRlZ29yeVwiLCBuYW1lOiBcInBscC5jbGFzc1wiLCBleGNsdXNpdmU6IFtcInBscC5zZWFyY2hTdWNjZXNzXCJdfSxcblxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5wcm9kdWN0cy4qLmlkXCIsIG5hbWU6IFwicHVyY2hhc2Uuc2t1c1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UucHJvZHVjdHMuKi5wcmljZVwiLCBuYW1lOiBcInB1cmNoYXNlLnByaWNlc1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UucHJvZHVjdHMuKi5xdWFudGl0eVwiLCBuYW1lOiBcInB1cmNoYXNlLnF1YW50aXRpZXNcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLnByb2R1Y3RzLiouY2F0ZWdvcnlcIiwgbmFtZTogXCJwdXJjaGFzZS5jYXRlZ29yaWVzXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5pZFwiLCBuYW1lOiBcInB1cmNoYXNlLm9yZGVySWRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLnJldmVudWVcIiwgbmFtZTogXCJwdXJjaGFzZS5yZXZlbnVlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5kaW1lbnNpb24xNVwiLCBuYW1lOiBcInB1cmNoYXNlLnBheW1lbnRUeXBlXCJ9LFxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gRG9jdW1lbnQgUXVlcmllc1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwicGFnZV9wcmV2aWV3X3dyYXBwZXJfcHJvZHVjdGlvblxcXCJdXCIsIG5hbWU6IFwiUGFnZVR5cGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVZhbHVlSWZIYXNJbm5lclRleHRcIiwgdmFsdWU6IFwiSG9tZXBhZ2VcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCIqXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJjYXRlZ29yeV9wYWdlX3dyYXBwZXJcXFwiXVwiLCBuYW1lOiBcIlBhZ2VUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCIsIHZhbHVlOiBcIkxpc3RpbmdwYWdlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwicHJvZHVjdC1tYWluLWRldGFpbHNcXFwiXVwiLCBuYW1lOiBcIlBhZ2VUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCIsIHZhbHVlOiBcIlByb2R1Y3RwYWdlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwicHJvZHVjdFxcXCJdXCIsIG5hbWU6IFwiUGFnZVR5cGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVZhbHVlSWZIYXNJbm5lclRleHRcIiwgdmFsdWU6IFwiUHJvZHVjdHBhZ2VcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkhvbWVwYWdlfFByb2R1Y3RwYWdlfExpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJ3ZWxjb21lX3VzZXJuYW1lXFxcIl1cIiwgbmFtZTogXCJ2aWV3LmlzTG9nZ2VkSW5cIiwgb3BlcmFuZDogXCJkb2NRdWVyeUhhc0lubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkhvbWVwYWdlfFByb2R1Y3RwYWdlfExpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJlbXB0eV9iYXNrZXRfdGV4dFxcXCJdXCIsIG5hbWU6IFwiY2FydC5pc2VtcHR5XCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlIYXNJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LnRvdGFsQmFzZVByaWNlXCIsIFwiY2FydC5za3Vjb3VudFwiLCBcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJIb21lcGFnZXxQcm9kdWN0cGFnZXxMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiYm9keSA+IC5kZXNrdG9wX2xheW91dF93cmFwcGVyIC5ub3QtYWxsb3dlZC1jb3Vwb25cIiwgbmFtZTogXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVN1bU51bUlubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiXX0sXG4gIC8vIE5vdGUgdGhhdCBzZXF1ZW50aWFsIHNlYXJjaCB3aWxsIG1hcmsgY29wdW9uTm90QXBwbGljYWJsZSBhcyBmb3VuZFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiSG9tZXBhZ2V8UHJvZHVjdHBhZ2V8TGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImJhc2tldF90b3RhbF9wcmljZVxcXCJdXCIsIG5hbWU6IFwiY2FydC50b3RhbEJhc2VQcmljZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCIsIFwiY2FydC5jb3Vwb25Ob3RBcHBsaWNhYmxlXCJdLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJIb21lcGFnZXxQcm9kdWN0cGFnZXxMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2lkKj1cXFwiY2FydF9xdWFudGl0eVxcXCJdLCBbY2xhc3MqPVxcXCJiYXNrZXRfbGVuZ3RoXFxcIl1cIiwgbmFtZTogXCJjYXJ0LnNrdWNvdW50XCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl19LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiZGVsaXZlcnktZGF0ZVxcXCJdXCIsIG5hbWU6IFwicGRwLmRlbGl2ZXJ5RGF0ZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImRlbGl2ZXJ5LWRhdGVcXFwiXVwiLCBuYW1lOiBcInBkcC5kZWxpdmVyeURhdGVGb3JtYXR0ZWRcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBmb3JtYXR0ZXI6IFwiZm9ybWF0RGVsaXZlcnlEYXRlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInByb2R1Y3QtdGl0bGVcXFwiXSwgW2NsYXNzKj1cXFwiaGVhZGVyLWJvdHRvbVxcXCJdXCIsIG5hbWU6IFwicGRwLm5hbWVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJ2aXZlbnNlLXNob3dyb29tc1xcXCJdID4gKlwiLCBuYW1lOiBcInBkcC5zaG93cm9vbWNvdW50XCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlDb3VudEVsdHNcIiwgZXhjbHVzaXZlOiBbXCJwZHAuaGFzTm9TaG93cm9vbXNcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIiN2aXZlbnNlLXNob3dyb29tLXRhYiBwOm5vdCgudml2ZW5zZS1zaG93cm9vbXMpXCIsIG5hbWU6IFwicGRwLmhhc05vU2hvd3Jvb21zXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlIYXNJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJwZHAuc2hvd3Jvb21jb3VudFwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwic3Bhbi5wcmljZVwiLCBuYW1lOiBcInBkcC5wcmljZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGZvcm1hdHRlcjogXCJudW1lcmljT25seVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIjc2FsZXMtcHJpY2VcIiwgbmFtZTogXCJwZHAucHJpY2VcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiZGl2LnByb2R1Y3QtcHJpY2UtYm94XCIsIG5hbWU6IFwiX19wcmljZU9ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJwZHAucHJpY2VcIl0sIG9wZXJhbmQ6IFwiZG9jUXVlcnlPYnNlcnZlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIiNtb2JpbGUtcHJvZHVjdC1zdGlja3lcIiwgbmFtZTogXCJfX3ByaWNlT2JzZXJ2ZXJcIiwgY2hpbGRyZW46IFtcInBkcC5wcmljZVwiXSwgb3BlcmFuZDogXCJkb2NRdWVyeU9ic2VydmVcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJjb3VudC1vZi1wcm9kdWN0XFxcIl1cIiwgbmFtZTogXCJwbHAuaXRlbUNvdW50XCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZm9ybWF0dGVyOiBcIm51bWVyaWNPbmx5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInN1YmNhdGVnb3JpZXMtdGl0bGVcXFwiXVwiLCBuYW1lOiBcInBscC5uYW1lXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLnByb2R1Y3QtY2FyZFtkYXRhLXByb2R1Y3Qtc2t1XVwiLCBuYW1lOiBcIl9fZmVhdHVyZXMuU0tVc29uUGFnZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5QXR0cmliVmFsdWVMaXN0XCIsIHZhbHVlOiBcImRhdGEtcHJvZHVjdC1za3VcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLnByb2R1Y3QtbGlzdFwiLCBuYW1lOiBcIl9fbGlzdGluZ0l0ZW1CbG9ja09ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJfX2ZlYXR1cmVzLlNLVXNvblBhZ2VcIl0sIG9wZXJhbmQ6IFwiZG9jUXVlcnlPYnNlcnZlXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5lbXB0eS1jYXJ0LWNvbnRhaW5lciwgLmVtcHR5LWNhcnRcIiwgbmFtZTogXCJjYXJ0LmlzZW1wdHlcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUhhc0lubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcImNhcnQuc2t1Y291bnRcIiwgXCJjYXJ0LnRvdGFsUHJpY2VcIiwgXCJjYXJ0LnRvdGFsUHJpY2VGaW5hbFwiLCBcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiLCBcImNhcnQuc2t1c1wiLCBcImNhcnQucHJpY2VzXCIsIFwiY2FydC5xdWFudGl0aWVzXCIsIFwiY2FydC5jYXRlZ29yaWVzXCIsIFwiX19jaGVja291dEZvcm1PYnNlcnZlclwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5icmFja2V0LXRleHQsIC5wcm9kdWN0LWNvdW50XCIsIG5hbWU6IFwiY2FydC5za3Vjb3VudFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCJdLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5jYXJ0SXRlbVF1YW50aXR5XCIsIG5hbWU6IFwiY2FydC5xdWFudGl0aWVzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIiwgdmFsdWU6IFwiZGF0YS1wcmV2aW91c1wiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIiNiaWxsX3RvdGFsXCIsIG5hbWU6IFwiY2FydC50b3RhbFByaWNlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl0sIGZvcm1hdHRlcjogXCJudW1lcmljT25seVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwib3JkZXItZmluYWwtbnVtYmVyXFxcIl1cIiwgbmFtZTogXCJjYXJ0LnRvdGFsUHJpY2VGaW5hbFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCJdLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImNhcnQtcHJpY2VcXFwiXSAubm90LWFsbG93ZWQtY291cG9uXCIsIG5hbWU6IFwiY2FydC5jb3Vwb25Ob3RBcHBsaWNhYmxlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlTdW1OdW1Jbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl19LFxuICAvLyBOb3RlIHRoYXQgc2VxdWVudGlhbCBzZWFyY2ggd2lsbCBtYXJrIGNvdXBvbkFwcGxpY2FibGUgYXMgZm91bmRcbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLmNhcnQtaW5zaWRlXCIsIG5hbWU6IFwiY2FydC5za3VzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIiwgdmFsdWU6IFwiZGF0YS1za3VcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIiwgXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1pbnNpZGVcIiwgbmFtZTogXCJjYXJ0LmNhdGVnb3JpZXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiLCB2YWx1ZTogXCJkYXRhLWxhc3QtYnJlYWRjcnVtYlwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiLCBcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5jYXJ0LWluc2lkZVwiLCBuYW1lOiBcImNhcnQucHJpY2VzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIiwgdmFsdWU6IFwiZGF0YS1wcmljZVwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiLCBcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiXX0sXG4gIC8vIERlc2t0b3Agb2JzZXJ2ZXIgZm9yIHRoZSByaWdodCBwYW5lbCwgYXMgaXQgaXMgdGhlIG9uZSBjaGFuZ2luZ1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1yaWdodC1jb250YWluZXJcIiwgbmFtZTogXCJfX2NoZWNrb3V0Rm9ybU9ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJjYXJ0LnNrdWNvdW50XCIsIFwiY2FydC50b3RhbFByaWNlXCIsIFwiY2FydC50b3RhbFByaWNlRmluYWxcIiwgXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIiwgXCJjYXJ0LnNrdXNcIiwgXCJjYXJ0LnByaWNlc1wiLCBcImNhcnQucXVhbnRpdGllc1wiLCBcImNhcnQuY2F0ZWdvcmllc1wiLCBcImNhcnQuaXNlbXB0eVwiLCBcImNhcnQuY291cG9uQXBwbGljYWJsZUFtb3VudFwiXSwgb3BlcmFuZDogXCJkb2NRdWVyeU9ic2VydmVcIn0sXG4gIC8vIE1vYmlsZSBvYnNlcnZlciBmb3IgdGhlIGZ1bGwgZm9ybSBibG9jayBhcyBpdCBpcyBjb21wbGV0ZWx5IHJlcGxhY2VkXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIiNjaGVja291dEZvcm1cIiwgbmFtZTogXCJfX2NoZWNrb3V0Rm9ybU9ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJjYXJ0LnNrdWNvdW50XCIsIFwiY2FydC50b3RhbFByaWNlXCIsIFwiY2FydC50b3RhbFByaWNlRmluYWxcIiwgXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIiwgXCJjYXJ0LnNrdXNcIiwgXCJjYXJ0LnByaWNlc1wiLCBcImNhcnQucXVhbnRpdGllc1wiLCBcImNhcnQuY2F0ZWdvcmllc1wiLCBcImNhcnQuaXNlbXB0eVwiLCBcImNhcnQuY291cG9uQXBwbGljYWJsZUFtb3VudFwiXSwgb3BlcmFuZDogXCJkb2NRdWVyeU9ic2VydmVcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJiYXNrZXRfc3VtbWFyeV90b3RhbFxcXCJdLCBbY2xhc3MqPVxcXCJ0b3RhbF9yb3dcXFwiXVwiLCBuYW1lOiBcInB1cmNoYXNlLnJldmVudWVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwib3JkZXJfZm9sbG93X251bWJcXFwiXSwgW2NsYXNzKj1cXFwiY2FydC10aXRsZS1ib3R0b21cXFwiXVwiLCBuYW1lOiBcInB1cmNoYXNlLnZ2c1R4bklkXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLnBheW1lbnRfdHlwZV90aXRsZSwgLmNhcnQtdGl0bGUtaW5mb1wiLCBuYW1lOiBcInB1cmNoYXNlLnBheW1lbnRUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZm9ybWF0dGVyOiBcImxvd2VyQ2FzZVRSRmlyc3RXb3JkXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInByb2R1Y3Rfc2t1X2NvZGVcXFwiXVwiLCBuYW1lOiBcInB1cmNoYXNlLnNrdXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUFycmF5SW5uZXJUZXh0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5jYXJ0LWluc2lkZVwiLCBuYW1lOiBcInB1cmNoYXNlLnNrdXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiLCB2YWx1ZTogXCJkYXRhLXNrdVwifSxcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFNPUkcgRWxlbWVudHNcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcInNrdVwiLCBuYW1lOiBcInBkcC5za3VcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJtcG5cIiwgbmFtZTogXCJwZHAubXBuXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwibmFtZVwiLCBuYW1lOiBcInBkcC5uYW1lXCIsIG9wZXJhbmQ6IFwiSlNPTkZpbHRlck90aGVyXCIsIHZhbHVlOiBcIkB0eXBlPVByb2R1Y3RcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJvZmZlcnMucHJpY2VWYWxpZFVudGlsXCIsIG5hbWU6IFwicGRwLnByaWNlVmFsaWRVbnRpbFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcIml0ZW1MaXN0RWxlbWVudC4qLm5hbWVcIiwgbmFtZTogXCJ2aWV3LmJyZWFkY3J1bWJcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcIm1haW5FbnRpdHkubmFtZVwiLCBuYW1lOiBcInBscC5uYW1lXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwibWFpbkVudGl0eS5udW1iZXJPZkl0ZW1zXCIsIG5hbWU6IFwicGxwLml0ZW1Db3VudFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcImJyZWFkY3J1bWIuaXRlbUxpc3RFbGVtZW50LiouaXRlbS5uYW1lXCIsIG5hbWU6IFwidmlldy5icmVhZGNydW1iXCJ9LFxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gV2luZG93IGN1c3RvbSBlbGVtZW50c1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiU2luZ2xlV1RcIiwgc2VsZWN0b3I6IFwiZmF2b3JpdGVQcm9kdWN0c1wiLCBuYW1lOiBcInZpZXcuZmF2b3JpdGVkTVBOc1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIlNpbmdsZVdUXCIsIHNlbGVjdG9yOiBcImlzQWRtaW5cIiwgbmFtZTogXCJ2dnNJc1Nob3dyb29tXCIsIGZvcm1hdHRlcjogXCJ0b1N0cmluZ1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIlNpbmdsZVdUXCIsIHNlbGVjdG9yOiBcInVzZXJJZFwiLCBuYW1lOiBcInZ2c1VzZXJJZFwifSxcbl07XG5cbmNvbnN0IGZlYXR1cmVFbmdpbmVlcmluZ09wcyA9IHtcbiAgXCJ2aWV3X2Vwb2NoXCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcIm1pblwifSxcbiAgICB7cXVlcnlNZXRob2Q6IFwibWluXCIsIHdpbmRvdzogXCJzZXNzaW9uXCIsIGZlYXR1cmVOYW1lOiBcImhpc3Rvcnkudmlld19lcG9jaF9taW5cIn0sXG4gIF0sXG4gIFwiUGFnZVR5cGVcIjogW1xuICAgIHt1cGRhdGVNZXRob2Q6IFwiY291bnRfdmFsdWVzXCJ9LFxuICAgIHtxdWVyeU1ldGhvZDogXCJjdlwiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJoaXN0b3J5LlBhZ2VUeXBlX2NvdW50X3Nlc3Npb25cIn0sXG4gICAge3F1ZXJ5TWV0aG9kOiBcImN2XCIsIHdpbmRvdzogXCJhbGx0aW1lXCIsIGZlYXR1cmVOYW1lOiBcImhpc3RvcnkuUGFnZVR5cGVfY291bnRfYWxsdGltZVwifSxcbiAgXSxcbiAgXCJjYXJ0LmNvdXBvbkFwcGxpY2FibGVBbW91bnRcIjogW1xuICAgIHt1cGRhdGVNZXRob2Q6IFwibGFzdFwifSxcbiAgICB7cXVlcnlNZXRob2Q6IFwibGFzdCgxKVwiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJfX2ZlYXR1cmVzLmxhc3RDYXJ0Q291cG9uQXBwbGljYWJsZVwifSxcbiAgXSxcbiAgXCJwZHAuY2F0ZWdvcnlcIjogW1xuICAgIHt1cGRhdGVNZXRob2Q6IFwiY291bnRfdmFsdWVzXCJ9LFxuICAgIHt1cGRhdGVNZXRob2Q6IFwibGFzdFwifSxcbiAgICB7cXVlcnlNZXRob2Q6IFwibW9kZVwiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJoaXN0b3J5LnBkcF9jYXRlZ29yeV9tb2RlX3Nlc3Npb25cIn0sXG4gICAge3F1ZXJ5TWV0aG9kOiBcImxhc3QoMSlcIiwgd2luZG93OiBcInNlc3Npb25cIiwgZmVhdHVyZU5hbWU6IFwiaGlzdG9yeS5wZHBfY2F0ZWdvcnlfbGFzdF9zZXNzaW9uXCJ9LFxuICBdLFxuICBcImNhcnQuc2t1c1wiOiBbXG4gICAge3VwZGF0ZU1ldGhvZDogXCJsYXN0XCJ9LFxuICAgIHtxdWVyeU1ldGhvZDogXCJsYXN0KDEpXCIsIHdpbmRvdzogXCJzZXNzaW9uXCIsIGZlYXR1cmVOYW1lOiBcIl9fZmVhdHVyZXMuU0tVc29uTGFzdENhcnRWaWV3XCJ9LFxuICBdLFxufTtcblxuZXhwb3J0IGNvbnN0IGluY3JlYXNlQmVhZ2xlSW5mb0xheWVySFdNID0gKCkgPT4ge1xuICBjb25zdCBpbmZvTGF5ZXIgPSB3aW5kb3cudG9wLmJlYWdsZUluZm9MYXllcjtcbiAgLy8gdXBkYXRlIGh3bSB0byBpbmRpY2F0ZSBjaGFuZ2VcbiAgaW5mb0xheWVyLl9faHdtICs9IDE7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkVG9CZWFnbGVJbmZvTGF5ZXIgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICBjb25zdCBpbmZvTGF5ZXIgPSB3aW5kb3cudG9wLmJlYWdsZUluZm9MYXllcjtcblxuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gIC8vIGlmIHZhbHVlIGlzIHN0cmluZywgYWRkIGFzIGEgY2xlYW4gc3RyaW5nLCBpZiBvYmplY3QgYWRkIHRoZSBzYW1lXG4gIGNvbnN0IHR5cGVkVmFsdWUgPSB0eXBlb2YgKHZhbHVlKSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpIDogdmFsdWU7XG4gIC8vIGlmIGtleSBjb250YWlucyAuIGNyZWF0ZSBuZXN0ZWQgb2JqZWN0XG4gIGlmIChrZXkuaW5kZXhPZihcIi5cIikgPiAtMSkge1xuICAgIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoXCIuXCIpO1xuICAgIGNvbnN0IGxhc3RLZXkgPSBrZXlzLnBvcCgpO1xuICAgIGxldCBvYmogPSBpbmZvTGF5ZXI7XG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmICghb2JqW2tleV0pIG9ialtrZXldID0ge307XG4gICAgICBvYmogPSBvYmpba2V5XTtcbiAgICB9KTtcbiAgICBvYmpbbGFzdEtleV0gPSB0eXBlZFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGluZm9MYXllcltrZXldID0gdHlwZWRWYWx1ZTtcbiAgfVxuICAvLyB1cGRhdGUgaHdtIHRvIGluZGljYXRlIGNoYW5nZVxuICBpbmNyZWFzZUJlYWdsZUluZm9MYXllckhXTSgpO1xuICAvLyBwcm9jZXNzIGRlcGVuZGVudCBoaXN0b3JpY2FsIGRhdGEgZm9yIHNjYW4tZm91bmQgZWxlbWVudHNcbiAgaWYgKHR5cGVkVmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlZFZhbHVlICE9PSBudWxsKSB7XG4gICAgdXBkYXRlRGVyaXZhdGlvbnNJbkNvbGxlY3RvcihrZXksIHR5cGVkVmFsdWUpO1xuICAgIHBhc3NWYWx1ZVRvTGlzdGVuZXJzKGtleSwgdHlwZWRWYWx1ZSk7XG4gIH1cbn07XG5cbmNvbnN0IERBVEFfTElTVEVORVJTID0ge307XG5cbmV4cG9ydCBjb25zdCBhZGREYXRhTGlzdGVuZXIgPSAoa2V5LCBsaXN0ZW5lcikgPT4ge1xuICBpZiAoIURBVEFfTElTVEVORVJTW2tleV0pIHtcbiAgICBEQVRBX0xJU1RFTkVSU1trZXldID0gW107XG4gIH1cbiAgREFUQV9MSVNURU5FUlNba2V5XS5wdXNoKGxpc3RlbmVyKTtcbn07XG5cbmNvbnN0IHBhc3NWYWx1ZVRvTGlzdGVuZXJzID0gKGtleSwgdmFsdWUpID0+IHtcbiAgY29uc3QgbGlzdGVuZXJzID0gREFUQV9MSVNURU5FUlNba2V5XTtcbiAgaWYgKGxpc3RlbmVycyAmJiBBcnJheS5pc0FycmF5KGxpc3RlbmVycykgJiYgbGlzdGVuZXJzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhgcGFzc1ZhbHVlVG9MaXN0ZW5lcnMgLS0+IHZhbHVlICR7dmFsdWV9IHRvIGxpc3RlbmVyICR7aX0gb2Yga2V5ICR7a2V5fWApO1xuICAgICAgICBsaXN0ZW5lcih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RnJvbUJlYWdsZUluZm9MYXllciA9IChrZXksIGJsb2NraW5nID0gZmFsc2UsIHBvbGxJbnRlcnZhbCA9IDUwLCB0aW1lb3V0ID0gMTAwMDApID0+IHtcbiAgLy8gVE9ETzogY2hlY2sgZmVhdHVyZUVuZ2luZWVyaW5nIGFuZCBzZWFyY2ggbGlzdCBpZiBhbGwgbWFya2VkIGFzIGZvdW5kIGJ1dCB2YWx1ZSBpcyBtaXNzaW5nXG4gIGNvbnN0IGluZm9MYXllciA9IHdpbmRvdy50b3AuYmVhZ2xlSW5mb0xheWVyO1xuICAvLyByZXR1cm4gbnVsbCBpZiBrZXkgaXMgbWlzc2luZyBvciBub3QgYW4gYXJyYXkgb3IgaGFzIG5vIGVsZW1lbnRzXG4gIGlmICgha2V5KSByZXR1cm4gbnVsbDtcbiAgbGV0IG9idGFpbkRhdGEgPSBqc29uR2V0KGluZm9MYXllciwga2V5KTtcbiAgaWYgKG9idGFpbkRhdGEgIT09IG51bGwgJiYgb2J0YWluRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gZm91bmQgZGF0YSBmb3Iga2V5XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShvYnRhaW5EYXRhKTtcbiAgfVxuXG4gIGZvciAoY29uc3Qgc2VhcmNoRWxlbWVudCBvZiBzZWFyY2hQYXRocykge1xuICAgIGlmIChrZXkgPT09IHNlYXJjaEVsZW1lbnQubmFtZSAmJiAoc2VhcmNoRWxlbWVudC5pc0ZvdW5kIHx8IHNlYXJjaEVsZW1lbnQuaXNJZ25vcmUpKSB7XG4gICAgICAvLyBkYXRhIGlzIG1pc3NpbmcgYnV0IGVsZW1lbnQgaXMgbWFya2VkIGFzIGZvdW5kIG9yIGlnbm9yZWRcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGJsb2NraW5nKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgb2J0YWluRGF0YSA9IGpzb25HZXQoaW5mb0xheWVyLCBrZXkpO1xuICAgICAgICBpZiAob2J0YWluRGF0YSAhPT0gbnVsbCAmJiBvYnRhaW5EYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBmb3VuZCBkYXRhIGZvciBrZXksIGNsZWFyIGludGVydmFsIGFuZCByZXNvbHZlXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgcmVzb2x2ZShvYnRhaW5EYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHNlYXJjaEVsZW1lbnQgb2Ygc2VhcmNoUGF0aHMpIHtcbiAgICAgICAgICBpZiAoa2V5ID09PSBzZWFyY2hFbGVtZW50Lm5hbWUgJiYgKHNlYXJjaEVsZW1lbnQuaXNGb3VuZCB8fCBzZWFyY2hFbGVtZW50LmlzSWdub3JlKSkge1xuICAgICAgICAgICAgLy8gZGF0YSBpcyBtaXNzaW5nIGJ1dCBlbGVtZW50IGlzIG1hcmtlZCBhcyBmb3VuZCBvciBpZ25vcmVkXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBwb2xsSW50ZXJ2YWwpO1xuICAgICAgLy8gYWRkIHRpbWVvdXRcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgIH0sIHRpbWVvdXQpOyAvLyB3YWl0IGJsb2NraW5nIGZvciBcInRpbWVvdXRcIiBtc2Vjc1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllciA9IChrZXkpID0+IHtcbiAgY29uc3QgaW5mb0xheWVyID0gd2luZG93LnRvcC5iZWFnbGVJbmZvTGF5ZXI7XG4gIGlmIChrZXkgPT09IG51bGwgfHwga2V5ID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgLy8gcmVtb3ZlIGtleSBmcm9tIGluZm9MYXllclxuICBpZiAoa2V5LmluZGV4T2YoXCIuXCIpID4gLTEpIHtcbiAgICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KFwiLlwiKTtcbiAgICBjb25zdCBsYXN0S2V5ID0ga2V5cy5wb3AoKTtcbiAgICBsZXQgb2JqID0gaW5mb0xheWVyO1xuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoIW9ialtrZXldKSByZXR1cm47XG4gICAgICBvYmogPSBvYmpba2V5XTtcbiAgICB9KTtcbiAgICBsb2dnZXIubG9nKFwicmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllclwiLCBgUmVtb3ZpbmcgJHtsYXN0S2V5fSBmcm9tICR7SlNPTi5zdHJpbmdpZnkob2JqKX1gKTtcbiAgICBkZWxldGUgb2JqW2xhc3RLZXldO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSBpbmZvTGF5ZXJba2V5XTtcbiAgfVxuICBpbmNyZWFzZUJlYWdsZUluZm9MYXllckhXTSgpO1xuICAvLyBwcm9jZXNzIGRlcGVuZGVudCBoaXN0b3JpY2FsIGRhdGEgZm9yIHNjYW4tZm91bmQgZWxlbWVudHNcbiAgdXBkYXRlRGVyaXZhdGlvbnNJbkNvbGxlY3RvcihrZXksIG51bGwpO1xuICBwYXNzVmFsdWVUb0xpc3RlbmVycyhrZXksIG51bGwpO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFRyZWF0bWVudCA9IChpZCwgYnVzaW5lc3NSdWxlSWQsIHZhcmlhbnQsIHN0YXR1cywgZGVwZW5kYW50X29uX3RyZWF0bWVudCA9IG51bGwpID0+IHtcbiAgY29uc3QgdmFsdWUgPSB7fTtcbiAgY29uc3QgaW5mb0xheWVyID0gd2luZG93LnRvcC5iZWFnbGVJbmZvTGF5ZXI7XG5cbiAgaWYgKGJ1c2luZXNzUnVsZUlkICE9PSBudWxsICYmIGJ1c2luZXNzUnVsZUlkICE9PSB1bmRlZmluZWQpIHZhbHVlLmJ1c2luZXNzUnVsZUlkID0gYnVzaW5lc3NSdWxlSWQ7XG4gIGlmICh2YXJpYW50KSB2YWx1ZS52YXJpYW50ID0gdmFyaWFudDtcblxuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgXCJhcHBsaWVkXCI6XG4gICAgICBpbmZvTGF5ZXIuYVtpZF0gPSB2YWx1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJza2lwcGVkXCI6XG4gICAgICB2YWx1ZS5kZXBlbmRhbnRfb25fdHJlYXRtZW50ID0gZGVwZW5kYW50X29uX3RyZWF0bWVudDtcbiAgICAgIGluZm9MYXllci5lW2lkXSA9IHZhbHVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImZhaWxlZFwiOlxuICAgICAgaW5mb0xheWVyLmZbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgfVxuICBpbmNyZWFzZUJlYWdsZUluZm9MYXllckhXTSgpO1xufTtcblxuY29uc3QgUEFSU0VTRUFSQ0hNQVhSRVRSWSA9IDEwO1xuY29uc3QgUEFSU0VTRUFSQ0hTVEFSVERFTEFZID0gMTA7XG5sZXQgcGFyc2VTZWFyY2hQYXRoc0RlbGF5ID0gUEFSU0VTRUFSQ0hTVEFSVERFTEFZO1xubGV0IHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA9IDA7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyID0gYXN5bmMgKCkgPT4ge1xuICAvLyBDb2xsZWN0IGNvcmUgZGF0YVxuICBwcmVwYXJlQ29yZURhdGEoKTtcblxuICAvLyBUcmlnZ2VyLXN0YXJ0IHRoZSBwYXJzZXIgbG9vcFxuICBwYXJzZXJDYWxsZXIoKTtcblxuICAvLyBBZGQgbWV0cmljc1xuICBhZGRNZXRyaWNzKCk7XG59O1xuXG5jb25zdCBjb2xsZWN0RGVyaXZhdGlvbnNGcm9tQ29sbGVjdG9yID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBiYXNlRmVhdHVyZU5hbWVzID0gT2JqZWN0LmtleXMoZmVhdHVyZUVuZ2luZWVyaW5nT3BzKTtcbiAgZm9yIChjb25zdCBiYXNlRmVhdHVyZU5hbWUgb2YgYmFzZUZlYXR1cmVOYW1lcykge1xuICAgIGNvbnN0IEZFRGF0YSA9IGZlYXR1cmVFbmdpbmVlcmluZ09wc1tiYXNlRmVhdHVyZU5hbWVdO1xuICAgIGlmIChGRURhdGEgJiYgQXJyYXkuaXNBcnJheShGRURhdGEpICYmIEZFRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IEZFT3Agb2YgRkVEYXRhKSB7XG4gICAgICAgIGlmIChGRU9wLnF1ZXJ5TWV0aG9kID09PSBudWxsIHx8IEZFT3AucXVlcnlNZXRob2QgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UmVzcG9uc2UgPSBhd2FpdCBxdWVyeUluQ29sbGVjdG9yKGJhc2VGZWF0dXJlTmFtZSwgRkVPcC5xdWVyeU1ldGhvZCwgRkVPcC53aW5kb3cpO1xuICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihGRU9wLmZlYXR1cmVOYW1lLCBxdWVyeVJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHVwZGF0ZURlcml2YXRpb25zSW5Db2xsZWN0b3IgPSBhc3luYyAoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlKSA9PiB7XG4gIC8vIHByb2Nlc3MgZGVwZW5kZW50IGhpc3RvcmljYWwgZGF0YSBmb3Igc2Nhbi1mb3VuZCBlbGVtZW50c1xuICBjb25zdCBGRURhdGEgPSBmZWF0dXJlRW5naW5lZXJpbmdPcHNbYmFzZUZlYXR1cmVOYW1lXTtcbiAgaWYgKEZFRGF0YSAmJiBBcnJheS5pc0FycmF5KEZFRGF0YSkgJiYgRkVEYXRhLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGNvbnN0IEZFT3Agb2YgRkVEYXRhKSB7XG4gICAgICBpZiAoRkVPcC51cGRhdGVNZXRob2QgPT09IG51bGwgfHwgRkVPcC51cGRhdGVNZXRob2QgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICBhd2FpdCB1cGRhdGVJbkNvbGxlY3RvcihiYXNlRmVhdHVyZU5hbWUsIGJhc2VGZWF0dXJlVmFsdWUsIEZFT3AudXBkYXRlTWV0aG9kKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHByb2Nlc3NGb3JtYXR0ZXIgPSAodmFsdWUsIGZvcm1hdHRlcikgPT4ge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCAhZm9ybWF0dGVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc3dpdGNoIChmb3JtYXR0ZXIpIHtcbiAgICBjYXNlIFwidXBwZXJDYXNlVFJcIjpcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpLnRvVXBwZXJDYXNlKFwidHItVFJcIik7XG4gICAgY2FzZSBcImZvcm1hdERlbGl2ZXJ5RGF0ZVwiOlxuICAgICAgcmV0dXJuIGZvcm1hdERlbGl2ZXJ5RGF0ZSh2YWx1ZSk7XG4gICAgY2FzZSBcIm51bWVyaWNPbmx5XCI6XG4gICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICAgIGNhc2UgXCJsb3dlckNhc2VUUkZpcnN0V29yZFwiOlxuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoXCJ0ci1UUlwiKS5zcGxpdChcIiBcIilbMF07XG4gICAgY2FzZSBcImRlYXJyYXlcIjpcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBjYXNlIFwidG9TdHJpbmdcIjpcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuXG5jb25zdCBzZWFyY2hPYmogPSAob2JqLCBzZWFyY2hFbGVtZW50KSA9PiB7XG4gIGxldCB2YWx1ZTtcbiAgbGV0IGxheWVyVmFsdWU7XG5cbiAgdHJ5IHtcbiAgICBzd2l0Y2ggKHNlYXJjaEVsZW1lbnQub3BlcmFuZCkge1xuICAgICAgY2FzZSBcIkpTT05GaWx0ZXJPdGhlclwiOlxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWUgPSBqc29uR2V0KG9iaiwgc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgZmlsdGVyUGFyYW1zID0gc2VhcmNoRWxlbWVudC52YWx1ZS5zcGxpdChcIj1cIik7XG4gICAgICAgICAgaWYgKGZpbHRlclBhcmFtcy5sZW5ndGggIT09IDIpIGJyZWFrO1xuICAgICAgICAgIGNvbnN0IGZpbHRlck5hbWUgPSBmaWx0ZXJQYXJhbXNbMF07XG4gICAgICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSBmaWx0ZXJQYXJhbXNbMV07XG4gICAgICAgICAgaWYgKCFmaWx0ZXJOYW1lIHx8ICFmaWx0ZXJWYWx1ZSkgYnJlYWs7XG5cbiAgICAgICAgICBjb25zdCBmaWx0ZXJNYXRjaCA9IGpzb25HZXQob2JqLCBmaWx0ZXJOYW1lKTtcblxuICAgICAgICAgIGlmICghZmlsdGVyTWF0Y2ggfHwgZmlsdGVyTWF0Y2ggIT09IGZpbHRlclZhbHVlKSBicmVhaztcblxuICAgICAgICAgIGlmICh2YWx1ZSAmJiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggPiAwIDogdmFsdWUudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIGxheWVyVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlPYnNlcnZlXCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZWFyY2hFbGVtZW50LmlzRm91bmQgPSB0cnVlO1xuICAgICAgICAgIC8vIHVwZGF0ZSBmb3VuZCBzdGF0dXMgb2YgdGhlIGVsZW1lbnRzIGluIHRoZSBjaGlsZHJlbiBsaXN0XG4gICAgICAgICAgY29uc3QgdG9CZVVwZGF0ZWQgPSBbXTtcbiAgICAgICAgICBzZWFyY2hFbGVtZW50LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZEVsZW1lbnRzID0gc2VhcmNoUGF0aHMuZmlsdGVyKChlbGVtZW50KSA9PiBlbGVtZW50Lm5hbWUgPT09IGNoaWxkKTtcbiAgICAgICAgICAgIC8vIGFkZCBjaGlsZEVsZW1lbnRzIGludG8gdG9CZVVwZGF0ZWRcbiAgICAgICAgICAgIHRvQmVVcGRhdGVkLnB1c2goLi4uY2hpbGRFbGVtZW50cyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gcnVuIG9ubHkgaWYgdGhlIGVsZW1lbnQgaGFzIGFkZGVkIG9yIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGFzeW5jIGZ1bmN0aW9uKG11dGF0aW9uTGlzdCkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGZvdW5kIHN0YXR1cyBvZiB0aGUgZWxlbWVudHMgaW4gdGhlIGNoaWxkcmVuIGxpc3RcbiAgICAgICAgICAgIGlmIChpc093bk11dGF0aW9uKG11dGF0aW9uTGlzdCkpIHJldHVybjtcbiAgICAgICAgICAgIHRvQmVVcGRhdGVkLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgZWxlbWVudC5pc0ZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJlbW92ZUZyb21CZWFnbGVJbmZvTGF5ZXIoZWxlbWVudC5uYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdHJpZ2dlclJlc3RhcnQgPSBwYXJzZVNlYXJjaFBhdGhzUmV0cnkgPj0gUEFSU0VTRUFSQ0hNQVhSRVRSWTtcbiAgICAgICAgICAgIHBhcnNlU2VhcmNoUGF0aHNEZWxheSA9IFBBUlNFU0VBUkNIU1RBUlRERUxBWTtcbiAgICAgICAgICAgIHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA9IDA7XG4gICAgICAgICAgICBpZiAodHJpZ2dlclJlc3RhcnQpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcInNlYXJjaE9iajogdHJpZ2dlcmVkIGEgcmVzdGFydCBvZiBzZWFyY2hwYXRocyBkdWU6IFwiLCBzZWFyY2hFbGVtZW50Lm5hbWUpO1xuICAgICAgICAgICAgICBwYXJzZXJDYWxsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHZhbHVlLCB7c3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlJbm5lclRleHRcIjpcbiAgICAgICAgdmFsdWUgPSBvYmoucXVlcnlTZWxlY3RvcihzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUuaW5uZXJUZXh0ICYmIHZhbHVlLmlubmVyVGV4dC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxheWVyVmFsdWUgPSB2YWx1ZS5pbm5lclRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIjpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYlZhbHVlTGlzdCA9IFtdO1xuICAgICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3JBbGwoc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUubGVuZ3RoID09PSAwKSBicmVhaztcbiAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlY2hpbGQgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYlZhbHVlID0gdmFsdWVjaGlsZC5nZXRBdHRyaWJ1dGUoc2VhcmNoRWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoYXR0cmliVmFsdWUpIHtcbiAgICAgICAgICAgICAgYXR0cmliVmFsdWVMaXN0LnB1c2goYXR0cmliVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhdHRyaWJWYWx1ZUxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGF5ZXJWYWx1ZSA9IGF0dHJpYlZhbHVlTGlzdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlIYXNJbm5lclRleHRcIjpcbiAgICAgICAgdmFsdWUgPSBvYmoucXVlcnlTZWxlY3RvcihzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlLmlubmVyVGV4dC50cmltKCkubGVuZ3RoID4gMDtcbiAgICAgICAgICBsYXllclZhbHVlID0gc2V0VmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb2NRdWVyeUNvdW50RWx0c1wiOlxuICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yQWxsKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxheWVyVmFsdWUgPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5pbm5lclRleHQgJiYgdmFsdWUuaW5uZXJUZXh0LnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGF5ZXJWYWx1ZSA9IHNlYXJjaEVsZW1lbnQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlTdW1OdW1Jbm5lclRleHRcIjpcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3JBbGwoc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUubGVuZ3RoID09PSAwKSBicmVhaztcbiAgICAgICAgICBsZXQgc3VtUHJpY2UgPSAwO1xuICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkVGV4dCA9IGNoaWxkLmlubmVyVGV4dC50cmltKCkucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICAgICAgICAgICAgaWYgKGNoaWxkVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHN1bVByaWNlKz1wYXJzZUludChjaGlsZFRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3VtUHJpY2UgPiAwKSB7XG4gICAgICAgICAgICBsYXllclZhbHVlID0gc3VtUHJpY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5QXJyYXlJbm5lclRleHRcIjpcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3JBbGwoc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUubGVuZ3RoID09PSAwKSBicmVhaztcbiAgICAgICAgICBjb25zdCBhcnJheUlubmVyVGV4dCA9IFtdO1xuICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkVGV4dCA9IGNoaWxkLmlubmVyVGV4dC50cmltKCk7XG4gICAgICAgICAgICBpZiAoY2hpbGRUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgYXJyYXlJbm5lclRleHQucHVzaChjaGlsZFRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXJyYXlJbm5lclRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGF5ZXJWYWx1ZSA9IGFycmF5SW5uZXJUZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhbHVlID0ganNvbkdldChvYmosIHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggPiAwIDogdmFsdWUudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICBsYXllclZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfSAvLyBzd2l0Y2hcblxuICAgIGlmIChsYXllclZhbHVlICE9PSB1bmRlZmluZWQgJiYgbGF5ZXJWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuZm9ybWF0dGVyKSB7XG4gICAgICAgIGxheWVyVmFsdWUgPSBwcm9jZXNzRm9ybWF0dGVyKGxheWVyVmFsdWUsIHNlYXJjaEVsZW1lbnQuZm9ybWF0dGVyKTtcbiAgICAgIH1cbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKHNlYXJjaEVsZW1lbnQubmFtZSwgbGF5ZXJWYWx1ZSk7XG4gICAgICBzZWFyY2hFbGVtZW50LmlzRm91bmQgPSB0cnVlO1xuXG4gICAgICAvLyBtYXJrIGV4Y2x1c2l2ZSBlbGVtZW50cyBhcyBmb3VuZFxuICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuZXhjbHVzaXZlICYmIEFycmF5LmlzQXJyYXkoc2VhcmNoRWxlbWVudC5leGNsdXNpdmUpICYmIHNlYXJjaEVsZW1lbnQuZXhjbHVzaXZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBleGNsdXNpdmVFbGVtZW50IG9mIHNlYXJjaFBhdGhzKSB7XG4gICAgICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuZXhjbHVzaXZlLmluY2x1ZGVzKGV4Y2x1c2l2ZUVsZW1lbnQubmFtZSkpIHtcbiAgICAgICAgICAgIGV4Y2x1c2l2ZUVsZW1lbnQuaXNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzZWFyY2hFbGVtZW50LmlzRm91bmQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5lcnJvcihcInNlYXJjaE9iaiBlcnJvcjogXCIgKyBlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBjdXN0b21EYXRhRGVyaXZhdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRQYWdlVHlwZSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiLCB0cnVlLCA1MCwgMTAwMCk7XG5cbiAgdHJ5IHtcbiAgICAvLyBjYXJ0IHRvdGFsIHByb2R1Y3QgcHJpY2UgaXMgbm90IGF2YWlsYWJsZSBhbnl3aGVyZSwgc3BlY2lhbCBkaXNjb3VudHMgZXRjIGFyZSBoYXJkIHRvIHNjcmFwZSwgc28gcmVjYWxjdWxhdGUgaXRcbiAgICBjb25zdCBbaXNDYXJ0RW1wdHksIHRvdGFsQmFzZVByaWNlLCBjb3Vwb25Ob3RBcHBsaWNhYmxlLCBwcmljZXMsIHF1YW50aXRpZXNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImNhcnQuaXNlbXB0eVwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LnRvdGFsQmFzZVByaWNlXCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LnByaWNlc1wiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LnF1YW50aXRpZXNcIiksXG4gICAgXSk7XG5cbiAgICBsZXQgdG90YWxQcmljZSA9IDA7XG5cbiAgICBpZiAoIXRvdGFsQmFzZVByaWNlICYmIHByaWNlcyAmJiBBcnJheS5pc0FycmF5KHByaWNlcykgJiYgcHJpY2VzLmxlbmd0aCA+IDAgJiYgcXVhbnRpdGllcyAmJiBBcnJheS5pc0FycmF5KHF1YW50aXRpZXMpICYmIHF1YW50aXRpZXMubGVuZ3RoID4gMCAmJiBwcmljZXMubGVuZ3RoID09PSBxdWFudGl0aWVzLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG90YWxQcmljZSArPSBwYXJzZUludChwcmljZXNbaV0pICogcGFyc2VJbnQocXVhbnRpdGllc1tpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvdGFsUHJpY2UgPSBwYXJzZUludCh0b3RhbEJhc2VQcmljZSk7XG4gICAgfVxuXG4gICAgbGV0IGNvdXBvbkFwcGxpY2FibGVBbW91bnQgPSAwO1xuICAgIGlmICghaXNDYXJ0RW1wdHkgJiYgdG90YWxQcmljZSAmJiBjb3Vwb25Ob3RBcHBsaWNhYmxlKSB7XG4gICAgICBjb3Vwb25BcHBsaWNhYmxlQW1vdW50ID0gdG90YWxQcmljZSAtIHBhcnNlSW50KGNvdXBvbk5vdEFwcGxpY2FibGUpO1xuICAgIH0gZWxzZSBpZiAoIWlzQ2FydEVtcHR5ICYmIHRvdGFsUHJpY2UpIHtcbiAgICAgIGNvdXBvbkFwcGxpY2FibGVBbW91bnQgPSBwYXJzZUludCh0b3RhbFByaWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY291cG9uQXBwbGljYWJsZUFtb3VudCA9IDA7XG4gICAgfVxuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY2FydC5jb3Vwb25BcHBsaWNhYmxlQW1vdW50XCIsIGNvdXBvbkFwcGxpY2FibGVBbW91bnQpO1xuXG4gICAgaWYgKGlzQ2FydEVtcHR5KSB7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNhcnQudG90YWxQcmljZVwiLCAwKTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY2FydC5jb3Vwb25Ob3RBcHBsaWNhYmxlXCIsIDApO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5lcnJvcihcImN1c3RvbURhdGFEZXJpdmF0aW9ucyBjYW5ub3QgY29tcHV0ZSBjb3Vwb25BcHBsaWNhYmxlUHJpY2U6IFwiICsgZSk7XG4gIH1cblxuICAvLyBQcm9kdWN0IHBhZ2UgLS0+IHRyYW5zZmVyIHNrdXMgdG8gc2luZ2xlIGxvY2F0aW9uXG4gIGlmIChjdXJyZW50UGFnZVR5cGUgPT09IFwiUHJvZHVjdHBhZ2VcIikge1xuICAgIGNvbnN0IHNrdSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJwZHAuc2t1XCIpO1xuICAgIGlmIChza3UhPT1udWxsICYmIHNrdSE9PXVuZGVmaW5lZCkge1xuICAgICAgYXdhaXQgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJfX2ZlYXR1cmVzLlNLVXNvblBhZ2VcIiwgW3NrdV0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjdXJyZW50UGFnZVR5cGUgPT09IFwiYmFza2V0XCIpIHtcbiAgICBjb25zdCBza3VMaXN0ID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImNhcnQuc2t1c1wiKTtcbiAgICBpZiAoc2t1TGlzdCE9PW51bGwgJiYgQXJyYXkuaXNBcnJheShza3VMaXN0KSAmJiBza3VMaXN0Lmxlbmd0aCkge1xuICAgICAgYXdhaXQgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJfX2ZlYXR1cmVzLlNLVXNvblBhZ2VcIiwgc2t1TGlzdCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBwYXJzZVNlYXJjaFBhdGhzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBkb21TdGF0dXMgPSBkb2N1bWVudC5yZWFkeVN0YXRlO1xuICAvLyBjaGVjayBpZiBkb2N1bWVudCBhbmQgZG9tIGlzIGxvYWRlZCBhbmQgcmVhZHkgZm9yIHNjcmFwcGluZ1xuICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRocyBpbml0aWFsaXplZCB3aXRoIGRvbSBzdGF0dXM6ICBcIiArIGRvbVN0YXR1cyk7XG5cbiAgY29uc3Qgd2ludG9wID0gd2luZG93LnRvcDtcbiAgY29uc3QgZGF0YUxheWVyID0gd2ludG9wLmRhdGFMYXllcjtcbiAgY29uc3Qgd2luZG9jID0gd2ludG9wLmRvY3VtZW50O1xuICBsZXQgc29yZ0FycmF5SW5uZXI7XG5cbiAgY29uc3QgZm91bmROYW1lcyA9IG5ldyBTZXQoKTtcbiAgY29uc3QgcHJldkZvdW5kTmFtZXMgPSBuZXcgU2V0KCk7XG4gIGNvbnN0IG5vdEZvdW5kTmFtZXMgPSBuZXcgU2V0KCk7XG5cbiAgLy8gUGFnZVR5cGUgY2FuIGJlIGluZmVycmVkIGZyb20gVVJMLCBpZiBmb3VuZCB1c2UgaXQgZnJvbSB0aGVyZVxuICBsZXQgY3VycmVudFBhZ2VUeXBlID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIlBhZ2VUeXBlXCIpO1xuXG4gIGlmIChjdXJyZW50UGFnZVR5cGUpIHtcbiAgICBwcmV2Rm91bmROYW1lcy5hZGQoXCJQYWdlVHlwZVwiKTtcbiAgfVxuXG4gIC8vIExvb3AgdGhyb3VnaCBzZWFyY2ggbGlzdHMgYW5kIG1hcmsgZm91bmQgbmFtZXNcbiAgZm9yIChjb25zdCBzZWFyY2hFbGVtZW50IG9mIHNlYXJjaFBhdGhzKSB7XG4gICAgaWYgKHNlYXJjaEVsZW1lbnQuaXNGb3VuZCkge1xuICAgICAgcHJldkZvdW5kTmFtZXMuYWRkKHNlYXJjaEVsZW1lbnQubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBzZWFyY2hFbGVtZW50IG9mIHNlYXJjaFBhdGhzKSB7XG4gICAgaWYgKHNlYXJjaEVsZW1lbnQuaXNGb3VuZCB8fCBzZWFyY2hFbGVtZW50LmlzSWdub3JlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoZm91bmROYW1lcy5oYXMoc2VhcmNoRWxlbWVudC5uYW1lKSB8fCBwcmV2Rm91bmROYW1lcy5oYXMoc2VhcmNoRWxlbWVudC5uYW1lKSkge1xuICAgICAgLy8gaGFkIGFscmVhZHkgZm91bmQgdGhpcyBlbGVtZW50IG9uIGFub3RoZXIgcGFyc2UgaXRlbVxuICAgICAgc2VhcmNoRWxlbWVudC5pc0ZvdW5kID0gdHJ1ZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChzZWFyY2hFbGVtZW50LlBhZ2VUeXBlRGVwZW5kICE9PSBcIipcIikge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZVR5cGUpIHtcbiAgICAgICAgY3VycmVudFBhZ2VUeXBlID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIlBhZ2VUeXBlXCIpO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYWdlVHlwZSkge1xuICAgICAgICAgIG5vdEZvdW5kTmFtZXMuYWRkKHNlYXJjaEVsZW1lbnQubmFtZSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuUGFnZVR5cGVEZXBlbmQuaW5kZXhPZihjdXJyZW50UGFnZVR5cGUpIDwgMCkge1xuICAgICAgICAvLyBza2lwIHNlYXJjaEVsZW1lbnQgYmVjYXVzZSBvZiBQYWdlVHlwZURlcGVuZFxuICAgICAgICBzZWFyY2hFbGVtZW50LmlzSWdub3JlID0gdHJ1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNlYXJjaEVsZW1lbnQubWV0aG9kID09PSBcIlNpbmdsZVdUXCIpIHsgLy8gU0NBTiBXaW5kb3cgZm9yIFNpbmdsZSBFbGVtZW50c1xuICAgICAgc2VhcmNoQW5kU2V0KHdpbnRvcCwgc2VhcmNoRWxlbWVudCwgZm91bmROYW1lcywgbm90Rm91bmROYW1lcyk7XG4gICAgfSBlbHNlIGlmIChzZWFyY2hFbGVtZW50Lm1ldGhvZCA9PT0gXCJHQURhdGFMYXllclwiKSB7IC8vIFNDQU4gR0EgREFUQSBMQVlFUlxuICAgICAgZm9yIChjb25zdCBkYXRhTGF5ZXJJdGVtIG9mIGRhdGFMYXllcikge1xuICAgICAgICBzZWFyY2hBbmRTZXQoZGF0YUxheWVySXRlbSwgc2VhcmNoRWxlbWVudCwgZm91bmROYW1lcywgbm90Rm91bmROYW1lcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzZWFyY2hFbGVtZW50Lm1ldGhvZCA9PT0gXCJEb2NTb3JnXCIpIHsgLy8gU0NBTiBTT1JHIEFSUkFZXG4gICAgICBpZiAoIXNvcmdBcnJheUlubmVyKSB7XG4gICAgICAgIHNvcmdBcnJheUlubmVyID0gZ2V0U09SR0FycmF5KCk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IHNvcmdJdGVtIG9mIHNvcmdBcnJheUlubmVyKSB7XG4gICAgICAgIHNlYXJjaEFuZFNldChzb3JnSXRlbSwgc2VhcmNoRWxlbWVudCwgZm91bmROYW1lcywgbm90Rm91bmROYW1lcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzZWFyY2hFbGVtZW50Lm1ldGhvZCA9PT0gXCJEb2NRdWVyeVwiKSB7IC8vIFNDQU4gRE9DVU1FTlRcbiAgICAgIHNlYXJjaEFuZFNldCh3aW5kb2MsIHNlYXJjaEVsZW1lbnQsIGZvdW5kTmFtZXMsIG5vdEZvdW5kTmFtZXMpO1xuICAgIH0gLy8gRE9DUVVFUlkgcGFyc2VcbiAgfVxuXG4gIGlmIChub3RGb3VuZE5hbWVzLnNpemUgPT09IDApIHtcbiAgICBwYXJzZVNlYXJjaFBhdGhzUmV0cnkgPSBQQVJTRVNFQVJDSE1BWFJFVFJZO1xuICAgIGxvZ2dlci5sb2coXCJwYXJzZVNlYXJjaFBhdGhzIGZvdW5kIGFsbCBlbGVtZW50cyAtIHNldHRpbmcgcmV0cnkgdG8gbWF4XCIpO1xuICB9IGVsc2UgaWYgKGZvdW5kTmFtZXMuc2l6ZSA9PT0gMCkge1xuICAgIC8vIHVwZGF0ZSByZXRyeSBjb3VudGVyIGFuZCBkZWxheSBvbmx5IGlmIGRvbSBpcyBhY3RpdmVcbiAgICBpZiAoZG9tU3RhdHVzID09PSBcImNvbXBsZXRlXCIgfHwgZG9tU3RhdHVzID09PSBcImludGVyYWN0aXZlXCIpIHtcbiAgICAgIHBhcnNlU2VhcmNoUGF0aHNEZWxheSAqPSAyO1xuICAgICAgcGFyc2VTZWFyY2hQYXRoc1JldHJ5ICs9IDE7XG4gICAgfVxuXG4gICAgbG9nZ2VyLmxvZyhcInBhcnNlU2VhcmNoUGF0aHMgcHJvY2Vzc2VkIGJ1dCBub3QgZm91bmQgYW55LCBzZXR0aW5nIGRlbGF5IGFuZCByZXRyeSB0byBcIiArXG4gICAgICBwYXJzZVNlYXJjaFBhdGhzRGVsYXkgKyBcIiBhbmQgXCIgK1xuICAgICAgcGFyc2VTZWFyY2hQYXRoc1JldHJ5ICsgXCIgZm9yIG5vdGZvdW5kOiBbXCIgK1xuICAgICAgQXJyYXkuZnJvbShub3RGb3VuZE5hbWVzKS5qb2luKFwiIHwgXCIpICsgXCJdXCIsXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRocyBwcm9jZXNzZWQ6IG5vdGZvdW5kOiBbXCIgK1xuICAgICAgQXJyYXkuZnJvbShub3RGb3VuZE5hbWVzKS5qb2luKFwiIHwgXCIpICsgXCJdIGFuZCBmb3VuZCBcIiArXG4gICAgICBmb3VuZE5hbWVzLnNpemUsXG4gICAgKTtcbiAgfVxufTtcblxuY29uc3Qgc2VhcmNoQW5kU2V0ID0gKG9iaiwgc2VhcmNoRWxlbWVudCwgZm91bmROYW1lcywgbm90Rm91bmROYW1lcykgPT4ge1xuICBpZiAoc2VhcmNoT2JqKG9iaiwgc2VhcmNoRWxlbWVudCkpIHtcbiAgICBmb3VuZE5hbWVzLmFkZChzZWFyY2hFbGVtZW50Lm5hbWUpO1xuICB9IGVsc2Uge1xuICAgIG5vdEZvdW5kTmFtZXMuYWRkKHNlYXJjaEVsZW1lbnQubmFtZSk7XG4gIH1cbn07XG5cbi8vIHBhcnNlIHNvdXJjZVxuY29uc3QgcGFyc2VyQ2FsbGVyID0gYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGF3YWl0IHBhcnNlU2VhcmNoUGF0aHMoKTtcbiAgaWYgKHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA8IFBBUlNFU0VBUkNITUFYUkVUUlkpIHtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRoczogc2NoZWR1bGVkIHRvIGJlIHJlY2FsbGVkIGluIFwiICsgcGFyc2VTZWFyY2hQYXRoc0RlbGF5ICsgXCJtc1wiKTtcbiAgICBzZXRUaW1lb3V0KGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgYXdhaXQgcGFyc2VyQ2FsbGVyKCk7XG4gICAgfSwgcGFyc2VTZWFyY2hQYXRoc0RlbGF5KTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRoczogcmVhY2hlZCBtYXggcmV0cnksIGNhbGxpbmcgcmVtYWluZGVyIGhpc3RvcmljYWwgZGF0YVwiKTtcbiAgICBhd2FpdCBjdXN0b21EYXRhRGVyaXZhdGlvbnMoKTtcbiAgICBhd2FpdCBjb2xsZWN0RGVyaXZhdGlvbnNGcm9tQ29sbGVjdG9yKCk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJfX0NvbXBsZXRlZFNjcmFwaW5nXCIsIHRydWUpO1xuICB9XG59O1xuXG4vLyBFeHRyYWN0IHZhbHVlIGZyb20ganNvbiBvYmplY3QgdXNpbmcgZ2l2ZW4gcGF0aFxuLy8gSWYgYW4gZWxlbWVudCBpcyAqLCBjb25jYXRlbmF0ZSByZWN1cnNpdmVseSBhbGwgc3ViLXBhdGggdmFsdWVzIGFzIHN0cmluZ1xuY29uc3QganNvbkdldCA9IChvYmosIHBhdGgpID0+IHtcbiAgaWYgKCFvYmopIHJldHVybiBudWxsO1xuICBpZiAoIXBhdGgpIHJldHVybiBudWxsO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcGF0aEFycmF5ID0gcGF0aC5zcGxpdChcIi5cIik7XG4gICAgbGV0IGN1cnJlbnQgPSBvYmo7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChwYXRoQXJyYXlbaV0gPT09IFwiKlwiKSB7XG4gICAgICAgIGNvbnN0IHN1YlBhdGggPSBwYXRoQXJyYXkuc2xpY2UoaSArIDEpLmpvaW4oXCIuXCIpO1xuICAgICAgICBjb25zdCBzdWJBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YktleSBpbiBjdXJyZW50KSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRbc3ViS2V5XSAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRbc3ViS2V5XSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgc3ViVmFsdWUgPSBqc29uR2V0KGN1cnJlbnRbc3ViS2V5XSwgc3ViUGF0aCk7XG4gICAgICAgICAgICBpZiAoc3ViVmFsdWUgIT09IG51bGwgJiYgc3ViVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBzdWJBcnJheS5wdXNoKHN1YlZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YkFycmF5O1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGF0aEFycmF5W2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgcHJlcGFyZUNvcmVEYXRhID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCB3aW5kb3dQdHIgPSB3aW5kb3cudG9wO1xuICBjb25zdCBuYXZQdHIgPSB3aW5kb3dQdHIubmF2aWdhdG9yO1xuXG4gIGNvbnN0IHBsYXRmb3JtID0gd2luZG93UHRyLm5hdmlnYXRvcj8udXNlckFnZW50RGF0YT8ucGxhdGZvcm0gfHxcbiAgICB3aW5kb3dQdHIubmF2aWdhdG9yPy5wbGF0Zm9ybSB8fFxuICAgIHdpbmRvd1B0ci5uYXZpZ2F0b3I/LnVzZXJBZ2VudDtcblxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZQbGF0Zm9ybVwiLCBwbGF0Zm9ybSk7XG5cbiAgLyogd2luZG93IHZpZXcgYXJlYSAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS53aW5kb3dQUmF0aW9cIiwgd2luZG93UHRyLmRldmljZVBpeGVsUmF0aW8pO1xuXG4gIGNvbnN0IGF2YWlsV2luZG93ID0gd2luZG93UHRyLnNjcmVlbj8uYXZhaWxXaWR0aCArIFwieFwiICsgd2luZG93UHRyLnNjcmVlbj8uYXZhaWxIZWlnaHQ7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd0F2YWlsXCIsIGF2YWlsV2luZG93KTtcblxuICBjb25zdCB3aW5kb3dEZXB0aCA9IHdpbmRvd1B0ci5zY3JlZW4/LmNvbG9yRGVwdGggKyBcIi1cIiArIHdpbmRvd1B0ci5zY3JlZW4/LnBpeGVsRGVwdGg7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd0RlcHRoXCIsIHdpbmRvd0RlcHRoKTtcblxuICBjb25zdCB2cG9ydFNoYXBlID0gd2luZG93UHRyLnZpc3VhbFZpZXdwb3J0Py53aWR0aCArIFwieFwiICsgd2luZG93UHRyLnZpc3VhbFZpZXdwb3J0Py5oZWlnaHQ7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd1Zwb3J0XCIsIHZwb3J0U2hhcGUpO1xuXG4gIGlmIChzY3JlZW4ud2lkdGgpIHtcbiAgICBsZXQgd2lkdGggPSBwYXJzZUludChzY3JlZW4ud2lkdGgpO1xuICAgIGxldCBoZWlnaHQgPSAoc2NyZWVuLmhlaWdodCkgPyBwYXJzZUludChzY3JlZW4uaGVpZ2h0KSA6IDA7XG4gICAgaWYgKHdpZHRoICE9PSAwICYmIGhlaWdodCAhPT0gMCkge1xuICAgICAgY29uc3QgaU9TID0gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QocGxhdGZvcm0pO1xuICAgICAgaWYgKGlPUyAmJiB3aW5kb3dQdHIuZGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgICAvLyBpb3MgcHJvdmlkZXMgRFBJcywgbmVlZCB0byBtdWx0aXBseVxuICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGggKiB3aW5kb3dQdHIuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0ICogd2luZG93UHRyLmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgb3JpZW50YXRpb25BbmdsZSA9IHdpbmRvd1B0ci5zY3JlZW4/Lm9yaWVudGF0aW9uPy5hbmdsZTtcbiAgICAgICAgaWYgKE1hdGguYWJzKG9yaWVudGF0aW9uQW5nbGUpID09PSA5MCB8fCBNYXRoLmFicyhvcmllbnRhdGlvbkFuZ2xlKSA9PT0gMjcwKSB7XG4gICAgICAgICAgLy8gd2UgaGF2ZSBsYW5kc2NhcGUgb3JpZW50YXRpb24gc3dpdGNoIHZhbHVlcyBmb3IgYWxsIGV4Y2VwdCBpb3NcbiAgICAgICAgICBjb25zdCB0ZW1wID0gd2lkdGg7XG4gICAgICAgICAgd2lkdGggPSBoZWlnaHQ7XG4gICAgICAgICAgaGVpZ2h0ID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2Uud2luZG93XCIsIHdpZHRoICsgXCJ4XCIgKyBoZWlnaHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qIG5hdmlnYXRvciAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZIaXN0U2l6ZVwiLCB3aW5kb3dQdHIuaGlzdG9yeT8ubGVuZ3RoKTtcblxuICAvLyBjaGVjayBpZiB1c2VyQWdlbnREYXRhIGlzIHN1cHBvcnRlZCBhbmQgdXNlckFnZW50IGlzIG5vdCBhdmFpbGFibGUsIHVzZSBpdFxuICBpZiAoIW5hdlB0ci51c2VyQWdlbnQpIHtcbiAgICBpZiAobmF2UHRyLnVzZXJBZ2VudERhdGEpIHtcbiAgICAgIC8vIHR1cm4gYnJhbmRzIGFycmF5IGludG8gc3RyaW5nXG4gICAgICBsZXQgbmF2QWdlbnQgPSBuYXZQdHI/LnVzZXJBZ2VudERhdGE/LmJyYW5kcz8ubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuYnJhbmQgKyBcIjpcIiArIGUudmVyc2lvbjtcbiAgICAgIH0pLmpvaW4oKTtcbiAgICAgIC8vIGFkZCBtb2JpbGUgaW5mb1xuICAgICAgbmF2QWdlbnQgKz0gKG5hdlB0cj8udXNlckFnZW50RGF0YT8ubW9iaWxlID8gXCJtb2JpXCIgOiBcIiBcIik7XG4gICAgICAvLyBhZGQgcGxhdGZvcm0gaW5mb1xuICAgICAgbmF2QWdlbnQgKz0gcGxhdGZvcm07XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZBZ2VudFwiLCBuYXZBZ2VudCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLm5hdkFnZW50XCIsIG5hdlB0ci51c2VyQWdlbnQpO1xuICB9XG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2SFdDb3Jlc1wiLCBuYXZQdHIuaGFyZHdhcmVDb25jdXJyZW5jeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLm5hdkxhbmd1YWdlXCIsIG5hdlB0ci5sYW5ndWFnZSB8fFxuICAgICAgbmF2UHRyLmJyb3dzZXJMYW5ndWFnZSB8fFxuICAgICAgbmF2UHRyLnN5c3RlbUxhbmd1YWdlIHx8XG4gICAgICBuYXZQdHIudXNlckxhbmd1YWdlLFxuICApO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZUb3VjaFwiLCBuYXZQdHIubWF4VG91Y2hQb2ludHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZWZW5kb3JcIiwgbmF2UHRyLnZlbmRvcik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLmludGVybmV0U3BlZWRcIiwgd2luZG93UHRyLm5hdmlnYXRvcj8uY29ubmVjdGlvbj8uZG93bmxpbmspO1xuXG4gIC8qIG1pc2NlbGxhbmVvdXMgKi9cbiAgY29uc3QgY3VycmVudFVSTCA9IG5ldyBVUkwod2luZG93LnRvcC5sb2NhdGlvbi5ocmVmKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ1XCIsIGN1cnJlbnRVUkwuaHJlZik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZFwiLCBjdXJyZW50VVJMLmhvc3RuYW1lKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkb250dHJhY2tcIiwgbmF2UHRyLmRvTm90VHJhY2sgfHwgd2luZG93UHRyLmRvTm90VHJhY2sgfHwgbmF2UHRyLm1zRG9Ob3RUcmFjayk7XG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJyXCIsIHdpbmRvd1B0ci5kb2N1bWVudC5yZWZlcnJlcik7XG4gIGNvbnN0IGZpcnN0U2Vzc2lvblJlZmVycmVyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1JFRkVSUkVSKTtcbiAgaWYgKCFmaXJzdFNlc3Npb25SZWZlcnJlcikge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9SRUZFUlJFUiwgd2luZG93UHRyLmRvY3VtZW50LnJlZmVycmVyKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImZyXCIsIHdpbmRvd1B0ci5kb2N1bWVudC5yZWZlcnJlcik7XG4gIH0gZWxzZSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJmclwiLCBmaXJzdFNlc3Npb25SZWZlcnJlcik7XG4gIH1cblxuICAvKiBWaXZlbnNlIHNwZWNpZmljICovXG4gIGxldCBwYWdlVHlwZTtcbiAgLy8gaWYgdXJsIGxpa2UgeCB0aGVuIHNldCBQYWdlVHlwZSA9IHlcbiAgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcImZhdm9yaWxlcmltLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJmYXZvcml0ZXNcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJzaXBhcmlzLWxpc3Rlc2kuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcImJhc2tldFwiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInNpcGFyaXMtb3pldGkuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInB1cmNoYXNlXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwib2RlbWUuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInBheW1lbnRcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJhZHJlcy1saXN0ZXNpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJhZGRyZXNzXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwic2lwYXJpc2xlcmltLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJwYXN0b3JkZXJzXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwidXllLWtheWl0Lmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJyZWdpc3RlclwiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInV5ZS1naXJpc2kuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInNpZ25pblwiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcImt1cG9ubGFyaW0uaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInByb2ZpbGVfY291cG9uc1wiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInByb2ZpbC1ndW5jZWxsZS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwicHJvZmlsZV9pbmZvXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwiYWRyZXNsZXJpbS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwicHJvZmlsZV9hZGRyZXNzZXNcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJkdXl1cnUtdGVyY2lobGVyaS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwicHJvZmlsZV9ub3RpZmljYXRpb25zXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwiaW5kaXJpbWxpLW1vYmlseWEta2FtcGFueWFsYXJpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJzcGVjaWFsX2NhbXBhaWduc1wiO1xuICB9XG5cbiAgaWYgKHBhZ2VUeXBlKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiLCBwYWdlVHlwZSk7XG4gIH1cbn07XG5cbmNvbnN0IGFkZE1ldHJpY3MgPSBmdW5jdGlvbigpIHtcbiAgY29uc3Qgd2luZG93UHRyID0gd2luZG93LnRvcDtcbiAgY29uc3QgcGVyZk1ldHJpY3MgPSB7fTtcbiAgY29uc3QgcGVyZk5hdmlnYXRpb25NZXRyaWNzID0gd2luZG93UHRyLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpWzBdO1xuICBpZiAod2luZG93UHRyLnBlcmZvcm1hbmNlICYmIHBlcmZOYXZpZ2F0aW9uTWV0cmljcykge1xuICAgIHBlcmZNZXRyaWNzLmNvbm5lY3QgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5jb25uZWN0RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmNvbm5lY3RTdGFydCk7XG4gICAgcGVyZk1ldHJpY3MucmVxdWVzdCA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlRW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlcXVlc3RTdGFydCk7XG4gICAgcGVyZk1ldHJpY3MuZG9tID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tSW50ZXJhY3RpdmUgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tQ29tcGxldGUpO1xuICAgIHBlcmZNZXRyaWNzLmxvYWQgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5sb2FkRXZlbnRFbmQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MubG9hZEV2ZW50U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLmR1cmF0aW9uID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZHVyYXRpb24pO1xuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibWV0cmljc1wiLCBwZXJmTWV0cmljcyk7XG59O1xuXG4vLyBUT0RPOiBtb3ZlIHRoaXMgdG8gYW4gXCJlbGVtZW50IGNvbGxlY3RvclwiIG1vZHVsZSwgdGhlbiBkYXRhIGlzIGV4dHJhY3RlZCBmcm9tIHByZS1jb2xsZWN0ZWQgZWxlbWVudHNcbmNvbnN0IGdldFNPUkdBcnJheSA9ICgpID0+IHtcbiAgY29uc3Qgc2NoZW1hT3JnRWx0cyA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIlt0eXBlPVxcXCJhcHBsaWNhdGlvbi9sZCtqc29uXFxcIl1cIik7XG4gIGNvbnN0IHNvcmdBcnJheSA9IFtdO1xuXG4gIGZvciAoY29uc3Qgc1RhZyBvZiBzY2hlbWFPcmdFbHRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNudG50ID0gc1RhZy50ZXh0Q29udGVudDtcbiAgICAgIGNvbnN0IGpzb25jb250ZW50ID0gSlNPTi5wYXJzZShjbnRudCk7XG4gICAgICBzb3JnQXJyYXkucHVzaChqc29uY29udGVudCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxuICB9XG4gIHJldHVybiBzb3JnQXJyYXk7XG59O1xuIiwiaW1wb3J0IHtMT0dfQVBJX1VSTH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQge2dldEZyb21CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZU1vbml0b3JcIik7XG5jb25zdCBIRUFERVJTID0ge1xuICB0eXBlOiBcInRleHQvcGxhaW5cIixcbn07XG5cbmV4cG9ydCBjbGFzcyBNb25pdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBtb25pdG9yXCIpO1xuXG4gICAgdGhpcy5oYXNBcnJpdmFsTG9nU2VudCA9IGZhbHNlO1xuICAgIHRoaXMuaGFzTWFpbkxvZ1NlbnQgPSBmYWxzZTtcbiAgICB0aGlzLmhhc1VwZGF0ZXNTZW50ID0gZmFsc2U7XG5cbiAgICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBudWxsO1xuXG4gICAgdGhpcy5pbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICAvLyBBdHRlbXB0cyB0byBzZW5kIHRoZSBpbml0aWFsIGxvZyBib2R5IChiZWFnbGVJbmZvTGF5ZXIncyBpbml0aWFsIHBvcHVsYXRpb24pIGltbWVkaWF0ZWx5XG4gIGFzeW5jIHNlbmRMb2dzKGltbWVkaWF0ZSkge1xuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbiBpbW1lZGlhdGUgc2VuZGluZyBibG9ja1wiKTtcbiAgICAgIGF3YWl0IHRoaXMucGFja0FuZFF1ZXVlTWFpbkxvZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIubG9nKFwiSW4gbm9uLWNyaXRpY2FsIHNlbmQgcGF0aCAtIGF3YWl0aW5nIHNjcmFwaW5nXCIpO1xuICAgICAgYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9fQ29tcGxldGVkU2NyYXBpbmdcIiwgdHJ1ZSwgNTAsIDEwMDApO1xuICAgICAgbG9nZ2VyLmxvZyhcIkluIG5vbi1jcml0aWNhbCBzZW5kIHBhdGggLSBzZW5kaW5nIGxvZ3NcIik7XG4gICAgICBhd2FpdCB0aGlzLnBhY2tBbmRRdWV1ZU1haW5Mb2coKTtcbiAgICB9XG4gIH1cblxuICAvLyBTZW5kIGluaXRpYWwgbG9nIGJvZHkgYW5kIGluY3JlbWVudGFsIHVwZGF0ZSBsb2dzIG9uIGNsb3NlXG4gIGFzeW5jIGhhbmRsZUNsb3NlRXZlbnQoKSB7XG4gICAgLy8gaWYgaW5pdGlhbCBsb2cgaGFzIG5vdCBiZWVuIHNlbnQgeWV0LCBzZW5kIHVwZGF0ZXMgYW5kIGluZm9sYXllciBpbiBvbmUgYmF0Y2hcbiAgICBhd2FpdCB0aGlzLnBhY2tBbmRRdWV1ZU1haW5Mb2coKTtcbiAgICAvLyBpZiBtYWluIGxvZyBoYXMgYmVlbiBzZW50LCBzZW5kIGluY3JlbWVudGFsIHVwZGF0ZXMgb25seVxuICAgIGF3YWl0IHRoaXMucGFja0FuZFF1ZXVlSW5jcmVtZW50YWxMb2coKTtcbiAgfVxuXG4gIGFzeW5jIHBhY2tBbmRRdWV1ZU1haW5Mb2coKSB7XG4gICAgaWYgKHRoaXMuaGFzTWFpbkxvZ1NlbnQpIHtcbiAgICAgIC8vIGlmIG1haW4gbG9nIGhhcyBhbHJlYWR5IGJlZW4gc2VudCwgZG8gbm90IHNlbmQgYWdhaW5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjb25zdHJ1Y3QgbWFpbiBsb2dcbiAgICBjb25zdCByZXF1ZXN0QmxvYiA9IGF3YWl0IHRoaXMucGFja2FnZU1haW5Mb2dEYXRhKCk7XG5cbiAgICBpZiAocmVxdWVzdEJsb2IpIHtcbiAgICAgIC8vIHByZXBhcmUgY2hhbmdlIGRldGVjdGlvbiBoYXNoZXMgYXQgdGhlIHRpbWUgb2YgbWFpbiBsb2cgcHJlcGFyYXRpb25cbiAgICAgIGF3YWl0IHRoaXMuY2hlY2tGb3JMYXRlc3RDaGFuZ2VzKCk7XG4gICAgICBsb2dnZXIubG9nKFwiUmVxdWVzdCBibG9iIHRvIHNlbmQ6IFwiLCByZXF1ZXN0QmxvYik7XG4gICAgICB0aGlzLmhhc01haW5Mb2dTZW50ID0gdHJ1ZTtcbiAgICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBwYWNrQW5kUXVldWVJbmNyZW1lbnRhbExvZygpIHtcbiAgICBpZiAoIXRoaXMuaGFzTWFpbkxvZ1NlbnQgfHwgdGhpcy5oYXNVcGRhdGVzU2VudCkge1xuICAgICAgLy8gaWYgbWFpbiBsb2cgaGFzIG5vdCBiZWVuIHNlbnQgeWV0LCB0aGVyZSBpcyBubyBpbmNyZW1lbnRhbCB5ZXRcbiAgICAgIC8vIG9yIGlmIHRoZSB1cGRhdGVzIGhhdmUgYWxyZWFkeSBiZWVuIHNlbnQsIGRvIG5vdCBzZW5kIGFnYWluXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGFzQ2hhbmdlZCA9IGF3YWl0IHRoaXMuY2hlY2tGb3JMYXRlc3RDaGFuZ2VzKCk7XG4gICAgbG9nZ2VyLmxvZyhcIlVwZGF0ZSBsb2dzIGNoYW5nZSBzdGF0dXM6IFwiLCBoYXNDaGFuZ2VkKTtcbiAgICBpZiAoIWhhc0NoYW5nZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGxvZ0RhdGEgPSBhd2FpdCB0aGlzLnBhY2thZ2VJbmNyZW1lbnRhbExvZ0RhdGEoKTtcbiAgICBpZiAobG9nRGF0YSkge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNlbmRpbmcgaW5jcmVtZW50YWwgbG9nc1wiLCBsb2dEYXRhKTtcbiAgICAgIHRoaXMuaGFzVXBkYXRlc1NlbnQgPSB0cnVlO1xuICAgICAgdGhpcy5xdWV1ZUxvZ3MobG9nRGF0YSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcGFja0FuZFF1ZXVlQXJyaXZhbExvZygpIHtcbiAgICBpZiAodGhpcy5oYXNNYWluTG9nU2VudCB8fCB0aGlzLmhhc0Fycml2YWxMb2dTZW50KSB7XG4gICAgICAvLyBpZiBtYWluIGxvZyBvciBhcnJpdmFsIGxvZyBoYXMgYWxyZWFkeSBiZWVuIHNlbnQsIGRvIG5vdCBzZW5kIGFnYWluXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY29uc3RydWN0IG1haW4gbG9nXG4gICAgY29uc3QgcmVxdWVzdEJsb2IgPSBhd2FpdCB0aGlzLnBhY2thZ2VBcnJpdmFsTG9nRGF0YSgpO1xuXG4gICAgaWYgKHJlcXVlc3RCbG9iKSB7XG4gICAgICAvLyBwcmVwYXJlIGNoYW5nZSBkZXRlY3Rpb24gaGFzaGVzIGF0IHRoZSB0aW1lIG9mIG1haW4gbG9nIHByZXBhcmF0aW9uXG4gICAgICBsb2dnZXIubG9nKFwiQXJyaXZhbCBibG9iIHRvIHNlbmQ6IFwiLCByZXF1ZXN0QmxvYik7XG4gICAgICB0aGlzLmhhc0Fycml2YWxMb2dTZW50ID0gdHJ1ZTtcbiAgICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjaGVja0ZvckxhdGVzdENoYW5nZXMoKSB7XG4gICAgY29uc3QgaHdtID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9faHdtXCIpO1xuICAgIGlmICh0aGlzLmhpZ2hXYXRlck1hcmsgIT09IGh3bSkge1xuICAgICAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gaHdtO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGFzeW5jIHBhY2thZ2VBcnJpdmFsTG9nRGF0YSgpIHtcbiAgICBjb25zdCBbdXJsLCBoYXNoLCBjb29raWVHYUlkLCB2aWV3X2Vwb2NoXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJ1XCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIm9uSGFzaFBjdFwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVHYUlkXCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInZpZXdfZXBvY2hcIiksXG4gICAgXSk7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgY29va2llR2FJZDogY29va2llR2FJZCxcbiAgICAgIGxjOiAwLFxuICAgICAgdmlld19lcG9jaDogdmlld19lcG9jaCxcbiAgICAgIHU6IHVybCxcbiAgICAgIG9uSGFzaFBjdDogaGFzaCxcbiAgICB9O1xuXG4gICAgbG9nZ2VyLmxvZyhcIkFycml2YWwgbG9nIGRhdGE6IFwiLCBib2R5KTtcblxuICAgIHJldHVybiBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoYm9keSldLCBIRUFERVJTKTtcbiAgfVxuXG4gIGFzeW5jIHBhY2thZ2VNYWluTG9nRGF0YSgpIHtcbiAgICBjb25zdCBib2R5ID0ge307XG4gICAgaWYgKCF3aW5kb3cuYmVhZ2xlSW5mb0xheWVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMod2luZG93LmJlYWdsZUluZm9MYXllcikpIHtcbiAgICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoXCJfXCIpICYmIHZhbHVlICE9PSBudWxsKSBib2R5W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgYm9keS5sYyA9IDE7XG5cbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgSEVBREVSUyk7XG4gIH1cblxuICBhc3luYyBwYWNrYWdlSW5jcmVtZW50YWxMb2dEYXRhKCkge1xuICAgIGNvbnN0IFthLCBlLCBmLCBzLCBtLCBjb29raWVHYUlkLCB2aWV3X2Vwb2NoXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJhXCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImVcIiksXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiZlwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJzXCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIm1cIiksXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiY29va2llR2FJZFwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJ2aWV3X2Vwb2NoXCIpLFxuICAgIF0pO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIGNvb2tpZUdhSWQ6IGNvb2tpZUdhSWQsXG4gICAgICBsYzogMixcbiAgICAgIHZpZXdfZXBvY2g6IHZpZXdfZXBvY2gsXG4gICAgICBhLCBlLCBmLCBzLCBtLFxuICAgIH07XG5cbiAgICBsb2dnZXIubG9nKFwiVXBkYXRlIGxvZyBkYXRhOiBcIiwgYm9keSk7XG5cbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgSEVBREVSUyk7XG4gIH1cblxuICBpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGxldCB2aXNpYmlsaXR5Q2hhbmdlVGltZW91dCA9IG51bGw7XG4gICAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBleGl0IGV2ZW50IGxpc3RlbmVyXCIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbiBiZWZvcmV1bmxvYWQgZXZlbnRcIik7XG4gICAgICBjbGVhclRpbWVvdXQodmlzaWJpbGl0eUNoYW5nZVRpbWVvdXQpO1xuICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDbG9zZUV2ZW50KCk7XG4gICAgfSwge2NhcHR1cmU6IHRydWV9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbiBwYWdlaGlkZSBldmVudFwiKTtcbiAgICAgIGNsZWFyVGltZW91dCh2aXNpYmlsaXR5Q2hhbmdlVGltZW91dCk7XG4gICAgICBhd2FpdCB0aGlzLmhhbmRsZUNsb3NlRXZlbnQoKTtcbiAgICB9LCB7Y2FwdHVyZTogdHJ1ZX0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBpZiAod2luZG93LnRvcC5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwiaGlkZGVuXCIpIHtcbiAgICAgICAgLy8gSWYgcGFnZSBpcyBub3QgdmlzaWJsZSBhbmQgZG9lc24ndCBiZWNvbWUgdmlzaWJsZSB3aXRoaW4gMzAgc2Vjb25kcywgc2VuZCBsb2dzXG4gICAgICAgIHZpc2liaWxpdHlDaGFuZ2VUaW1lb3V0ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluIHRpbWVvdXRcIik7XG4gICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDbG9zZUV2ZW50KCk7XG4gICAgICAgIH0sIDMwMDAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gQ2xlYXIgdGltZW91dCB3aGVuIHBhZ2UgaXMgdmlzaWJsZSB0byBtYWtlIHN1cmUgd2Ugc2VuZCB0aGUgbGF0ZXN0IGxvZ3MgcG9zc2libGVcbiAgICAgIGNsZWFyVGltZW91dCh2aXNpYmlsaXR5Q2hhbmdlVGltZW91dCk7XG4gICAgICB2aXNpYmlsaXR5Q2hhbmdlVGltZW91dCA9IG51bGw7XG4gICAgfSwge2NhcHR1cmU6IHRydWV9KTtcbiAgfVxuXG4gIHF1ZXVlTG9ncyhsb2dEYXRhKSB7XG4gICAgaWYgKCFuYXZpZ2F0b3Iuc2VuZEJlYWNvbiB8fCB0eXBlb2YgbmF2aWdhdG9yLnNlbmRCZWFjb24gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZmV0Y2goTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgY29uc3QgcXVldWVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICghcXVldWVkKSBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3MgcXVldWVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIH1cbiAgICB9LCAxMCk7XG4gICAgaWYgKHF1ZXVlZCkgcmV0dXJuO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgIGlmICghcXVldWVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIG5vdCBxdWV1ZWRcIik7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvcjtcbiIsImltcG9ydCB7TE9DQUxfU1RPUkFHRV9LRVlTLCBTRVNTSU9OX1NUT1JBR0VfS0VZUywgTE9DQUxfU1RPUkFHRV9UVExfSE9VUlN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7ZmV0Y2hUcmVhdG1lbnRzLCBmZXRjaFRyZWF0bWVudFdlaWdodHN9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQge2dldEZyb21CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVUcmVhdG1lbnRSZXBvc2l0b3J5XCIpO1xuXG5jbGFzcyBUcmVhdG1lbnRSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHt0cmVhdG1lbnRzLCB0cmVhdG1lbnRXZWlnaHRzfSA9IGJvZHk7XG4gICAgdGhpcy50cmVhdG1lbnRzID0gdHJlYXRtZW50cztcbiAgICB0aGlzLnRyZWF0bWVudFdlaWdodHMgPSB0cmVhdG1lbnRXZWlnaHRzO1xuICAgIHRoaXMuY3VycmVudFBhZ2VUeXBlID0gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRzKCkge1xuICAgIGxvZ2dlci5sb2coXCJMb2FkaW5nIHRyZWF0bWVudHNcIik7XG4gICAgY29uc3Qge1RSRUFUTUVOVFN9ID0gTE9DQUxfU1RPUkFHRV9LRVlTO1xuICAgIGNvbnN0IHRyZWF0bWVudHNPYmogPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShUUkVBVE1FTlRTKSk7XG4gICAgbGV0IHRyZWF0bWVudHMgPSB0cmVhdG1lbnRzT2JqPy50cmVhdG1lbnRzO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IHRyZWF0bWVudHNPYmo/LnRpbWVzdGFtcDtcbiAgICBpZiAoIXRyZWF0bWVudHMgfHwgIXRpbWVzdGFtcCkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIlRyZWF0bWVudHMgbm90IGZvdW5kIGluIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICBpZiAoIXRyZWF0bWVudHMpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZhaWxlZCB0byBmZXRjaCB0cmVhdG1lbnRzXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgIH07XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuTUFUQ0hFRF9UUkVBVE1FTlRTKTtcbiAgICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICAgIH1cbiAgICBpZiAodGltZXN0YW1wKSB7XG4gICAgICBjb25zdCBlbGFwc2VkSG91cnMgPSAoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyAoMTAwMCAqIDM2MDApO1xuICAgICAgaWYgKGVsYXBzZWRIb3VycyA+IExPQ0FMX1NUT1JBR0VfVFRMX0hPVVJTKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJUcmVhdG1lbnRzIGFyZSBleHBpcmVkXCIpO1xuICAgICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICAgIGlmICghdHJlYXRtZW50cykge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJGYWlsZWQgdG8gZmV0Y2ggdHJlYXRtZW50c1wiKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmVhdG1lbnRXaXRoVGltZXN0YW1wID0ge1xuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICB0cmVhdG1lbnRzLFxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5NQVRDSEVEX1RSRUFUTUVOVFMpO1xuICAgICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyLnN1Y2Nlc3MoXCJUcmVhdG1lbnRzIGFyZSBsb2FkZWQgZnJvbSBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFRyZWF0bWVudFdlaWdodHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCB3ZWlnaHRzT2JqID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5XRUlHSFRTKTtcbiAgICAgIGlmICh3ZWlnaHRzT2JqKSB7XG4gICAgICAgIHdlaWdodHNPYmogPSBKU09OLnBhcnNlKHdlaWdodHNPYmopO1xuICAgICAgICBpZiAod2VpZ2h0c09iai50aW1lc3RhbXApIHtcbiAgICAgICAgICBjb25zdCBlbGFwc2VkSG91cnMgPSAoRGF0ZS5ub3coKSAtIHdlaWdodHNPYmoudGltZXN0YW1wKSAvICgxMDAwICogMzYwMCk7XG4gICAgICAgICAgaWYgKGVsYXBzZWRIb3VycyA8IExPQ0FMX1NUT1JBR0VfVFRMX0hPVVJTKSByZXR1cm4gd2VpZ2h0c09iai53ZWlnaHRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3ZWlnaHRzT2JqID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzKCk7XG4gICAgICBpZiAoIXdlaWdodHNPYmopIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZhaWxlZCB0byBmZXRjaCB3ZWlnaHRzXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHdlaWdodHNPYmogPSB7d2VpZ2h0czogd2VpZ2h0c09iaiwgdGltZXN0YW1wOiBEYXRlLm5vdygpfTtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuV0VJR0hUUywgSlNPTi5zdHJpbmdpZnkod2VpZ2h0c09iaikpO1xuICAgICAgcmV0dXJuIHdlaWdodHNPYmoud2VpZ2h0cztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlci53YXJuKGVyci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldE1hdGNoZWRUcmVhdG1lbnRzKGRlYnVnTW9kZSkge1xuICAgIGxldCBDUFQgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiX19lUnVsZXMuUGFnZVR5cGVcIiwgdHJ1ZSk7XG4gICAgQ1BUID0gQ1BUPy5bMF0gfHwgbnVsbDtcbiAgICBpZiAoIUNQVCkgcmV0dXJuIFtdO1xuICAgIHRoaXMuY3VycmVudFBhZ2VUeXBlID0gQ1BUO1xuICAgIGxldCBtYXRjaGVkVHJlYXRtZW50cyA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLk1BVENIRURfVFJFQVRNRU5UUyk7XG4gICAgaWYgKG1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBtYXRjaGVkVHJlYXRtZW50cyA9IGF3YWl0IEpTT04ucGFyc2UobWF0Y2hlZFRyZWF0bWVudHMpO1xuICAgICAgICBtYXRjaGVkVHJlYXRtZW50cyA9IG1hdGNoZWRUcmVhdG1lbnRzLmZpbHRlcigobXQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja1BhZ2VUeXBlKG10LnBhZ2VUeXBlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBsb2dnZXIubG9nKGAke21hdGNoZWRUcmVhdG1lbnRzLmxlbmd0aH0gdHJlYXRtZW50cyB1c2VyIHNlZ21lbnQgbWF0Y2hlZGApO1xuICAgICAgICByZXR1cm4gbWF0Y2hlZFRyZWF0bWVudHM7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkVycm9yIGdldHRpbmcgbWF0Y2hlZCByb2JvdHM6XCIsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH1cbiAgICBtYXRjaGVkVHJlYXRtZW50cyA9IFtdO1xuICAgIGNvbnN0IHt0cmVhdG1lbnRzLCB0cmVhdG1lbnRXZWlnaHRzfSA9IHRoaXM7XG4gICAgY29uc3QgdXNlclNlZ21lbnQgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwic1wiKTtcbiAgICBpZiAoIXVzZXJTZWdtZW50KSByZXR1cm4gbnVsbDtcbiAgICBpZiAodHJlYXRtZW50V2VpZ2h0cykge1xuICAgICAgY29uc3QgdXNlclNlZ21lbnRXZWlnaHRzID0gdHJlYXRtZW50V2VpZ2h0c1t1c2VyU2VnbWVudF07XG4gICAgICBpZiAoIXVzZXJTZWdtZW50V2VpZ2h0cykgcmV0dXJuIFtdO1xuICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgdHJlYXRtZW50cykge1xuICAgICAgICBsZXQgc2VnbWVudGVkV2VpZ2h0ID0gdXNlclNlZ21lbnRXZWlnaHRzW3RyZWF0bWVudC5pZF0/LndlaWdodDtcbiAgICAgICAgaWYgKCFzZWdtZW50ZWRXZWlnaHQpIHtcbiAgICAgICAgICBpZiAodHJlYXRtZW50LmRlcGVuZGFudF9vbl90cmVhdG1lbnQpIHtcbiAgICAgICAgICAgIHNlZ21lbnRlZFdlaWdodCA9IHVzZXJTZWdtZW50V2VpZ2h0c1t0cmVhdG1lbnQuZGVwZW5kYW50X29uX3RyZWF0bWVudF0/LndlaWdodDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRlYnVnTW9kZSAmJiBkZWJ1Z01vZGUgPT09IDEpIHNlZ21lbnRlZFdlaWdodCA9IDEwMDtcbiAgICAgICAgICBpZiAoIXNlZ21lbnRlZFdlaWdodCkgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdHJlYXRtZW50LndlaWdodCA9IHNlZ21lbnRlZFdlaWdodDtcbiAgICAgICAgaWYgKCF0cmVhdG1lbnQuYWN0aW9ucy5zb21lKChhKSA9PiBhLnZhcmlhbnRzKSkge1xuICAgICAgICAgIG1hdGNoZWRUcmVhdG1lbnRzLnB1c2godHJlYXRtZW50KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0cmVhdG1lbnQuYWN0aW9ucykge1xuICAgICAgICAgIGlmICghYWN0aW9uLnZhcmlhbnRzKSBjb250aW51ZTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnRLZXkgb2YgT2JqZWN0LmtleXMoYWN0aW9uLnZhcmlhbnRzKSkge1xuICAgICAgICAgICAgaWYgKHVzZXJTZWdtZW50V2VpZ2h0c1t0cmVhdG1lbnQuaWRdPy52YXJpYW50cyAmJiB1c2VyU2VnbWVudFdlaWdodHNbdHJlYXRtZW50LmlkXT8udmFyaWFudHNbdmFyaWFudEtleV0pIHtcbiAgICAgICAgICAgICAgYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCA9IHVzZXJTZWdtZW50V2VpZ2h0c1t0cmVhdG1lbnQuaWRdLnZhcmlhbnRzW3ZhcmlhbnRLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXRjaGVkVHJlYXRtZW50cy5wdXNoKHRyZWF0bWVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLk1BVENIRURfVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkobWF0Y2hlZFRyZWF0bWVudHMpKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRNYXRjaGVkVHJlYXRtZW50cyhkZWJ1Z01vZGUpO1xuICB9XG5cbiAgY2hlY2tQYWdlVHlwZShwYWdlVHlwZXMpIHtcbiAgICBjb25zdCB7Y3VycmVudFBhZ2VUeXBlfSA9IHRoaXM7XG4gICAgaWYgKHBhZ2VUeXBlcyA9PT0gbnVsbCB8fCBwYWdlVHlwZXMgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBhZ2VUeXBlcykpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJQYWdlIFR5cGVzIHNob3VsZCBiZSBhbiBhcnJheVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHBhZ2VUeXBlc1swXS5zdGFydHNXaXRoKFwiIVwiKSkge1xuICAgICAgcGFnZVR5cGVzID0gcGFnZVR5cGVzLm1hcCgocHQpID0+IHB0LnN1YnN0cigxKSk7XG4gICAgICByZXR1cm4gIXBhZ2VUeXBlcy5pbmNsdWRlcyhjdXJyZW50UGFnZVR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gcGFnZVR5cGVzLmluY2x1ZGVzKGN1cnJlbnRQYWdlVHlwZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJlYXRtZW50UmVwb3NpdG9yeTtcbiIsImltcG9ydCB7cmVwbGFjZUFsbH0gZnJvbSBcIi4uL3N0cmluZ1V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCB7Z2V0RnJvbUJlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiUmVwbGFjZVV0aWxzXCIpO1xuXG5jb25zdCByZXBsYWNlciA9IGFzeW5jICh2YWx1ZSwgcmVwbGFjZUZuKSA9PiB7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAoY29uc3QgW2ksIHZhbF0gb2YgdmFsdWUuZW50cmllcygpKSB7XG4gICAgICBjb25zdCBjdXJyZW50UmVwbGFjZUZuID0gQXJyYXkuaXNBcnJheShyZXBsYWNlRm4pID8gcmVwbGFjZUZuW2ldIDogcmVwbGFjZUZuIHx8IFwiXCI7XG4gICAgICBpZiAodHlwZW9mIGN1cnJlbnRSZXBsYWNlRm4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29uc3QgcmVwbGFjZVZhbCA9IGF3YWl0IHJlcGxhY2VPYmplY3RFeHRyYWN0b3IoY3VycmVudFJlcGxhY2VGbik7XG4gICAgICAgIHZhbHVlW2ldID0gcmVwbGFjZUFsbCh2YWwsIFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZVZhbCk7XG4gICAgICB9IGVsc2UgdmFsdWVbaV0gPSByZXBsYWNlRm5FeGVjdXRvcihjdXJyZW50UmVwbGFjZUZuLCB2YWwpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlcGxhY2VGbikpIHtcbiAgICBmb3IgKGNvbnN0IHJGbiBvZiByZXBsYWNlRm4pIHtcbiAgICAgIGlmICh0eXBlb2YgckZuID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IHJlcGxhY2VWYWwgPSBhd2FpdCByZXBsYWNlT2JqZWN0RXh0cmFjdG9yKHJGbik7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VWYWwpO1xuICAgICAgfSBlbHNlIHZhbHVlID0gcmVwbGFjZUZuRXhlY3V0b3IockZuLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgcmVwbGFjZUZuID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCByZXBsYWNlVmFsID0gYXdhaXQgcmVwbGFjZU9iamVjdEV4dHJhY3RvcihyZXBsYWNlRm4pO1xuICAgICAgdmFsdWUgPSByZXBsYWNlQWxsKHZhbHVlLCBcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VWYWwpO1xuICAgIH0gZWxzZSB2YWx1ZSA9IHJlcGxhY2VGbkV4ZWN1dG9yKHJlcGxhY2VGbiwgdmFsdWUpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmZ1bmN0aW9uIHJlcGxhY2VGbkV4ZWN1dG9yKHJlcGxhY2VGbiwgdmFsdWUsIHNpbmdsZSA9IGZhbHNlKSB7XG4gIGlmIChyZXBsYWNlRm4gJiYgdmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSkge1xuICAgIGxvZ2dlci5sb2coXCJFeGVjdXRpbmcgcmVwbGFjZSBmdW5jdGlvbjogXCIsIHJlcGxhY2VGbik7XG4gICAgY29uc3QgcmVwbGFjZUZ1bmN0aW9uID0gRnVuY3Rpb24ocmVwbGFjZUZuKTtcbiAgICBpZiAoc2luZ2xlKSByZXR1cm4gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VGdW5jdGlvbigpKTtcbiAgICByZXR1cm4gcmVwbGFjZUFsbCh2YWx1ZSwgXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlRnVuY3Rpb24oKSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5hc3luYyBmdW5jdGlvbiByZXBsYWNlT2JqZWN0RXh0cmFjdG9yKHJlcGxhY2VGbikge1xuICBjb25zdCB7c3RvcmFnZSwga2V5LCBrZXlGYWxsYmFjaywgdHlwZX0gPSByZXBsYWNlRm47XG4gIHN3aXRjaCAoc3RvcmFnZSkge1xuICAgIGNhc2UgXCJzZXNzaW9uXCI6IHtcbiAgICAgIGxldCByZXBsYWNlVmFsID0gbnVsbDtcbiAgICAgIHJlcGxhY2VWYWwgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgaWYgKCFyZXBsYWNlVmFsKSByZXBsYWNlVmFsID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5RmFsbGJhY2spO1xuICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXBsYWNlVmFsID0gSlNPTi5wYXJzZShyZXBsYWNlVmFsKTtcbiAgICAgICAgICByZXBsYWNlVmFsID0gcmVwbGFjZVZhbFtyZXBsYWNlVmFsLmxlbmd0aCAtIDFdW3R5cGVdO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKGBDb3VsZCBub3QgcGFyc2UgJHtyZXBsYWNlVmFsfWApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVwbGFjZVZhbDtcbiAgICB9XG4gICAgY2FzZSBcImluZm8tbGF5ZXJcIjoge1xuICAgICAgbGV0IHJlcGxhY2VWYWwgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKGtleSk7XG4gICAgICBpZiAoIXJlcGxhY2VWYWwpIHJlcGxhY2VWYWwgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKGtleUZhbGxiYWNrKTtcbiAgICAgIHJldHVybiByZXBsYWNlVmFsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCByZXBsYWNlcjtcbiIsImNvbnN0IGNvbmZpZyA9IHtcbiAgZGJOYW1lOiBcImJlYWdsZV9jYWNoZVwiLFxuICB2ZXJzaW9uOiAxLFxuICBzdG9yZToge1xuICAgIG5hbWU6IFwiaW5mb0NhY2hlXCIsXG4gICAgaW5kZXhlczogW1xuICAgICAge1xuICAgICAgICBuYW1lOiBcIml4X3NrdVwiLFxuICAgICAgICBmaWVsZHM6IFwic2t1XCIsXG4gICAgICB9LFxuICAgIF0sXG4gICAgb3B0aW9uczoge2tleVBhdGg6IFwic2t1XCJ9LFxuICB9LFxufTtcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsImltcG9ydCB7ZmV0Y2hQcm9kdWN0SW5mb30gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vc3RvcmUuY29uZmlnXCI7XG5pbXBvcnQge2FkZFRvQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJHbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5XCIpO1xuY2xhc3MgR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW5kZXhlZERCID0gbnVsbDtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBpbmRleGVkREJcIik7XG4gICAgY29uc3Qgb3BlblJlcXVlc3QgPSB3aW5kb3cudG9wLmluZGV4ZWREQj8ub3Blbihjb25maWcuZGJOYW1lLCBjb25maWcudmVyc2lvbik7XG4gICAgaWYgKCFvcGVuUmVxdWVzdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW5kZXhlZGRiIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfVxuXG4gICAgb3BlblJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2ZW50Lm9sZFZlcnNpb24pIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIFRPRE8gdXBncmFkZSBleGlzdGluZyBkYiBpbnN0ZWFkIG9mIGRlbGV0ZSBhbmQgY3JlYXRlIGZyb20gc2NyYXRjaFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvcGVuUmVxdWVzdC5yZXN1bHQuZGVsZXRlT2JqZWN0U3RvcmUoY29uZmlnLnN0b3JlLm5hbWUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBkZWxldGUgb3V0ZGF0ZWQgZGF0YWJhc2VcIiwgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gb3BlblJlcXVlc3QucmVzdWx0LmNyZWF0ZU9iamVjdFN0b3JlKGNvbmZpZy5zdG9yZS5uYW1lLCBjb25maWcuc3RvcmUub3B0aW9ucyk7XG4gICAgICAgIGlmIChjb25maWcuc3RvcmUuaW5kZXhlcz8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAoY29uc3QgaWR4IG9mIGNvbmZpZy5zdG9yZS5pbmRleGVzKSB7XG4gICAgICAgICAgICBzdG9yZS5jcmVhdGVJbmRleChpZHgubmFtZSwgaWR4LmZpZWxkcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBjcmVhdGUgb2JqZWN0IHN0b3JlIG9uIGRhdGFiYXNlXCIsIGVyci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgb3BlblJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBiZWFnbGVfY2FjaGUgaW5kZXhlZCBEQlwiLCBvcGVuUmVxdWVzdC5lcnJvcik7XG4gICAgfTtcblxuICAgIG9wZW5SZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgIHRoaXMuaW5kZXhlZERCID0gb3BlblJlcXVlc3QucmVzdWx0O1xuICAgIH07XG4gIH1cblxuICBnZXRDb25uZWN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhlZERCKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9LCAyNSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmluZGV4ZWREQikge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJJbmRleGVkREIgbm90IGluaXRpYWxpemVkIHdpdGhpbiB0aGUgYWxsb3R0ZWQgdGltZVwiKSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMDApO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgaW5pdFRyYW5zYWN0aW9uKHJlYWR3cml0ZSA9IGZhbHNlKSB7XG4gICAgYXdhaXQgdGhpcy5nZXRDb25uZWN0aW9uKCk7XG4gICAgY29uc3QgdHggPSB0aGlzLmluZGV4ZWREQi50cmFuc2FjdGlvbihjb25maWcuc3RvcmUubmFtZSwgKHJlYWR3cml0ZSA/IFwicmVhZHdyaXRlXCIgOiBcInJlYWRvbmx5XCIpKTtcbiAgICByZXR1cm4gdHgub2JqZWN0U3RvcmUoY29uZmlnLnN0b3JlLm5hbWUpO1xuICB9XG5cbiAgYXN5bmMgc2F2ZShwYXlsb2FkKSB7XG4gICAgY29uc3Qgc3RvcmUgPSBhd2FpdCB0aGlzLmluaXRUcmFuc2FjdGlvbih0cnVlKTtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLnJvdW5kKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwYXlsb2FkKSkge1xuICAgICAgZm9yIChjb25zdCBsb2FkIG9mIHBheWxvYWQpIHtcbiAgICAgICAgbG9hZC50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICAgIHN0b3JlLnB1dChsb2FkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGF5bG9hZC50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICBzdG9yZS5wdXQocGF5bG9hZCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY2xlYXIoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmluaXRUcmFuc2FjdGlvbih0cnVlKS50aGVuKChzdG9yZSkgPT4ge1xuICAgICAgICBjb25zdCBjbGVhclJlcXVlc3QgPSBzdG9yZS5jbGVhcigpO1xuICAgICAgICBjbGVhclJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xlYXJSZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChgRXJyb3IgY2xlYXJpbmcgc3RvcmU6ICR7c3RvcmUubmFtZX1gKTtcbiAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBnZXQoc2t1KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmluaXRUcmFuc2FjdGlvbigpLnRoZW4oKHN0b3JlKSA9PiB7XG4gICAgICAgIGNvbnN0IGdldFJlcXVlc3QgPSBzdG9yZS5nZXQoc2t1KTtcbiAgICAgICAgZ2V0UmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0UmVxdWVzdC5yZXN1bHQ7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgRm91bmQgdmFsdWUgJHtyZXN1bHR9IGZvciBrZXkgJHtza3V9YCk7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICBnZXRSZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChgRXJyb3IgZ2V0dGluZyB2YWx1ZSBmb3Iga2V5OiAke3NrdX1gLCBnZXRSZXF1ZXN0Lm9uZXJyb3IpO1xuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGNvdW50KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24oKS50aGVuKChzdG9yZSkgPT4ge1xuICAgICAgICBjb25zdCBjb3VudFJlcXVlc3QgPSBzdG9yZS5jb3VudCgpO1xuICAgICAgICBjb3VudFJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvdW50UmVxdWVzdC5yZXN1bHQ7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgQ291bnRlZCAke3Jlc3VsdH0gZW50cmllc2ApO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgY291bnRSZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkVycm9yIGNvdW50aW5nIGVudHJpZXM6IFwiLCBjb3VudFJlcXVlc3Qub25lcnJvcik7XG4gICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0Q3Vyc29yKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24oKS50aGVuKChzdG9yZSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJzb3JSZXF1ZXN0ID0gc3RvcmUub3BlbkN1cnNvcigpO1xuICAgICAgICBjdXJzb3JSZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICAgIGN1cnNvclJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiRXJyb3IgZ2V0dGluZyBjdXJzb3JcIiwgY3Vyc29yUmVxdWVzdC5vbmVycm9yKTtcbiAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBwZXJzaXN0UHJvZHVjdEluZm8oKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwiY2hlY2stZXhpc3RpbmctcHJvZC1pbmZvXCIpO1xuICAgIGNvbnN0IGV4aXN0aW5nUHJvZEluZm8gPSBhd2FpdCB0aGlzLmNvdW50KCk7XG4gICAgaWYgKGV4aXN0aW5nUHJvZEluZm8pIHtcbiAgICAgIGxvZ2dlci5sb2coXCJFeGlzdGluZyBwcm9kdWN0IGluZm8gZm91bmRcIik7XG4gICAgICBjb25zdCBjdXJzb3IgPSBhd2FpdCB0aGlzLmdldEN1cnNvcigpO1xuICAgICAgY29uc3QgdGltZXN0YW1wID0gY3Vyc29yLnZhbHVlLnRpbWVzdGFtcDtcbiAgICAgIGNvbnN0IGVsYXBzZWRTZWNvbmRzID0gKERhdGUubm93KCkgLyAxMDAwKSAtIHRpbWVzdGFtcDtcbiAgICAgIC8vIFJlLWZldGNoIHByb2R1Y3QgaW5mbyBvbmNlIGEgZGF5XG4gICAgICBpZiAoZWxhcHNlZFNlY29uZHMgPCA4NjQwMCkgcmV0dXJuO1xuICAgICAgbG9nZ2VyLmxvZyhcIkV4aXN0aW5nIHByb2R1Y3QgaW5mbyBpcyBleHBpcmVkXCIpO1xuICAgIH1cbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJmZXRjaGluZy1wcm9kLWluZm9cIik7XG4gICAgY29uc3QgcHJvZHVjdEluZm9Qcm9taXNlID0gZmV0Y2hQcm9kdWN0SW5mbygpO1xuICAgIGNvbnN0IGNsZWFyUHJvbWlzZSA9IHRoaXMuY2xlYXIoKTtcbiAgICBjb25zdCBbcHJvZHVjdEluZm9BcnJheV0gPSBhd2FpdCBQcm9taXNlLmFsbChbcHJvZHVjdEluZm9Qcm9taXNlLCBjbGVhclByb21pc2VdKTtcbiAgICBpZiAoIXByb2R1Y3RJbmZvQXJyYXkgfHwgIXByb2R1Y3RJbmZvQXJyYXkubGVuZ3RoKSByZXR1cm47XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwiZmV0Y2hlZC1wcm9kLWluZm9cIik7XG4gICAgYXdhaXQgdGhpcy5zYXZlKHRoaXMucHJlcGFyZVBheWxvYWRzKHByb2R1Y3RJbmZvQXJyYXkpKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJwZXJzaXN0ZWQtcHJvZC1pbmZvXCIpO1xuICB9XG5cbiAgcHJlcGFyZVBheWxvYWRzKHByb2R1Y3RJbmZvQXJyYXkpIHtcbiAgICBjb25zdCBwYXlsb2FkcyA9IFtdO1xuICAgIGNvbnN0IGZpZWxkTmFtZXMgPSBwcm9kdWN0SW5mb0FycmF5LnNoaWZ0KCk7XG4gICAgZmllbGROYW1lcy5zaGlmdCgpO1xuICAgIGZvciAoY29uc3QgaW5mbyBvZiBwcm9kdWN0SW5mb0FycmF5KSB7XG4gICAgICBjb25zdCBwYXlsb2FkID0ge3NrdTogaW5mby5zaGlmdCgpfTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGROYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwYXlsb2FkW2ZpZWxkTmFtZXNbaV1dID0gaW5mb1tpXSB8fCAwO1xuICAgICAgfVxuICAgICAgcGF5bG9hZHMucHVzaChwYXlsb2FkKTtcbiAgICB9XG4gICAgcmV0dXJuIHBheWxvYWRzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnk7XG4iLCJpbXBvcnQgR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeSBmcm9tIFwiLi9pbmRleFwiO1xuXG5jb25zdCBTdG9yZSA9IChmdW5jdGlvbigpIHtcbiAgbGV0IGluc3RhbmNlID0gbnVsbDtcbiAgcmV0dXJuIHtcbiAgICBnZXRJbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeSgpO1xuICAgICAgICAvLyBIaWRlIHRoZSBjb25zdHJ1Y3RvciBzbyB0aGUgcmV0dXJuZWQgb2JqZWN0IGNhbid0IGJlIG5ldydkLi4uXG4gICAgICAgIGluc3RhbmNlLmNvbnN0cnVjdG9yID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9LFxuICB9O1xufSkoKTtcbmV4cG9ydCBkZWZhdWx0IFN0b3JlO1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi4vR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeS9zdG9yZVwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQWN0aW9uQ29uZGl0aW9uVXRpbHNcIik7XG5cbmNvbnN0IGNoZWNrQWN0aW9uQ29uZGl0aW9uID0gYXN5bmMgKGNvbmRpdGlvbikgPT4ge1xuICBsb2dnZXIubG9nKFwiQWN0aW9uIGNvbmRpdGlvbiBmb3VuZDogXCIsIGNvbmRpdGlvbik7XG4gIGNvbnN0IGVsaWdpYmxlRWxlbWVudHMgPSBbXTtcbiAgY29uc3Qge2F0dHJpYnV0ZSwgaW5uZXJfY29uZGl0aW9uLCBvcGVyYXRvciwgc2VsZWN0b3IsIHR5cGUsIHZhbHVlLCBjaGFpbn0gPSBjb25kaXRpb247XG4gIGNvbnN0IGNvbmRpdGlvbkVsZW1lbnRzID0gQXJyYXkuZnJvbSh3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNvbmRpdGlvbkVsZW1lbnRzKSB7XG4gICAgaWYgKGF3YWl0IGFjdGlvbkNvbmRpdGlvbkNoZWNrZXIoZWxlbWVudCwgdHlwZSwgb3BlcmF0b3IsIGF0dHJpYnV0ZSwgaW5uZXJfY29uZGl0aW9uLCB2YWx1ZSwgY2hhaW4pKSB7XG4gICAgICBlbGlnaWJsZUVsZW1lbnRzLnB1c2goJChlbGVtZW50KSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBlbGlnaWJsZUVsZW1lbnRzO1xufTtcblxuY29uc3QgYWN0aW9uQ29uZGl0aW9uQ2hlY2tlciA9IGFzeW5jIChlbGVtZW50LCB0eXBlLCBvcGVyYXRvciwgYXR0cmlidXRlLCBpbm5lcl9jb25kaXRpb24sIHZhbHVlLCBjaGFpbikgPT4ge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwicHJvZHVjdEluZm9Mb29rdXBcIjoge1xuICAgICAgY29uc3QgZWxlbWVudFNrdSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICBjb25zdCBwcm9kdWN0SW5mbyA9IGF3YWl0IFN0b3JlLmdldEluc3RhbmNlKCkuZ2V0KGVsZW1lbnRTa3UpO1xuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gcHJvZHVjdEluZm8/LltvcGVyYXRvcl07XG4gICAgICAvLyBydW5UaW1lVmFsdWUgbWF5IGJlIDBcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPT09IG51bGwgfHwgcnVuVGltZVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlByb2R1Y3QgaW5mbyBpcyBlbXB0eVwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCFjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgaW5uZXJfY29uZGl0aW9uLCB2YWx1ZSkpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChjaGFpbikge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhY3Rpb25Db25kaXRpb25DaGVja2VyKGVsZW1lbnQsIGNoYWluLnR5cGUsIGNoYWluLm9wZXJhdG9yLFxuICAgICAgICAgICAgY2hhaW4uYXR0cmlidXRlLCBjaGFpbi5pbm5lcl9jb25kaXRpb24sIGNoYWluLnZhbHVlLCBjaGFpbi5jaGFpbik7XG4gICAgICAgIGlmICghcmVzKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgIGlmICghY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGlubmVyX2NvbmRpdGlvbiwgdmFsdWUpKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoY2hhaW4pIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYWN0aW9uQ29uZGl0aW9uQ2hlY2tlcihlbGVtZW50LCBjaGFpbi50eXBlLCBjaGFpbi5vcGVyYXRvcixcbiAgICAgICAgICAgIGNoYWluLmF0dHJpYnV0ZSwgY2hhaW4uaW5uZXJfY29uZGl0aW9uLCBjaGFpbi52YWx1ZSwgY2hhaW4uY2hhaW4pO1xuICAgICAgICBpZiAoIXJlcykgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNoZWNrQWN0aW9uQ29uZGl0aW9uO1xuIiwiaW1wb3J0IHtzdHlsZUFwcGxpY2F0b3IsIGRlbGF5LCBpZGxlVGltZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtyZXBsYWNlQWxsLCB0dXJraXNoVG9Mb3dlcn0gZnJvbSBcIi4uL3N0cmluZ1V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWSwgU0VTU0lPTl9TVE9SQUdFX0tFWVMsIElETEVfVElNRU9VVH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHJlcGxhY2VyIGZyb20gXCIuL3JlcGxhY2UtdXRpbHNcIjtcbmltcG9ydCBjaGVja0FjdGlvbkNvbmRpdGlvbiBmcm9tIFwiLi9hY3Rpb24tY29uZGl0aW9uLXV0aWxcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IHtnZXRGcm9tQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQgU3RvcmUgZnJvbSBcIi4uL0dsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkvc3RvcmVcIjtcblxuYXN5bmMgZnVuY3Rpb24gYXBwbHlBY3Rpb25zKGFjdGlvbnMpIHtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUFwcGx5QWN0aW9uc1wiKTtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBR30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCB0cmFuc2Zvcm1lciA9IGFzeW5jIGZ1bmN0aW9uIHRyYW5zZm9ybWVyKGFjdGlvbiwgZWxlbWVudCA9IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgYWN0aW9uOiBcIiwgSlNPTi5zdHJpbmdpZnkoYWN0aW9uKSk7XG4gICAgY29uc3Qge1xuICAgICAgb3BlcmF0b3IsXG4gICAgICB0eXBlLFxuICAgICAgYXBwbHlFdmVudCxcbiAgICAgIGNvbnRlbnRTZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3JGYWxsYmFjayxcbiAgICAgIG1kQ29uZGl0aW9uLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8xLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8yLFxuICAgICAgcmVwbGFjZUZuLFxuICAgICAgcFR5cGUsXG4gICAgICBhdHRyaWJ1dGUsXG4gICAgICBwcm9kdWN0SW5mb1N0b3JhZ2UsXG4gICAgfSA9IGFjdGlvbjtcbiAgICBpZiAob3BlcmF0b3IgPT09IFwibm9vcFwiKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiTm9vcCBPcGVyYXRvcjogTm8gb3BlcmF0aW9uIGlzIGFwcGxpZWQgb24gdGFyZ2V0IFwiKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQge3ZhbHVlfSA9IGFjdGlvbjtcbiAgICAvLyBJZiBhbiBlbGVtZW50IGlzIHBhc3NlZCB0byB0cmFuc2Zvcm1lciwgc2VsZWN0b3IgaXMgcmVsYXRpdmUgdG8gcGFzc2VkIGVsZW1lbnRcbiAgICBlbGVtZW50ID0gZWxlbWVudCA/IGVsZW1lbnQuZmluZChzZWxlY3RvcikgOiAkKHNlbGVjdG9yKTtcblxuICAgIGNvbnN0IG1jID0gbWRDb25kaXRpb24gPyB3aW5kb3cubWF0Y2hNZWRpYShtZENvbmRpdGlvbikubWF0Y2hlcyA6IHRydWU7XG4gICAgaWYgKCFtYykge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIk1lZGlhIGNvbmRpdGlvbiBtaXNtYXRjaDogXCIsIG1kQ29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMSAmJiAhbW92ZV9zZWxlY3Rvcl8yKSB8fFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMiAmJiAhbW92ZV9zZWxlY3Rvcl8xKVxuICAgICkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkJvdGggbW92ZSBzZWxlY3RvcnMgYXJlIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobW92ZV9zZWxlY3Rvcl8xICYmIG1vdmVfc2VsZWN0b3JfMikge1xuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMSkubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJNb3ZlIHNlbGVjdG9yIDEgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMikubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJNb3ZlIHNlbGVjdG9yIDIgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IHNwZWNpZmllZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICBpZiAoISQoc2VsZWN0b3JGYWxsYmFjaykubGVuZ3RoICYmIG9wZXJhdG9yID09PSBcInJlbW92ZVwiKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHNlbGVjdG9yICE9PSBcIm5vLXNlbGVjdG9yXCIpIHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IGZvdW5kOiBcIiwgc2VsZWN0b3IpO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJUcnlpbmcgZmFsbGJhY2sgc2VsZWN0b3I6IFwiLCBzZWxlY3RvckZhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoc2VsZWN0b3JGYWxsYmFjaykgZWxlbWVudCA9ICQoc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZhbGxiYWNrIHNlbGVjdG9yIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVwbGFjZUZuKSB7XG4gICAgICB2YWx1ZSA9IGF3YWl0IHJlcGxhY2VyKHZhbHVlLCByZXBsYWNlRm4pO1xuICAgIH1cbiAgICBpZiAob3BlcmF0b3IgPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVtb3Zpbmc6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9IGVsc2UgbG9nZ2VyLmxvZyhcIkNhbm5vdCBmb3VuZCBlbGVtZW50IHdpdGggc2VsZWN0b3I6IFwiLCBzZWxlY3Rvcik7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJpbnNlcnRcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJiZWZvcmVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW5zZXJ0aW5nIGJlZm9yZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICBpZiAoU3RyaW5nKHZhbHVlKS5pbmNsdWRlcyhcIm5kLWFkZC10by13aW5cIikpIHtcbiAgICAgICAgICAgICQoXCIubmQtYWRkLXRvLXdpblwiKS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5iZWZvcmUodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW5zZXJ0aW5nIGFmdGVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXBwZW5kXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGVuZGluZyB2YWx1ZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmFwcGVuZCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtb2RhbFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVsZW1lbnQub2ZmKFwiY2xpY2tcIik7XG4gICAgICAgICAgICBjcmVhdGVQb3B1cCh2YWx1ZSwgY29udGVudFNlbGVjdG9yLCB0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgIGlmIChlbG0gPT0gZS50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRpc3BsYXlNb2RhbCh2YWx1ZSwgY29udGVudFNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcHVwXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKSkgIT09IDApIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlBvcHVwIGFscmVhZHkgZGlzcGxheWVkIGluIHNlc3Npb25cIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkNyZWF0aW5nIFBvcHVwOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgaWYgKHBUeXBlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gYXdhaXQgZ2V0UHJvZHVjdEluZm8ocFR5cGUsIHZhbHVlLCBwcm9kdWN0SW5mb1N0b3JhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlYXRlUG9wdXAodmFsdWUsIGNvbnRlbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImV4aXRJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBleGl0IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgZGlzcGxheVBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbciwgZF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiclwiLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJkXCIsIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgciA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZCA9PT0gXCJzdHJpbmdcIiAmJiAhci5pbmNsdWRlcyhkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5oaXN0b3J5ICYmIHR5cGVvZiB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnRvcC5kb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cudG9wLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaGlzdG9yeS5zdGF0ZSAhPT0gXCJiZ19saW1ib1wiKSB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoXCJiZ19saW1ib1wiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGRpc3BsYXlQb3B1cCwge29uY2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Lmhpc3Rvcnkuc3RhdGUgIT09IFwiYmdfbGltYm9cIikgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKFwiYmdfbGltYm9cIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lcihJRExFX1RJTUVPVVQsIGRpc3BsYXlQb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNvcHlJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBjb3B5IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGFwcGVuZCBwb3B1cCB0byBib2R5IGFmdGVyIHRpbWVvdXQgZXhwaXJlc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoYFR5cGU6ICR7dHlwZX0gbm90IGZvdW5kIGZvciBvcGVyYXRvcjogJHtvcGVyYXRvcn1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImVkaXRcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkVkaXRpbmcgdGV4dDogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LnRleHQodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIGh0bWw6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlQXBwbGljYXRvclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlQ2hhbmdlc01hcCA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlN0eWxlIENoYW5nZXMgTWFwOiBcIiwgc3R5bGVDaGFuZ2VzTWFwKTtcbiAgICAgICAgICAgIHN0eWxlQXBwbGljYXRvcihlbGVtZW50LCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZENsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgYWRkZGluZyBjbGFzcyB0byAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZW1vdmVDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYHJlbW92ZSBjbGFzcyBmcm9tICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRvY3VtZW50VGl0bGVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBjaGFuZ2luZyBkb2N1bWVudCB0aXRsZSBmcm9tICR7ZWxlbWVudH0gdG8gJHt2YWx1ZX1gKTtcbiAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmIChldmVudCA9PSBcInRhYkNoYW5nZVwiKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcImNhdGNoaW5nIGV2ZW50IHRhYmNoYW5nZS4uXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGl0bGUgPSB3aW5kb3cudG9wLmRvY3VtZW50LnRpdGxlO1xuICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGUsIHZhbHVlLCBvcmlnaW5hbFRpdGxlKTtcbiAgICAgICAgICAgICAgICAgIH0sIDE1MDAwKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlVua25vd24gZWRpdCB0eXBlOiBcIiwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzZXRhdHRyaWJ1dGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgYXR0cmlidXRlOiBcIiwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGF0dHJpYnV0ZSkge1xuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgZWxlbWVudC5jc3MoXCJjb250ZW50XCIsIGB1cmwoJHt2YWx1ZS50cmltKCl9KWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhwcm9wZXJ0eSwgcHJvcGVydHlWYWx1ZSwgXCIhaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICh2YWx1ZS5pbmNsdWRlcyhcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IEZ1bmN0aW9uKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5hdHRyKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJVbmhhbmRsZWQgYXR0cmlidXRlOiBTZXR0aW5nIGF0dHJpYnV0ZTogXCIsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nOiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5yZXBsYWNlQWxsKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInN3YXBcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlN3YXBwaW5nOiBcIiwgbW92ZV9zZWxlY3Rvcl8xLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgY29uc3QgbjEgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IG4yID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBzd2FwTm9kZXMobjEsIG4yKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImluamVjdHNjcmlwdFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiSW5qZWN0aW5nIHNjcmlwdDogXCIsIHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kKGA8c2NyaXB0PiR7dmFsdWV9PC9zY3JpcHQ+YCk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJtb3ZlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coYE1vdmluZyAke21vdmVfc2VsZWN0b3JfMX0gdG8gJHttb3ZlX3NlbGVjdG9yXzJ9YCk7XG4gICAgICBjb25zdCBzb3VyY2UgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBzb3VyY2UucmVtb3ZlKCk7XG4gICAgICBkZXN0aW5hdGlvbi5wcmVwZW5kKHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJwcm9kdWN0SW5mb0xvb2t1cFwiKSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRQcm9kdWN0SW5mbyhwVHlwZSwgdmFsdWUsIHByb2R1Y3RJbmZvU3RvcmFnZSk7XG4gICAgICBlbGVtZW50LmJlZm9yZShyZXMpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwidGV4dC10cmFuc2Zvcm1cIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJjYXBpdGFsaXplXCI6IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgQXJyYXkuZnJvbShlbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKGUuaW5uZXJUZXh0Py5pbmNsdWRlcyhcIlxcblwiKSkge1xuICAgICAgICAgICAgICBlLmlubmVyVGV4dCA9IHR1cmtpc2hUb0xvd2VyKGUuaW5uZXJUZXh0KS5zcGxpdChcIlxcblwiKS5tYXAoKHNlbnRlbmNlKSA9PlxuICAgICAgICAgICAgICAgIHNlbnRlbmNlLnNwbGl0KFwiIFwiKS5tYXAoKHdvcmQpID0+IHdvcmQuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKS5qb2luKFwiIFwiKSxcbiAgICAgICAgICAgICAgKS5qb2luKFwiXFxuXCIpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUuaW5uZXJUZXh0ID0gdHVya2lzaFRvTG93ZXIoZS5pbm5lclRleHQpXG4gICAgICAgICAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAgICAgICAgIC5tYXAoKHdvcmQpID0+IHdvcmQuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiIFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlBMQUNFSE9MREVSXCI6IHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwidGl0bGUtY2hhbmdlXCIpIHtcbiAgICAgIGNvbnN0IGZpbmFsVGl0bGUgPSBhd2FpdCBwcmVwYXJlRmluYWxUaXRsZSgpO1xuICAgICAgZWxlbWVudC50ZXh0KGZpbmFsVGl0bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiTm8gc3VjaCBvcGVyYXRvciBleGlzdHMgeWV0XCIsIG9wZXJhdG9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcHJlcGFyZUZpbmFsVGl0bGUgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qge25hbWUsIHNrdX0gPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwicGRwXCIsIHRydWUpO1xuICAgIGNvbnN0IHByb2R1Y3RJbmZvID0gYXdhaXQgU3RvcmUuZ2V0SW5zdGFuY2UoKS5nZXQoc2t1KTtcbiAgICBjb25zdCByZXMgPSBuYW1lICsgcHJvZHVjdEluZm8udGl0bGVBdWdtZW50ICsgXCIoXCIgKyBza3UgKyBcIilcIjtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICBjb25zdCByZXBsYWNlV2l0aFZhbCA9ICh2YWx1ZSwgaHRtbFN0cikgPT4ge1xuICAgIGlmICh2YWx1ZSAmJiBodG1sU3RyLmluY2x1ZGVzKFwie3tSRVBMQUNFX1BST0RVQ1RJTkZPfX1cIikpIHtcbiAgICAgIGh0bWxTdHIgPSByZXBsYWNlQWxsKGh0bWxTdHIsIFwie3tSRVBMQUNFX1BST0RVQ1RJTkZPfX1cIiwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbFN0cjtcbiAgfTtcbiAgY29uc3QgZ2V0UHJvZHVjdEluZm8gPSBhc3luYyAodHlwZSwgdmFsdWUsIHByb2R1Y3RJbmZvU3RvcmFnZSkgPT4ge1xuICAgIC8vIGdldCBrZXlzIG9mIHByb2R1Y3RJbmZvXG4gICAgY29uc3Qgc2t1TGlzdCA9IHByb2R1Y3RJbmZvU3RvcmFnZSA9PT0gXCJiYXNrZXRcIiA/XG4gICAgYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9fZmVhdHVyZXMuU0tVc29uTGFzdENhcnRWaWV3XCIsIHRydWUpIDpcbiAgICBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiX19mZWF0dXJlcy5TS1Vzb25QYWdlXCIsIHRydWUpO1xuICAgIGxldCByZXMgPSBudWxsO1xuICAgIGlmICghc2t1TGlzdCB8fCBza3VMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgbG9nZ2VyLmxvZyhcIk5vIHNrdSBmb3VuZFwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwcm9kdWN0SW5mbyA9IGF3YWl0IFN0b3JlLmdldEluc3RhbmNlKCkuZ2V0KHNrdUxpc3RbMF0pO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInRyYW5zYWN0aW9uSW4yV2Vla3NcIjoge1xuICAgICAgICByZXMgPSByZXBsYWNlV2l0aFZhbChwcm9kdWN0SW5mby5zYWxlQ250VmlzaXRvcnNJbjE1LnRvU3RyaW5nKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIi5cIiksIHZhbHVlKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZyB0cmFuc2NhdGlvbkluMldlZWtzIFwiLCBwcm9kdWN0SW5mby5zYWxlQ250VmlzaXRvcnNJbjE1KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiYWRkVG9DYXJ0SW4yV2Vla3NcIjoge1xuICAgICAgICByZXMgPSByZXBsYWNlV2l0aFZhbChwcm9kdWN0SW5mby5jYXJ0Q250VmlzaXRvcnNJbjE1LnRvU3RyaW5nKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIi5cIiksIHZhbHVlKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZyBBZGRUb0NhcnRDb3VudCBcIiwgcHJvZHVjdEluZm8uY2FydENudFZpc2l0b3JzSW4xNSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInByb2R1Y3RWaWV3Q291bnRcIjoge1xuICAgICAgICByZXMgPSByZXBsYWNlV2l0aFZhbChwcm9kdWN0SW5mby52aWV3Q250VmlzaXRvcnNJbjEudG9TdHJpbmcoKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLlwiKSwgdmFsdWUpO1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nIHByb2R1Y3RWaWV3Q291bnQgZm9yXCIsIHByb2R1Y3RJbmZvLnZpZXdDbnRWaXNpdG9yc0luMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIm5vIHN1Y2ggdHlwZSBmb3VuZCBmb3IgcHJvZHVjdEluZm9Mb29rdXAgb3BlcmF0b3I6IFwiKyB0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgY29uc3QgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSA9IGFzeW5jIChldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlKSA9PiB7XG4gICAgY29uc3QgcGFyc2VkVGl0bGVzID0gIUFycmF5LmlzQXJyYXkodGl0bGVzKSA/IFt0aXRsZXNdIDogdGl0bGVzO1xuICAgIGZvciAoY29uc3QgcGFyc2VkVGl0bGUgb2YgcGFyc2VkVGl0bGVzKSB7XG4gICAgICBpZiAod2luZG93LnRvcC5kb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC50aXRsZSA9IHBhcnNlZFRpdGxlO1xuICAgICAgICBhd2FpdCBkZWxheSgyMDAwKTtcbiAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICAgIGF3YWl0IGRlbGF5KDIwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghd2luZG93LnRvcC5kb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGV2ZW50LCB0aXRsZXMsIG9yaWdpbmFsVGl0bGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQb3B1cENsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgaWQgPSBldmVudC50YXJnZXQuaWQ7XG4gICAgaWYgKGlkICYmIGlkID09PSBcIm5kLXBvcHVwX193cmFwcGVyXCIpIHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTW9kYWxDbGljayA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGNsYXNzTGlzdCA9IGV2ZW50LnRhcmdldC5jbGFzc0xpc3Q7XG4gICAgaWYgKGNsYXNzTGlzdCAmJiBjbGFzc0xpc3QuY29udGFpbnMoXCJuZC1tb2RhbF9fd3JhcHBlclwiKSkge1xuICAgICAgJChcIi5uZC1tb2RhbF9fd3JhcHBlclwiKS5oaWRlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU1vZGFsQ2xpY2ssIHRydWUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBoYW5kbGVNb2RhbENsaWNrLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheVBvcHVwID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cudG9wLmRvY3VtZW50LmhpZGRlbikgcmV0dXJuO1xuICAgIGlmIChwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRykpID4gMCkgcmV0dXJuO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHLCAxKTtcbiAgICBjb25zdCBxUG9wdXAgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3J0LXNoYWRvdy1ob3N0XCIpO1xuICAgIGlmIChxUG9wdXApIHFQb3B1cC5zdHlsZVtcImRpc3BsYXlcIl0gPSBcIm5vbmVcIjtcbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmQtcG9wdXBfX3dyYXBwZXJcIikuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJibG9ja1wiO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcblxuICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29weVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG4gICAgd2luZG93LnRvcC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBkaXNwbGF5UG9wdXApO1xuICAgIHdpbmRvdy50b3AucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH0sIDE1MDAwKTtcbiAgfTtcblxuICBjb25zdCBkaXNwbGF5TW9kYWwgPSAodmFsdWUsIGNvbnRlbnRTZWxlY3RvcikgPT4ge1xuICAgIGlmICh3aW5kb3cudG9wLmRvY3VtZW50LmhpZGRlbikgcmV0dXJuO1xuICAgIGNvbnN0IHFQb3B1cCA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNncnQtc2hhZG93LWhvc3RcIik7XG4gICAgaWYgKHFQb3B1cCkgcVBvcHVwLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwibm9uZVwiO1xuICAgIGlmICghd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5kLW1vZGFsX193cmFwcGVyXCIpKSBjcmVhdGVQb3B1cCh2YWx1ZSwgY29udGVudFNlbGVjdG9yLCB0cnVlKTtcbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmQtbW9kYWxfX3dyYXBwZXJcIikuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJibG9ja1wiO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVNb2RhbENsaWNrLCB0cnVlKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVQb3B1cCA9ICh2YWx1ZSwgY29udGVudFNlbGVjdG9yLCBpc01vZGFsPWZhbHNlKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHBvcHVwIHdyYXBwZXJcbiAgICBjb25zdCBwb3B1cFdyYXBwZXIgPSB3aW5kb3cudG9wLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICBwb3B1cFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcIm5kLXBvcHVwX193cmFwcGVyXCIpO1xuICAgIGlmIChpc01vZGFsKSBwb3B1cFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcIm5kLW1vZGFsX193cmFwcGVyXCIpO1xuICAgIGlmICghaXNNb2RhbCkgcG9wdXBXcmFwcGVyLmlkID0gXCJuZC1wb3B1cF9fd3JhcHBlclwiO1xuXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGNsb3NlIGJ1dHRvblxuICAgIGNvbnN0IHBvcHVwQ2xvc2VCdXR0b24gPSB3aW5kb3cudG9wLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgcG9wdXBDbG9zZUJ1dHRvblN0eWxlID0gaXNNb2RhbCA/IFwibmQtcG9wdXBfX2J1dHRvbi1jbG9zZV9fY29sb3JlZFwiIDogXCJuZC1wb3B1cF9fYnV0dG9uLWNsb3NlXCI7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKHBvcHVwQ2xvc2VCdXR0b25TdHlsZSk7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIlhcIjtcbiAgICBpZiAoaXNNb2RhbCkge1xuICAgICAgcG9wdXBDbG9zZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAkKFwiLm5kLW1vZGFsX193cmFwcGVyXCIpLmhpZGUoKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVNb2RhbENsaWNrLCB0cnVlKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvcHVwQ2xvc2VCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGNvbnRlbnRTZWxlY3Rvcikge1xuICAgICAgY29uc3QgY29udGVudHMgPSBBcnJheS5mcm9tKHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb250ZW50U2VsZWN0b3IpKTtcbiAgICAgIHdoaWxlICh2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpICYmIGNvbnRlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwie3tSRVBMQUNFfX1cIiwgY29udGVudHMuc2hpZnQoKS5zcmMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBwb3B1cCBmcm9tIGFjdGlvbiBhbmQgYXBwZW5kIGNsb3NlIGJ1dHRvblxuICAgIGNvbnN0IHRlbXBsYXRlID0gd2luZG93LnRvcC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdmFsdWUudHJpbSgpO1xuICAgIGNvbnN0IHBvcHVwID0gdGVtcGxhdGUuY29udGVudC5maXJzdENoaWxkO1xuICAgIHBvcHVwLmFwcGVuZENoaWxkKHBvcHVwQ2xvc2VCdXR0b24pO1xuICAgIHBvcHVwV3JhcHBlci5hcHBlbmRDaGlsZChwb3B1cCk7XG5cbiAgICAvLyBSZW1vdmUgb2xkIHBvcHVwIGlmIGV4aXN0cyBiZWZvcmUgYXBwZW5kaW5nIG5ldyBvbmVcbiAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwb3B1cFdyYXBwZXIpO1xuICB9O1xuXG4gIGNvbnN0IHN3YXBOb2RlcyA9IGZ1bmN0aW9uIHN3YXBOb2RlcyhuMSwgbjIpIHtcbiAgICBjb25zdCBwMSA9IG4xLnBhcmVudE5vZGU7XG4gICAgY29uc3QgcDIgPSBuMi5wYXJlbnROb2RlO1xuICAgIGxldCBpMTtcbiAgICBsZXQgaTI7XG5cbiAgICBpZiAoIXAxIHx8ICFwMiB8fCBwMS5pc0VxdWFsTm9kZShuMikgfHwgcDIuaXNFcXVhbE5vZGUobjEpKSByZXR1cm47XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAxLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocDEuY2hpbGRyZW5baV0uaXNFcXVhbE5vZGUobjEpKSB7XG4gICAgICAgIGkxID0gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMi5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAyLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4yKSkge1xuICAgICAgICBpMiA9IGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHAxLmlzRXF1YWxOb2RlKHAyKSAmJiBpMSA8IGkyKSB7XG4gICAgICBpMisrO1xuICAgIH1cbiAgICBwMS5pbnNlcnRCZWZvcmUobjIsIHAxLmNoaWxkcmVuW2kxXSk7XG4gICAgcDIuaW5zZXJ0QmVmb3JlKG4xLCBwMi5jaGlsZHJlbltpMl0pO1xuICB9O1xuXG4gIGNvbnN0IHdhaXRGb3JKUXVlcnkgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImpRdWVyeSBub3QgZm91bmQsIHJldHJ5aW5nXCIpO1xuICAgICAgICBjb25zdCBqUXVlcnlJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBpZiAod2luZG93LmpRdWVyeSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChqUXVlcnlJbnRlcnZhbCk7XG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMjUpO1xuICAgICAgICBzZXRUaW1lb3V0KGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoalF1ZXJ5SW50ZXJ2YWwpO1xuICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgIH0gZWxzZSByZXNvbHZlKHRydWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGFjdGlvbkFwcGxpY2F0b3IgPSBhc3luYyAoYWN0aW9ucykgPT4ge1xuICAgIGlmIChhd2FpdCB3YWl0Rm9ySlF1ZXJ5KCkpIHtcbiAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgaWYgKGFjdGlvbi5jb25kaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGVsaWdpYmxlRWxlbWVudHMgPSBhd2FpdCBjaGVja0FjdGlvbkNvbmRpdGlvbihhY3Rpb24uY29uZGl0aW9uKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGlnaWJsZUVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHRyYW5zZm9ybWVyKGFjdGlvbiwgZWxlbWVudCk7XG4gICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHJlc3VsdCA9IGF3YWl0IHRyYW5zZm9ybWVyKGFjdGlvbik7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoYENvdWxkbid0IGFwcGx5IGFjdGlvbiAke0pTT04uc3RyaW5naWZ5KGFjdGlvbil9IHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJKcXVlcnkgbm90IGZvdW5kIG9uIHdpbmRvd1wiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQXBwbHkgYWN0aW9uc1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBhY3Rpb25BcHBsaWNhdG9yKGFjdGlvbnMpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGRlZmF1bHQgYXBwbHlBY3Rpb25zO1xuIiwiY29uc3QgRV9USU1FT1VUID0gbmV3IEVycm9yKCd0aW1lb3V0IHdoaWxlIHdhaXRpbmcgZm9yIG11dGV4IHRvIGJlY29tZSBhdmFpbGFibGUnKTtcbmNvbnN0IEVfQUxSRUFEWV9MT0NLRUQgPSBuZXcgRXJyb3IoJ211dGV4IGFscmVhZHkgbG9ja2VkJyk7XG5jb25zdCBFX0NBTkNFTEVEID0gbmV3IEVycm9yKCdyZXF1ZXN0IGZvciBsb2NrIGNhbmNlbGVkJyk7XG5cbnZhciBfX2F3YWl0ZXIkMiA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuY2xhc3MgU2VtYXBob3JlIHtcbiAgICBjb25zdHJ1Y3RvcihfdmFsdWUsIF9jYW5jZWxFcnJvciA9IEVfQ0FOQ0VMRUQpIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG4gICAgICAgIHRoaXMuX2NhbmNlbEVycm9yID0gX2NhbmNlbEVycm9yO1xuICAgICAgICB0aGlzLl93ZWlnaHRlZFF1ZXVlcyA9IFtdO1xuICAgICAgICB0aGlzLl93ZWlnaHRlZFdhaXRlcnMgPSBbXTtcbiAgICB9XG4gICAgYWNxdWlyZSh3ZWlnaHQgPSAxKSB7XG4gICAgICAgIGlmICh3ZWlnaHQgPD0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB3ZWlnaHQgJHt3ZWlnaHR9OiBtdXN0IGJlIHBvc2l0aXZlYCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlaWdodGVkUXVldWVzW3dlaWdodCAtIDFdKVxuICAgICAgICAgICAgICAgIHRoaXMuX3dlaWdodGVkUXVldWVzW3dlaWdodCAtIDFdID0gW107XG4gICAgICAgICAgICB0aGlzLl93ZWlnaHRlZFF1ZXVlc1t3ZWlnaHQgLSAxXS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2goKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJ1bkV4Y2x1c2l2ZShjYWxsYmFjaywgd2VpZ2h0ID0gMSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyJDIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBbdmFsdWUsIHJlbGVhc2VdID0geWllbGQgdGhpcy5hY3F1aXJlKHdlaWdodCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBjYWxsYmFjayh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICByZWxlYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB3YWl0Rm9yVW5sb2NrKHdlaWdodCA9IDEpIHtcbiAgICAgICAgaWYgKHdlaWdodCA8PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHdlaWdodCAke3dlaWdodH06IG11c3QgYmUgcG9zaXRpdmVgKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlaWdodGVkV2FpdGVyc1t3ZWlnaHQgLSAxXSlcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWlnaHRlZFdhaXRlcnNbd2VpZ2h0IC0gMV0gPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3dlaWdodGVkV2FpdGVyc1t3ZWlnaHQgLSAxXS5wdXNoKHJlc29sdmUpO1xuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2goKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlzTG9ja2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUgPD0gMDtcbiAgICB9XG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2goKTtcbiAgICB9XG4gICAgcmVsZWFzZSh3ZWlnaHQgPSAxKSB7XG4gICAgICAgIGlmICh3ZWlnaHQgPD0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB3ZWlnaHQgJHt3ZWlnaHR9OiBtdXN0IGJlIHBvc2l0aXZlYCk7XG4gICAgICAgIHRoaXMuX3ZhbHVlICs9IHdlaWdodDtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2goKTtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICB0aGlzLl93ZWlnaHRlZFF1ZXVlcy5mb3JFYWNoKChxdWV1ZSkgPT4gcXVldWUuZm9yRWFjaCgoZW50cnkpID0+IGVudHJ5LnJlamVjdCh0aGlzLl9jYW5jZWxFcnJvcikpKTtcbiAgICAgICAgdGhpcy5fd2VpZ2h0ZWRRdWV1ZXMgPSBbXTtcbiAgICB9XG4gICAgX2Rpc3BhdGNoKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGZvciAobGV0IHdlaWdodCA9IHRoaXMuX3ZhbHVlOyB3ZWlnaHQgPiAwOyB3ZWlnaHQtLSkge1xuICAgICAgICAgICAgY29uc3QgcXVldWVFbnRyeSA9IChfYSA9IHRoaXMuX3dlaWdodGVkUXVldWVzW3dlaWdodCAtIDFdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2hpZnQoKTtcbiAgICAgICAgICAgIGlmICghcXVldWVFbnRyeSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzV2VpZ2h0ID0gd2VpZ2h0O1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgLT0gd2VpZ2h0O1xuICAgICAgICAgICAgd2VpZ2h0ID0gdGhpcy5fdmFsdWUgKyAxO1xuICAgICAgICAgICAgcXVldWVFbnRyeS5yZXNvbHZlKFtwcmV2aW91c1ZhbHVlLCB0aGlzLl9uZXdSZWxlYXNlcihwcmV2aW91c1dlaWdodCldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kcmFpblVubG9ja1dhaXRlcnMoKTtcbiAgICB9XG4gICAgX25ld1JlbGVhc2VyKHdlaWdodCkge1xuICAgICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2FsbGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJlbGVhc2Uod2VpZ2h0KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2RyYWluVW5sb2NrV2FpdGVycygpIHtcbiAgICAgICAgZm9yIChsZXQgd2VpZ2h0ID0gdGhpcy5fdmFsdWU7IHdlaWdodCA+IDA7IHdlaWdodC0tKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlaWdodGVkV2FpdGVyc1t3ZWlnaHQgLSAxXSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHRoaXMuX3dlaWdodGVkV2FpdGVyc1t3ZWlnaHQgLSAxXS5mb3JFYWNoKCh3YWl0ZXIpID0+IHdhaXRlcigpKTtcbiAgICAgICAgICAgIHRoaXMuX3dlaWdodGVkV2FpdGVyc1t3ZWlnaHQgLSAxXSA9IFtdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG52YXIgX19hd2FpdGVyJDEgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmNsYXNzIE11dGV4IHtcbiAgICBjb25zdHJ1Y3RvcihjYW5jZWxFcnJvcikge1xuICAgICAgICB0aGlzLl9zZW1hcGhvcmUgPSBuZXcgU2VtYXBob3JlKDEsIGNhbmNlbEVycm9yKTtcbiAgICB9XG4gICAgYWNxdWlyZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgWywgcmVsZWFzZXJdID0geWllbGQgdGhpcy5fc2VtYXBob3JlLmFjcXVpcmUoKTtcbiAgICAgICAgICAgIHJldHVybiByZWxlYXNlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJ1bkV4Y2x1c2l2ZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VtYXBob3JlLnJ1bkV4Y2x1c2l2ZSgoKSA9PiBjYWxsYmFjaygpKTtcbiAgICB9XG4gICAgaXNMb2NrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW1hcGhvcmUuaXNMb2NrZWQoKTtcbiAgICB9XG4gICAgd2FpdEZvclVubG9jaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbWFwaG9yZS53YWl0Rm9yVW5sb2NrKCk7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZW1hcGhvcmUuaXNMb2NrZWQoKSlcbiAgICAgICAgICAgIHRoaXMuX3NlbWFwaG9yZS5yZWxlYXNlKCk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbWFwaG9yZS5jYW5jZWwoKTtcbiAgICB9XG59XG5cbnZhciBfX2F3YWl0ZXIgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmZ1bmN0aW9uIHdpdGhUaW1lb3V0KHN5bmMsIHRpbWVvdXQsIHRpbWVvdXRFcnJvciA9IEVfVElNRU9VVCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjcXVpcmU6ICh3ZWlnaHQpID0+IHtcbiAgICAgICAgICAgIGlmICh3ZWlnaHQgIT09IHVuZGVmaW5lZCAmJiB3ZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB3ZWlnaHQgJHt3ZWlnaHR9OiBtdXN0IGJlIHBvc2l0aXZlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGxldCBpc1RpbWVvdXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGUgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXNUaW1lb3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRpbWVvdXRFcnJvcik7XG4gICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlja2V0ID0geWllbGQgc3luYy5hY3F1aXJlKHdlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2UgPSBBcnJheS5pc0FycmF5KHRpY2tldCkgPyB0aWNrZXRbMV0gOiB0aWNrZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGlja2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bkV4Y2x1c2l2ZShjYWxsYmFjaywgd2VpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGxldCByZWxlYXNlID0gKCkgPT4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tldCA9IHlpZWxkIHRoaXMuYWNxdWlyZSh3ZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aWNrZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlID0gdGlja2V0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGNhbGxiYWNrKHRpY2tldFswXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlID0gdGlja2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVsZWFzZSh3ZWlnaHQpIHtcbiAgICAgICAgICAgIHN5bmMucmVsZWFzZSh3ZWlnaHQpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWwoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3luYy5jYW5jZWwoKTtcbiAgICAgICAgfSxcbiAgICAgICAgd2FpdEZvclVubG9jazogKHdlaWdodCkgPT4ge1xuICAgICAgICAgICAgaWYgKHdlaWdodCAhPT0gdW5kZWZpbmVkICYmIHdlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHdlaWdodCAke3dlaWdodH06IG11c3QgYmUgcG9zaXRpdmVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgc3luYy53YWl0Rm9yVW5sb2NrKHdlaWdodCkudGhlbihyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdCh0aW1lb3V0RXJyb3IpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpc0xvY2tlZDogKCkgPT4gc3luYy5pc0xvY2tlZCgpLFxuICAgICAgICBnZXRWYWx1ZTogKCkgPT4gc3luYy5nZXRWYWx1ZSgpLFxuICAgICAgICBzZXRWYWx1ZTogKHZhbHVlKSA9PiBzeW5jLnNldFZhbHVlKHZhbHVlKSxcbiAgICB9O1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpc25lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIHRyeUFjcXVpcmUoc3luYywgYWxyZWFkeUFjcXVpcmVkRXJyb3IgPSBFX0FMUkVBRFlfTE9DS0VEKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gd2l0aFRpbWVvdXQoc3luYywgMCwgYWxyZWFkeUFjcXVpcmVkRXJyb3IpO1xufVxuXG5leHBvcnQgeyBFX0FMUkVBRFlfTE9DS0VELCBFX0NBTkNFTEVELCBFX1RJTUVPVVQsIE11dGV4LCBTZW1hcGhvcmUsIHRyeUFjcXVpcmUsIHdpdGhUaW1lb3V0IH07XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBhcHBseUFjdGlvbnMgZnJvbSBcIi4uL0JlYWdsZUFwcGx5QWN0aW9ucy9pbmRleFwiO1xuaW1wb3J0IHtcbiAgYWRkVHJlYXRtZW50LFxuICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyLFxuICBhZGREYXRhTGlzdGVuZXIsXG59IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCB7XG4gIFRSRUFUTUVOVF9SQVRJTyxcbiAgTU9CSUxFX01FRElBX1FVRVJZLFxufSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBkZXRlcm1pbmVQY3QsXG4gIHByZXBhcmVBY3Rpb25zLFxufSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TXV0ZXh9IGZyb20gXCJhc3luYy1tdXRleFwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlUm9ib3RFbmdpbmVcIik7XG5jb25zdCBPQlNFUlZFUl9DT05GSUcgPSB7c3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9ib3RFbmdpbmUge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgY29uc3Qge2RlYnVnRmlsdGVyZWRUcmVhdG1lbnRzLCBkZWJ1Z01vZGUsIG1hdGNoZWRUcmVhdG1lbnRzLCBpZGVudGlmaWVyLCBwYWdlVHlwZX0gPSBib2R5O1xuICAgIHRoaXMuZW5nYWdlbWVudExvY2sgPSB7fTtcbiAgICB0aGlzLnBhZ2VUeXBlID0gcGFnZVR5cGU7XG4gICAgdGhpcy5kZWJ1Z01vZGUgPSBkZWJ1Z01vZGU7XG4gICAgdGhpcy5pZGVudGlmaWVyID0gaWRlbnRpZmllcjtcbiAgICB0aGlzLnJlQXBwbHlUcmVhdG1lbnRzTWFwID0ge307XG4gICAgdGhpcy5hZGRlZERhdGFMaXN0ZW5lcklkcyA9IFtdO1xuICAgIHRoaXMubWF0Y2hlZFRyZWF0bWVudHMgPSBtYXRjaGVkVHJlYXRtZW50cztcbiAgICB0aGlzLmRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzID0gZGVidWdGaWx0ZXJlZFRyZWF0bWVudHM7XG4gICAgdGhpcy5pc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgfVxuXG4gIGFzeW5jIGVuZ2FnZVJvYm90cygpIHtcbiAgICBjb25zdCByb2JvdFByb21pc2VzID0gW107XG4gICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgdGhpcy5tYXRjaGVkVHJlYXRtZW50cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRyZWF0bWVudC5kZXBlbmRhbnRfb25fdHJlYXRtZW50KSBjb250aW51ZTtcbiAgICAgICAgcm9ib3RQcm9taXNlcy5wdXNoKHRoaXMuZW5nYWdlUm9ib3QodHJlYXRtZW50KSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChgRXJyb3IgZW5nYWdpbmcgcm9ib3QgJHt0cmVhdG1lbnQuaWR9OiAke2Vyci5tZXNzYWdlIHx8IGVycn1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocm9ib3RQcm9taXNlcyk7XG4gICAgdGhpcy5pbml0aWF0ZVJlYXBwbHlSb2JvdE1hcCgpO1xuICB9XG5cbiAgYXN5bmMgZW5nYWdlUm9ib3QodHJlYXRtZW50KSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBhY3Rpb25zLFxuICAgICAgZWxpZ2liaWxpdHlSdWxlU2V0LFxuICAgICAgZGV2aWNlLFxuICAgICAgZGVwZW5kYW50X29uX3RyZWF0bWVudCxcbiAgICAgIGJ1c2luZXNzUnVsZVNldCxcbiAgICAgIHdlaWdodCxcbiAgICAgIGRlbGF5LFxuICAgICAgaGVscGVycyxcbiAgICB9ID0gdHJlYXRtZW50O1xuICAgIGNvbnN0IHtcbiAgICAgIGRlYnVnTW9kZSxcbiAgICAgIGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzLFxuICAgICAgZW5nYWdlbWVudExvY2ssXG4gICAgICBpZGVudGlmaWVyLFxuICAgICAgaXNNb2JpbGUsXG4gICAgICBtYXRjaGVkVHJlYXRtZW50cyxcbiAgICAgIHByZXBhcmVBbmRBcHBseSxcbiAgICB9ID0gdGhpcztcblxuICAgIC8vIG9uZSBlbmdhZ2VtZW50IGF0IGEgdGltZVxuICAgIGVuZ2FnZW1lbnRMb2NrW2lkXSA9IGVuZ2FnZW1lbnRMb2NrW2lkXSB8fCBuZXcgTXV0ZXgoKTtcbiAgICBjb25zdCByZWxlYXNlID0gYXdhaXQgZW5nYWdlbWVudExvY2tbaWRdLmFjcXVpcmUoKTtcbiAgICB0cnkge1xuICAgICAgaWYgKGRlYnVnTW9kZSAmJiBkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyAmJiAhZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZXZpY2UgPT09IFwibW9iaWxlXCIgJiYgIWlzTW9iaWxlKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJUcmVhdG1lbnQgZGV2aWNlICdtb2JpbGUnIG1pc21hdGNoXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGV2aWNlID09PSBcImRlc2t0b3BcIiAmJiBpc01vYmlsZSkge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiVHJlYXRtZW50IGRldmljZSAnZGVza3RvcCcgbWlzbWF0Y2hcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIGJhc2UgcnVsZSBzZXQgY2hlY2sgZm9yIHRyZWF0bWVudDogXCIgKyBpZCk7XG4gICAgICBpZiAoIWVsaWdpYmlsaXR5UnVsZVNldCB8fCBhd2FpdCB0aGlzLmNoZWNrRWxpZ2liaWxpdHlSdWxlU2V0KGVsaWdpYmlsaXR5UnVsZVNldCkpIHtcbiAgICAgICAgY29uc3QgdHJlYXRtZW50U2tpcFJhdGlvID0gd2VpZ2h0ID09PSAxMDAgPyAwIDogKDEwMCAtIHdlaWdodCB8fCBUUkVBVE1FTlRfUkFUSU8pO1xuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IHNraXAgcmF0aW86IFwiICsgdHJlYXRtZW50U2tpcFJhdGlvKTtcbiAgICAgICAgLy8gRGV0ZXJtaW5pbmcgaWRlbnRpZmllciBmb3IgY2FsY3VsYXRpbmcgdHJlYXRtZW50IHBlcmNlbnRhZ2UgKHRyZWF0bWVudFBjdClcbiAgICAgICAgY29uc3QgZGV0ZXJtaW5pbmdJZGVudGlmaWVyID0gZGVwZW5kYW50X29uX3RyZWF0bWVudCB8fCBpZDtcblxuICAgICAgICAvLyB0cmVhdG1lbnRQY3QgaXMgdGhlIHBlcmNlbnRhZ2UgdmFsdWUgZm9yIHRoZSB0cmVhdG1lbnQgdXNlZCB0byBkZXRlcm1pbmUgaWYgaXQgc2hvdWxkIGJlIHNraXBwZWQgb3Igbm90XG4gICAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyAxMDAgd2hlbiBkZWJ1ZyBtb2RlIGlzIDEsIGVuc3VyaW5nIG5vIHRyZWF0bWVudHMgYXJlIHNraXBwZWRcbiAgICAgICAgY29uc3QgdHJlYXRtZW50UGN0ID0gZGVidWdNb2RlID09PSAxID8gMTAwIDogYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyBkZXRlcm1pbmluZ0lkZW50aWZpZXIpO1xuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50UGN0OiBcIiArIHRyZWF0bWVudFBjdCArIGAgd2l0aCBkZWJ1ZyBtb2RlICR7ZGVidWdNb2RlID8gXCJvblwiIDogXCJvZmZcIn1gKTtcbiAgICAgICAgbGV0IGJ1c2luZXNzUnVsZUlkID0gbnVsbDtcbiAgICAgICAgaWYgKGJ1c2luZXNzUnVsZVNldCkge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJTdGFydGluZyBzdWIgdmFyaWFudCBydWxlIHNldCBjaGVjayBmb3IgdHJlYXRtZW50OiBcIiArIGlkKTtcbiAgICAgICAgICBidXNpbmVzc1J1bGVJZCA9IGF3YWl0IHRoaXMuY2hlY2tCdXNpbmVzc1J1bGVzKGJ1c2luZXNzUnVsZVNldCk7XG4gICAgICAgICAgaWYgKGJ1c2luZXNzUnVsZUlkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgYnVzaW5lc3MgcnVsZSB0cmFuc2Zvcm1hdGlvbiB3aXRoIGlkOiBcIiwgYnVzaW5lc3NSdWxlSWQpO1xuICAgICAgICAgIH0gZWxzZSBsb2dnZXIubG9nKFwiQXBwbHlpbmcgdHJlYXRtZW50IHdpdGggZGVmYXVsdCB2YWx1ZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyZWF0bWVudFBjdCA8IHRyZWF0bWVudFNraXBSYXRpbykge1xuICAgICAgICAgIGxvZ2dlci5sb2coYFRyZWF0bWVudCAke2lkfSBza2lwcGVkIGR1ZSB0byB0cmVhdG1lbnQgc3BsaXQgcmF0aW9gKTtcbiAgICAgICAgICBhZGRUcmVhdG1lbnQoaWQsIGJ1c2luZXNzUnVsZUlkLCBudWxsLCBcInNraXBwZWRcIiwgZGVwZW5kYW50X29uX3RyZWF0bWVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVsYXkpIHtcbiAgICAgICAgICBhd2FpdCBwcmVwYXJlQW5kQXBwbHkoaWQsIGlkZW50aWZpZXIsIGFjdGlvbnMsIGJ1c2luZXNzUnVsZUlkLCBkZWJ1Z01vZGUpO1xuICAgICAgICAgIGF3YWl0IHRoaXMuZW5nYWdlSGVscGVycyhoZWxwZXJzLCBtYXRjaGVkVHJlYXRtZW50cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBwcmVwYXJlQW5kQXBwbHkoaWQsIGlkZW50aWZpZXIsIGFjdGlvbnMsIGJ1c2luZXNzUnVsZUlkLCBkZWJ1Z01vZGUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5lbmdhZ2VIZWxwZXJzKGhlbHBlcnMsIG1hdGNoZWRUcmVhdG1lbnRzKTtcbiAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJSdWxlIGNoZWNrIGZhaWxlZCBmb3IgdHJlYXRtZW50OlwiLCBpZCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHJlbGVhc2UoKTtcbiAgICAgIHRoaXMuYWRkUmVhcHBseUV2ZW50KHRyZWF0bWVudCk7XG4gICAgICB0aGlzLmFkZFJ1bGVTZXREYXRhTGlzdGVuZXJzKHRyZWF0bWVudCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZW5nYWdlSGVscGVycyhoZWxwZXJzLCBtYXRjaGVkVHJlYXRtZW50cykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGhlbHBlcnMpICYmIGhlbHBlcnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBoZWxwZXJSb2JvdFByb21pc2VzID0gW107XG4gICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiBtYXRjaGVkVHJlYXRtZW50cykge1xuICAgICAgICBpZiAoIWhlbHBlcnMuaW5jbHVkZXModHJlYXRtZW50LmlkKSkgY29udGludWU7XG4gICAgICAgIGhlbHBlclJvYm90UHJvbWlzZXMucHVzaCh0aGlzLmVuZ2FnZVJvYm90KHRyZWF0bWVudCkpO1xuICAgICAgfVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoaGVscGVyUm9ib3RQcm9taXNlcyk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcHJlcGFyZUFuZEFwcGx5KGlkLCBpZGVudGlmaWVyLCBhY3Rpb25zLCBidXNpbmVzc1J1bGVJZCwgZGVidWdNb2RlKSB7XG4gICAgY29uc3QgW3ByZXBhcmVkLCB2YXJpYW50XSA9IGF3YWl0IHByZXBhcmVBY3Rpb25zKGlkZW50aWZpZXIsIGFjdGlvbnMsIGJ1c2luZXNzUnVsZUlkLCBkZWJ1Z01vZGUpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwcGx5QWN0aW9ucyhwcmVwYXJlZCk7XG4gICAgaWYgKHJlcyA9PT0gZmFsc2UpIHtcbiAgICAgIGFkZFRyZWF0bWVudChpZCwgYnVzaW5lc3NSdWxlSWQsIHZhcmlhbnQsIFwiZmFpbGVkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZGRUcmVhdG1lbnQoaWQsIGJ1c2luZXNzUnVsZUlkLCB2YXJpYW50LCBcImFwcGxpZWRcIik7XG4gICAgfVxuICB9XG5cbiAgYWRkUmVhcHBseUV2ZW50KHRyZWF0bWVudCkge1xuICAgIGNvbnN0IHtwYWdlVHlwZSwgcmVBcHBseVRyZWF0bWVudHNNYXB9ID0gdGhpcztcbiAgICBjb25zdCB7aWQsIHJlYXBwbHlfZXZlbnQsIHJlYXBwbHlfZXZlbnRfcGFnZV90eXBlfSA9IHRyZWF0bWVudDtcbiAgICBpZiAocmVhcHBseV9ldmVudCkge1xuICAgICAgaWYgKCFyZWFwcGx5X2V2ZW50X3BhZ2VfdHlwZSB8fCByZWFwcGx5X2V2ZW50X3BhZ2VfdHlwZSA9PT0gcGFnZVR5cGUpIHtcbiAgICAgICAgbGV0IHJlYXBwbHlfZXZlbnRfYXJyYXkgPSByZWFwcGx5X2V2ZW50O1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVhcHBseV9ldmVudCkpIHJlYXBwbHlfZXZlbnRfYXJyYXkgPSBbcmVhcHBseV9ldmVudF07XG4gICAgICAgIGxvZ2dlci5sb2coYFJlYXBwbHkgZXZlbnQgJyR7cmVhcHBseV9ldmVudH0nIGZvdW5kIGZvciB0cmVhdG1lbnQ6ICR7aWR9YCk7XG4gICAgICAgIGZvciAoY29uc3QgcmVhcHBseUV2ZW50IG9mIHJlYXBwbHlfZXZlbnRfYXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA/XG4gICAgICAgICAgICByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdIDogW107XG4gICAgICAgICAgaWYgKHByZXZpb3VzVmFsdWUuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IGFscmVhZHkgYWRkZWQgZm9yIHJlYXBwbHkgZXZlbnRcIik7XG4gICAgICAgICAgfSBlbHNlIHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gPSBbLi4ucHJldmlvdXNWYWx1ZSwgaWRdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5pdGlhdGVSZWFwcGx5Um9ib3RNYXAoKSB7XG4gICAgY29uc3Qge3JlQXBwbHlUcmVhdG1lbnRzTWFwLCBtYXRjaGVkVHJlYXRtZW50c30gPSB0aGlzO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlQXBwbHlUcmVhdG1lbnRzTWFwKSkge1xuICAgICAgY29uc3QgdHJlYXRtZW50SWRzID0gcmVBcHBseVRyZWF0bWVudHNNYXBba2V5XTtcbiAgICAgIGNvbnN0IHJlQXBwbHlUcmVhdG1lbnRzID0gbWF0Y2hlZFRyZWF0bWVudHMuZmlsdGVyKCh0KSA9PiB0cmVhdG1lbnRJZHMuaW5jbHVkZXModC5pZCkpO1xuICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgY2FzZSBcImluZmluaXRlX3Njcm9sbFwiOiB7XG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGluZmluaXRlX3Njcm9sbGApO1xuICAgICAgICAgICAgICB0aGlzLmVuZ2FnZVJvYm90KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRpbWVvdXRcIjoge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHRpbWVvdXRgKTtcbiAgICAgICAgICAgICAgdGhpcy5lbmdhZ2VSb2JvdCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVsZW1lbnRfY2hhbmdlXCI6IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcmVhcHBseVNlbGVjdG9yTGlzdCA9IEFycmF5LmlzQXJyYXkodHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3IpID9cbiAgICAgICAgICAgICAgICB0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvciA6IFt0cmVhdG1lbnQucmVhcHBseV9zZWxlY3Rvcl07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHJlYXBwbHlTZWxlY3Rvckxpc3QpIHtcbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gZWxlbWVudF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZW5nYWdlUm9ib3QodHJlYXRtZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uX3Njcm9sbFwiOiB7XG4gICAgICAgICAgLy8gYWRkIHdpbmRvdyBzY3JvbGwgbGlzdGVuZXIsIGNhbGwgZW5nYWdlUm9ib3Qgb24gc2Nyb2xsLCBkbyBub3QgdHJpZ2dlciBtb3JlIHRoYW4gb25jZSBwZXIgMjUwbXNcbiAgICAgICAgICBsZXQgbGFzdFNjcm9sbFRvcCA9IDA7XG4gICAgICAgICAgbGV0IGxhc3RTY3JvbGxUaW1lID0gMDtcbiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIGNvbnN0IHN0ID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgIGlmIChub3cgLSBsYXN0U2Nyb2xsVGltZSA+IDI1MCAmJiBNYXRoLmFicyhsYXN0U2Nyb2xsVG9wIC0gc3QpID4gNSkge1xuICAgICAgICAgICAgICBsYXN0U2Nyb2xsVG9wID0gc3Q7XG4gICAgICAgICAgICAgIGxhc3RTY3JvbGxUaW1lID0gbm93O1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBvbl9zY3JvbGxgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2FnZVJvYm90KHRyZWF0bWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInF1ZXJ5X3NlYXJjaF9jaGFuZ2VcIjoge1xuICAgICAgICAgIGxldCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnNlYXJjaCAhPT0gcXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBxdWVyeV9zZWFyY2hfY2hhbmdlYCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdhZ2VSb2JvdCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgT0JTRVJWRVJfQ09ORklHKTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW50ZXJ2YWxcIjpcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcmVhcHBseUludGVydmFsID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBhcHBsaWVkID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImFcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgIGlmIChhcHBsaWVkPy5bdHJlYXRtZW50LmlkXSkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVhcHBseUludGVydmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gaW50ZXJ2YWxgKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmVuZ2FnZVJvYm90KHRyZWF0bWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKHJlYXBwbHlJbnRlcnZhbCk7XG4gICAgICAgICAgICB9LCAyNTAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbmZvX2xheWVyX2NoYW5nZVwiOlxuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBib3VuZEVuZ2FnZVRyZWF0bWVudCA9IHRoaXMuZW5nYWdlUm9ib3QuYmluZCh0aGlzLCB0cmVhdG1lbnQpO1xuICAgICAgICAgICAgYWRkRGF0YUxpc3RlbmVyKHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yLCBib3VuZEVuZ2FnZVRyZWF0bWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJSZWFwcGx5IGV2ZW50IG5vdCBmb3VuZDogXCIsIGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWRkUnVsZVNldERhdGFMaXN0ZW5lcnModHJlYXRtZW50KSB7XG4gICAgY29uc3Qge2VsaWdpYmlsaXR5UnVsZVNldCA9IFtdLCBidXNpbmVzc1J1bGVTZXQgPSBbXSwgaWR9ID0gdHJlYXRtZW50O1xuICAgIGlmICh0aGlzLmFkZGVkRGF0YUxpc3RlbmVySWRzLmluY2x1ZGVzKGlkKSkgcmV0dXJuO1xuICAgIGNvbnN0IHNlbGVjdG9ycyA9IHRoaXMuZXh0cmFjdERhdGFMaXN0ZW5lclNlbGVjdG9ycyhbLi4uZWxpZ2liaWxpdHlSdWxlU2V0LCAuLi5idXNpbmVzc1J1bGVTZXRdKTtcbiAgICBjb25zdCBib3VuZEVuZ2FnZVRyZWF0bWVudCA9IHRoaXMuZW5nYWdlUm9ib3QuYmluZCh0aGlzLCB0cmVhdG1lbnQpO1xuICAgIGZvciAoY29uc3Qgc2VsZWN0b3Igb2Ygc2VsZWN0b3JzKSB7XG4gICAgICBhZGREYXRhTGlzdGVuZXIoYF9fZVJ1bGVzLiR7c2VsZWN0b3J9YCwgYm91bmRFbmdhZ2VUcmVhdG1lbnQpO1xuICAgIH1cbiAgICB0aGlzLmFkZGVkRGF0YUxpc3RlbmVySWRzLnB1c2goaWQpO1xuICB9XG5cbiAgZXh0cmFjdERhdGFMaXN0ZW5lclNlbGVjdG9ycyhydWxlU2V0LCBwcmV2aW91c1NlbGVjdG9ycyA9IG51bGwpIHtcbiAgICBjb25zdCBzZWxlY3RvcnMgPSBwcmV2aW91c1NlbGVjdG9ycyB8fCBbXTtcbiAgICBmb3IgKGxldCBydWxlIG9mIHJ1bGVTZXQpIHtcbiAgICAgIGlmICh0eXBlb2YgcnVsZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAocnVsZS5zdGFydHNXaXRoKFwiIVwiKSkgcnVsZSA9IHJ1bGUuc2xpY2UoMSk7XG4gICAgICAgIHNlbGVjdG9ycy5wdXNoKHJ1bGUuc3BsaXQoXCIuXCIpWzBdKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0aGlzLmV4dHJhY3REYXRhTGlzdGVuZXJTZWxlY3RvcnMocnVsZS5zZXQsIHNlbGVjdG9ycyk7XG4gICAgfVxuICAgIHJldHVybiBbLi4uKG5ldyBTZXQoc2VsZWN0b3JzKSldO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tFbGlnaWJpbGl0eShlbGlnaWJpbGl0eVJ1bGUpIHtcbiAgICBsb2dnZXIubG9nKGBDaGVja2luZyBlbGlnaWJpbGl0eSAke2VsaWdpYmlsaXR5UnVsZX1gKTtcbiAgICBsZXQgb3Bwb3NpdGVGbGFnID0gZmFsc2U7XG4gICAgbGV0IFtlbGlnaWJpbGl0eVNjb3BlLCBlbGlnaWJpbGl0eU5hbWVdID0gZWxpZ2liaWxpdHlSdWxlLnNwbGl0KFwiLlwiKTtcbiAgICBpZiAoZWxpZ2liaWxpdHlTY29wZS5zdGFydHNXaXRoKFwiIVwiKSkge1xuICAgICAgb3Bwb3NpdGVGbGFnID0gdHJ1ZTtcbiAgICAgIGVsaWdpYmlsaXR5U2NvcGUgPSBlbGlnaWJpbGl0eVNjb3BlLnNsaWNlKDEpO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKGBfX2VSdWxlcy4ke2VsaWdpYmlsaXR5U2NvcGV9YCk7XG4gICAgaWYgKCFyZXMgfHwgIUFycmF5LmlzQXJyYXkocmVzKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChvcHBvc2l0ZUZsYWcgJiYgcmVzLmluY2x1ZGVzKGVsaWdpYmlsaXR5TmFtZSkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIW9wcG9zaXRlRmxhZyAmJiAhcmVzLmluY2x1ZGVzKGVsaWdpYmlsaXR5TmFtZSkpIHJldHVybiBmYWxzZTtcbiAgICBsb2dnZXIubG9nKGAke2VsaWdpYmlsaXR5UnVsZX0gaXMgZWxpZ2libGVgKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGFzeW5jIGNoZWNrRWxpZ2liaWxpdHlSdWxlU2V0KGVsaWdpYmlsaXR5UnVsZVNldCwgZWxpZ2liaWxpdHlTZXRUeXBlID0gbnVsbCwgcHJldmlvdXNJc0VsaWdpYmxlID0gbnVsbCkge1xuICAgIGxvZ2dlci5sb2coXCJDaGVja2luZyByb2JvdCBlbGlnaWJpbGl0eVwiKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZWxpZ2liaWxpdHlSdWxlU2V0KSkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChgRWxpZ2liaWxpdHkgUnVsZSBTZXQgJHtlbGlnaWJpbGl0eVJ1bGVTZXR9IGlzIG5vdCBhbiBhcnJheWApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgaXNFbGlnaWJsZSA9IHByZXZpb3VzSXNFbGlnaWJsZTtcbiAgICBmb3IgKGNvbnN0IGVsaWdpYmlsaXR5UnVsZSBvZiBlbGlnaWJpbGl0eVJ1bGVTZXQpIHtcbiAgICAgIGlmICh0eXBlb2YgZWxpZ2liaWxpdHlSdWxlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmICghZWxpZ2liaWxpdHlTZXRUeXBlKSB7XG4gICAgICAgICAgaXNFbGlnaWJsZSA9IGF3YWl0IHRoaXMuY2hlY2tFbGlnaWJpbGl0eShlbGlnaWJpbGl0eVJ1bGUpO1xuICAgICAgICAgIGlmICghaXNFbGlnaWJsZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGVsaWdpYmlsaXR5U2V0VHlwZSkge1xuICAgICAgICAgIGlmIChpc0VsaWdpYmxlID09PSBudWxsKSB7XG4gICAgICAgICAgICBpc0VsaWdpYmxlID0gYXdhaXQgdGhpcy5jaGVja0VsaWdpYmlsaXR5KGVsaWdpYmlsaXR5UnVsZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoIChlbGlnaWJpbGl0eVNldFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJvclwiOlxuICAgICAgICAgICAgICBpc0VsaWdpYmxlID0gaXNFbGlnaWJsZSB8fCBhd2FpdCB0aGlzLmNoZWNrRWxpZ2liaWxpdHkoZWxpZ2liaWxpdHlSdWxlLCBlbGlnaWJpbGl0eVNldFR5cGUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhbmRcIjpcbiAgICAgICAgICAgICAgaXNFbGlnaWJsZSA9IGlzRWxpZ2libGUgJiYgYXdhaXQgdGhpcy5jaGVja0VsaWdpYmlsaXR5KGVsaWdpYmlsaXR5UnVsZSwgZWxpZ2liaWxpdHlTZXRUeXBlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiVW5rbm93biBlbGlnaWJpbGl0eVNldFR5cGU6IFwiLCBlbGlnaWJpbGl0eVNldFR5cGUpO1xuICAgICAgICAgICAgICBpc0VsaWdpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZWxpZ2liaWxpdHlSdWxlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlzRWxpZ2libGUgPSBhd2FpdCB0aGlzLmNoZWNrRWxpZ2liaWxpdHlSdWxlU2V0KGVsaWdpYmlsaXR5UnVsZS5zZXQsIGVsaWdpYmlsaXR5UnVsZS50eXBlLCBpc0VsaWdpYmxlKTtcbiAgICAgICAgaWYgKCFpc0VsaWdpYmxlKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc0VsaWdpYmxlO1xuICB9XG5cbiAgLy8gUmV0dXJuIGluZGV4IG9mIGJ1c2luZXNzUnVsZSwgdGhpcyBpcyB0aGUgYnVzaW5lc3NSdWxlSWRcbiAgYXN5bmMgY2hlY2tCdXNpbmVzc1J1bGVzKGJ1c2luZXNzUnVsZVNldCkge1xuICAgIGZvciAoY29uc3QgW2luZGV4LCBidXNpbmVzc1J1bGVdIG9mIGJ1c2luZXNzUnVsZVNldC5lbnRyaWVzKCkpIHtcbiAgICAgIGlmIChhd2FpdCB0aGlzLmNoZWNrRWxpZ2liaWxpdHlSdWxlU2V0KFtidXNpbmVzc1J1bGVdKSkgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7Z2V0RnJvbUJlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlSW5mb0xheWVyQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRGF0YUxheWVyUnVsZSA9IGFzeW5jIChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gYXdhaXQgZGF0YUxheWVyRmluZGVyKG9wZXJhdG9yKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkYXRhTGF5ZXJGaW5kZXIgPSBhc3luYyAoa2V5KSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTZWFyY2hpbmcgYmVhZ2xlSW5mb0xheWVyIGZvciBrZXkgXCIsIGtleSk7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoa2V5KTtcbiAgaWYgKHJlcyAhPT0gbnVsbCAmJiByZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGxvZ2dlci5zdWNjZXNzKGBGb3VuZCBrZXkgJHtrZXl9IHdpdGggdmFsdWUgJHtyZXN9YCk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBsb2dnZXIuZmFpbGVkKGBLZXkgJHtrZXl9IG5vdCBmb3VuZCBpbiBiZWFnbGVJbmZvTGF5ZXJgKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUVsZW1lbnRDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tFbGVtZW50UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWUsIHNlbGVjdG9yLCBzZWxlY3RvckFsbCwgc2VsZWN0b3JGYWxsYmFjayA9IG51bGx9ID0gcnVsZTtcbiAgbGV0IG1haW5TZWxlY3RvciA9IHNlbGVjdG9yO1xuICBpZiAobWFpblNlbGVjdG9yICYmICF3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIG1haW5TZWxlY3RvciA9IHNlbGVjdG9yRmFsbGJhY2sgPyBzZWxlY3RvckZhbGxiYWNrIDogbWFpblNlbGVjdG9yO1xuICB9XG5cbiAgaWYgKG9wZXJhdG9yID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIod2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvciksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICB9XG4gIGlmIChtYWluU2VsZWN0b3IgJiYgIXdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoc2VsZWN0b3JBbGwgJiYgIXdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvckFsbCkpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IGZvdW5kIG9uIHBhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGV0IGVsZW1lbnQ7XG4gIGlmIChtYWluU2VsZWN0b3IpIGVsZW1lbnQgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKTtcbiAgZWxzZSBpZiAoc2VsZWN0b3JBbGwpIGVsZW1lbnQgPSBBcnJheS5mcm9tKHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvckFsbCkpO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwidGV4dC1udW1iZXJcIjoge1xuICAgICAgbGV0IHRlbXBWYWw7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgICAgICB0ZW1wVmFsID0gZWxlbWVudC5yZWR1Y2UoKHJldHVyblZhbCwgZWxlbSkgPT4ge1xuICAgICAgICAgIHJldHVyblZhbCArPSBwYXJzZUludChlbGVtLnRleHRDb250ZW50LnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wVmFsID0gcGFyc2VJbnQod2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikudGV4dENvbnRlbnRcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgfVxuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gcGFyc2VJbnQodGVtcFZhbCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiY2xhc3NMaXN0XCI6XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihBcnJheS5mcm9tKGVsZW1lbnQuY2xhc3NMaXN0KSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcImNvdW50XCI6IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpICYmIGVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihlbGVtZW50Lmxlbmd0aCwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoMSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcigwLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSBcInN0eWxlXCI6IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgY29uc3Qgc3R5bGVLZXkgPSB2YWx1ZS5zcGxpdChcIjpcIilbMF0udHJpbSgpO1xuICAgICAgY29uc3Qgc3R5bGVWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBlbGVtZW50U3R5bGVzW3N0eWxlS2V5XTtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCBzdHlsZVZhbHVlKTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJPcGVyYXRvciBub3QgZGVmaW5lZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVGdW5jdGlvbkNoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0Z1bmN0aW9uUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgaWYgKCFvcGVyYXRvcikge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJSdWxlIGZ1bmN0aW9uIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBydWxlRnVuY3Rpb24gPSBGdW5jdGlvbihvcGVyYXRvcik7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IHJ1bGVGdW5jdGlvbigpO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVTZXNzaW9uQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrU2Vzc2lvblJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwiZHVyYXRpb25cIjpcbiAgICAgIHJldHVybiBkdXJhdGlvbkhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcImhpc3RvcnlcIjpcbiAgICAgIHJldHVybiBoaXN0b3J5SGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IGdldFNlc3Npb25UaW1lc3RhbXAgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHBhcnNlSW50KHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fVElNRVNUQU1QKSkpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGdldCBzZXNzaW9uIHRpbWVzdGFtcFwiLCBlcnIpO1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9XG59O1xuXG5jb25zdCBkdXJhdGlvbkhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBkdXJhdGlvbiA9IChEYXRlLm5vdygpIC0gZ2V0U2Vzc2lvblRpbWVzdGFtcCgpKSAvIDEwMDA7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGR1cmF0aW9uLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG5jb25zdCBoaXN0b3J5SGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRIaXN0b3J5ID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9ISVNUT1JZKT8uc3BsaXQoXCIsXCIpO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihjdXJyZW50SGlzdG9yeSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZVVybENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1VybFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJwYXRoXCI6IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RVUkw9IHdpbmRvdy50b3AubG9jYXRpb24uaHJlZjtcbiAgICAgIGNvbnN0IHBhdGggPSBuZXcgVVJMKHJlcXVlc3RVUkwpLnBhdGhuYW1lO1xuICAgICAgbG9nZ2VyLmxvZyhgQ2hlY2tpbmcgcGF0aCAke3BhdGh9IG1hdGNoZXMgcnVsZSBwYXRoICR7dmFsdWV9YCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYXRoLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcIlBMQUNFSE9MREVSXCI6IHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUll9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUVudkNoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0VudlJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJkZXZpY2VfdHlwZVwiOiB7XG4gICAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcyA/IFwibW9iaWxlXCIgOiBcImRlc2t0b3BcIjtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKGlzTW9iaWxlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcIlBMQUNFSE9MREVSXCI6IHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQge2dldEZyb21CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi4vR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeS9zdG9yZVwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlUHJvZHVjdEluZm9DaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tQcm9kdWN0SW5mb1J1bGUgPSBhc3luYyAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGNvbnN0IHNrdUxpc3QgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiX19mZWF0dXJlcy5TS1Vzb25QYWdlXCIsIHRydWUpO1xuICBpZiAoIXNrdUxpc3QgfHwgKHR5cGVvZiBza3VMaXN0ID09PSBcIm9iamVjdFwiICYmICFPYmplY3Qua2V5cyhza3VMaXN0KS5sZW5ndGgpKSByZXR1cm4gZmFsc2U7XG4gIGxldCBydW50aW1lVmFsdWUgPSBudWxsO1xuICBjb25zdCBza3UgPSBza3VMaXN0W09iamVjdC5rZXlzKHNrdUxpc3QpWzBdXT8uaWQ7XG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwidHJhbnNhY3Rpb25JbjJXZWVrc1wiOiB7XG4gICAgICBsb2dnZXIubG9nKFwiR2V0dGluZyBUcmFuc2FjdGlvbkNvdW50IGZvciBza3UgXCIsIHNrdSk7XG4gICAgICBydW50aW1lVmFsdWUgPSBhd2FpdCBnZXRUcmFuc2FjdGlvbkNvdW50KHNrdSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBcImFkZFRvQ2FydEluMldlZWtzXCI6IHtcbiAgICAgIGxvZ2dlci5sb2coXCJHZXR0aW5nIEFkZFRvQ2FydENvdW50IGZvciBza3UgXCIsIHNrdSk7XG4gICAgICBydW50aW1lVmFsdWUgPSBhd2FpdCBnZXRBZGRUb0NhcnRDb3VudChza3UpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJwcm9kdWN0Vmlld0NvdW50XCI6IHtcbiAgICAgIGxvZ2dlci5sb2coXCJHZXR0aW5nIHByb2R1Y3RWaWV3Q291bnQgZm9yIHNrdSBcIiwgc2t1KTtcbiAgICAgIHJ1bnRpbWVWYWx1ZSA9IGF3YWl0IGdldFByZXZpZXdDb3VudChza3UpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuXG5jb25zdCBnZXRUcmFuc2FjdGlvbkNvdW50ID0gYXN5bmMgKHNrdSkgPT4ge1xuICBjb25zdCBwcm9kdWN0SW5mbyA9IGF3YWl0IFN0b3JlLmdldEluc3RhbmNlKCkuZ2V0KHNrdSk7XG4gIGlmIChza3UgJiYgcHJvZHVjdEluZm8pIHtcbiAgICByZXR1cm4gcHJvZHVjdEluZm8uc2FsZUNudFZpc2l0b3JzSW4xNTtcbiAgfVxuICByZXR1cm4gLTE7XG59O1xuXG5jb25zdCBnZXRBZGRUb0NhcnRDb3VudCA9IGFzeW5jIChza3UpID0+IHtcbiAgY29uc3QgcHJvZHVjdEluZm8gPSBhd2FpdCBTdG9yZS5nZXRJbnN0YW5jZSgpLmdldChza3UpO1xuICBpZiAoc2t1ICYmIHByb2R1Y3RJbmZvKSB7XG4gICAgcmV0dXJuIHByb2R1Y3RJbmZvLmNhcnRDbnRWaXNpdG9yc0luMTU7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcblxuY29uc3QgZ2V0UHJldmlld0NvdW50ID0gYXN5bmMgKHNrdSkgPT4ge1xuICBjb25zdCBwcm9kdWN0SW5mbyA9IGF3YWl0IFN0b3JlLmdldEluc3RhbmNlKCkuZ2V0KHNrdSk7XG4gIGlmIChza3UgJiYgcHJvZHVjdEluZm8pIHtcbiAgICByZXR1cm4gcHJvZHVjdEluZm8udmlld0NudFZpc2l0b3JzSW4xO1xuICB9XG4gIHJldHVybiAtMTtcbn07XG4iLCJpbXBvcnQge2NoZWNrRGF0YUxheWVyUnVsZX0gZnJvbSBcIi4vZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VsZW1lbnRSdWxlfSBmcm9tIFwiLi9lbGVtZW50Q2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0Z1bmN0aW9uUnVsZX0gZnJvbSBcIi4vZnVuY3Rpb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrU2Vzc2lvblJ1bGV9IGZyb20gXCIuL3Nlc3Npb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrVXJsUnVsZX0gZnJvbSBcIi4vdXJsQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VudlJ1bGV9IGZyb20gXCIuL2VudkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tQcm9kdWN0SW5mb1J1bGV9IGZyb20gXCIuL3Byb2R1Y3RJbmZvQ2hlY2tlclwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQge2FkZERhdGFMaXN0ZW5lciwgYWRkVG9CZWFnbGVJbmZvTGF5ZXIsIGdldEZyb21CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCB7TXV0ZXh9IGZyb20gXCJhc3luYy1tdXRleFwiO1xuaW1wb3J0IHtmZXRjaEVsaWdpYmlsaXR5UnVsZXN9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtMT0NBTF9TVE9SQUdFX0tFWVMsIExPQ0FMX1NUT1JBR0VfVFRMX0hPVVJTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlUnVsZUVuZ2luZVwiKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVsZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7ZWxpZ2liaWxpdHlSdWxlcywgYmFzZVJ1bGVTZXR9ID0gYm9keTtcbiAgICB0aGlzLmJhc2VSdWxlU2V0ID0gYmFzZVJ1bGVTZXQ7XG4gICAgdGhpcy5lbGlnaWJpbGl0eVJ1bGVzID0gZWxpZ2liaWxpdHlSdWxlcztcbiAgICB0aGlzLmFkZGVkRGF0YUxpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMubXV0ZXggPSBuZXcgTXV0ZXgoKTtcbiAgfVxuXG4gIGFzeW5jIGNoZWNrUnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuYmFzZVJ1bGVTZXQpIHtcbiAgICAgIGNvbnN0IHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgIGlmICghcnVsZVNhdGlzZmllZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tSdWxlKHJ1bGUpIHtcbiAgICBjb25zdCB7Y2hhaW4sIGNoYWluX2NvbmRpdGlvbiwgdHlwZX0gPSBydWxlO1xuICAgIGxldCBydWxlU2F0aXNmaWVkID0gbnVsbDtcbiAgICAvLyBjaGVjayBydWxlXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwic2Vzc2lvblwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tTZXNzaW9uUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZWxlbWVudFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tFbGVtZW50UnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0YUxheWVyXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCBjaGVja0RhdGFMYXllclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInVybFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tVcmxSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tGdW5jdGlvblJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVudmlyb25tZW50XCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0VudlJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInByb2R1Y3RJbmZvTG9va3VwXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCBjaGVja1Byb2R1Y3RJbmZvUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIuZmFpbGVkKGBObyBzdWNoIHJ1bGUgdHlwZTogJHt0eXBlfWApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoY2hhaW4pIHtcbiAgICAgIHN3aXRjaCAoY2hhaW5fY29uZGl0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJhbmRcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAmJiBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkIHx8IGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkICE9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiTm8gc3VjaCBjaGFpbiBjb25kaXRpb25cIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlU2F0aXNmaWVkID8gcnVsZS5uYW1lIHx8IHRydWUgOiBmYWxzZTtcbiAgfVxuXG4gIGFzeW5jIGFzc2VzRWxpZ2liaWxpdHlSdWxlcygpIHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJhc3Nlc3NpbmctZWxpZ2liaWxpdHktcnVsZXNcIik7XG4gICAgY29uc3Qga2V5UHJvbWlzZXNNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHJ1bGVzXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmVsaWdpYmlsaXR5UnVsZXMpKSB7XG4gICAgICBrZXlQcm9taXNlc01hcFtrZXldID0gW107XG4gICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcnVsZXMpIHtcbiAgICAgICAga2V5UHJvbWlzZXNNYXBba2V5XS5wdXNoKHRoaXMuY2hlY2tSdWxlKHJ1bGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCBydWxlUHJvbWlzZXNdIG9mIE9iamVjdC5lbnRyaWVzKGtleVByb21pc2VzTWFwKSkge1xuICAgICAgY29uc3Qgc2F0aXNmaWVkUnVsZUlkcyA9IGF3YWl0IFByb21pc2UuYWxsKHJ1bGVQcm9taXNlcyk7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihgX19lUnVsZXMuJHtrZXl9YCwgc2F0aXNmaWVkUnVsZUlkcy5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gZmFsc2UpKTtcbiAgICAgIHRoaXMuc2V0VXBMaXN0ZW5lcnMoa2V5LCB0aGlzLmVsaWdpYmlsaXR5UnVsZXNba2V5XSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYXNzZXNFbGlnaWJpbGl0eVJ1bGVzQ2FsbEJhY2soa2V5LCBydWxlcykge1xuICAgIGlmICgha2V5IHx8ICFydWxlcyB8fCAhcnVsZXMubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3QgcmVsZWFzZSA9IGF3YWl0IHRoaXMubXV0ZXguYWNxdWlyZSgpO1xuICAgIGxvZ2dlci5sb2coYExvY2sgYWNxdWlyZWQgZm9yIGtleSAke2tleX1gKTtcbiAgICB0cnkge1xuICAgICAgZm9yIChjb25zdCBydWxlIG9mIHJ1bGVzKSB7XG4gICAgICAgIGNvbnN0IGlzRWxpZ2libGUgPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShydWxlKTtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoYF9fZVJ1bGVzLiR7a2V5fWApIHx8IFtdO1xuICAgICAgICBpZiAoaXNFbGlnaWJsZSkge1xuICAgICAgICAgIGlmIChjdXJyZW50LmluY2x1ZGVzKHJ1bGUubmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICAgIGN1cnJlbnQucHVzaChydWxlLm5hbWUpO1xuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKGBfX2VSdWxlcy4ke2tleX1gLCBjdXJyZW50KTtcbiAgICAgICAgICBpZiAoa2V5ID09PSBcIlBhZ2VUeXBlXCIpIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIGVsaWdpYmxlIHJ1bGVzXG4gICAgICAgICAgaWYgKCFjdXJyZW50LmluY2x1ZGVzKHJ1bGUubmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gY3VycmVudC5maWx0ZXIoKGspID0+IGsgIT09IHJ1bGUubmFtZSk7XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoYF9fZVJ1bGVzLiR7a2V5fWAsIGZpbHRlcmVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChgRXJyb3IgYXNzZXNzaW5nIHJ1bGVzIGZvciBrZXk6ICR7a2V5fSAtICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGxvZ2dlci5sb2coYFJlbGVhc2luZyBsb2NrIGZvciBrZXk6ICR7a2V5fWApO1xuICAgICAgcmVsZWFzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNldFVwTGlzdGVuZXJzKGtleSwgcnVsZXMpIHtcbiAgICBjb25zdCB7ZGF0YUxheWVyUnVsZXMsIGVsZW1lbnRSdWxlc30gPSB0aGlzLmV4dHJhY3RSdWxlQXR0cmlidXRlcyhydWxlcyk7XG4gICAgZm9yIChjb25zdCBbb3BlcmF0b3IsIHJ1bGVzXSBvZiBPYmplY3QuZW50cmllcyhkYXRhTGF5ZXJSdWxlcykpIHtcbiAgICAgIGNvbnN0IGJvdW5kQXNzZXNFbGlnaWJpbGl0eVJ1bGVzQ2FsbEJhY2sgPSB0aGlzLmFzc2VzRWxpZ2liaWxpdHlSdWxlc0NhbGxCYWNrLmJpbmQodGhpcywga2V5LCBydWxlcyk7XG4gICAgICBhZGREYXRhTGlzdGVuZXIob3BlcmF0b3IsIGJvdW5kQXNzZXNFbGlnaWJpbGl0eVJ1bGVzQ2FsbEJhY2spO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtzZWxlY3RvciwgcnVsZXNdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW1lbnRSdWxlcykpIHtcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9uTGlzdCkgPT4ge1xuICAgICAgICBpZiAod2luZG93LnRvcC5kb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImNvbXBsZXRlXCIpIHJldHVybjtcbiAgICAgICAgbGV0IG5vZGVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgbXV0YXRpb25SZWNvcmQgb2YgbXV0YXRpb25MaXN0KSB7XG4gICAgICAgICAgbm9kZXMgPSBbLi4ubm9kZXMsIC4uLkFycmF5LmZyb20obXV0YXRpb25SZWNvcmQuYWRkZWROb2RlcyksIC4uLkFycmF5LmZyb20obXV0YXRpb25SZWNvcmQucmVtb3ZlZE5vZGVzKV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhjbHVkZSBtdXRhdGlvbnMgdGhhdCBvbmx5IHVwZGF0ZSB0ZXh0XG4gICAgICAgIGlmIChub2Rlcy5ldmVyeSgobikgPT4gbi50YWdOYW1lID09PSB1bmRlZmluZWQpKSByZXR1cm47XG4gICAgICAgIHRoaXMuYXNzZXNFbGlnaWJpbGl0eVJ1bGVzQ2FsbEJhY2soa2V5LCBydWxlcyk7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RvciA9PT0gXCJib2R5XCIpIHtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh3aW5kb3cudG9wLmRvY3VtZW50LmJvZHksIHtzdWJ0cmVlOiB0cnVlLCBjaGlsZExpc3Q6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUod2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKS5wYXJlbnROb2RlLCB7c3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZXh0cmFjdFJ1bGVBdHRyaWJ1dGVzKHJ1bGVzLCBkYXRhTGF5ZXJSdWxlcyA9IHt9LCBlbGVtZW50UnVsZXMgPSB7fSkge1xuICAgIGlmICghcnVsZXMgfHwgIXJ1bGVzLmxlbmd0aCkgcmV0dXJuO1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiBydWxlcykge1xuICAgICAgY29uc3Qge3R5cGV9ID0gcnVsZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiZGF0YUxheWVyXCI6XG4gICAgICAgICAgaWYgKCFkYXRhTGF5ZXJSdWxlc1tydWxlLm9wZXJhdG9yXSkge1xuICAgICAgICAgICAgZGF0YUxheWVyUnVsZXNbcnVsZS5vcGVyYXRvcl0gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YUxheWVyUnVsZXNbcnVsZS5vcGVyYXRvcl0ucHVzaChydWxlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVsZW1lbnRcIjpcbiAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihydWxlLnNlbGVjdG9yKSkge1xuICAgICAgICAgICAgZWxlbWVudFJ1bGVzW3J1bGUuc2VsZWN0b3JdID0gZWxlbWVudFJ1bGVzW3J1bGUuc2VsZWN0b3JdID9cbiAgICAgICAgICAgIFsuLi5lbGVtZW50UnVsZXNbcnVsZS5zZWxlY3Rvcl0sIHJ1bGVdIDogW3J1bGVdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHJ1bGUuc2VsZWN0b3JBbGwpLmxlbmd0aCkge1xuICAgICAgICAgICAgZWxlbWVudFJ1bGVzW3J1bGUuc2VsZWN0b3JBbGxdID0gZWxlbWVudFJ1bGVzW3J1bGUuc2VsZWN0b3JBbGxdID9cbiAgICAgICAgICAgIFsuLi5lbGVtZW50UnVsZXNbcnVsZS5zZWxlY3RvckFsbF0sIHJ1bGVdIDogW3J1bGVdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnRSdWxlc1tcImJvZHlcIl0gPSBlbGVtZW50UnVsZXNbXCJib2R5XCJdID9cbiAgICAgICAgICAgIFsuLi5lbGVtZW50UnVsZXNbXCJib2R5XCJdLCBydWxlXSA6IFtydWxlXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChydWxlLmNoYWluKSB7XG4gICAgICAgIHRoaXMuZXh0cmFjdFJ1bGVBdHRyaWJ1dGVzKFtydWxlLmNoYWluXSwgZGF0YUxheWVyUnVsZXMsIGVsZW1lbnRSdWxlcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7ZGF0YUxheWVyUnVsZXMsIGVsZW1lbnRSdWxlc307XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0RWxpZ2liaWxpdHlSdWxlcygpIHtcbiAgICB0cnkge1xuICAgICAgbGV0IGVsaWdpYmlsaXR5UnVsZXNPYmogPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLkVMSUdJQklMSVRZX1JVTEVTKTtcbiAgICAgIGlmIChlbGlnaWJpbGl0eVJ1bGVzT2JqKSB7XG4gICAgICAgIGVsaWdpYmlsaXR5UnVsZXNPYmogPSBKU09OLnBhcnNlKGVsaWdpYmlsaXR5UnVsZXNPYmopO1xuICAgICAgICBpZiAoZWxpZ2liaWxpdHlSdWxlc09iai50aW1lc3RhbXApIHtcbiAgICAgICAgICBjb25zdCBlbGFwc2VkSG91cnMgPSAoRGF0ZS5ub3coKSAtIGVsaWdpYmlsaXR5UnVsZXNPYmoudGltZXN0YW1wKSAvICgxMDAwICogMzYwMCk7XG4gICAgICAgICAgaWYgKGVsYXBzZWRIb3VycyA8IExPQ0FMX1NUT1JBR0VfVFRMX0hPVVJTKSByZXR1cm4gZWxpZ2liaWxpdHlSdWxlc09iai5ydWxlcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxpZ2liaWxpdHlSdWxlc09iaiA9IGF3YWl0IGZldGNoRWxpZ2liaWxpdHlSdWxlcygpO1xuICAgICAgaWYgKCFlbGlnaWJpbGl0eVJ1bGVzT2JqKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJGYWlsZWQgdG8gZmV0Y2ggZWxpZ2liaWxpdHkgcnVsZXNcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgZWxpZ2liaWxpdHlSdWxlc09iaiA9IHtydWxlczogZWxpZ2liaWxpdHlSdWxlc09iaiwgdGltZXN0YW1wOiBEYXRlLm5vdygpfTtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuRUxJR0lCSUxJVFlfUlVMRVMsIEpTT04uc3RyaW5naWZ5KGVsaWdpYmlsaXR5UnVsZXNPYmopKTtcbiAgICAgIHJldHVybiBlbGlnaWJpbGl0eVJ1bGVzT2JqLnJ1bGVzO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBnZXQgZWxpZ2liaWxpdHkgcnVsZXM6IFwiLCBlcnIubWVzc2FnZSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IFRyZWF0bWVudFJlcG9zaXRvcnkgZnJvbSBcIi4uL0JlYWdsZVRyZWF0bWVudFJlcG9zaXRvcnkvaW5kZXhcIjtcbmltcG9ydCB7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyLFxuICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyLFxufSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcyxcbiAgaW5qZWN0U3R5bGVTaGVldCxcbiAgcmVtb3ZlRG9jdW1lbnRIaWRlLFxufSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBSb2JvdEVuZ2luZSBmcm9tIFwiLi9yb2JvdEVuZ2luZVwiO1xuaW1wb3J0IFJ1bGVFbmdpbmUgZnJvbSBcIi4uL0JlYWdsZVJ1bGVFbmdpbmVcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi4vR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeS9zdG9yZVwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlT25Db21wb25lbnRcIik7XG5cbmNvbnN0IGJlYWdsZU9uID0gYXN5bmMgKGlkZW50aWZpZXIsIGRlYnVnTW9kZSwgcGFnZVR5cGUsIHRyZWF0bWVudFdlaWdodHMpID0+IHtcbiAgY29uc3QgcGVyc2lzdFByb2R1Y3RJbmZvUHJvbWlzZSA9IFN0b3JlLmdldEluc3RhbmNlKCkucGVyc2lzdFByb2R1Y3RJbmZvKCk7XG5cbiAgY29uc3QgZWxpZ2liaWxpdHlSdWxlc0Fzc2Vzc1Byb21pc2UgPSBhc3Nlc0VsaWdpYmlsaXR5UnVsZXMoKTtcbiAgY29uc3QgdHJlYXRtZW50c1Byb21pc2UgPSBUcmVhdG1lbnRSZXBvc2l0b3J5LmdldFRyZWF0bWVudHMoKTtcblxuICBpbmplY3RTdHlsZVNoZWV0KCk7XG4gIGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzKCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcIm9uLWluaXRcIik7XG5cbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgbGV0IGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzID0gbnVsbDtcbiAgaWYgKGRlYnVnTW9kZSAmJiBzZWFyY2hQYXJhbXMuaW5jbHVkZXMoXCJmaWx0ZXI9XCIpKSB7XG4gICAgZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgPSBzZWFyY2hQYXJhbXMuc2xpY2UoXG4gICAgICAgIHNlYXJjaFBhcmFtcy5pbmRleE9mKFwiW1wiKSArIDEsXG4gICAgICAgIHNlYXJjaFBhcmFtcy5sYXN0SW5kZXhPZihcIl1cIiksXG4gICAgKS5zcGxpdChcIixcIikubWFwKChpdGVtKSA9PiBwYXJzZUludChpdGVtLCAxMCkpO1xuICB9XG5cbiAgY29uc3QgdHJlYXRtZW50cyA9IGF3YWl0IHRyZWF0bWVudHNQcm9taXNlO1xuXG4gIGlmICghdHJlYXRtZW50cykge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcIm5vLXJvYm90LXdlaWdodHNcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIHRyZWF0bWVudHMvd2VpZ2h0c1wiKTtcbiAgfVxuICBsb2dnZXIuc3VjY2VzcyhcIkZvdW5kIHRyZWF0bWVudHM6IFwiLCB0cmVhdG1lbnRzKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwiZmV0Y2hlZC10cmVhdG1lbnRzXCIpO1xuXG4gIGNvbnN0IHRyZWF0bWVudFJlcG9zaXRvcnkgPSBuZXcgVHJlYXRtZW50UmVwb3NpdG9yeSh7XG4gICAgdHJlYXRtZW50cyxcbiAgICB0cmVhdG1lbnRXZWlnaHRzLFxuICB9KTtcblxuICBjb25zdCBtYXRjaGVkVHJlYXRtZW50cyA9IGF3YWl0IHRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0TWF0Y2hlZFRyZWF0bWVudHMoZGVidWdNb2RlKTtcbiAgaWYgKG1hdGNoZWRUcmVhdG1lbnRzID09PSBudWxsKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwibm8tdXNlci1zZWdtZW50XCIpO1xuICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIW1hdGNoZWRUcmVhdG1lbnRzLmxlbmd0aCkge1xuICAgIGxvZ2dlci5sb2coXCJObyB0cmVhdG1lbnRzIG1hdGNoZWQsIHJldHVybmluZyB3aXRob3V0IGZ1cnRoZXIgYWN0aW9uXCIpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcIm5vLXJvYm90LW1hdGNoZWRcIik7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcImZvdW5kLW1hdGNoZWQtcm9ib3RzXCIpO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgZWxpZ2liaWxpdHlSdWxlc0Fzc2Vzc1Byb21pc2U7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcIm5vLXJ1bGVzLWFzc2Vzc2VkXCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBhc3NlcyBlbGlnaWJpbGl0eSBydWxlc1wiKTtcbiAgfVxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJydWxlcy1hc3Nlc3NlZFwiKTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBwZXJzaXN0UHJvZHVjdEluZm9Qcm9taXNlO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJwcm9kdWN0LWludG8tbm8tcGVyc2lzdFwiKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcGVyc2lzdCBwcm9kdWN0IGluZm9cIik7XG4gIH1cblxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJlbmdhZ2luZy1yb2JvdHNcIik7XG4gIGNvbnN0IHJvYm90RW5naW5lID0gbmV3IFJvYm90RW5naW5lKHtcbiAgICBkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyxcbiAgICBkZWJ1Z01vZGUsXG4gICAgbWF0Y2hlZFRyZWF0bWVudHMsXG4gICAgaWRlbnRpZmllcixcbiAgICBwYWdlVHlwZSxcbiAgfSk7XG4gIGF3YWl0IHJvYm90RW5naW5lLmVuZ2FnZVJvYm90cygpO1xuICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwicm9ib3RzLWVuZ2FnZWRcIik7XG4gIGxvZ2dlci5zdWNjZXNzKFwiQXBwbGllZCB0cmVhdG1lbnRzOiBcIiwgYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImFcIikpO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gYXNzZXNFbGlnaWJpbGl0eVJ1bGVzKCkge1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJmZXRjaGluZy1lbGlnaWJpbGl0eS1ydWxlc1wiKTtcbiAgY29uc3QgZWxpZ2liaWxpdHlSdWxlcyA9IGF3YWl0IFJ1bGVFbmdpbmUuZ2V0RWxpZ2liaWxpdHlSdWxlcygpO1xuICBpZiAoIWVsaWdpYmlsaXR5UnVsZXMpIHJldHVybjtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwiZmV0Y2hlZC1lbGlnaWJpbGl0eS1ydWxlc1wiKTtcbiAgY29uc3QgcnVsZUVuZ2luZSA9IG5ldyBSdWxlRW5naW5lKHtlbGlnaWJpbGl0eVJ1bGVzfSk7XG4gIGF3YWl0IHJ1bGVFbmdpbmUuYXNzZXNFbGlnaWJpbGl0eVJ1bGVzKCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcImFzc2Vzc2VkLWVsaWdpYmlsaXR5LXJ1bGVzXCIpO1xufVxuZXhwb3J0IGRlZmF1bHQgYmVhZ2xlT247XG4iLCJpbXBvcnQge2FkZFRvQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQgUnVsZUVuZ2luZSBmcm9tIFwiLi4vQmVhZ2xlUnVsZUVuZ2luZVwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJTZWdtZW50YXRpb25Db21wdXRlclwiKTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXB1dGVTZWdtZW50KHRyZWF0bWVudFdlaWdodHMpIHtcbiAgbG9nZ2VyLmxvZyhcIkRldGVybWluaW5nIHVzZXIgc2VnbWVudFwiKTtcbiAgdHJ5IHtcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgT2JqZWN0LmtleXModHJlYXRtZW50V2VpZ2h0cykpIHtcbiAgICAgIGNvbnN0IHJ1bGVTZXQgPSB0cmVhdG1lbnRXZWlnaHRzW3NlZ21lbnRdPy5ydWxlU2V0O1xuICAgICAgaWYgKCFydWxlU2V0KSBjb250aW51ZTtcbiAgICAgIGNvbnN0IHNlZ21lbnRSdWxlRW5naW5lID0gbmV3IFJ1bGVFbmdpbmUoe2Jhc2VSdWxlU2V0OiBydWxlU2V0LCBidXNpbmVzc1J1bGVTZXQ6IFtdfSk7XG4gICAgICBpZiAoYXdhaXQgc2VnbWVudFJ1bGVFbmdpbmUuY2hlY2tSdWxlcygpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coYFVzZXIgc2VnbWVudCBtYXRjaGVkOiAke3NlZ21lbnR9YCk7XG4gICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic1wiLCBzZWdtZW50KTtcbiAgICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJVc2VyIHNlZ21lbnQgbm90IG1hdGNoZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJDb3VsZCBub3QgY29tcHV0ZSB1c2VyIHNlZ21lbnRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IE1vbml0b3IgZnJvbSBcIi4uL0JlYWdsZU1vbml0b3IvaW5kZXhcIjtcbmltcG9ydCBiZWFnbGVPbiBmcm9tIFwiLi4vQmVhZ2xlT25cIjtcbmltcG9ydCB7XG4gIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIsXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyLFxuICBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyLFxufSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBTUExJVF9SQVRJTyxcbiAgU0VTU0lPTl9TVE9SQUdFX0tFWVMsXG4gIExPQ0FMX1NUT1JBR0VfS0VZUyxcbiAgTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04sXG4gIFZFUlNJT04sXG59IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIGdldElkZW50aWZpZXIsXG4gIHJlbW92ZURvY3VtZW50SGlkZSxcbiAgZGV0ZXJtaW5lUGN0LFxuICBnZXREZWJ1Z01vZGUsXG4gIHN3aXRjaFRvRWFzZU91dCxcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge2NvbXB1dGVTZWdtZW50fSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyL3NlZ21lbnQtY29tcHV0ZXJcIjtcbmltcG9ydCBUcmVhdG1lbnRSZXBvc2l0b3J5IGZyb20gXCIuLi9CZWFnbGVUcmVhdG1lbnRSZXBvc2l0b3J5XCI7XG5cbmxldCBTSFVURE9XTiA9IGZhbHNlO1xuXG4oYXN5bmMgZnVuY3Rpb24oKSB7XG4gIHN3aXRjaFRvRWFzZU91dCgpO1xuICBsZXQgbW9uaXRvciA9IG51bGw7XG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcbiAgbG9nZ2VyLmluZm8oXCJCZWFnbGUgaW5pdGlhbGl6aW5nXCIpO1xuICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcblxuICBsZXQgZWFybHlMb2dTZW50ID0gZmFsc2U7XG4gIGxldCBoaWRlUmVtb3ZlZCA9IGZhbHNlO1xuXG4gIHRyeSB7XG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBJTklUIFRBU0tTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiR0xPVl9PTlwiLCBcIm5vdC1zZW50IHwgaW5pdGlhbGl6aW5nXCIpO1xuICAgIGNvbnN0IHRyZWF0bWVudFdlaWdodHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRXZWlnaHRzKCk7XG4gICAgbW9uaXRvciA9IG5ldyBNb25pdG9yKCk7XG4gICAgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcigpO1xuICAgIGNvbnN0IGlkZW50aWZpZXIgPSBhd2FpdCBnZXRJZGVudGlmaWVyKCk7XG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGlkZW50aWZpZXI6IFwiLCBpZGVudGlmaWVyKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZUdhSWRcIiwgaWRlbnRpZmllcik7XG4gICAgY29uc3QgY29va2llUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwib25IYXNoUGN0XCIsIGNvb2tpZVBjdCk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2aWV3X2Vwb2NoXCIsIERhdGUubm93KCkgKyBNYXRoLnJhbmRvbSgpKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZcIiwgVkVSU0lPTik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzclwiLCBTUExJVF9SQVRJTyk7XG5cbiAgICAvLyBkYXRhLWxlc3MgbG9nIHRvIGRldGVjdCBib3VuY2VzXG4gICAgYXdhaXQgbW9uaXRvci5wYWNrQW5kUXVldWVBcnJpdmFsTG9nKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICB9LCAyMDAwKTtcblxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBFQVJMWSBQUlVORSBPVVQtT0YtU0NPUEUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gICAgbGV0IHVzZXJTZWdtZW50ID0gbnVsbDtcbiAgICBsZXQgdHJlYXRtZW50V2VpZ2h0cyA9IG51bGw7XG4gICAgY29uc3Qgb29zUmVhc29uID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUpO1xuICAgIGlmIChvb3NSZWFzb24gIT09IFwidW5zdXBwb3J0ZWRcIikge1xuICAgICAgdHJlYXRtZW50V2VpZ2h0cyA9IGF3YWl0IHRyZWF0bWVudFdlaWdodHNQcm9taXNlO1xuICAgICAgaWYgKCF0cmVhdG1lbnRXZWlnaHRzKSB7XG4gICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcIm5vLXJvYm90LXdlaWdodHNcIik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmZXRjaCB3ZWlnaHRzXCIpO1xuICAgICAgfVxuICAgICAgLy8gY29tcHV0ZSB1c2VyIHNlZ21lbnQgYW5kIGFkZCB0byBiZWFnbGVJbmZvTGF5ZXJcbiAgICAgIHVzZXJTZWdtZW50ID0gYXdhaXQgY29tcHV0ZVNlZ21lbnQodHJlYXRtZW50V2VpZ2h0cyk7XG4gICAgfVxuXG4gICAgLy8gaWYgY2Fubm90IGdldCBjcml0aWNhbCBpbmZvLCBtYWtlIG91dCBvZiBzY29wZSBhbmQgdW5zdXBwb3J0ZWRcbiAgICBpZiAoXG4gICAgICBjb29raWVQY3QgPT09IG51bGwgfHxcbiAgICAgICFuYXZpZ2F0b3Iuc2VuZEJlYWNvbiB8fFxuICAgICAgdHlwZW9mIG5hdmlnYXRvci5zZW5kQmVhY29uICE9PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgIHR5cGVvZiBTdHJpbmc/LnByb3RvdHlwZT8ucGFkU3RhcnQgIT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgKG9vc1JlYXNvbiAmJiBvb3NSZWFzb24gPT09IFwidW5zdXBwb3J0ZWRcIikgfHxcbiAgICAgICghdXNlclNlZ21lbnQpXG4gICAgKSB7XG4gICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJ1bnN1cHBvcnRlZFwifSk7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk9VVF9PRl9TQ09QRSwgXCJ1bnN1cHBvcnRlZFwiKTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiR0xPVl9PTlwiLCBcInVuc3VwcG9ydGVkIHwgZGV2aWNlXCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQtZGV2aWNlXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzTGFiZWxTZW50ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5JU19MQUJFTF9TRU5UKTtcbiAgICBjb25zdCB0aW1lb3V0Q291bnRlciA9IHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuVElNRU9VVF9DT1VOVCkpIHx8IDA7XG5cbiAgICAvLyBjaGVjayBpZiBkZWJ1ZyBtb2RlIGlzIG9uLCBhbHNvIGFkZHMgZGJtIHRvIGJlYWdsZUluZm9MYXllciBhbmQgc2V0cyBvb3NSZWFzb25cbiAgICBjb25zdCBkZWJ1Z01vZGUgPSBnZXREZWJ1Z01vZGUoXCJlbXBsb3llZVwiKTtcblxuICAgIC8vIGlmIHRpbWVkLW91dCB0b28gbWFueSB0aW1lcyBmb3IgdmVyeSBmaXJzdCBpbnRlcmFjdHNpb25zLCBtYWtlIG91dCBvZiBzY29wZSBmb3IgdGhlIHNlc3Npb25cbiAgICBpZiAoIWRlYnVnTW9kZSAmJiAhb29zUmVhc29uICYmICFpc0xhYmVsU2VudCAmJiB0aW1lb3V0Q291bnRlciA+IE1BWF9USU1FT1VUX1BFUl9TRVNTSU9OXG4gICAgKSB7XG4gICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJ1bnN1cHBvcnRlZFwifSk7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIkdMT1ZfT05cIiwgXCJ1bnN1cHBvcnRlZCB8IHRpbWVvdXRcIik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYXgtdGltZW91dFwiKTtcbiAgICB9XG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBRE1JTiBVU0VSIENIRUNLID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4gICAgLy8gVE9ETzogcmVuYW1lIHNob3dyb29tIGxvZ2ljIHRvIGFkbWluLCBhbmQgbWFwIHZ2c0lzU2hvd3Jvb20gdG8gYSBjb25maWd1cmFibGUgYWRtaW4gcGFyYW1cblxuICAgIC8vIGlmIGFkbWluIHVzZXIsIG1ha2Ugb3V0IG9mIHNjb3BlIGFuZCBtYXJrIGFzIGVtcGxveWVlXG4gICAgY29uc3QgcHJvY2Vzc0FkbWluVXNlciA9ICgpID0+IHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcImVtcGxveWVlXCJ9KTtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuT1VUX09GX1NDT1BFLCBcImVtcGxveWVlXCIpO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5JU19BRE1JTiwgdHJ1ZSk7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIkdMT1ZfT05cIiwgXCJlbXBsb3llZSB8IGFkbWluXCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYWRtaW4tZW1wbG95ZWVcIik7XG4gICAgfTtcblxuICAgIGxldCBpc0FkbWluID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5JU19BRE1JTik7XG4gICAgLy8gaWYgbm90IGZvdW5kIGluIGxvY2FsU3RvcmFnZSwgY2hlY2sgYmVhZ2xlSW5mb0xheWVyIHdpdGggYmxvY2tpbmcgbWRvZVxuICAgIGlmIChpc0FkbWluID09PSBudWxsIHx8IGlzQWRtaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgaXNBZG1pbiA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNJc1Nob3dyb29tXCIsIHRydWUpO1xuICAgIC8vIHBlcm1hbmVudCBsYWJlbCBjYW4gYmUgZmFsc2UsIGJ1dCBhZG1pbiB1c2VyIGNhbiBzdGlsbCBsb2dpbiBhbmQgdHVybiB0cnVlLCBsYXppbHkgZml4IHRoaXNcbiAgICB9IGVsc2UgaWYgKGlzQWRtaW4gPT09IFwiZmFsc2VcIiB8fCBpc0FkbWluID09PSBmYWxzZSkge1xuICAgICAgLy8gYXN5bmMgY2FsbCB0byBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyLCB0aGVuIHNldCBsb2NhbFN0b3JhZ2VcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNJc1Nob3dyb29tXCIsIHRydWUpLnRoZW4oKGlzQWRtaW4pID0+IHtcbiAgICAgICAgaWYgKGlzQWRtaW4gJiYgKGlzQWRtaW4gPT09IFwidHJ1ZVwiIHx8IGlzQWRtaW4gPT09IHRydWUpKSB7XG4gICAgICAgICAgcHJvY2Vzc0FkbWluVXNlcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNBZG1pbiAmJiAoaXNBZG1pbiA9PT0gXCJ0cnVlXCIgfHwgaXNBZG1pbiA9PT0gdHJ1ZSkpIHtcbiAgICAgIHByb2Nlc3NBZG1pblVzZXIoKTtcbiAgICB9IGVsc2UgaWYgKGlzQWRtaW4gPT09IG51bGwgfHwgaXNBZG1pbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlRJTUVPVVRfQ09VTlQsIHRpbWVvdXRDb3VudGVyICsgMSk7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIkdMT1ZfT05cIiwgXCJub3Qtc2VudCB8IHRpbWVvdXRcIik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJuby1hZG1pbi1zdGF0dXNcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuSVNfQURNSU4sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImdsb3YtZWFzZVwiKSkge1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5USU1FT1VUX0NPVU5ULCB0aW1lb3V0Q291bnRlciArIDEpO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJHTE9WX09OXCIsIFwibm90LXNlbnQgfCB0aW1lb3V0XCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYW50aS1mbGlja2VyLXRpbWVvdXRcIik7XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBPTi9PRkYgQ0hFQ0sgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuICAgIC8vIGlzT24gY2FuIGJlIHRydWUgKE9OKSwgZmFsc2UgKE9GRilcbiAgICBsZXQgaXNPbiA9IG51bGw7XG5cbiAgICBpZiAoZGVidWdNb2RlKSB7XG4gICAgICBsb2dnZXIubG9nKFwiRGVidWcgbW9kZSBvbjogYWxsIGFwcGxpY2FibGUgdHJlYXRtZW50cyB3aWxsIGJlIGFwcGxpZWRcIik7XG4gICAgICBpc09uID0gdHJ1ZTtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcImVtcGxveWVlXCJ9KTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiR0xPVl9PTlwiLCBcImVtcGxveWVlIHwgdGVzdGVyXCIpO1xuICAgIH0gZWxzZSBpZiAob29zUmVhc29uICYmIG9vc1JlYXNvbiA9PT0gXCJlbXBsb3llZVwiKSB7XG4gICAgICBsb2dnZXIud2FybihcIlVzZXIgaXMgb3V0IG9mIHNjb3BlXCIpO1xuICAgICAgLy8gc2V0IGlzT24gdG8gdHJ1ZS9mYWxzZSB3aGVuIG5vdCBkZWJ1Z01vZGUgYnV0IG91dCBvZiBzY29wZSBpLmUuIG5kX2RlYnVnPTAgZm9yIHRlc3RhYmlsaXR5XG4gICAgICBpc09uID0gY29va2llUGN0ID49IFNQTElUX1JBVElPO1xuICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwiZW1wbG95ZWVcIn0pO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJHTE9WX09OXCIsIFwiZW1wbG95ZWUgfCB0ZXN0ZXJcIik7XG4gICAgfSBlbHNlIGlmIChvb3NSZWFzb24pIHtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiR0xPVl9PTlwiLCBcIm5vdC1zZW50IHwgdW5rbm93blwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gb3V0IG9mIHNjb3BlIHJlYXNvblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgZ3JlYXRlciB0aGFuIFNQTElUX1JBVElPLCB0aGVuIGluIE9OIG1vZGVcbiAgICAgIGlmIChjb29raWVQY3QgPj0gU1BMSVRfUkFUSU8pIHtcbiAgICAgICAgaXNPbiA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcInRydWVcIn0pO1xuICAgICAgfSBlbHNlIGlmIChjb29raWVQY3QgPj0gU1BMSVRfUkFUSU8vMikge1xuICAgICAgICBpc09uID0gZmFsc2U7XG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcImZhbHNlMlwifSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc09uID0gZmFsc2U7XG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcImZhbHNlMVwifSk7XG4gICAgICB9XG5cbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiaXNPblwiLCBpc09uKTtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuSVNfTEFCRUxfU0VOVCwgdHJ1ZSk7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIkdMT1ZfT05cIiwgaXNPbi50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRUFSTFktUFJPQ0VTUyBDT05WRVJTSU9OID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4gICAgLy8gYXdhaXQgY3JpdGljYWwgaW5mbyBiZWZvcmUgc2VuZGluZyBsb2dzIGZvciBwcm9wZXIgYW5hbHl0aWNzIG1lYXN1cmVtZW50c1xuICAgIGNvbnN0IHBhZ2VUeXBlID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIlBhZ2VUeXBlXCIsIHRydWUpO1xuICAgIGlmIChwYWdlVHlwZSA9PT0gXCJwdXJjaGFzZVwiKSB7XG4gICAgICBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwicHVyY2hhc2UucmV2ZW51ZVwiLCB0cnVlLCA1MCwgNTAwMCk7XG4gICAgICBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwicHVyY2hhc2UucGF5bWVudFR5cGVcIiwgdHJ1ZSwgNTAsIDUwMDApO1xuICAgICAgLy8gc2VuZCBsb2dzIGltbWVkaWF0ZWx5IG9uIHB1cmNoYXNlIHBhZ2UsIGFuZCBmb3JjZSB3YWl0XG4gICAgICBhd2FpdCBtb25pdG9yLnNlbmRMb2dzKHRydWUpO1xuICAgICAgLy8gaWYgcHVyY2hhc2UgaXMgY29tcGxldGUsIGRvIG5vdCBhcHBseSBhbnkgdHJlYXRtZW50cyBvbiB0aGUgY29uZmlybWF0aW9uIHBhZ2VcbiAgICAgIFNIVVRET1dOID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2VuZCBsb2dzIHdoZW4gcmVhZHksIHN0YXJ0IHNjcmFwaW5nIGFuZCBzZW5kaW5nIGFzeW5jbHlcbiAgICAgIG1vbml0b3Iuc2VuZExvZ3MoZmFsc2UpO1xuICAgIH1cbiAgICBlYXJseUxvZ1NlbnQgPSB0cnVlO1xuXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFJPQk9UIFBBVEhzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuICAgIGlmIChpc09uID09PSB0cnVlKSB7XG4gICAgICBpZiAoIVNIVVRET1dOKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJCZWFnbGUgT04gR3JvdXAgUGF0aFwiKTtcbiAgICAgICAgYmVhZ2xlT24oaWRlbnRpZmllciwgZGVidWdNb2RlLCBwYWdlVHlwZSwgdHJlYXRtZW50V2VpZ2h0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXIuaW5mbyhcIkJlYWdsZSBPTiBHcm91cCBTSFVURE9XTiBQYXRoXCIpO1xuICAgICAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICAgICAgaGlkZVJlbW92ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNPbiA9PT0gZmFsc2UpIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiQmVhZ2xlIE9GRiBHcm91cCBQYXRoXCIpO1xuICAgICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgICBoaWRlUmVtb3ZlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlzT24gaXMgdW5kZWZpbmVkIG9yIG51bGxcIik7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIud2FybihcIkJlYWdsZSBFYXJseSBTY29wZS1vdXQgb3IgRVJST1I6IFwiLCBlcnIubWVzc2FnZSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIGVyci5tZXNzYWdlKTtcbiAgICBpZiAoIWVhcmx5TG9nU2VudCAmJiBtb25pdG9yKSBtb25pdG9yLnNlbmRMb2dzKGZhbHNlKTtcbiAgICBpZiAoIWhpZGVSZW1vdmVkKSByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgfVxufSkoKTtcbiIsImZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG4gIHJldHVybiBhcnIyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlMaWtlVG9BcnJheSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsImZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aEhvbGVzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwidmFyIHRvUHJvcGVydHlLZXkgPSByZXF1aXJlKFwiLi90b1Byb3BlcnR5S2V5LmpzXCIpO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3MsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IG51bGwgPT0gYXJyID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuICBpZiAobnVsbCAhPSBfaSkge1xuICAgIHZhciBfcyxcbiAgICAgIF9lLFxuICAgICAgX3gsXG4gICAgICBfcixcbiAgICAgIF9hcnIgPSBbXSxcbiAgICAgIF9uID0gITAsXG4gICAgICBfZCA9ICExO1xuICAgIHRyeSB7XG4gICAgICBpZiAoX3ggPSAoX2kgPSBfaS5jYWxsKGFycikpLm5leHQsIDAgPT09IGkpIHtcbiAgICAgICAgaWYgKE9iamVjdChfaSkgIT09IF9pKSByZXR1cm47XG4gICAgICAgIF9uID0gITE7XG4gICAgICB9IGVsc2UgZm9yICg7ICEoX24gPSAoX3MgPSBfeC5jYWxsKF9pKSkuZG9uZSkgJiYgKF9hcnIucHVzaChfcy52YWx1ZSksIF9hcnIubGVuZ3RoICE9PSBpKTsgX24gPSAhMCkge1xuICAgICAgICA7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZCA9ICEwLCBfZSA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfbiAmJiBudWxsICE9IF9pW1wicmV0dXJuXCJdICYmIChfciA9IF9pW1wicmV0dXJuXCJdKCksIE9iamVjdChfcikgIT09IF9yKSkgcmV0dXJuO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gX2l0ZXJhYmxlVG9BcnJheUxpbWl0LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwiZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlUmVzdCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsInZhciBfdHlwZW9mID0gcmVxdWlyZShcIi4vdHlwZW9mLmpzXCIpW1wiZGVmYXVsdFwiXTtcbmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7XG4gIFwidXNlIHN0cmljdFwiOyAvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovXG4gIG1vZHVsZS5leHBvcnRzID0gX3JlZ2VuZXJhdG9yUnVudGltZSA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7XG4gICAgcmV0dXJuIGV4cG9ydHM7XG4gIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcbiAgdmFyIGV4cG9ydHMgPSB7fSxcbiAgICBPcCA9IE9iamVjdC5wcm90b3R5cGUsXG4gICAgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHksXG4gICAgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgfHwgZnVuY3Rpb24gKG9iaiwga2V5LCBkZXNjKSB7XG4gICAgICBvYmpba2V5XSA9IGRlc2MudmFsdWU7XG4gICAgfSxcbiAgICAkU3ltYm9sID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSxcbiAgICBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsXG4gICAgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiLFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgIHdyaXRhYmxlOiAhMFxuICAgIH0pLCBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIGRlZmluZSh7fSwgXCJcIik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yLFxuICAgICAgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpLFxuICAgICAgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcbiAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZ2VuZXJhdG9yLCBcIl9pbnZva2VcIiwge1xuICAgICAgdmFsdWU6IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dClcbiAgICB9KSwgZ2VuZXJhdG9yO1xuICB9XG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcIm5vcm1hbFwiLFxuICAgICAgICBhcmc6IGZuLmNhbGwob2JqLCBhcmcpXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJ0aHJvd1wiLFxuICAgICAgICBhcmc6IGVyclxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJiBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpICYmIChJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKFwidGhyb3dcIiAhPT0gcmVjb3JkLnR5cGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmcsXG4gICAgICAgICAgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIHJldHVybiB2YWx1ZSAmJiBcIm9iamVjdFwiID09IF90eXBlb2YodmFsdWUpICYmIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikgPyBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSkgOiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh1bndyYXBwZWQpIHtcbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQsIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICB9XG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcbiAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pbnZva2VcIiwge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPSBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtZXRob2QsIGFyZykge1xuICAgICAgaWYgKFwiZXhlY3V0aW5nXCIgPT09IHN0YXRlKSB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgaWYgKFwiY29tcGxldGVkXCIgPT09IHN0YXRlKSB7XG4gICAgICAgIGlmIChcInRocm93XCIgPT09IG1ldGhvZCkgdGhyb3cgYXJnO1xuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuICAgICAgZm9yIChjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZCwgY29udGV4dC5hcmcgPSBhcmc7Oykge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcIm5leHRcIiA9PT0gY29udGV4dC5tZXRob2QpIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztlbHNlIGlmIChcInRocm93XCIgPT09IGNvbnRleHQubWV0aG9kKSB7XG4gICAgICAgICAgaWYgKFwic3VzcGVuZGVkU3RhcnRcIiA9PT0gc3RhdGUpIHRocm93IHN0YXRlID0gXCJjb21wbGV0ZWRcIiwgY29udGV4dC5hcmc7XG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG4gICAgICAgIH0gZWxzZSBcInJldHVyblwiID09PSBjb250ZXh0Lm1ldGhvZCAmJiBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIHN0YXRlID0gXCJleGVjdXRpbmdcIjtcbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAoXCJub3JtYWxcIiA9PT0gcmVjb3JkLnR5cGUpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPSBjb250ZXh0LmRvbmUgPyBcImNvbXBsZXRlZFwiIDogXCJzdXNwZW5kZWRZaWVsZFwiLCByZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUgJiYgKHN0YXRlID0gXCJjb21wbGV0ZWRcIiwgY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZyk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZE5hbWUgPSBjb250ZXh0Lm1ldGhvZCxcbiAgICAgIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZE5hbWVdO1xuICAgIGlmICh1bmRlZmluZWQgPT09IG1ldGhvZCkgcmV0dXJuIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBcInRocm93XCIgPT09IG1ldGhvZE5hbWUgJiYgZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0gJiYgKGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIiwgY29udGV4dC5hcmcgPSB1bmRlZmluZWQsIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpLCBcInRocm93XCIgPT09IGNvbnRleHQubWV0aG9kKSB8fCBcInJldHVyblwiICE9PSBtZXRob2ROYW1lICYmIChjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIiwgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBtZXRob2ROYW1lICsgXCInIG1ldGhvZFwiKSksIENvbnRpbnVlU2VudGluZWw7XG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcbiAgICBpZiAoXCJ0aHJvd1wiID09PSByZWNvcmQudHlwZSkgcmV0dXJuIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiLCBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmcsIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsO1xuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcbiAgICByZXR1cm4gaW5mbyA/IGluZm8uZG9uZSA/IChjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZSwgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYywgXCJyZXR1cm5cIiAhPT0gY29udGV4dC5tZXRob2QgJiYgKGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkKSwgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpIDogaW5mbyA6IChjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIiwgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsKTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHtcbiAgICAgIHRyeUxvYzogbG9jc1swXVxuICAgIH07XG4gICAgMSBpbiBsb2NzICYmIChlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV0pLCAyIGluIGxvY3MgJiYgKGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdLCBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIiwgZGVsZXRlIHJlY29yZC5hcmcsIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7XG4gICAgICB0cnlMb2M6IFwicm9vdFwiXG4gICAgfV0sIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7XG4gIH1cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGl0ZXJhYmxlLm5leHQpIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLFxuICAgICAgICAgIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgZm9yICg7ICsraSA8IGl0ZXJhYmxlLmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkgcmV0dXJuIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXSwgbmV4dC5kb25lID0gITEsIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dC52YWx1ZSA9IHVuZGVmaW5lZCwgbmV4dC5kb25lID0gITAsIG5leHQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBuZXh0OiBkb25lUmVzdWx0XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgZG9uZTogITBcbiAgICB9O1xuICB9XG4gIHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lUHJvcGVydHkoR3AsIFwiY29uc3RydWN0b3JcIiwge1xuICAgIHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICBjb25maWd1cmFibGU6ICEwXG4gIH0pLCBkZWZpbmVQcm9wZXJ0eShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCB7XG4gICAgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uLFxuICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBnZW5GdW4gJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiAhIWN0b3IgJiYgKGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiA9PT0gKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSk7XG4gIH0sIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCksIGdlbkZ1bjtcbiAgfSwgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX19hd2FpdDogYXJnXG4gICAgfTtcbiAgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pLCBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yLCBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIHZvaWQgMCA9PT0gUHJvbWlzZUltcGwgJiYgKFByb21pc2VJbXBsID0gUHJvbWlzZSk7XG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSwgUHJvbWlzZUltcGwpO1xuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICB9KTtcbiAgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKSwgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIiksIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSksIGRlZmluZShHcCwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH0pLCBleHBvcnRzLmtleXMgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgdmFyIG9iamVjdCA9IE9iamVjdCh2YWwpLFxuICAgICAga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cy5yZXZlcnNlKCksIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICBmb3IgKDsga2V5cy5sZW5ndGg7KSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkgcmV0dXJuIG5leHQudmFsdWUgPSBrZXksIG5leHQuZG9uZSA9ICExLCBuZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0O1xuICAgIH07XG4gIH0sIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzLCBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcbiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkge1xuICAgICAgaWYgKHRoaXMucHJldiA9IDAsIHRoaXMubmV4dCA9IDAsIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5hcmcgPSB1bmRlZmluZWQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhc2tpcFRlbXBSZXNldCkgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgIFwidFwiID09PSBuYW1lLmNoYXJBdCgwKSAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpICYmICh0aGlzW25hbWVdID0gdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICB0aGlzLmRvbmUgPSAhMDtcbiAgICAgIHZhciByb290UmVjb3JkID0gdGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247XG4gICAgICBpZiAoXCJ0aHJvd1wiID09PSByb290UmVjb3JkLnR5cGUpIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZXR1cm4gcmVjb3JkLnR5cGUgPSBcInRocm93XCIsIHJlY29yZC5hcmcgPSBleGNlcHRpb24sIGNvbnRleHQubmV4dCA9IGxvYywgY2F1Z2h0ICYmIChjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCksICEhY2F1Z2h0O1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV0sXG4gICAgICAgICAgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgaWYgKFwicm9vdFwiID09PSBlbnRyeS50cnlMb2MpIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIiksXG4gICAgICAgICAgICBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsICEwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNGaW5hbGx5KSB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmaW5hbGx5RW50cnkgJiYgKFwiYnJlYWtcIiA9PT0gdHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHR5cGUpICYmIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYyAmJiAoZmluYWxseUVudHJ5ID0gbnVsbCk7XG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJldHVybiByZWNvcmQudHlwZSA9IHR5cGUsIHJlY29yZC5hcmcgPSBhcmcsIGZpbmFsbHlFbnRyeSA/ICh0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYywgQ29udGludWVTZW50aW5lbCkgOiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUpIHRocm93IHJlY29yZC5hcmc7XG4gICAgICByZXR1cm4gXCJicmVha1wiID09PSByZWNvcmQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHJlY29yZC50eXBlID8gdGhpcy5uZXh0ID0gcmVjb3JkLmFyZyA6IFwicmV0dXJuXCIgPT09IHJlY29yZC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZywgdGhpcy5tZXRob2QgPSBcInJldHVyblwiLCB0aGlzLm5leHQgPSBcImVuZFwiKSA6IFwibm9ybWFsXCIgPT09IHJlY29yZC50eXBlICYmIGFmdGVyTG9jICYmICh0aGlzLm5leHQgPSBhZnRlckxvYyksIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcbiAgICBmaW5pc2g6IGZ1bmN0aW9uIGZpbmlzaChmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHJldHVybiB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShlbnRyeSksIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG4gICAgfSxcbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uIF9jYXRjaCh0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAoXCJ0aHJvd1wiID09PSByZWNvcmQudHlwZSkge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9LCBcIm5leHRcIiA9PT0gdGhpcy5tZXRob2QgJiYgKHRoaXMuYXJnID0gdW5kZWZpbmVkKSwgQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH0sIGV4cG9ydHM7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9yZWdlbmVyYXRvclJ1bnRpbWUsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJ2YXIgYXJyYXlXaXRoSG9sZXMgPSByZXF1aXJlKFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiKTtcbnZhciBpdGVyYWJsZVRvQXJyYXlMaW1pdCA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXCIpO1xudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIik7XG52YXIgbm9uSXRlcmFibGVSZXN0ID0gcmVxdWlyZShcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCIpO1xuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuL3R5cGVvZi5qc1wiKVtcImRlZmF1bHRcIl07XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcbiAgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7XG4gIHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfdG9QcmltaXRpdmUsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuL3R5cGVvZi5qc1wiKVtcImRlZmF1bHRcIl07XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKFwiLi90b1ByaW1pdGl2ZS5qc1wiKTtcbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykge1xuICB2YXIga2V5ID0gdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfdG9Qcm9wZXJ0eUtleSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gKG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHMpLCBfdHlwZW9mKG9iaik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJ2YXIgYXJyYXlMaWtlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIik7XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCIvLyBUT0RPKEJhYmVsIDgpOiBSZW1vdmUgdGhpcyBmaWxlLlxuXG52YXIgcnVudGltZSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3JlZ2VuZXJhdG9yUnVudGltZVwiKSgpO1xubW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuXG4vLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL3BhY2thZ2VzL3J1bnRpbWUvcnVudGltZS5qcyNMNzM2PVxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGdsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgfSBlbHNlIHtcbiAgICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZTsgfTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5mby5kb25lKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBfdHlwZW9mKG9iaik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJpbXBvcnQgX3R5cGVvZiBmcm9tIFwiLi90eXBlb2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkge1xuICBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDtcbiAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlcztcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7XG59IiwiaW1wb3J0IF90eXBlb2YgZnJvbSBcIi4vdHlwZW9mLmpzXCI7XG5pbXBvcnQgdG9QcmltaXRpdmUgZnJvbSBcIi4vdG9QcmltaXRpdmUuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykge1xuICB2YXIga2V5ID0gdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xufSIsImltcG9ydCB0b1Byb3BlcnR5S2V5IGZyb20gXCIuL3RvUHJvcGVydHlLZXkuanNcIjtcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHRvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn0iLCJleHBvcnQgY29uc3QgcmVwbGFjZUFsbCA9IChzdHIsIGZpbmQsIHJlcGxhY2UgPSBcIlwiKSA9PiB7XG4gIGlmICghc3RyKSByZXR1cm4gXCJcIjtcblxuICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKGZpbmQpO1xuICBpZiAoaW5kZXggPCAwKSByZXR1cm4gc3RyO1xuXG4gIHdoaWxlIChzdHIuaW5kZXhPZihmaW5kKSA+PSAwKSB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihmaW5kKTtcbiAgICBzdHIgPSAoaW5kZXggPiAwID8gc3RyLnN1YnN0cmluZygwLCBpbmRleCkgOiBcIlwiKSArIHJlcGxhY2UgKyBzdHIuc3Vic3RyaW5nKGluZGV4ICsgZmluZC5sZW5ndGgpO1xuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn07XG5cbmV4cG9ydCBjb25zdCB0dXJraXNoVG9Mb3dlciA9IChzdHIpID0+IHtcbiAgaWYgKCFzdHIgfHwgdHlwZW9mIHN0ciAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIHN0cjtcbiAgbGV0IHN0cmluZyA9IHN0cjtcbiAgY29uc3QgbGV0dGVycyA9IHtcIsSwXCI6IFwiaVwiLCBcIklcIjogXCLEsVwiLCBcIsWeXCI6IFwixZ9cIiwgXCLEnlwiOiBcIsSfXCIsIFwiw5xcIjogXCLDvFwiLCBcIsOWXCI6IFwiw7ZcIiwgXCLDh1wiOiBcIsOnXCJ9O1xuICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvKChbxLBJxZ7EnsOcw4fDll0pKS9nLCBmdW5jdGlvbihsZXR0ZXIpIHtcbiAgICByZXR1cm4gbGV0dGVyc1tsZXR0ZXJdO1xuICB9KTtcbiAgcmV0dXJuIHN0cmluZy50b0xvd2VyQ2FzZSgpO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCB7cmVwbGFjZUFsbH0gZnJvbSBcIi4vc3RyaW5nVXRpbHNcIjtcbmNvbnN0IGlzU3RhZ2luZyA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcInN0YWdpbmcudml2ZW5zZVwiKSA6IHRydWU7XG5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gXCIwLjAuMzkuNVwiO1xuZXhwb3J0IGNvbnN0IENPT0tJRV9OQU1FID0gXCJfZ2FcIjtcbi8vIFRPRE8gcmV2ZXJ0IHRoZSBmb2xsb3dpbmcgc3RhZ2luZyBlbnYgY2hlY2sgYWZ0ZXIgbW92aW5nIHRvIG5ldyBicmFuY2ggc3RydWN0dXJlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19MT0NBVElPTiA9IFwiaHR0cHM6Ly9ob3N0LWI5Ni5wYWdlcy5kZXYvdHJlYXRtZW50cy5qc29uXCI7XG5leHBvcnQgY29uc3QgVFJFQVRNRU5UX1dFSUdIVFNfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L3dlaWdodHMuanNvblwiO1xuZXhwb3J0IGNvbnN0IFNUWUxFU0hFRVRfTE9DQVRJT04gPSBpc1N0YWdpbmcgPyBcImh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvbmQtc3R5bGVzX3N0YWdpbmcuY3NzXCIgOiBgaHR0cHM6Ly9uZHZpdmVuc2UuZ2xvdi5haS9uZC1zdHlsZXMuY3NzP2lkPSR7cmVwbGFjZUFsbChuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEzKS5yZXBsYWNlKFwiVFwiLCBcIlwiKSwgXCItXCIsIFwiXCIpfWA7XG5leHBvcnQgY29uc3QgRV9SVUxFU19MT0NBVElPTiA9IGlzU3RhZ2luZyA/IFwiaHR0cHM6Ly9uZHZpdmVuc2UuZ2xvdi5haS9lbGlnaWJpbGl0eV9ydWxlc19zdGFnaW5nLmpzb25cIiA6IFwiaHR0cHM6Ly9uZHZpdmVuc2UuZ2xvdi5haS9lbGlnaWJpbGl0eV9ydWxlcy5qc29uXCI7XG5leHBvcnQgY29uc3QgUFJPRFVDVF9JTkZPX0xPQ0FUSU9OID0gXCJodHRwczovL25kdml2ZW5zZS5nbG92LmFpL3NvY2lhbC1wcm9vZi12Mi1zdGFnaW5nLmpzb25cIjtcbmV4cG9ydCBjb25zdCBMT0dfQVBJX1VSTCA9IFwiaHR0cHM6Ly9ldXJvcGUtd2VzdDMtbmV4dGRheS0zNGViMy5jbG91ZGZ1bmN0aW9ucy5uZXQvYXBpL2xvZ1wiO1xuZXhwb3J0IGNvbnN0IExPT0tVUF9BUElfVVJMID0gXCJodHRwczovL2NhdGFsb2ctYXBpLmFkb3JhYWkuY29tXCI7XG5leHBvcnQgY29uc3QgTU9CSUxFX01FRElBX1FVRVJZID0gXCIobWF4LXdpZHRoOiA0NDBweClcIjtcbi8vIENvbnRyb2wgZ3JvdXAgcGVyY2VudGFnZVxuZXhwb3J0IGNvbnN0IFNQTElUX1JBVElPID0gNTA7XG4vLyBTa2lwcGVkIHRyZWF0bWVudCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UX1JBVElPID0gNTA7XG5leHBvcnQgY29uc3QgTE9DQUxfU1RPUkFHRV9UVExfSE9VUlMgPSAyO1xuZXhwb3J0IGNvbnN0IE1BWF9USU1FT1VUX1BFUl9TRVNTSU9OID0gMTtcbmV4cG9ydCBjb25zdCBMSVNUX01PREVfQkVBR0xFX0tFWVMgPSBbXCJwYWdldHlwZVwiLCBcImNhdGVnb3J5XCIsIFwiYWxsdGltZVBMUENhdGVnb3J5TW9kZVwiLCBcInNlc3Npb25QTFBDYXRlZ29yeU1vZGVcIixcbiAgXCJhbGx0aW1lUERQQ2F0ZWdvcnlNb2RlXCIsIFwic2Vzc2lvblBEUENhdGVnb3J5TW9kZVwiLCBcImFsbHRpbWVDYXJ0Q2F0ZWdvcnlNb2RlXCIsIFwic2Vzc2lvbkNhcnRDYXRlZ29yeU1vZGVcIl07XG5leHBvcnQgY29uc3QgSURMRV9USU1FT1VUID0gMTUwMDA7XG5cbmV4cG9ydCBjb25zdCBTRVNTSU9OX1NUT1JBR0VfS0VZUyA9IHtcbiAgU0VTU0lPTl9USU1FU1RBTVA6IFwiQkdfU2Vzc2lvblRpbWVzdGFtcFwiLFxuICBTRVNTSU9OX0hJU1RPUlk6IFwiQkdfU2Vzc2lvbkhpc3RvcnlcIixcbiAgUE9QVVBfRElTUExBWV9GTEFHOiBcIkJHX1BvcHVwRGlzcGxheUZsYWdcIixcbiAgU0tVX0lORk9fQkFTS0VUOiBcIkJHX1Byb2R1Y3RJbmZvQmFza2V0XCIsXG4gIFRJTUVPVVRfQ09VTlQ6IFwiQkdfVGltZW91dENvdW50XCIsXG4gIFNFU1NJT05fUkVGRVJSRVI6IFwiQkdfU2Vzc2lvblJlZmVycmVyXCIsXG4gIE1BVENIRURfVFJFQVRNRU5UUzogXCJHTFZfTWF0Y2hlZFwiLFxufTtcbmV4cG9ydCBjb25zdCBMT0NBTF9TVE9SQUdFX0tFWVMgPSB7XG4gIFRSRUFUTUVOVFM6IFwiQkdfVHJlYXRtZW50c1wiLFxuICBXRUlHSFRTOiBcIkJHX1dlaWdodHNcIixcbiAgRUxJR0lCSUxJVFlfUlVMRVM6IFwiQkdfRV9SdWxlc1wiLFxuICBERUJVR19NT0RFOiBcIkJHX0RlYnVnXCIsXG4gIE9VVF9PRl9TQ09QRTogXCJCR19PdXRPZlNjb3BlXCIsXG4gIElTX0xBQkVMX1NFTlQ6IFwiQkdfTGFiZWxTZW50XCIsXG4gIFVTRVJfSUQ6IFwiQkdfVXNlcklkXzAwXCIsXG4gIERBVEFfQ09MTEVDVElPTl9EQVRBX1NJWkU6IFwiQkdfQ29sbGVjdGlvbkRhdGFTaXplXCIsXG4gIElTX0FETUlOOiBcIkdMVl9Jc0FkbWluXCIsXG59O1xuXG5leHBvcnQgY29uc3QgQ1VTVE9NX1NUT1JBR0VfUFJFRklYID0gXCJCR19TZWdfXCI7XG4iLCJpbXBvcnQge0xPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5jbGFzcyBMb2dnZXIge1xuICBjb25zdHJ1Y3RvcihvcmlnaW4gPSBcIkJlYWdsZSBDbGllbnQgU0RLXCIsIHRlc3RpbmcgPSBmYWxzZSkge1xuICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xuICAgIGlmICh0ZXN0aW5nKSB7XG4gICAgICB0aGlzLkRFQlVHID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ERUJVRyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuREVCVUdfTU9ERSk7XG4gICAgfVxuICB9XG5cbiAgaW5mbyguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUuaW5mbyhgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGxvZyguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoREVCVUcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIGZhaWxlZCguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoIURFQlVHKSByZXR1cm47XG4gICAgbGV0IG1lc3NhZ2VDb25maWcgPSBcIiVjJXMgICBcIjtcblxuICAgIGFyZ3MuZm9yRWFjaCgoYXJndW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgYXJndW1lbnQ7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVkICAgXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlcyAgIFwiO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlbyAgIFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2VDb25maWcsIFwiY29sb3I6IHJlZFwiLCBgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIHN1Y2Nlc3MoLi4uYXJncykge1xuICAgIGNvbnN0IHtERUJVRywgb3JpZ2lufSA9IHRoaXM7XG4gICAgaWYgKCFERUJVRykgcmV0dXJuO1xuICAgIGxldCBtZXNzYWdlQ29uZmlnID0gXCIlYyVzICAgXCI7XG5cbiAgICBhcmdzLmZvckVhY2goKGFyZ3VtZW50KSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gdHlwZW9mIGFyZ3VtZW50O1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlZCAgIFwiO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBtZXNzYWdlQ29uZmlnICs9IFwiJXMgICBcIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBtZXNzYWdlQ29uZmlnICs9IFwiJW8gICBcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlQ29uZmlnLCBcImNvbG9yOiBncmVlblwiLCBgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIHdhcm4oLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLndhcm4oYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cblxuICBlcnJvciguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUuZXJyb3IoYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG4gIGlmIChudWxsICE9IF9pKSB7XG4gICAgdmFyIF9zLFxuICAgICAgX2UsXG4gICAgICBfeCxcbiAgICAgIF9yLFxuICAgICAgX2FyciA9IFtdLFxuICAgICAgX24gPSAhMCxcbiAgICAgIF9kID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkge1xuICAgICAgICBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjtcbiAgICAgICAgX24gPSAhMTtcbiAgICAgIH0gZWxzZSBmb3IgKDsgIShfbiA9IChfcyA9IF94LmNhbGwoX2kpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKSB7XG4gICAgICAgIDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gITAsIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIG51bGwgIT0gX2lbXCJyZXR1cm5cIl0gJiYgKF9yID0gX2lbXCJyZXR1cm5cIl0oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2FycjtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG4gIHJldHVybiBhcnIyO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRoSG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRoSG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXlMaW1pdCBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVSZXN0IGZyb20gXCIuL25vbkl0ZXJhYmxlUmVzdC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aG91dEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVTcHJlYWQgZnJvbSBcIi4vbm9uSXRlcmFibGVTcHJlYWQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufSIsImltcG9ydCB0b1Byb3BlcnR5S2V5IGZyb20gXCIuL3RvUHJvcGVydHlLZXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAga2V5ID0gdG9Qcm9wZXJ0eUtleShrZXkpO1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufSIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCB7YWRkVG9CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgTE9DQUxfU1RPUkFHRV9LRVlTLFxuICBTRVNTSU9OX1NUT1JBR0VfS0VZUyxcbiAgU1RZTEVTSEVFVF9MT0NBVElPTixcbiAgVFJFQVRNRU5UX1dFSUdIVFNfTE9DQVRJT04sXG4gIFRSRUFUTUVOVFNfTE9DQVRJT04sXG4gIEVfUlVMRVNfTE9DQVRJT04sXG4gIFBST0RVQ1RfSU5GT19MT0NBVElPTixcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlVXRpbHNcIik7XG5jb25zdCBtb250aHMgPSB7XG4gIFwib2Nha1wiOiAwLFxuICBcIsWfdWJhdFwiOiAxLFxuICBcIm1hcnRcIjogMixcbiAgXCJuaXNhblwiOiAzLFxuICBcIm1hecSxc1wiOiA0LFxuICBcImhhemlyYW5cIjogNSxcbiAgXCJ0ZW1tdXpcIjogNixcbiAgXCJhxJ91c3Rvc1wiOiA3LFxuICBcImV5bMO8bFwiOiA4LFxuICBcImVraW1cIjogOSxcbiAgXCJrYXPEsW1cIjogMTAsXG4gIFwiYXJhbMSxa1wiOiAxMSxcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVEb2N1bWVudEhpZGUgPSAoKSA9PiB7XG4gIHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJnbG92LWVhc2VcIik7XG4gIHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJnbG92LWhpZGVcIik7XG59O1xuXG5leHBvcnQgY29uc3Qgc3dpdGNoVG9FYXNlT3V0ID0gYXN5bmMgKCkgPT4ge1xuICBpZiAoIXdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImdsb3YtaGlkZVwiKSkgcmV0dXJuO1xuICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgZWwudGV4dENvbnRlbnQgPSBgLmdsb3YtZWFzZSB7XG4gICAgLXdlYmtpdC1hbmltYXRpb246IHNtb290aCAycyBlYXNlLWluO1xuICAgIC1tb3otYW5pbWF0aW9uOiBzbW9vdGggMnMgZWFzZS1pbjtcbiAgICAtby1hbmltYXRpb246IHNtb290aCAycyBlYXNlLWluO1xuICAgIC1tcy1hbmltYXRpb246IHNtb290aCAycyBlYXNlLWluO1xuICAgIGFuaW1hdGlvbjogc21vb3RoIDJzIGVhc2UtaW47XG4gIH1cbiAgXG4gIEBrZXlmcmFtZXMgc21vb3RoIHtcbiAgICAwJSB7IG9wYWNpdHk6IDA7fVxuICAgIDI1JSB7IG9wYWNpdHk6IDAuMjU7fVxuICAgIDUwJSB7IG9wYWNpdHk6IDAuNTt9XG4gICAgNzUlIHsgb3BhY2l0eTogMC43NTt9XG4gICAgMTAwJSB7IG9wYWNpdHk6IDE7fVxuICB9XG4gIEAtd2Via2l0LWtleWZyYW1lcyBzbW9vdGgge1xuICAgIDAlIHsgb3BhY2l0eTogMDt9XG4gICAgMjUlIHsgb3BhY2l0eTogMC4yNTt9XG4gICAgNTAlIHsgb3BhY2l0eTogMC41O31cbiAgICA3NSUgeyBvcGFjaXR5OiAwLjc1O31cbiAgICAxMDAlIHsgb3BhY2l0eTogMTt9XG4gIH1gO1xuICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5wcmVwZW5kKGVsKTtcbiAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImdsb3YtZWFzZVwiKTtcbiAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImdsb3YtaGlkZVwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRyZWF0bWVudHMgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgbG9nZ2VyLmxvZyhcIkZldGNoaW5nIHRyZWF0bWVudHNcIik7XG4gICAgY29uc3QgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoUGx1cyhUUkVBVE1FTlRTX0xPQ0FUSU9OKTtcbiAgICBpZiAoIXRyZWF0bWVudHMpIHRocm93IG5ldyBFcnJvcigpO1xuICAgIGNvbnN0IGpzb25UcmVhdG1lbnQgPSBhd2FpdCB0cmVhdG1lbnRzLmpzb24oKTtcbiAgICByZXR1cm4ganNvblRyZWF0bWVudDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBmZXRjaCB0cmVhdG1lbnRzXCIsIGVyci5tZXNzYWdlKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoVHJlYXRtZW50V2VpZ2h0cyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgdHJlYXRtZW50IHdlaWdodHNcIik7XG4gICAgY29uc3QgdHJlYXRtZW50V2VpZ2h0cyA9IGF3YWl0IGZldGNoUGx1cyhUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTik7XG4gICAgaWYgKCF0cmVhdG1lbnRXZWlnaHRzKSB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICBjb25zdCBqc29uVHJlYXRtZW50V2VpZ2h0cyA9IGF3YWl0IHRyZWF0bWVudFdlaWdodHMuanNvbigpO1xuICAgIHJldHVybiBqc29uVHJlYXRtZW50V2VpZ2h0cztcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBmZXRjaCB0cmVhdG1lbnQgd2VpZ2h0c1wiLCBlcnIubWVzc2FnZSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaEVsaWdpYmlsaXR5UnVsZXMgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgbG9nZ2VyLmxvZyhcIkZldGNoaW5nIGVsaWdpYmlsaXR5IHJ1bGVzXCIpO1xuICAgIGNvbnN0IGVsaWdpYmlsaXR5UnVsZXMgPSBhd2FpdCBmZXRjaFBsdXMoRV9SVUxFU19MT0NBVElPTik7XG4gICAgaWYgKCFlbGlnaWJpbGl0eVJ1bGVzKSB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICBjb25zdCBqc29uRWxpZ2liaWxpdHlSdWxlcyA9IGF3YWl0IGVsaWdpYmlsaXR5UnVsZXMuanNvbigpO1xuICAgIHJldHVybiBqc29uRWxpZ2liaWxpdHlSdWxlcztcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBmZXRjaCBlbGlnaWJpbGl0eSBydWxlc1wiLCBlcnIubWVzc2FnZSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFByb2R1Y3RJbmZvID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGxvZ2dlci5sb2coXCJGZXRjaGluZyBwcm9kdWN0IGluZm9cIik7XG4gICAgY29uc3QgcHJvZHVjdEluZm8gPSBhd2FpdCBmZXRjaFBsdXMoUFJPRFVDVF9JTkZPX0xPQ0FUSU9OKTtcbiAgICBpZiAoIXByb2R1Y3RJbmZvKSB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICBjb25zdCBwcm9kdWN0SW5mb0pzb24gPSBhd2FpdCBwcm9kdWN0SW5mby5qc29uKCk7XG4gICAgcmV0dXJuIHByb2R1Y3RJbmZvSnNvbjtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBmZXRjaCBwcm9kdWN0IGluZm9cIiwgZXJyLm1lc3NhZ2UpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCB0aW1lb3V0ID0gKHRpbWUpID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIHRpbWUpO1xuICByZXR1cm4gY29udHJvbGxlcjtcbn07XG5cbmNvbnN0IGZldGNoUGx1cyA9ICh1cmwsIG9wdGlvbnMgPSB7fSwgcmV0cmllcyA9IDUpID0+XG4gIGZldGNoKHVybCwgey4uLm9wdGlvbnMsIHNpZ25hbDogdGltZW91dCg1MDAwKS5zaWduYWx9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBpZiAocmV0cmllcyA+IDApIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hQbHVzKHVybCwgb3B0aW9ucywgcmV0cmllcyAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuc3RhdHVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGlmIChyZXRyaWVzID4gMCkge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJGZXRjaCB0aW1lZCBvdXQgUmV0cnlpbmcuLi46IFwiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hQbHVzKHVybCwgb3B0aW9ucywgcmV0cmllcyAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJGZXRjaCBmYWlsZWQ6IFwiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RDb29raWVJZGVudGlmaWVyID0gKGNvb2tpZVN0cmluZywgY29va2llTmFtZSkgPT4ge1xuICBpZiAoIWNvb2tpZVN0cmluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgcGFyc2VkID0gY29va2llU3RyaW5nXG4gICAgICAuc3BsaXQoXCI7XCIpXG4gICAgICAubWFwKCh2KSA9PiB2LnNwbGl0KFwiPVwiKSlcbiAgICAgIC5yZWR1Y2UoKGFjYywgdikgPT4ge1xuICAgICAgICBpZiAodlswXSAmJiB2WzFdKSB7XG4gICAgICAgICAgYWNjW2RlY29kZVVSSUNvbXBvbmVudCh2WzBdLnRyaW0oKSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZbMV0udHJpbSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuXG4gIGxldCBpZGVudGlmaWVyID0gcGFyc2VkW2Nvb2tpZU5hbWVdO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoY29va2llTmFtZSA9PT0gXCJfZ2FcIikge1xuICAgIC8vIGV4dHJhY3QgdW5pcXVlIGlkZW50aWZpZXIgZnJvbSBHQSBjb29raWVcbiAgICBjb25zdCBpZGVudGlmaWVySW5kZXggPSAyO1xuICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyLnNwbGl0KFwiLlwiKVtpZGVudGlmaWVySW5kZXhdO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGRldGVybWluZVBjdCA9IGFzeW5jIChpZGVudGlmaWVyKSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaGFzaCA9IGdldFVuc2VjdXJlSGFzaChpZGVudGlmaWVyKTtcbiAgICBpZiAoaGFzaCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBjdCA9IGhhc2ggJSAxMDA7XG4gICAgaWYgKHBjdCA+PSAwICYmIHBjdCA8IDEwMCkge1xuICAgICAgcmV0dXJuIHBjdDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIuZXJyb3IoZSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBleGl0U2Nyb2xsTGlzdGVuZXIgPSAoY2FsbEJhY2spID0+IHtcbiAgY29uc3QgbG9vcCA9ICgpID0+IHtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgaWYgKGxhc3RTY3JvbGxUb3AgLSA0MDAgPiBzY3JvbGxUb3ApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoZXhpdFNjcm9sbEludGVydmFsKTtcbiAgICAgIGNhbGxCYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgfVxuICB9O1xuXG4gIGxldCBsYXN0U2Nyb2xsVG9wID0gd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICBjb25zdCBleGl0U2Nyb2xsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChsb29wLCA1MDApO1xufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGFwcGx5IHRyZWF0bWVudHMgdG8gdGhlIHBhZ2Ugb24gc3BlY2lmaWMgbWVkaWEgdHlwZS5cbiAqIEBwYXJhbSB7TWVkaWFRdWVyeUxpc3R9IG1lZGlhUXVlcnlDb25kaXRpb24gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA1MDBweClcIilcbiAqIEBwYXJhbSB7RE9NTm9kZUxpc3QgfSBlbGVtZW50cyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2LnByb2R1Y3RfaW5mb1wiKVxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlQ2hhbmdlc01hcCB7IFwibWFyZ2luLXRvcFwiIDogXCIxMHJlbVwifVxuICogQHJldHVybnNcbiAqL1xuXG5leHBvcnQgY29uc3Qgc3R5bGVBcHBsaWNhdG9yID0gKGVsZW1lbnRzLCBzdHlsZUNoYW5nZXNNYXApID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHN0eWxlIGNoYW5nZXNcIiwgc3R5bGVDaGFuZ2VzTWFwLCBcInRvIGVsZW1lbnRzXCIsIGVsZW1lbnRzKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdHlsZUNoYW5nZXNNYXApKSB7XG4gICAgICBlbGVtZW50LnN0eWxlW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpbmplY3RTdHlsZVNoZWV0ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBzdHlsZVNoZWV0ID0gd2luZG93LnRvcC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgc3R5bGVTaGVldC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgc3R5bGVTaGVldC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICBzdHlsZVNoZWV0LmhyZWYgPSBTVFlMRVNIRUVUX0xPQ0FUSU9OO1xuICB3aW5kb3cudG9wLmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVTaGVldCk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJlcGFyZUFjdGlvbnMgPSBhc3luYyAoaWRlbnRpZmllciwgYWN0aW9uc1RvUHJlcGFyZSwgYnVzaW5lc3NSdWxlSWQsIGRlYnVnTW9kZSkgPT4ge1xuICBjb25zdCBhY3Rpb25zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhY3Rpb25zVG9QcmVwYXJlKSk7XG4gIGxldCB2YXJpYW50ID0gbnVsbDtcbiAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgIGNvbnN0IHtidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMsIHZhcmlhbnRzfSA9IGFjdGlvbjtcbiAgICBpZiAoIWJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucyAmJiAhdmFyaWFudHMpIGNvbnRpbnVlO1xuICAgIGlmIChidXNpbmVzc1J1bGVJZCAhPT0gbnVsbCAmJiBidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgIGZvciAoY29uc3QgYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbiBvZiBidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgaWYgKGJ1c2luZXNzVHJhbnNmb3JtYXRpb24uaWQgPT09IGJ1c2luZXNzUnVsZUlkKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gXCJpZFwiKSB7XG4gICAgICAgICAgICAgIGFjdGlvbltrZXldID0gYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbltrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodmFyaWFudHMpIHtcbiAgICAgIGZvciAoY29uc3QgW2luZGV4LCB2YXJpYW50S2V5XSBvZiBPYmplY3Qua2V5cyh2YXJpYW50cykuZW50cmllcygpKSB7XG4gICAgICAgIGNvbnN0IHJhbmRvbVBjdCA9IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgdmFyaWFudEtleSk7XG4gICAgICAgIGlmIChkZWJ1Z01vZGUgJiYgIWFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQpIHtcbiAgICAgICAgICBhY3Rpb24udmFyaWFudHNbdmFyaWFudEtleV0ud2VpZ2h0ID0gTWF0aC5mbG9vcigxMDAgLyBPYmplY3Qua2V5cyh2YXJpYW50cykubGVuZ3RoKSAqIChpbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5kb21QY3QgPCBhY3Rpb24udmFyaWFudHNbdmFyaWFudEtleV0ud2VpZ2h0KSB7XG4gICAgICAgICAgdmFyaWFudCA9IHZhcmlhbnRLZXk7XG4gICAgICAgICAgaWYgKGJ1c2luZXNzUnVsZUlkICE9PSBudWxsICYmIHZhcmlhbnRzW3ZhcmlhbnRLZXldLmJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBidXNpbmVzc1RyYW5zZm9ybWF0aW9uIG9mIHZhcmlhbnRzW3ZhcmlhbnRLZXldLmJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICAgICAgICBpZiAoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbi5pZCA9PSBidXNpbmVzc1J1bGVJZCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGJ1c2luZXNzVHJhbnNmb3JtYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcImlkXCIpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBidXNpbmVzc1RyYW5zZm9ybWF0aW9uW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhcmlhbnRzW3ZhcmlhbnRLZXldKSB7XG4gICAgICAgICAgICAgIGlmIChrZXkgIT09IFwid2VpZ2h0XCIgJiYga2V5ICE9PSBcImJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9uc1wiKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSB2YXJpYW50c1t2YXJpYW50S2V5XVtrZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBbYWN0aW9ucywgdmFyaWFudF07XG59O1xuXG5leHBvcnQgY29uc3QgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMgPSAoKSA9PiB7XG4gIGNvbnN0IHtQT1BVUF9ESVNQTEFZX0ZMQUcsIFNFU1NJT05fVElNRVNUQU1QLCBTRVNTSU9OX0hJU1RPUll9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG5cbiAgY29uc3QgcG9wdXBEaXNwbGF5RmxhZyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKTtcbiAgY29uc3Qgc2Vzc2lvblRpbWVzdGFtcCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVApO1xuICBjb25zdCBzZXNzaW9uSGlzdG9yeSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9ISVNUT1JZKTtcblxuICBpZiAocG9wdXBEaXNwbGF5RmxhZyA9PT0gbnVsbCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHLCAwKTtcbiAgfVxuICBpZiAoIXNlc3Npb25UaW1lc3RhbXApIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QLCBEYXRlLm5vdygpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25IaXN0b3J5KSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0hJU1RPUlksIFt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVdKTtcbiAgfSBlbHNlIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgc2Vzc2lvbkhpc3RvcnldKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbkNoZWNrZXIgPSAocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGlmIChjb25kaXRpb24gPT09IFwibm90RXhpc3RcIikge1xuICAgIGlmICghcnVuVGltZVZhbHVlKSB7XG4gICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAocnVuVGltZVZhbHVlID09PSBudWxsIHx8XG4gICAgcnVuVGltZVZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICBjb25kaXRpb24gPT09IG51bGwgfHxcbiAgICBjb25kaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiBydW5UaW1lVmFsdWUgb3IgY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzd2l0Y2ggKGNvbmRpdGlvbikge1xuICAgIGNhc2UgXCJleGlzdFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJpbmNsdWRlc1wiOlxuICAgIGNhc2UgXCJjb250YWluc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90SW5jbHVkZXNcIjpcbiAgICBjYXNlIFwibm90Q29udGFpbnNcIjpcbiAgICAgIGlmICghcnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGNvbnRhaW5zIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJlcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGVxdWFsIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RFcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA8IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDw9IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3Mgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJiZXR3ZWVuXCI6IHtcbiAgICAgIGxldCBbbWluLCBtYXhdID0gdmFsdWUuc3BsaXQoXCIsXCIpO1xuICAgICAgbWluID0gcGFyc2VJbnQobWluKTtcbiAgICAgIG1heCA9IHBhcnNlSW50KG1heCk7XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IG1pbiAmJiBydW5UaW1lVmFsdWUgPD0gbWF4KSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNhc2UgXCJyZWdleFwiOiB7XG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAodmFsdWUsIFwiaVwiKTtcbiAgICAgIHJldHVybiByZWdleC50ZXN0KHJ1blRpbWVWYWx1ZSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkIFwiLCBjb25kaXRpb24pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGVidWdNb2RlID0gKG9vc1JlYXNvbikgPT4ge1xuICBjb25zdCB7REVCVUdfTU9ERSwgT1VUX09GX1NDT1BFfSA9IExPQ0FMX1NUT1JBR0VfS0VZUztcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz1cIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oT1VUX09GX1NDT1BFLCBvb3NSZWFzb24pO1xuICB9XG5cbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MVwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShERUJVR19NT0RFLCAxKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCBcIm9uXCIpO1xuICAgIHJldHVybiAxO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTJcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oREVCVUdfTU9ERSwgMik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvblwiKTtcbiAgICByZXR1cm4gMjtcbiAgfVxuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0wXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKERFQlVHX01PREUpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIFwib2ZmXCIpO1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IGN1cnJlbnQgPSBwYXJzZUludCh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oREVCVUdfTU9ERSkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCAoY3VycmVudCA/IFwib25cIiA6IFwib2ZmXCIpKTtcbiAgcmV0dXJuIChjdXJyZW50IHx8IDApO1xufTtcblxuLy8gZ2V0IEdBIGNsaWVudCBpZCB1c2luZyBnYS5nZXRBbGwoKVxuZXhwb3J0IGNvbnN0IGdldEdhQ2xpZW50SWQgPSAoKSA9PiB7XG4gIGNvbnN0IGdhID0gd2luZG93LmdhO1xuICAvLyBpZiBnYSBhbmQgZ2EuZ2V0QWxsKCkgaXMgbm90IGRlZmluZWQsIHJldHVybiBudWxsXG4gIGlmIChnYSAmJiBnYS5nZXRBbGwpIHtcbiAgICBjb25zdCB0cmFja2VycyA9IGdhLmdldEFsbCgpO1xuICAgIGlmICh0cmFja2VycyAmJiB0cmFja2Vycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0cmFja2Vyc1swXS5nZXQoXCJjbGllbnRJZFwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBnZXQgZGV0ZXJtaW5pc3RpYyBudW1lcmljIGhhc2ggZnJvbSBzdHJpbmcgdGhhdCBjb25hdGlucyBvbmx5IG51bWJlcnNcbmV4cG9ydCBjb25zdCBnZXRVbnNlY3VyZUhhc2ggPSAoc3RyKSA9PiB7XG4gIGxldCBoYXNoID0gMDtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaGFyO1xuICAgIGhhc2ggPSBoYXNoICYgaGFzaDtcbiAgfVxuICAvLyByZXR1cm4gYWJzb2x1dGUgdmFsdWVcbiAgcmV0dXJuIE1hdGguYWJzKGhhc2gpO1xufTtcblxuLy8gZ2VuZXJhdGUgYSAzMi1iaXQgcmFuZG9tIGludGVnZXJcbmV4cG9ydCBjb25zdCBnZXRSYW5kb21JbnQgPSAoKSA9PiB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMCk7XG59O1xuXG4vLyBnZXQgY3VycmVudCB1bml4IGVwb2NoIHRpbWUgaW4gc2Vjb25kc1xuZXhwb3J0IGNvbnN0IGdldFVuaXhUaW1lID0gKCkgPT4ge1xuICByZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG59O1xuXG5cbmV4cG9ydCBjb25zdCBnZXRJZGVudGlmaWVyID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lEKTtcbiAgICAgIGlmIChpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJnZXRJZGVudGlmaWVyOiBnb3QgaWRlbnRpZmllciBmcm9tIGxvY2FsIHN0b3JhZ2VcIiwgaWQpO1xuICAgICAgICByZXNvbHZlKGlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWQgPSBnZXRHYUNsaWVudElkKCk7XG4gICAgICBpZiAoaWQgIT09IG51bGwgJiYgaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiZ2V0SWRlbnRpZmllcjogZ290IGlkZW50aWZpZXIgZnJvbSBnYSBpbiBmaXJzdCBhdHRlbXB0XCIsIGlkKTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lELCBpZCk7XG4gICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBleHRyYWN0SWRlbnRpZmllckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIGlkID0gZ2V0R2FDbGllbnRJZCgpO1xuICAgICAgICAgIGlmIChpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiZ2V0SWRlbnRpZmllcjogZ290IGlkZW50aWZpZXIgZnJvbSBnYVwiLCBpZCk7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lELCBpZCk7XG4gICAgICAgICAgICByZXNvbHZlKGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChleHRyYWN0SWRlbnRpZmllckludGVydmFsKTtcbiAgICAgICAgICBpZiAoaWQgPT09IG51bGwgfHwgaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCByZWFkIEdBIGNsaWVudCBpZFwiKTtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAyMDAwKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiRXJyb3IgaW4gZ2V0SWRlbnRpZmllclwiLCBlKTtcbiAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxheSA9IChtcykgPT4gbmV3IFByb21pc2UoKHJlcykgPT4gc2V0VGltZW91dChyZXMsIG1zKSk7XG5cbmV4cG9ydCBjb25zdCBmb3JtYXREZWxpdmVyeURhdGUgPSAoZGF0ZSkgPT4ge1xuICBpZiAoIWRhdGUgfHwgdHlwZW9mIGRhdGUgIT09IFwic3RyaW5nXCIpIHJldHVybiBkYXRlO1xuXG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBzdGFydE1vbnRoSW5kZXg6IHVuZGVmaW5lZCxcbiAgICBlbmRNb250aEluZGV4OiB1bmRlZmluZWQsXG4gICAgc3RhcnREYXk6IHVuZGVmaW5lZCxcbiAgICBlbmREYXk6IHVuZGVmaW5lZCxcbiAgfTtcblxuICBsZXQgbWF0Y2ggPSBkYXRlLm1hdGNoKFwiKFtcXFxcZF0rKS0oW1xcXFxkXSspXFxcXHM/KFtcXFxcd8Sxw7zEn8Wfw7bDp8Sww5bDh8Sew5zFnl0rKVwiKTtcbiAgaWYgKG1hdGNoICYmIG1hdGNoLmxlbmd0aCA9PT0gNCkge1xuICAgIHJlc3VsdC5zdGFydERheSA9IHBhcnNlSW50KG1hdGNoWzFdKTtcbiAgICByZXN1bHQuZW5kRGF5ID0gcGFyc2VJbnQobWF0Y2hbMl0pO1xuICAgIHJlc3VsdC5zdGFydE1vbnRoSW5kZXggPSBtb250aHNbbWF0Y2hbM10udG9Mb3dlckNhc2UoKV07XG4gICAgcmVzdWx0LmVuZE1vbnRoSW5kZXggPSByZXN1bHQuc3RhcnRNb250aEluZGV4O1xuICB9IGVsc2Uge1xuICAgIG1hdGNoID0gZGF0ZS5tYXRjaChcIihbXFxcXGRdKylcXFxccysoW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnMWeXSspLShbXFxcXGRdKylcXFxccysoW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnMWeXSspXCIpO1xuICAgIGlmICghbWF0Y2ggfHwgbWF0Y2gubGVuZ3RoICE9PSA1KSByZXR1cm4gZGF0ZTtcblxuICAgIHJlc3VsdC5zdGFydERheSA9IHBhcnNlSW50KG1hdGNoWzFdKTtcbiAgICByZXN1bHQuc3RhcnRNb250aEluZGV4ID0gbW9udGhzW21hdGNoWzJdLnRvTG93ZXJDYXNlKCldO1xuICAgIHJlc3VsdC5lbmREYXkgPSBwYXJzZUludChtYXRjaFszXSk7XG4gICAgcmVzdWx0LmVuZE1vbnRoSW5kZXggPSBtb250aHNbbWF0Y2hbNF0udG9Mb3dlckNhc2UoKV07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcblxuICAgIGlmICghcmVzdWx0LnN0YXJ0TW9udGhJbmRleCB8fCAhcmVzdWx0LmVuZE1vbnRoSW5kZXgpIHJldHVybiBkYXRlO1xuXG4gICAgY29uc3Qgc3RhcnRZZWFyID0gcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA+PSB0b2RheS5nZXRNb250aCgpID8gdG9kYXkuZ2V0RnVsbFllYXIoKSA6IHRvZGF5LmdldEZ1bGxZZWFyKCkgKyAxO1xuICAgIGNvbnN0IGVuZFllYXIgPSByZXN1bHQuZW5kTW9udGhJbmRleCA+PSB0b2RheS5nZXRNb250aCgpID8gdG9kYXkuZ2V0RnVsbFllYXIoKSA6IHRvZGF5LmdldEZ1bGxZZWFyKCkgKyAxO1xuXG4gICAgY29uc3QgZXN0aW1hdGVkU3RhcnQgPSBuZXcgRGF0ZShzdGFydFllYXIsIHJlc3VsdC5zdGFydE1vbnRoSW5kZXgsIHJlc3VsdC5zdGFydERheSk7XG4gICAgY29uc3QgZXN0aW1hdGVkRW5kID0gbmV3IERhdGUoZW5kWWVhciwgcmVzdWx0LmVuZE1vbnRoSW5kZXgsIHJlc3VsdC5lbmREYXkpO1xuXG5cbiAgICBjb25zdCBzdGFydERpZmZPdmVyRGF5cyA9IE1hdGguY2VpbChNYXRoLmFicyhlc3RpbWF0ZWRTdGFydCAtIHRvZGF5KSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG4gICAgY29uc3QgZW5kRGlmZk92ZXJEYXlzID0gTWF0aC5jZWlsKE1hdGguYWJzKGVzdGltYXRlZEVuZCAtIHRvZGF5KSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG5cbiAgICBjb25zdCBzdGFydERpZmZPdmVyV2Vla3MgPSBzdGFydERpZmZPdmVyRGF5cyA8IDcgPyAwIDogTWF0aC5jZWlsKHN0YXJ0RGlmZk92ZXJEYXlzIC8gNyk7XG4gICAgY29uc3QgZW5kRGlmZk92ZXJXZWVrcyA9IGVuZERpZmZPdmVyRGF5cyA8IDcgPyAwIDogTWF0aC5jZWlsKGVuZERpZmZPdmVyRGF5cyAvIDcpO1xuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gMCAmJiBlbmREaWZmT3ZlcldlZWtzID09PSAwKSB7XG4gICAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlckRheXN9IC0gJHtlbmREaWZmT3ZlckRheXN9IEfDvG5gO1xuICAgIH1cblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IDAgJiYgZW5kRGlmZk92ZXJXZWVrcyA+PSAxKSB7XG4gICAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlckRheXN9IEfDvG4gLSAke2VuZERpZmZPdmVyV2Vla3N9IEhhZnRhYDtcbiAgICB9XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSBlbmREaWZmT3ZlcldlZWtzKSB7XG4gICAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlcldlZWtzfSBIYWZ0YWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJXZWVrc30gLSAke2VuZERpZmZPdmVyV2Vla3N9IEhhZnRhYDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpZGxlVGltZXIgPSBhc3luYyAodGltZU91dCwgY2FsbEJhY2spID0+IHtcbiAgbGV0IGlkbGVUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsQmFjaywgdGltZU91dCk7XG5cbiAgd2luZG93LnRvcC5kb2N1bWVudC5vbnRvdWNoc3RhcnQgPSByZXNldFRpbWVyO1xuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZXIoKSB7XG4gICAgY2xlYXJUaW1lb3V0KGlkbGVUaW1lb3V0KTtcbiAgICBpZGxlVGltZW91dCA9IHNldFRpbWVvdXQoY2FsbEJhY2ssIHRpbWVPdXQpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QnJvd3NlclR5cGUgPSAoKSA9PiB7XG4gIGNvbnN0IHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgaWYgKHVzZXJBZ2VudC5tYXRjaCgvY2hyb21lfGNocm9taXVtfGNyaW9zL2kpKSB7XG4gICAgcmV0dXJuIFwiY2hyb21lXCI7XG4gIH1cblxuICBpZiAodXNlckFnZW50Lm1hdGNoKC9maXJlZm94fGZ4aW9zL2kpKSB7XG4gICAgcmV0dXJuIFwiZmlyZWZveFwiO1xuICB9XG5cbiAgaWYgKHVzZXJBZ2VudC5tYXRjaCgvc2FmYXJpL2kpKSB7XG4gICAgcmV0dXJuIFwic2FmYXJpXCI7XG4gIH1cblxuICBpZiAodXNlckFnZW50Lm1hdGNoKC9vcHJcXC8vaSkpIHtcbiAgICByZXR1cm4gXCJvcGVyYVwiO1xuICB9XG5cbiAgaWYgKHVzZXJBZ2VudC5tYXRjaCgvZWRnL2kpKSB7XG4gICAgcmV0dXJuIFwiZWRnZVwiO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgaXNPd25NdXRhdGlvbiA9IChtdXRhdGlvbkxpc3QpID0+IHtcbiAgY29uc3Qgbm9kZXMgPSBbLi4uQXJyYXkuZnJvbShtdXRhdGlvbkxpc3RbMF0uYWRkZWROb2RlcyksIC4uLkFycmF5LmZyb20obXV0YXRpb25MaXN0WzBdLnJlbW92ZWROb2RlcyldO1xuICByZXR1cm4gbm9kZXMuc29tZSgobikgPT4ge1xuICAgIHJldHVybiBuLnRhZ05hbWUgJiYgKG4uaWQ/LmluY2x1ZGVzKFwiYm4tXCIpIHx8IEFycmF5LmZyb20obi5jbGFzc0xpc3QpLnNvbWUoKGMpID0+IGMuaW5jbHVkZXMoXCJibi1cIikgfHwgYy5pbmNsdWRlcyhcIm5kLVwiKSkpO1xuICB9KTtcbn07XG4iLCJjb25zdCBjb25maWcgPSB7XG4gIGRiTmFtZTogXCJiZWFnbGVcIixcbiAgdmVyc2lvbjogMSxcbiAgbWFpbnRlbmFuY2VPcGVyYXRpb25Db3VudDogMTAwMCwgLy8gYWZmZWN0cyB2ZXJzaW9uXG4gIHN0b3JlOiB7XG4gICAgbmFtZTogXCJkYXRhXCIsXG4gICAgaW5kZXhlczogW3tcbiAgICAgIG5hbWU6IFwiaXhfZGF0YU5hbWVcIixcbiAgICAgIGZpZWxkczogW1wiZGF0YV9uYW1lXCJdLFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiaXhfZGF0YU5hbWVfc2Vzc2lvblwiLFxuICAgICAgZmllbGRzOiBbXCJkYXRhX25hbWVcIiwgXCJzZXNzaW9uX2lkXCJdLFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiaXhfZGF0YU5hbWVfZGF0YVZhbHVlXCIsXG4gICAgICBmaWVsZHM6IFtcImRhdGFfbmFtZVwiLCBcImRhdGFfdmFsdWVcIl0sXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJpeF9kYXRhTmFtZV9kYXRhVmFsdWVfc2Vzc2lvblwiLFxuICAgICAgZmllbGRzOiBbXCJkYXRhX25hbWVcIiwgXCJkYXRhX3ZhbHVlXCIsIFwic2Vzc2lvbl9pZFwiXSxcbiAgICB9XSxcbiAgICBvcHRpb25zOiB7a2V5UGF0aDogXCJpZFwiLCBhdXRvSW5jcmVtZW50OiB0cnVlfSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsImltcG9ydCBjb25maWcgZnJvbSBcIi4vc3RvcmUuY29uZmlnXCI7XG5pbXBvcnQge2dldEJyb3dzZXJUeXBlfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlRGF0YUNvbGxlY3Rpb25XcmFwcGVyXCIpO1xuY29uc3QgX3dpbmRvdyA9IHtcbiAgYWxsdGltZTogXCJhbGx0aW1lXCIsIHNlc3Npb246IFwic2Vzc2lvblwiLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmVhZ2xlRGF0YUNvbGxlY3Rpb25XcmFwcGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbmRleGVkREIgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZWQgZGIgd2l0aDogXCIsIGVyci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICBpbml0KCkge1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgaW5kZXhlZERCXCIpO1xuICAgIC8vIFRPRE8sIHVuY29tbWVudCBuZXh0IGxpbmUgb25jZSBleGlzdGluZyBzdGFsZSBkYnMgYXJlIHB1cmdlZFxuICAgIC8vIGNvbnN0IG9wZW5SZXF1ZXN0ID0gd2luZG93LnRvcC5pbmRleGVkREI/Lm9wZW4oY29uZmlnLmRiTmFtZSwgY29uZmlnLnZlcnNpb24pO1xuICAgIGNvbnN0IG9wZW5SZXF1ZXN0ID0gd2luZG93LnRvcC5pbmRleGVkREI/Lm9wZW4oY29uZmlnLmRiTmFtZSk7XG4gICAgaWYgKCFvcGVuUmVxdWVzdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW5kZXhlZGRiIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfVxuXG4gICAgb3BlblJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2ZW50Lm9sZFZlcnNpb24pIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIFRPRE8gdXBncmFkZSBleGlzdGluZyBkYiBpbnN0ZWFkIG9mIGRlbGV0ZSBhbmQgY3JlYXRlIGZyb20gc2NyYXRjaFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvcGVuUmVxdWVzdC5yZXN1bHQuZGVsZXRlT2JqZWN0U3RvcmUoY29uZmlnLnN0b3JlLm5hbWUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBkZWxldGUgb3V0ZGF0ZWQgZGF0YWJhc2VcIiwgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gb3BlblJlcXVlc3QucmVzdWx0LmNyZWF0ZU9iamVjdFN0b3JlKGNvbmZpZy5zdG9yZS5uYW1lLCBjb25maWcuc3RvcmUub3B0aW9ucyk7XG4gICAgICAgIGlmIChjb25maWcuc3RvcmUuaW5kZXhlcz8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAoY29uc3QgaWR4IG9mIGNvbmZpZy5zdG9yZS5pbmRleGVzKSB7XG4gICAgICAgICAgICBzdG9yZS5jcmVhdGVJbmRleChpZHgubmFtZSwgaWR4LmZpZWxkcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBjcmVhdGUgb2JqZWN0IHN0b3JlIG9uIGRhdGFiYXNlXCIsIGVyci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgb3BlblJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBiZWFnbGUgaW5kZXhlZCBEQlwiLCBvcGVuUmVxdWVzdC5lcnJvcik7XG4gICAgfTtcblxuICAgIG9wZW5SZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGRiID0gb3BlblJlcXVlc3QucmVzdWx0O1xuICAgICAgaWYgKGRiLnZlcnNpb24gIT09IDEpIHtcbiAgICAgICAgLy8gVE9ETywgcmVtb3ZlIGRlbGV0ZSByZXF1ZXN0IG9uY2UgZXhpc3Rpbmcgc3RhbGUgZGJzIGFyZSBwdXJnZWRcbiAgICAgICAgY29uc3QgZGVsZXRlUmVxdWVzdCA9IHdpbmRvdy5pbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoY29uZmlnLmRiTmFtZSk7XG4gICAgICAgIGRlbGV0ZVJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHRoaXMuaW5kZXhlZERCID0gZGI7XG4gICAgfTtcbiAgfVxuXG4gIGdldENvbm5lY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pbmRleGVkREIpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDI1KTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuaW5kZXhlZERCKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkluZGV4ZWREQiBub3QgaW5pdGlhbGl6ZWQgd2l0aGluIHRoZSBhbGxvdHRlZCB0aW1lXCIpKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwMCk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBpbml0VHJhbnNhY3Rpb24ocmVhZHdyaXRlID0gZmFsc2UpIHtcbiAgICBhd2FpdCB0aGlzLmdldENvbm5lY3Rpb24oKTtcbiAgICBjb25zdCB0eCA9IHRoaXMuaW5kZXhlZERCLnRyYW5zYWN0aW9uKGNvbmZpZy5zdG9yZS5uYW1lLCAocmVhZHdyaXRlID8gXCJyZWFkd3JpdGVcIiA6IFwicmVhZG9ubHlcIikpO1xuICAgIGNvbnN0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoY29uZmlnLnN0b3JlLm5hbWUpO1xuXG4gICAgcmV0dXJuIHN0b3JlO1xuICB9XG5cbiAgYXN5bmMgc2F2ZShkYXRhTmFtZSwgZGF0YVZhbHVlKSB7XG4gICAgY29uc3Qgc3RvcmUgPSBhd2FpdCB0aGlzLmluaXRUcmFuc2FjdGlvbih0cnVlKTtcbiAgICBjb25zdCBzZXNzaW9uSWQgPSB0aGlzLmdldEN1cnJlbnRTZXNzaW9uSWQoKTsgLy8gZGF0ZSBjdXJyZW50IC0yIHNhYXQgIHlpbC1heS1ndW5cbiAgICBjb25zdCB0aW1lID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gMTAwMCk7XG5cbiAgICBjb25zdCBwYXlsb2FkID0ge1wiZGF0YV9uYW1lXCI6IGRhdGFOYW1lLCBcImRhdGFfdmFsdWVcIjogZGF0YVZhbHVlLCBcInNlc3Npb25faWRcIjogc2Vzc2lvbklkLCB0aW1lfTtcbiAgICBzdG9yZS5wdXQocGF5bG9hZCk7XG4gIH1cblxuICBtaW5tYXgoZGF0YU5hbWUsIG9wLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoc3RvcmUpID0+IHtcbiAgICAgICAgbGV0IHN0b3JlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5nZXRDdXJzb3Ioc3RvcmUsIGRhdGFOYW1lLCB3aW5kb3cpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgIGlmIChcImRhdGFfdmFsdWVcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3RvcmVkID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAob3AgPT09IFwibWluXCIgJiYgdmFsdWVbXCJkYXRhX3ZhbHVlXCJdIDwgc3RvcmVkKSB8fFxuICAgICAgICAgICAgICAgIChvcCA9PT0gXCJtYXhcIiAmJiB2YWx1ZVtcImRhdGFfdmFsdWVcIl0gPiBzdG9yZWQpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHN0b3JlZCA9IHZhbHVlW1wiZGF0YV92YWx1ZVwiXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwia2V5IG5vdCBmb3VuZCBpbiBjdXJzb3IgdmFsdWVzIFwiICsgZGF0YU5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZShzdG9yZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgbWluKGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICByZXR1cm4gdGhpcy5taW5tYXgoZGF0YU5hbWUsIFwibWluXCIsIHdpbmRvdyk7XG4gIH1cblxuICBtYXgoZGF0YU5hbWUsIHdpbmRvdyA9IF93aW5kb3cuYWxsdGltZSkge1xuICAgIHJldHVybiB0aGlzLm1pbm1heChkYXRhTmFtZSwgXCJtYXhcIiwgd2luZG93KTtcbiAgfVxuXG4gIGdyb3VwQnkoZGF0YU5hbWUsIHdpbmRvdyA9IF93aW5kb3cuYWxsdGltZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24oKS50aGVuKChzdG9yZSkgPT4ge1xuICAgICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZ2V0Q3Vyc29yKHN0b3JlLCBkYXRhTmFtZSwgd2luZG93KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGNvbnN0IGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgICAgICBpZiAoXCJkYXRhX3ZhbHVlXCIgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKCFtYXAuaGFzKHZhbHVlW1wiZGF0YV92YWx1ZVwiXSkpIG1hcC5zZXQodmFsdWVbXCJkYXRhX3ZhbHVlXCJdLCAwKTtcbiAgICAgICAgICAgICAgbWFwLnNldCh2YWx1ZVtcImRhdGFfdmFsdWVcIl0sIG1hcC5nZXQodmFsdWVbXCJkYXRhX3ZhbHVlXCJdKSArIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwia2V5IG5vdCBmb3VuZCBpbiBjdXJzb3IgdmFsdWVzIFwiICsgZGF0YU5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZShtYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgbW9kZShkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ3JvdXBCeShkYXRhTmFtZSwgd2luZG93KTtcbiAgICBpZiAoZGF0YS5rZXlzKCkubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IG1heCA9IHtuYW1lOiB1bmRlZmluZWQsIHZhbHVlOiAtMX07XG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBkYXRhKSB7XG4gICAgICBpZiAobWF4LnZhbHVlIDwgdmFsdWUpIHtcbiAgICAgICAgbWF4Lm5hbWUgPSBrZXk7XG4gICAgICAgIG1heC52YWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXg7XG4gIH1cblxuICBjb3VudChkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmluaXRUcmFuc2FjdGlvbigpLnRoZW4oKHN0b3JlKSA9PiB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZ2V0Q3Vyc29yKHN0b3JlLCBkYXRhTmFtZSwgd2luZG93KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGNvbnN0IGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKGNvdW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHN1bShkYXRhTmFtZSwgd2luZG93ID0gXCJhbGx0aW1lXCIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoc3RvcmUpID0+IHtcbiAgICAgICAgbGV0IHRvdGFsID0gMC4wMDtcbiAgICAgICAgdGhpcy5nZXRDdXJzb3Ioc3RvcmUsIGRhdGFOYW1lLCB3aW5kb3cpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgIGlmIChcImRhdGFfdmFsdWVcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICB0b3RhbCArPSBwYXJzZUZsb2F0KHZhbHVlW1wiZGF0YV92YWx1ZVwiXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJrZXkgbm90IGZvdW5kIGluIGN1cnNvciB2YWx1ZXMgXCIgKyBkYXRhTmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHRvdGFsLnRvRml4ZWQoMikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0Q3Vyc29yKHN0b3JlLCBkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lLCBkYXRhVmFsdWUgPSB1bmRlZmluZWQpIHtcbiAgICBpZiAoZGF0YVZhbHVlKSB7XG4gICAgICBpZiAod2luZG93ID09PSBfd2luZG93LnNlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIHN0b3JlLmluZGV4KFwiaXhfZGF0YU5hbWVfZGF0YVZhbHVlX3Nlc3Npb25cIilcbiAgICAgICAgICAgIC5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkoW2RhdGFOYW1lLCBkYXRhVmFsdWUsIHRoaXMuZ2V0Q3VycmVudFNlc3Npb25JZCgpLnRvU3RyaW5nKCldKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdG9yZS5pbmRleChcIml4X2RhdGFOYW1lX2RhdGFWYWx1ZVwiKVxuICAgICAgICAgIC5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkoW2RhdGFOYW1lLCBkYXRhVmFsdWVdKSk7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdyA9PT0gX3dpbmRvdy5zZXNzaW9uKSB7XG4gICAgICByZXR1cm4gc3RvcmUuaW5kZXgoXCJpeF9kYXRhTmFtZV9zZXNzaW9uXCIpXG4gICAgICAgICAgLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seShbZGF0YU5hbWUsIHRoaXMuZ2V0Q3VycmVudFNlc3Npb25JZCgpLnRvU3RyaW5nKCldKSk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXhWYWx1ZSA9IGdldEJyb3dzZXJUeXBlKCkgPT09IFwic2FmYXJpXCIgPyBkYXRhTmFtZSA6IFtkYXRhTmFtZV07XG5cbiAgICByZXR1cm4gc3RvcmUuaW5kZXgoXCJpeF9kYXRhTmFtZVwiKVxuICAgICAgICAub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KGluZGV4VmFsdWUpKTtcbiAgfVxuXG4gIGFzeW5jIGF2ZyhkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCB0aGlzLnN1bShkYXRhTmFtZSwgd2luZG93KTtcbiAgICBjb25zdCBjb3VudCA9IGF3YWl0IHRoaXMuY291bnQoZGF0YU5hbWUsIHdpbmRvdyk7XG5cbiAgICBpZiAoIXRvdGFsIHx8ICFjb3VudCkgcmV0dXJuIDA7XG5cbiAgICByZXR1cm4gKHRvdGFsIC8gY291bnQpLnRvRml4ZWQoMik7XG4gIH1cblxuICBhc3luYyBsYXN0KGRhdGFOYW1lLCBzaXplID0gMSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmluaXRUcmFuc2FjdGlvbigpLnRoZW4oKHN0b3JlKSA9PiB7XG4gICAgICAgIGxldCBjdXJzb3IgPSBzdG9yZS5pbmRleChcIml4X2RhdGFOYW1lXCIpLm9wZW5DdXJzb3IoW2RhdGFOYW1lXSwgXCJwcmV2XCIpO1xuICAgICAgICBpZiAod2luZG93ID09PSBfd2luZG93LnNlc3Npb24pIHtcbiAgICAgICAgICBjdXJzb3IgPSBzdG9yZS5pbmRleChcIml4X2RhdGFOYW1lX3Nlc3Npb25cIilcbiAgICAgICAgICAgICAgLm9wZW5DdXJzb3IoW2RhdGFOYW1lLCB0aGlzLmdldEN1cnJlbnRTZXNzaW9uSWQoKV0sIFwicHJldlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIGlmIChyZXN1bHQgJiYgaW5kZXggPCBzaXplKSB7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgdmFsdWVzLnB1c2gocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgIHJlc3VsdC5jb250aW51ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRDdXJyZW50U2Vzc2lvbklkKCkge1xuICAgIGNvbnN0IGQgPSBuZXcgRGF0ZSgpO1xuICAgIGQuc2V0SG91cnMoZC5nZXRIb3VycygpIC0gMik7XG5cbiAgICByZXR1cm4gZC5nZXRGdWxsWWVhcigpICsgXCItXCIgK1xuICAgICAgKGQuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpICsgXCItXCIgK1xuICAgICAgZC5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCBDb2xsZWN0b3JBcGkgZnJvbSBcIi4uL0JlYWdsZURhdGFDb2xsZWN0aW9uL2FwaVwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVEYXRhQ29sbGVjdGlvblwiKTtcbmNvbnN0IGNvbGxlY3RvckFwaSA9IG5ldyBDb2xsZWN0b3JBcGkoKTtcblxuLy8ga2VlcCBhIHRhYmxlIGluIGluZGV4ZGIgdGhlIGZvcm1hdCBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBkYXRhX3ZhbHVlLCBzdG9yZWRfdmFsdWVdXG5cbmV4cG9ydCBjb25zdCBxdWVyeUluQ29sbGVjdG9yID0gYXN5bmMgKGJhc2VGZWF0dXJlTmFtZSwgcXVlcnlNZXRob2QsIHdpbmRvdykgPT4ge1xuICBsb2dnZXIubG9nKFwicXVlcnlJbkNvbGxlY3RvclwiLCBiYXNlRmVhdHVyZU5hbWUsIHF1ZXJ5TWV0aG9kLCB3aW5kb3cpO1xuICBpZiAoIWNvbGxlY3RvckFwaSkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJJbmRleGVkREIgbm8gc3VwcG9ydGVkL0luaXRpYWxpemVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gd2luZG93IGNhbiBiZSBlaXRoZXIgc2FtZWRheSBvciBhbGx0aW1lXG5cbiAgaWYgKHF1ZXJ5TWV0aG9kID09PSBcIm1pblwiKSB7XG4gICAgY29uc3QgcXVlcnlQcm9taXNlID0gYXdhaXQgY29sbGVjdG9yQXBpLm1pbihiYXNlRmVhdHVyZU5hbWUsIHdpbmRvdyk7XG4gICAgcmV0dXJuIHF1ZXJ5UHJvbWlzZTtcbiAgfSBlbHNlIGlmIChxdWVyeU1ldGhvZCA9PT0gXCJtYXhcIikge1xuICAgIGNvbnN0IHF1ZXJ5UHJvbWlzZSA9IGF3YWl0IGNvbGxlY3RvckFwaS5tYXgoYmFzZUZlYXR1cmVOYW1lLCB3aW5kb3cpO1xuICAgIHJldHVybiBxdWVyeVByb21pc2U7XG4gIH0gZWxzZSBpZiAocXVlcnlNZXRob2QgPT09IFwiYXZnXCIpIHtcbiAgICBjb25zdCBxdWVyeVByb21pc2UgPSBhd2FpdCBjb2xsZWN0b3JBcGkuYXZnKGJhc2VGZWF0dXJlTmFtZSwgd2luZG93KTtcbiAgICByZXR1cm4gcXVlcnlQcm9taXNlO1xuICB9IGVsc2UgaWYgKHF1ZXJ5TWV0aG9kID09PSBcImNkXCIpIHtcbiAgICByZXR1cm4gKGF3YWl0IGNvbGxlY3RvckFwaS5ncm91cEJ5KGJhc2VGZWF0dXJlTmFtZSwgd2luZG93KSkuc2l6ZTtcbiAgfSBlbHNlIGlmIChxdWVyeU1ldGhvZCA9PT0gXCJjdlwiKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGNvbGxlY3RvckFwaS5ncm91cEJ5KGJhc2VGZWF0dXJlTmFtZSwgd2luZG93KTtcblxuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCBbLCB2YWx1ZV0gb2YgZGF0YSkge1xuICAgICAgY291bnQgKz0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbiAgfVxuXG4gIGlmIChxdWVyeU1ldGhvZCA9PT0gXCJtb2RlXCIpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgY29sbGVjdG9yQXBpLm1vZGUoYmFzZUZlYXR1cmVOYW1lLCB3aW5kb3cpO1xuICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGRhdGEubmFtZTtcbiAgfVxuXG4gIGlmIChxdWVyeU1ldGhvZC5pbmRleE9mKFwibGFzdFwiKSA+PSAwKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBxdWVyeU1ldGhvZC5tYXRjaChcImxhc3RcXFxcKChbXFxcXGRdKylcXFxcKVwiKTtcbiAgICBpZiAoIW1hdGNoIHx8ICFtYXRjaC5sZW5ndGggPT09IDIgfHwgcGFyc2VJbnQobWF0Y2hbMV0pIDwgMSApIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHF1ZXJ5UHJvbWlzZSA9IGF3YWl0IGNvbGxlY3RvckFwaS5sYXN0KGJhc2VGZWF0dXJlTmFtZSwgbWF0Y2hbMV0sIHdpbmRvdyk7XG4gICAgY29uc3QgZGF0YVZhbHVlcyA9IHF1ZXJ5UHJvbWlzZS5tYXAoKG9iaikgPT4gb2JqLmRhdGFfdmFsdWUpO1xuICAgIHJldHVybiBkYXRhVmFsdWVzO1xuICB9XG5cbiAgLyoqXG4gICAge1wiTGlzdGluZ3BhZ2VcIiA9PiAyMX1cbiAgICB7XCJIb21lcGFnZVwiID0+IDEyfVxuICAgIC0tIGV4YW1wbGUgd2lsbCBoYXZlOlxuICAgIG1vZGU6IExpc3RpbmdwYWdlXG4gICAgY2Q6IDJcbiAgICBjdjogMjErMTJcbiAgICBsYXN0KDMpIChuLCBuLTEsIG4tMilcbiAgKi9cblxuICAvLyAxMDAwbGlrIHRlbWl6bGVuZWNlayAobWFpbnRPcENvdW50IC0+IHZlcnNpb24pXG5cbiAgLy8gcXVlcnlNZXRob2QgY2FuIGJlIFwibW9kZVwiLCBcImNkXCIgKGNvdW50IGRpc3RpbnQpIGZvciBzdHJpbmcvY2F0ZWdvcmljYWwgZGF0YSB0eXBlc1xuICAvLyBxdWVyeU1ldGhvZCBjYW4gYmUgXCJjdlwiIChzdW0gb2YgY291bnQgdmFsdWVzKSwgXCJjdXJyZW50XCIsIG9yIFwicHJldlwiIGZvciBhbnkgZGF0YSB0eXBlIChzdG9yZWQgdmlhIGxhc3QpXG4gIGxvZ2dlci5mYWlsZWQoYHVua25vd24gcXVlcnlNZXRob2Q9JHtxdWVyeU1ldGhvZH0gaW4gQmVhZ2xlRGF0YUNvbGxlY3Rpb25gKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlSW5Db2xsZWN0b3IgPSBhc3luYyAoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlLCB1cGRhdGVNZXRob2QpID0+IHtcbiAgbG9nZ2VyLmxvZyhcInVwZGF0ZUluQ29sbGVjdG9yXCIsIGJhc2VGZWF0dXJlTmFtZSwgYmFzZUZlYXR1cmVWYWx1ZSwgdXBkYXRlTWV0aG9kKTtcbiAgaWYgKCFjb2xsZWN0b3JBcGkpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiSW5kZXhlZERCIG5vIHN1cHBvcnRlZC9Jbml0aWFsaXplZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGF3YWl0IGNvbGxlY3RvckFwaS5zYXZlKGJhc2VGZWF0dXJlTmFtZSwgYmFzZUZlYXR1cmVWYWx1ZSk7XG5cblxuICAvLyB1cGRhdGVNZXRob2QgY2FuIGJlIFwibWluXCIsIFwibWF4XCIsIFwiY250XCIsIFwic3VtXCIgZm9yIG51bWVyaWMgZGF0YSB0eXBlcywgbWluLW1heCBjb21wYXJlcyB3aXRoIG9ubHkgZXhpc3RpbmcsIGF2ZyB1cGRhdGVzIGNudCBhbmQgc3VtXG4gIC8vIC0tPiBtaW46IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwibWluXCIsIChsZWFzdCBvZiBleGlzdGluZyBhbmQgaW5jb21pbmcgc3RvcmVkX3ZhbHVlKV1cbiAgLy8gLS0+IG1heDogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJtYXhcIiwgKGdyZWF0ZXN0IG9mIGV4aXN0aW5nIGFuZCBpbmNvbWluZyBzdG9yZWRfdmFsdWUpXVxuICAvLyAtLT4gc3VtOiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcInN1bVwiLCAoc3VtIG9mIGV4aXN0aW5nIGFuZCBpbmNvbWluZyBzdG9yZWRfdmFsdWUpXVxuICAvLyAtLT4gY250OiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcImNudFwiLCAoZXhpc3RpbmcgKyAxKV1cbiAgLy9cbiAgLy8gdXBkYXRlTWV0aG9kIGNhbiBiZSBcImNvdW50X3ZhbHVlc1wiIGZvciBzdHJpbmcvY2F0ZWdvcmljYWwgZGF0YSB0eXBlcywga2VlcCBhIGNvdW50ZXIgZm9yIGVhY2ggdmFsdWVcbiAgLy8gLS0+IGNvdW50X3ZhbHVlczogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgZGF0YV92YWx1ZSwgKGV4aXN0aW5nICsgMSldXG4gIC8vXG4gIC8vIHVwZGF0ZU1ldGhvZCBjYW4gYmUgXCJsYXN0XCIgZm9yIGFueSBkYXRhIHR5cGUgLS0+IGtlZXBzIDIgdmFsdWVzIGZvciBjdXJyZW50IGFuZCB0aGUgcHJldmlvdXNcbiAgLy8gZGVsZXRlOiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcInByZXZcIiwgKGV4aXN0aW5nIHZhbHVlKV1cbiAgLy8gbW92ZTogZXhpc3RpbmcgW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJjdXJyZW50XCIsIChleGlzdGluZyB2YWx1ZSldIC0tPiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcInByZXZcIiwgKGV4aXN0aW5nIHZhbHVlKV1cbiAgLy8gcHV0OiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcImN1cnJlbnRcIiwgKGluY29taW5nIHN0b3JlZF92YWx1ZSldXG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtmb3JtYXREZWxpdmVyeURhdGUsIGlzT3duTXV0YXRpb259IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtxdWVyeUluQ29sbGVjdG9yLCB1cGRhdGVJbkNvbGxlY3Rvcn0gZnJvbSBcIi4uL0JlYWdsZURhdGFDb2xsZWN0aW9uXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxud2luZG93LmJlYWdsZUluZm9MYXllciA9IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgfHwge1xuICBhOiB7fSwgZToge30sIGY6IHt9LCBfX2h3bTogMCxcbn07XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVJbmZvTGF5ZXJcIik7XG5cbi8vIFRPRE86IGNvbnZlcnQgdG8gbmFtZSAtLT4gYXJyYXkgb2Ygc2VsZWN0b3JzXG5jb25zdCBzZWFyY2hQYXRocyA9IFtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBHQSBEYXRhIExheWVyIFF1ZXJpZXNcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcIlBhZ2VUeXBlXCIsIG5hbWU6IFwiUGFnZVR5cGVcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCIqXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJpc0FkbWluXCIsIG5hbWU6IFwidnZzSXNTaG93cm9vbVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInVzZXJJZFwiLCBuYW1lOiBcInZ2c1VzZXJJZFwifSxcblxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImNvbnRlbnRfbmFtZVwiLCBuYW1lOiBcInBkcC5uYW1lXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInByb2R1Y3Rncm91cFwiLCBuYW1lOiBcInBkcC5ncm91cFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlX2NhdGVnb3J5XCIsIG5hbWU6IFwicGRwLmNsYXNzXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImNvbnRlbnRfaWRzXCIsIG5hbWU6IFwicGRwLnNrdVwiLCBmb3JtYXR0ZXI6IFwidXBwZXJDYXNlVFJcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiUHJvZHVjdElEXCIsIG5hbWU6IFwicGRwLnNrdVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJjb250ZW50X2NhdGVnb3J5XCIsIG5hbWU6IFwicGRwLmNhdGVnb3J5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5kZXRhaWwuYWN0aW9uRmllbGQubGlzdFwiLCBuYW1lOiBcInBkcC5saXN0YWxpYXNcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidml2ZW5zZVByb2R1Y3RzLiouc2t1XCIsIG5hbWU6IFwicGRwLnNrdVwiLCBmb3JtYXR0ZXI6IFwiZGVhcnJheVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlUHJvZHVjdHMuKi5jYXRlZ29yeVwiLCBuYW1lOiBcInBkcC5jYXRlZ29yeVwiLCBmb3JtYXR0ZXI6IFwiZGVhcnJheVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlUHJvZHVjdHMuKi5kaXNjb3VudFJhdGVcIiwgbmFtZTogXCJwZHAuZGlzY291bnRSYXRlXCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLmZhc3REZWxpdmVyeVwiLCBuYW1lOiBcInBkcC5mYXN0RGVsaXZlcnlcIiwgZm9ybWF0dGVyOiBcImRlYXJyYXlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidml2ZW5zZVByb2R1Y3RzLiouaXNJblNob3dyb29tXCIsIG5hbWU6IFwicGRwLmlzSW5TaG93cm9vbVwiLCBmb3JtYXR0ZXI6IFwiZGVhcnJheVwifSxcblxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInNlYXJjaF9zdWNjZXNzXCIsIG5hbWU6IFwicGxwLnNlYXJjaFN1Y2Nlc3NcIiwgZXhjbHVzaXZlOiBbXCJwbHAuaWRcIiwgXCJwbHAuYXBwcm94aW1hdGVDb3VudFwiLCBcInBscC5uYW1lXCIsIFwicGxwLmdyb3VwXCIsIFwicGxwLmNsYXNzXCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJjb250ZW50X2lkc1wiLCBuYW1lOiBcInBscC5pZFwiLCBleGNsdXNpdmU6IFtcInBscC5zZWFyY2hTdWNjZXNzXCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJjYXRlZ29yeV9wcm9kdWN0X2NvdW50XCIsIG5hbWU6IFwicGxwLmFwcHJveGltYXRlQ291bnRcIiwgZXhjbHVzaXZlOiBbXCJwbHAuc2VhcmNoU3VjY2Vzc1wiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9uYW1lXCIsIG5hbWU6IFwicGxwLm5hbWVcIiwgZXhjbHVzaXZlOiBbXCJwbHAuc2VhcmNoU3VjY2Vzc1wiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwicHJvZHVjdGdyb3VwXCIsIG5hbWU6IFwicGxwLmdyb3VwXCIsIGV4Y2x1c2l2ZTogW1wicGxwLnNlYXJjaFN1Y2Nlc3NcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VfY2F0ZWdvcnlcIiwgbmFtZTogXCJwbHAuY2xhc3NcIiwgZXhjbHVzaXZlOiBbXCJwbHAuc2VhcmNoU3VjY2Vzc1wiXX0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UucHJvZHVjdHMuKi5pZFwiLCBuYW1lOiBcInB1cmNoYXNlLnNrdXNcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLnByb2R1Y3RzLioucHJpY2VcIiwgbmFtZTogXCJwdXJjaGFzZS5wcmljZXNcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLnByb2R1Y3RzLioucXVhbnRpdHlcIiwgbmFtZTogXCJwdXJjaGFzZS5xdWFudGl0aWVzXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5wcm9kdWN0cy4qLmNhdGVnb3J5XCIsIG5hbWU6IFwicHVyY2hhc2UuY2F0ZWdvcmllc1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuaWRcIiwgbmFtZTogXCJwdXJjaGFzZS5vcmRlcklkXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5yZXZlbnVlXCIsIG5hbWU6IFwicHVyY2hhc2UucmV2ZW51ZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuZGltZW5zaW9uMTVcIiwgbmFtZTogXCJwdXJjaGFzZS5wYXltZW50VHlwZVwifSxcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIERvY3VtZW50IFF1ZXJpZXNcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInBhZ2VfcHJldmlld193cmFwcGVyX3Byb2R1Y3Rpb25cXFwiXVwiLCBuYW1lOiBcIlBhZ2VUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCIsIHZhbHVlOiBcIkhvbWVwYWdlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiY2F0ZWdvcnlfcGFnZV93cmFwcGVyXFxcIl1cIiwgbmFtZTogXCJQYWdlVHlwZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5VmFsdWVJZkhhc0lubmVyVGV4dFwiLCB2YWx1ZTogXCJMaXN0aW5ncGFnZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInByb2R1Y3QtbWFpbi1kZXRhaWxzXFxcIl1cIiwgbmFtZTogXCJQYWdlVHlwZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5VmFsdWVJZkhhc0lubmVyVGV4dFwiLCB2YWx1ZTogXCJQcm9kdWN0cGFnZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInByb2R1Y3RcXFwiXVwiLCBuYW1lOiBcIlBhZ2VUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCIsIHZhbHVlOiBcIlByb2R1Y3RwYWdlXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJIb21lcGFnZXxQcm9kdWN0cGFnZXxMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwid2VsY29tZV91c2VybmFtZVxcXCJdXCIsIG5hbWU6IFwidmlldy5pc0xvZ2dlZEluXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlIYXNJbm5lclRleHRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJIb21lcGFnZXxQcm9kdWN0cGFnZXxMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiZW1wdHlfYmFza2V0X3RleHRcXFwiXVwiLCBuYW1lOiBcImNhcnQuaXNlbXB0eVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SGFzSW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC50b3RhbEJhc2VQcmljZVwiLCBcImNhcnQuc2t1Y291bnRcIiwgXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiSG9tZXBhZ2V8UHJvZHVjdHBhZ2V8TGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcImJvZHkgPiAuZGVza3RvcF9sYXlvdXRfd3JhcHBlciAubm90LWFsbG93ZWQtY291cG9uXCIsIG5hbWU6IFwiY2FydC5jb3Vwb25Ob3RBcHBsaWNhYmxlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlTdW1OdW1Jbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl19LFxuICAvLyBOb3RlIHRoYXQgc2VxdWVudGlhbCBzZWFyY2ggd2lsbCBtYXJrIGNvcHVvbk5vdEFwcGxpY2FibGUgYXMgZm91bmRcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkhvbWVwYWdlfFByb2R1Y3RwYWdlfExpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJiYXNrZXRfdG90YWxfcHJpY2VcXFwiXVwiLCBuYW1lOiBcImNhcnQudG90YWxCYXNlUHJpY2VcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiLCBcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiXSwgZm9ybWF0dGVyOiBcIm51bWVyaWNPbmx5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiSG9tZXBhZ2V8UHJvZHVjdHBhZ2V8TGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltpZCo9XFxcImNhcnRfcXVhbnRpdHlcXFwiXSwgW2NsYXNzKj1cXFwiYmFza2V0X2xlbmd0aFxcXCJdXCIsIG5hbWU6IFwiY2FydC5za3Vjb3VudFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCJdfSxcblxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImRlbGl2ZXJ5LWRhdGVcXFwiXVwiLCBuYW1lOiBcInBkcC5kZWxpdmVyeURhdGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJkZWxpdmVyeS1kYXRlXFxcIl1cIiwgbmFtZTogXCJwZHAuZGVsaXZlcnlEYXRlRm9ybWF0dGVkXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZm9ybWF0dGVyOiBcImZvcm1hdERlbGl2ZXJ5RGF0ZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJwcm9kdWN0LXRpdGxlXFxcIl0sIFtjbGFzcyo9XFxcImhlYWRlci1ib3R0b21cXFwiXVwiLCBuYW1lOiBcInBkcC5uYW1lXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwidml2ZW5zZS1zaG93cm9vbXNcXFwiXSA+ICpcIiwgbmFtZTogXCJwZHAuc2hvd3Jvb21jb3VudFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5Q291bnRFbHRzXCIsIGV4Y2x1c2l2ZTogW1wicGRwLmhhc05vU2hvd3Jvb21zXCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIjdml2ZW5zZS1zaG93cm9vbS10YWIgcDpub3QoLnZpdmVuc2Utc2hvd3Jvb21zKVwiLCBuYW1lOiBcInBkcC5oYXNOb1Nob3dyb29tc1wiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SGFzSW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wicGRwLnNob3dyb29tY291bnRcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcInNwYW4ucHJpY2VcIiwgbmFtZTogXCJwZHAucHJpY2VcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiI3NhbGVzLXByaWNlXCIsIG5hbWU6IFwicGRwLnByaWNlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZm9ybWF0dGVyOiBcIm51bWVyaWNPbmx5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcImRpdi5wcm9kdWN0LXByaWNlLWJveFwiLCBuYW1lOiBcIl9fcHJpY2VPYnNlcnZlclwiLCBjaGlsZHJlbjogW1wicGRwLnByaWNlXCJdLCBvcGVyYW5kOiBcImRvY1F1ZXJ5T2JzZXJ2ZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIjbW9iaWxlLXByb2R1Y3Qtc3RpY2t5XCIsIG5hbWU6IFwiX19wcmljZU9ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJwZHAucHJpY2VcIl0sIG9wZXJhbmQ6IFwiZG9jUXVlcnlPYnNlcnZlXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiY291bnQtb2YtcHJvZHVjdFxcXCJdXCIsIG5hbWU6IFwicGxwLml0ZW1Db3VudFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGZvcm1hdHRlcjogXCJudW1lcmljT25seVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJzdWJjYXRlZ29yaWVzLXRpdGxlXFxcIl1cIiwgbmFtZTogXCJwbHAubmFtZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5wcm9kdWN0LWNhcmRbZGF0YS1wcm9kdWN0LXNrdV1cIiwgbmFtZTogXCJfX2ZlYXR1cmVzLlNLVXNvblBhZ2VcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiLCB2YWx1ZTogXCJkYXRhLXByb2R1Y3Qtc2t1XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5wcm9kdWN0LWxpc3RcIiwgbmFtZTogXCJfX2xpc3RpbmdJdGVtQmxvY2tPYnNlcnZlclwiLCBjaGlsZHJlbjogW1wiX19mZWF0dXJlcy5TS1Vzb25QYWdlXCJdLCBvcGVyYW5kOiBcImRvY1F1ZXJ5T2JzZXJ2ZVwifSxcblxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuZW1wdHktY2FydC1jb250YWluZXIsIC5lbXB0eS1jYXJ0XCIsIG5hbWU6IFwiY2FydC5pc2VtcHR5XCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlIYXNJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LnNrdWNvdW50XCIsIFwiY2FydC50b3RhbFByaWNlXCIsIFwiY2FydC50b3RhbFByaWNlRmluYWxcIiwgXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIiwgXCJjYXJ0LnNrdXNcIiwgXCJjYXJ0LnByaWNlc1wiLCBcImNhcnQucXVhbnRpdGllc1wiLCBcImNhcnQuY2F0ZWdvcmllc1wiLCBcIl9fY2hlY2tvdXRGb3JtT2JzZXJ2ZXJcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuYnJhY2tldC10ZXh0LCAucHJvZHVjdC1jb3VudFwiLCBuYW1lOiBcImNhcnQuc2t1Y291bnRcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiXSwgZm9ybWF0dGVyOiBcIm51bWVyaWNPbmx5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydEl0ZW1RdWFudGl0eVwiLCBuYW1lOiBcImNhcnQucXVhbnRpdGllc1wiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5QXR0cmliVmFsdWVMaXN0XCIsIHZhbHVlOiBcImRhdGEtcHJldmlvdXNcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIjYmlsbF90b3RhbFwiLCBuYW1lOiBcImNhcnQudG90YWxQcmljZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCJdLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcIm9yZGVyLWZpbmFsLW51bWJlclxcXCJdXCIsIG5hbWU6IFwiY2FydC50b3RhbFByaWNlRmluYWxcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiXSwgZm9ybWF0dGVyOiBcIm51bWVyaWNPbmx5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJjYXJ0LXByaWNlXFxcIl0gLm5vdC1hbGxvd2VkLWNvdXBvblwiLCBuYW1lOiBcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5U3VtTnVtSW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCJdfSxcbiAgLy8gTm90ZSB0aGF0IHNlcXVlbnRpYWwgc2VhcmNoIHdpbGwgbWFyayBjb3Vwb25BcHBsaWNhYmxlIGFzIGZvdW5kXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5jYXJ0LWluc2lkZVwiLCBuYW1lOiBcImNhcnQuc2t1c1wiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5QXR0cmliVmFsdWVMaXN0XCIsIHZhbHVlOiBcImRhdGEtc2t1XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCIsIFwiY2FydC5jb3Vwb25Ob3RBcHBsaWNhYmxlXCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLmNhcnQtaW5zaWRlXCIsIG5hbWU6IFwiY2FydC5jYXRlZ29yaWVzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIiwgdmFsdWU6IFwiZGF0YS1sYXN0LWJyZWFkY3J1bWJcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIiwgXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1pbnNpZGVcIiwgbmFtZTogXCJjYXJ0LnByaWNlc1wiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5QXR0cmliVmFsdWVMaXN0XCIsIHZhbHVlOiBcImRhdGEtcHJpY2VcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIiwgXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIl19LFxuICAvLyBEZXNrdG9wIG9ic2VydmVyIGZvciB0aGUgcmlnaHQgcGFuZWwsIGFzIGl0IGlzIHRoZSBvbmUgY2hhbmdpbmdcbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLmNhcnQtcmlnaHQtY29udGFpbmVyXCIsIG5hbWU6IFwiX19jaGVja291dEZvcm1PYnNlcnZlclwiLCBjaGlsZHJlbjogW1wiY2FydC5za3Vjb3VudFwiLCBcImNhcnQudG90YWxQcmljZVwiLCBcImNhcnQudG90YWxQcmljZUZpbmFsXCIsIFwiY2FydC5jb3Vwb25Ob3RBcHBsaWNhYmxlXCIsIFwiY2FydC5za3VzXCIsIFwiY2FydC5wcmljZXNcIiwgXCJjYXJ0LnF1YW50aXRpZXNcIiwgXCJjYXJ0LmNhdGVnb3JpZXNcIiwgXCJjYXJ0LmlzZW1wdHlcIiwgXCJjYXJ0LmNvdXBvbkFwcGxpY2FibGVBbW91bnRcIl0sIG9wZXJhbmQ6IFwiZG9jUXVlcnlPYnNlcnZlXCJ9LFxuICAvLyBNb2JpbGUgb2JzZXJ2ZXIgZm9yIHRoZSBmdWxsIGZvcm0gYmxvY2sgYXMgaXQgaXMgY29tcGxldGVseSByZXBsYWNlZFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIjY2hlY2tvdXRGb3JtXCIsIG5hbWU6IFwiX19jaGVja291dEZvcm1PYnNlcnZlclwiLCBjaGlsZHJlbjogW1wiY2FydC5za3Vjb3VudFwiLCBcImNhcnQudG90YWxQcmljZVwiLCBcImNhcnQudG90YWxQcmljZUZpbmFsXCIsIFwiY2FydC5jb3Vwb25Ob3RBcHBsaWNhYmxlXCIsIFwiY2FydC5za3VzXCIsIFwiY2FydC5wcmljZXNcIiwgXCJjYXJ0LnF1YW50aXRpZXNcIiwgXCJjYXJ0LmNhdGVnb3JpZXNcIiwgXCJjYXJ0LmlzZW1wdHlcIiwgXCJjYXJ0LmNvdXBvbkFwcGxpY2FibGVBbW91bnRcIl0sIG9wZXJhbmQ6IFwiZG9jUXVlcnlPYnNlcnZlXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiYmFza2V0X3N1bW1hcnlfdG90YWxcXFwiXSwgW2NsYXNzKj1cXFwidG90YWxfcm93XFxcIl1cIiwgbmFtZTogXCJwdXJjaGFzZS5yZXZlbnVlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZm9ybWF0dGVyOiBcIm51bWVyaWNPbmx5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcIm9yZGVyX2ZvbGxvd19udW1iXFxcIl0sIFtjbGFzcyo9XFxcImNhcnQtdGl0bGUtYm90dG9tXFxcIl1cIiwgbmFtZTogXCJwdXJjaGFzZS52dnNUeG5JZFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5wYXltZW50X3R5cGVfdGl0bGUsIC5jYXJ0LXRpdGxlLWluZm9cIiwgbmFtZTogXCJwdXJjaGFzZS5wYXltZW50VHlwZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGZvcm1hdHRlcjogXCJsb3dlckNhc2VUUkZpcnN0V29yZFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJwcm9kdWN0X3NrdV9jb2RlXFxcIl1cIiwgbmFtZTogXCJwdXJjaGFzZS5za3VzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBcnJheUlubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1pbnNpZGVcIiwgbmFtZTogXCJwdXJjaGFzZS5za3VzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIiwgdmFsdWU6IFwiZGF0YS1za3VcIn0sXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBTT1JHIEVsZW1lbnRzXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJza3VcIiwgbmFtZTogXCJwZHAuc2t1XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwibXBuXCIsIG5hbWU6IFwicGRwLm1wblwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcIm5hbWVcIiwgbmFtZTogXCJwZHAubmFtZVwiLCBvcGVyYW5kOiBcIkpTT05GaWx0ZXJPdGhlclwiLCB2YWx1ZTogXCJAdHlwZT1Qcm9kdWN0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwib2ZmZXJzLnByaWNlVmFsaWRVbnRpbFwiLCBuYW1lOiBcInBkcC5wcmljZVZhbGlkVW50aWxcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJpdGVtTGlzdEVsZW1lbnQuKi5uYW1lXCIsIG5hbWU6IFwidmlldy5icmVhZGNydW1iXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJtYWluRW50aXR5Lm5hbWVcIiwgbmFtZTogXCJwbHAubmFtZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcIm1haW5FbnRpdHkubnVtYmVyT2ZJdGVtc1wiLCBuYW1lOiBcInBscC5pdGVtQ291bnRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJicmVhZGNydW1iLml0ZW1MaXN0RWxlbWVudC4qLml0ZW0ubmFtZVwiLCBuYW1lOiBcInZpZXcuYnJlYWRjcnVtYlwifSxcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFdpbmRvdyBjdXN0b20gZWxlbWVudHNcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIlNpbmdsZVdUXCIsIHNlbGVjdG9yOiBcImZhdm9yaXRlUHJvZHVjdHNcIiwgbmFtZTogXCJ2aWV3LmZhdm9yaXRlZE1QTnNcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCIqXCIsIG1ldGhvZDogXCJTaW5nbGVXVFwiLCBzZWxlY3RvcjogXCJpc0FkbWluXCIsIG5hbWU6IFwidnZzSXNTaG93cm9vbVwiLCBmb3JtYXR0ZXI6IFwidG9TdHJpbmdcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCIqXCIsIG1ldGhvZDogXCJTaW5nbGVXVFwiLCBzZWxlY3RvcjogXCJ1c2VySWRcIiwgbmFtZTogXCJ2dnNVc2VySWRcIn0sXG5dO1xuXG5jb25zdCBmZWF0dXJlRW5naW5lZXJpbmdPcHMgPSB7XG4gIFwidmlld19lcG9jaFwiOiBbXG4gICAge3VwZGF0ZU1ldGhvZDogXCJtaW5cIn0sXG4gICAge3F1ZXJ5TWV0aG9kOiBcIm1pblwiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJoaXN0b3J5LnZpZXdfZXBvY2hfbWluXCJ9LFxuICBdLFxuICBcIlBhZ2VUeXBlXCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcImNvdW50X3ZhbHVlc1wifSxcbiAgICB7cXVlcnlNZXRob2Q6IFwiY3ZcIiwgd2luZG93OiBcInNlc3Npb25cIiwgZmVhdHVyZU5hbWU6IFwiaGlzdG9yeS5QYWdlVHlwZV9jb3VudF9zZXNzaW9uXCJ9LFxuICAgIHtxdWVyeU1ldGhvZDogXCJjdlwiLCB3aW5kb3c6IFwiYWxsdGltZVwiLCBmZWF0dXJlTmFtZTogXCJoaXN0b3J5LlBhZ2VUeXBlX2NvdW50X2FsbHRpbWVcIn0sXG4gIF0sXG4gIFwiY2FydC5jb3Vwb25BcHBsaWNhYmxlQW1vdW50XCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcImxhc3RcIn0sXG4gICAge3F1ZXJ5TWV0aG9kOiBcImxhc3QoMSlcIiwgd2luZG93OiBcInNlc3Npb25cIiwgZmVhdHVyZU5hbWU6IFwiX19mZWF0dXJlcy5sYXN0Q2FydENvdXBvbkFwcGxpY2FibGVcIn0sXG4gIF0sXG4gIFwicGRwLmNhdGVnb3J5XCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcImNvdW50X3ZhbHVlc1wifSxcbiAgICB7dXBkYXRlTWV0aG9kOiBcImxhc3RcIn0sXG4gICAge3F1ZXJ5TWV0aG9kOiBcIm1vZGVcIiwgd2luZG93OiBcInNlc3Npb25cIiwgZmVhdHVyZU5hbWU6IFwiaGlzdG9yeS5wZHBfY2F0ZWdvcnlfbW9kZV9zZXNzaW9uXCJ9LFxuICAgIHtxdWVyeU1ldGhvZDogXCJsYXN0KDEpXCIsIHdpbmRvdzogXCJzZXNzaW9uXCIsIGZlYXR1cmVOYW1lOiBcImhpc3RvcnkucGRwX2NhdGVnb3J5X2xhc3Rfc2Vzc2lvblwifSxcbiAgXSxcbiAgXCJjYXJ0LnNrdXNcIjogW1xuICAgIHt1cGRhdGVNZXRob2Q6IFwibGFzdFwifSxcbiAgICB7cXVlcnlNZXRob2Q6IFwibGFzdCgxKVwiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJfX2ZlYXR1cmVzLlNLVXNvbkxhc3RDYXJ0Vmlld1wifSxcbiAgXSxcbn07XG5cbmV4cG9ydCBjb25zdCBpbmNyZWFzZUJlYWdsZUluZm9MYXllckhXTSA9ICgpID0+IHtcbiAgY29uc3QgaW5mb0xheWVyID0gd2luZG93LnRvcC5iZWFnbGVJbmZvTGF5ZXI7XG4gIC8vIHVwZGF0ZSBod20gdG8gaW5kaWNhdGUgY2hhbmdlXG4gIGluZm9MYXllci5fX2h3bSArPSAxO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFRvQmVhZ2xlSW5mb0xheWVyID0gKGtleSwgdmFsdWUpID0+IHtcbiAgY29uc3QgaW5mb0xheWVyID0gd2luZG93LnRvcC5iZWFnbGVJbmZvTGF5ZXI7XG5cbiAgaWYgKGtleSA9PT0gbnVsbCB8fCBrZXkgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAvLyBpZiB2YWx1ZSBpcyBzdHJpbmcsIGFkZCBhcyBhIGNsZWFuIHN0cmluZywgaWYgb2JqZWN0IGFkZCB0aGUgc2FtZVxuICBjb25zdCB0eXBlZFZhbHVlID0gdHlwZW9mICh2YWx1ZSkgPT09IFwic3RyaW5nXCIgPyB2YWx1ZS50b1N0cmluZygpLnRyaW0oKSA6IHZhbHVlO1xuICAvLyBpZiBrZXkgY29udGFpbnMgLiBjcmVhdGUgbmVzdGVkIG9iamVjdFxuICBpZiAoa2V5LmluZGV4T2YoXCIuXCIpID4gLTEpIHtcbiAgICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KFwiLlwiKTtcbiAgICBjb25zdCBsYXN0S2V5ID0ga2V5cy5wb3AoKTtcbiAgICBsZXQgb2JqID0gaW5mb0xheWVyO1xuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoIW9ialtrZXldKSBvYmpba2V5XSA9IHt9O1xuICAgICAgb2JqID0gb2JqW2tleV07XG4gICAgfSk7XG4gICAgb2JqW2xhc3RLZXldID0gdHlwZWRWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBpbmZvTGF5ZXJba2V5XSA9IHR5cGVkVmFsdWU7XG4gIH1cbiAgLy8gdXBkYXRlIGh3bSB0byBpbmRpY2F0ZSBjaGFuZ2VcbiAgaW5jcmVhc2VCZWFnbGVJbmZvTGF5ZXJIV00oKTtcbiAgLy8gcHJvY2VzcyBkZXBlbmRlbnQgaGlzdG9yaWNhbCBkYXRhIGZvciBzY2FuLWZvdW5kIGVsZW1lbnRzXG4gIGlmICh0eXBlZFZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZWRWYWx1ZSAhPT0gbnVsbCkge1xuICAgIHVwZGF0ZURlcml2YXRpb25zSW5Db2xsZWN0b3Ioa2V5LCB0eXBlZFZhbHVlKTtcbiAgICBwYXNzVmFsdWVUb0xpc3RlbmVycyhrZXksIHR5cGVkVmFsdWUpO1xuICB9XG59O1xuXG5jb25zdCBEQVRBX0xJU1RFTkVSUyA9IHt9O1xuXG5leHBvcnQgY29uc3QgYWRkRGF0YUxpc3RlbmVyID0gKGtleSwgbGlzdGVuZXIpID0+IHtcbiAgaWYgKCFEQVRBX0xJU1RFTkVSU1trZXldKSB7XG4gICAgREFUQV9MSVNURU5FUlNba2V5XSA9IFtdO1xuICB9XG4gIERBVEFfTElTVEVORVJTW2tleV0ucHVzaChsaXN0ZW5lcik7XG59O1xuXG5jb25zdCBwYXNzVmFsdWVUb0xpc3RlbmVycyA9IChrZXksIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGxpc3RlbmVycyA9IERBVEFfTElTVEVORVJTW2tleV07XG4gIGlmIChsaXN0ZW5lcnMgJiYgQXJyYXkuaXNBcnJheShsaXN0ZW5lcnMpICYmIGxpc3RlbmVycy5sZW5ndGggPiAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGxvZ2dlci5sb2coYHBhc3NWYWx1ZVRvTGlzdGVuZXJzIC0tPiB2YWx1ZSAke3ZhbHVlfSB0byBsaXN0ZW5lciAke2l9IG9mIGtleSAke2tleX1gKTtcbiAgICAgICAgbGlzdGVuZXIodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIgPSAoa2V5LCBibG9ja2luZyA9IGZhbHNlLCBwb2xsSW50ZXJ2YWwgPSA1MCwgdGltZW91dCA9IDEwMDAwKSA9PiB7XG4gIC8vIFRPRE86IGNoZWNrIGZlYXR1cmVFbmdpbmVlcmluZyBhbmQgc2VhcmNoIGxpc3QgaWYgYWxsIG1hcmtlZCBhcyBmb3VuZCBidXQgdmFsdWUgaXMgbWlzc2luZ1xuICBjb25zdCBpbmZvTGF5ZXIgPSB3aW5kb3cudG9wLmJlYWdsZUluZm9MYXllcjtcbiAgLy8gcmV0dXJuIG51bGwgaWYga2V5IGlzIG1pc3Npbmcgb3Igbm90IGFuIGFycmF5IG9yIGhhcyBubyBlbGVtZW50c1xuICBpZiAoIWtleSkgcmV0dXJuIG51bGw7XG4gIGxldCBvYnRhaW5EYXRhID0ganNvbkdldChpbmZvTGF5ZXIsIGtleSk7XG4gIGlmIChvYnRhaW5EYXRhICE9PSBudWxsICYmIG9idGFpbkRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGZvdW5kIGRhdGEgZm9yIGtleVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUob2J0YWluRGF0YSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IHNlYXJjaEVsZW1lbnQgb2Ygc2VhcmNoUGF0aHMpIHtcbiAgICBpZiAoa2V5ID09PSBzZWFyY2hFbGVtZW50Lm5hbWUgJiYgKHNlYXJjaEVsZW1lbnQuaXNGb3VuZCB8fCBzZWFyY2hFbGVtZW50LmlzSWdub3JlKSkge1xuICAgICAgLy8gZGF0YSBpcyBtaXNzaW5nIGJ1dCBlbGVtZW50IGlzIG1hcmtlZCBhcyBmb3VuZCBvciBpZ25vcmVkXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChibG9ja2luZykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIG9idGFpbkRhdGEgPSBqc29uR2V0KGluZm9MYXllciwga2V5KTtcbiAgICAgICAgaWYgKG9idGFpbkRhdGEgIT09IG51bGwgJiYgb2J0YWluRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gZm91bmQgZGF0YSBmb3Iga2V5LCBjbGVhciBpbnRlcnZhbCBhbmQgcmVzb2x2ZVxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgIHJlc29sdmUob2J0YWluRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBzZWFyY2hFbGVtZW50IG9mIHNlYXJjaFBhdGhzKSB7XG4gICAgICAgICAgaWYgKGtleSA9PT0gc2VhcmNoRWxlbWVudC5uYW1lICYmIChzZWFyY2hFbGVtZW50LmlzRm91bmQgfHwgc2VhcmNoRWxlbWVudC5pc0lnbm9yZSkpIHtcbiAgICAgICAgICAgIC8vIGRhdGEgaXMgbWlzc2luZyBidXQgZWxlbWVudCBpcyBtYXJrZWQgYXMgZm91bmQgb3IgaWdub3JlZFxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgcG9sbEludGVydmFsKTtcbiAgICAgIC8vIGFkZCB0aW1lb3V0XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICB9LCB0aW1lb3V0KTsgLy8gd2FpdCBibG9ja2luZyBmb3IgXCJ0aW1lb3V0XCIgbXNlY3NcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZUZyb21CZWFnbGVJbmZvTGF5ZXIgPSAoa2V5KSA9PiB7XG4gIGNvbnN0IGluZm9MYXllciA9IHdpbmRvdy50b3AuYmVhZ2xlSW5mb0xheWVyO1xuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gIC8vIHJlbW92ZSBrZXkgZnJvbSBpbmZvTGF5ZXJcbiAgaWYgKGtleS5pbmRleE9mKFwiLlwiKSA+IC0xKSB7XG4gICAgY29uc3Qga2V5cyA9IGtleS5zcGxpdChcIi5cIik7XG4gICAgY29uc3QgbGFzdEtleSA9IGtleXMucG9wKCk7XG4gICAgbGV0IG9iaiA9IGluZm9MYXllcjtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCFvYmpba2V5XSkgcmV0dXJuO1xuICAgICAgb2JqID0gb2JqW2tleV07XG4gICAgfSk7XG4gICAgbG9nZ2VyLmxvZyhcInJlbW92ZUZyb21CZWFnbGVJbmZvTGF5ZXJcIiwgYFJlbW92aW5nICR7bGFzdEtleX0gZnJvbSAke0pTT04uc3RyaW5naWZ5KG9iail9YCk7XG4gICAgZGVsZXRlIG9ialtsYXN0S2V5XTtcbiAgfSBlbHNlIHtcbiAgICBkZWxldGUgaW5mb0xheWVyW2tleV07XG4gIH1cbiAgaW5jcmVhc2VCZWFnbGVJbmZvTGF5ZXJIV00oKTtcbiAgLy8gcHJvY2VzcyBkZXBlbmRlbnQgaGlzdG9yaWNhbCBkYXRhIGZvciBzY2FuLWZvdW5kIGVsZW1lbnRzXG4gIHVwZGF0ZURlcml2YXRpb25zSW5Db2xsZWN0b3Ioa2V5LCBudWxsKTtcbiAgcGFzc1ZhbHVlVG9MaXN0ZW5lcnMoa2V5LCBudWxsKTtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRUcmVhdG1lbnQgPSAoaWQsIGJ1c2luZXNzUnVsZUlkLCB2YXJpYW50LCBzdGF0dXMsIGRlcGVuZGFudF9vbl90cmVhdG1lbnQgPSBudWxsKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0ge307XG4gIGNvbnN0IGluZm9MYXllciA9IHdpbmRvdy50b3AuYmVhZ2xlSW5mb0xheWVyO1xuXG4gIGlmIChidXNpbmVzc1J1bGVJZCAhPT0gbnVsbCAmJiBidXNpbmVzc1J1bGVJZCAhPT0gdW5kZWZpbmVkKSB2YWx1ZS5idXNpbmVzc1J1bGVJZCA9IGJ1c2luZXNzUnVsZUlkO1xuICBpZiAodmFyaWFudCkgdmFsdWUudmFyaWFudCA9IHZhcmlhbnQ7XG5cbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlIFwiYXBwbGllZFwiOlxuICAgICAgaW5mb0xheWVyLmFbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwic2tpcHBlZFwiOlxuICAgICAgdmFsdWUuZGVwZW5kYW50X29uX3RyZWF0bWVudCA9IGRlcGVuZGFudF9vbl90cmVhdG1lbnQ7XG4gICAgICBpbmZvTGF5ZXIuZVtpZF0gPSB2YWx1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJmYWlsZWRcIjpcbiAgICAgIGluZm9MYXllci5mW2lkXSA9IHZhbHVlO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgaW5jcmVhc2VCZWFnbGVJbmZvTGF5ZXJIV00oKTtcbn07XG5cbmNvbnN0IFBBUlNFU0VBUkNITUFYUkVUUlkgPSAxMDtcbmNvbnN0IFBBUlNFU0VBUkNIU1RBUlRERUxBWSA9IDEwO1xubGV0IHBhcnNlU2VhcmNoUGF0aHNEZWxheSA9IFBBUlNFU0VBUkNIU1RBUlRERUxBWTtcbmxldCBwYXJzZVNlYXJjaFBhdGhzUmV0cnkgPSAwO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciA9IGFzeW5jICgpID0+IHtcbiAgLy8gQ29sbGVjdCBjb3JlIGRhdGFcbiAgcHJlcGFyZUNvcmVEYXRhKCk7XG5cbiAgLy8gVHJpZ2dlci1zdGFydCB0aGUgcGFyc2VyIGxvb3BcbiAgcGFyc2VyQ2FsbGVyKCk7XG5cbiAgLy8gQWRkIG1ldHJpY3NcbiAgYWRkTWV0cmljcygpO1xufTtcblxuY29uc3QgY29sbGVjdERlcml2YXRpb25zRnJvbUNvbGxlY3RvciA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgYmFzZUZlYXR1cmVOYW1lcyA9IE9iamVjdC5rZXlzKGZlYXR1cmVFbmdpbmVlcmluZ09wcyk7XG4gIGZvciAoY29uc3QgYmFzZUZlYXR1cmVOYW1lIG9mIGJhc2VGZWF0dXJlTmFtZXMpIHtcbiAgICBjb25zdCBGRURhdGEgPSBmZWF0dXJlRW5naW5lZXJpbmdPcHNbYmFzZUZlYXR1cmVOYW1lXTtcbiAgICBpZiAoRkVEYXRhICYmIEFycmF5LmlzQXJyYXkoRkVEYXRhKSAmJiBGRURhdGEubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBGRU9wIG9mIEZFRGF0YSkge1xuICAgICAgICBpZiAoRkVPcC5xdWVyeU1ldGhvZCA9PT0gbnVsbCB8fCBGRU9wLnF1ZXJ5TWV0aG9kID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBxdWVyeVJlc3BvbnNlID0gYXdhaXQgcXVlcnlJbkNvbGxlY3RvcihiYXNlRmVhdHVyZU5hbWUsIEZFT3AucXVlcnlNZXRob2QsIEZFT3Aud2luZG93KTtcbiAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoRkVPcC5mZWF0dXJlTmFtZSwgcXVlcnlSZXNwb25zZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCB1cGRhdGVEZXJpdmF0aW9uc0luQ29sbGVjdG9yID0gYXN5bmMgKGJhc2VGZWF0dXJlTmFtZSwgYmFzZUZlYXR1cmVWYWx1ZSkgPT4ge1xuICAvLyBwcm9jZXNzIGRlcGVuZGVudCBoaXN0b3JpY2FsIGRhdGEgZm9yIHNjYW4tZm91bmQgZWxlbWVudHNcbiAgY29uc3QgRkVEYXRhID0gZmVhdHVyZUVuZ2luZWVyaW5nT3BzW2Jhc2VGZWF0dXJlTmFtZV07XG4gIGlmIChGRURhdGEgJiYgQXJyYXkuaXNBcnJheShGRURhdGEpICYmIEZFRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgZm9yIChjb25zdCBGRU9wIG9mIEZFRGF0YSkge1xuICAgICAgaWYgKEZFT3AudXBkYXRlTWV0aG9kID09PSBudWxsIHx8IEZFT3AudXBkYXRlTWV0aG9kID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgYXdhaXQgdXBkYXRlSW5Db2xsZWN0b3IoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlLCBGRU9wLnVwZGF0ZU1ldGhvZCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBwcm9jZXNzRm9ybWF0dGVyID0gKHZhbHVlLCBmb3JtYXR0ZXIpID0+IHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgIWZvcm1hdHRlcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHN3aXRjaCAoZm9ybWF0dGVyKSB7XG4gICAgY2FzZSBcInVwcGVyQ2FzZVRSXCI6XG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKS50b1VwcGVyQ2FzZShcInRyLVRSXCIpO1xuICAgIGNhc2UgXCJmb3JtYXREZWxpdmVyeURhdGVcIjpcbiAgICAgIHJldHVybiBmb3JtYXREZWxpdmVyeURhdGUodmFsdWUpO1xuICAgIGNhc2UgXCJudW1lcmljT25seVwiOlxuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcbiAgICBjYXNlIFwibG93ZXJDYXNlVFJGaXJzdFdvcmRcIjpcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKFwidHItVFJcIikuc3BsaXQoXCIgXCIpWzBdO1xuICAgIGNhc2UgXCJkZWFycmF5XCI6XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gdmFsdWVbMF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgY2FzZSBcInRvU3RyaW5nXCI6XG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKS50cmltKCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxuY29uc3Qgc2VhcmNoT2JqID0gKG9iaiwgc2VhcmNoRWxlbWVudCkgPT4ge1xuICBsZXQgdmFsdWU7XG4gIGxldCBsYXllclZhbHVlO1xuXG4gIHRyeSB7XG4gICAgc3dpdGNoIChzZWFyY2hFbGVtZW50Lm9wZXJhbmQpIHtcbiAgICAgIGNhc2UgXCJKU09ORmlsdGVyT3RoZXJcIjpcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlID0ganNvbkdldChvYmosIHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGZpbHRlclBhcmFtcyA9IHNlYXJjaEVsZW1lbnQudmFsdWUuc3BsaXQoXCI9XCIpO1xuICAgICAgICAgIGlmIChmaWx0ZXJQYXJhbXMubGVuZ3RoICE9PSAyKSBicmVhaztcbiAgICAgICAgICBjb25zdCBmaWx0ZXJOYW1lID0gZmlsdGVyUGFyYW1zWzBdO1xuICAgICAgICAgIGNvbnN0IGZpbHRlclZhbHVlID0gZmlsdGVyUGFyYW1zWzFdO1xuICAgICAgICAgIGlmICghZmlsdGVyTmFtZSB8fCAhZmlsdGVyVmFsdWUpIGJyZWFrO1xuXG4gICAgICAgICAgY29uc3QgZmlsdGVyTWF0Y2ggPSBqc29uR2V0KG9iaiwgZmlsdGVyTmFtZSk7XG5cbiAgICAgICAgICBpZiAoIWZpbHRlck1hdGNoIHx8IGZpbHRlck1hdGNoICE9PSBmaWx0ZXJWYWx1ZSkgYnJlYWs7XG5cbiAgICAgICAgICBpZiAodmFsdWUgJiYgKEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubGVuZ3RoID4gMCA6IHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICBsYXllclZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5T2JzZXJ2ZVwiOlxuICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2VhcmNoRWxlbWVudC5pc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAvLyB1cGRhdGUgZm91bmQgc3RhdHVzIG9mIHRoZSBlbGVtZW50cyBpbiB0aGUgY2hpbGRyZW4gbGlzdFxuICAgICAgICAgIGNvbnN0IHRvQmVVcGRhdGVkID0gW107XG4gICAgICAgICAgc2VhcmNoRWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRFbGVtZW50cyA9IHNlYXJjaFBhdGhzLmZpbHRlcigoZWxlbWVudCkgPT4gZWxlbWVudC5uYW1lID09PSBjaGlsZCk7XG4gICAgICAgICAgICAvLyBhZGQgY2hpbGRFbGVtZW50cyBpbnRvIHRvQmVVcGRhdGVkXG4gICAgICAgICAgICB0b0JlVXBkYXRlZC5wdXNoKC4uLmNoaWxkRWxlbWVudHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIHJ1biBvbmx5IGlmIHRoZSBlbGVtZW50IGhhcyBhZGRlZCBvciByZW1vdmVkIGNoaWxkcmVuXG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihhc3luYyBmdW5jdGlvbihtdXRhdGlvbkxpc3QpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBmb3VuZCBzdGF0dXMgb2YgdGhlIGVsZW1lbnRzIGluIHRoZSBjaGlsZHJlbiBsaXN0XG4gICAgICAgICAgICBpZiAoaXNPd25NdXRhdGlvbihtdXRhdGlvbkxpc3QpKSByZXR1cm47XG4gICAgICAgICAgICB0b0JlVXBkYXRlZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuaXNGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICByZW1vdmVGcm9tQmVhZ2xlSW5mb0xheWVyKGVsZW1lbnQubmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJSZXN0YXJ0ID0gcGFyc2VTZWFyY2hQYXRoc1JldHJ5ID49IFBBUlNFU0VBUkNITUFYUkVUUlk7XG4gICAgICAgICAgICBwYXJzZVNlYXJjaFBhdGhzRGVsYXkgPSBQQVJTRVNFQVJDSFNUQVJUREVMQVk7XG4gICAgICAgICAgICBwYXJzZVNlYXJjaFBhdGhzUmV0cnkgPSAwO1xuICAgICAgICAgICAgaWYgKHRyaWdnZXJSZXN0YXJ0KSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJzZWFyY2hPYmo6IHRyaWdnZXJlZCBhIHJlc3RhcnQgb2Ygc2VhcmNocGF0aHMgZHVlOiBcIiwgc2VhcmNoRWxlbWVudC5uYW1lKTtcbiAgICAgICAgICAgICAgcGFyc2VyQ2FsbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh2YWx1ZSwge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZX0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5SW5uZXJUZXh0XCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlLmlubmVyVGV4dCAmJiB2YWx1ZS5pbm5lclRleHQudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBsYXllclZhbHVlID0gdmFsdWUuaW5uZXJUZXh0O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5QXR0cmliVmFsdWVMaXN0XCI6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBhdHRyaWJWYWx1ZUxpc3QgPSBbXTtcbiAgICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yQWxsKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkgYnJlYWs7XG4gICAgICAgICAgZm9yIChjb25zdCB2YWx1ZWNoaWxkIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJWYWx1ZSA9IHZhbHVlY2hpbGQuZ2V0QXR0cmlidXRlKHNlYXJjaEVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgaWYgKGF0dHJpYlZhbHVlKSB7XG4gICAgICAgICAgICAgIGF0dHJpYlZhbHVlTGlzdC5wdXNoKGF0dHJpYlZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYXR0cmliVmFsdWVMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxheWVyVmFsdWUgPSBhdHRyaWJWYWx1ZUxpc3Q7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5SGFzSW5uZXJUZXh0XCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29uc3Qgc2V0VmFsdWUgPSB2YWx1ZS5pbm5lclRleHQudHJpbSgpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgbGF5ZXJWYWx1ZSA9IHNldFZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlDb3VudEVsdHNcIjpcbiAgICAgICAgdmFsdWUgPSBvYmoucXVlcnlTZWxlY3RvckFsbChzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsYXllclZhbHVlID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5VmFsdWVJZkhhc0lubmVyVGV4dFwiOlxuICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUuaW5uZXJUZXh0ICYmIHZhbHVlLmlubmVyVGV4dC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxheWVyVmFsdWUgPSBzZWFyY2hFbGVtZW50LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5U3VtTnVtSW5uZXJUZXh0XCI6XG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yQWxsKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkgYnJlYWs7XG4gICAgICAgICAgbGV0IHN1bVByaWNlID0gMDtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFRleHQgPSBjaGlsZC5pbm5lclRleHQudHJpbSgpLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcbiAgICAgICAgICAgIGlmIChjaGlsZFRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBzdW1QcmljZSs9cGFyc2VJbnQoY2hpbGRUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN1bVByaWNlID4gMCkge1xuICAgICAgICAgICAgbGF5ZXJWYWx1ZSA9IHN1bVByaWNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb2NRdWVyeUFycmF5SW5uZXJUZXh0XCI6XG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yQWxsKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkgYnJlYWs7XG4gICAgICAgICAgY29uc3QgYXJyYXlJbm5lclRleHQgPSBbXTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFRleHQgPSBjaGlsZC5pbm5lclRleHQudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGNoaWxkVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGFycmF5SW5uZXJUZXh0LnB1c2goY2hpbGRUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFycmF5SW5uZXJUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxheWVyVmFsdWUgPSBhcnJheUlubmVyVGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YWx1ZSA9IGpzb25HZXQob2JqLCBzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgKEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubGVuZ3RoID4gMCA6IHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgbGF5ZXJWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH0gLy8gc3dpdGNoXG5cbiAgICBpZiAobGF5ZXJWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGxheWVyVmFsdWUgIT09IG51bGwpIHtcbiAgICAgIGlmIChzZWFyY2hFbGVtZW50LmZvcm1hdHRlcikge1xuICAgICAgICBsYXllclZhbHVlID0gcHJvY2Vzc0Zvcm1hdHRlcihsYXllclZhbHVlLCBzZWFyY2hFbGVtZW50LmZvcm1hdHRlcik7XG4gICAgICB9XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihzZWFyY2hFbGVtZW50Lm5hbWUsIGxheWVyVmFsdWUpO1xuICAgICAgc2VhcmNoRWxlbWVudC5pc0ZvdW5kID0gdHJ1ZTtcblxuICAgICAgLy8gbWFyayBleGNsdXNpdmUgZWxlbWVudHMgYXMgZm91bmRcbiAgICAgIGlmIChzZWFyY2hFbGVtZW50LmV4Y2x1c2l2ZSAmJiBBcnJheS5pc0FycmF5KHNlYXJjaEVsZW1lbnQuZXhjbHVzaXZlKSAmJiBzZWFyY2hFbGVtZW50LmV4Y2x1c2l2ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgZXhjbHVzaXZlRWxlbWVudCBvZiBzZWFyY2hQYXRocykge1xuICAgICAgICAgIGlmIChzZWFyY2hFbGVtZW50LmV4Y2x1c2l2ZS5pbmNsdWRlcyhleGNsdXNpdmVFbGVtZW50Lm5hbWUpKSB7XG4gICAgICAgICAgICBleGNsdXNpdmVFbGVtZW50LmlzRm91bmQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2VhcmNoRWxlbWVudC5pc0ZvdW5kKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIuZXJyb3IoXCJzZWFyY2hPYmogZXJyb3I6IFwiICsgZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgY3VzdG9tRGF0YURlcml2YXRpb25zID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBjdXJyZW50UGFnZVR5cGUgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiUGFnZVR5cGVcIiwgdHJ1ZSwgNTAsIDEwMDApO1xuXG4gIHRyeSB7XG4gICAgLy8gY2FydCB0b3RhbCBwcm9kdWN0IHByaWNlIGlzIG5vdCBhdmFpbGFibGUgYW55d2hlcmUsIHNwZWNpYWwgZGlzY291bnRzIGV0YyBhcmUgaGFyZCB0byBzY3JhcGUsIHNvIHJlY2FsY3VsYXRlIGl0XG4gICAgY29uc3QgW2lzQ2FydEVtcHR5LCB0b3RhbEJhc2VQcmljZSwgY291cG9uTm90QXBwbGljYWJsZSwgcHJpY2VzLCBxdWFudGl0aWVzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LmlzZW1wdHlcIiksXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiY2FydC50b3RhbEJhc2VQcmljZVwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIiksXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiY2FydC5wcmljZXNcIiksXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiY2FydC5xdWFudGl0aWVzXCIpLFxuICAgIF0pO1xuXG4gICAgbGV0IHRvdGFsUHJpY2UgPSAwO1xuXG4gICAgaWYgKCF0b3RhbEJhc2VQcmljZSAmJiBwcmljZXMgJiYgQXJyYXkuaXNBcnJheShwcmljZXMpICYmIHByaWNlcy5sZW5ndGggPiAwICYmIHF1YW50aXRpZXMgJiYgQXJyYXkuaXNBcnJheShxdWFudGl0aWVzKSAmJiBxdWFudGl0aWVzLmxlbmd0aCA+IDAgJiYgcHJpY2VzLmxlbmd0aCA9PT0gcXVhbnRpdGllcy5sZW5ndGgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRvdGFsUHJpY2UgKz0gcGFyc2VJbnQocHJpY2VzW2ldKSAqIHBhcnNlSW50KHF1YW50aXRpZXNbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0b3RhbFByaWNlID0gcGFyc2VJbnQodG90YWxCYXNlUHJpY2UpO1xuICAgIH1cblxuICAgIGxldCBjb3Vwb25BcHBsaWNhYmxlQW1vdW50ID0gMDtcbiAgICBpZiAoIWlzQ2FydEVtcHR5ICYmIHRvdGFsUHJpY2UgJiYgY291cG9uTm90QXBwbGljYWJsZSkge1xuICAgICAgY291cG9uQXBwbGljYWJsZUFtb3VudCA9IHRvdGFsUHJpY2UgLSBwYXJzZUludChjb3Vwb25Ob3RBcHBsaWNhYmxlKTtcbiAgICB9IGVsc2UgaWYgKCFpc0NhcnRFbXB0eSAmJiB0b3RhbFByaWNlKSB7XG4gICAgICBjb3Vwb25BcHBsaWNhYmxlQW1vdW50ID0gcGFyc2VJbnQodG90YWxQcmljZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdXBvbkFwcGxpY2FibGVBbW91bnQgPSAwO1xuICAgIH1cbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNhcnQuY291cG9uQXBwbGljYWJsZUFtb3VudFwiLCBjb3Vwb25BcHBsaWNhYmxlQW1vdW50KTtcblxuICAgIGlmIChpc0NhcnRFbXB0eSkge1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LnRvdGFsUHJpY2VcIiwgMCk7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiLCAwKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIuZXJyb3IoXCJjdXN0b21EYXRhRGVyaXZhdGlvbnMgY2Fubm90IGNvbXB1dGUgY291cG9uQXBwbGljYWJsZVByaWNlOiBcIiArIGUpO1xuICB9XG5cbiAgLy8gUHJvZHVjdCBwYWdlIC0tPiB0cmFuc2ZlciBza3VzIHRvIHNpbmdsZSBsb2NhdGlvblxuICBpZiAoY3VycmVudFBhZ2VUeXBlID09PSBcIlByb2R1Y3RwYWdlXCIpIHtcbiAgICBjb25zdCBza3UgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwicGRwLnNrdVwiKTtcbiAgICBpZiAoc2t1IT09bnVsbCAmJiBza3UhPT11bmRlZmluZWQpIHtcbiAgICAgIGF3YWl0IGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiX19mZWF0dXJlcy5TS1Vzb25QYWdlXCIsIFtza3VdKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY3VycmVudFBhZ2VUeXBlID09PSBcImJhc2tldFwiKSB7XG4gICAgY29uc3Qgc2t1TGlzdCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LnNrdXNcIik7XG4gICAgaWYgKHNrdUxpc3QhPT1udWxsICYmIEFycmF5LmlzQXJyYXkoc2t1TGlzdCkgJiYgc2t1TGlzdC5sZW5ndGgpIHtcbiAgICAgIGF3YWl0IGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiX19mZWF0dXJlcy5TS1Vzb25QYWdlXCIsIHNrdUxpc3QpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgcGFyc2VTZWFyY2hQYXRocyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgZG9tU3RhdHVzID0gZG9jdW1lbnQucmVhZHlTdGF0ZTtcbiAgLy8gY2hlY2sgaWYgZG9jdW1lbnQgYW5kIGRvbSBpcyBsb2FkZWQgYW5kIHJlYWR5IGZvciBzY3JhcHBpbmdcbiAgbG9nZ2VyLmxvZyhcInBhcnNlU2VhcmNoUGF0aHMgaW5pdGlhbGl6ZWQgd2l0aCBkb20gc3RhdHVzOiAgXCIgKyBkb21TdGF0dXMpO1xuXG4gIGNvbnN0IHdpbnRvcCA9IHdpbmRvdy50b3A7XG4gIGNvbnN0IGRhdGFMYXllciA9IHdpbnRvcC5kYXRhTGF5ZXI7XG4gIGNvbnN0IHdpbmRvYyA9IHdpbnRvcC5kb2N1bWVudDtcbiAgbGV0IHNvcmdBcnJheUlubmVyO1xuXG4gIGNvbnN0IGZvdW5kTmFtZXMgPSBuZXcgU2V0KCk7XG4gIGNvbnN0IHByZXZGb3VuZE5hbWVzID0gbmV3IFNldCgpO1xuICBjb25zdCBub3RGb3VuZE5hbWVzID0gbmV3IFNldCgpO1xuXG4gIC8vIFBhZ2VUeXBlIGNhbiBiZSBpbmZlcnJlZCBmcm9tIFVSTCwgaWYgZm91bmQgdXNlIGl0IGZyb20gdGhlcmVcbiAgbGV0IGN1cnJlbnRQYWdlVHlwZSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiKTtcblxuICBpZiAoY3VycmVudFBhZ2VUeXBlKSB7XG4gICAgcHJldkZvdW5kTmFtZXMuYWRkKFwiUGFnZVR5cGVcIik7XG4gIH1cblxuICAvLyBMb29wIHRocm91Z2ggc2VhcmNoIGxpc3RzIGFuZCBtYXJrIGZvdW5kIG5hbWVzXG4gIGZvciAoY29uc3Qgc2VhcmNoRWxlbWVudCBvZiBzZWFyY2hQYXRocykge1xuICAgIGlmIChzZWFyY2hFbGVtZW50LmlzRm91bmQpIHtcbiAgICAgIHByZXZGb3VuZE5hbWVzLmFkZChzZWFyY2hFbGVtZW50Lm5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoY29uc3Qgc2VhcmNoRWxlbWVudCBvZiBzZWFyY2hQYXRocykge1xuICAgIGlmIChzZWFyY2hFbGVtZW50LmlzRm91bmQgfHwgc2VhcmNoRWxlbWVudC5pc0lnbm9yZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGZvdW5kTmFtZXMuaGFzKHNlYXJjaEVsZW1lbnQubmFtZSkgfHwgcHJldkZvdW5kTmFtZXMuaGFzKHNlYXJjaEVsZW1lbnQubmFtZSkpIHtcbiAgICAgIC8vIGhhZCBhbHJlYWR5IGZvdW5kIHRoaXMgZWxlbWVudCBvbiBhbm90aGVyIHBhcnNlIGl0ZW1cbiAgICAgIHNlYXJjaEVsZW1lbnQuaXNGb3VuZCA9IHRydWU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoc2VhcmNoRWxlbWVudC5QYWdlVHlwZURlcGVuZCAhPT0gXCIqXCIpIHtcbiAgICAgIGlmICghY3VycmVudFBhZ2VUeXBlKSB7XG4gICAgICAgIGN1cnJlbnRQYWdlVHlwZSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiKTtcbiAgICAgICAgaWYgKCFjdXJyZW50UGFnZVR5cGUpIHtcbiAgICAgICAgICBub3RGb3VuZE5hbWVzLmFkZChzZWFyY2hFbGVtZW50Lm5hbWUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWFyY2hFbGVtZW50LlBhZ2VUeXBlRGVwZW5kLmluZGV4T2YoY3VycmVudFBhZ2VUeXBlKSA8IDApIHtcbiAgICAgICAgLy8gc2tpcCBzZWFyY2hFbGVtZW50IGJlY2F1c2Ugb2YgUGFnZVR5cGVEZXBlbmRcbiAgICAgICAgc2VhcmNoRWxlbWVudC5pc0lnbm9yZSA9IHRydWU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzZWFyY2hFbGVtZW50Lm1ldGhvZCA9PT0gXCJTaW5nbGVXVFwiKSB7IC8vIFNDQU4gV2luZG93IGZvciBTaW5nbGUgRWxlbWVudHNcbiAgICAgIHNlYXJjaEFuZFNldCh3aW50b3AsIHNlYXJjaEVsZW1lbnQsIGZvdW5kTmFtZXMsIG5vdEZvdW5kTmFtZXMpO1xuICAgIH0gZWxzZSBpZiAoc2VhcmNoRWxlbWVudC5tZXRob2QgPT09IFwiR0FEYXRhTGF5ZXJcIikgeyAvLyBTQ0FOIEdBIERBVEEgTEFZRVJcbiAgICAgIGZvciAoY29uc3QgZGF0YUxheWVySXRlbSBvZiBkYXRhTGF5ZXIpIHtcbiAgICAgICAgc2VhcmNoQW5kU2V0KGRhdGFMYXllckl0ZW0sIHNlYXJjaEVsZW1lbnQsIGZvdW5kTmFtZXMsIG5vdEZvdW5kTmFtZXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2VhcmNoRWxlbWVudC5tZXRob2QgPT09IFwiRG9jU29yZ1wiKSB7IC8vIFNDQU4gU09SRyBBUlJBWVxuICAgICAgaWYgKCFzb3JnQXJyYXlJbm5lcikge1xuICAgICAgICBzb3JnQXJyYXlJbm5lciA9IGdldFNPUkdBcnJheSgpO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBzb3JnSXRlbSBvZiBzb3JnQXJyYXlJbm5lcikge1xuICAgICAgICBzZWFyY2hBbmRTZXQoc29yZ0l0ZW0sIHNlYXJjaEVsZW1lbnQsIGZvdW5kTmFtZXMsIG5vdEZvdW5kTmFtZXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2VhcmNoRWxlbWVudC5tZXRob2QgPT09IFwiRG9jUXVlcnlcIikgeyAvLyBTQ0FOIERPQ1VNRU5UXG4gICAgICBzZWFyY2hBbmRTZXQod2luZG9jLCBzZWFyY2hFbGVtZW50LCBmb3VuZE5hbWVzLCBub3RGb3VuZE5hbWVzKTtcbiAgICB9IC8vIERPQ1FVRVJZIHBhcnNlXG4gIH1cblxuICBpZiAobm90Rm91bmROYW1lcy5zaXplID09PSAwKSB7XG4gICAgcGFyc2VTZWFyY2hQYXRoc1JldHJ5ID0gUEFSU0VTRUFSQ0hNQVhSRVRSWTtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRocyBmb3VuZCBhbGwgZWxlbWVudHMgLSBzZXR0aW5nIHJldHJ5IHRvIG1heFwiKTtcbiAgfSBlbHNlIGlmIChmb3VuZE5hbWVzLnNpemUgPT09IDApIHtcbiAgICAvLyB1cGRhdGUgcmV0cnkgY291bnRlciBhbmQgZGVsYXkgb25seSBpZiBkb20gaXMgYWN0aXZlXG4gICAgaWYgKGRvbVN0YXR1cyA9PT0gXCJjb21wbGV0ZVwiIHx8IGRvbVN0YXR1cyA9PT0gXCJpbnRlcmFjdGl2ZVwiKSB7XG4gICAgICBwYXJzZVNlYXJjaFBhdGhzRGVsYXkgKj0gMjtcbiAgICAgIHBhcnNlU2VhcmNoUGF0aHNSZXRyeSArPSAxO1xuICAgIH1cblxuICAgIGxvZ2dlci5sb2coXCJwYXJzZVNlYXJjaFBhdGhzIHByb2Nlc3NlZCBidXQgbm90IGZvdW5kIGFueSwgc2V0dGluZyBkZWxheSBhbmQgcmV0cnkgdG8gXCIgK1xuICAgICAgcGFyc2VTZWFyY2hQYXRoc0RlbGF5ICsgXCIgYW5kIFwiICtcbiAgICAgIHBhcnNlU2VhcmNoUGF0aHNSZXRyeSArIFwiIGZvciBub3Rmb3VuZDogW1wiICtcbiAgICAgIEFycmF5LmZyb20obm90Rm91bmROYW1lcykuam9pbihcIiB8IFwiKSArIFwiXVwiLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgbG9nZ2VyLmxvZyhcInBhcnNlU2VhcmNoUGF0aHMgcHJvY2Vzc2VkOiBub3Rmb3VuZDogW1wiICtcbiAgICAgIEFycmF5LmZyb20obm90Rm91bmROYW1lcykuam9pbihcIiB8IFwiKSArIFwiXSBhbmQgZm91bmQgXCIgK1xuICAgICAgZm91bmROYW1lcy5zaXplLFxuICAgICk7XG4gIH1cbn07XG5cbmNvbnN0IHNlYXJjaEFuZFNldCA9IChvYmosIHNlYXJjaEVsZW1lbnQsIGZvdW5kTmFtZXMsIG5vdEZvdW5kTmFtZXMpID0+IHtcbiAgaWYgKHNlYXJjaE9iaihvYmosIHNlYXJjaEVsZW1lbnQpKSB7XG4gICAgZm91bmROYW1lcy5hZGQoc2VhcmNoRWxlbWVudC5uYW1lKTtcbiAgfSBlbHNlIHtcbiAgICBub3RGb3VuZE5hbWVzLmFkZChzZWFyY2hFbGVtZW50Lm5hbWUpO1xuICB9XG59O1xuXG4vLyBwYXJzZSBzb3VyY2VcbmNvbnN0IHBhcnNlckNhbGxlciA9IGFzeW5jIGZ1bmN0aW9uKCkge1xuICBhd2FpdCBwYXJzZVNlYXJjaFBhdGhzKCk7XG4gIGlmIChwYXJzZVNlYXJjaFBhdGhzUmV0cnkgPCBQQVJTRVNFQVJDSE1BWFJFVFJZKSB7XG4gICAgbG9nZ2VyLmxvZyhcInBhcnNlU2VhcmNoUGF0aHM6IHNjaGVkdWxlZCB0byBiZSByZWNhbGxlZCBpbiBcIiArIHBhcnNlU2VhcmNoUGF0aHNEZWxheSArIFwibXNcIik7XG4gICAgc2V0VGltZW91dChhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgIGF3YWl0IHBhcnNlckNhbGxlcigpO1xuICAgIH0sIHBhcnNlU2VhcmNoUGF0aHNEZWxheSk7XG4gIH0gZWxzZSB7XG4gICAgbG9nZ2VyLmxvZyhcInBhcnNlU2VhcmNoUGF0aHM6IHJlYWNoZWQgbWF4IHJldHJ5LCBjYWxsaW5nIHJlbWFpbmRlciBoaXN0b3JpY2FsIGRhdGFcIik7XG4gICAgYXdhaXQgY3VzdG9tRGF0YURlcml2YXRpb25zKCk7XG4gICAgYXdhaXQgY29sbGVjdERlcml2YXRpb25zRnJvbUNvbGxlY3RvcigpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiX19Db21wbGV0ZWRTY3JhcGluZ1wiLCB0cnVlKTtcbiAgfVxufTtcblxuLy8gRXh0cmFjdCB2YWx1ZSBmcm9tIGpzb24gb2JqZWN0IHVzaW5nIGdpdmVuIHBhdGhcbi8vIElmIGFuIGVsZW1lbnQgaXMgKiwgY29uY2F0ZW5hdGUgcmVjdXJzaXZlbHkgYWxsIHN1Yi1wYXRoIHZhbHVlcyBhcyBzdHJpbmdcbmNvbnN0IGpzb25HZXQgPSAob2JqLCBwYXRoKSA9PiB7XG4gIGlmICghb2JqKSByZXR1cm4gbnVsbDtcbiAgaWYgKCFwYXRoKSByZXR1cm4gbnVsbDtcblxuICB0cnkge1xuICAgIGNvbnN0IHBhdGhBcnJheSA9IHBhdGguc3BsaXQoXCIuXCIpO1xuICAgIGxldCBjdXJyZW50ID0gb2JqO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAocGF0aEFycmF5W2ldID09PSBcIipcIikge1xuICAgICAgICBjb25zdCBzdWJQYXRoID0gcGF0aEFycmF5LnNsaWNlKGkgKyAxKS5qb2luKFwiLlwiKTtcbiAgICAgICAgY29uc3Qgc3ViQXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzdWJLZXkgaW4gY3VycmVudCkge1xuICAgICAgICAgIGlmIChjdXJyZW50W3N1YktleV0gIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50W3N1YktleV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YlZhbHVlID0ganNvbkdldChjdXJyZW50W3N1YktleV0sIHN1YlBhdGgpO1xuICAgICAgICAgICAgaWYgKHN1YlZhbHVlICE9PSBudWxsICYmIHN1YlZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgc3ViQXJyYXkucHVzaChzdWJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJBcnJheTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50W3BhdGhBcnJheVtpXV07XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IHByZXBhcmVDb3JlRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgd2luZG93UHRyID0gd2luZG93LnRvcDtcbiAgY29uc3QgbmF2UHRyID0gd2luZG93UHRyLm5hdmlnYXRvcjtcblxuICBjb25zdCBwbGF0Zm9ybSA9IHdpbmRvd1B0ci5uYXZpZ2F0b3I/LnVzZXJBZ2VudERhdGE/LnBsYXRmb3JtIHx8XG4gICAgd2luZG93UHRyLm5hdmlnYXRvcj8ucGxhdGZvcm0gfHxcbiAgICB3aW5kb3dQdHIubmF2aWdhdG9yPy51c2VyQWdlbnQ7XG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2UGxhdGZvcm1cIiwgcGxhdGZvcm0pO1xuXG4gIC8qIHdpbmRvdyB2aWV3IGFyZWEgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2Uud2luZG93UFJhdGlvXCIsIHdpbmRvd1B0ci5kZXZpY2VQaXhlbFJhdGlvKTtcblxuICBjb25zdCBhdmFpbFdpbmRvdyA9IHdpbmRvd1B0ci5zY3JlZW4/LmF2YWlsV2lkdGggKyBcInhcIiArIHdpbmRvd1B0ci5zY3JlZW4/LmF2YWlsSGVpZ2h0O1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS53aW5kb3dBdmFpbFwiLCBhdmFpbFdpbmRvdyk7XG5cbiAgY29uc3Qgd2luZG93RGVwdGggPSB3aW5kb3dQdHIuc2NyZWVuPy5jb2xvckRlcHRoICsgXCItXCIgKyB3aW5kb3dQdHIuc2NyZWVuPy5waXhlbERlcHRoO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS53aW5kb3dEZXB0aFwiLCB3aW5kb3dEZXB0aCk7XG5cbiAgY29uc3QgdnBvcnRTaGFwZSA9IHdpbmRvd1B0ci52aXN1YWxWaWV3cG9ydD8ud2lkdGggKyBcInhcIiArIHdpbmRvd1B0ci52aXN1YWxWaWV3cG9ydD8uaGVpZ2h0O1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS53aW5kb3dWcG9ydFwiLCB2cG9ydFNoYXBlKTtcblxuICBpZiAoc2NyZWVuLndpZHRoKSB7XG4gICAgbGV0IHdpZHRoID0gcGFyc2VJbnQoc2NyZWVuLndpZHRoKTtcbiAgICBsZXQgaGVpZ2h0ID0gKHNjcmVlbi5oZWlnaHQpID8gcGFyc2VJbnQoc2NyZWVuLmhlaWdodCkgOiAwO1xuICAgIGlmICh3aWR0aCAhPT0gMCAmJiBoZWlnaHQgIT09IDApIHtcbiAgICAgIGNvbnN0IGlPUyA9IC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KHBsYXRmb3JtKTtcbiAgICAgIGlmIChpT1MgJiYgd2luZG93UHRyLmRldmljZVBpeGVsUmF0aW8pIHtcbiAgICAgICAgLy8gaW9zIHByb3ZpZGVzIERQSXMsIG5lZWQgdG8gbXVsdGlwbHlcbiAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoICogd2luZG93UHRyLmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCAqIHdpbmRvd1B0ci5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uQW5nbGUgPSB3aW5kb3dQdHIuc2NyZWVuPy5vcmllbnRhdGlvbj8uYW5nbGU7XG4gICAgICAgIGlmIChNYXRoLmFicyhvcmllbnRhdGlvbkFuZ2xlKSA9PT0gOTAgfHwgTWF0aC5hYnMob3JpZW50YXRpb25BbmdsZSkgPT09IDI3MCkge1xuICAgICAgICAgIC8vIHdlIGhhdmUgbGFuZHNjYXBlIG9yaWVudGF0aW9uIHN3aXRjaCB2YWx1ZXMgZm9yIGFsbCBleGNlcHQgaW9zXG4gICAgICAgICAgY29uc3QgdGVtcCA9IHdpZHRoO1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0O1xuICAgICAgICAgIGhlaWdodCA9IHRlbXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd1wiLCB3aWR0aCArIFwieFwiICsgaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKiBuYXZpZ2F0b3IgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2SGlzdFNpemVcIiwgd2luZG93UHRyLmhpc3Rvcnk/Lmxlbmd0aCk7XG5cbiAgLy8gY2hlY2sgaWYgdXNlckFnZW50RGF0YSBpcyBzdXBwb3J0ZWQgYW5kIHVzZXJBZ2VudCBpcyBub3QgYXZhaWxhYmxlLCB1c2UgaXRcbiAgaWYgKCFuYXZQdHIudXNlckFnZW50KSB7XG4gICAgaWYgKG5hdlB0ci51c2VyQWdlbnREYXRhKSB7XG4gICAgICAvLyB0dXJuIGJyYW5kcyBhcnJheSBpbnRvIHN0cmluZ1xuICAgICAgbGV0IG5hdkFnZW50ID0gbmF2UHRyPy51c2VyQWdlbnREYXRhPy5icmFuZHM/Lm1hcChmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBlLmJyYW5kICsgXCI6XCIgKyBlLnZlcnNpb247XG4gICAgICB9KS5qb2luKCk7XG4gICAgICAvLyBhZGQgbW9iaWxlIGluZm9cbiAgICAgIG5hdkFnZW50ICs9IChuYXZQdHI/LnVzZXJBZ2VudERhdGE/Lm1vYmlsZSA/IFwibW9iaVwiIDogXCIgXCIpO1xuICAgICAgLy8gYWRkIHBsYXRmb3JtIGluZm9cbiAgICAgIG5hdkFnZW50ICs9IHBsYXRmb3JtO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2QWdlbnRcIiwgbmF2QWdlbnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZBZ2VudFwiLCBuYXZQdHIudXNlckFnZW50KTtcbiAgfVxuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLm5hdkhXQ29yZXNcIiwgbmF2UHRyLmhhcmR3YXJlQ29uY3VycmVuY3kpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZMYW5ndWFnZVwiLCBuYXZQdHIubGFuZ3VhZ2UgfHxcbiAgICAgIG5hdlB0ci5icm93c2VyTGFuZ3VhZ2UgfHxcbiAgICAgIG5hdlB0ci5zeXN0ZW1MYW5ndWFnZSB8fFxuICAgICAgbmF2UHRyLnVzZXJMYW5ndWFnZSxcbiAgKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2VG91Y2hcIiwgbmF2UHRyLm1heFRvdWNoUG9pbnRzKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2VmVuZG9yXCIsIG5hdlB0ci52ZW5kb3IpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5pbnRlcm5ldFNwZWVkXCIsIHdpbmRvd1B0ci5uYXZpZ2F0b3I/LmNvbm5lY3Rpb24/LmRvd25saW5rKTtcblxuICAvKiBtaXNjZWxsYW5lb3VzICovXG4gIGNvbnN0IGN1cnJlbnRVUkwgPSBuZXcgVVJMKHdpbmRvdy50b3AubG9jYXRpb24uaHJlZik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidVwiLCBjdXJyZW50VVJMLmhyZWYpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRcIiwgY3VycmVudFVSTC5ob3N0bmFtZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZG9udHRyYWNrXCIsIG5hdlB0ci5kb05vdFRyYWNrIHx8IHdpbmRvd1B0ci5kb05vdFRyYWNrIHx8IG5hdlB0ci5tc0RvTm90VHJhY2spO1xuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiclwiLCB3aW5kb3dQdHIuZG9jdW1lbnQucmVmZXJyZXIpO1xuICBjb25zdCBmaXJzdFNlc3Npb25SZWZlcnJlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9SRUZFUlJFUik7XG4gIGlmICghZmlyc3RTZXNzaW9uUmVmZXJyZXIpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fUkVGRVJSRVIsIHdpbmRvd1B0ci5kb2N1bWVudC5yZWZlcnJlcik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJmclwiLCB3aW5kb3dQdHIuZG9jdW1lbnQucmVmZXJyZXIpO1xuICB9IGVsc2Uge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZnJcIiwgZmlyc3RTZXNzaW9uUmVmZXJyZXIpO1xuICB9XG5cbiAgLyogVml2ZW5zZSBzcGVjaWZpYyAqL1xuICBsZXQgcGFnZVR5cGU7XG4gIC8vIGlmIHVybCBsaWtlIHggdGhlbiBzZXQgUGFnZVR5cGUgPSB5XG4gIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJmYXZvcmlsZXJpbS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwiZmF2b3JpdGVzXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwic2lwYXJpcy1saXN0ZXNpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJiYXNrZXRcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJzaXBhcmlzLW96ZXRpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJwdXJjaGFzZVwiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcIm9kZW1lLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJwYXltZW50XCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwiYWRyZXMtbGlzdGVzaS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwiYWRkcmVzc1wiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInNpcGFyaXNsZXJpbS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwicGFzdG9yZGVyc1wiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInV5ZS1rYXlpdC5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwicmVnaXN0ZXJcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJ1eWUtZ2lyaXNpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJzaWduaW5cIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJrdXBvbmxhcmltLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJwcm9maWxlX2NvdXBvbnNcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJwcm9maWwtZ3VuY2VsbGUuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInByb2ZpbGVfaW5mb1wiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcImFkcmVzbGVyaW0uaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInByb2ZpbGVfYWRkcmVzc2VzXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwiZHV5dXJ1LXRlcmNpaGxlcmkuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInByb2ZpbGVfbm90aWZpY2F0aW9uc1wiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcImluZGlyaW1saS1tb2JpbHlhLWthbXBhbnlhbGFyaS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwic3BlY2lhbF9jYW1wYWlnbnNcIjtcbiAgfVxuXG4gIGlmIChwYWdlVHlwZSkge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiUGFnZVR5cGVcIiwgcGFnZVR5cGUpO1xuICB9XG59O1xuXG5jb25zdCBhZGRNZXRyaWNzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHdpbmRvd1B0ciA9IHdpbmRvdy50b3A7XG4gIGNvbnN0IHBlcmZNZXRyaWNzID0ge307XG4gIGNvbnN0IHBlcmZOYXZpZ2F0aW9uTWV0cmljcyA9IHdpbmRvd1B0ci5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibmF2aWdhdGlvblwiKVswXTtcbiAgaWYgKHdpbmRvd1B0ci5wZXJmb3JtYW5jZSAmJiBwZXJmTmF2aWdhdGlvbk1ldHJpY3MpIHtcbiAgICBwZXJmTWV0cmljcy5jb25uZWN0ID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuY29ubmVjdEVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5jb25uZWN0U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLnJlcXVlc3QgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZUVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXF1ZXN0U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLmRvbSA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUludGVyYWN0aXZlIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUNvbXBsZXRlKTtcbiAgICBwZXJmTWV0cmljcy5sb2FkID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MubG9hZEV2ZW50RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmxvYWRFdmVudFN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy5kdXJhdGlvbiA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmR1cmF0aW9uKTtcbiAgfVxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1ldHJpY3NcIiwgcGVyZk1ldHJpY3MpO1xufTtcblxuLy8gVE9ETzogbW92ZSB0aGlzIHRvIGFuIFwiZWxlbWVudCBjb2xsZWN0b3JcIiBtb2R1bGUsIHRoZW4gZGF0YSBpcyBleHRyYWN0ZWQgZnJvbSBwcmUtY29sbGVjdGVkIGVsZW1lbnRzXG5jb25zdCBnZXRTT1JHQXJyYXkgPSAoKSA9PiB7XG4gIGNvbnN0IHNjaGVtYU9yZ0VsdHMgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbdHlwZT1cXFwiYXBwbGljYXRpb24vbGQranNvblxcXCJdXCIpO1xuICBjb25zdCBzb3JnQXJyYXkgPSBbXTtcblxuICBmb3IgKGNvbnN0IHNUYWcgb2Ygc2NoZW1hT3JnRWx0cykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjbnRudCA9IHNUYWcudGV4dENvbnRlbnQ7XG4gICAgICBjb25zdCBqc29uY29udGVudCA9IEpTT04ucGFyc2UoY250bnQpO1xuICAgICAgc29yZ0FycmF5LnB1c2goanNvbmNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgfVxuICByZXR1cm4gc29yZ0FycmF5O1xufTtcbiIsImltcG9ydCB7TE9HX0FQSV9VUkx9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IHtnZXRGcm9tQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVNb25pdG9yXCIpO1xuY29uc3QgSEVBREVSUyA9IHtcbiAgdHlwZTogXCJ0ZXh0L3BsYWluXCIsXG59O1xuXG5leHBvcnQgY2xhc3MgTW9uaXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgbW9uaXRvclwiKTtcblxuICAgIHRoaXMuaGFzQXJyaXZhbExvZ1NlbnQgPSBmYWxzZTtcbiAgICB0aGlzLmhhc01haW5Mb2dTZW50ID0gZmFsc2U7XG4gICAgdGhpcy5oYXNVcGRhdGVzU2VudCA9IGZhbHNlO1xuXG4gICAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gbnVsbDtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgLy8gQXR0ZW1wdHMgdG8gc2VuZCB0aGUgaW5pdGlhbCBsb2cgYm9keSAoYmVhZ2xlSW5mb0xheWVyJ3MgaW5pdGlhbCBwb3B1bGF0aW9uKSBpbW1lZGlhdGVseVxuICBhc3luYyBzZW5kTG9ncyhpbW1lZGlhdGUpIHtcbiAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICBsb2dnZXIubG9nKFwiSW4gaW1tZWRpYXRlIHNlbmRpbmcgYmxvY2tcIik7XG4gICAgICBhd2FpdCB0aGlzLnBhY2tBbmRRdWV1ZU1haW5Mb2coKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmxvZyhcIkluIG5vbi1jcml0aWNhbCBzZW5kIHBhdGggLSBhd2FpdGluZyBzY3JhcGluZ1wiKTtcbiAgICAgIGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJfX0NvbXBsZXRlZFNjcmFwaW5nXCIsIHRydWUsIDUwLCAxMDAwKTtcbiAgICAgIGxvZ2dlci5sb2coXCJJbiBub24tY3JpdGljYWwgc2VuZCBwYXRoIC0gc2VuZGluZyBsb2dzXCIpO1xuICAgICAgYXdhaXQgdGhpcy5wYWNrQW5kUXVldWVNYWluTG9nKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2VuZCBpbml0aWFsIGxvZyBib2R5IGFuZCBpbmNyZW1lbnRhbCB1cGRhdGUgbG9ncyBvbiBjbG9zZVxuICBhc3luYyBoYW5kbGVDbG9zZUV2ZW50KCkge1xuICAgIC8vIGlmIGluaXRpYWwgbG9nIGhhcyBub3QgYmVlbiBzZW50IHlldCwgc2VuZCB1cGRhdGVzIGFuZCBpbmZvbGF5ZXIgaW4gb25lIGJhdGNoXG4gICAgYXdhaXQgdGhpcy5wYWNrQW5kUXVldWVNYWluTG9nKCk7XG4gICAgLy8gaWYgbWFpbiBsb2cgaGFzIGJlZW4gc2VudCwgc2VuZCBpbmNyZW1lbnRhbCB1cGRhdGVzIG9ubHlcbiAgICBhd2FpdCB0aGlzLnBhY2tBbmRRdWV1ZUluY3JlbWVudGFsTG9nKCk7XG4gIH1cblxuICBhc3luYyBwYWNrQW5kUXVldWVNYWluTG9nKCkge1xuICAgIGlmICh0aGlzLmhhc01haW5Mb2dTZW50KSB7XG4gICAgICAvLyBpZiBtYWluIGxvZyBoYXMgYWxyZWFkeSBiZWVuIHNlbnQsIGRvIG5vdCBzZW5kIGFnYWluXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY29uc3RydWN0IG1haW4gbG9nXG4gICAgY29uc3QgcmVxdWVzdEJsb2IgPSBhd2FpdCB0aGlzLnBhY2thZ2VNYWluTG9nRGF0YSgpO1xuXG4gICAgaWYgKHJlcXVlc3RCbG9iKSB7XG4gICAgICAvLyBwcmVwYXJlIGNoYW5nZSBkZXRlY3Rpb24gaGFzaGVzIGF0IHRoZSB0aW1lIG9mIG1haW4gbG9nIHByZXBhcmF0aW9uXG4gICAgICBhd2FpdCB0aGlzLmNoZWNrRm9yTGF0ZXN0Q2hhbmdlcygpO1xuICAgICAgbG9nZ2VyLmxvZyhcIlJlcXVlc3QgYmxvYiB0byBzZW5kOiBcIiwgcmVxdWVzdEJsb2IpO1xuICAgICAgdGhpcy5oYXNNYWluTG9nU2VudCA9IHRydWU7XG4gICAgICB0aGlzLnF1ZXVlTG9ncyhyZXF1ZXN0QmxvYik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcGFja0FuZFF1ZXVlSW5jcmVtZW50YWxMb2coKSB7XG4gICAgaWYgKCF0aGlzLmhhc01haW5Mb2dTZW50IHx8IHRoaXMuaGFzVXBkYXRlc1NlbnQpIHtcbiAgICAgIC8vIGlmIG1haW4gbG9nIGhhcyBub3QgYmVlbiBzZW50IHlldCwgdGhlcmUgaXMgbm8gaW5jcmVtZW50YWwgeWV0XG4gICAgICAvLyBvciBpZiB0aGUgdXBkYXRlcyBoYXZlIGFscmVhZHkgYmVlbiBzZW50LCBkbyBub3Qgc2VuZCBhZ2FpblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhhc0NoYW5nZWQgPSBhd2FpdCB0aGlzLmNoZWNrRm9yTGF0ZXN0Q2hhbmdlcygpO1xuICAgIGxvZ2dlci5sb2coXCJVcGRhdGUgbG9ncyBjaGFuZ2Ugc3RhdHVzOiBcIiwgaGFzQ2hhbmdlZCk7XG4gICAgaWYgKCFoYXNDaGFuZ2VkKSByZXR1cm47XG5cbiAgICBjb25zdCBsb2dEYXRhID0gYXdhaXQgdGhpcy5wYWNrYWdlSW5jcmVtZW50YWxMb2dEYXRhKCk7XG4gICAgaWYgKGxvZ0RhdGEpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTZW5kaW5nIGluY3JlbWVudGFsIGxvZ3NcIiwgbG9nRGF0YSk7XG4gICAgICB0aGlzLmhhc1VwZGF0ZXNTZW50ID0gdHJ1ZTtcbiAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHBhY2tBbmRRdWV1ZUFycml2YWxMb2coKSB7XG4gICAgaWYgKHRoaXMuaGFzTWFpbkxvZ1NlbnQgfHwgdGhpcy5oYXNBcnJpdmFsTG9nU2VudCkge1xuICAgICAgLy8gaWYgbWFpbiBsb2cgb3IgYXJyaXZhbCBsb2cgaGFzIGFscmVhZHkgYmVlbiBzZW50LCBkbyBub3Qgc2VuZCBhZ2FpblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNvbnN0cnVjdCBtYWluIGxvZ1xuICAgIGNvbnN0IHJlcXVlc3RCbG9iID0gYXdhaXQgdGhpcy5wYWNrYWdlQXJyaXZhbExvZ0RhdGEoKTtcblxuICAgIGlmIChyZXF1ZXN0QmxvYikge1xuICAgICAgLy8gcHJlcGFyZSBjaGFuZ2UgZGV0ZWN0aW9uIGhhc2hlcyBhdCB0aGUgdGltZSBvZiBtYWluIGxvZyBwcmVwYXJhdGlvblxuICAgICAgbG9nZ2VyLmxvZyhcIkFycml2YWwgYmxvYiB0byBzZW5kOiBcIiwgcmVxdWVzdEJsb2IpO1xuICAgICAgdGhpcy5oYXNBcnJpdmFsTG9nU2VudCA9IHRydWU7XG4gICAgICB0aGlzLnF1ZXVlTG9ncyhyZXF1ZXN0QmxvYik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY2hlY2tGb3JMYXRlc3RDaGFuZ2VzKCkge1xuICAgIGNvbnN0IGh3bSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJfX2h3bVwiKTtcbiAgICBpZiAodGhpcy5oaWdoV2F0ZXJNYXJrICE9PSBod20pIHtcbiAgICAgIHRoaXMuaGlnaFdhdGVyTWFyayA9IGh3bTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBhc3luYyBwYWNrYWdlQXJyaXZhbExvZ0RhdGEoKSB7XG4gICAgY29uc3QgW3VybCwgaGFzaCwgY29va2llR2FJZCwgdmlld19lcG9jaF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwidVwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJvbkhhc2hQY3RcIiksXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiY29va2llR2FJZFwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJ2aWV3X2Vwb2NoXCIpLFxuICAgIF0pO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIGNvb2tpZUdhSWQ6IGNvb2tpZUdhSWQsXG4gICAgICBsYzogMCxcbiAgICAgIHZpZXdfZXBvY2g6IHZpZXdfZXBvY2gsXG4gICAgICB1OiB1cmwsXG4gICAgICBvbkhhc2hQY3Q6IGhhc2gsXG4gICAgfTtcblxuICAgIGxvZ2dlci5sb2coXCJBcnJpdmFsIGxvZyBkYXRhOiBcIiwgYm9keSk7XG5cbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgSEVBREVSUyk7XG4gIH1cblxuICBhc3luYyBwYWNrYWdlTWFpbkxvZ0RhdGEoKSB7XG4gICAgY29uc3QgYm9keSA9IHt9O1xuICAgIGlmICghd2luZG93LmJlYWdsZUluZm9MYXllcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIpKSB7XG4gICAgICBpZiAoIWtleS5zdGFydHNXaXRoKFwiX1wiKSAmJiB2YWx1ZSAhPT0gbnVsbCkgYm9keVtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIGJvZHkubGMgPSAxO1xuXG4gICAgcmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShib2R5KV0sIEhFQURFUlMpO1xuICB9XG5cbiAgYXN5bmMgcGFja2FnZUluY3JlbWVudGFsTG9nRGF0YSgpIHtcbiAgICBjb25zdCBbYSwgZSwgZiwgcywgbSwgY29va2llR2FJZCwgdmlld19lcG9jaF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiYVwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJlXCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImZcIiksXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwic1wiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJtXCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImNvb2tpZUdhSWRcIiksXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwidmlld19lcG9jaFwiKSxcbiAgICBdKTtcblxuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICBjb29raWVHYUlkOiBjb29raWVHYUlkLFxuICAgICAgbGM6IDIsXG4gICAgICB2aWV3X2Vwb2NoOiB2aWV3X2Vwb2NoLFxuICAgICAgYSwgZSwgZiwgcywgbSxcbiAgICB9O1xuXG4gICAgbG9nZ2VyLmxvZyhcIlVwZGF0ZSBsb2cgZGF0YTogXCIsIGJvZHkpO1xuXG4gICAgcmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShib2R5KV0sIEhFQURFUlMpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVycygpIHtcbiAgICBsZXQgdmlzaWJpbGl0eUNoYW5nZVRpbWVvdXQgPSBudWxsO1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgZXhpdCBldmVudCBsaXN0ZW5lclwiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBsb2dnZXIubG9nKFwiSW4gYmVmb3JldW5sb2FkIGV2ZW50XCIpO1xuICAgICAgY2xlYXJUaW1lb3V0KHZpc2liaWxpdHlDaGFuZ2VUaW1lb3V0KTtcbiAgICAgIGF3YWl0IHRoaXMuaGFuZGxlQ2xvc2VFdmVudCgpO1xuICAgIH0sIHtjYXB0dXJlOiB0cnVlfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBsb2dnZXIubG9nKFwiSW4gcGFnZWhpZGUgZXZlbnRcIik7XG4gICAgICBjbGVhclRpbWVvdXQodmlzaWJpbGl0eUNoYW5nZVRpbWVvdXQpO1xuICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDbG9zZUV2ZW50KCk7XG4gICAgfSwge2NhcHR1cmU6IHRydWV9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgaWYgKHdpbmRvdy50b3AuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcImhpZGRlblwiKSB7XG4gICAgICAgIC8vIElmIHBhZ2UgaXMgbm90IHZpc2libGUgYW5kIGRvZXNuJ3QgYmVjb21lIHZpc2libGUgd2l0aGluIDMwIHNlY29uZHMsIHNlbmQgbG9nc1xuICAgICAgICB2aXNpYmlsaXR5Q2hhbmdlVGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiB0aW1lb3V0XCIpO1xuICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlQ2xvc2VFdmVudCgpO1xuICAgICAgICB9LCAzMDAwMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIENsZWFyIHRpbWVvdXQgd2hlbiBwYWdlIGlzIHZpc2libGUgdG8gbWFrZSBzdXJlIHdlIHNlbmQgdGhlIGxhdGVzdCBsb2dzIHBvc3NpYmxlXG4gICAgICBjbGVhclRpbWVvdXQodmlzaWJpbGl0eUNoYW5nZVRpbWVvdXQpO1xuICAgICAgdmlzaWJpbGl0eUNoYW5nZVRpbWVvdXQgPSBudWxsO1xuICAgIH0sIHtjYXB0dXJlOiB0cnVlfSk7XG4gIH1cblxuICBxdWV1ZUxvZ3MobG9nRGF0YSkge1xuICAgIGlmICghbmF2aWdhdG9yLnNlbmRCZWFjb24gfHwgdHlwZW9mIG5hdmlnYXRvci5zZW5kQmVhY29uICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGZldGNoKExPR19BUElfVVJMLCBsb2dEYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgIGNvbnN0IHF1ZXVlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoIXF1ZXVlZCkgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocXVldWVJbnRlcnZhbCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIHF1ZXVlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICAgIGlmIChxdWV1ZWQpIHJldHVybjtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNsZWFySW50ZXJ2YWwocXVldWVJbnRlcnZhbCk7XG4gICAgICBpZiAoIXF1ZXVlZCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiTG9ncyBub3QgcXVldWVkXCIpO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vbml0b3I7XG4iLCJpbXBvcnQge0xPQ0FMX1NUT1JBR0VfS0VZUywgU0VTU0lPTl9TVE9SQUdFX0tFWVMsIExPQ0FMX1NUT1JBR0VfVFRMX0hPVVJTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2ZldGNoVHJlYXRtZW50cywgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IHtnZXRGcm9tQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlVHJlYXRtZW50UmVwb3NpdG9yeVwiKTtcblxuY2xhc3MgVHJlYXRtZW50UmVwb3NpdG9yeSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7dHJlYXRtZW50cywgdHJlYXRtZW50V2VpZ2h0c30gPSBib2R5O1xuICAgIHRoaXMudHJlYXRtZW50cyA9IHRyZWF0bWVudHM7XG4gICAgdGhpcy50cmVhdG1lbnRXZWlnaHRzID0gdHJlYXRtZW50V2VpZ2h0cztcbiAgICB0aGlzLmN1cnJlbnRQYWdlVHlwZSA9IG51bGw7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VHJlYXRtZW50cygpIHtcbiAgICBsb2dnZXIubG9nKFwiTG9hZGluZyB0cmVhdG1lbnRzXCIpO1xuICAgIGNvbnN0IHtUUkVBVE1FTlRTfSA9IExPQ0FMX1NUT1JBR0VfS0VZUztcbiAgICBjb25zdCB0cmVhdG1lbnRzT2JqID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oVFJFQVRNRU5UUykpO1xuICAgIGxldCB0cmVhdG1lbnRzID0gdHJlYXRtZW50c09iaj8udHJlYXRtZW50cztcbiAgICBjb25zdCB0aW1lc3RhbXAgPSB0cmVhdG1lbnRzT2JqPy50aW1lc3RhbXA7XG4gICAgaWYgKCF0cmVhdG1lbnRzIHx8ICF0aW1lc3RhbXApIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJUcmVhdG1lbnRzIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgICAgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoVHJlYXRtZW50cygpO1xuICAgICAgaWYgKCF0cmVhdG1lbnRzKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJGYWlsZWQgdG8gZmV0Y2ggdHJlYXRtZW50c1wiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0cmVhdG1lbnRXaXRoVGltZXN0YW1wID0ge1xuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHRyZWF0bWVudHMsXG4gICAgICB9O1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLk1BVENIRURfVFJFQVRNRU5UUyk7XG4gICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICB9XG4gICAgaWYgKHRpbWVzdGFtcCkge1xuICAgICAgY29uc3QgZWxhcHNlZEhvdXJzID0gKERhdGUubm93KCkgLSB0aW1lc3RhbXApIC8gKDEwMDAgKiAzNjAwKTtcbiAgICAgIGlmIChlbGFwc2VkSG91cnMgPiBMT0NBTF9TVE9SQUdFX1RUTF9IT1VSUykge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiVHJlYXRtZW50cyBhcmUgZXhwaXJlZFwiKTtcbiAgICAgICAgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoVHJlYXRtZW50cygpO1xuICAgICAgICBpZiAoIXRyZWF0bWVudHMpIHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiRmFpbGVkIHRvIGZldGNoIHRyZWF0bWVudHNcIik7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuTUFUQ0hFRF9UUkVBVE1FTlRTKTtcbiAgICAgICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gICAgICB9XG4gICAgfVxuICAgIGxvZ2dlci5zdWNjZXNzKFwiVHJlYXRtZW50cyBhcmUgbG9hZGVkIGZyb20gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRXZWlnaHRzKCkge1xuICAgIHRyeSB7XG4gICAgICBsZXQgd2VpZ2h0c09iaiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuV0VJR0hUUyk7XG4gICAgICBpZiAod2VpZ2h0c09iaikge1xuICAgICAgICB3ZWlnaHRzT2JqID0gSlNPTi5wYXJzZSh3ZWlnaHRzT2JqKTtcbiAgICAgICAgaWYgKHdlaWdodHNPYmoudGltZXN0YW1wKSB7XG4gICAgICAgICAgY29uc3QgZWxhcHNlZEhvdXJzID0gKERhdGUubm93KCkgLSB3ZWlnaHRzT2JqLnRpbWVzdGFtcCkgLyAoMTAwMCAqIDM2MDApO1xuICAgICAgICAgIGlmIChlbGFwc2VkSG91cnMgPCBMT0NBTF9TVE9SQUdFX1RUTF9IT1VSUykgcmV0dXJuIHdlaWdodHNPYmoud2VpZ2h0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2VpZ2h0c09iaiA9IGF3YWl0IGZldGNoVHJlYXRtZW50V2VpZ2h0cygpO1xuICAgICAgaWYgKCF3ZWlnaHRzT2JqKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJGYWlsZWQgdG8gZmV0Y2ggd2VpZ2h0c1wiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB3ZWlnaHRzT2JqID0ge3dlaWdodHM6IHdlaWdodHNPYmosIHRpbWVzdGFtcDogRGF0ZS5ub3coKX07XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLldFSUdIVFMsIEpTT04uc3RyaW5naWZ5KHdlaWdodHNPYmopKTtcbiAgICAgIHJldHVybiB3ZWlnaHRzT2JqLndlaWdodHM7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIud2FybihlcnIubWVzc2FnZSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRNYXRjaGVkVHJlYXRtZW50cyhkZWJ1Z01vZGUpIHtcbiAgICBsZXQgQ1BUID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9fZVJ1bGVzLlBhZ2VUeXBlXCIsIHRydWUpO1xuICAgIENQVCA9IENQVD8uWzBdIHx8IG51bGw7XG4gICAgaWYgKCFDUFQpIHJldHVybiBbXTtcbiAgICB0aGlzLmN1cnJlbnRQYWdlVHlwZSA9IENQVDtcbiAgICBsZXQgbWF0Y2hlZFRyZWF0bWVudHMgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5NQVRDSEVEX1RSRUFUTUVOVFMpO1xuICAgIGlmIChtYXRjaGVkVHJlYXRtZW50cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbWF0Y2hlZFRyZWF0bWVudHMgPSBhd2FpdCBKU09OLnBhcnNlKG1hdGNoZWRUcmVhdG1lbnRzKTtcbiAgICAgICAgbWF0Y2hlZFRyZWF0bWVudHMgPSBtYXRjaGVkVHJlYXRtZW50cy5maWx0ZXIoKG10KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tQYWdlVHlwZShtdC5wYWdlVHlwZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgbG9nZ2VyLmxvZyhgJHttYXRjaGVkVHJlYXRtZW50cy5sZW5ndGh9IHRyZWF0bWVudHMgdXNlciBzZWdtZW50IG1hdGNoZWRgKTtcbiAgICAgICAgcmV0dXJuIG1hdGNoZWRUcmVhdG1lbnRzO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJFcnJvciBnZXR0aW5nIG1hdGNoZWQgcm9ib3RzOlwiLCBlcnIubWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2hlZFRyZWF0bWVudHMgPSBbXTtcbiAgICBjb25zdCB7dHJlYXRtZW50cywgdHJlYXRtZW50V2VpZ2h0c30gPSB0aGlzO1xuICAgIGNvbnN0IHVzZXJTZWdtZW50ID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInNcIik7XG4gICAgaWYgKCF1c2VyU2VnbWVudCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHRyZWF0bWVudFdlaWdodHMpIHtcbiAgICAgIGNvbnN0IHVzZXJTZWdtZW50V2VpZ2h0cyA9IHRyZWF0bWVudFdlaWdodHNbdXNlclNlZ21lbnRdO1xuICAgICAgaWYgKCF1c2VyU2VnbWVudFdlaWdodHMpIHJldHVybiBbXTtcbiAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHRyZWF0bWVudHMpIHtcbiAgICAgICAgbGV0IHNlZ21lbnRlZFdlaWdodCA9IHVzZXJTZWdtZW50V2VpZ2h0c1t0cmVhdG1lbnQuaWRdPy53ZWlnaHQ7XG4gICAgICAgIGlmICghc2VnbWVudGVkV2VpZ2h0KSB7XG4gICAgICAgICAgaWYgKHRyZWF0bWVudC5kZXBlbmRhbnRfb25fdHJlYXRtZW50KSB7XG4gICAgICAgICAgICBzZWdtZW50ZWRXZWlnaHQgPSB1c2VyU2VnbWVudFdlaWdodHNbdHJlYXRtZW50LmRlcGVuZGFudF9vbl90cmVhdG1lbnRdPy53ZWlnaHQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChkZWJ1Z01vZGUgJiYgZGVidWdNb2RlID09PSAxKSBzZWdtZW50ZWRXZWlnaHQgPSAxMDA7XG4gICAgICAgICAgaWYgKCFzZWdtZW50ZWRXZWlnaHQpIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRyZWF0bWVudC53ZWlnaHQgPSBzZWdtZW50ZWRXZWlnaHQ7XG4gICAgICAgIGlmICghdHJlYXRtZW50LmFjdGlvbnMuc29tZSgoYSkgPT4gYS52YXJpYW50cykpIHtcbiAgICAgICAgICBtYXRjaGVkVHJlYXRtZW50cy5wdXNoKHRyZWF0bWVudCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgdHJlYXRtZW50LmFjdGlvbnMpIHtcbiAgICAgICAgICBpZiAoIWFjdGlvbi52YXJpYW50cykgY29udGludWU7XG4gICAgICAgICAgZm9yIChjb25zdCB2YXJpYW50S2V5IG9mIE9iamVjdC5rZXlzKGFjdGlvbi52YXJpYW50cykpIHtcbiAgICAgICAgICAgIGlmICh1c2VyU2VnbWVudFdlaWdodHNbdHJlYXRtZW50LmlkXT8udmFyaWFudHMgJiYgdXNlclNlZ21lbnRXZWlnaHRzW3RyZWF0bWVudC5pZF0/LnZhcmlhbnRzW3ZhcmlhbnRLZXldKSB7XG4gICAgICAgICAgICAgIGFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQgPSB1c2VyU2VnbWVudFdlaWdodHNbdHJlYXRtZW50LmlkXS52YXJpYW50c1t2YXJpYW50S2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWF0Y2hlZFRyZWF0bWVudHMucHVzaCh0cmVhdG1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5NQVRDSEVEX1RSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KG1hdGNoZWRUcmVhdG1lbnRzKSk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0TWF0Y2hlZFRyZWF0bWVudHMoZGVidWdNb2RlKTtcbiAgfVxuXG4gIGNoZWNrUGFnZVR5cGUocGFnZVR5cGVzKSB7XG4gICAgY29uc3Qge2N1cnJlbnRQYWdlVHlwZX0gPSB0aGlzO1xuICAgIGlmIChwYWdlVHlwZXMgPT09IG51bGwgfHwgcGFnZVR5cGVzID09PSB1bmRlZmluZWQpIHJldHVybiB0cnVlO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwYWdlVHlwZXMpKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiUGFnZSBUeXBlcyBzaG91bGQgYmUgYW4gYXJyYXlcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChwYWdlVHlwZXNbMF0uc3RhcnRzV2l0aChcIiFcIikpIHtcbiAgICAgIHBhZ2VUeXBlcyA9IHBhZ2VUeXBlcy5tYXAoKHB0KSA9PiBwdC5zdWJzdHIoMSkpO1xuICAgICAgcmV0dXJuICFwYWdlVHlwZXMuaW5jbHVkZXMoY3VycmVudFBhZ2VUeXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhZ2VUeXBlcy5pbmNsdWRlcyhjdXJyZW50UGFnZVR5cGUpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyZWF0bWVudFJlcG9zaXRvcnk7XG4iLCJpbXBvcnQge3JlcGxhY2VBbGx9IGZyb20gXCIuLi9zdHJpbmdVdGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQge2dldEZyb21CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIlJlcGxhY2VVdGlsc1wiKTtcblxuY29uc3QgcmVwbGFjZXIgPSBhc3luYyAodmFsdWUsIHJlcGxhY2VGbikgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGNvbnN0IFtpLCB2YWxdIG9mIHZhbHVlLmVudHJpZXMoKSkge1xuICAgICAgY29uc3QgY3VycmVudFJlcGxhY2VGbiA9IEFycmF5LmlzQXJyYXkocmVwbGFjZUZuKSA/IHJlcGxhY2VGbltpXSA6IHJlcGxhY2VGbiB8fCBcIlwiO1xuICAgICAgaWYgKHR5cGVvZiBjdXJyZW50UmVwbGFjZUZuID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IHJlcGxhY2VWYWwgPSBhd2FpdCByZXBsYWNlT2JqZWN0RXh0cmFjdG9yKGN1cnJlbnRSZXBsYWNlRm4pO1xuICAgICAgICB2YWx1ZVtpXSA9IHJlcGxhY2VBbGwodmFsLCBcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VWYWwpO1xuICAgICAgfSBlbHNlIHZhbHVlW2ldID0gcmVwbGFjZUZuRXhlY3V0b3IoY3VycmVudFJlcGxhY2VGbiwgdmFsKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZXBsYWNlRm4pKSB7XG4gICAgZm9yIChjb25zdCByRm4gb2YgcmVwbGFjZUZuKSB7XG4gICAgICBpZiAodHlwZW9mIHJGbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb25zdCByZXBsYWNlVmFsID0gYXdhaXQgcmVwbGFjZU9iamVjdEV4dHJhY3RvcihyRm4pO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlVmFsKTtcbiAgICAgIH0gZWxzZSB2YWx1ZSA9IHJlcGxhY2VGbkV4ZWN1dG9yKHJGbiwgdmFsdWUsIHRydWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIHJlcGxhY2VGbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3QgcmVwbGFjZVZhbCA9IGF3YWl0IHJlcGxhY2VPYmplY3RFeHRyYWN0b3IocmVwbGFjZUZuKTtcbiAgICAgIHZhbHVlID0gcmVwbGFjZUFsbCh2YWx1ZSwgXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlVmFsKTtcbiAgICB9IGVsc2UgdmFsdWUgPSByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5mdW5jdGlvbiByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlLCBzaW5nbGUgPSBmYWxzZSkge1xuICBpZiAocmVwbGFjZUZuICYmIHZhbHVlLmluY2x1ZGVzKFwie3tSRVBMQUNFfX1cIikpIHtcbiAgICBsb2dnZXIubG9nKFwiRXhlY3V0aW5nIHJlcGxhY2UgZnVuY3Rpb246IFwiLCByZXBsYWNlRm4pO1xuICAgIGNvbnN0IHJlcGxhY2VGdW5jdGlvbiA9IEZ1bmN0aW9uKHJlcGxhY2VGbik7XG4gICAgaWYgKHNpbmdsZSkgcmV0dXJuIHZhbHVlLnJlcGxhY2UoXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlRnVuY3Rpb24oKSk7XG4gICAgcmV0dXJuIHJlcGxhY2VBbGwodmFsdWUsIFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZUZ1bmN0aW9uKCkpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVwbGFjZU9iamVjdEV4dHJhY3RvcihyZXBsYWNlRm4pIHtcbiAgY29uc3Qge3N0b3JhZ2UsIGtleSwga2V5RmFsbGJhY2ssIHR5cGV9ID0gcmVwbGFjZUZuO1xuICBzd2l0Y2ggKHN0b3JhZ2UpIHtcbiAgICBjYXNlIFwic2Vzc2lvblwiOiB7XG4gICAgICBsZXQgcmVwbGFjZVZhbCA9IG51bGw7XG4gICAgICByZXBsYWNlVmFsID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIGlmICghcmVwbGFjZVZhbCkgcmVwbGFjZVZhbCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleUZhbGxiYWNrKTtcbiAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVwbGFjZVZhbCA9IEpTT04ucGFyc2UocmVwbGFjZVZhbCk7XG4gICAgICAgICAgcmVwbGFjZVZhbCA9IHJlcGxhY2VWYWxbcmVwbGFjZVZhbC5sZW5ndGggLSAxXVt0eXBlXTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChgQ291bGQgbm90IHBhcnNlICR7cmVwbGFjZVZhbH1gKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcGxhY2VWYWw7XG4gICAgfVxuICAgIGNhc2UgXCJpbmZvLWxheWVyXCI6IHtcbiAgICAgIGxldCByZXBsYWNlVmFsID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihrZXkpO1xuICAgICAgaWYgKCFyZXBsYWNlVmFsKSByZXBsYWNlVmFsID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihrZXlGYWxsYmFjayk7XG4gICAgICByZXR1cm4gcmVwbGFjZVZhbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVwbGFjZXI7XG4iLCJjb25zdCBjb25maWcgPSB7XG4gIGRiTmFtZTogXCJiZWFnbGVfY2FjaGVcIixcbiAgdmVyc2lvbjogMSxcbiAgc3RvcmU6IHtcbiAgICBuYW1lOiBcImluZm9DYWNoZVwiLFxuICAgIGluZGV4ZXM6IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJpeF9za3VcIixcbiAgICAgICAgZmllbGRzOiBcInNrdVwiLFxuICAgICAgfSxcbiAgICBdLFxuICAgIG9wdGlvbnM6IHtrZXlQYXRoOiBcInNrdVwifSxcbiAgfSxcbn07XG5leHBvcnQgZGVmYXVsdCBjb25maWc7XG4iLCJpbXBvcnQge2ZldGNoUHJvZHVjdEluZm99IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL3N0b3JlLmNvbmZpZ1wiO1xuaW1wb3J0IHthZGRUb0JlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeVwiKTtcbmNsYXNzIEdsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluZGV4ZWREQiA9IG51bGw7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgaW5kZXhlZERCXCIpO1xuICAgIGNvbnN0IG9wZW5SZXF1ZXN0ID0gd2luZG93LnRvcC5pbmRleGVkREI/Lm9wZW4oY29uZmlnLmRiTmFtZSwgY29uZmlnLnZlcnNpb24pO1xuICAgIGlmICghb3BlblJlcXVlc3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImluZGV4ZWRkYiBpcyBub3Qgc3VwcG9ydGVkXCIpO1xuICAgIH1cblxuICAgIG9wZW5SZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChldmVudCkgPT4ge1xuICAgICAgc3dpdGNoIChldmVudC5vbGRWZXJzaW9uKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBUT0RPIHVwZ3JhZGUgZXhpc3RpbmcgZGIgaW5zdGVhZCBvZiBkZWxldGUgYW5kIGNyZWF0ZSBmcm9tIHNjcmF0Y2hcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3BlblJlcXVlc3QucmVzdWx0LmRlbGV0ZU9iamVjdFN0b3JlKGNvbmZpZy5zdG9yZS5uYW1lKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJDb3VsZCBub3QgZGVsZXRlIG91dGRhdGVkIGRhdGFiYXNlXCIsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9yZSA9IG9wZW5SZXF1ZXN0LnJlc3VsdC5jcmVhdGVPYmplY3RTdG9yZShjb25maWcuc3RvcmUubmFtZSwgY29uZmlnLnN0b3JlLm9wdGlvbnMpO1xuICAgICAgICBpZiAoY29uZmlnLnN0b3JlLmluZGV4ZXM/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGlkeCBvZiBjb25maWcuc3RvcmUuaW5kZXhlcykge1xuICAgICAgICAgICAgc3RvcmUuY3JlYXRlSW5kZXgoaWR4Lm5hbWUsIGlkeC5maWVsZHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJDb3VsZCBub3QgY3JlYXRlIG9iamVjdCBzdG9yZSBvbiBkYXRhYmFzZVwiLCBlcnIubWVzc2FnZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIG9wZW5SZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgYmVhZ2xlX2NhY2hlIGluZGV4ZWQgREJcIiwgb3BlblJlcXVlc3QuZXJyb3IpO1xuICAgIH07XG5cbiAgICBvcGVuUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICB0aGlzLmluZGV4ZWREQiA9IG9wZW5SZXF1ZXN0LnJlc3VsdDtcbiAgICB9O1xuICB9XG5cbiAgZ2V0Q29ubmVjdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ZWREQikge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMjUpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5pbmRleGVkREIpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiSW5kZXhlZERCIG5vdCBpbml0aWFsaXplZCB3aXRoaW4gdGhlIGFsbG90dGVkIHRpbWVcIikpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGluaXRUcmFuc2FjdGlvbihyZWFkd3JpdGUgPSBmYWxzZSkge1xuICAgIGF3YWl0IHRoaXMuZ2V0Q29ubmVjdGlvbigpO1xuICAgIGNvbnN0IHR4ID0gdGhpcy5pbmRleGVkREIudHJhbnNhY3Rpb24oY29uZmlnLnN0b3JlLm5hbWUsIChyZWFkd3JpdGUgPyBcInJlYWR3cml0ZVwiIDogXCJyZWFkb25seVwiKSk7XG4gICAgcmV0dXJuIHR4Lm9iamVjdFN0b3JlKGNvbmZpZy5zdG9yZS5uYW1lKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmUocGF5bG9hZCkge1xuICAgIGNvbnN0IHN0b3JlID0gYXdhaXQgdGhpcy5pbml0VHJhbnNhY3Rpb24odHJ1ZSk7XG4gICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocGF5bG9hZCkpIHtcbiAgICAgIGZvciAoY29uc3QgbG9hZCBvZiBwYXlsb2FkKSB7XG4gICAgICAgIGxvYWQudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICBzdG9yZS5wdXQobG9hZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBheWxvYWQudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgc3RvcmUucHV0KHBheWxvYWQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNsZWFyKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24odHJ1ZSkudGhlbigoc3RvcmUpID0+IHtcbiAgICAgICAgY29uc3QgY2xlYXJSZXF1ZXN0ID0gc3RvcmUuY2xlYXIoKTtcbiAgICAgICAgY2xlYXJSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNsZWFyUmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoYEVycm9yIGNsZWFyaW5nIHN0b3JlOiAke3N0b3JlLm5hbWV9YCk7XG4gICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0KHNrdSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24oKS50aGVuKChzdG9yZSkgPT4ge1xuICAgICAgICBjb25zdCBnZXRSZXF1ZXN0ID0gc3RvcmUuZ2V0KHNrdSk7XG4gICAgICAgIGdldFJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGdldFJlcXVlc3QucmVzdWx0O1xuICAgICAgICAgIGxvZ2dlci5sb2coYEZvdW5kIHZhbHVlICR7cmVzdWx0fSBmb3Iga2V5ICR7c2t1fWApO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2V0UmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoYEVycm9yIGdldHRpbmcgdmFsdWUgZm9yIGtleTogJHtza3V9YCwgZ2V0UmVxdWVzdC5vbmVycm9yKTtcbiAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBjb3VudCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoc3RvcmUpID0+IHtcbiAgICAgICAgY29uc3QgY291bnRSZXF1ZXN0ID0gc3RvcmUuY291bnQoKTtcbiAgICAgICAgY291bnRSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBjb3VudFJlcXVlc3QucmVzdWx0O1xuICAgICAgICAgIGxvZ2dlci5sb2coYENvdW50ZWQgJHtyZXN1bHR9IGVudHJpZXNgKTtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvdW50UmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJFcnJvciBjb3VudGluZyBlbnRyaWVzOiBcIiwgY291bnRSZXF1ZXN0Lm9uZXJyb3IpO1xuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGdldEN1cnNvcigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoc3RvcmUpID0+IHtcbiAgICAgICAgY29uc3QgY3Vyc29yUmVxdWVzdCA9IHN0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICAgICAgY3Vyc29yUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICBjdXJzb3JSZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkVycm9yIGdldHRpbmcgY3Vyc29yXCIsIGN1cnNvclJlcXVlc3Qub25lcnJvcik7XG4gICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgcGVyc2lzdFByb2R1Y3RJbmZvKCkge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcImNoZWNrLWV4aXN0aW5nLXByb2QtaW5mb1wiKTtcbiAgICBjb25zdCBleGlzdGluZ1Byb2RJbmZvID0gYXdhaXQgdGhpcy5jb3VudCgpO1xuICAgIGlmIChleGlzdGluZ1Byb2RJbmZvKSB7XG4gICAgICBsb2dnZXIubG9nKFwiRXhpc3RpbmcgcHJvZHVjdCBpbmZvIGZvdW5kXCIpO1xuICAgICAgY29uc3QgY3Vyc29yID0gYXdhaXQgdGhpcy5nZXRDdXJzb3IoKTtcbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IGN1cnNvci52YWx1ZS50aW1lc3RhbXA7XG4gICAgICBjb25zdCBlbGFwc2VkU2Vjb25kcyA9IChEYXRlLm5vdygpIC8gMTAwMCkgLSB0aW1lc3RhbXA7XG4gICAgICAvLyBSZS1mZXRjaCBwcm9kdWN0IGluZm8gb25jZSBhIGRheVxuICAgICAgaWYgKGVsYXBzZWRTZWNvbmRzIDwgODY0MDApIHJldHVybjtcbiAgICAgIGxvZ2dlci5sb2coXCJFeGlzdGluZyBwcm9kdWN0IGluZm8gaXMgZXhwaXJlZFwiKTtcbiAgICB9XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwiZmV0Y2hpbmctcHJvZC1pbmZvXCIpO1xuICAgIGNvbnN0IHByb2R1Y3RJbmZvUHJvbWlzZSA9IGZldGNoUHJvZHVjdEluZm8oKTtcbiAgICBjb25zdCBjbGVhclByb21pc2UgPSB0aGlzLmNsZWFyKCk7XG4gICAgY29uc3QgW3Byb2R1Y3RJbmZvQXJyYXldID0gYXdhaXQgUHJvbWlzZS5hbGwoW3Byb2R1Y3RJbmZvUHJvbWlzZSwgY2xlYXJQcm9taXNlXSk7XG4gICAgaWYgKCFwcm9kdWN0SW5mb0FycmF5IHx8ICFwcm9kdWN0SW5mb0FycmF5Lmxlbmd0aCkgcmV0dXJuO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcImZldGNoZWQtcHJvZC1pbmZvXCIpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZSh0aGlzLnByZXBhcmVQYXlsb2Fkcyhwcm9kdWN0SW5mb0FycmF5KSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwicGVyc2lzdGVkLXByb2QtaW5mb1wiKTtcbiAgfVxuXG4gIHByZXBhcmVQYXlsb2Fkcyhwcm9kdWN0SW5mb0FycmF5KSB7XG4gICAgY29uc3QgcGF5bG9hZHMgPSBbXTtcbiAgICBjb25zdCBmaWVsZE5hbWVzID0gcHJvZHVjdEluZm9BcnJheS5zaGlmdCgpO1xuICAgIGZpZWxkTmFtZXMuc2hpZnQoKTtcbiAgICBmb3IgKGNvbnN0IGluZm8gb2YgcHJvZHVjdEluZm9BcnJheSkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtza3U6IGluZm8uc2hpZnQoKX07XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGF5bG9hZFtmaWVsZE5hbWVzW2ldXSA9IGluZm9baV0gfHwgMDtcbiAgICAgIH1cbiAgICAgIHBheWxvYWRzLnB1c2gocGF5bG9hZCk7XG4gICAgfVxuICAgIHJldHVybiBwYXlsb2FkcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5O1xuIiwiaW1wb3J0IEdsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkgZnJvbSBcIi4vaW5kZXhcIjtcblxuY29uc3QgU3RvcmUgPSAoZnVuY3Rpb24oKSB7XG4gIGxldCBpbnN0YW5jZSA9IG51bGw7XG4gIHJldHVybiB7XG4gICAgZ2V0SW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGluc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIGluc3RhbmNlID0gbmV3IEdsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkoKTtcbiAgICAgICAgLy8gSGlkZSB0aGUgY29uc3RydWN0b3Igc28gdGhlIHJldHVybmVkIG9iamVjdCBjYW4ndCBiZSBuZXcnZC4uLlxuICAgICAgICBpbnN0YW5jZS5jb25zdHJ1Y3RvciA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfSxcbiAgfTtcbn0pKCk7XG5leHBvcnQgZGVmYXVsdCBTdG9yZTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgU3RvcmUgZnJvbSBcIi4uL0dsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkvc3RvcmVcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkFjdGlvbkNvbmRpdGlvblV0aWxzXCIpO1xuXG5jb25zdCBjaGVja0FjdGlvbkNvbmRpdGlvbiA9IGFzeW5jIChjb25kaXRpb24pID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkFjdGlvbiBjb25kaXRpb24gZm91bmQ6IFwiLCBjb25kaXRpb24pO1xuICBjb25zdCBlbGlnaWJsZUVsZW1lbnRzID0gW107XG4gIGNvbnN0IHthdHRyaWJ1dGUsIGlubmVyX2NvbmRpdGlvbiwgb3BlcmF0b3IsIHNlbGVjdG9yLCB0eXBlLCB2YWx1ZSwgY2hhaW59ID0gY29uZGl0aW9uO1xuICBjb25zdCBjb25kaXRpb25FbGVtZW50cyA9IEFycmF5LmZyb20od2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBjb25kaXRpb25FbGVtZW50cykge1xuICAgIGlmIChhd2FpdCBhY3Rpb25Db25kaXRpb25DaGVja2VyKGVsZW1lbnQsIHR5cGUsIG9wZXJhdG9yLCBhdHRyaWJ1dGUsIGlubmVyX2NvbmRpdGlvbiwgdmFsdWUsIGNoYWluKSkge1xuICAgICAgZWxpZ2libGVFbGVtZW50cy5wdXNoKCQoZWxlbWVudCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZWxpZ2libGVFbGVtZW50cztcbn07XG5cbmNvbnN0IGFjdGlvbkNvbmRpdGlvbkNoZWNrZXIgPSBhc3luYyAoZWxlbWVudCwgdHlwZSwgb3BlcmF0b3IsIGF0dHJpYnV0ZSwgaW5uZXJfY29uZGl0aW9uLCB2YWx1ZSwgY2hhaW4pID0+IHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcInByb2R1Y3RJbmZvTG9va3VwXCI6IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRTa3UgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgICAgY29uc3QgcHJvZHVjdEluZm8gPSBhd2FpdCBTdG9yZS5nZXRJbnN0YW5jZSgpLmdldChlbGVtZW50U2t1KTtcbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IHByb2R1Y3RJbmZvPy5bb3BlcmF0b3JdO1xuICAgICAgLy8gcnVuVGltZVZhbHVlIG1heSBiZSAwXG4gICAgICBpZiAocnVuVGltZVZhbHVlID09PSBudWxsIHx8IHJ1blRpbWVWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJQcm9kdWN0IGluZm8gaXMgZW1wdHlcIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGlubmVyX2NvbmRpdGlvbiwgdmFsdWUpKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoY2hhaW4pIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYWN0aW9uQ29uZGl0aW9uQ2hlY2tlcihlbGVtZW50LCBjaGFpbi50eXBlLCBjaGFpbi5vcGVyYXRvcixcbiAgICAgICAgICAgIGNoYWluLmF0dHJpYnV0ZSwgY2hhaW4uaW5uZXJfY29uZGl0aW9uLCBjaGFpbi52YWx1ZSwgY2hhaW4uY2hhaW4pO1xuICAgICAgICBpZiAoIXJlcykgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICBpZiAoIWNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBpbm5lcl9jb25kaXRpb24sIHZhbHVlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKGNoYWluKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFjdGlvbkNvbmRpdGlvbkNoZWNrZXIoZWxlbWVudCwgY2hhaW4udHlwZSwgY2hhaW4ub3BlcmF0b3IsXG4gICAgICAgICAgICBjaGFpbi5hdHRyaWJ1dGUsIGNoYWluLmlubmVyX2NvbmRpdGlvbiwgY2hhaW4udmFsdWUsIGNoYWluLmNoYWluKTtcbiAgICAgICAgaWYgKCFyZXMpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjaGVja0FjdGlvbkNvbmRpdGlvbjtcbiIsImltcG9ydCB7c3R5bGVBcHBsaWNhdG9yLCBkZWxheSwgaWRsZVRpbWVyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7cmVwbGFjZUFsbCwgdHVya2lzaFRvTG93ZXJ9IGZyb20gXCIuLi9zdHJpbmdVdGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUlksIFNFU1NJT05fU1RPUkFHRV9LRVlTLCBJRExFX1RJTUVPVVR9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCByZXBsYWNlciBmcm9tIFwiLi9yZXBsYWNlLXV0aWxzXCI7XG5pbXBvcnQgY2hlY2tBY3Rpb25Db25kaXRpb24gZnJvbSBcIi4vYWN0aW9uLWNvbmRpdGlvbi11dGlsXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCB7Z2V0RnJvbUJlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IFN0b3JlIGZyb20gXCIuLi9HbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5L3N0b3JlXCI7XG5pbXBvcnQge2FzeW5jfSBmcm9tIFwiLi4vLi4vb3V0L0dsb3ZBaUNsaWVudFNESy9idW5kbGVcIjtcblxuYXN5bmMgZnVuY3Rpb24gYXBwbHlBY3Rpb25zKGFjdGlvbnMpIHtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUFwcGx5QWN0aW9uc1wiKTtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBR30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCB0cmFuc2Zvcm1lciA9IGFzeW5jIGZ1bmN0aW9uIHRyYW5zZm9ybWVyKGFjdGlvbiwgZWxlbWVudCA9IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgYWN0aW9uOiBcIiwgSlNPTi5zdHJpbmdpZnkoYWN0aW9uKSk7XG4gICAgY29uc3Qge1xuICAgICAgb3BlcmF0b3IsXG4gICAgICB0eXBlLFxuICAgICAgYXBwbHlFdmVudCxcbiAgICAgIGNvbnRlbnRTZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3JGYWxsYmFjayxcbiAgICAgIG1kQ29uZGl0aW9uLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8xLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8yLFxuICAgICAgcmVwbGFjZUZuLFxuICAgICAgcFR5cGUsXG4gICAgICBhdHRyaWJ1dGUsXG4gICAgICBwcm9kdWN0SW5mb1N0b3JhZ2UsXG4gICAgfSA9IGFjdGlvbjtcbiAgICBpZiAob3BlcmF0b3IgPT09IFwibm9vcFwiKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiTm9vcCBPcGVyYXRvcjogTm8gb3BlcmF0aW9uIGlzIGFwcGxpZWQgb24gdGFyZ2V0IFwiKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQge3ZhbHVlfSA9IGFjdGlvbjtcbiAgICAvLyBJZiBhbiBlbGVtZW50IGlzIHBhc3NlZCB0byB0cmFuc2Zvcm1lciwgc2VsZWN0b3IgaXMgcmVsYXRpdmUgdG8gcGFzc2VkIGVsZW1lbnRcbiAgICBlbGVtZW50ID0gZWxlbWVudCA/IGVsZW1lbnQuZmluZChzZWxlY3RvcikgOiAkKHNlbGVjdG9yKTtcblxuICAgIGNvbnN0IG1jID0gbWRDb25kaXRpb24gPyB3aW5kb3cubWF0Y2hNZWRpYShtZENvbmRpdGlvbikubWF0Y2hlcyA6IHRydWU7XG4gICAgaWYgKCFtYykge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIk1lZGlhIGNvbmRpdGlvbiBtaXNtYXRjaDogXCIsIG1kQ29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMSAmJiAhbW92ZV9zZWxlY3Rvcl8yKSB8fFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMiAmJiAhbW92ZV9zZWxlY3Rvcl8xKVxuICAgICkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkJvdGggbW92ZSBzZWxlY3RvcnMgYXJlIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobW92ZV9zZWxlY3Rvcl8xICYmIG1vdmVfc2VsZWN0b3JfMikge1xuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMSkubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJNb3ZlIHNlbGVjdG9yIDEgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMikubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJNb3ZlIHNlbGVjdG9yIDIgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IHNwZWNpZmllZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICBpZiAoISQoc2VsZWN0b3JGYWxsYmFjaykubGVuZ3RoICYmIG9wZXJhdG9yID09PSBcInJlbW92ZVwiKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHNlbGVjdG9yICE9PSBcIm5vLXNlbGVjdG9yXCIpIHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IGZvdW5kOiBcIiwgc2VsZWN0b3IpO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJUcnlpbmcgZmFsbGJhY2sgc2VsZWN0b3I6IFwiLCBzZWxlY3RvckZhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoc2VsZWN0b3JGYWxsYmFjaykgZWxlbWVudCA9ICQoc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZhbGxiYWNrIHNlbGVjdG9yIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVwbGFjZUZuKSB7XG4gICAgICB2YWx1ZSA9IGF3YWl0IHJlcGxhY2VyKHZhbHVlLCByZXBsYWNlRm4pO1xuICAgIH1cbiAgICBpZiAob3BlcmF0b3IgPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVtb3Zpbmc6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9IGVsc2UgbG9nZ2VyLmxvZyhcIkNhbm5vdCBmb3VuZCBlbGVtZW50IHdpdGggc2VsZWN0b3I6IFwiLCBzZWxlY3Rvcik7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJpbnNlcnRcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJiZWZvcmVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW5zZXJ0aW5nIGJlZm9yZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICBpZiAoU3RyaW5nKHZhbHVlKS5pbmNsdWRlcyhcIm5kLWFkZC10by13aW5cIikpIHtcbiAgICAgICAgICAgICQoXCIubmQtYWRkLXRvLXdpblwiKS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5iZWZvcmUodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW5zZXJ0aW5nIGFmdGVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXBwZW5kXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGVuZGluZyB2YWx1ZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmFwcGVuZCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtb2RhbFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVsZW1lbnQub2ZmKFwiY2xpY2tcIik7XG4gICAgICAgICAgICBjcmVhdGVQb3B1cCh2YWx1ZSwgY29udGVudFNlbGVjdG9yLCB0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgIGlmIChlbG0gPT0gZS50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRpc3BsYXlNb2RhbCh2YWx1ZSwgY29udGVudFNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcHVwXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKSkgIT09IDApIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlBvcHVwIGFscmVhZHkgZGlzcGxheWVkIGluIHNlc3Npb25cIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkNyZWF0aW5nIFBvcHVwOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgaWYgKHBUeXBlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gYXdhaXQgZ2V0UHJvZHVjdEluZm8ocFR5cGUsIHZhbHVlLCBwcm9kdWN0SW5mb1N0b3JhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlYXRlUG9wdXAodmFsdWUsIGNvbnRlbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImV4aXRJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBleGl0IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgZGlzcGxheVBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbciwgZF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiclwiLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJkXCIsIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgciA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZCA9PT0gXCJzdHJpbmdcIiAmJiAhci5pbmNsdWRlcyhkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5oaXN0b3J5ICYmIHR5cGVvZiB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnRvcC5kb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cudG9wLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaGlzdG9yeS5zdGF0ZSAhPT0gXCJiZ19saW1ib1wiKSB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoXCJiZ19saW1ib1wiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGRpc3BsYXlQb3B1cCwge29uY2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Lmhpc3Rvcnkuc3RhdGUgIT09IFwiYmdfbGltYm9cIikgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKFwiYmdfbGltYm9cIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lcihJRExFX1RJTUVPVVQsIGRpc3BsYXlQb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNvcHlJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBjb3B5IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGFwcGVuZCBwb3B1cCB0byBib2R5IGFmdGVyIHRpbWVvdXQgZXhwaXJlc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoYFR5cGU6ICR7dHlwZX0gbm90IGZvdW5kIGZvciBvcGVyYXRvcjogJHtvcGVyYXRvcn1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImVkaXRcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkVkaXRpbmcgdGV4dDogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LnRleHQodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIGh0bWw6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlQXBwbGljYXRvclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlQ2hhbmdlc01hcCA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlN0eWxlIENoYW5nZXMgTWFwOiBcIiwgc3R5bGVDaGFuZ2VzTWFwKTtcbiAgICAgICAgICAgIHN0eWxlQXBwbGljYXRvcihlbGVtZW50LCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZENsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgYWRkZGluZyBjbGFzcyB0byAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZW1vdmVDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYHJlbW92ZSBjbGFzcyBmcm9tICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRvY3VtZW50VGl0bGVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBjaGFuZ2luZyBkb2N1bWVudCB0aXRsZSBmcm9tICR7ZWxlbWVudH0gdG8gJHt2YWx1ZX1gKTtcbiAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmIChldmVudCA9PSBcInRhYkNoYW5nZVwiKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcImNhdGNoaW5nIGV2ZW50IHRhYmNoYW5nZS4uXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGl0bGUgPSB3aW5kb3cudG9wLmRvY3VtZW50LnRpdGxlO1xuICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGUsIHZhbHVlLCBvcmlnaW5hbFRpdGxlKTtcbiAgICAgICAgICAgICAgICAgIH0sIDE1MDAwKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlVua25vd24gZWRpdCB0eXBlOiBcIiwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzZXRhdHRyaWJ1dGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgYXR0cmlidXRlOiBcIiwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGF0dHJpYnV0ZSkge1xuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgZWxlbWVudC5jc3MoXCJjb250ZW50XCIsIGB1cmwoJHt2YWx1ZS50cmltKCl9KWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhwcm9wZXJ0eSwgcHJvcGVydHlWYWx1ZSwgXCIhaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICh2YWx1ZS5pbmNsdWRlcyhcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IEZ1bmN0aW9uKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5hdHRyKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJVbmhhbmRsZWQgYXR0cmlidXRlOiBTZXR0aW5nIGF0dHJpYnV0ZTogXCIsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nOiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5yZXBsYWNlQWxsKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInN3YXBcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlN3YXBwaW5nOiBcIiwgbW92ZV9zZWxlY3Rvcl8xLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgY29uc3QgbjEgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IG4yID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBzd2FwTm9kZXMobjEsIG4yKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImluamVjdHNjcmlwdFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiSW5qZWN0aW5nIHNjcmlwdDogXCIsIHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kKGA8c2NyaXB0PiR7dmFsdWV9PC9zY3JpcHQ+YCk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJtb3ZlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coYE1vdmluZyAke21vdmVfc2VsZWN0b3JfMX0gdG8gJHttb3ZlX3NlbGVjdG9yXzJ9YCk7XG4gICAgICBjb25zdCBzb3VyY2UgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBzb3VyY2UucmVtb3ZlKCk7XG4gICAgICBkZXN0aW5hdGlvbi5wcmVwZW5kKHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJwcm9kdWN0SW5mb0xvb2t1cFwiKSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRQcm9kdWN0SW5mbyhwVHlwZSwgdmFsdWUsIHByb2R1Y3RJbmZvU3RvcmFnZSk7XG4gICAgICBlbGVtZW50LmJlZm9yZShyZXMpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwidGV4dC10cmFuc2Zvcm1cIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJjYXBpdGFsaXplXCI6IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgQXJyYXkuZnJvbShlbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKGUuaW5uZXJUZXh0Py5pbmNsdWRlcyhcIlxcblwiKSkge1xuICAgICAgICAgICAgICBlLmlubmVyVGV4dCA9IHR1cmtpc2hUb0xvd2VyKGUuaW5uZXJUZXh0KS5zcGxpdChcIlxcblwiKS5tYXAoKHNlbnRlbmNlKSA9PlxuICAgICAgICAgICAgICAgIHNlbnRlbmNlLnNwbGl0KFwiIFwiKS5tYXAoKHdvcmQpID0+IHdvcmQuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKS5qb2luKFwiIFwiKSxcbiAgICAgICAgICAgICAgKS5qb2luKFwiXFxuXCIpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUuaW5uZXJUZXh0ID0gdHVya2lzaFRvTG93ZXIoZS5pbm5lclRleHQpXG4gICAgICAgICAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAgICAgICAgIC5tYXAoKHdvcmQpID0+IHdvcmQuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiIFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlBMQUNFSE9MREVSXCI6IHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiYWktc3VnZ2VzdFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRpdGxlLWNoYW5nZVwiOiB7XG4gICAgICAgICAgY29uc3QgZmluYWxUaXRsZSA9IGF3YWl0IHByZXBhcmVGaW5hbFRpdGxlKCk7XG4gICAgICAgICAgZWxlbWVudC5jb250ZW50cygpLmZpbHRlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVUeXBlID09IDM7XG4gICAgICAgICAgfSlbMF0ubm9kZVZhbHVlID0gZmluYWxUaXRsZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiYWRkLWRlc2NyaXB0aW9uXCI6IHtcbiAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbkVsbSA9IGF3YWl0IHByZXBhcmVEZXNjRWxtKHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmJlZm9yZShkZXNjcmlwdGlvbkVsbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIk5vIHN1Y2ggb3BlcmF0b3IgZXhpc3RzIHlldFwiLCBvcGVyYXRvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHByZXBhcmVEZXNjRWxtID0gYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgcmVnZXggPSAvPHBbXj5dKj4oW1xcc1xcU10qPyk8XFwvcD4vO1xuICAgIGNvbnN0IHtza3V9ID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInBkcFwiLCB0cnVlKTtcbiAgICBjb25zdCBwcm9kdWN0SW5mbyA9IGF3YWl0IFN0b3JlLmdldEluc3RhbmNlKCkuZ2V0KHNrdSk7XG4gICAgY29uc3QgdXBkYXRlZEh0bWxTdHJpbmcgPSB2YWx1ZS5yZXBsYWNlKHJlZ2V4LCBgPHA+JDEke3Byb2R1Y3RJbmZvLm1hcmtldGluZ0NvcHl9PC9wPmApO1xuICAgIHJldHVybiB1cGRhdGVkSHRtbFN0cmluZztcbiAgfTtcbiAgY29uc3QgcHJlcGFyZUZpbmFsVGl0bGUgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qge25hbWUsIHNrdX0gPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwicGRwXCIsIHRydWUpO1xuICAgIGNvbnN0IHByb2R1Y3RJbmZvID0gYXdhaXQgU3RvcmUuZ2V0SW5zdGFuY2UoKS5nZXQoc2t1KTtcbiAgICBjb25zdCByZXMgPSBuYW1lICsgXCIsIFwiICsgcHJvZHVjdEluZm8udGl0bGVBdWdtZW50ICsgXCIgXCI7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgY29uc3QgcmVwbGFjZVdpdGhWYWwgPSAodmFsdWUsIGh0bWxTdHIpID0+IHtcbiAgICBpZiAodmFsdWUgJiYgaHRtbFN0ci5pbmNsdWRlcyhcInt7UkVQTEFDRV9QUk9EVUNUSU5GT319XCIpKSB7XG4gICAgICBodG1sU3RyID0gcmVwbGFjZUFsbChodG1sU3RyLCBcInt7UkVQTEFDRV9QUk9EVUNUSU5GT319XCIsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxTdHI7XG4gIH07XG4gIGNvbnN0IGdldFByb2R1Y3RJbmZvID0gYXN5bmMgKHR5cGUsIHZhbHVlLCBwcm9kdWN0SW5mb1N0b3JhZ2UpID0+IHtcbiAgICAvLyBnZXQga2V5cyBvZiBwcm9kdWN0SW5mb1xuICAgIGNvbnN0IHNrdUxpc3QgPSBwcm9kdWN0SW5mb1N0b3JhZ2UgPT09IFwiYmFza2V0XCIgP1xuICAgIGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJfX2ZlYXR1cmVzLlNLVXNvbkxhc3RDYXJ0Vmlld1wiLCB0cnVlKSA6XG4gICAgYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9fZmVhdHVyZXMuU0tVc29uUGFnZVwiLCB0cnVlKTtcbiAgICBsZXQgcmVzID0gbnVsbDtcbiAgICBpZiAoIXNrdUxpc3QgfHwgc2t1TGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIGxvZ2dlci5sb2coXCJObyBza3UgZm91bmRcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcHJvZHVjdEluZm8gPSBhd2FpdCBTdG9yZS5nZXRJbnN0YW5jZSgpLmdldChza3VMaXN0WzBdKTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJ0cmFuc2FjdGlvbkluMldlZWtzXCI6IHtcbiAgICAgICAgcmVzID0gcmVwbGFjZVdpdGhWYWwocHJvZHVjdEluZm8uc2FsZUNudFZpc2l0b3JzSW4xNS50b1N0cmluZygpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgXCIuXCIpLCB2YWx1ZSk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJSZXBsYWNpbmcgdHJhbnNjYXRpb25JbjJXZWVrcyBcIiwgcHJvZHVjdEluZm8uc2FsZUNudFZpc2l0b3JzSW4xNSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImFkZFRvQ2FydEluMldlZWtzXCI6IHtcbiAgICAgICAgcmVzID0gcmVwbGFjZVdpdGhWYWwocHJvZHVjdEluZm8uY2FydENudFZpc2l0b3JzSW4xNS50b1N0cmluZygpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgXCIuXCIpLCB2YWx1ZSk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJSZXBsYWNpbmcgQWRkVG9DYXJ0Q291bnQgXCIsIHByb2R1Y3RJbmZvLmNhcnRDbnRWaXNpdG9yc0luMTUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJwcm9kdWN0Vmlld0NvdW50XCI6IHtcbiAgICAgICAgcmVzID0gcmVwbGFjZVdpdGhWYWwocHJvZHVjdEluZm8udmlld0NudFZpc2l0b3JzSW4xLnRvU3RyaW5nKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIi5cIiksIHZhbHVlKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZyBwcm9kdWN0Vmlld0NvdW50IGZvclwiLCBwcm9kdWN0SW5mby52aWV3Q250VmlzaXRvcnNJbjEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJubyBzdWNoIHR5cGUgZm91bmQgZm9yIHByb2R1Y3RJbmZvTG9va3VwIG9wZXJhdG9yOiBcIisgdHlwZSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH07XG4gIGNvbnN0IGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UgPSBhc3luYyAoZXZlbnQsIHRpdGxlcywgb3JpZ2luYWxUaXRsZSkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZFRpdGxlcyA9ICFBcnJheS5pc0FycmF5KHRpdGxlcykgPyBbdGl0bGVzXSA6IHRpdGxlcztcbiAgICBmb3IgKGNvbnN0IHBhcnNlZFRpdGxlIG9mIHBhcnNlZFRpdGxlcykge1xuICAgICAgaWYgKHdpbmRvdy50b3AuZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQudGl0bGUgPSBwYXJzZWRUaXRsZTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMjAwMCk7XG4gICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgICBhd2FpdCBkZWxheSgyMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXdpbmRvdy50b3AuZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICB3aW5kb3cudG9wLmRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZShldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUG9wdXBDbGljayA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZXZlbnQudGFyZ2V0LmlkO1xuICAgIGlmIChpZCAmJiBpZCA9PT0gXCJuZC1wb3B1cF9fd3JhcHBlclwiKSB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU1vZGFsQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBjbGFzc0xpc3QgPSBldmVudC50YXJnZXQuY2xhc3NMaXN0O1xuICAgIGlmIChjbGFzc0xpc3QgJiYgY2xhc3NMaXN0LmNvbnRhaW5zKFwibmQtbW9kYWxfX3dyYXBwZXJcIikpIHtcbiAgICAgICQoXCIubmQtbW9kYWxfX3dyYXBwZXJcIikuaGlkZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVNb2RhbENsaWNrLCB0cnVlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgaGFuZGxlTW9kYWxDbGljaywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXlQb3B1cCA9ICgpID0+IHtcbiAgICBpZiAod2luZG93LnRvcC5kb2N1bWVudC5oaWRkZW4pIHJldHVybjtcbiAgICBpZiAocGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcpKSA+IDApIHJldHVybjtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRywgMSk7XG4gICAgY29uc3QgcVBvcHVwID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dydC1zaGFkb3ctaG9zdFwiKTtcbiAgICBpZiAocVBvcHVwKSBxUG9wdXAuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJub25lXCI7XG4gICAgd2luZG93LnRvcC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5kLXBvcHVwX193cmFwcGVyXCIpLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwiYmxvY2tcIjtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG5cbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG4gICAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuICAgIHdpbmRvdy50b3AucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgZGlzcGxheVBvcHVwKTtcbiAgICB3aW5kb3cudG9wLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9LCAxNTAwMCk7XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheU1vZGFsID0gKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpID0+IHtcbiAgICBpZiAod2luZG93LnRvcC5kb2N1bWVudC5oaWRkZW4pIHJldHVybjtcbiAgICBjb25zdCBxUG9wdXAgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3J0LXNoYWRvdy1ob3N0XCIpO1xuICAgIGlmIChxUG9wdXApIHFQb3B1cC5zdHlsZVtcImRpc3BsYXlcIl0gPSBcIm5vbmVcIjtcbiAgICBpZiAoIXdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZC1tb2RhbF9fd3JhcHBlclwiKSkgY3JlYXRlUG9wdXAodmFsdWUsIGNvbnRlbnRTZWxlY3RvciwgdHJ1ZSk7XG4gICAgd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5kLW1vZGFsX193cmFwcGVyXCIpLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwiYmxvY2tcIjtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTW9kYWxDbGljaywgdHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlUG9wdXAgPSAodmFsdWUsIGNvbnRlbnRTZWxlY3RvciwgaXNNb2RhbD1mYWxzZSkgPT4ge1xuICAgIC8vIENyZWF0ZSBwb3B1cCB3cmFwcGVyXG4gICAgY29uc3QgcG9wdXBXcmFwcGVyID0gd2luZG93LnRvcC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgcG9wdXBXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKTtcbiAgICBpZiAoaXNNb2RhbCkgcG9wdXBXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJuZC1tb2RhbF9fd3JhcHBlclwiKTtcbiAgICBpZiAoIWlzTW9kYWwpIHBvcHVwV3JhcHBlci5pZCA9IFwibmQtcG9wdXBfX3dyYXBwZXJcIjtcblxuICAgIC8vIENyZWF0ZSBwb3B1cCBjbG9zZSBidXR0b25cbiAgICBjb25zdCBwb3B1cENsb3NlQnV0dG9uID0gd2luZG93LnRvcC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IHBvcHVwQ2xvc2VCdXR0b25TdHlsZSA9IGlzTW9kYWwgPyBcIm5kLXBvcHVwX19idXR0b24tY2xvc2VfX2NvbG9yZWRcIiA6IFwibmQtcG9wdXBfX2J1dHRvbi1jbG9zZVwiO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChwb3B1cENsb3NlQnV0dG9uU3R5bGUpO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uaW5uZXJUZXh0ID0gXCJYXCI7XG4gICAgaWYgKGlzTW9kYWwpIHtcbiAgICAgIHBvcHVwQ2xvc2VCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgJChcIi5uZC1tb2RhbF9fd3JhcHBlclwiKS5oaWRlKCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTW9kYWxDbGljaywgdHJ1ZSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3B1cENsb3NlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChjb250ZW50U2VsZWN0b3IpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRzID0gQXJyYXkuZnJvbSh3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29udGVudFNlbGVjdG9yKSk7XG4gICAgICB3aGlsZSAodmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSAmJiBjb250ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIGNvbnRlbnRzLnNoaWZ0KCkuc3JjKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgZnJvbSBhY3Rpb24gYW5kIGFwcGVuZCBjbG9zZSBidXR0b25cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHdpbmRvdy50b3AuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlLnRyaW0oKTtcbiAgICBjb25zdCBwb3B1cCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICBwb3B1cC5hcHBlbmRDaGlsZChwb3B1cENsb3NlQnV0dG9uKTtcbiAgICBwb3B1cFdyYXBwZXIuYXBwZW5kQ2hpbGQocG9wdXApO1xuXG4gICAgLy8gUmVtb3ZlIG9sZCBwb3B1cCBpZiBleGlzdHMgYmVmb3JlIGFwcGVuZGluZyBuZXcgb25lXG4gICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocG9wdXBXcmFwcGVyKTtcbiAgfTtcblxuICBjb25zdCBzd2FwTm9kZXMgPSBmdW5jdGlvbiBzd2FwTm9kZXMobjEsIG4yKSB7XG4gICAgY29uc3QgcDEgPSBuMS5wYXJlbnROb2RlO1xuICAgIGNvbnN0IHAyID0gbjIucGFyZW50Tm9kZTtcbiAgICBsZXQgaTE7XG4gICAgbGV0IGkyO1xuXG4gICAgaWYgKCFwMSB8fCAhcDIgfHwgcDEuaXNFcXVhbE5vZGUobjIpIHx8IHAyLmlzRXF1YWxOb2RlKG4xKSkgcmV0dXJuO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAxLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4xKSkge1xuICAgICAgICBpMSA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDIuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMi5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMikpIHtcbiAgICAgICAgaTIgPSBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwMS5pc0VxdWFsTm9kZShwMikgJiYgaTEgPCBpMikge1xuICAgICAgaTIrKztcbiAgICB9XG4gICAgcDEuaW5zZXJ0QmVmb3JlKG4yLCBwMS5jaGlsZHJlbltpMV0pO1xuICAgIHAyLmluc2VydEJlZm9yZShuMSwgcDIuY2hpbGRyZW5baTJdKTtcbiAgfTtcblxuICBjb25zdCB3YWl0Rm9ySlF1ZXJ5ID0gKCkgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJqUXVlcnkgbm90IGZvdW5kLCByZXRyeWluZ1wiKTtcbiAgICAgICAgY29uc3QgalF1ZXJ5SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoalF1ZXJ5SW50ZXJ2YWwpO1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDI1KTtcbiAgICAgICAgc2V0VGltZW91dChhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGpRdWVyeUludGVydmFsKTtcbiAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICB9IGVsc2UgcmVzb2x2ZSh0cnVlKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBhY3Rpb25BcHBsaWNhdG9yID0gYXN5bmMgKGFjdGlvbnMpID0+IHtcbiAgICBpZiAoYXdhaXQgd2FpdEZvckpRdWVyeSgpKSB7XG4gICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGlmIChhY3Rpb24uY29uZGl0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBlbGlnaWJsZUVsZW1lbnRzID0gYXdhaXQgY2hlY2tBY3Rpb25Db25kaXRpb24oYWN0aW9uLmNvbmRpdGlvbik7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxpZ2libGVFbGVtZW50cykge1xuICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCB0cmFuc2Zvcm1lcihhY3Rpb24sIGVsZW1lbnQpO1xuICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSByZXN1bHQgPSBhd2FpdCB0cmFuc2Zvcm1lcihhY3Rpb24pO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKGBDb3VsZG4ndCBhcHBseSBhY3Rpb24gJHtKU09OLnN0cmluZ2lmeShhY3Rpb24pfSB3aXRoIGVycm9yICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiSnF1ZXJ5IG5vdCBmb3VuZCBvbiB3aW5kb3dcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFwcGx5IGFjdGlvbnNcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWN0aW9uQXBwbGljYXRvcihhY3Rpb25zKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBkZWZhdWx0IGFwcGx5QWN0aW9ucztcbiIsImNvbnN0IEVfVElNRU9VVCA9IG5ldyBFcnJvcigndGltZW91dCB3aGlsZSB3YWl0aW5nIGZvciBtdXRleCB0byBiZWNvbWUgYXZhaWxhYmxlJyk7XG5jb25zdCBFX0FMUkVBRFlfTE9DS0VEID0gbmV3IEVycm9yKCdtdXRleCBhbHJlYWR5IGxvY2tlZCcpO1xuY29uc3QgRV9DQU5DRUxFRCA9IG5ldyBFcnJvcigncmVxdWVzdCBmb3IgbG9jayBjYW5jZWxlZCcpO1xuXG52YXIgX19hd2FpdGVyJDIgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmNsYXNzIFNlbWFwaG9yZSB7XG4gICAgY29uc3RydWN0b3IoX3ZhbHVlLCBfY2FuY2VsRXJyb3IgPSBFX0NBTkNFTEVEKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICB0aGlzLl9jYW5jZWxFcnJvciA9IF9jYW5jZWxFcnJvcjtcbiAgICAgICAgdGhpcy5fd2VpZ2h0ZWRRdWV1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fd2VpZ2h0ZWRXYWl0ZXJzID0gW107XG4gICAgfVxuICAgIGFjcXVpcmUod2VpZ2h0ID0gMSkge1xuICAgICAgICBpZiAod2VpZ2h0IDw9IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgd2VpZ2h0ICR7d2VpZ2h0fTogbXVzdCBiZSBwb3NpdGl2ZWApO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl93ZWlnaHRlZFF1ZXVlc1t3ZWlnaHQgLSAxXSlcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWlnaHRlZFF1ZXVlc1t3ZWlnaHQgLSAxXSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fd2VpZ2h0ZWRRdWV1ZXNbd2VpZ2h0IC0gMV0ucHVzaCh7IHJlc29sdmUsIHJlamVjdCB9KTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBydW5FeGNsdXNpdmUoY2FsbGJhY2ssIHdlaWdodCA9IDEpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlciQyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgW3ZhbHVlLCByZWxlYXNlXSA9IHlpZWxkIHRoaXMuYWNxdWlyZSh3ZWlnaHQpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgY2FsbGJhY2sodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgd2FpdEZvclVubG9jayh3ZWlnaHQgPSAxKSB7XG4gICAgICAgIGlmICh3ZWlnaHQgPD0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB3ZWlnaHQgJHt3ZWlnaHR9OiBtdXN0IGJlIHBvc2l0aXZlYCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl93ZWlnaHRlZFdhaXRlcnNbd2VpZ2h0IC0gMV0pXG4gICAgICAgICAgICAgICAgdGhpcy5fd2VpZ2h0ZWRXYWl0ZXJzW3dlaWdodCAtIDFdID0gW107XG4gICAgICAgICAgICB0aGlzLl93ZWlnaHRlZFdhaXRlcnNbd2VpZ2h0IC0gMV0ucHVzaChyZXNvbHZlKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpc0xvY2tlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlIDw9IDA7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoKCk7XG4gICAgfVxuICAgIHJlbGVhc2Uod2VpZ2h0ID0gMSkge1xuICAgICAgICBpZiAod2VpZ2h0IDw9IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgd2VpZ2h0ICR7d2VpZ2h0fTogbXVzdCBiZSBwb3NpdGl2ZWApO1xuICAgICAgICB0aGlzLl92YWx1ZSArPSB3ZWlnaHQ7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoKCk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5fd2VpZ2h0ZWRRdWV1ZXMuZm9yRWFjaCgocXVldWUpID0+IHF1ZXVlLmZvckVhY2goKGVudHJ5KSA9PiBlbnRyeS5yZWplY3QodGhpcy5fY2FuY2VsRXJyb3IpKSk7XG4gICAgICAgIHRoaXMuX3dlaWdodGVkUXVldWVzID0gW107XG4gICAgfVxuICAgIF9kaXNwYXRjaCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBmb3IgKGxldCB3ZWlnaHQgPSB0aGlzLl92YWx1ZTsgd2VpZ2h0ID4gMDsgd2VpZ2h0LS0pIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlRW50cnkgPSAoX2EgPSB0aGlzLl93ZWlnaHRlZFF1ZXVlc1t3ZWlnaHQgLSAxXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoIXF1ZXVlRW50cnkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gdGhpcy5fdmFsdWU7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1dlaWdodCA9IHdlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlIC09IHdlaWdodDtcbiAgICAgICAgICAgIHdlaWdodCA9IHRoaXMuX3ZhbHVlICsgMTtcbiAgICAgICAgICAgIHF1ZXVlRW50cnkucmVzb2x2ZShbcHJldmlvdXNWYWx1ZSwgdGhpcy5fbmV3UmVsZWFzZXIocHJldmlvdXNXZWlnaHQpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHJhaW5VbmxvY2tXYWl0ZXJzKCk7XG4gICAgfVxuICAgIF9uZXdSZWxlYXNlcih3ZWlnaHQpIHtcbiAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNhbGxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlKHdlaWdodCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIF9kcmFpblVubG9ja1dhaXRlcnMoKSB7XG4gICAgICAgIGZvciAobGV0IHdlaWdodCA9IHRoaXMuX3ZhbHVlOyB3ZWlnaHQgPiAwOyB3ZWlnaHQtLSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl93ZWlnaHRlZFdhaXRlcnNbd2VpZ2h0IC0gMV0pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLl93ZWlnaHRlZFdhaXRlcnNbd2VpZ2h0IC0gMV0uZm9yRWFjaCgod2FpdGVyKSA9PiB3YWl0ZXIoKSk7XG4gICAgICAgICAgICB0aGlzLl93ZWlnaHRlZFdhaXRlcnNbd2VpZ2h0IC0gMV0gPSBbXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxudmFyIF9fYXdhaXRlciQxID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5jbGFzcyBNdXRleCB7XG4gICAgY29uc3RydWN0b3IoY2FuY2VsRXJyb3IpIHtcbiAgICAgICAgdGhpcy5fc2VtYXBob3JlID0gbmV3IFNlbWFwaG9yZSgxLCBjYW5jZWxFcnJvcik7XG4gICAgfVxuICAgIGFjcXVpcmUoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IFssIHJlbGVhc2VyXSA9IHlpZWxkIHRoaXMuX3NlbWFwaG9yZS5hY3F1aXJlKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVsZWFzZXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBydW5FeGNsdXNpdmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbWFwaG9yZS5ydW5FeGNsdXNpdmUoKCkgPT4gY2FsbGJhY2soKSk7XG4gICAgfVxuICAgIGlzTG9ja2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VtYXBob3JlLmlzTG9ja2VkKCk7XG4gICAgfVxuICAgIHdhaXRGb3JVbmxvY2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW1hcGhvcmUud2FpdEZvclVubG9jaygpO1xuICAgIH1cbiAgICByZWxlYXNlKCkge1xuICAgICAgICBpZiAodGhpcy5fc2VtYXBob3JlLmlzTG9ja2VkKCkpXG4gICAgICAgICAgICB0aGlzLl9zZW1hcGhvcmUucmVsZWFzZSgpO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW1hcGhvcmUuY2FuY2VsKCk7XG4gICAgfVxufVxuXG52YXIgX19hd2FpdGVyID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5mdW5jdGlvbiB3aXRoVGltZW91dChzeW5jLCB0aW1lb3V0LCB0aW1lb3V0RXJyb3IgPSBFX1RJTUVPVVQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhY3F1aXJlOiAod2VpZ2h0KSA9PiB7XG4gICAgICAgICAgICBpZiAod2VpZ2h0ICE9PSB1bmRlZmluZWQgJiYgd2VpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgd2VpZ2h0ICR7d2VpZ2h0fTogbXVzdCBiZSBwb3NpdGl2ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgaXNUaW1lb3V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlzVGltZW91dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh0aW1lb3V0RXJyb3IpO1xuICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tldCA9IHlpZWxkIHN5bmMuYWNxdWlyZSh3ZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlID0gQXJyYXkuaXNBcnJheSh0aWNrZXQpID8gdGlja2V0WzFdIDogdGlja2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRpY2tldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBydW5FeGNsdXNpdmUoY2FsbGJhY2ssIHdlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVsZWFzZSA9ICgpID0+IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aWNrZXQgPSB5aWVsZCB0aGlzLmFjcXVpcmUod2VpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGlja2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZSA9IHRpY2tldFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBjYWxsYmFjayh0aWNrZXRbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZSA9IHRpY2tldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICByZWxlYXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbGVhc2Uod2VpZ2h0KSB7XG4gICAgICAgICAgICBzeW5jLnJlbGVhc2Uod2VpZ2h0KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN5bmMuY2FuY2VsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHdhaXRGb3JVbmxvY2s6ICh3ZWlnaHQpID0+IHtcbiAgICAgICAgICAgIGlmICh3ZWlnaHQgIT09IHVuZGVmaW5lZCAmJiB3ZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB3ZWlnaHQgJHt3ZWlnaHR9OiBtdXN0IGJlIHBvc2l0aXZlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHN5bmMud2FpdEZvclVubG9jayh3ZWlnaHQpLnRoZW4ocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZWplY3QodGltZW91dEVycm9yKSwgdGltZW91dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNMb2NrZWQ6ICgpID0+IHN5bmMuaXNMb2NrZWQoKSxcbiAgICAgICAgZ2V0VmFsdWU6ICgpID0+IHN5bmMuZ2V0VmFsdWUoKSxcbiAgICAgICAgc2V0VmFsdWU6ICh2YWx1ZSkgPT4gc3luYy5zZXRWYWx1ZSh2YWx1ZSksXG4gICAgfTtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saXNuZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5mdW5jdGlvbiB0cnlBY3F1aXJlKHN5bmMsIGFscmVhZHlBY3F1aXJlZEVycm9yID0gRV9BTFJFQURZX0xPQ0tFRCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcmV0dXJuIHdpdGhUaW1lb3V0KHN5bmMsIDAsIGFscmVhZHlBY3F1aXJlZEVycm9yKTtcbn1cblxuZXhwb3J0IHsgRV9BTFJFQURZX0xPQ0tFRCwgRV9DQU5DRUxFRCwgRV9USU1FT1VULCBNdXRleCwgU2VtYXBob3JlLCB0cnlBY3F1aXJlLCB3aXRoVGltZW91dCB9O1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgYXBwbHlBY3Rpb25zIGZyb20gXCIuLi9CZWFnbGVBcHBseUFjdGlvbnMvaW5kZXhcIjtcbmltcG9ydCB7XG4gIGFkZFRyZWF0bWVudCxcbiAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcixcbiAgYWRkRGF0YUxpc3RlbmVyLFxufSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBUUkVBVE1FTlRfUkFUSU8sXG4gIE1PQklMRV9NRURJQV9RVUVSWSxcbn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgZGV0ZXJtaW5lUGN0LFxuICBwcmVwYXJlQWN0aW9ucyxcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge011dGV4fSBmcm9tIFwiYXN5bmMtbXV0ZXhcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZVJvYm90RW5naW5lXCIpO1xuY29uc3QgT0JTRVJWRVJfQ09ORklHID0ge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZX07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvYm90RW5naW5lIHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHtkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cywgZGVidWdNb2RlLCBtYXRjaGVkVHJlYXRtZW50cywgaWRlbnRpZmllciwgcGFnZVR5cGV9ID0gYm9keTtcbiAgICB0aGlzLmVuZ2FnZW1lbnRMb2NrID0ge307XG4gICAgdGhpcy5wYWdlVHlwZSA9IHBhZ2VUeXBlO1xuICAgIHRoaXMuZGVidWdNb2RlID0gZGVidWdNb2RlO1xuICAgIHRoaXMuaWRlbnRpZmllciA9IGlkZW50aWZpZXI7XG4gICAgdGhpcy5yZUFwcGx5VHJlYXRtZW50c01hcCA9IHt9O1xuICAgIHRoaXMuYWRkZWREYXRhTGlzdGVuZXJJZHMgPSBbXTtcbiAgICB0aGlzLm1hdGNoZWRUcmVhdG1lbnRzID0gbWF0Y2hlZFRyZWF0bWVudHM7XG4gICAgdGhpcy5kZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyA9IGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzO1xuICAgIHRoaXMuaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gIH1cblxuICBhc3luYyBlbmdhZ2VSb2JvdHMoKSB7XG4gICAgY29uc3Qgcm9ib3RQcm9taXNlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHRoaXMubWF0Y2hlZFRyZWF0bWVudHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0cmVhdG1lbnQuZGVwZW5kYW50X29uX3RyZWF0bWVudCkgY29udGludWU7XG4gICAgICAgIHJvYm90UHJvbWlzZXMucHVzaCh0aGlzLmVuZ2FnZVJvYm90KHRyZWF0bWVudCkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoYEVycm9yIGVuZ2FnaW5nIHJvYm90ICR7dHJlYXRtZW50LmlkfTogJHtlcnIubWVzc2FnZSB8fCBlcnJ9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IFByb21pc2UuYWxsKHJvYm90UHJvbWlzZXMpO1xuICAgIHRoaXMuaW5pdGlhdGVSZWFwcGx5Um9ib3RNYXAoKTtcbiAgfVxuXG4gIGFzeW5jIGVuZ2FnZVJvYm90KHRyZWF0bWVudCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgYWN0aW9ucyxcbiAgICAgIGVsaWdpYmlsaXR5UnVsZVNldCxcbiAgICAgIGRldmljZSxcbiAgICAgIGRlcGVuZGFudF9vbl90cmVhdG1lbnQsXG4gICAgICBidXNpbmVzc1J1bGVTZXQsXG4gICAgICB3ZWlnaHQsXG4gICAgICBkZWxheSxcbiAgICAgIGhlbHBlcnMsXG4gICAgfSA9IHRyZWF0bWVudDtcbiAgICBjb25zdCB7XG4gICAgICBkZWJ1Z01vZGUsXG4gICAgICBkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyxcbiAgICAgIGVuZ2FnZW1lbnRMb2NrLFxuICAgICAgaWRlbnRpZmllcixcbiAgICAgIGlzTW9iaWxlLFxuICAgICAgbWF0Y2hlZFRyZWF0bWVudHMsXG4gICAgICBwcmVwYXJlQW5kQXBwbHksXG4gICAgfSA9IHRoaXM7XG5cbiAgICAvLyBvbmUgZW5nYWdlbWVudCBhdCBhIHRpbWVcbiAgICBlbmdhZ2VtZW50TG9ja1tpZF0gPSBlbmdhZ2VtZW50TG9ja1tpZF0gfHwgbmV3IE11dGV4KCk7XG4gICAgY29uc3QgcmVsZWFzZSA9IGF3YWl0IGVuZ2FnZW1lbnRMb2NrW2lkXS5hY3F1aXJlKCk7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChkZWJ1Z01vZGUgJiYgZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgJiYgIWRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGV2aWNlID09PSBcIm1vYmlsZVwiICYmICFpc01vYmlsZSkge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiVHJlYXRtZW50IGRldmljZSAnbW9iaWxlJyBtaXNtYXRjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRldmljZSA9PT0gXCJkZXNrdG9wXCIgJiYgaXNNb2JpbGUpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlRyZWF0bWVudCBkZXZpY2UgJ2Rlc2t0b3AnIG1pc21hdGNoXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxvZ2dlci5sb2coXCJTdGFydGluZyBiYXNlIHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgaWYgKCFlbGlnaWJpbGl0eVJ1bGVTZXQgfHwgYXdhaXQgdGhpcy5jaGVja0VsaWdpYmlsaXR5UnVsZVNldChlbGlnaWJpbGl0eVJ1bGVTZXQpKSB7XG4gICAgICAgIGNvbnN0IHRyZWF0bWVudFNraXBSYXRpbyA9IHdlaWdodCA9PT0gMTAwID8gMCA6ICgxMDAgLSB3ZWlnaHQgfHwgVFJFQVRNRU5UX1JBVElPKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBza2lwIHJhdGlvOiBcIiArIHRyZWF0bWVudFNraXBSYXRpbyk7XG4gICAgICAgIC8vIERldGVybWluaW5nIGlkZW50aWZpZXIgZm9yIGNhbGN1bGF0aW5nIHRyZWF0bWVudCBwZXJjZW50YWdlICh0cmVhdG1lbnRQY3QpXG4gICAgICAgIGNvbnN0IGRldGVybWluaW5nSWRlbnRpZmllciA9IGRlcGVuZGFudF9vbl90cmVhdG1lbnQgfHwgaWQ7XG5cbiAgICAgICAgLy8gdHJlYXRtZW50UGN0IGlzIHRoZSBwZXJjZW50YWdlIHZhbHVlIGZvciB0aGUgdHJlYXRtZW50IHVzZWQgdG8gZGV0ZXJtaW5lIGlmIGl0IHNob3VsZCBiZSBza2lwcGVkIG9yIG5vdFxuICAgICAgICAvLyB0cmVhdG1lbnRQY3QgaXMgMTAwIHdoZW4gZGVidWcgbW9kZSBpcyAxLCBlbnN1cmluZyBubyB0cmVhdG1lbnRzIGFyZSBza2lwcGVkXG4gICAgICAgIGNvbnN0IHRyZWF0bWVudFBjdCA9IGRlYnVnTW9kZSA9PT0gMSA/IDEwMCA6IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgZGV0ZXJtaW5pbmdJZGVudGlmaWVyKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudFBjdDogXCIgKyB0cmVhdG1lbnRQY3QgKyBgIHdpdGggZGVidWcgbW9kZSAke2RlYnVnTW9kZSA/IFwib25cIiA6IFwib2ZmXCJ9YCk7XG4gICAgICAgIGxldCBidXNpbmVzc1J1bGVJZCA9IG51bGw7XG4gICAgICAgIGlmIChidXNpbmVzc1J1bGVTZXQpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgc3ViIHZhcmlhbnQgcnVsZSBzZXQgY2hlY2sgZm9yIHRyZWF0bWVudDogXCIgKyBpZCk7XG4gICAgICAgICAgYnVzaW5lc3NSdWxlSWQgPSBhd2FpdCB0aGlzLmNoZWNrQnVzaW5lc3NSdWxlcyhidXNpbmVzc1J1bGVTZXQpO1xuICAgICAgICAgIGlmIChidXNpbmVzc1J1bGVJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIGJ1c2luZXNzIHJ1bGUgdHJhbnNmb3JtYXRpb24gd2l0aCBpZDogXCIsIGJ1c2luZXNzUnVsZUlkKTtcbiAgICAgICAgICB9IGVsc2UgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHRyZWF0bWVudCB3aXRoIGRlZmF1bHQgdmFsdWVzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmVhdG1lbnRQY3QgPCB0cmVhdG1lbnRTa2lwUmF0aW8pIHtcbiAgICAgICAgICBsb2dnZXIubG9nKGBUcmVhdG1lbnQgJHtpZH0gc2tpcHBlZCBkdWUgdG8gdHJlYXRtZW50IHNwbGl0IHJhdGlvYCk7XG4gICAgICAgICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgbnVsbCwgXCJza2lwcGVkXCIsIGRlcGVuZGFudF9vbl90cmVhdG1lbnQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5KSB7XG4gICAgICAgICAgYXdhaXQgcHJlcGFyZUFuZEFwcGx5KGlkLCBpZGVudGlmaWVyLCBhY3Rpb25zLCBidXNpbmVzc1J1bGVJZCwgZGVidWdNb2RlKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLmVuZ2FnZUhlbHBlcnMoaGVscGVycywgbWF0Y2hlZFRyZWF0bWVudHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgcHJlcGFyZUFuZEFwcGx5KGlkLCBpZGVudGlmaWVyLCBhY3Rpb25zLCBidXNpbmVzc1J1bGVJZCwgZGVidWdNb2RlKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZW5nYWdlSGVscGVycyhoZWxwZXJzLCBtYXRjaGVkVHJlYXRtZW50cyk7XG4gICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiUnVsZSBjaGVjayBmYWlsZWQgZm9yIHRyZWF0bWVudDpcIiwgaWQpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICByZWxlYXNlKCk7XG4gICAgICB0aGlzLmFkZFJlYXBwbHlFdmVudCh0cmVhdG1lbnQpO1xuICAgICAgdGhpcy5hZGRSdWxlU2V0RGF0YUxpc3RlbmVycyh0cmVhdG1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGVuZ2FnZUhlbHBlcnMoaGVscGVycywgbWF0Y2hlZFRyZWF0bWVudHMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShoZWxwZXJzKSAmJiBoZWxwZXJzLmxlbmd0aCkge1xuICAgICAgY29uc3QgaGVscGVyUm9ib3RQcm9taXNlcyA9IFtdO1xuICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgbWF0Y2hlZFRyZWF0bWVudHMpIHtcbiAgICAgICAgaWYgKCFoZWxwZXJzLmluY2x1ZGVzKHRyZWF0bWVudC5pZCkpIGNvbnRpbnVlO1xuICAgICAgICBoZWxwZXJSb2JvdFByb21pc2VzLnB1c2godGhpcy5lbmdhZ2VSb2JvdCh0cmVhdG1lbnQpKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKGhlbHBlclJvYm90UHJvbWlzZXMpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHByZXBhcmVBbmRBcHBseShpZCwgaWRlbnRpZmllciwgYWN0aW9ucywgYnVzaW5lc3NSdWxlSWQsIGRlYnVnTW9kZSkge1xuICAgIGNvbnN0IFtwcmVwYXJlZCwgdmFyaWFudF0gPSBhd2FpdCBwcmVwYXJlQWN0aW9ucyhpZGVudGlmaWVyLCBhY3Rpb25zLCBidXNpbmVzc1J1bGVJZCwgZGVidWdNb2RlKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcHBseUFjdGlvbnMocHJlcGFyZWQpO1xuICAgIGlmIChyZXMgPT09IGZhbHNlKSB7XG4gICAgICBhZGRUcmVhdG1lbnQoaWQsIGJ1c2luZXNzUnVsZUlkLCB2YXJpYW50LCBcImZhaWxlZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgXCJhcHBsaWVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIGFkZFJlYXBwbHlFdmVudCh0cmVhdG1lbnQpIHtcbiAgICBjb25zdCB7cGFnZVR5cGUsIHJlQXBwbHlUcmVhdG1lbnRzTWFwfSA9IHRoaXM7XG4gICAgY29uc3Qge2lkLCByZWFwcGx5X2V2ZW50LCByZWFwcGx5X2V2ZW50X3BhZ2VfdHlwZX0gPSB0cmVhdG1lbnQ7XG4gICAgaWYgKHJlYXBwbHlfZXZlbnQpIHtcbiAgICAgIGlmICghcmVhcHBseV9ldmVudF9wYWdlX3R5cGUgfHwgcmVhcHBseV9ldmVudF9wYWdlX3R5cGUgPT09IHBhZ2VUeXBlKSB7XG4gICAgICAgIGxldCByZWFwcGx5X2V2ZW50X2FycmF5ID0gcmVhcHBseV9ldmVudDtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlYXBwbHlfZXZlbnQpKSByZWFwcGx5X2V2ZW50X2FycmF5ID0gW3JlYXBwbHlfZXZlbnRdO1xuICAgICAgICBsb2dnZXIubG9nKGBSZWFwcGx5IGV2ZW50ICcke3JlYXBwbHlfZXZlbnR9JyBmb3VuZCBmb3IgdHJlYXRtZW50OiAke2lkfWApO1xuICAgICAgICBmb3IgKGNvbnN0IHJlYXBwbHlFdmVudCBvZiByZWFwcGx5X2V2ZW50X2FycmF5KSB7XG4gICAgICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gP1xuICAgICAgICAgICAgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA6IFtdO1xuICAgICAgICAgIGlmIChwcmV2aW91c1ZhbHVlLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBhbHJlYWR5IGFkZGVkIGZvciByZWFwcGx5IGV2ZW50XCIpO1xuICAgICAgICAgIH0gZWxzZSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID0gWy4uLnByZXZpb3VzVmFsdWUsIGlkXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGluaXRpYXRlUmVhcHBseVJvYm90TWFwKCkge1xuICAgIGNvbnN0IHtyZUFwcGx5VHJlYXRtZW50c01hcCwgbWF0Y2hlZFRyZWF0bWVudHN9ID0gdGhpcztcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyZUFwcGx5VHJlYXRtZW50c01hcCkpIHtcbiAgICAgIGNvbnN0IHRyZWF0bWVudElkcyA9IHJlQXBwbHlUcmVhdG1lbnRzTWFwW2tleV07XG4gICAgICBjb25zdCByZUFwcGx5VHJlYXRtZW50cyA9IG1hdGNoZWRUcmVhdG1lbnRzLmZpbHRlcigodCkgPT4gdHJlYXRtZW50SWRzLmluY2x1ZGVzKHQuaWQpKTtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJpbmZpbml0ZV9zY3JvbGxcIjoge1xuICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBpbmZpbml0ZV9zY3JvbGxgKTtcbiAgICAgICAgICAgICAgdGhpcy5lbmdhZ2VSb2JvdCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUod2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0aW1lb3V0XCI6IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSB0aW1lb3V0YCk7XG4gICAgICAgICAgICAgIHRoaXMuZW5nYWdlUm9ib3QodHJlYXRtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbGVtZW50X2NoYW5nZVwiOiB7XG4gICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYXBwbHlTZWxlY3Rvckxpc3QgPSBBcnJheS5pc0FycmF5KHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yKSA/XG4gICAgICAgICAgICAgICAgdHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3IgOiBbdHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3JdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiByZWFwcGx5U2VsZWN0b3JMaXN0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGVsZW1lbnRfY2hhbmdlYCk7XG4gICAgICAgICAgICAgICAgICB0aGlzLmVuZ2FnZVJvYm90KHRyZWF0bWVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCBPQlNFUlZFUl9DT05GSUcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvbl9zY3JvbGxcIjoge1xuICAgICAgICAgIC8vIGFkZCB3aW5kb3cgc2Nyb2xsIGxpc3RlbmVyLCBjYWxsIGVuZ2FnZVJvYm90IG9uIHNjcm9sbCwgZG8gbm90IHRyaWdnZXIgbW9yZSB0aGFuIG9uY2UgcGVyIDI1MG1zXG4gICAgICAgICAgbGV0IGxhc3RTY3JvbGxUb3AgPSAwO1xuICAgICAgICAgIGxldCBsYXN0U2Nyb2xsVGltZSA9IDA7XG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBjb25zdCBzdCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgICBpZiAobm93IC0gbGFzdFNjcm9sbFRpbWUgPiAyNTAgJiYgTWF0aC5hYnMobGFzdFNjcm9sbFRvcCAtIHN0KSA+IDUpIHtcbiAgICAgICAgICAgICAgbGFzdFNjcm9sbFRvcCA9IHN0O1xuICAgICAgICAgICAgICBsYXN0U2Nyb2xsVGltZSA9IG5vdztcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gb25fc2Nyb2xsYCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdhZ2VSb2JvdCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJxdWVyeV9zZWFyY2hfY2hhbmdlXCI6IHtcbiAgICAgICAgICBsZXQgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggIT09IHF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gcXVlcnlfc2VhcmNoX2NoYW5nZWApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5nYWdlUm9ib3QodHJlYXRtZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImludGVydmFsXCI6XG4gICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYXBwbHlJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgYXBwbGllZCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJhXCIsIHRydWUpO1xuICAgICAgICAgICAgICBpZiAoYXBwbGllZD8uW3RyZWF0bWVudC5pZF0pIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHJlYXBwbHlJbnRlcnZhbCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGludGVydmFsYCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5lbmdhZ2VSb2JvdCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyZWFwcGx5SW50ZXJ2YWwpO1xuICAgICAgICAgICAgfSwgMjUwMCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW5mb19sYXllcl9jaGFuZ2VcIjpcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgY29uc3QgYm91bmRFbmdhZ2VUcmVhdG1lbnQgPSB0aGlzLmVuZ2FnZVJvYm90LmJpbmQodGhpcywgdHJlYXRtZW50KTtcbiAgICAgICAgICAgIGFkZERhdGFMaXN0ZW5lcih0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvciwgYm91bmRFbmdhZ2VUcmVhdG1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiUmVhcHBseSBldmVudCBub3QgZm91bmQ6IFwiLCBrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGFkZFJ1bGVTZXREYXRhTGlzdGVuZXJzKHRyZWF0bWVudCkge1xuICAgIGNvbnN0IHtlbGlnaWJpbGl0eVJ1bGVTZXQgPSBbXSwgYnVzaW5lc3NSdWxlU2V0ID0gW10sIGlkfSA9IHRyZWF0bWVudDtcbiAgICBpZiAodGhpcy5hZGRlZERhdGFMaXN0ZW5lcklkcy5pbmNsdWRlcyhpZCkpIHJldHVybjtcbiAgICBjb25zdCBzZWxlY3RvcnMgPSB0aGlzLmV4dHJhY3REYXRhTGlzdGVuZXJTZWxlY3RvcnMoWy4uLmVsaWdpYmlsaXR5UnVsZVNldCwgLi4uYnVzaW5lc3NSdWxlU2V0XSk7XG4gICAgY29uc3QgYm91bmRFbmdhZ2VUcmVhdG1lbnQgPSB0aGlzLmVuZ2FnZVJvYm90LmJpbmQodGhpcywgdHJlYXRtZW50KTtcbiAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHNlbGVjdG9ycykge1xuICAgICAgYWRkRGF0YUxpc3RlbmVyKGBfX2VSdWxlcy4ke3NlbGVjdG9yfWAsIGJvdW5kRW5nYWdlVHJlYXRtZW50KTtcbiAgICB9XG4gICAgdGhpcy5hZGRlZERhdGFMaXN0ZW5lcklkcy5wdXNoKGlkKTtcbiAgfVxuXG4gIGV4dHJhY3REYXRhTGlzdGVuZXJTZWxlY3RvcnMocnVsZVNldCwgcHJldmlvdXNTZWxlY3RvcnMgPSBudWxsKSB7XG4gICAgY29uc3Qgc2VsZWN0b3JzID0gcHJldmlvdXNTZWxlY3RvcnMgfHwgW107XG4gICAgZm9yIChsZXQgcnVsZSBvZiBydWxlU2V0KSB7XG4gICAgICBpZiAodHlwZW9mIHJ1bGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKHJ1bGUuc3RhcnRzV2l0aChcIiFcIikpIHJ1bGUgPSBydWxlLnNsaWNlKDEpO1xuICAgICAgICBzZWxlY3RvcnMucHVzaChydWxlLnNwbGl0KFwiLlwiKVswXSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5leHRyYWN0RGF0YUxpc3RlbmVyU2VsZWN0b3JzKHJ1bGUuc2V0LCBzZWxlY3RvcnMpO1xuICAgIH1cbiAgICByZXR1cm4gWy4uLihuZXcgU2V0KHNlbGVjdG9ycykpXTtcbiAgfVxuXG4gIGFzeW5jIGNoZWNrRWxpZ2liaWxpdHkoZWxpZ2liaWxpdHlSdWxlKSB7XG4gICAgbG9nZ2VyLmxvZyhgQ2hlY2tpbmcgZWxpZ2liaWxpdHkgJHtlbGlnaWJpbGl0eVJ1bGV9YCk7XG4gICAgbGV0IG9wcG9zaXRlRmxhZyA9IGZhbHNlO1xuICAgIGxldCBbZWxpZ2liaWxpdHlTY29wZSwgZWxpZ2liaWxpdHlOYW1lXSA9IGVsaWdpYmlsaXR5UnVsZS5zcGxpdChcIi5cIik7XG4gICAgaWYgKGVsaWdpYmlsaXR5U2NvcGUuc3RhcnRzV2l0aChcIiFcIikpIHtcbiAgICAgIG9wcG9zaXRlRmxhZyA9IHRydWU7XG4gICAgICBlbGlnaWJpbGl0eVNjb3BlID0gZWxpZ2liaWxpdHlTY29wZS5zbGljZSgxKTtcbiAgICB9XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihgX19lUnVsZXMuJHtlbGlnaWJpbGl0eVNjb3BlfWApO1xuICAgIGlmICghcmVzIHx8ICFBcnJheS5pc0FycmF5KHJlcykpIHJldHVybiBmYWxzZTtcbiAgICBpZiAob3Bwb3NpdGVGbGFnICYmIHJlcy5pbmNsdWRlcyhlbGlnaWJpbGl0eU5hbWUpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFvcHBvc2l0ZUZsYWcgJiYgIXJlcy5pbmNsdWRlcyhlbGlnaWJpbGl0eU5hbWUpKSByZXR1cm4gZmFsc2U7XG4gICAgbG9nZ2VyLmxvZyhgJHtlbGlnaWJpbGl0eVJ1bGV9IGlzIGVsaWdpYmxlYCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBhc3luYyBjaGVja0VsaWdpYmlsaXR5UnVsZVNldChlbGlnaWJpbGl0eVJ1bGVTZXQsIGVsaWdpYmlsaXR5U2V0VHlwZSA9IG51bGwsIHByZXZpb3VzSXNFbGlnaWJsZSA9IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcm9ib3QgZWxpZ2liaWxpdHlcIik7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVsaWdpYmlsaXR5UnVsZVNldCkpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoYEVsaWdpYmlsaXR5IFJ1bGUgU2V0ICR7ZWxpZ2liaWxpdHlSdWxlU2V0fSBpcyBub3QgYW4gYXJyYXlgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGlzRWxpZ2libGUgPSBwcmV2aW91c0lzRWxpZ2libGU7XG4gICAgZm9yIChjb25zdCBlbGlnaWJpbGl0eVJ1bGUgb2YgZWxpZ2liaWxpdHlSdWxlU2V0KSB7XG4gICAgICBpZiAodHlwZW9mIGVsaWdpYmlsaXR5UnVsZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoIWVsaWdpYmlsaXR5U2V0VHlwZSkge1xuICAgICAgICAgIGlzRWxpZ2libGUgPSBhd2FpdCB0aGlzLmNoZWNrRWxpZ2liaWxpdHkoZWxpZ2liaWxpdHlSdWxlKTtcbiAgICAgICAgICBpZiAoIWlzRWxpZ2libGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGlnaWJpbGl0eVNldFR5cGUpIHtcbiAgICAgICAgICBpZiAoaXNFbGlnaWJsZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaXNFbGlnaWJsZSA9IGF3YWl0IHRoaXMuY2hlY2tFbGlnaWJpbGl0eShlbGlnaWJpbGl0eVJ1bGUpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAoZWxpZ2liaWxpdHlTZXRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwib3JcIjpcbiAgICAgICAgICAgICAgaXNFbGlnaWJsZSA9IGlzRWxpZ2libGUgfHwgYXdhaXQgdGhpcy5jaGVja0VsaWdpYmlsaXR5KGVsaWdpYmlsaXR5UnVsZSwgZWxpZ2liaWxpdHlTZXRUeXBlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYW5kXCI6XG4gICAgICAgICAgICAgIGlzRWxpZ2libGUgPSBpc0VsaWdpYmxlICYmIGF3YWl0IHRoaXMuY2hlY2tFbGlnaWJpbGl0eShlbGlnaWJpbGl0eVJ1bGUsIGVsaWdpYmlsaXR5U2V0VHlwZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlVua25vd24gZWxpZ2liaWxpdHlTZXRUeXBlOiBcIiwgZWxpZ2liaWxpdHlTZXRUeXBlKTtcbiAgICAgICAgICAgICAgaXNFbGlnaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsaWdpYmlsaXR5UnVsZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpc0VsaWdpYmxlID0gYXdhaXQgdGhpcy5jaGVja0VsaWdpYmlsaXR5UnVsZVNldChlbGlnaWJpbGl0eVJ1bGUuc2V0LCBlbGlnaWJpbGl0eVJ1bGUudHlwZSwgaXNFbGlnaWJsZSk7XG4gICAgICAgIGlmICghaXNFbGlnaWJsZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNFbGlnaWJsZTtcbiAgfVxuXG4gIC8vIFJldHVybiBpbmRleCBvZiBidXNpbmVzc1J1bGUsIHRoaXMgaXMgdGhlIGJ1c2luZXNzUnVsZUlkXG4gIGFzeW5jIGNoZWNrQnVzaW5lc3NSdWxlcyhidXNpbmVzc1J1bGVTZXQpIHtcbiAgICBmb3IgKGNvbnN0IFtpbmRleCwgYnVzaW5lc3NSdWxlXSBvZiBidXNpbmVzc1J1bGVTZXQuZW50cmllcygpKSB7XG4gICAgICBpZiAoYXdhaXQgdGhpcy5jaGVja0VsaWdpYmlsaXR5UnVsZVNldChbYnVzaW5lc3NSdWxlXSkpIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge2dldEZyb21CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUluZm9MYXllckNoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0RhdGFMYXllclJ1bGUgPSBhc3luYyAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IGF3YWl0IGRhdGFMYXllckZpbmRlcihvcGVyYXRvcik7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGF0YUxheWVyRmluZGVyID0gYXN5bmMgKGtleSkgPT4ge1xuICBsb2dnZXIubG9nKFwiU2VhcmNoaW5nIGJlYWdsZUluZm9MYXllciBmb3Iga2V5IFwiLCBrZXkpO1xuICBjb25zdCByZXMgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKGtleSk7XG4gIGlmIChyZXMgIT09IG51bGwgJiYgcmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICBsb2dnZXIuc3VjY2VzcyhgRm91bmQga2V5ICR7a2V5fSB3aXRoIHZhbHVlICR7cmVzfWApO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgbG9nZ2VyLmZhaWxlZChgS2V5ICR7a2V5fSBub3QgZm91bmQgaW4gYmVhZ2xlSW5mb0xheWVyYCk7XG4gIHJldHVybiBudWxsO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVFbGVtZW50Q2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRWxlbWVudFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlLCBzZWxlY3Rvciwgc2VsZWN0b3JBbGwsIHNlbGVjdG9yRmFsbGJhY2sgPSBudWxsfSA9IHJ1bGU7XG4gIGxldCBtYWluU2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBtYWluU2VsZWN0b3IgPSBzZWxlY3RvckZhbGxiYWNrID8gc2VsZWN0b3JGYWxsYmFjayA6IG1haW5TZWxlY3RvcjtcbiAgfVxuXG4gIGlmIChvcGVyYXRvciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgfVxuICBpZiAobWFpblNlbGVjdG9yICYmICF3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJTZWxlY3RvciBub3QgZm91bmQgb24gcGFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNlbGVjdG9yQWxsICYmICF3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBlbGVtZW50O1xuICBpZiAobWFpblNlbGVjdG9yKSBlbGVtZW50ID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3Rvcik7XG4gIGVsc2UgaWYgKHNlbGVjdG9yQWxsKSBlbGVtZW50ID0gQXJyYXkuZnJvbSh3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInRleHQtbnVtYmVyXCI6IHtcbiAgICAgIGxldCB0ZW1wVmFsO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgICAgdGVtcFZhbCA9IGVsZW1lbnQucmVkdWNlKChyZXR1cm5WYWwsIGVsZW0pID0+IHtcbiAgICAgICAgICByZXR1cm5WYWwgKz0gcGFyc2VJbnQoZWxlbS50ZXh0Q29udGVudC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcFZhbCA9IHBhcnNlSW50KHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLnRleHRDb250ZW50XG4gICAgICAgICAgICAucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IHBhcnNlSW50KHRlbXBWYWwpO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcImNsYXNzTGlzdFwiOlxuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoQXJyYXkuZnJvbShlbGVtZW50LmNsYXNzTGlzdCksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJjb3VudFwiOiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSAmJiBlbGVtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoZWxlbWVudC5sZW5ndGgsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKDEsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoMCwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJzdHlsZVwiOiB7XG4gICAgICBjb25zdCBlbGVtZW50U3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgIGNvbnN0IHN0eWxlS2V5ID0gdmFsdWUuc3BsaXQoXCI6XCIpWzBdLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0eWxlVmFsdWUgPSB2YWx1ZS5zcGxpdChcIjpcIilbMV0udHJpbSgpO1xuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gZWxlbWVudFN0eWxlc1tzdHlsZUtleV07XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgc3R5bGVWYWx1ZSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiT3BlcmF0b3Igbm90IGRlZmluZWRcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlRnVuY3Rpb25DaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tGdW5jdGlvblJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGlmICghb3BlcmF0b3IpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiUnVsZSBmdW5jdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgcnVsZUZ1bmN0aW9uID0gRnVuY3Rpb24ob3BlcmF0b3IpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBydWxlRnVuY3Rpb24oKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlU2Vzc2lvbkNoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1Nlc3Npb25SdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICByZXR1cm4gZHVyYXRpb25IYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJoaXN0b3J5XCI6XG4gICAgICByZXR1cm4gaGlzdG9yeUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBnZXRTZXNzaW9uVGltZXN0YW1wID0gKCkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludCh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1RJTUVTVEFNUCkpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBnZXQgc2Vzc2lvbiB0aW1lc3RhbXBcIiwgZXJyKTtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxufTtcblxuY29uc3QgZHVyYXRpb25IYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgZHVyYXRpb24gPSAoRGF0ZS5ub3coKSAtIGdldFNlc3Npb25UaW1lc3RhbXAoKSkgLyAxMDAwO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkdXJhdGlvbiwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgaGlzdG9yeUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjdXJyZW50SGlzdG9yeSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSElTVE9SWSk/LnNwbGl0KFwiLFwiKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY3VycmVudEhpc3RvcnksIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVVcmxDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tVcmxSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwicGF0aFwiOiB7XG4gICAgICBjb25zdCByZXF1ZXN0VVJMPSB3aW5kb3cudG9wLmxvY2F0aW9uLmhyZWY7XG4gICAgICBjb25zdCBwYXRoID0gbmV3IFVSTChyZXF1ZXN0VVJMKS5wYXRobmFtZTtcbiAgICAgIGxvZ2dlci5sb2coYENoZWNraW5nIHBhdGggJHtwYXRofSBtYXRjaGVzIHJ1bGUgcGF0aCAke3ZhbHVlfWApO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocGF0aCwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNhc2UgXCJQTEFDRUhPTERFUlwiOiB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TU9CSUxFX01FRElBX1FVRVJZfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVFbnZDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tFbnZSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwiZGV2aWNlX3R5cGVcIjoge1xuICAgICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXMgPyBcIm1vYmlsZVwiIDogXCJkZXNrdG9wXCI7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihpc01vYmlsZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNhc2UgXCJQTEFDRUhPTERFUlwiOiB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IHtnZXRGcm9tQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQgU3RvcmUgZnJvbSBcIi4uL0dsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkvc3RvcmVcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZVByb2R1Y3RJbmZvQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrUHJvZHVjdEluZm9SdWxlID0gYXN5bmMgKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBjb25zdCBza3VMaXN0ID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9fZmVhdHVyZXMuU0tVc29uUGFnZVwiLCB0cnVlKTtcbiAgaWYgKCFza3VMaXN0IHx8ICh0eXBlb2Ygc2t1TGlzdCA9PT0gXCJvYmplY3RcIiAmJiAhT2JqZWN0LmtleXMoc2t1TGlzdCkubGVuZ3RoKSkgcmV0dXJuIGZhbHNlO1xuICBsZXQgcnVudGltZVZhbHVlID0gbnVsbDtcbiAgY29uc3Qgc2t1ID0gc2t1TGlzdFtPYmplY3Qua2V5cyhza3VMaXN0KVswXV0/LmlkO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInRyYW5zYWN0aW9uSW4yV2Vla3NcIjoge1xuICAgICAgbG9nZ2VyLmxvZyhcIkdldHRpbmcgVHJhbnNhY3Rpb25Db3VudCBmb3Igc2t1IFwiLCBza3UpO1xuICAgICAgcnVudGltZVZhbHVlID0gYXdhaXQgZ2V0VHJhbnNhY3Rpb25Db3VudChza3UpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJhZGRUb0NhcnRJbjJXZWVrc1wiOiB7XG4gICAgICBsb2dnZXIubG9nKFwiR2V0dGluZyBBZGRUb0NhcnRDb3VudCBmb3Igc2t1IFwiLCBza3UpO1xuICAgICAgcnVudGltZVZhbHVlID0gYXdhaXQgZ2V0QWRkVG9DYXJ0Q291bnQoc2t1KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFwicHJvZHVjdFZpZXdDb3VudFwiOiB7XG4gICAgICBsb2dnZXIubG9nKFwiR2V0dGluZyBwcm9kdWN0Vmlld0NvdW50IGZvciBza3UgXCIsIHNrdSk7XG4gICAgICBydW50aW1lVmFsdWUgPSBhd2FpdCBnZXRQcmV2aWV3Q291bnQoc2t1KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcblxuY29uc3QgZ2V0VHJhbnNhY3Rpb25Db3VudCA9IGFzeW5jIChza3UpID0+IHtcbiAgY29uc3QgcHJvZHVjdEluZm8gPSBhd2FpdCBTdG9yZS5nZXRJbnN0YW5jZSgpLmdldChza3UpO1xuICBpZiAoc2t1ICYmIHByb2R1Y3RJbmZvKSB7XG4gICAgcmV0dXJuIHByb2R1Y3RJbmZvLnNhbGVDbnRWaXNpdG9yc0luMTU7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcblxuY29uc3QgZ2V0QWRkVG9DYXJ0Q291bnQgPSBhc3luYyAoc2t1KSA9PiB7XG4gIGNvbnN0IHByb2R1Y3RJbmZvID0gYXdhaXQgU3RvcmUuZ2V0SW5zdGFuY2UoKS5nZXQoc2t1KTtcbiAgaWYgKHNrdSAmJiBwcm9kdWN0SW5mbykge1xuICAgIHJldHVybiBwcm9kdWN0SW5mby5jYXJ0Q250VmlzaXRvcnNJbjE1O1xuICB9XG4gIHJldHVybiAtMTtcbn07XG5cbmNvbnN0IGdldFByZXZpZXdDb3VudCA9IGFzeW5jIChza3UpID0+IHtcbiAgY29uc3QgcHJvZHVjdEluZm8gPSBhd2FpdCBTdG9yZS5nZXRJbnN0YW5jZSgpLmdldChza3UpO1xuICBpZiAoc2t1ICYmIHByb2R1Y3RJbmZvKSB7XG4gICAgcmV0dXJuIHByb2R1Y3RJbmZvLnZpZXdDbnRWaXNpdG9yc0luMTtcbiAgfVxuICByZXR1cm4gLTE7XG59O1xuIiwiaW1wb3J0IHtjaGVja0RhdGFMYXllclJ1bGV9IGZyb20gXCIuL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tFbGVtZW50UnVsZX0gZnJvbSBcIi4vZWxlbWVudENoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tGdW5jdGlvblJ1bGV9IGZyb20gXCIuL2Z1bmN0aW9uQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1Nlc3Npb25SdWxlfSBmcm9tIFwiLi9zZXNzaW9uQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1VybFJ1bGV9IGZyb20gXCIuL3VybENoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tFbnZSdWxlfSBmcm9tIFwiLi9lbnZDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrUHJvZHVjdEluZm9SdWxlfSBmcm9tIFwiLi9wcm9kdWN0SW5mb0NoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IHthZGREYXRhTGlzdGVuZXIsIGFkZFRvQmVhZ2xlSW5mb0xheWVyLCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge011dGV4fSBmcm9tIFwiYXN5bmMtbXV0ZXhcIjtcbmltcG9ydCB7ZmV0Y2hFbGlnaWJpbGl0eVJ1bGVzfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TE9DQUxfU1RPUkFHRV9LRVlTLCBMT0NBTF9TVE9SQUdFX1RUTF9IT1VSU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZVJ1bGVFbmdpbmVcIik7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1bGVFbmdpbmUge1xuICBjb25zdHJ1Y3Rvcihib2R5KSB7XG4gICAgY29uc3Qge2VsaWdpYmlsaXR5UnVsZXMsIGJhc2VSdWxlU2V0fSA9IGJvZHk7XG4gICAgdGhpcy5iYXNlUnVsZVNldCA9IGJhc2VSdWxlU2V0O1xuICAgIHRoaXMuZWxpZ2liaWxpdHlSdWxlcyA9IGVsaWdpYmlsaXR5UnVsZXM7XG4gICAgdGhpcy5hZGRlZERhdGFMaXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLm11dGV4ID0gbmV3IE11dGV4KCk7XG4gIH1cblxuICBhc3luYyBjaGVja1J1bGVzKCkge1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiB0aGlzLmJhc2VSdWxlU2V0KSB7XG4gICAgICBjb25zdCBydWxlU2F0aXNmaWVkID0gYXdhaXQgdGhpcy5jaGVja1J1bGUocnVsZSk7XG4gICAgICBpZiAoIXJ1bGVTYXRpc2ZpZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGFzeW5jIGNoZWNrUnVsZShydWxlKSB7XG4gICAgY29uc3Qge2NoYWluLCBjaGFpbl9jb25kaXRpb24sIHR5cGV9ID0gcnVsZTtcbiAgICBsZXQgcnVsZVNhdGlzZmllZCA9IG51bGw7XG4gICAgLy8gY2hlY2sgcnVsZVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrU2Vzc2lvblJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVsZW1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRWxlbWVudFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRhdGFMYXllclwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gYXdhaXQgY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1cmxcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrVXJsUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRnVuY3Rpb25SdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbnZpcm9ubWVudFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tFbnZSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwcm9kdWN0SW5mb0xvb2t1cFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gYXdhaXQgY2hlY2tQcm9kdWN0SW5mb1J1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChgTm8gc3VjaCBydWxlIHR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGNoYWluKSB7XG4gICAgICBzd2l0Y2ggKGNoYWluX2NvbmRpdGlvbikge1xuICAgICAgICBjYXNlIFwiYW5kXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgJiYgYXdhaXQgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCB8fCBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4b3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAhPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIk5vIHN1Y2ggY2hhaW4gY29uZGl0aW9uXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZVNhdGlzZmllZCA/IHJ1bGUubmFtZSB8fCB0cnVlIDogZmFsc2U7XG4gIH1cblxuICBhc3luYyBhc3Nlc0VsaWdpYmlsaXR5UnVsZXMoKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwiYXNzZXNzaW5nLWVsaWdpYmlsaXR5LXJ1bGVzXCIpO1xuICAgIGNvbnN0IGtleVByb21pc2VzTWFwID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCBydWxlc10gb2YgT2JqZWN0LmVudHJpZXModGhpcy5lbGlnaWJpbGl0eVJ1bGVzKSkge1xuICAgICAga2V5UHJvbWlzZXNNYXBba2V5XSA9IFtdO1xuICAgICAgZm9yIChjb25zdCBydWxlIG9mIHJ1bGVzKSB7XG4gICAgICAgIGtleVByb21pc2VzTWFwW2tleV0ucHVzaCh0aGlzLmNoZWNrUnVsZShydWxlKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2tleSwgcnVsZVByb21pc2VzXSBvZiBPYmplY3QuZW50cmllcyhrZXlQcm9taXNlc01hcCkpIHtcbiAgICAgIGNvbnN0IHNhdGlzZmllZFJ1bGVJZHMgPSBhd2FpdCBQcm9taXNlLmFsbChydWxlUHJvbWlzZXMpO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoYF9fZVJ1bGVzLiR7a2V5fWAsIHNhdGlzZmllZFJ1bGVJZHMuZmlsdGVyKChpZCkgPT4gaWQgIT09IGZhbHNlKSk7XG4gICAgICB0aGlzLnNldFVwTGlzdGVuZXJzKGtleSwgdGhpcy5lbGlnaWJpbGl0eVJ1bGVzW2tleV0pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGFzc2VzRWxpZ2liaWxpdHlSdWxlc0NhbGxCYWNrKGtleSwgcnVsZXMpIHtcbiAgICBpZiAoIWtleSB8fCAhcnVsZXMgfHwgIXJ1bGVzLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IHJlbGVhc2UgPSBhd2FpdCB0aGlzLm11dGV4LmFjcXVpcmUoKTtcbiAgICBsb2dnZXIubG9nKGBMb2NrIGFjcXVpcmVkIGZvciBrZXkgJHtrZXl9YCk7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAoY29uc3QgcnVsZSBvZiBydWxlcykge1xuICAgICAgICBjb25zdCBpc0VsaWdpYmxlID0gYXdhaXQgdGhpcy5jaGVja1J1bGUocnVsZSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKGBfX2VSdWxlcy4ke2tleX1gKSB8fCBbXTtcbiAgICAgICAgaWYgKGlzRWxpZ2libGUpIHtcbiAgICAgICAgICBpZiAoY3VycmVudC5pbmNsdWRlcyhydWxlLm5hbWUpKSBjb250aW51ZTtcbiAgICAgICAgICBjdXJyZW50LnB1c2gocnVsZS5uYW1lKTtcbiAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihgX19lUnVsZXMuJHtrZXl9YCwgY3VycmVudCk7XG4gICAgICAgICAgaWYgKGtleSA9PT0gXCJQYWdlVHlwZVwiKSBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByZW1vdmUgZnJvbSBlbGlnaWJsZSBydWxlc1xuICAgICAgICAgIGlmICghY3VycmVudC5pbmNsdWRlcyhydWxlLm5hbWUpKSBjb250aW51ZTtcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IGN1cnJlbnQuZmlsdGVyKChrKSA9PiBrICE9PSBydWxlLm5hbWUpO1xuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKGBfX2VSdWxlcy4ke2tleX1gLCBmaWx0ZXJlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoYEVycm9yIGFzc2Vzc2luZyBydWxlcyBmb3Iga2V5OiAke2tleX0gLSAke2Vyci5tZXNzYWdlfWApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBsb2dnZXIubG9nKGBSZWxlYXNpbmcgbG9jayBmb3Iga2V5OiAke2tleX1gKTtcbiAgICAgIHJlbGVhc2UoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzZXRVcExpc3RlbmVycyhrZXksIHJ1bGVzKSB7XG4gICAgY29uc3Qge2RhdGFMYXllclJ1bGVzLCBlbGVtZW50UnVsZXN9ID0gdGhpcy5leHRyYWN0UnVsZUF0dHJpYnV0ZXMocnVsZXMpO1xuICAgIGZvciAoY29uc3QgW29wZXJhdG9yLCBydWxlc10gb2YgT2JqZWN0LmVudHJpZXMoZGF0YUxheWVyUnVsZXMpKSB7XG4gICAgICBjb25zdCBib3VuZEFzc2VzRWxpZ2liaWxpdHlSdWxlc0NhbGxCYWNrID0gdGhpcy5hc3Nlc0VsaWdpYmlsaXR5UnVsZXNDYWxsQmFjay5iaW5kKHRoaXMsIGtleSwgcnVsZXMpO1xuICAgICAgYWRkRGF0YUxpc3RlbmVyKG9wZXJhdG9yLCBib3VuZEFzc2VzRWxpZ2liaWxpdHlSdWxlc0NhbGxCYWNrKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBbc2VsZWN0b3IsIHJ1bGVzXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50UnVsZXMpKSB7XG4gICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbkxpc3QpID0+IHtcbiAgICAgICAgaWYgKHdpbmRvdy50b3AuZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSByZXR1cm47XG4gICAgICAgIGxldCBub2RlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uUmVjb3JkIG9mIG11dGF0aW9uTGlzdCkge1xuICAgICAgICAgIG5vZGVzID0gWy4uLm5vZGVzLCAuLi5BcnJheS5mcm9tKG11dGF0aW9uUmVjb3JkLmFkZGVkTm9kZXMpLCAuLi5BcnJheS5mcm9tKG11dGF0aW9uUmVjb3JkLnJlbW92ZWROb2RlcyldO1xuICAgICAgICB9XG4gICAgICAgIC8vIGV4Y2x1ZGUgbXV0YXRpb25zIHRoYXQgb25seSB1cGRhdGUgdGV4dFxuICAgICAgICBpZiAobm9kZXMuZXZlcnkoKG4pID0+IG4udGFnTmFtZSA9PT0gdW5kZWZpbmVkKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmFzc2VzRWxpZ2liaWxpdHlSdWxlc0NhbGxCYWNrKGtleSwgcnVsZXMpO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2VsZWN0b3IgPT09IFwiYm9keVwiKSB7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUod2luZG93LnRvcC5kb2N1bWVudC5ib2R5LCB7c3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikucGFyZW50Tm9kZSwge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZX0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGV4dHJhY3RSdWxlQXR0cmlidXRlcyhydWxlcywgZGF0YUxheWVyUnVsZXMgPSB7fSwgZWxlbWVudFJ1bGVzID0ge30pIHtcbiAgICBpZiAoIXJ1bGVzIHx8ICFydWxlcy5sZW5ndGgpIHJldHVybjtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcnVsZXMpIHtcbiAgICAgIGNvbnN0IHt0eXBlfSA9IHJ1bGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImRhdGFMYXllclwiOlxuICAgICAgICAgIGlmICghZGF0YUxheWVyUnVsZXNbcnVsZS5vcGVyYXRvcl0pIHtcbiAgICAgICAgICAgIGRhdGFMYXllclJ1bGVzW3J1bGUub3BlcmF0b3JdID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGFMYXllclJ1bGVzW3J1bGUub3BlcmF0b3JdLnB1c2gocnVsZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbGVtZW50XCI6XG4gICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocnVsZS5zZWxlY3RvcikpIHtcbiAgICAgICAgICAgIGVsZW1lbnRSdWxlc1tydWxlLnNlbGVjdG9yXSA9IGVsZW1lbnRSdWxlc1tydWxlLnNlbGVjdG9yXSA/XG4gICAgICAgICAgICBbLi4uZWxlbWVudFJ1bGVzW3J1bGUuc2VsZWN0b3JdLCBydWxlXSA6IFtydWxlXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChydWxlLnNlbGVjdG9yQWxsKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVsZW1lbnRSdWxlc1tydWxlLnNlbGVjdG9yQWxsXSA9IGVsZW1lbnRSdWxlc1tydWxlLnNlbGVjdG9yQWxsXSA/XG4gICAgICAgICAgICBbLi4uZWxlbWVudFJ1bGVzW3J1bGUuc2VsZWN0b3JBbGxdLCBydWxlXSA6IFtydWxlXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50UnVsZXNbXCJib2R5XCJdID0gZWxlbWVudFJ1bGVzW1wiYm9keVwiXSA/XG4gICAgICAgICAgICBbLi4uZWxlbWVudFJ1bGVzW1wiYm9keVwiXSwgcnVsZV0gOiBbcnVsZV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAocnVsZS5jaGFpbikge1xuICAgICAgICB0aGlzLmV4dHJhY3RSdWxlQXR0cmlidXRlcyhbcnVsZS5jaGFpbl0sIGRhdGFMYXllclJ1bGVzLCBlbGVtZW50UnVsZXMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge2RhdGFMYXllclJ1bGVzLCBlbGVtZW50UnVsZXN9O1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldEVsaWdpYmlsaXR5UnVsZXMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBlbGlnaWJpbGl0eVJ1bGVzT2JqID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5FTElHSUJJTElUWV9SVUxFUyk7XG4gICAgICBpZiAoZWxpZ2liaWxpdHlSdWxlc09iaikge1xuICAgICAgICBlbGlnaWJpbGl0eVJ1bGVzT2JqID0gSlNPTi5wYXJzZShlbGlnaWJpbGl0eVJ1bGVzT2JqKTtcbiAgICAgICAgaWYgKGVsaWdpYmlsaXR5UnVsZXNPYmoudGltZXN0YW1wKSB7XG4gICAgICAgICAgY29uc3QgZWxhcHNlZEhvdXJzID0gKERhdGUubm93KCkgLSBlbGlnaWJpbGl0eVJ1bGVzT2JqLnRpbWVzdGFtcCkgLyAoMTAwMCAqIDM2MDApO1xuICAgICAgICAgIGlmIChlbGFwc2VkSG91cnMgPCBMT0NBTF9TVE9SQUdFX1RUTF9IT1VSUykgcmV0dXJuIGVsaWdpYmlsaXR5UnVsZXNPYmoucnVsZXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsaWdpYmlsaXR5UnVsZXNPYmogPSBhd2FpdCBmZXRjaEVsaWdpYmlsaXR5UnVsZXMoKTtcbiAgICAgIGlmICghZWxpZ2liaWxpdHlSdWxlc09iaikge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiRmFpbGVkIHRvIGZldGNoIGVsaWdpYmlsaXR5IHJ1bGVzXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGVsaWdpYmlsaXR5UnVsZXNPYmogPSB7cnVsZXM6IGVsaWdpYmlsaXR5UnVsZXNPYmosIHRpbWVzdGFtcDogRGF0ZS5ub3coKX07XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLkVMSUdJQklMSVRZX1JVTEVTLCBKU09OLnN0cmluZ2lmeShlbGlnaWJpbGl0eVJ1bGVzT2JqKSk7XG4gICAgICByZXR1cm4gZWxpZ2liaWxpdHlSdWxlc09iai5ydWxlcztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJDb3VsZCBub3QgZ2V0IGVsaWdpYmlsaXR5IHJ1bGVzOiBcIiwgZXJyLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBUcmVhdG1lbnRSZXBvc2l0b3J5IGZyb20gXCIuLi9CZWFnbGVUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4XCI7XG5pbXBvcnQge1xuICBhZGRUb0JlYWdsZUluZm9MYXllcixcbiAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcixcbn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMsXG4gIGluamVjdFN0eWxlU2hlZXQsXG4gIHJlbW92ZURvY3VtZW50SGlkZSxcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgUm9ib3RFbmdpbmUgZnJvbSBcIi4vcm9ib3RFbmdpbmVcIjtcbmltcG9ydCBSdWxlRW5naW5lIGZyb20gXCIuLi9CZWFnbGVSdWxlRW5naW5lXCI7XG5pbXBvcnQgU3RvcmUgZnJvbSBcIi4uL0dsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnkvc3RvcmVcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZU9uQ29tcG9uZW50XCIpO1xuXG5jb25zdCBiZWFnbGVPbiA9IGFzeW5jIChpZGVudGlmaWVyLCBkZWJ1Z01vZGUsIHBhZ2VUeXBlLCB0cmVhdG1lbnRXZWlnaHRzKSA9PiB7XG4gIGNvbnN0IHBlcnNpc3RQcm9kdWN0SW5mb1Byb21pc2UgPSBTdG9yZS5nZXRJbnN0YW5jZSgpLnBlcnNpc3RQcm9kdWN0SW5mbygpO1xuXG4gIGNvbnN0IGVsaWdpYmlsaXR5UnVsZXNBc3Nlc3NQcm9taXNlID0gYXNzZXNFbGlnaWJpbGl0eVJ1bGVzKCk7XG4gIGNvbnN0IHRyZWF0bWVudHNQcm9taXNlID0gVHJlYXRtZW50UmVwb3NpdG9yeS5nZXRUcmVhdG1lbnRzKCk7XG5cbiAgaW5qZWN0U3R5bGVTaGVldCgpO1xuICBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcygpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJvbi1pbml0XCIpO1xuXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGxldCBkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyA9IG51bGw7XG4gIGlmIChkZWJ1Z01vZGUgJiYgc2VhcmNoUGFyYW1zLmluY2x1ZGVzKFwiZmlsdGVyPVwiKSkge1xuICAgIGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzID0gc2VhcmNoUGFyYW1zLnNsaWNlKFxuICAgICAgICBzZWFyY2hQYXJhbXMuaW5kZXhPZihcIltcIikgKyAxLFxuICAgICAgICBzZWFyY2hQYXJhbXMubGFzdEluZGV4T2YoXCJdXCIpLFxuICAgICkuc3BsaXQoXCIsXCIpLm1hcCgoaXRlbSkgPT4gcGFyc2VJbnQoaXRlbSwgMTApKTtcbiAgfVxuXG4gIGNvbnN0IHRyZWF0bWVudHMgPSBhd2FpdCB0cmVhdG1lbnRzUHJvbWlzZTtcblxuICBpZiAoIXRyZWF0bWVudHMpIHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJuby1yb2JvdC13ZWlnaHRzXCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCB0cmVhdG1lbnRzL3dlaWdodHNcIik7XG4gIH1cbiAgbG9nZ2VyLnN1Y2Nlc3MoXCJGb3VuZCB0cmVhdG1lbnRzOiBcIiwgdHJlYXRtZW50cyk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcImZldGNoZWQtdHJlYXRtZW50c1wiKTtcblxuICBjb25zdCB0cmVhdG1lbnRSZXBvc2l0b3J5ID0gbmV3IFRyZWF0bWVudFJlcG9zaXRvcnkoe1xuICAgIHRyZWF0bWVudHMsXG4gICAgdHJlYXRtZW50V2VpZ2h0cyxcbiAgfSk7XG5cbiAgY29uc3QgbWF0Y2hlZFRyZWF0bWVudHMgPSBhd2FpdCB0cmVhdG1lbnRSZXBvc2l0b3J5LmdldE1hdGNoZWRUcmVhdG1lbnRzKGRlYnVnTW9kZSk7XG4gIGlmIChtYXRjaGVkVHJlYXRtZW50cyA9PT0gbnVsbCkge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcIm5vLXVzZXItc2VnbWVudFwiKTtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFtYXRjaGVkVHJlYXRtZW50cy5sZW5ndGgpIHtcbiAgICBsb2dnZXIubG9nKFwiTm8gdHJlYXRtZW50cyBtYXRjaGVkLCByZXR1cm5pbmcgd2l0aG91dCBmdXJ0aGVyIGFjdGlvblwiKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJuby1yb2JvdC1tYXRjaGVkXCIpO1xuICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIHJldHVybjtcbiAgfVxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJmb3VuZC1tYXRjaGVkLXJvYm90c1wiKTtcblxuICB0cnkge1xuICAgIGF3YWl0IGVsaWdpYmlsaXR5UnVsZXNBc3Nlc3NQcm9taXNlO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJuby1ydWxlcy1hc3Nlc3NlZFwiKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgYXNzZXMgZWxpZ2liaWxpdHkgcnVsZXNcIik7XG4gIH1cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwicnVsZXMtYXNzZXNzZWRcIik7XG4gIHRyeSB7XG4gICAgYXdhaXQgcGVyc2lzdFByb2R1Y3RJbmZvUHJvbWlzZTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwicHJvZHVjdC1pbnRvLW5vLXBlcnNpc3RcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHBlcnNpc3QgcHJvZHVjdCBpbmZvXCIpO1xuICB9XG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwiZW5nYWdpbmctcm9ib3RzXCIpO1xuICBjb25zdCByb2JvdEVuZ2luZSA9IG5ldyBSb2JvdEVuZ2luZSh7XG4gICAgZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMsXG4gICAgZGVidWdNb2RlLFxuICAgIG1hdGNoZWRUcmVhdG1lbnRzLFxuICAgIGlkZW50aWZpZXIsXG4gICAgcGFnZVR5cGUsXG4gIH0pO1xuICBhd2FpdCByb2JvdEVuZ2luZS5lbmdhZ2VSb2JvdHMoKTtcbiAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcInJvYm90cy1lbmdhZ2VkXCIpO1xuICBsb2dnZXIuc3VjY2VzcyhcIkFwcGxpZWQgdHJlYXRtZW50czogXCIsIGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJhXCIpKTtcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGFzc2VzRWxpZ2liaWxpdHlSdWxlcygpIHtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwiZmV0Y2hpbmctZWxpZ2liaWxpdHktcnVsZXNcIik7XG4gIGNvbnN0IGVsaWdpYmlsaXR5UnVsZXMgPSBhd2FpdCBSdWxlRW5naW5lLmdldEVsaWdpYmlsaXR5UnVsZXMoKTtcbiAgaWYgKCFlbGlnaWJpbGl0eVJ1bGVzKSByZXR1cm47XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcImZldGNoZWQtZWxpZ2liaWxpdHktcnVsZXNcIik7XG4gIGNvbnN0IHJ1bGVFbmdpbmUgPSBuZXcgUnVsZUVuZ2luZSh7ZWxpZ2liaWxpdHlSdWxlc30pO1xuICBhd2FpdCBydWxlRW5naW5lLmFzc2VzRWxpZ2liaWxpdHlSdWxlcygpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJhc3Nlc3NlZC1lbGlnaWJpbGl0eS1ydWxlc1wiKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGJlYWdsZU9uO1xuIiwiaW1wb3J0IHthZGRUb0JlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IFJ1bGVFbmdpbmUgZnJvbSBcIi4uL0JlYWdsZVJ1bGVFbmdpbmVcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiU2VnbWVudGF0aW9uQ29tcHV0ZXJcIik7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wdXRlU2VnbWVudCh0cmVhdG1lbnRXZWlnaHRzKSB7XG4gIGxvZ2dlci5sb2coXCJEZXRlcm1pbmluZyB1c2VyIHNlZ21lbnRcIik7XG4gIHRyeSB7XG4gICAgZm9yIChjb25zdCBzZWdtZW50IG9mIE9iamVjdC5rZXlzKHRyZWF0bWVudFdlaWdodHMpKSB7XG4gICAgICBjb25zdCBydWxlU2V0ID0gdHJlYXRtZW50V2VpZ2h0c1tzZWdtZW50XT8ucnVsZVNldDtcbiAgICAgIGlmICghcnVsZVNldCkgY29udGludWU7XG4gICAgICBjb25zdCBzZWdtZW50UnVsZUVuZ2luZSA9IG5ldyBSdWxlRW5naW5lKHtiYXNlUnVsZVNldDogcnVsZVNldCwgYnVzaW5lc3NSdWxlU2V0OiBbXX0pO1xuICAgICAgaWYgKGF3YWl0IHNlZ21lbnRSdWxlRW5naW5lLmNoZWNrUnVsZXMoKSkge1xuICAgICAgICBsb2dnZXIubG9nKGBVc2VyIHNlZ21lbnQgbWF0Y2hlZDogJHtzZWdtZW50fWApO1xuICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNcIiwgc2VnbWVudCk7XG4gICAgICAgIHJldHVybiBzZWdtZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBsb2dnZXIubG9nKFwiVXNlciBzZWdtZW50IG5vdCBtYXRjaGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGNvbXB1dGUgdXNlciBzZWdtZW50XCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBNb25pdG9yIGZyb20gXCIuLi9CZWFnbGVNb25pdG9yL2luZGV4XCI7XG5pbXBvcnQgYmVhZ2xlT24gZnJvbSBcIi4uL0JlYWdsZU9uXCI7XG5pbXBvcnQge1xuICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyLFxuICBhZGRUb0JlYWdsZUluZm9MYXllcixcbiAgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcixcbn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgU1BMSVRfUkFUSU8sXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIE1BWF9USU1FT1VUX1BFUl9TRVNTSU9OLFxuICBWRVJTSU9OLFxufSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBnZXRJZGVudGlmaWVyLFxuICByZW1vdmVEb2N1bWVudEhpZGUsXG4gIGRldGVybWluZVBjdCxcbiAgZ2V0RGVidWdNb2RlLFxuICBzd2l0Y2hUb0Vhc2VPdXQsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtjb21wdXRlU2VnbWVudH0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllci9zZWdtZW50LWNvbXB1dGVyXCI7XG5pbXBvcnQgVHJlYXRtZW50UmVwb3NpdG9yeSBmcm9tIFwiLi4vQmVhZ2xlVHJlYXRtZW50UmVwb3NpdG9yeVwiO1xuXG5sZXQgU0hVVERPV04gPSBmYWxzZTtcblxuKGFzeW5jIGZ1bmN0aW9uKCkge1xuICBzd2l0Y2hUb0Vhc2VPdXQoKTtcbiAgbGV0IG1vbml0b3IgPSBudWxsO1xuICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4gIGxvZ2dlci5pbmZvKFwiQmVhZ2xlIGluaXRpYWxpemluZ1wiKTtcbiAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG5cbiAgbGV0IGVhcmx5TG9nU2VudCA9IGZhbHNlO1xuICBsZXQgaGlkZVJlbW92ZWQgPSBmYWxzZTtcblxuICB0cnkge1xuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gSU5JVCBUQVNLUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIkdMT1ZfT05cIiwgXCJub3Qtc2VudCB8IGluaXRpYWxpemluZ1wiKTtcbiAgICBjb25zdCB0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50V2VpZ2h0cygpO1xuICAgIG1vbml0b3IgPSBuZXcgTW9uaXRvcigpO1xuICAgIGluaXRpYWxpemVCZWFnbGVJbmZvTGF5ZXIoKTtcbiAgICBjb25zdCBpZGVudGlmaWVyID0gYXdhaXQgZ2V0SWRlbnRpZmllcigpO1xuICAgIGxvZ2dlci5sb2coXCJGb3VuZCBpZGVudGlmaWVyOiBcIiwgaWRlbnRpZmllcik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVHYUlkXCIsIGlkZW50aWZpZXIpO1xuICAgIGNvbnN0IGNvb2tpZVBjdCA9IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm9uSGFzaFBjdFwiLCBjb29raWVQY3QpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidmlld19lcG9jaFwiLCBEYXRlLm5vdygpICsgTWF0aC5yYW5kb20oKSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2XCIsIFZFUlNJT04pO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic3JcIiwgU1BMSVRfUkFUSU8pO1xuXG4gICAgLy8gZGF0YS1sZXNzIGxvZyB0byBkZXRlY3QgYm91bmNlc1xuICAgIGF3YWl0IG1vbml0b3IucGFja0FuZFF1ZXVlQXJyaXZhbExvZygpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgfSwgMjAwMCk7XG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRUFSTFkgUFJVTkUgT1VULU9GLVNDT1BFID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAgIGxldCB1c2VyU2VnbWVudCA9IG51bGw7XG4gICAgbGV0IHRyZWF0bWVudFdlaWdodHMgPSBudWxsO1xuICAgIGNvbnN0IG9vc1JlYXNvbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuT1VUX09GX1NDT1BFKTtcbiAgICBpZiAob29zUmVhc29uICE9PSBcInVuc3VwcG9ydGVkXCIpIHtcbiAgICAgIHRyZWF0bWVudFdlaWdodHMgPSBhd2FpdCB0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZTtcbiAgICAgIGlmICghdHJlYXRtZW50V2VpZ2h0cykge1xuICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJuby1yb2JvdC13ZWlnaHRzXCIpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmV0Y2ggd2VpZ2h0c1wiKTtcbiAgICAgIH1cbiAgICAgIC8vIGNvbXB1dGUgdXNlciBzZWdtZW50IGFuZCBhZGQgdG8gYmVhZ2xlSW5mb0xheWVyXG4gICAgICB1c2VyU2VnbWVudCA9IGF3YWl0IGNvbXB1dGVTZWdtZW50KHRyZWF0bWVudFdlaWdodHMpO1xuICAgIH1cblxuICAgIC8vIGlmIGNhbm5vdCBnZXQgY3JpdGljYWwgaW5mbywgbWFrZSBvdXQgb2Ygc2NvcGUgYW5kIHVuc3VwcG9ydGVkXG4gICAgaWYgKFxuICAgICAgY29va2llUGN0ID09PSBudWxsIHx8XG4gICAgICAhbmF2aWdhdG9yLnNlbmRCZWFjb24gfHxcbiAgICAgIHR5cGVvZiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbiAhPT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICB0eXBlb2YgU3RyaW5nPy5wcm90b3R5cGU/LnBhZFN0YXJ0ICE9PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgIChvb3NSZWFzb24gJiYgb29zUmVhc29uID09PSBcInVuc3VwcG9ydGVkXCIpIHx8XG4gICAgICAoIXVzZXJTZWdtZW50KVxuICAgICkge1xuICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwidW5zdXBwb3J0ZWRcIn0pO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUsIFwidW5zdXBwb3J0ZWRcIik7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIkdMT1ZfT05cIiwgXCJ1bnN1cHBvcnRlZCB8IGRldmljZVwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkLWRldmljZVwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0xhYmVsU2VudCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuSVNfTEFCRUxfU0VOVCk7XG4gICAgY29uc3QgdGltZW91dENvdW50ZXIgPSBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlRJTUVPVVRfQ09VTlQpKSB8fCAwO1xuXG4gICAgLy8gY2hlY2sgaWYgZGVidWcgbW9kZSBpcyBvbiwgYWxzbyBhZGRzIGRibSB0byBiZWFnbGVJbmZvTGF5ZXIgYW5kIHNldHMgb29zUmVhc29uXG4gICAgY29uc3QgZGVidWdNb2RlID0gZ2V0RGVidWdNb2RlKFwiZW1wbG95ZWVcIik7XG5cbiAgICAvLyBpZiB0aW1lZC1vdXQgdG9vIG1hbnkgdGltZXMgZm9yIHZlcnkgZmlyc3QgaW50ZXJhY3RzaW9ucywgbWFrZSBvdXQgb2Ygc2NvcGUgZm9yIHRoZSBzZXNzaW9uXG4gICAgaWYgKCFkZWJ1Z01vZGUgJiYgIW9vc1JlYXNvbiAmJiAhaXNMYWJlbFNlbnQgJiYgdGltZW91dENvdW50ZXIgPiBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTlxuICAgICkge1xuICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwidW5zdXBwb3J0ZWRcIn0pO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJHTE9WX09OXCIsIFwidW5zdXBwb3J0ZWQgfCB0aW1lb3V0XCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWF4LXRpbWVvdXRcIik7XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQURNSU4gVVNFUiBDSEVDSyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuICAgIC8vIFRPRE86IHJlbmFtZSBzaG93cm9vbSBsb2dpYyB0byBhZG1pbiwgYW5kIG1hcCB2dnNJc1Nob3dyb29tIHRvIGEgY29uZmlndXJhYmxlIGFkbWluIHBhcmFtXG5cbiAgICAvLyBpZiBhZG1pbiB1c2VyLCBtYWtlIG91dCBvZiBzY29wZSBhbmQgbWFyayBhcyBlbXBsb3llZVxuICAgIGNvbnN0IHByb2Nlc3NBZG1pblVzZXIgPSAoKSA9PiB7XG4gICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJlbXBsb3llZVwifSk7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk9VVF9PRl9TQ09QRSwgXCJlbXBsb3llZVwiKTtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuSVNfQURNSU4sIHRydWUpO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJHTE9WX09OXCIsIFwiZW1wbG95ZWUgfCBhZG1pblwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImFkbWluLWVtcGxveWVlXCIpO1xuICAgIH07XG5cbiAgICBsZXQgaXNBZG1pbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuSVNfQURNSU4pO1xuICAgIC8vIGlmIG5vdCBmb3VuZCBpbiBsb2NhbFN0b3JhZ2UsIGNoZWNrIGJlYWdsZUluZm9MYXllciB3aXRoIGJsb2NraW5nIG1kb2VcbiAgICBpZiAoaXNBZG1pbiA9PT0gbnVsbCB8fCBpc0FkbWluID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlzQWRtaW4gPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwidnZzSXNTaG93cm9vbVwiLCB0cnVlKTtcbiAgICAvLyBwZXJtYW5lbnQgbGFiZWwgY2FuIGJlIGZhbHNlLCBidXQgYWRtaW4gdXNlciBjYW4gc3RpbGwgbG9naW4gYW5kIHR1cm4gdHJ1ZSwgbGF6aWx5IGZpeCB0aGlzXG4gICAgfSBlbHNlIGlmIChpc0FkbWluID09PSBcImZhbHNlXCIgfHwgaXNBZG1pbiA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGFzeW5jIGNhbGwgdG8gZ2V0RnJvbUJlYWdsZUluZm9MYXllciwgdGhlbiBzZXQgbG9jYWxTdG9yYWdlXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwidnZzSXNTaG93cm9vbVwiLCB0cnVlKS50aGVuKChpc0FkbWluKSA9PiB7XG4gICAgICAgIGlmIChpc0FkbWluICYmIChpc0FkbWluID09PSBcInRydWVcIiB8fCBpc0FkbWluID09PSB0cnVlKSkge1xuICAgICAgICAgIHByb2Nlc3NBZG1pblVzZXIoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGlzQWRtaW4gJiYgKGlzQWRtaW4gPT09IFwidHJ1ZVwiIHx8IGlzQWRtaW4gPT09IHRydWUpKSB7XG4gICAgICBwcm9jZXNzQWRtaW5Vc2VyKCk7XG4gICAgfSBlbHNlIGlmIChpc0FkbWluID09PSBudWxsIHx8IGlzQWRtaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5USU1FT1VUX0NPVU5ULCB0aW1lb3V0Q291bnRlciArIDEpO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJHTE9WX09OXCIsIFwibm90LXNlbnQgfCB0aW1lb3V0XCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8tYWRtaW4tc3RhdHVzXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLklTX0FETUlOLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKCF3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJnbG92LWVhc2VcIikpIHtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuVElNRU9VVF9DT1VOVCwgdGltZW91dENvdW50ZXIgKyAxKTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiR0xPVl9PTlwiLCBcIm5vdC1zZW50IHwgdGltZW91dFwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImFudGktZmxpY2tlci10aW1lb3V0XCIpO1xuICAgIH1cblxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gT04vT0ZGIENIRUNLID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbiAgICAvLyBpc09uIGNhbiBiZSB0cnVlIChPTiksIGZhbHNlIChPRkYpXG4gICAgbGV0IGlzT24gPSBudWxsO1xuXG4gICAgaWYgKGRlYnVnTW9kZSkge1xuICAgICAgbG9nZ2VyLmxvZyhcIkRlYnVnIG1vZGUgb246IGFsbCBhcHBsaWNhYmxlIHRyZWF0bWVudHMgd2lsbCBiZSBhcHBsaWVkXCIpO1xuICAgICAgaXNPbiA9IHRydWU7XG4gICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJlbXBsb3llZVwifSk7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIkdMT1ZfT05cIiwgXCJlbXBsb3llZSB8IHRlc3RlclwiKTtcbiAgICB9IGVsc2UgaWYgKG9vc1JlYXNvbiAmJiBvb3NSZWFzb24gPT09IFwiZW1wbG95ZWVcIikge1xuICAgICAgbG9nZ2VyLndhcm4oXCJVc2VyIGlzIG91dCBvZiBzY29wZVwiKTtcbiAgICAgIC8vIHNldCBpc09uIHRvIHRydWUvZmFsc2Ugd2hlbiBub3QgZGVidWdNb2RlIGJ1dCBvdXQgb2Ygc2NvcGUgaS5lLiBuZF9kZWJ1Zz0wIGZvciB0ZXN0YWJpbGl0eVxuICAgICAgaXNPbiA9IGNvb2tpZVBjdCA+PSBTUExJVF9SQVRJTztcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcImVtcGxveWVlXCJ9KTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiR0xPVl9PTlwiLCBcImVtcGxveWVlIHwgdGVzdGVyXCIpO1xuICAgIH0gZWxzZSBpZiAob29zUmVhc29uKSB7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIkdMT1ZfT05cIiwgXCJub3Qtc2VudCB8IHVua25vd25cIik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG91dCBvZiBzY29wZSByZWFzb25cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIGdyZWF0ZXIgdGhhbiBTUExJVF9SQVRJTywgdGhlbiBpbiBPTiBtb2RlXG4gICAgICBpZiAoY29va2llUGN0ID49IFNQTElUX1JBVElPKSB7XG4gICAgICAgIGlzT24gPSB0cnVlO1xuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJ0cnVlXCJ9KTtcbiAgICAgIH0gZWxzZSBpZiAoY29va2llUGN0ID49IFNQTElUX1JBVElPLzIpIHtcbiAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJmYWxzZTJcIn0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJmYWxzZTFcIn0pO1xuICAgICAgfVxuXG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImlzT25cIiwgaXNPbik7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLklTX0xBQkVMX1NFTlQsIHRydWUpO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJHTE9WX09OXCIsIGlzT24udG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEVBUkxZLVBST0NFU1MgQ09OVkVSU0lPTiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuICAgIC8vIGF3YWl0IGNyaXRpY2FsIGluZm8gYmVmb3JlIHNlbmRpbmcgbG9ncyBmb3IgcHJvcGVyIGFuYWx5dGljcyBtZWFzdXJlbWVudHNcbiAgICBjb25zdCBwYWdlVHlwZSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiLCB0cnVlKTtcbiAgICBpZiAocGFnZVR5cGUgPT09IFwicHVyY2hhc2VcIikge1xuICAgICAgYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInB1cmNoYXNlLnJldmVudWVcIiwgdHJ1ZSwgNTAsIDUwMDApO1xuICAgICAgYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInB1cmNoYXNlLnBheW1lbnRUeXBlXCIsIHRydWUsIDUwLCA1MDAwKTtcbiAgICAgIC8vIHNlbmQgbG9ncyBpbW1lZGlhdGVseSBvbiBwdXJjaGFzZSBwYWdlLCBhbmQgZm9yY2Ugd2FpdFxuICAgICAgYXdhaXQgbW9uaXRvci5zZW5kTG9ncyh0cnVlKTtcbiAgICAgIC8vIGlmIHB1cmNoYXNlIGlzIGNvbXBsZXRlLCBkbyBub3QgYXBwbHkgYW55IHRyZWF0bWVudHMgb24gdGhlIGNvbmZpcm1hdGlvbiBwYWdlXG4gICAgICBTSFVURE9XTiA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNlbmQgbG9ncyB3aGVuIHJlYWR5LCBzdGFydCBzY3JhcGluZyBhbmQgc2VuZGluZyBhc3luY2x5XG4gICAgICBtb25pdG9yLnNlbmRMb2dzKGZhbHNlKTtcbiAgICB9XG4gICAgZWFybHlMb2dTZW50ID0gdHJ1ZTtcblxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBST0JPVCBQQVRIcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbiAgICBpZiAoaXNPbiA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKCFTSFVURE9XTikge1xuICAgICAgICBsb2dnZXIubG9nKFwiQmVhZ2xlIE9OIEdyb3VwIFBhdGhcIik7XG4gICAgICAgIGJlYWdsZU9uKGlkZW50aWZpZXIsIGRlYnVnTW9kZSwgcGFnZVR5cGUsIHRyZWF0bWVudFdlaWdodHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJCZWFnbGUgT04gR3JvdXAgU0hVVERPV04gUGF0aFwiKTtcbiAgICAgICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgICAgIGhpZGVSZW1vdmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzT24gPT09IGZhbHNlKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcIkJlYWdsZSBPRkYgR3JvdXAgUGF0aFwiKTtcbiAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgICAgaGlkZVJlbW92ZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpc09uIGlzIHVuZGVmaW5lZCBvciBudWxsXCIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLndhcm4oXCJCZWFnbGUgRWFybHkgU2NvcGUtb3V0IG9yIEVSUk9SOiBcIiwgZXJyLm1lc3NhZ2UpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBlcnIubWVzc2FnZSk7XG4gICAgaWYgKCFlYXJseUxvZ1NlbnQgJiYgbW9uaXRvcikgbW9uaXRvci5zZW5kTG9ncyhmYWxzZSk7XG4gICAgaWYgKCFoaWRlUmVtb3ZlZCkgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gIH1cbn0pKCk7XG4iLCJmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuICByZXR1cm4gYXJyMjtcbn1cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5TGlrZVRvQXJyYXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhIb2xlcywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9jbGFzc0NhbGxDaGVjaywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsInZhciB0b1Byb3BlcnR5S2V5ID0gcmVxdWlyZShcIi4vdG9Qcm9wZXJ0eUtleS5qc1wiKTtcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHRvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gX2NyZWF0ZUNsYXNzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwiZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBudWxsID09IGFyciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcbiAgaWYgKG51bGwgIT0gX2kpIHtcbiAgICB2YXIgX3MsXG4gICAgICBfZSxcbiAgICAgIF94LFxuICAgICAgX3IsXG4gICAgICBfYXJyID0gW10sXG4gICAgICBfbiA9ICEwLFxuICAgICAgX2QgPSAhMTtcbiAgICB0cnkge1xuICAgICAgaWYgKF94ID0gKF9pID0gX2kuY2FsbChhcnIpKS5uZXh0LCAwID09PSBpKSB7XG4gICAgICAgIGlmIChPYmplY3QoX2kpICE9PSBfaSkgcmV0dXJuO1xuICAgICAgICBfbiA9ICExO1xuICAgICAgfSBlbHNlIGZvciAoOyAhKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApIHtcbiAgICAgICAgO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSAhMCwgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgbnVsbCAhPSBfaVtcInJldHVyblwiXSAmJiAoX3IgPSBfaVtcInJldHVyblwiXSgpLCBPYmplY3QoX3IpICE9PSBfcikpIHJldHVybjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfYXJyO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXlMaW1pdCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVJlc3QsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuL3R5cGVvZi5qc1wiKVtcImRlZmF1bHRcIl07XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkge1xuICBcInVzZSBzdHJpY3RcIjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqL1xuICBtb2R1bGUuZXhwb3J0cyA9IF9yZWdlbmVyYXRvclJ1bnRpbWUgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkge1xuICAgIHJldHVybiBleHBvcnRzO1xuICB9LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG4gIHZhciBleHBvcnRzID0ge30sXG4gICAgT3AgPSBPYmplY3QucHJvdG90eXBlLFxuICAgIGhhc093biA9IE9wLmhhc093blByb3BlcnR5LFxuICAgIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uIChvYmosIGtleSwgZGVzYykge1xuICAgICAgb2JqW2tleV0gPSBkZXNjLnZhbHVlO1xuICAgIH0sXG4gICAgJFN5bWJvbCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sXG4gICAgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLFxuICAgIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIixcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICB3cml0YWJsZTogITBcbiAgICB9KSwgb2JqW2tleV07XG4gIH1cbiAgdHJ5IHtcbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcixcbiAgICAgIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKSxcbiAgICAgIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG4gICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGdlbmVyYXRvciwgXCJfaW52b2tlXCIsIHtcbiAgICAgIHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpXG4gICAgfSksIGdlbmVyYXRvcjtcbiAgfVxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJub3JtYWxcIixcbiAgICAgICAgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwidGhyb3dcIixcbiAgICAgICAgYXJnOiBlcnJcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJiBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiYgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSAmJiAoSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSk7XG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24gKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChcInRocm93XCIgIT09IHJlY29yZC50eXBlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnLFxuICAgICAgICAgIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgXCJvYmplY3RcIiA9PSBfdHlwZW9mKHZhbHVlKSAmJiBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpID8gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pIDogUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAodW53cmFwcGVkKSB7XG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkLCByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgfVxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG4gICAgZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW52b2tlXCIsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShtZXRob2QsIGFyZykge1xuICAgICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID0gcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICAgIHJldHVybiBmdW5jdGlvbiAobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChcImV4ZWN1dGluZ1wiID09PSBzdGF0ZSkgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIGlmIChcImNvbXBsZXRlZFwiID09PSBzdGF0ZSkge1xuICAgICAgICBpZiAoXCJ0aHJvd1wiID09PSBtZXRob2QpIHRocm93IGFyZztcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29udGV4dC5tZXRob2QgPSBtZXRob2QsIGNvbnRleHQuYXJnID0gYXJnOzspIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJuZXh0XCIgPT09IGNvbnRleHQubWV0aG9kKSBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7ZWxzZSBpZiAoXCJ0aHJvd1wiID09PSBjb250ZXh0Lm1ldGhvZCkge1xuICAgICAgICAgIGlmIChcInN1c3BlbmRlZFN0YXJ0XCIgPT09IHN0YXRlKSB0aHJvdyBzdGF0ZSA9IFwiY29tcGxldGVkXCIsIGNvbnRleHQuYXJnO1xuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuICAgICAgICB9IGVsc2UgXCJyZXR1cm5cIiA9PT0gY29udGV4dC5tZXRob2QgJiYgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICBzdGF0ZSA9IFwiZXhlY3V0aW5nXCI7XG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKFwibm9ybWFsXCIgPT09IHJlY29yZC50eXBlKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID0gY29udGV4dC5kb25lID8gXCJjb21wbGV0ZWRcIiA6IFwic3VzcGVuZGVkWWllbGRcIiwgcmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcInRocm93XCIgPT09IHJlY29yZC50eXBlICYmIChzdGF0ZSA9IFwiY29tcGxldGVkXCIsIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiLCBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmcpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2ROYW1lID0gY29udGV4dC5tZXRob2QsXG4gICAgICBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2ROYW1lXTtcbiAgICBpZiAodW5kZWZpbmVkID09PSBtZXRob2QpIHJldHVybiBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBtZXRob2ROYW1lICYmIGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdICYmIChjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkLCBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSwgXCJ0aHJvd1wiID09PSBjb250ZXh0Lm1ldGhvZCkgfHwgXCJyZXR1cm5cIiAhPT0gbWV0aG9kTmFtZSAmJiAoY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbWV0aG9kTmFtZSArIFwiJyBtZXRob2RcIikpLCBDb250aW51ZVNlbnRpbmVsO1xuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG4gICAgaWYgKFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUpIHJldHVybiBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIiwgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbDtcbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG4gICAgcmV0dXJuIGluZm8gPyBpbmZvLmRvbmUgPyAoY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWUsIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IGNvbnRleHQubWV0aG9kICYmIChjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCksIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsKSA6IGluZm8gOiAoY29udGV4dC5tZXRob2QgPSBcInRocm93XCIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbCk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7XG4gICAgICB0cnlMb2M6IGxvY3NbMF1cbiAgICB9O1xuICAgIDEgaW4gbG9jcyAmJiAoZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdKSwgMiBpbiBsb2NzICYmIChlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXSwgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCIsIGRlbGV0ZSByZWNvcmQuYXJnLCBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbe1xuICAgICAgdHJ5TG9jOiBcInJvb3RcIlxuICAgIH1dLCB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApO1xuICB9XG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBpdGVyYWJsZS5uZXh0KSByZXR1cm4gaXRlcmFibGU7XG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSxcbiAgICAgICAgICBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIGZvciAoOyArK2kgPCBpdGVyYWJsZS5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHJldHVybiBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV0sIG5leHQuZG9uZSA9ICExLCBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQudmFsdWUgPSB1bmRlZmluZWQsIG5leHQuZG9uZSA9ICEwLCBuZXh0O1xuICAgICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbmV4dDogZG9uZVJlc3VsdFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGRvbmU6ICEwXG4gICAgfTtcbiAgfVxuICByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZVByb3BlcnR5KEdwLCBcImNvbnN0cnVjdG9yXCIsIHtcbiAgICB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgY29uZmlndXJhYmxlOiAhMFxuICB9KSwgZGVmaW5lUHJvcGVydHkoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwge1xuICAgIHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvbixcbiAgICBjb25maWd1cmFibGU6ICEwXG4gIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZ2VuRnVuICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gISFjdG9yICYmIChjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIgPT09IChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkpO1xuICB9LCBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbiAoZ2VuRnVuKSB7XG4gICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6IChnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSwgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApLCBnZW5GdW47XG4gIH0sIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fYXdhaXQ6IGFyZ1xuICAgIH07XG4gIH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KSwgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvciwgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uIChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICB2b2lkIDAgPT09IFByb21pc2VJbXBsICYmIChQcm9taXNlSW1wbCA9IFByb21pc2UpO1xuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksIFByb21pc2VJbXBsKTtcbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pID8gaXRlciA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgfSk7XG4gIH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCksIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yXCIpLCBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pLCBkZWZpbmUoR3AsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9KSwgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIHZhciBvYmplY3QgPSBPYmplY3QodmFsKSxcbiAgICAgIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGtleXMucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgZm9yICg7IGtleXMubGVuZ3RoOykge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHJldHVybiBuZXh0LnZhbHVlID0ga2V5LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0LmRvbmUgPSAhMCwgbmV4dDtcbiAgICB9O1xuICB9LCBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkLCB0aGlzLmRvbmUgPSAhMSwgdGhpcy5kZWxlZ2F0ZSA9IG51bGwsIHRoaXMubWV0aG9kID0gXCJuZXh0XCIsIHRoaXMuYXJnID0gdW5kZWZpbmVkLCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIXNraXBUZW1wUmVzZXQpIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICBcInRcIiA9PT0gbmFtZS5jaGFyQXQoMCkgJiYgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiYgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSAmJiAodGhpc1tuYW1lXSA9IHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdGhpcy5kb25lID0gITA7XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO1xuICAgICAgaWYgKFwidGhyb3dcIiA9PT0gcm9vdFJlY29yZC50eXBlKSB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB0aHJvdyBleGNlcHRpb247XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmV0dXJuIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiLCByZWNvcmQuYXJnID0gZXhjZXB0aW9uLCBjb250ZXh0Lm5leHQgPSBsb2MsIGNhdWdodCAmJiAoY29udGV4dC5tZXRob2QgPSBcIm5leHRcIiwgY29udGV4dC5hcmcgPSB1bmRlZmluZWQpLCAhIWNhdWdodDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldLFxuICAgICAgICAgIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgIGlmIChcInJvb3RcIiA9PT0gZW50cnkudHJ5TG9jKSByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpLFxuICAgICAgICAgICAgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgITApO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzRmluYWxseSkgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiYgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmluYWxseUVudHJ5ICYmIChcImJyZWFrXCIgPT09IHR5cGUgfHwgXCJjb250aW51ZVwiID09PSB0eXBlKSAmJiBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJiBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MgJiYgKGZpbmFsbHlFbnRyeSA9IG51bGwpO1xuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZXR1cm4gcmVjb3JkLnR5cGUgPSB0eXBlLCByZWNvcmQuYXJnID0gYXJnLCBmaW5hbGx5RW50cnkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MsIENvbnRpbnVlU2VudGluZWwpIDogdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChcInRocm93XCIgPT09IHJlY29yZC50eXBlKSB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgcmV0dXJuIFwiYnJlYWtcIiA9PT0gcmVjb3JkLnR5cGUgfHwgXCJjb250aW51ZVwiID09PSByZWNvcmQudHlwZSA/IHRoaXMubmV4dCA9IHJlY29yZC5hcmcgOiBcInJldHVyblwiID09PSByZWNvcmQudHlwZSA/ICh0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSByZWNvcmQudHlwZSAmJiBhZnRlckxvYyAmJiAodGhpcy5uZXh0ID0gYWZ0ZXJMb2MpLCBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG4gICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSByZXR1cm4gdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyksIHJlc2V0VHJ5RW50cnkoZW50cnkpLCBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuICAgIH0sXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbiBfY2F0Y2godHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKFwidGhyb3dcIiA9PT0gcmVjb3JkLnR5cGUpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfSwgXCJuZXh0XCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHVuZGVmaW5lZCksIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9LCBleHBvcnRzO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfcmVnZW5lcmF0b3JSdW50aW1lLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwidmFyIGFycmF5V2l0aEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRoSG9sZXMuanNcIik7XG52YXIgaXRlcmFibGVUb0FycmF5TGltaXQgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qc1wiKTtcbnZhciB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCIpO1xudmFyIG5vbkl0ZXJhYmxlUmVzdCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlUmVzdC5qc1wiKTtcbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IF9zbGljZWRUb0FycmF5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwidmFyIF90eXBlb2YgPSByZXF1aXJlKFwiLi90eXBlb2YuanNcIilbXCJkZWZhdWx0XCJdO1xuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7XG4gIGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX3RvUHJpbWl0aXZlLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwidmFyIF90eXBlb2YgPSByZXF1aXJlKFwiLi90eXBlb2YuanNcIilbXCJkZWZhdWx0XCJdO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZShcIi4vdG9QcmltaXRpdmUuanNcIik7XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgdmFyIGtleSA9IHRvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7XG4gIHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX3RvUHJvcGVydHlLZXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0czsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIChtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzKSwgX3R5cGVvZihvYmopO1xufVxubW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCIpO1xuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IiwiLy8gVE9ETyhCYWJlbCA4KTogUmVtb3ZlIHRoaXMgZmlsZS5cblxudmFyIHJ1bnRpbWUgPSByZXF1aXJlKFwiLi4vaGVscGVycy9yZWdlbmVyYXRvclJ1bnRpbWVcIikoKTtcbm1vZHVsZS5leHBvcnRzID0gcnVudGltZTtcblxuLy8gQ29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9wYWNrYWdlcy9ydW50aW1lL3J1bnRpbWUuanMjTDczNj1cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBnbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG4gIH0gZWxzZSB7XG4gICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGU7IH07XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gIHRyeSB7XG4gICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuICAgICAgX25leHQodW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgX3R5cGVvZihvYmopO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59IiwiaW1wb3J0IF90eXBlb2YgZnJvbSBcIi4vdHlwZW9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcbiAgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7XG4gIHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xufSIsImltcG9ydCBfdHlwZW9mIGZyb20gXCIuL3R5cGVvZi5qc1wiO1xuaW1wb3J0IHRvUHJpbWl0aXZlIGZyb20gXCIuL3RvUHJpbWl0aXZlLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgdmFyIGtleSA9IHRvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7XG4gIHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbn0iLCJpbXBvcnQgdG9Qcm9wZXJ0eUtleSBmcm9tIFwiLi90b1Byb3BlcnR5S2V5LmpzXCI7XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCB0b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59IiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtyZXBsYWNlQWxsfSBmcm9tIFwiLi9zdHJpbmdVdGlsc1wiO1xuY29uc3QgaXNTdGFnaW5nID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwic3RhZ2luZy52aXZlbnNlXCIpIDogdHJ1ZTtcblxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSBcIjAuMC4zOS41XCI7XG5leHBvcnQgY29uc3QgQ09PS0lFX05BTUUgPSBcIl9nYVwiO1xuLy8gVE9ETyByZXZlcnQgdGhlIGZvbGxvd2luZyBzdGFnaW5nIGVudiBjaGVjayBhZnRlciBtb3ZpbmcgdG8gbmV3IGJyYW5jaCBzdHJ1Y3R1cmVcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRTX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi90cmVhdG1lbnRzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTiA9IFwiaHR0cHM6Ly9ob3N0LWI5Ni5wYWdlcy5kZXYvd2VpZ2h0cy5qc29uXCI7XG5leHBvcnQgY29uc3QgU1RZTEVTSEVFVF9MT0NBVElPTiA9IFwiaHR0cHM6Ly9ob3N0LWI5Ni5wYWdlcy5kZXYvbmQtc3R5bGVzcy5jc3NcIjtcbmV4cG9ydCBjb25zdCBFX1JVTEVTX0xPQ0FUSU9OID0gaXNTdGFnaW5nID8gXCJodHRwczovL25kdml2ZW5zZS5nbG92LmFpL2VsaWdpYmlsaXR5X3J1bGVzX3N0YWdpbmcuanNvblwiIDogXCJodHRwczovL25kdml2ZW5zZS5nbG92LmFpL2VsaWdpYmlsaXR5X3J1bGVzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBQUk9EVUNUX0lORk9fTE9DQVRJT04gPSBcImh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvc29jaWFsLXByb29mLXYyLXN0YWdpbmcuanNvblwiO1xuZXhwb3J0IGNvbnN0IExPR19BUElfVVJMID0gXCJodHRwczovL2V1cm9wZS13ZXN0My1uZXh0ZGF5LTM0ZWIzLmNsb3VkZnVuY3Rpb25zLm5ldC9hcGkvbG9nXCI7XG5leHBvcnQgY29uc3QgTE9PS1VQX0FQSV9VUkwgPSBcImh0dHBzOi8vY2F0YWxvZy1hcGkuYWRvcmFhaS5jb21cIjtcbmV4cG9ydCBjb25zdCBNT0JJTEVfTUVESUFfUVVFUlkgPSBcIihtYXgtd2lkdGg6IDQ0MHB4KVwiO1xuLy8gQ29udHJvbCBncm91cCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgU1BMSVRfUkFUSU8gPSA1MDtcbi8vIFNraXBwZWQgdHJlYXRtZW50IHBlcmNlbnRhZ2VcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRfUkFUSU8gPSA1MDtcbmV4cG9ydCBjb25zdCBMT0NBTF9TVE9SQUdFX1RUTF9IT1VSUyA9IDI7XG5leHBvcnQgY29uc3QgTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04gPSAxO1xuZXhwb3J0IGNvbnN0IExJU1RfTU9ERV9CRUFHTEVfS0VZUyA9IFtcInBhZ2V0eXBlXCIsIFwiY2F0ZWdvcnlcIiwgXCJhbGx0aW1lUExQQ2F0ZWdvcnlNb2RlXCIsIFwic2Vzc2lvblBMUENhdGVnb3J5TW9kZVwiLFxuICBcImFsbHRpbWVQRFBDYXRlZ29yeU1vZGVcIiwgXCJzZXNzaW9uUERQQ2F0ZWdvcnlNb2RlXCIsIFwiYWxsdGltZUNhcnRDYXRlZ29yeU1vZGVcIiwgXCJzZXNzaW9uQ2FydENhdGVnb3J5TW9kZVwiXTtcbmV4cG9ydCBjb25zdCBJRExFX1RJTUVPVVQgPSAxNTAwMDtcblxuZXhwb3J0IGNvbnN0IFNFU1NJT05fU1RPUkFHRV9LRVlTID0ge1xuICBTRVNTSU9OX1RJTUVTVEFNUDogXCJCR19TZXNzaW9uVGltZXN0YW1wXCIsXG4gIFNFU1NJT05fSElTVE9SWTogXCJCR19TZXNzaW9uSGlzdG9yeVwiLFxuICBQT1BVUF9ESVNQTEFZX0ZMQUc6IFwiQkdfUG9wdXBEaXNwbGF5RmxhZ1wiLFxuICBTS1VfSU5GT19CQVNLRVQ6IFwiQkdfUHJvZHVjdEluZm9CYXNrZXRcIixcbiAgVElNRU9VVF9DT1VOVDogXCJCR19UaW1lb3V0Q291bnRcIixcbiAgU0VTU0lPTl9SRUZFUlJFUjogXCJCR19TZXNzaW9uUmVmZXJyZXJcIixcbiAgTUFUQ0hFRF9UUkVBVE1FTlRTOiBcIkdMVl9NYXRjaGVkXCIsXG59O1xuZXhwb3J0IGNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZUyA9IHtcbiAgVFJFQVRNRU5UUzogXCJCR19UcmVhdG1lbnRzXCIsXG4gIFdFSUdIVFM6IFwiQkdfV2VpZ2h0c1wiLFxuICBFTElHSUJJTElUWV9SVUxFUzogXCJCR19FX1J1bGVzXCIsXG4gIERFQlVHX01PREU6IFwiQkdfRGVidWdcIixcbiAgT1VUX09GX1NDT1BFOiBcIkJHX091dE9mU2NvcGVcIixcbiAgSVNfTEFCRUxfU0VOVDogXCJCR19MYWJlbFNlbnRcIixcbiAgVVNFUl9JRDogXCJCR19Vc2VySWRfMDBcIixcbiAgREFUQV9DT0xMRUNUSU9OX0RBVEFfU0laRTogXCJCR19Db2xsZWN0aW9uRGF0YVNpemVcIixcbiAgSVNfQURNSU46IFwiR0xWX0lzQWRtaW5cIixcbn07XG5cbmV4cG9ydCBjb25zdCBDVVNUT01fU1RPUkFHRV9QUkVGSVggPSBcIkJHX1NlZ19cIjtcbiIsImltcG9ydCB7TE9DQUxfU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmNsYXNzIExvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKG9yaWdpbiA9IFwiQmVhZ2xlIENsaWVudCBTREtcIiwgdGVzdGluZyA9IGZhbHNlKSB7XG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgaWYgKHRlc3RpbmcpIHtcbiAgICAgIHRoaXMuREVCVUcgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLkRFQlVHID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ERUJVR19NT0RFKTtcbiAgICB9XG4gIH1cblxuICBpbmZvKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5pbmZvKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmIChERUJVRykge1xuICAgICAgY29uc29sZS5sb2coYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgZmFpbGVkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmICghREVCVUcpIHJldHVybjtcbiAgICBsZXQgbWVzc2FnZUNvbmZpZyA9IFwiJWMlcyAgIFwiO1xuXG4gICAgYXJncy5mb3JFYWNoKChhcmd1bWVudCkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBhcmd1bWVudDtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICBtZXNzYWdlQ29uZmlnICs9IFwiJWQgICBcIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVzICAgXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVvICAgXCI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2cobWVzc2FnZUNvbmZpZywgXCJjb2xvcjogcmVkXCIsIGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgc3VjY2VzcyguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoIURFQlVHKSByZXR1cm47XG4gICAgbGV0IG1lc3NhZ2VDb25maWcgPSBcIiVjJXMgICBcIjtcblxuICAgIGFyZ3MuZm9yRWFjaCgoYXJndW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgYXJndW1lbnQ7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVkICAgXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlcyAgIFwiO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlbyAgIFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2VDb25maWcsIFwiY29sb3I6IGdyZWVuXCIsIGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgd2FybiguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUud2FybihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGVycm9yKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5lcnJvcihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXI7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBudWxsID09IGFyciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcbiAgaWYgKG51bGwgIT0gX2kpIHtcbiAgICB2YXIgX3MsXG4gICAgICBfZSxcbiAgICAgIF94LFxuICAgICAgX3IsXG4gICAgICBfYXJyID0gW10sXG4gICAgICBfbiA9ICEwLFxuICAgICAgX2QgPSAhMTtcbiAgICB0cnkge1xuICAgICAgaWYgKF94ID0gKF9pID0gX2kuY2FsbChhcnIpKS5uZXh0LCAwID09PSBpKSB7XG4gICAgICAgIGlmIChPYmplY3QoX2kpICE9PSBfaSkgcmV0dXJuO1xuICAgICAgICBfbiA9ICExO1xuICAgICAgfSBlbHNlIGZvciAoOyAhKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApIHtcbiAgICAgICAgO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSAhMCwgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgbnVsbCAhPSBfaVtcInJldHVyblwiXSAmJiAoX3IgPSBfaVtcInJldHVyblwiXSgpLCBPYmplY3QoX3IpICE9PSBfcikpIHJldHVybjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfYXJyO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIGFycjI7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImltcG9ydCBhcnJheVdpdGhIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheUxpbWl0IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVJlc3QgZnJvbSBcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IG5vbkl0ZXJhYmxlUmVzdCgpO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRob3V0SG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRob3V0SG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVNwcmVhZCBmcm9tIFwiLi9ub25JdGVyYWJsZVNwcmVhZC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59IiwiaW1wb3J0IHRvUHJvcGVydHlLZXkgZnJvbSBcIi4vdG9Qcm9wZXJ0eUtleS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBrZXkgPSB0b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59IiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHthZGRUb0JlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBTVFlMRVNIRUVUX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTixcbiAgVFJFQVRNRU5UU19MT0NBVElPTixcbiAgRV9SVUxFU19MT0NBVElPTixcbiAgUFJPRFVDVF9JTkZPX0xPQ0FUSU9OLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVVdGlsc1wiKTtcbmNvbnN0IG1vbnRocyA9IHtcbiAgXCJvY2FrXCI6IDAsXG4gIFwixZ91YmF0XCI6IDEsXG4gIFwibWFydFwiOiAyLFxuICBcIm5pc2FuXCI6IDMsXG4gIFwibWF5xLFzXCI6IDQsXG4gIFwiaGF6aXJhblwiOiA1LFxuICBcInRlbW11elwiOiA2LFxuICBcImHEn3VzdG9zXCI6IDcsXG4gIFwiZXlsw7xsXCI6IDgsXG4gIFwiZWtpbVwiOiA5LFxuICBcImthc8SxbVwiOiAxMCxcbiAgXCJhcmFsxLFrXCI6IDExLFxufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZURvY3VtZW50SGlkZSA9ICgpID0+IHtcbiAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImdsb3YtZWFzZVwiKTtcbiAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImdsb3YtaGlkZVwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzd2l0Y2hUb0Vhc2VPdXQgPSBhc3luYyAoKSA9PiB7XG4gIGlmICghd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ2xvdi1oaWRlXCIpKSByZXR1cm47XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBlbC50ZXh0Q29udGVudCA9IGAuZ2xvdi1lYXNlIHtcbiAgICAtd2Via2l0LWFuaW1hdGlvbjogc21vb3RoIDJzIGVhc2UtaW47XG4gICAgLW1vei1hbmltYXRpb246IHNtb290aCAycyBlYXNlLWluO1xuICAgIC1vLWFuaW1hdGlvbjogc21vb3RoIDJzIGVhc2UtaW47XG4gICAgLW1zLWFuaW1hdGlvbjogc21vb3RoIDJzIGVhc2UtaW47XG4gICAgYW5pbWF0aW9uOiBzbW9vdGggMnMgZWFzZS1pbjtcbiAgfVxuICBcbiAgQGtleWZyYW1lcyBzbW9vdGgge1xuICAgIDAlIHsgb3BhY2l0eTogMDt9XG4gICAgMjUlIHsgb3BhY2l0eTogMC4yNTt9XG4gICAgNTAlIHsgb3BhY2l0eTogMC41O31cbiAgICA3NSUgeyBvcGFjaXR5OiAwLjc1O31cbiAgICAxMDAlIHsgb3BhY2l0eTogMTt9XG4gIH1cbiAgQC13ZWJraXQta2V5ZnJhbWVzIHNtb290aCB7XG4gICAgMCUgeyBvcGFjaXR5OiAwO31cbiAgICAyNSUgeyBvcGFjaXR5OiAwLjI1O31cbiAgICA1MCUgeyBvcGFjaXR5OiAwLjU7fVxuICAgIDc1JSB7IG9wYWNpdHk6IDAuNzU7fVxuICAgIDEwMCUgeyBvcGFjaXR5OiAxO31cbiAgfWA7XG4gIHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnByZXBlbmQoZWwpO1xuICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZ2xvdi1lYXNlXCIpO1xuICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZ2xvdi1oaWRlXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoVHJlYXRtZW50cyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgdHJlYXRtZW50c1wiKTtcbiAgICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hQbHVzKFRSRUFUTUVOVFNfTE9DQVRJT04pO1xuICAgIGlmICghdHJlYXRtZW50cykgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgY29uc3QganNvblRyZWF0bWVudCA9IGF3YWl0IHRyZWF0bWVudHMuanNvbigpO1xuICAgIHJldHVybiBqc29uVHJlYXRtZW50O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGZldGNoIHRyZWF0bWVudHNcIiwgZXJyLm1lc3NhZ2UpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnQgd2VpZ2h0c1wiKTtcbiAgICBjb25zdCB0cmVhdG1lbnRXZWlnaHRzID0gYXdhaXQgZmV0Y2hQbHVzKFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OKTtcbiAgICBpZiAoIXRyZWF0bWVudFdlaWdodHMpIHRocm93IG5ldyBFcnJvcigpO1xuICAgIGNvbnN0IGpzb25UcmVhdG1lbnRXZWlnaHRzID0gYXdhaXQgdHJlYXRtZW50V2VpZ2h0cy5qc29uKCk7XG4gICAgcmV0dXJuIGpzb25UcmVhdG1lbnRXZWlnaHRzO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGZldGNoIHRyZWF0bWVudCB3ZWlnaHRzXCIsIGVyci5tZXNzYWdlKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoRWxpZ2liaWxpdHlSdWxlcyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBsb2dnZXIubG9nKFwiRmV0Y2hpbmcgZWxpZ2liaWxpdHkgcnVsZXNcIik7XG4gICAgY29uc3QgZWxpZ2liaWxpdHlSdWxlcyA9IGF3YWl0IGZldGNoUGx1cyhFX1JVTEVTX0xPQ0FUSU9OKTtcbiAgICBpZiAoIWVsaWdpYmlsaXR5UnVsZXMpIHRocm93IG5ldyBFcnJvcigpO1xuICAgIGNvbnN0IGpzb25FbGlnaWJpbGl0eVJ1bGVzID0gYXdhaXQgZWxpZ2liaWxpdHlSdWxlcy5qc29uKCk7XG4gICAgcmV0dXJuIGpzb25FbGlnaWJpbGl0eVJ1bGVzO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGZldGNoIGVsaWdpYmlsaXR5IHJ1bGVzXCIsIGVyci5tZXNzYWdlKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoUHJvZHVjdEluZm8gPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgbG9nZ2VyLmxvZyhcIkZldGNoaW5nIHByb2R1Y3QgaW5mb1wiKTtcbiAgICBjb25zdCBwcm9kdWN0SW5mbyA9IGF3YWl0IGZldGNoUGx1cyhQUk9EVUNUX0lORk9fTE9DQVRJT04pO1xuICAgIGlmICghcHJvZHVjdEluZm8pIHRocm93IG5ldyBFcnJvcigpO1xuICAgIGNvbnN0IHByb2R1Y3RJbmZvSnNvbiA9IGF3YWl0IHByb2R1Y3RJbmZvLmpzb24oKTtcbiAgICByZXR1cm4gcHJvZHVjdEluZm9Kc29uO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGZldGNoIHByb2R1Y3QgaW5mb1wiLCBlcnIubWVzc2FnZSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IHRpbWVvdXQgPSAodGltZSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgdGltZSk7XG4gIHJldHVybiBjb250cm9sbGVyO1xufTtcblxuY29uc3QgZmV0Y2hQbHVzID0gKHVybCwgb3B0aW9ucyA9IHt9LCByZXRyaWVzID0gNSkgPT5cbiAgZmV0Y2godXJsLCB7Li4ub3B0aW9ucywgc2lnbmFsOiB0aW1lb3V0KDUwMDApLnNpZ25hbH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXRyaWVzID4gMCkge1xuICAgICAgICAgIHJldHVybiBmZXRjaFBsdXModXJsLCBvcHRpb25zLCByZXRyaWVzIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5zdGF0dXMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKHJldHJpZXMgPiAwKSB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZldGNoIHRpbWVkIG91dCBSZXRyeWluZy4uLjogXCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgIHJldHVybiBmZXRjaFBsdXModXJsLCBvcHRpb25zLCByZXRyaWVzIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZldGNoIGZhaWxlZDogXCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuXG5leHBvcnQgY29uc3QgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIgPSAoY29va2llU3RyaW5nLCBjb29raWVOYW1lKSA9PiB7XG4gIGlmICghY29va2llU3RyaW5nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBwYXJzZWQgPSBjb29raWVTdHJpbmdcbiAgICAgIC5zcGxpdChcIjtcIilcbiAgICAgIC5tYXAoKHYpID0+IHYuc3BsaXQoXCI9XCIpKVxuICAgICAgLnJlZHVjZSgoYWNjLCB2KSA9PiB7XG4gICAgICAgIGlmICh2WzBdICYmIHZbMV0pIHtcbiAgICAgICAgICBhY2NbZGVjb2RlVVJJQ29tcG9uZW50KHZbMF0udHJpbSgpKV0gPSBkZWNvZGVVUklDb21wb25lbnQodlsxXS50cmltKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCB7fSk7XG5cbiAgbGV0IGlkZW50aWZpZXIgPSBwYXJzZWRbY29va2llTmFtZV07XG4gIGlmICghaWRlbnRpZmllcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChjb29raWVOYW1lID09PSBcIl9nYVwiKSB7XG4gICAgLy8gZXh0cmFjdCB1bmlxdWUgaWRlbnRpZmllciBmcm9tIEdBIGNvb2tpZVxuICAgIGNvbnN0IGlkZW50aWZpZXJJbmRleCA9IDI7XG4gICAgaWRlbnRpZmllciA9IGlkZW50aWZpZXIuc3BsaXQoXCIuXCIpW2lkZW50aWZpZXJJbmRleF07XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXI7XG59O1xuXG5leHBvcnQgY29uc3QgZGV0ZXJtaW5lUGN0ID0gYXN5bmMgKGlkZW50aWZpZXIpID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBoYXNoID0gZ2V0VW5zZWN1cmVIYXNoKGlkZW50aWZpZXIpO1xuICAgIGlmIChoYXNoID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGN0ID0gaGFzaCAlIDEwMDtcbiAgICBpZiAocGN0ID49IDAgJiYgcGN0IDwgMTAwKSB7XG4gICAgICByZXR1cm4gcGN0O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5lcnJvcihlKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGV4aXRTY3JvbGxMaXN0ZW5lciA9IChjYWxsQmFjaykgPT4ge1xuICBjb25zdCBsb29wID0gKCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBpZiAobGFzdFNjcm9sbFRvcCAtIDQwMCA+IHNjcm9sbFRvcCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChleGl0U2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgY2FsbEJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdFNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICB9XG4gIH07XG5cbiAgbGV0IGxhc3RTY3JvbGxUb3AgPSB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIGNvbnN0IGV4aXRTY3JvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGxvb3AsIDUwMCk7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYXBwbHkgdHJlYXRtZW50cyB0byB0aGUgcGFnZSBvbiBzcGVjaWZpYyBtZWRpYSB0eXBlLlxuICogQHBhcmFtIHtNZWRpYVF1ZXJ5TGlzdH0gbWVkaWFRdWVyeUNvbmRpdGlvbiB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDUwMHB4KVwiKVxuICogQHBhcmFtIHtET01Ob2RlTGlzdCB9IGVsZW1lbnRzIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXYucHJvZHVjdF9pbmZvXCIpXG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVDaGFuZ2VzTWFwIHsgXCJtYXJnaW4tdG9wXCIgOiBcIjEwcmVtXCJ9XG4gKiBAcmV0dXJuc1xuICovXG5cbmV4cG9ydCBjb25zdCBzdHlsZUFwcGxpY2F0b3IgPSAoZWxlbWVudHMsIHN0eWxlQ2hhbmdlc01hcCkgPT4ge1xuICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGUgY2hhbmdlc1wiLCBzdHlsZUNoYW5nZXNNYXAsIFwidG8gZWxlbWVudHNcIiwgZWxlbWVudHMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlQ2hhbmdlc01hcCkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdFN0eWxlU2hlZXQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHN0eWxlU2hlZXQgPSB3aW5kb3cudG9wLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICBzdHlsZVNoZWV0LnJlbCA9IFwic3R5bGVzaGVldFwiO1xuICBzdHlsZVNoZWV0LnR5cGUgPSBcInRleHQvY3NzXCI7XG4gIHN0eWxlU2hlZXQuaHJlZiA9IFNUWUxFU0hFRVRfTE9DQVRJT047XG4gIHdpbmRvdy50b3AuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVNoZWV0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlQWN0aW9ucyA9IGFzeW5jIChpZGVudGlmaWVyLCBhY3Rpb25zVG9QcmVwYXJlLCBidXNpbmVzc1J1bGVJZCwgZGVidWdNb2RlKSA9PiB7XG4gIGNvbnN0IGFjdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFjdGlvbnNUb1ByZXBhcmUpKTtcbiAgbGV0IHZhcmlhbnQgPSBudWxsO1xuICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgY29uc3Qge2J1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucywgdmFyaWFudHN9ID0gYWN0aW9uO1xuICAgIGlmICghYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zICYmICF2YXJpYW50cykgY29udGludWU7XG4gICAgaWYgKGJ1c2luZXNzUnVsZUlkICE9PSBudWxsICYmIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgZm9yIChjb25zdCBidXNpbmVzc1RyYW5zZm9ybWF0aW9uIG9mIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICBpZiAoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbi5pZCA9PT0gYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBidXNpbmVzc1RyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSBcImlkXCIpIHtcbiAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBidXNpbmVzc1RyYW5zZm9ybWF0aW9uW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh2YXJpYW50cykge1xuICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHZhcmlhbnRLZXldIG9mIE9iamVjdC5rZXlzKHZhcmlhbnRzKS5lbnRyaWVzKCkpIHtcbiAgICAgICAgY29uc3QgcmFuZG9tUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyB2YXJpYW50S2V5KTtcbiAgICAgICAgaWYgKGRlYnVnTW9kZSAmJiAhYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCkge1xuICAgICAgICAgIGFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQgPSBNYXRoLmZsb29yKDEwMCAvIE9iamVjdC5rZXlzKHZhcmlhbnRzKS5sZW5ndGgpICogKGluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJhbmRvbVBjdCA8IGFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQpIHtcbiAgICAgICAgICB2YXJpYW50ID0gdmFyaWFudEtleTtcbiAgICAgICAgICBpZiAoYnVzaW5lc3NSdWxlSWQgIT09IG51bGwgJiYgdmFyaWFudHNbdmFyaWFudEtleV0uYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJ1c2luZXNzVHJhbnNmb3JtYXRpb24gb2YgdmFyaWFudHNbdmFyaWFudEtleV0uYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgICAgICAgIGlmIChidXNpbmVzc1RyYW5zZm9ybWF0aW9uLmlkID09IGJ1c2luZXNzUnVsZUlkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiaWRcIikgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBhY3Rpb25ba2V5XSA9IGJ1c2luZXNzVHJhbnNmb3JtYXRpb25ba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFyaWFudHNbdmFyaWFudEtleV0pIHtcbiAgICAgICAgICAgICAgaWYgKGtleSAhPT0gXCJ3ZWlnaHRcIiAmJiBrZXkgIT09IFwiYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zXCIpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25ba2V5XSA9IHZhcmlhbnRzW3ZhcmlhbnRLZXldW2tleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFthY3Rpb25zLCB2YXJpYW50XTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcyA9ICgpID0+IHtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBRywgU0VTU0lPTl9USU1FU1RBTVAsIFNFU1NJT05fSElTVE9SWX0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCBwb3B1cERpc3BsYXlGbGFnID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcpO1xuICBjb25zdCBzZXNzaW9uVGltZXN0YW1wID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1RJTUVTVEFNUCk7XG4gIGNvbnN0IHNlc3Npb25IaXN0b3J5ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX0hJU1RPUlkpO1xuXG4gIGlmIChwb3B1cERpc3BsYXlGbGFnID09PSBudWxsKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDApO1xuICB9XG4gIGlmICghc2Vzc2lvblRpbWVzdGFtcCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVAsIERhdGUubm93KCkpO1xuICB9XG4gIGlmICghc2Vzc2lvbkhpc3RvcnkpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZV0pO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9ISVNUT1JZLCBbd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCBzZXNzaW9uSGlzdG9yeV0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY29uZGl0aW9uQ2hlY2tlciA9IChydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgaWYgKGNvbmRpdGlvbiA9PT0gXCJub3RFeGlzdFwiKSB7XG4gICAgaWYgKCFydW5UaW1lVmFsdWUpIHtcbiAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChydW5UaW1lVmFsdWUgPT09IG51bGwgfHxcbiAgICBydW5UaW1lVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gbnVsbCB8fFxuICAgIGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IHJ1blRpbWVWYWx1ZSBvciBjb25kaXRpb24gaXMgbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN3aXRjaCAoY29uZGl0aW9uKSB7XG4gICAgY2FzZSBcImV4aXN0XCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgZXhpc3RcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImluY2x1ZGVzXCI6XG4gICAgY2FzZSBcImNvbnRhaW5zXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBjb250YWlucyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RJbmNsdWRlc1wiOlxuICAgIGNhc2UgXCJub3RDb250YWluc1wiOlxuICAgICAgaWYgKCFydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGNvbnRhaW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcIm5vdEVxdWFsXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID4gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPD0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImJldHdlZW5cIjoge1xuICAgICAgbGV0IFttaW4sIG1heF0gPSB2YWx1ZS5zcGxpdChcIixcIik7XG4gICAgICBtaW4gPSBwYXJzZUludChtaW4pO1xuICAgICAgbWF4ID0gcGFyc2VJbnQobWF4KTtcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPj0gbWluICYmIHJ1blRpbWVWYWx1ZSA8PSBtYXgpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgYmV0d2VlbiBtaW4gYW5kIG1heFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgYmV0d2VlbiBtaW4gYW5kIG1heFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY2FzZSBcInJlZ2V4XCI6IHtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCh2YWx1ZSwgXCJpXCIpO1xuICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QocnVuVGltZVZhbHVlKTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiBjb25kaXRpb24gaXMgbm90IGRlZmluZWQgXCIsIGNvbmRpdGlvbik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWJ1Z01vZGUgPSAob29zUmVhc29uKSA9PiB7XG4gIGNvbnN0IHtERUJVR19NT0RFLCBPVVRfT0ZfU0NPUEV9ID0gTE9DQUxfU1RPUkFHRV9LRVlTO1xuICBjb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPVwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIG9vc1JlYXNvbik7XG4gIH1cblxuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0xXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKERFQlVHX01PREUsIDEpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIFwib25cIik7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MlwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShERUJVR19NT0RFLCAyKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCBcIm9uXCIpO1xuICAgIHJldHVybiAyO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTBcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oREVCVUdfTU9ERSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvZmZcIik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgY3VycmVudCA9IHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShERUJVR19NT0RFKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIChjdXJyZW50ID8gXCJvblwiIDogXCJvZmZcIikpO1xuICByZXR1cm4gKGN1cnJlbnQgfHwgMCk7XG59O1xuXG4vLyBnZXQgR0EgY2xpZW50IGlkIHVzaW5nIGdhLmdldEFsbCgpXG5leHBvcnQgY29uc3QgZ2V0R2FDbGllbnRJZCA9ICgpID0+IHtcbiAgY29uc3QgZ2EgPSB3aW5kb3cuZ2E7XG4gIC8vIGlmIGdhIGFuZCBnYS5nZXRBbGwoKSBpcyBub3QgZGVmaW5lZCwgcmV0dXJuIG51bGxcbiAgaWYgKGdhICYmIGdhLmdldEFsbCkge1xuICAgIGNvbnN0IHRyYWNrZXJzID0gZ2EuZ2V0QWxsKCk7XG4gICAgaWYgKHRyYWNrZXJzICYmIHRyYWNrZXJzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRyYWNrZXJzWzBdLmdldChcImNsaWVudElkXCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIGdldCBkZXRlcm1pbmlzdGljIG51bWVyaWMgaGFzaCBmcm9tIHN0cmluZyB0aGF0IGNvbmF0aW5zIG9ubHkgbnVtYmVyc1xuZXhwb3J0IGNvbnN0IGdldFVuc2VjdXJlSGFzaCA9IChzdHIpID0+IHtcbiAgbGV0IGhhc2ggPSAwO1xuICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhciA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNoYXI7XG4gICAgaGFzaCA9IGhhc2ggJiBoYXNoO1xuICB9XG4gIC8vIHJldHVybiBhYnNvbHV0ZSB2YWx1ZVxuICByZXR1cm4gTWF0aC5hYnMoaGFzaCk7XG59O1xuXG4vLyBnZW5lcmF0ZSBhIDMyLWJpdCByYW5kb20gaW50ZWdlclxuZXhwb3J0IGNvbnN0IGdldFJhbmRvbUludCA9ICgpID0+IHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwKTtcbn07XG5cbi8vIGdldCBjdXJyZW50IHVuaXggZXBvY2ggdGltZSBpbiBzZWNvbmRzXG5leHBvcnQgY29uc3QgZ2V0VW5peFRpbWUgPSAoKSA9PiB7XG4gIHJldHVybiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbn07XG5cblxuZXhwb3J0IGNvbnN0IGdldElkZW50aWZpZXIgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQpO1xuICAgICAgaWYgKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImdldElkZW50aWZpZXI6IGdvdCBpZGVudGlmaWVyIGZyb20gbG9jYWwgc3RvcmFnZVwiLCBpZCk7XG4gICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZCA9IGdldEdhQ2xpZW50SWQoKTtcbiAgICAgIGlmIChpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJnZXRJZGVudGlmaWVyOiBnb3QgaWRlbnRpZmllciBmcm9tIGdhIGluIGZpcnN0IGF0dGVtcHRcIiwgaWQpO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQsIGlkKTtcbiAgICAgICAgcmVzb2x2ZShpZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgaWQgPSBnZXRHYUNsaWVudElkKCk7XG4gICAgICAgICAgaWYgKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJnZXRJZGVudGlmaWVyOiBnb3QgaWRlbnRpZmllciBmcm9tIGdhXCIsIGlkKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQsIGlkKTtcbiAgICAgICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTApO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICAgIGlmIChpZCA9PT0gbnVsbCB8fCBpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IHJlYWQgR0EgY2xpZW50IGlkXCIpO1xuICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJFcnJvciBpbiBnZXRJZGVudGlmaWVyXCIsIGUpO1xuICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgbXMpKTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdERlbGl2ZXJ5RGF0ZSA9IChkYXRlKSA9PiB7XG4gIGlmICghZGF0ZSB8fCB0eXBlb2YgZGF0ZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIGRhdGU7XG5cbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIHN0YXJ0TW9udGhJbmRleDogdW5kZWZpbmVkLFxuICAgIGVuZE1vbnRoSW5kZXg6IHVuZGVmaW5lZCxcbiAgICBzdGFydERheTogdW5kZWZpbmVkLFxuICAgIGVuZERheTogdW5kZWZpbmVkLFxuICB9O1xuXG4gIGxldCBtYXRjaCA9IGRhdGUubWF0Y2goXCIoW1xcXFxkXSspLShbXFxcXGRdKylcXFxccz8oW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnMWeXSspXCIpO1xuICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID09PSA0KSB7XG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5lbmREYXkgPSBwYXJzZUludChtYXRjaFsyXSk7XG4gICAgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFszXS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IHJlc3VsdC5zdGFydE1vbnRoSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgbWF0Y2ggPSBkYXRlLm1hdGNoKFwiKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcxZ5dKyktKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcxZ5dKylcIik7XG4gICAgaWYgKCFtYXRjaCB8fCBtYXRjaC5sZW5ndGggIT09IDUpIHJldHVybiBkYXRlO1xuXG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5zdGFydE1vbnRoSW5kZXggPSBtb250aHNbbWF0Y2hbMl0udG9Mb3dlckNhc2UoKV07XG4gICAgcmVzdWx0LmVuZERheSA9IHBhcnNlSW50KG1hdGNoWzNdKTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFs0XS50b0xvd2VyQ2FzZSgpXTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKCFyZXN1bHQuc3RhcnRNb250aEluZGV4IHx8ICFyZXN1bHQuZW5kTW9udGhJbmRleCkgcmV0dXJuIGRhdGU7XG5cbiAgICBjb25zdCBzdGFydFllYXIgPSByZXN1bHQuc3RhcnRNb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG4gICAgY29uc3QgZW5kWWVhciA9IHJlc3VsdC5lbmRNb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG5cbiAgICBjb25zdCBlc3RpbWF0ZWRTdGFydCA9IG5ldyBEYXRlKHN0YXJ0WWVhciwgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCwgcmVzdWx0LnN0YXJ0RGF5KTtcbiAgICBjb25zdCBlc3RpbWF0ZWRFbmQgPSBuZXcgRGF0ZShlbmRZZWFyLCByZXN1bHQuZW5kTW9udGhJbmRleCwgcmVzdWx0LmVuZERheSk7XG5cblxuICAgIGNvbnN0IHN0YXJ0RGlmZk92ZXJEYXlzID0gTWF0aC5jZWlsKE1hdGguYWJzKGVzdGltYXRlZFN0YXJ0IC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbiAgICBjb25zdCBlbmREaWZmT3ZlckRheXMgPSBNYXRoLmNlaWwoTWF0aC5hYnMoZXN0aW1hdGVkRW5kIC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcblxuICAgIGNvbnN0IHN0YXJ0RGlmZk92ZXJXZWVrcyA9IHN0YXJ0RGlmZk92ZXJEYXlzIDwgNyA/IDAgOiBNYXRoLmNlaWwoc3RhcnREaWZmT3ZlckRheXMgLyA3KTtcbiAgICBjb25zdCBlbmREaWZmT3ZlcldlZWtzID0gZW5kRGlmZk92ZXJEYXlzIDwgNyA/IDAgOiBNYXRoLmNlaWwoZW5kRGlmZk92ZXJEYXlzIC8gNyk7XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSAwICYmIGVuZERpZmZPdmVyV2Vla3MgPT09IDApIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyRGF5c30gLSAke2VuZERpZmZPdmVyRGF5c30gR8O8bmA7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gMCAmJiBlbmREaWZmT3ZlcldlZWtzID49IDEpIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyRGF5c30gR8O8biAtICR7ZW5kRGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICAgIH1cblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IGVuZERpZmZPdmVyV2Vla3MpIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyV2Vla3N9IEhhZnRhYDtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlcldlZWtzfSAtICR7ZW5kRGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlkbGVUaW1lciA9IGFzeW5jICh0aW1lT3V0LCBjYWxsQmFjaykgPT4ge1xuICBsZXQgaWRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxCYWNrLCB0aW1lT3V0KTtcblxuICB3aW5kb3cudG9wLmRvY3VtZW50Lm9udG91Y2hzdGFydCA9IHJlc2V0VGltZXI7XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHtcbiAgICBjbGVhclRpbWVvdXQoaWRsZVRpbWVvdXQpO1xuICAgIGlkbGVUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsQmFjaywgdGltZU91dCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRCcm93c2VyVHlwZSA9ICgpID0+IHtcbiAgY29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuICBpZiAodXNlckFnZW50Lm1hdGNoKC9jaHJvbWV8Y2hyb21pdW18Y3Jpb3MvaSkpIHtcbiAgICByZXR1cm4gXCJjaHJvbWVcIjtcbiAgfVxuXG4gIGlmICh1c2VyQWdlbnQubWF0Y2goL2ZpcmVmb3h8Znhpb3MvaSkpIHtcbiAgICByZXR1cm4gXCJmaXJlZm94XCI7XG4gIH1cblxuICBpZiAodXNlckFnZW50Lm1hdGNoKC9zYWZhcmkvaSkpIHtcbiAgICByZXR1cm4gXCJzYWZhcmlcIjtcbiAgfVxuXG4gIGlmICh1c2VyQWdlbnQubWF0Y2goL29wclxcLy9pKSkge1xuICAgIHJldHVybiBcIm9wZXJhXCI7XG4gIH1cblxuICBpZiAodXNlckFnZW50Lm1hdGNoKC9lZGcvaSkpIHtcbiAgICByZXR1cm4gXCJlZGdlXCI7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc093bk11dGF0aW9uID0gKG11dGF0aW9uTGlzdCkgPT4ge1xuICBjb25zdCBub2RlcyA9IFsuLi5BcnJheS5mcm9tKG11dGF0aW9uTGlzdFswXS5hZGRlZE5vZGVzKSwgLi4uQXJyYXkuZnJvbShtdXRhdGlvbkxpc3RbMF0ucmVtb3ZlZE5vZGVzKV07XG4gIHJldHVybiBub2Rlcy5zb21lKChuKSA9PiB7XG4gICAgcmV0dXJuIG4udGFnTmFtZSAmJiAobi5pZD8uaW5jbHVkZXMoXCJibi1cIikgfHwgQXJyYXkuZnJvbShuLmNsYXNzTGlzdCkuc29tZSgoYykgPT4gYy5pbmNsdWRlcyhcImJuLVwiKSB8fCBjLmluY2x1ZGVzKFwibmQtXCIpKSk7XG4gIH0pO1xufTtcbiIsImNvbnN0IGNvbmZpZyA9IHtcbiAgZGJOYW1lOiBcImJlYWdsZVwiLFxuICB2ZXJzaW9uOiAxLFxuICBtYWludGVuYW5jZU9wZXJhdGlvbkNvdW50OiAxMDAwLCAvLyBhZmZlY3RzIHZlcnNpb25cbiAgc3RvcmU6IHtcbiAgICBuYW1lOiBcImRhdGFcIixcbiAgICBpbmRleGVzOiBbe1xuICAgICAgbmFtZTogXCJpeF9kYXRhTmFtZVwiLFxuICAgICAgZmllbGRzOiBbXCJkYXRhX25hbWVcIl0sXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJpeF9kYXRhTmFtZV9zZXNzaW9uXCIsXG4gICAgICBmaWVsZHM6IFtcImRhdGFfbmFtZVwiLCBcInNlc3Npb25faWRcIl0sXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJpeF9kYXRhTmFtZV9kYXRhVmFsdWVcIixcbiAgICAgIGZpZWxkczogW1wiZGF0YV9uYW1lXCIsIFwiZGF0YV92YWx1ZVwiXSxcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIml4X2RhdGFOYW1lX2RhdGFWYWx1ZV9zZXNzaW9uXCIsXG4gICAgICBmaWVsZHM6IFtcImRhdGFfbmFtZVwiLCBcImRhdGFfdmFsdWVcIiwgXCJzZXNzaW9uX2lkXCJdLFxuICAgIH1dLFxuICAgIG9wdGlvbnM6IHtrZXlQYXRoOiBcImlkXCIsIGF1dG9JbmNyZW1lbnQ6IHRydWV9LFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29uZmlnO1xuIiwiaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi9zdG9yZS5jb25maWdcIjtcbmltcG9ydCB7Z2V0QnJvd3NlclR5cGV9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVEYXRhQ29sbGVjdGlvbldyYXBwZXJcIik7XG5jb25zdCBfd2luZG93ID0ge1xuICBhbGx0aW1lOiBcImFsbHRpbWVcIiwgc2Vzc2lvbjogXCJzZXNzaW9uXCIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZWFnbGVEYXRhQ29sbGVjdGlvbldyYXBwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluZGV4ZWREQiA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkZhaWxlZCB0byBpbml0aWFsaXplZCBkYiB3aXRoOiBcIiwgZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBpbmRleGVkREJcIik7XG4gICAgLy8gVE9ETywgdW5jb21tZW50IG5leHQgbGluZSBvbmNlIGV4aXN0aW5nIHN0YWxlIGRicyBhcmUgcHVyZ2VkXG4gICAgLy8gY29uc3Qgb3BlblJlcXVlc3QgPSB3aW5kb3cudG9wLmluZGV4ZWREQj8ub3Blbihjb25maWcuZGJOYW1lLCBjb25maWcudmVyc2lvbik7XG4gICAgY29uc3Qgb3BlblJlcXVlc3QgPSB3aW5kb3cudG9wLmluZGV4ZWREQj8ub3Blbihjb25maWcuZGJOYW1lKTtcbiAgICBpZiAoIW9wZW5SZXF1ZXN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbmRleGVkZGIgaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICB9XG5cbiAgICBvcGVuUmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZXZlbnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZlbnQub2xkVmVyc2lvbikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gVE9ETyB1cGdyYWRlIGV4aXN0aW5nIGRiIGluc3RlYWQgb2YgZGVsZXRlIGFuZCBjcmVhdGUgZnJvbSBzY3JhdGNoXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9wZW5SZXF1ZXN0LnJlc3VsdC5kZWxldGVPYmplY3RTdG9yZShjb25maWcuc3RvcmUubmFtZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGRlbGV0ZSBvdXRkYXRlZCBkYXRhYmFzZVwiLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSBvcGVuUmVxdWVzdC5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoY29uZmlnLnN0b3JlLm5hbWUsIGNvbmZpZy5zdG9yZS5vcHRpb25zKTtcbiAgICAgICAgaWYgKGNvbmZpZy5zdG9yZS5pbmRleGVzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBpZHggb2YgY29uZmlnLnN0b3JlLmluZGV4ZXMpIHtcbiAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KGlkeC5uYW1lLCBpZHguZmllbGRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGNyZWF0ZSBvYmplY3Qgc3RvcmUgb24gZGF0YWJhc2VcIiwgZXJyLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBvcGVuUmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIGJlYWdsZSBpbmRleGVkIERCXCIsIG9wZW5SZXF1ZXN0LmVycm9yKTtcbiAgICB9O1xuXG4gICAgb3BlblJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgY29uc3QgZGIgPSBvcGVuUmVxdWVzdC5yZXN1bHQ7XG4gICAgICBpZiAoZGIudmVyc2lvbiAhPT0gMSkge1xuICAgICAgICAvLyBUT0RPLCByZW1vdmUgZGVsZXRlIHJlcXVlc3Qgb25jZSBleGlzdGluZyBzdGFsZSBkYnMgYXJlIHB1cmdlZFxuICAgICAgICBjb25zdCBkZWxldGVSZXF1ZXN0ID0gd2luZG93LmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShjb25maWcuZGJOYW1lKTtcbiAgICAgICAgZGVsZXRlUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgdGhpcy5pbmRleGVkREIgPSBkYjtcbiAgICB9O1xuICB9XG5cbiAgZ2V0Q29ubmVjdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ZWREQikge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMjUpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5pbmRleGVkREIpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiSW5kZXhlZERCIG5vdCBpbml0aWFsaXplZCB3aXRoaW4gdGhlIGFsbG90dGVkIHRpbWVcIikpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGluaXRUcmFuc2FjdGlvbihyZWFkd3JpdGUgPSBmYWxzZSkge1xuICAgIGF3YWl0IHRoaXMuZ2V0Q29ubmVjdGlvbigpO1xuICAgIGNvbnN0IHR4ID0gdGhpcy5pbmRleGVkREIudHJhbnNhY3Rpb24oY29uZmlnLnN0b3JlLm5hbWUsIChyZWFkd3JpdGUgPyBcInJlYWR3cml0ZVwiIDogXCJyZWFkb25seVwiKSk7XG4gICAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShjb25maWcuc3RvcmUubmFtZSk7XG5cbiAgICByZXR1cm4gc3RvcmU7XG4gIH1cblxuICBhc3luYyBzYXZlKGRhdGFOYW1lLCBkYXRhVmFsdWUpIHtcbiAgICBjb25zdCBzdG9yZSA9IGF3YWl0IHRoaXMuaW5pdFRyYW5zYWN0aW9uKHRydWUpO1xuICAgIGNvbnN0IHNlc3Npb25JZCA9IHRoaXMuZ2V0Q3VycmVudFNlc3Npb25JZCgpOyAvLyBkYXRlIGN1cnJlbnQgLTIgc2FhdCAgeWlsLWF5LWd1blxuICAgIGNvbnN0IHRpbWUgPSBNYXRoLnJvdW5kKERhdGUubm93KCkgLyAxMDAwKTtcblxuICAgIGNvbnN0IHBheWxvYWQgPSB7XCJkYXRhX25hbWVcIjogZGF0YU5hbWUsIFwiZGF0YV92YWx1ZVwiOiBkYXRhVmFsdWUsIFwic2Vzc2lvbl9pZFwiOiBzZXNzaW9uSWQsIHRpbWV9O1xuICAgIHN0b3JlLnB1dChwYXlsb2FkKTtcbiAgfVxuXG4gIG1pbm1heChkYXRhTmFtZSwgb3AsIHdpbmRvdyA9IF93aW5kb3cuYWxsdGltZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24oKS50aGVuKChzdG9yZSkgPT4ge1xuICAgICAgICBsZXQgc3RvcmVkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmdldEN1cnNvcihzdG9yZSwgZGF0YU5hbWUsIHdpbmRvdykub25zdWNjZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBjb25zdCBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgaWYgKFwiZGF0YV92YWx1ZVwiIGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdG9yZWQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIChvcCA9PT0gXCJtaW5cIiAmJiB2YWx1ZVtcImRhdGFfdmFsdWVcIl0gPCBzdG9yZWQpIHx8XG4gICAgICAgICAgICAgICAgKG9wID09PSBcIm1heFwiICYmIHZhbHVlW1wiZGF0YV92YWx1ZVwiXSA+IHN0b3JlZClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc3RvcmVkID0gdmFsdWVbXCJkYXRhX3ZhbHVlXCJdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJrZXkgbm90IGZvdW5kIGluIGN1cnNvciB2YWx1ZXMgXCIgKyBkYXRhTmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHN0b3JlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBtaW4oZGF0YU5hbWUsIHdpbmRvdyA9IF93aW5kb3cuYWxsdGltZSkge1xuICAgIHJldHVybiB0aGlzLm1pbm1heChkYXRhTmFtZSwgXCJtaW5cIiwgd2luZG93KTtcbiAgfVxuXG4gIG1heChkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWlubWF4KGRhdGFOYW1lLCBcIm1heFwiLCB3aW5kb3cpO1xuICB9XG5cbiAgZ3JvdXBCeShkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmluaXRUcmFuc2FjdGlvbigpLnRoZW4oKHN0b3JlKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5nZXRDdXJzb3Ioc3RvcmUsIGRhdGFOYW1lLCB3aW5kb3cpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgIGlmIChcImRhdGFfdmFsdWVcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoIW1hcC5oYXModmFsdWVbXCJkYXRhX3ZhbHVlXCJdKSkgbWFwLnNldCh2YWx1ZVtcImRhdGFfdmFsdWVcIl0sIDApO1xuICAgICAgICAgICAgICBtYXAuc2V0KHZhbHVlW1wiZGF0YV92YWx1ZVwiXSwgbWFwLmdldCh2YWx1ZVtcImRhdGFfdmFsdWVcIl0pICsgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJrZXkgbm90IGZvdW5kIGluIGN1cnNvciB2YWx1ZXMgXCIgKyBkYXRhTmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKG1hcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBtb2RlKGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ncm91cEJ5KGRhdGFOYW1lLCB3aW5kb3cpO1xuICAgIGlmIChkYXRhLmtleXMoKS5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgbWF4ID0ge25hbWU6IHVuZGVmaW5lZCwgdmFsdWU6IC0xfTtcblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGRhdGEpIHtcbiAgICAgIGlmIChtYXgudmFsdWUgPCB2YWx1ZSkge1xuICAgICAgICBtYXgubmFtZSA9IGtleTtcbiAgICAgICAgbWF4LnZhbHVlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heDtcbiAgfVxuXG4gIGNvdW50KGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoc3RvcmUpID0+IHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5nZXRDdXJzb3Ioc3RvcmUsIGRhdGFOYW1lLCB3aW5kb3cpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoY291bnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc3VtKGRhdGFOYW1lLCB3aW5kb3cgPSBcImFsbHRpbWVcIikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24oKS50aGVuKChzdG9yZSkgPT4ge1xuICAgICAgICBsZXQgdG90YWwgPSAwLjAwO1xuICAgICAgICB0aGlzLmdldEN1cnNvcihzdG9yZSwgZGF0YU5hbWUsIHdpbmRvdykub25zdWNjZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBjb25zdCBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgaWYgKFwiZGF0YV92YWx1ZVwiIGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgIHRvdGFsICs9IHBhcnNlRmxvYXQodmFsdWVbXCJkYXRhX3ZhbHVlXCJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImtleSBub3QgZm91bmQgaW4gY3Vyc29yIHZhbHVlcyBcIiArIGRhdGFOYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUodG90YWwudG9GaXhlZCgyKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRDdXJzb3Ioc3RvcmUsIGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUsIGRhdGFWYWx1ZSA9IHVuZGVmaW5lZCkge1xuICAgIGlmIChkYXRhVmFsdWUpIHtcbiAgICAgIGlmICh3aW5kb3cgPT09IF93aW5kb3cuc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gc3RvcmUuaW5kZXgoXCJpeF9kYXRhTmFtZV9kYXRhVmFsdWVfc2Vzc2lvblwiKVxuICAgICAgICAgICAgLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seShbZGF0YU5hbWUsIGRhdGFWYWx1ZSwgdGhpcy5nZXRDdXJyZW50U2Vzc2lvbklkKCkudG9TdHJpbmcoKV0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0b3JlLmluZGV4KFwiaXhfZGF0YU5hbWVfZGF0YVZhbHVlXCIpXG4gICAgICAgICAgLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seShbZGF0YU5hbWUsIGRhdGFWYWx1ZV0pKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93ID09PSBfd2luZG93LnNlc3Npb24pIHtcbiAgICAgIHJldHVybiBzdG9yZS5pbmRleChcIml4X2RhdGFOYW1lX3Nlc3Npb25cIilcbiAgICAgICAgICAub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KFtkYXRhTmFtZSwgdGhpcy5nZXRDdXJyZW50U2Vzc2lvbklkKCkudG9TdHJpbmcoKV0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleFZhbHVlID0gZ2V0QnJvd3NlclR5cGUoKSA9PT0gXCJzYWZhcmlcIiA/IGRhdGFOYW1lIDogW2RhdGFOYW1lXTtcblxuICAgIHJldHVybiBzdG9yZS5pbmRleChcIml4X2RhdGFOYW1lXCIpXG4gICAgICAgIC5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkoaW5kZXhWYWx1ZSkpO1xuICB9XG5cbiAgYXN5bmMgYXZnKGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IHRoaXMuc3VtKGRhdGFOYW1lLCB3aW5kb3cpO1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgdGhpcy5jb3VudChkYXRhTmFtZSwgd2luZG93KTtcblxuICAgIGlmICghdG90YWwgfHwgIWNvdW50KSByZXR1cm4gMDtcblxuICAgIHJldHVybiAodG90YWwgLyBjb3VudCkudG9GaXhlZCgyKTtcbiAgfVxuXG4gIGFzeW5jIGxhc3QoZGF0YU5hbWUsIHNpemUgPSAxLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoc3RvcmUpID0+IHtcbiAgICAgICAgbGV0IGN1cnNvciA9IHN0b3JlLmluZGV4KFwiaXhfZGF0YU5hbWVcIikub3BlbkN1cnNvcihbZGF0YU5hbWVdLCBcInByZXZcIik7XG4gICAgICAgIGlmICh3aW5kb3cgPT09IF93aW5kb3cuc2Vzc2lvbikge1xuICAgICAgICAgIGN1cnNvciA9IHN0b3JlLmluZGV4KFwiaXhfZGF0YU5hbWVfc2Vzc2lvblwiKVxuICAgICAgICAgICAgICAub3BlbkN1cnNvcihbZGF0YU5hbWUsIHRoaXMuZ2V0Q3VycmVudFNlc3Npb25JZCgpXSwgXCJwcmV2XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKHJlc3VsdCAmJiBpbmRleCA8IHNpemUpIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgcmVzdWx0LmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEN1cnJlbnRTZXNzaW9uSWQoKSB7XG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XG4gICAgZC5zZXRIb3VycyhkLmdldEhvdXJzKCkgLSAyKTtcblxuICAgIHJldHVybiBkLmdldEZ1bGxZZWFyKCkgKyBcIi1cIiArXG4gICAgICAoZC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIikgKyBcIi1cIiArXG4gICAgICBkLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgfVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IENvbGxlY3RvckFwaSBmcm9tIFwiLi4vQmVhZ2xlRGF0YUNvbGxlY3Rpb24vYXBpXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZURhdGFDb2xsZWN0aW9uXCIpO1xuY29uc3QgY29sbGVjdG9yQXBpID0gbmV3IENvbGxlY3RvckFwaSgpO1xuXG4vLyBrZWVwIGEgdGFibGUgaW4gaW5kZXhkYiB0aGUgZm9ybWF0IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIGRhdGFfdmFsdWUsIHN0b3JlZF92YWx1ZV1cblxuZXhwb3J0IGNvbnN0IHF1ZXJ5SW5Db2xsZWN0b3IgPSBhc3luYyAoYmFzZUZlYXR1cmVOYW1lLCBxdWVyeU1ldGhvZCwgd2luZG93KSA9PiB7XG4gIGxvZ2dlci5sb2coXCJxdWVyeUluQ29sbGVjdG9yXCIsIGJhc2VGZWF0dXJlTmFtZSwgcXVlcnlNZXRob2QsIHdpbmRvdyk7XG4gIGlmICghY29sbGVjdG9yQXBpKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkluZGV4ZWREQiBubyBzdXBwb3J0ZWQvSW5pdGlhbGl6ZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyB3aW5kb3cgY2FuIGJlIGVpdGhlciBzYW1lZGF5IG9yIGFsbHRpbWVcblxuICBpZiAocXVlcnlNZXRob2QgPT09IFwibWluXCIpIHtcbiAgICBjb25zdCBxdWVyeVByb21pc2UgPSBhd2FpdCBjb2xsZWN0b3JBcGkubWluKGJhc2VGZWF0dXJlTmFtZSwgd2luZG93KTtcbiAgICByZXR1cm4gcXVlcnlQcm9taXNlO1xuICB9IGVsc2UgaWYgKHF1ZXJ5TWV0aG9kID09PSBcIm1heFwiKSB7XG4gICAgY29uc3QgcXVlcnlQcm9taXNlID0gYXdhaXQgY29sbGVjdG9yQXBpLm1heChiYXNlRmVhdHVyZU5hbWUsIHdpbmRvdyk7XG4gICAgcmV0dXJuIHF1ZXJ5UHJvbWlzZTtcbiAgfSBlbHNlIGlmIChxdWVyeU1ldGhvZCA9PT0gXCJhdmdcIikge1xuICAgIGNvbnN0IHF1ZXJ5UHJvbWlzZSA9IGF3YWl0IGNvbGxlY3RvckFwaS5hdmcoYmFzZUZlYXR1cmVOYW1lLCB3aW5kb3cpO1xuICAgIHJldHVybiBxdWVyeVByb21pc2U7XG4gIH0gZWxzZSBpZiAocXVlcnlNZXRob2QgPT09IFwiY2RcIikge1xuICAgIHJldHVybiAoYXdhaXQgY29sbGVjdG9yQXBpLmdyb3VwQnkoYmFzZUZlYXR1cmVOYW1lLCB3aW5kb3cpKS5zaXplO1xuICB9IGVsc2UgaWYgKHF1ZXJ5TWV0aG9kID09PSBcImN2XCIpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgY29sbGVjdG9yQXBpLmdyb3VwQnkoYmFzZUZlYXR1cmVOYW1lLCB3aW5kb3cpO1xuXG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IFssIHZhbHVlXSBvZiBkYXRhKSB7XG4gICAgICBjb3VudCArPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG5cbiAgaWYgKHF1ZXJ5TWV0aG9kID09PSBcIm1vZGVcIikge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjb2xsZWN0b3JBcGkubW9kZShiYXNlRmVhdHVyZU5hbWUsIHdpbmRvdyk7XG4gICAgaWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gZGF0YS5uYW1lO1xuICB9XG5cbiAgaWYgKHF1ZXJ5TWV0aG9kLmluZGV4T2YoXCJsYXN0XCIpID49IDApIHtcbiAgICBjb25zdCBtYXRjaCA9IHF1ZXJ5TWV0aG9kLm1hdGNoKFwibGFzdFxcXFwoKFtcXFxcZF0rKVxcXFwpXCIpO1xuICAgIGlmICghbWF0Y2ggfHwgIW1hdGNoLmxlbmd0aCA9PT0gMiB8fCBwYXJzZUludChtYXRjaFsxXSkgPCAxICkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcXVlcnlQcm9taXNlID0gYXdhaXQgY29sbGVjdG9yQXBpLmxhc3QoYmFzZUZlYXR1cmVOYW1lLCBtYXRjaFsxXSwgd2luZG93KTtcbiAgICBjb25zdCBkYXRhVmFsdWVzID0gcXVlcnlQcm9taXNlLm1hcCgob2JqKSA9PiBvYmouZGF0YV92YWx1ZSk7XG4gICAgcmV0dXJuIGRhdGFWYWx1ZXM7XG4gIH1cblxuICAvKipcbiAgICB7XCJMaXN0aW5ncGFnZVwiID0+IDIxfVxuICAgIHtcIkhvbWVwYWdlXCIgPT4gMTJ9XG4gICAgLS0gZXhhbXBsZSB3aWxsIGhhdmU6XG4gICAgbW9kZTogTGlzdGluZ3BhZ2VcbiAgICBjZDogMlxuICAgIGN2OiAyMSsxMlxuICAgIGxhc3QoMykgKG4sIG4tMSwgbi0yKVxuICAqL1xuXG4gIC8vIDEwMDBsaWsgdGVtaXpsZW5lY2VrIChtYWludE9wQ291bnQgLT4gdmVyc2lvbilcblxuICAvLyBxdWVyeU1ldGhvZCBjYW4gYmUgXCJtb2RlXCIsIFwiY2RcIiAoY291bnQgZGlzdGludCkgZm9yIHN0cmluZy9jYXRlZ29yaWNhbCBkYXRhIHR5cGVzXG4gIC8vIHF1ZXJ5TWV0aG9kIGNhbiBiZSBcImN2XCIgKHN1bSBvZiBjb3VudCB2YWx1ZXMpLCBcImN1cnJlbnRcIiwgb3IgXCJwcmV2XCIgZm9yIGFueSBkYXRhIHR5cGUgKHN0b3JlZCB2aWEgbGFzdClcbiAgbG9nZ2VyLmZhaWxlZChgdW5rbm93biBxdWVyeU1ldGhvZD0ke3F1ZXJ5TWV0aG9kfSBpbiBCZWFnbGVEYXRhQ29sbGVjdGlvbmApO1xuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVJbkNvbGxlY3RvciA9IGFzeW5jIChiYXNlRmVhdHVyZU5hbWUsIGJhc2VGZWF0dXJlVmFsdWUsIHVwZGF0ZU1ldGhvZCkgPT4ge1xuICBsb2dnZXIubG9nKFwidXBkYXRlSW5Db2xsZWN0b3JcIiwgYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlLCB1cGRhdGVNZXRob2QpO1xuICBpZiAoIWNvbGxlY3RvckFwaSkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJJbmRleGVkREIgbm8gc3VwcG9ydGVkL0luaXRpYWxpemVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXdhaXQgY29sbGVjdG9yQXBpLnNhdmUoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlKTtcblxuXG4gIC8vIHVwZGF0ZU1ldGhvZCBjYW4gYmUgXCJtaW5cIiwgXCJtYXhcIiwgXCJjbnRcIiwgXCJzdW1cIiBmb3IgbnVtZXJpYyBkYXRhIHR5cGVzLCBtaW4tbWF4IGNvbXBhcmVzIHdpdGggb25seSBleGlzdGluZywgYXZnIHVwZGF0ZXMgY250IGFuZCBzdW1cbiAgLy8gLS0+IG1pbjogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJtaW5cIiwgKGxlYXN0IG9mIGV4aXN0aW5nIGFuZCBpbmNvbWluZyBzdG9yZWRfdmFsdWUpXVxuICAvLyAtLT4gbWF4OiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcIm1heFwiLCAoZ3JlYXRlc3Qgb2YgZXhpc3RpbmcgYW5kIGluY29taW5nIHN0b3JlZF92YWx1ZSldXG4gIC8vIC0tPiBzdW06IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwic3VtXCIsIChzdW0gb2YgZXhpc3RpbmcgYW5kIGluY29taW5nIHN0b3JlZF92YWx1ZSldXG4gIC8vIC0tPiBjbnQ6IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwiY250XCIsIChleGlzdGluZyArIDEpXVxuICAvL1xuICAvLyB1cGRhdGVNZXRob2QgY2FuIGJlIFwiY291bnRfdmFsdWVzXCIgZm9yIHN0cmluZy9jYXRlZ29yaWNhbCBkYXRhIHR5cGVzLCBrZWVwIGEgY291bnRlciBmb3IgZWFjaCB2YWx1ZVxuICAvLyAtLT4gY291bnRfdmFsdWVzOiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBkYXRhX3ZhbHVlLCAoZXhpc3RpbmcgKyAxKV1cbiAgLy9cbiAgLy8gdXBkYXRlTWV0aG9kIGNhbiBiZSBcImxhc3RcIiBmb3IgYW55IGRhdGEgdHlwZSAtLT4ga2VlcHMgMiB2YWx1ZXMgZm9yIGN1cnJlbnQgYW5kIHRoZSBwcmV2aW91c1xuICAvLyBkZWxldGU6IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwicHJldlwiLCAoZXhpc3RpbmcgdmFsdWUpXVxuICAvLyBtb3ZlOiBleGlzdGluZyBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcImN1cnJlbnRcIiwgKGV4aXN0aW5nIHZhbHVlKV0gLS0+IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwicHJldlwiLCAoZXhpc3RpbmcgdmFsdWUpXVxuICAvLyBwdXQ6IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwiY3VycmVudFwiLCAoaW5jb21pbmcgc3RvcmVkX3ZhbHVlKV1cbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge2Zvcm1hdERlbGl2ZXJ5RGF0ZSwgaXNPd25NdXRhdGlvbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge3F1ZXJ5SW5Db2xsZWN0b3IsIHVwZGF0ZUluQ29sbGVjdG9yfSBmcm9tIFwiLi4vQmVhZ2xlRGF0YUNvbGxlY3Rpb25cIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG53aW5kb3cuYmVhZ2xlSW5mb0xheWVyID0gd2luZG93LmJlYWdsZUluZm9MYXllciB8fCB7XG4gIGE6IHt9LCBlOiB7fSwgZjoge30sIF9faHdtOiAwLFxufTtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUluZm9MYXllclwiKTtcblxuLy8gVE9ETzogY29udmVydCB0byBuYW1lIC0tPiBhcnJheSBvZiBzZWxlY3RvcnNcbmNvbnN0IHNlYXJjaFBhdGhzID0gW1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIEdBIERhdGEgTGF5ZXIgUXVlcmllc1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiUGFnZVR5cGVcIiwgbmFtZTogXCJQYWdlVHlwZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImlzQWRtaW5cIiwgbmFtZTogXCJ2dnNJc1Nob3dyb29tXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidXNlcklkXCIsIG5hbWU6IFwidnZzVXNlcklkXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9uYW1lXCIsIG5hbWU6IFwicGRwLm5hbWVcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwicHJvZHVjdGdyb3VwXCIsIG5hbWU6IFwicGRwLmdyb3VwXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VfY2F0ZWdvcnlcIiwgbmFtZTogXCJwZHAuY2xhc3NcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9pZHNcIiwgbmFtZTogXCJwZHAuc2t1XCIsIGZvcm1hdHRlcjogXCJ1cHBlckNhc2VUUlwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJQcm9kdWN0SURcIiwgbmFtZTogXCJwZHAuc2t1XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImNvbnRlbnRfY2F0ZWdvcnlcIiwgbmFtZTogXCJwZHAuY2F0ZWdvcnlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLmRldGFpbC5hY3Rpb25GaWVsZC5saXN0XCIsIG5hbWU6IFwicGRwLmxpc3RhbGlhc1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlUHJvZHVjdHMuKi5za3VcIiwgbmFtZTogXCJwZHAuc2t1XCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLmNhdGVnb3J5XCIsIG5hbWU6IFwicGRwLmNhdGVnb3J5XCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLmRpc2NvdW50UmF0ZVwiLCBuYW1lOiBcInBkcC5kaXNjb3VudFJhdGVcIiwgZm9ybWF0dGVyOiBcImRlYXJyYXlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidml2ZW5zZVByb2R1Y3RzLiouZmFzdERlbGl2ZXJ5XCIsIG5hbWU6IFwicGRwLmZhc3REZWxpdmVyeVwiLCBmb3JtYXR0ZXI6IFwiZGVhcnJheVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlUHJvZHVjdHMuKi5pc0luU2hvd3Jvb21cIiwgbmFtZTogXCJwZHAuaXNJblNob3dyb29tXCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwic2VhcmNoX3N1Y2Nlc3NcIiwgbmFtZTogXCJwbHAuc2VhcmNoU3VjY2Vzc1wiLCBleGNsdXNpdmU6IFtcInBscC5pZFwiLCBcInBscC5hcHByb3hpbWF0ZUNvdW50XCIsIFwicGxwLm5hbWVcIiwgXCJwbHAuZ3JvdXBcIiwgXCJwbHAuY2xhc3NcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImNvbnRlbnRfaWRzXCIsIG5hbWU6IFwicGxwLmlkXCIsIGV4Y2x1c2l2ZTogW1wicGxwLnNlYXJjaFN1Y2Nlc3NcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImNhdGVnb3J5X3Byb2R1Y3RfY291bnRcIiwgbmFtZTogXCJwbHAuYXBwcm94aW1hdGVDb3VudFwiLCBleGNsdXNpdmU6IFtcInBscC5zZWFyY2hTdWNjZXNzXCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJjb250ZW50X25hbWVcIiwgbmFtZTogXCJwbHAubmFtZVwiLCBleGNsdXNpdmU6IFtcInBscC5zZWFyY2hTdWNjZXNzXCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJwcm9kdWN0Z3JvdXBcIiwgbmFtZTogXCJwbHAuZ3JvdXBcIiwgZXhjbHVzaXZlOiBbXCJwbHAuc2VhcmNoU3VjY2Vzc1wiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidml2ZW5zZV9jYXRlZ29yeVwiLCBuYW1lOiBcInBscC5jbGFzc1wiLCBleGNsdXNpdmU6IFtcInBscC5zZWFyY2hTdWNjZXNzXCJdfSxcblxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5wcm9kdWN0cy4qLmlkXCIsIG5hbWU6IFwicHVyY2hhc2Uuc2t1c1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UucHJvZHVjdHMuKi5wcmljZVwiLCBuYW1lOiBcInB1cmNoYXNlLnByaWNlc1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UucHJvZHVjdHMuKi5xdWFudGl0eVwiLCBuYW1lOiBcInB1cmNoYXNlLnF1YW50aXRpZXNcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLnByb2R1Y3RzLiouY2F0ZWdvcnlcIiwgbmFtZTogXCJwdXJjaGFzZS5jYXRlZ29yaWVzXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5pZFwiLCBuYW1lOiBcInB1cmNoYXNlLm9yZGVySWRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLnJldmVudWVcIiwgbmFtZTogXCJwdXJjaGFzZS5yZXZlbnVlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5kaW1lbnNpb24xNVwiLCBuYW1lOiBcInB1cmNoYXNlLnBheW1lbnRUeXBlXCJ9LFxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gRG9jdW1lbnQgUXVlcmllc1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwicGFnZV9wcmV2aWV3X3dyYXBwZXJfcHJvZHVjdGlvblxcXCJdXCIsIG5hbWU6IFwiUGFnZVR5cGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVZhbHVlSWZIYXNJbm5lclRleHRcIiwgdmFsdWU6IFwiSG9tZXBhZ2VcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCIqXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJjYXRlZ29yeV9wYWdlX3dyYXBwZXJcXFwiXVwiLCBuYW1lOiBcIlBhZ2VUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCIsIHZhbHVlOiBcIkxpc3RpbmdwYWdlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwicHJvZHVjdC1tYWluLWRldGFpbHNcXFwiXVwiLCBuYW1lOiBcIlBhZ2VUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCIsIHZhbHVlOiBcIlByb2R1Y3RwYWdlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwicHJvZHVjdFxcXCJdXCIsIG5hbWU6IFwiUGFnZVR5cGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVZhbHVlSWZIYXNJbm5lclRleHRcIiwgdmFsdWU6IFwiUHJvZHVjdHBhZ2VcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkhvbWVwYWdlfFByb2R1Y3RwYWdlfExpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJ3ZWxjb21lX3VzZXJuYW1lXFxcIl1cIiwgbmFtZTogXCJ2aWV3LmlzTG9nZ2VkSW5cIiwgb3BlcmFuZDogXCJkb2NRdWVyeUhhc0lubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkhvbWVwYWdlfFByb2R1Y3RwYWdlfExpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJlbXB0eV9iYXNrZXRfdGV4dFxcXCJdXCIsIG5hbWU6IFwiY2FydC5pc2VtcHR5XCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlIYXNJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LnRvdGFsQmFzZVByaWNlXCIsIFwiY2FydC5za3Vjb3VudFwiLCBcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJIb21lcGFnZXxQcm9kdWN0cGFnZXxMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiYm9keSA+IC5kZXNrdG9wX2xheW91dF93cmFwcGVyIC5ub3QtYWxsb3dlZC1jb3Vwb25cIiwgbmFtZTogXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVN1bU51bUlubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiXX0sXG4gIC8vIE5vdGUgdGhhdCBzZXF1ZW50aWFsIHNlYXJjaCB3aWxsIG1hcmsgY29wdW9uTm90QXBwbGljYWJsZSBhcyBmb3VuZFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiSG9tZXBhZ2V8UHJvZHVjdHBhZ2V8TGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImJhc2tldF90b3RhbF9wcmljZVxcXCJdXCIsIG5hbWU6IFwiY2FydC50b3RhbEJhc2VQcmljZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCIsIFwiY2FydC5jb3Vwb25Ob3RBcHBsaWNhYmxlXCJdLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJIb21lcGFnZXxQcm9kdWN0cGFnZXxMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2lkKj1cXFwiY2FydF9xdWFudGl0eVxcXCJdLCBbY2xhc3MqPVxcXCJiYXNrZXRfbGVuZ3RoXFxcIl1cIiwgbmFtZTogXCJjYXJ0LnNrdWNvdW50XCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl19LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiZGVsaXZlcnktZGF0ZVxcXCJdXCIsIG5hbWU6IFwicGRwLmRlbGl2ZXJ5RGF0ZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImRlbGl2ZXJ5LWRhdGVcXFwiXVwiLCBuYW1lOiBcInBkcC5kZWxpdmVyeURhdGVGb3JtYXR0ZWRcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBmb3JtYXR0ZXI6IFwiZm9ybWF0RGVsaXZlcnlEYXRlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInByb2R1Y3QtdGl0bGVcXFwiXSwgW2NsYXNzKj1cXFwiaGVhZGVyLWJvdHRvbVxcXCJdXCIsIG5hbWU6IFwicGRwLm5hbWVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJ2aXZlbnNlLXNob3dyb29tc1xcXCJdID4gKlwiLCBuYW1lOiBcInBkcC5zaG93cm9vbWNvdW50XCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlDb3VudEVsdHNcIiwgZXhjbHVzaXZlOiBbXCJwZHAuaGFzTm9TaG93cm9vbXNcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIiN2aXZlbnNlLXNob3dyb29tLXRhYiBwOm5vdCgudml2ZW5zZS1zaG93cm9vbXMpXCIsIG5hbWU6IFwicGRwLmhhc05vU2hvd3Jvb21zXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlIYXNJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJwZHAuc2hvd3Jvb21jb3VudFwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwic3Bhbi5wcmljZVwiLCBuYW1lOiBcInBkcC5wcmljZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGZvcm1hdHRlcjogXCJudW1lcmljT25seVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIjc2FsZXMtcHJpY2VcIiwgbmFtZTogXCJwZHAucHJpY2VcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiZGl2LnByb2R1Y3QtcHJpY2UtYm94XCIsIG5hbWU6IFwiX19wcmljZU9ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJwZHAucHJpY2VcIl0sIG9wZXJhbmQ6IFwiZG9jUXVlcnlPYnNlcnZlXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIiNtb2JpbGUtcHJvZHVjdC1zdGlja3lcIiwgbmFtZTogXCJfX3ByaWNlT2JzZXJ2ZXJcIiwgY2hpbGRyZW46IFtcInBkcC5wcmljZVwiXSwgb3BlcmFuZDogXCJkb2NRdWVyeU9ic2VydmVcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJjb3VudC1vZi1wcm9kdWN0XFxcIl1cIiwgbmFtZTogXCJwbHAuaXRlbUNvdW50XCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZm9ybWF0dGVyOiBcIm51bWVyaWNPbmx5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInN1YmNhdGVnb3JpZXMtdGl0bGVcXFwiXVwiLCBuYW1lOiBcInBscC5uYW1lXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLnByb2R1Y3QtY2FyZFtkYXRhLXByb2R1Y3Qtc2t1XVwiLCBuYW1lOiBcIl9fZmVhdHVyZXMuU0tVc29uUGFnZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5QXR0cmliVmFsdWVMaXN0XCIsIHZhbHVlOiBcImRhdGEtcHJvZHVjdC1za3VcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLnByb2R1Y3QtbGlzdFwiLCBuYW1lOiBcIl9fbGlzdGluZ0l0ZW1CbG9ja09ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJfX2ZlYXR1cmVzLlNLVXNvblBhZ2VcIl0sIG9wZXJhbmQ6IFwiZG9jUXVlcnlPYnNlcnZlXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5lbXB0eS1jYXJ0LWNvbnRhaW5lciwgLmVtcHR5LWNhcnRcIiwgbmFtZTogXCJjYXJ0LmlzZW1wdHlcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUhhc0lubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcImNhcnQuc2t1Y291bnRcIiwgXCJjYXJ0LnRvdGFsUHJpY2VcIiwgXCJjYXJ0LnRvdGFsUHJpY2VGaW5hbFwiLCBcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiLCBcImNhcnQuc2t1c1wiLCBcImNhcnQucHJpY2VzXCIsIFwiY2FydC5xdWFudGl0aWVzXCIsIFwiY2FydC5jYXRlZ29yaWVzXCIsIFwiX19jaGVja291dEZvcm1PYnNlcnZlclwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5icmFja2V0LXRleHQsIC5wcm9kdWN0LWNvdW50XCIsIG5hbWU6IFwiY2FydC5za3Vjb3VudFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCJdLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5jYXJ0SXRlbVF1YW50aXR5XCIsIG5hbWU6IFwiY2FydC5xdWFudGl0aWVzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIiwgdmFsdWU6IFwiZGF0YS1wcmV2aW91c1wiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIiNiaWxsX3RvdGFsXCIsIG5hbWU6IFwiY2FydC50b3RhbFByaWNlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl0sIGZvcm1hdHRlcjogXCJudW1lcmljT25seVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwib3JkZXItZmluYWwtbnVtYmVyXFxcIl1cIiwgbmFtZTogXCJjYXJ0LnRvdGFsUHJpY2VGaW5hbFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCJdLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImNhcnQtcHJpY2VcXFwiXSAubm90LWFsbG93ZWQtY291cG9uXCIsIG5hbWU6IFwiY2FydC5jb3Vwb25Ob3RBcHBsaWNhYmxlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlTdW1OdW1Jbm5lclRleHRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl19LFxuICAvLyBOb3RlIHRoYXQgc2VxdWVudGlhbCBzZWFyY2ggd2lsbCBtYXJrIGNvdXBvbkFwcGxpY2FibGUgYXMgZm91bmRcbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLmNhcnQtaW5zaWRlXCIsIG5hbWU6IFwiY2FydC5za3VzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIiwgdmFsdWU6IFwiZGF0YS1za3VcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIiwgXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1pbnNpZGVcIiwgbmFtZTogXCJjYXJ0LmNhdGVnb3JpZXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiLCB2YWx1ZTogXCJkYXRhLWxhc3QtYnJlYWRjcnVtYlwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiLCBcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5jYXJ0LWluc2lkZVwiLCBuYW1lOiBcImNhcnQucHJpY2VzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIiwgdmFsdWU6IFwiZGF0YS1wcmljZVwiLCBleGNsdXNpdmU6IFtcImNhcnQuaXNlbXB0eVwiLCBcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiXX0sXG4gIC8vIERlc2t0b3Agb2JzZXJ2ZXIgZm9yIHRoZSByaWdodCBwYW5lbCwgYXMgaXQgaXMgdGhlIG9uZSBjaGFuZ2luZ1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1yaWdodC1jb250YWluZXJcIiwgbmFtZTogXCJfX2NoZWNrb3V0Rm9ybU9ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJjYXJ0LnNrdWNvdW50XCIsIFwiY2FydC50b3RhbFByaWNlXCIsIFwiY2FydC50b3RhbFByaWNlRmluYWxcIiwgXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIiwgXCJjYXJ0LnNrdXNcIiwgXCJjYXJ0LnByaWNlc1wiLCBcImNhcnQucXVhbnRpdGllc1wiLCBcImNhcnQuY2F0ZWdvcmllc1wiLCBcImNhcnQuaXNlbXB0eVwiLCBcImNhcnQuY291cG9uQXBwbGljYWJsZUFtb3VudFwiXSwgb3BlcmFuZDogXCJkb2NRdWVyeU9ic2VydmVcIn0sXG4gIC8vIE1vYmlsZSBvYnNlcnZlciBmb3IgdGhlIGZ1bGwgZm9ybSBibG9jayBhcyBpdCBpcyBjb21wbGV0ZWx5IHJlcGxhY2VkXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIiNjaGVja291dEZvcm1cIiwgbmFtZTogXCJfX2NoZWNrb3V0Rm9ybU9ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJjYXJ0LnNrdWNvdW50XCIsIFwiY2FydC50b3RhbFByaWNlXCIsIFwiY2FydC50b3RhbFByaWNlRmluYWxcIiwgXCJjYXJ0LmNvdXBvbk5vdEFwcGxpY2FibGVcIiwgXCJjYXJ0LnNrdXNcIiwgXCJjYXJ0LnByaWNlc1wiLCBcImNhcnQucXVhbnRpdGllc1wiLCBcImNhcnQuY2F0ZWdvcmllc1wiLCBcImNhcnQuaXNlbXB0eVwiLCBcImNhcnQuY291cG9uQXBwbGljYWJsZUFtb3VudFwiXSwgb3BlcmFuZDogXCJkb2NRdWVyeU9ic2VydmVcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJiYXNrZXRfc3VtbWFyeV90b3RhbFxcXCJdLCBbY2xhc3MqPVxcXCJ0b3RhbF9yb3dcXFwiXVwiLCBuYW1lOiBcInB1cmNoYXNlLnJldmVudWVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwib3JkZXJfZm9sbG93X251bWJcXFwiXSwgW2NsYXNzKj1cXFwiY2FydC10aXRsZS1ib3R0b21cXFwiXVwiLCBuYW1lOiBcInB1cmNoYXNlLnZ2c1R4bklkXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLnBheW1lbnRfdHlwZV90aXRsZSwgLmNhcnQtdGl0bGUtaW5mb1wiLCBuYW1lOiBcInB1cmNoYXNlLnBheW1lbnRUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZm9ybWF0dGVyOiBcImxvd2VyQ2FzZVRSRmlyc3RXb3JkXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInByb2R1Y3Rfc2t1X2NvZGVcXFwiXVwiLCBuYW1lOiBcInB1cmNoYXNlLnNrdXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUFycmF5SW5uZXJUZXh0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5jYXJ0LWluc2lkZVwiLCBuYW1lOiBcInB1cmNoYXNlLnNrdXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiLCB2YWx1ZTogXCJkYXRhLXNrdVwifSxcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFNPUkcgRWxlbWVudHNcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcInNrdVwiLCBuYW1lOiBcInBkcC5za3VcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJtcG5cIiwgbmFtZTogXCJwZHAubXBuXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwibmFtZVwiLCBuYW1lOiBcInBkcC5uYW1lXCIsIG9wZXJhbmQ6IFwiSlNPTkZpbHRlck90aGVyXCIsIHZhbHVlOiBcIkB0eXBlPVByb2R1Y3RcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJvZmZlcnMucHJpY2VWYWxpZFVudGlsXCIsIG5hbWU6IFwicGRwLnByaWNlVmFsaWRVbnRpbFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcIml0ZW1MaXN0RWxlbWVudC4qLm5hbWVcIiwgbmFtZTogXCJ2aWV3LmJyZWFkY3J1bWJcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcIm1haW5FbnRpdHkubmFtZVwiLCBuYW1lOiBcInBscC5uYW1lXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwibWFpbkVudGl0eS5udW1iZXJPZkl0ZW1zXCIsIG5hbWU6IFwicGxwLml0ZW1Db3VudFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcImJyZWFkY3J1bWIuaXRlbUxpc3RFbGVtZW50LiouaXRlbS5uYW1lXCIsIG5hbWU6IFwidmlldy5icmVhZGNydW1iXCJ9LFxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gV2luZG93IGN1c3RvbSBlbGVtZW50c1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiU2luZ2xlV1RcIiwgc2VsZWN0b3I6IFwiZmF2b3JpdGVQcm9kdWN0c1wiLCBuYW1lOiBcInZpZXcuZmF2b3JpdGVkTVBOc1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIlNpbmdsZVdUXCIsIHNlbGVjdG9yOiBcImlzQWRtaW5cIiwgbmFtZTogXCJ2dnNJc1Nob3dyb29tXCIsIGZvcm1hdHRlcjogXCJ0b1N0cmluZ1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIlNpbmdsZVdUXCIsIHNlbGVjdG9yOiBcInVzZXJJZFwiLCBuYW1lOiBcInZ2c1VzZXJJZFwifSxcbl07XG5cbmNvbnN0IGZlYXR1cmVFbmdpbmVlcmluZ09wcyA9IHtcbiAgXCJ2aWV3X2Vwb2NoXCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcIm1pblwifSxcbiAgICB7cXVlcnlNZXRob2Q6IFwibWluXCIsIHdpbmRvdzogXCJzZXNzaW9uXCIsIGZlYXR1cmVOYW1lOiBcImhpc3Rvcnkudmlld19lcG9jaF9taW5cIn0sXG4gIF0sXG4gIFwiUGFnZVR5cGVcIjogW1xuICAgIHt1cGRhdGVNZXRob2Q6IFwiY291bnRfdmFsdWVzXCJ9LFxuICAgIHtxdWVyeU1ldGhvZDogXCJjdlwiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJoaXN0b3J5LlBhZ2VUeXBlX2NvdW50X3Nlc3Npb25cIn0sXG4gICAge3F1ZXJ5TWV0aG9kOiBcImN2XCIsIHdpbmRvdzogXCJhbGx0aW1lXCIsIGZlYXR1cmVOYW1lOiBcImhpc3RvcnkuUGFnZVR5cGVfY291bnRfYWxsdGltZVwifSxcbiAgXSxcbiAgXCJjYXJ0LmNvdXBvbkFwcGxpY2FibGVBbW91bnRcIjogW1xuICAgIHt1cGRhdGVNZXRob2Q6IFwibGFzdFwifSxcbiAgICB7cXVlcnlNZXRob2Q6IFwibGFzdCgxKVwiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJfX2ZlYXR1cmVzLmxhc3RDYXJ0Q291cG9uQXBwbGljYWJsZVwifSxcbiAgXSxcbiAgXCJwZHAuY2F0ZWdvcnlcIjogW1xuICAgIHt1cGRhdGVNZXRob2Q6IFwiY291bnRfdmFsdWVzXCJ9LFxuICAgIHt1cGRhdGVNZXRob2Q6IFwibGFzdFwifSxcbiAgICB7cXVlcnlNZXRob2Q6IFwibW9kZVwiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJoaXN0b3J5LnBkcF9jYXRlZ29yeV9tb2RlX3Nlc3Npb25cIn0sXG4gICAge3F1ZXJ5TWV0aG9kOiBcImxhc3QoMSlcIiwgd2luZG93OiBcInNlc3Npb25cIiwgZmVhdHVyZU5hbWU6IFwiaGlzdG9yeS5wZHBfY2F0ZWdvcnlfbGFzdF9zZXNzaW9uXCJ9LFxuICBdLFxuICBcImNhcnQuc2t1c1wiOiBbXG4gICAge3VwZGF0ZU1ldGhvZDogXCJsYXN0XCJ9LFxuICAgIHtxdWVyeU1ldGhvZDogXCJsYXN0KDEpXCIsIHdpbmRvdzogXCJzZXNzaW9uXCIsIGZlYXR1cmVOYW1lOiBcIl9fZmVhdHVyZXMuU0tVc29uTGFzdENhcnRWaWV3XCJ9LFxuICBdLFxufTtcblxuZXhwb3J0IGNvbnN0IGluY3JlYXNlQmVhZ2xlSW5mb0xheWVySFdNID0gKCkgPT4ge1xuICBjb25zdCBpbmZvTGF5ZXIgPSB3aW5kb3cudG9wLmJlYWdsZUluZm9MYXllcjtcbiAgLy8gdXBkYXRlIGh3bSB0byBpbmRpY2F0ZSBjaGFuZ2VcbiAgaW5mb0xheWVyLl9faHdtICs9IDE7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkVG9CZWFnbGVJbmZvTGF5ZXIgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICBjb25zdCBpbmZvTGF5ZXIgPSB3aW5kb3cudG9wLmJlYWdsZUluZm9MYXllcjtcblxuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gIC8vIGlmIHZhbHVlIGlzIHN0cmluZywgYWRkIGFzIGEgY2xlYW4gc3RyaW5nLCBpZiBvYmplY3QgYWRkIHRoZSBzYW1lXG4gIGNvbnN0IHR5cGVkVmFsdWUgPSB0eXBlb2YgKHZhbHVlKSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpIDogdmFsdWU7XG4gIC8vIGlmIGtleSBjb250YWlucyAuIGNyZWF0ZSBuZXN0ZWQgb2JqZWN0XG4gIGlmIChrZXkuaW5kZXhPZihcIi5cIikgPiAtMSkge1xuICAgIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoXCIuXCIpO1xuICAgIGNvbnN0IGxhc3RLZXkgPSBrZXlzLnBvcCgpO1xuICAgIGxldCBvYmogPSBpbmZvTGF5ZXI7XG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmICghb2JqW2tleV0pIG9ialtrZXldID0ge307XG4gICAgICBvYmogPSBvYmpba2V5XTtcbiAgICB9KTtcbiAgICBvYmpbbGFzdEtleV0gPSB0eXBlZFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGluZm9MYXllcltrZXldID0gdHlwZWRWYWx1ZTtcbiAgfVxuICAvLyB1cGRhdGUgaHdtIHRvIGluZGljYXRlIGNoYW5nZVxuICBpbmNyZWFzZUJlYWdsZUluZm9MYXllckhXTSgpO1xuICAvLyBwcm9jZXNzIGRlcGVuZGVudCBoaXN0b3JpY2FsIGRhdGEgZm9yIHNjYW4tZm91bmQgZWxlbWVudHNcbiAgaWYgKHR5cGVkVmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlZFZhbHVlICE9PSBudWxsKSB7XG4gICAgdXBkYXRlRGVyaXZhdGlvbnNJbkNvbGxlY3RvcihrZXksIHR5cGVkVmFsdWUpO1xuICAgIHBhc3NWYWx1ZVRvTGlzdGVuZXJzKGtleSwgdHlwZWRWYWx1ZSk7XG4gIH1cbn07XG5cbmNvbnN0IERBVEFfTElTVEVORVJTID0ge307XG5cbmV4cG9ydCBjb25zdCBhZGREYXRhTGlzdGVuZXIgPSAoa2V5LCBsaXN0ZW5lcikgPT4ge1xuICBpZiAoIURBVEFfTElTVEVORVJTW2tleV0pIHtcbiAgICBEQVRBX0xJU1RFTkVSU1trZXldID0gW107XG4gIH1cbiAgREFUQV9MSVNURU5FUlNba2V5XS5wdXNoKGxpc3RlbmVyKTtcbn07XG5cbmNvbnN0IHBhc3NWYWx1ZVRvTGlzdGVuZXJzID0gKGtleSwgdmFsdWUpID0+IHtcbiAgY29uc3QgbGlzdGVuZXJzID0gREFUQV9MSVNURU5FUlNba2V5XTtcbiAgaWYgKGxpc3RlbmVycyAmJiBBcnJheS5pc0FycmF5KGxpc3RlbmVycykgJiYgbGlzdGVuZXJzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhgcGFzc1ZhbHVlVG9MaXN0ZW5lcnMgLS0+IHZhbHVlICR7dmFsdWV9IHRvIGxpc3RlbmVyICR7aX0gb2Yga2V5ICR7a2V5fWApO1xuICAgICAgICBsaXN0ZW5lcih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RnJvbUJlYWdsZUluZm9MYXllciA9IChrZXksIGJsb2NraW5nID0gZmFsc2UsIHBvbGxJbnRlcnZhbCA9IDUwLCB0aW1lb3V0ID0gMTAwMDApID0+IHtcbiAgLy8gVE9ETzogY2hlY2sgZmVhdHVyZUVuZ2luZWVyaW5nIGFuZCBzZWFyY2ggbGlzdCBpZiBhbGwgbWFya2VkIGFzIGZvdW5kIGJ1dCB2YWx1ZSBpcyBtaXNzaW5nXG4gIGNvbnN0IGluZm9MYXllciA9IHdpbmRvdy50b3AuYmVhZ2xlSW5mb0xheWVyO1xuICAvLyByZXR1cm4gbnVsbCBpZiBrZXkgaXMgbWlzc2luZyBvciBub3QgYW4gYXJyYXkgb3IgaGFzIG5vIGVsZW1lbnRzXG4gIGlmICgha2V5KSByZXR1cm4gbnVsbDtcbiAgbGV0IG9idGFpbkRhdGEgPSBqc29uR2V0KGluZm9MYXllciwga2V5KTtcbiAgaWYgKG9idGFpbkRhdGEgIT09IG51bGwgJiYgb2J0YWluRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gZm91bmQgZGF0YSBmb3Iga2V5XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShvYnRhaW5EYXRhKTtcbiAgfVxuXG4gIGZvciAoY29uc3Qgc2VhcmNoRWxlbWVudCBvZiBzZWFyY2hQYXRocykge1xuICAgIGlmIChrZXkgPT09IHNlYXJjaEVsZW1lbnQubmFtZSAmJiAoc2VhcmNoRWxlbWVudC5pc0ZvdW5kIHx8IHNlYXJjaEVsZW1lbnQuaXNJZ25vcmUpKSB7XG4gICAgICAvLyBkYXRhIGlzIG1pc3NpbmcgYnV0IGVsZW1lbnQgaXMgbWFya2VkIGFzIGZvdW5kIG9yIGlnbm9yZWRcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGJsb2NraW5nKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgb2J0YWluRGF0YSA9IGpzb25HZXQoaW5mb0xheWVyLCBrZXkpO1xuICAgICAgICBpZiAob2J0YWluRGF0YSAhPT0gbnVsbCAmJiBvYnRhaW5EYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBmb3VuZCBkYXRhIGZvciBrZXksIGNsZWFyIGludGVydmFsIGFuZCByZXNvbHZlXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgcmVzb2x2ZShvYnRhaW5EYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHNlYXJjaEVsZW1lbnQgb2Ygc2VhcmNoUGF0aHMpIHtcbiAgICAgICAgICBpZiAoa2V5ID09PSBzZWFyY2hFbGVtZW50Lm5hbWUgJiYgKHNlYXJjaEVsZW1lbnQuaXNGb3VuZCB8fCBzZWFyY2hFbGVtZW50LmlzSWdub3JlKSkge1xuICAgICAgICAgICAgLy8gZGF0YSBpcyBtaXNzaW5nIGJ1dCBlbGVtZW50IGlzIG1hcmtlZCBhcyBmb3VuZCBvciBpZ25vcmVkXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBwb2xsSW50ZXJ2YWwpO1xuICAgICAgLy8gYWRkIHRpbWVvdXRcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgIH0sIHRpbWVvdXQpOyAvLyB3YWl0IGJsb2NraW5nIGZvciBcInRpbWVvdXRcIiBtc2Vjc1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllciA9IChrZXkpID0+IHtcbiAgY29uc3QgaW5mb0xheWVyID0gd2luZG93LnRvcC5iZWFnbGVJbmZvTGF5ZXI7XG4gIGlmIChrZXkgPT09IG51bGwgfHwga2V5ID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgLy8gcmVtb3ZlIGtleSBmcm9tIGluZm9MYXllclxuICBpZiAoa2V5LmluZGV4T2YoXCIuXCIpID4gLTEpIHtcbiAgICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KFwiLlwiKTtcbiAgICBjb25zdCBsYXN0S2V5ID0ga2V5cy5wb3AoKTtcbiAgICBsZXQgb2JqID0gaW5mb0xheWVyO1xuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoIW9ialtrZXldKSByZXR1cm47XG4gICAgICBvYmogPSBvYmpba2V5XTtcbiAgICB9KTtcbiAgICBsb2dnZXIubG9nKFwicmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllclwiLCBgUmVtb3ZpbmcgJHtsYXN0S2V5fSBmcm9tICR7SlNPTi5zdHJpbmdpZnkob2JqKX1gKTtcbiAgICBkZWxldGUgb2JqW2xhc3RLZXldO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSBpbmZvTGF5ZXJba2V5XTtcbiAgfVxuICBpbmNyZWFzZUJlYWdsZUluZm9MYXllckhXTSgpO1xuICAvLyBwcm9jZXNzIGRlcGVuZGVudCBoaXN0b3JpY2FsIGRhdGEgZm9yIHNjYW4tZm91bmQgZWxlbWVudHNcbiAgdXBkYXRlRGVyaXZhdGlvbnNJbkNvbGxlY3RvcihrZXksIG51bGwpO1xuICBwYXNzVmFsdWVUb0xpc3RlbmVycyhrZXksIG51bGwpO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFRyZWF0bWVudCA9IChpZCwgYnVzaW5lc3NSdWxlSWQsIHZhcmlhbnQsIHN0YXR1cywgZGVwZW5kYW50X29uX3RyZWF0bWVudCA9IG51bGwpID0+IHtcbiAgY29uc3QgdmFsdWUgPSB7fTtcbiAgY29uc3QgaW5mb0xheWVyID0gd2luZG93LnRvcC5iZWFnbGVJbmZvTGF5ZXI7XG5cbiAgaWYgKGJ1c2luZXNzUnVsZUlkICE9PSBudWxsICYmIGJ1c2luZXNzUnVsZUlkICE9PSB1bmRlZmluZWQpIHZhbHVlLmJ1c2luZXNzUnVsZUlkID0gYnVzaW5lc3NSdWxlSWQ7XG4gIGlmICh2YXJpYW50KSB2YWx1ZS52YXJpYW50ID0gdmFyaWFudDtcblxuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgXCJhcHBsaWVkXCI6XG4gICAgICBpbmZvTGF5ZXIuYVtpZF0gPSB2YWx1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJza2lwcGVkXCI6XG4gICAgICB2YWx1ZS5kZXBlbmRhbnRfb25fdHJlYXRtZW50ID0gZGVwZW5kYW50X29uX3RyZWF0bWVudDtcbiAgICAgIGluZm9MYXllci5lW2lkXSA9IHZhbHVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImZhaWxlZFwiOlxuICAgICAgaW5mb0xheWVyLmZbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgfVxuICBpbmNyZWFzZUJlYWdsZUluZm9MYXllckhXTSgpO1xufTtcblxuY29uc3QgUEFSU0VTRUFSQ0hNQVhSRVRSWSA9IDEwO1xuY29uc3QgUEFSU0VTRUFSQ0hTVEFSVERFTEFZID0gMTA7XG5sZXQgcGFyc2VTZWFyY2hQYXRoc0RlbGF5ID0gUEFSU0VTRUFSQ0hTVEFSVERFTEFZO1xubGV0IHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA9IDA7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyID0gYXN5bmMgKCkgPT4ge1xuICAvLyBDb2xsZWN0IGNvcmUgZGF0YVxuICBwcmVwYXJlQ29yZURhdGEoKTtcblxuICAvLyBUcmlnZ2VyLXN0YXJ0IHRoZSBwYXJzZXIgbG9vcFxuICBwYXJzZXJDYWxsZXIoKTtcblxuICAvLyBBZGQgbWV0cmljc1xuICBhZGRNZXRyaWNzKCk7XG59O1xuXG5jb25zdCBjb2xsZWN0RGVyaXZhdGlvbnNGcm9tQ29sbGVjdG9yID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBiYXNlRmVhdHVyZU5hbWVzID0gT2JqZWN0LmtleXMoZmVhdHVyZUVuZ2luZWVyaW5nT3BzKTtcbiAgZm9yIChjb25zdCBiYXNlRmVhdHVyZU5hbWUgb2YgYmFzZUZlYXR1cmVOYW1lcykge1xuICAgIGNvbnN0IEZFRGF0YSA9IGZlYXR1cmVFbmdpbmVlcmluZ09wc1tiYXNlRmVhdHVyZU5hbWVdO1xuICAgIGlmIChGRURhdGEgJiYgQXJyYXkuaXNBcnJheShGRURhdGEpICYmIEZFRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IEZFT3Agb2YgRkVEYXRhKSB7XG4gICAgICAgIGlmIChGRU9wLnF1ZXJ5TWV0aG9kID09PSBudWxsIHx8IEZFT3AucXVlcnlNZXRob2QgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UmVzcG9uc2UgPSBhd2FpdCBxdWVyeUluQ29sbGVjdG9yKGJhc2VGZWF0dXJlTmFtZSwgRkVPcC5xdWVyeU1ldGhvZCwgRkVPcC53aW5kb3cpO1xuICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihGRU9wLmZlYXR1cmVOYW1lLCBxdWVyeVJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHVwZGF0ZURlcml2YXRpb25zSW5Db2xsZWN0b3IgPSBhc3luYyAoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlKSA9PiB7XG4gIC8vIHByb2Nlc3MgZGVwZW5kZW50IGhpc3RvcmljYWwgZGF0YSBmb3Igc2Nhbi1mb3VuZCBlbGVtZW50c1xuICBjb25zdCBGRURhdGEgPSBmZWF0dXJlRW5naW5lZXJpbmdPcHNbYmFzZUZlYXR1cmVOYW1lXTtcbiAgaWYgKEZFRGF0YSAmJiBBcnJheS5pc0FycmF5KEZFRGF0YSkgJiYgRkVEYXRhLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGNvbnN0IEZFT3Agb2YgRkVEYXRhKSB7XG4gICAgICBpZiAoRkVPcC51cGRhdGVNZXRob2QgPT09IG51bGwgfHwgRkVPcC51cGRhdGVNZXRob2QgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICBhd2FpdCB1cGRhdGVJbkNvbGxlY3RvcihiYXNlRmVhdHVyZU5hbWUsIGJhc2VGZWF0dXJlVmFsdWUsIEZFT3AudXBkYXRlTWV0aG9kKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHByb2Nlc3NGb3JtYXR0ZXIgPSAodmFsdWUsIGZvcm1hdHRlcikgPT4ge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCAhZm9ybWF0dGVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc3dpdGNoIChmb3JtYXR0ZXIpIHtcbiAgICBjYXNlIFwidXBwZXJDYXNlVFJcIjpcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpLnRvVXBwZXJDYXNlKFwidHItVFJcIik7XG4gICAgY2FzZSBcImZvcm1hdERlbGl2ZXJ5RGF0ZVwiOlxuICAgICAgcmV0dXJuIGZvcm1hdERlbGl2ZXJ5RGF0ZSh2YWx1ZSk7XG4gICAgY2FzZSBcIm51bWVyaWNPbmx5XCI6XG4gICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICAgIGNhc2UgXCJsb3dlckNhc2VUUkZpcnN0V29yZFwiOlxuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoXCJ0ci1UUlwiKS5zcGxpdChcIiBcIilbMF07XG4gICAgY2FzZSBcImRlYXJyYXlcIjpcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBjYXNlIFwidG9TdHJpbmdcIjpcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuXG5jb25zdCBzZWFyY2hPYmogPSAob2JqLCBzZWFyY2hFbGVtZW50KSA9PiB7XG4gIGxldCB2YWx1ZTtcbiAgbGV0IGxheWVyVmFsdWU7XG5cbiAgdHJ5IHtcbiAgICBzd2l0Y2ggKHNlYXJjaEVsZW1lbnQub3BlcmFuZCkge1xuICAgICAgY2FzZSBcIkpTT05GaWx0ZXJPdGhlclwiOlxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWUgPSBqc29uR2V0KG9iaiwgc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgZmlsdGVyUGFyYW1zID0gc2VhcmNoRWxlbWVudC52YWx1ZS5zcGxpdChcIj1cIik7XG4gICAgICAgICAgaWYgKGZpbHRlclBhcmFtcy5sZW5ndGggIT09IDIpIGJyZWFrO1xuICAgICAgICAgIGNvbnN0IGZpbHRlck5hbWUgPSBmaWx0ZXJQYXJhbXNbMF07XG4gICAgICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSBmaWx0ZXJQYXJhbXNbMV07XG4gICAgICAgICAgaWYgKCFmaWx0ZXJOYW1lIHx8ICFmaWx0ZXJWYWx1ZSkgYnJlYWs7XG5cbiAgICAgICAgICBjb25zdCBmaWx0ZXJNYXRjaCA9IGpzb25HZXQob2JqLCBmaWx0ZXJOYW1lKTtcblxuICAgICAgICAgIGlmICghZmlsdGVyTWF0Y2ggfHwgZmlsdGVyTWF0Y2ggIT09IGZpbHRlclZhbHVlKSBicmVhaztcblxuICAgICAgICAgIGlmICh2YWx1ZSAmJiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggPiAwIDogdmFsdWUudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIGxheWVyVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlPYnNlcnZlXCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZWFyY2hFbGVtZW50LmlzRm91bmQgPSB0cnVlO1xuICAgICAgICAgIC8vIHVwZGF0ZSBmb3VuZCBzdGF0dXMgb2YgdGhlIGVsZW1lbnRzIGluIHRoZSBjaGlsZHJlbiBsaXN0XG4gICAgICAgICAgY29uc3QgdG9CZVVwZGF0ZWQgPSBbXTtcbiAgICAgICAgICBzZWFyY2hFbGVtZW50LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZEVsZW1lbnRzID0gc2VhcmNoUGF0aHMuZmlsdGVyKChlbGVtZW50KSA9PiBlbGVtZW50Lm5hbWUgPT09IGNoaWxkKTtcbiAgICAgICAgICAgIC8vIGFkZCBjaGlsZEVsZW1lbnRzIGludG8gdG9CZVVwZGF0ZWRcbiAgICAgICAgICAgIHRvQmVVcGRhdGVkLnB1c2goLi4uY2hpbGRFbGVtZW50cyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gcnVuIG9ubHkgaWYgdGhlIGVsZW1lbnQgaGFzIGFkZGVkIG9yIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGFzeW5jIGZ1bmN0aW9uKG11dGF0aW9uTGlzdCkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGZvdW5kIHN0YXR1cyBvZiB0aGUgZWxlbWVudHMgaW4gdGhlIGNoaWxkcmVuIGxpc3RcbiAgICAgICAgICAgIGlmIChpc093bk11dGF0aW9uKG11dGF0aW9uTGlzdCkpIHJldHVybjtcbiAgICAgICAgICAgIHRvQmVVcGRhdGVkLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgZWxlbWVudC5pc0ZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJlbW92ZUZyb21CZWFnbGVJbmZvTGF5ZXIoZWxlbWVudC5uYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdHJpZ2dlclJlc3RhcnQgPSBwYXJzZVNlYXJjaFBhdGhzUmV0cnkgPj0gUEFSU0VTRUFSQ0hNQVhSRVRSWTtcbiAgICAgICAgICAgIHBhcnNlU2VhcmNoUGF0aHNEZWxheSA9IFBBUlNFU0VBUkNIU1RBUlRERUxBWTtcbiAgICAgICAgICAgIHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA9IDA7XG4gICAgICAgICAgICBpZiAodHJpZ2dlclJlc3RhcnQpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcInNlYXJjaE9iajogdHJpZ2dlcmVkIGEgcmVzdGFydCBvZiBzZWFyY2hwYXRocyBkdWU6IFwiLCBzZWFyY2hFbGVtZW50Lm5hbWUpO1xuICAgICAgICAgICAgICBwYXJzZXJDYWxsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHZhbHVlLCB7c3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlJbm5lclRleHRcIjpcbiAgICAgICAgdmFsdWUgPSBvYmoucXVlcnlTZWxlY3RvcihzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUuaW5uZXJUZXh0ICYmIHZhbHVlLmlubmVyVGV4dC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxheWVyVmFsdWUgPSB2YWx1ZS5pbm5lclRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIjpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYlZhbHVlTGlzdCA9IFtdO1xuICAgICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3JBbGwoc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUubGVuZ3RoID09PSAwKSBicmVhaztcbiAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlY2hpbGQgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYlZhbHVlID0gdmFsdWVjaGlsZC5nZXRBdHRyaWJ1dGUoc2VhcmNoRWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoYXR0cmliVmFsdWUpIHtcbiAgICAgICAgICAgICAgYXR0cmliVmFsdWVMaXN0LnB1c2goYXR0cmliVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhdHRyaWJWYWx1ZUxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGF5ZXJWYWx1ZSA9IGF0dHJpYlZhbHVlTGlzdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlIYXNJbm5lclRleHRcIjpcbiAgICAgICAgdmFsdWUgPSBvYmoucXVlcnlTZWxlY3RvcihzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlLmlubmVyVGV4dC50cmltKCkubGVuZ3RoID4gMDtcbiAgICAgICAgICBsYXllclZhbHVlID0gc2V0VmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb2NRdWVyeUNvdW50RWx0c1wiOlxuICAgICAgICB2YWx1ZSA9IG9iai5xdWVyeVNlbGVjdG9yQWxsKHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxheWVyVmFsdWUgPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5pbm5lclRleHQgJiYgdmFsdWUuaW5uZXJUZXh0LnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGF5ZXJWYWx1ZSA9IHNlYXJjaEVsZW1lbnQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlTdW1OdW1Jbm5lclRleHRcIjpcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3JBbGwoc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUubGVuZ3RoID09PSAwKSBicmVhaztcbiAgICAgICAgICBsZXQgc3VtUHJpY2UgPSAwO1xuICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkVGV4dCA9IGNoaWxkLmlubmVyVGV4dC50cmltKCkucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICAgICAgICAgICAgaWYgKGNoaWxkVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHN1bVByaWNlKz1wYXJzZUludChjaGlsZFRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3VtUHJpY2UgPiAwKSB7XG4gICAgICAgICAgICBsYXllclZhbHVlID0gc3VtUHJpY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5QXJyYXlJbm5lclRleHRcIjpcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3JBbGwoc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUubGVuZ3RoID09PSAwKSBicmVhaztcbiAgICAgICAgICBjb25zdCBhcnJheUlubmVyVGV4dCA9IFtdO1xuICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkVGV4dCA9IGNoaWxkLmlubmVyVGV4dC50cmltKCk7XG4gICAgICAgICAgICBpZiAoY2hpbGRUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgYXJyYXlJbm5lclRleHQucHVzaChjaGlsZFRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXJyYXlJbm5lclRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGF5ZXJWYWx1ZSA9IGFycmF5SW5uZXJUZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhbHVlID0ganNvbkdldChvYmosIHNlYXJjaEVsZW1lbnQuc2VsZWN0b3IpO1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggPiAwIDogdmFsdWUudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICBsYXllclZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfSAvLyBzd2l0Y2hcblxuICAgIGlmIChsYXllclZhbHVlICE9PSB1bmRlZmluZWQgJiYgbGF5ZXJWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuZm9ybWF0dGVyKSB7XG4gICAgICAgIGxheWVyVmFsdWUgPSBwcm9jZXNzRm9ybWF0dGVyKGxheWVyVmFsdWUsIHNlYXJjaEVsZW1lbnQuZm9ybWF0dGVyKTtcbiAgICAgIH1cbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKHNlYXJjaEVsZW1lbnQubmFtZSwgbGF5ZXJWYWx1ZSk7XG4gICAgICBzZWFyY2hFbGVtZW50LmlzRm91bmQgPSB0cnVlO1xuXG4gICAgICAvLyBtYXJrIGV4Y2x1c2l2ZSBlbGVtZW50cyBhcyBmb3VuZFxuICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuZXhjbHVzaXZlICYmIEFycmF5LmlzQXJyYXkoc2VhcmNoRWxlbWVudC5leGNsdXNpdmUpICYmIHNlYXJjaEVsZW1lbnQuZXhjbHVzaXZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBleGNsdXNpdmVFbGVtZW50IG9mIHNlYXJjaFBhdGhzKSB7XG4gICAgICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuZXhjbHVzaXZlLmluY2x1ZGVzKGV4Y2x1c2l2ZUVsZW1lbnQubmFtZSkpIHtcbiAgICAgICAgICAgIGV4Y2x1c2l2ZUVsZW1lbnQuaXNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzZWFyY2hFbGVtZW50LmlzRm91bmQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5lcnJvcihcInNlYXJjaE9iaiBlcnJvcjogXCIgKyBlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBjdXN0b21EYXRhRGVyaXZhdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRQYWdlVHlwZSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiLCB0cnVlLCA1MCwgMTAwMCk7XG5cbiAgdHJ5IHtcbiAgICAvLyBjYXJ0IHRvdGFsIHByb2R1Y3QgcHJpY2UgaXMgbm90IGF2YWlsYWJsZSBhbnl3aGVyZSwgc3BlY2lhbCBkaXNjb3VudHMgZXRjIGFyZSBoYXJkIHRvIHNjcmFwZSwgc28gcmVjYWxjdWxhdGUgaXRcbiAgICBjb25zdCBbaXNDYXJ0RW1wdHksIHRvdGFsQmFzZVByaWNlLCBjb3Vwb25Ob3RBcHBsaWNhYmxlLCBwcmljZXMsIHF1YW50aXRpZXNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImNhcnQuaXNlbXB0eVwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LnRvdGFsQmFzZVByaWNlXCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImNhcnQuY291cG9uTm90QXBwbGljYWJsZVwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LnByaWNlc1wiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LnF1YW50aXRpZXNcIiksXG4gICAgXSk7XG5cbiAgICBsZXQgdG90YWxQcmljZSA9IDA7XG5cbiAgICBpZiAoIXRvdGFsQmFzZVByaWNlICYmIHByaWNlcyAmJiBBcnJheS5pc0FycmF5KHByaWNlcykgJiYgcHJpY2VzLmxlbmd0aCA+IDAgJiYgcXVhbnRpdGllcyAmJiBBcnJheS5pc0FycmF5KHF1YW50aXRpZXMpICYmIHF1YW50aXRpZXMubGVuZ3RoID4gMCAmJiBwcmljZXMubGVuZ3RoID09PSBxdWFudGl0aWVzLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG90YWxQcmljZSArPSBwYXJzZUludChwcmljZXNbaV0pICogcGFyc2VJbnQocXVhbnRpdGllc1tpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvdGFsUHJpY2UgPSBwYXJzZUludCh0b3RhbEJhc2VQcmljZSk7XG4gICAgfVxuXG4gICAgbGV0IGNvdXBvbkFwcGxpY2FibGVBbW91bnQgPSAwO1xuICAgIGlmICghaXNDYXJ0RW1wdHkgJiYgdG90YWxQcmljZSAmJiBjb3Vwb25Ob3RBcHBsaWNhYmxlKSB7XG4gICAgICBjb3Vwb25BcHBsaWNhYmxlQW1vdW50ID0gdG90YWxQcmljZSAtIHBhcnNlSW50KGNvdXBvbk5vdEFwcGxpY2FibGUpO1xuICAgIH0gZWxzZSBpZiAoIWlzQ2FydEVtcHR5ICYmIHRvdGFsUHJpY2UpIHtcbiAgICAgIGNvdXBvbkFwcGxpY2FibGVBbW91bnQgPSBwYXJzZUludCh0b3RhbFByaWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY291cG9uQXBwbGljYWJsZUFtb3VudCA9IDA7XG4gICAgfVxuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY2FydC5jb3Vwb25BcHBsaWNhYmxlQW1vdW50XCIsIGNvdXBvbkFwcGxpY2FibGVBbW91bnQpO1xuXG4gICAgaWYgKGlzQ2FydEVtcHR5KSB7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNhcnQudG90YWxQcmljZVwiLCAwKTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY2FydC5jb3Vwb25Ob3RBcHBsaWNhYmxlXCIsIDApO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5lcnJvcihcImN1c3RvbURhdGFEZXJpdmF0aW9ucyBjYW5ub3QgY29tcHV0ZSBjb3Vwb25BcHBsaWNhYmxlUHJpY2U6IFwiICsgZSk7XG4gIH1cblxuICAvLyBQcm9kdWN0IHBhZ2UgLS0+IHRyYW5zZmVyIHNrdXMgdG8gc2luZ2xlIGxvY2F0aW9uXG4gIGlmIChjdXJyZW50UGFnZVR5cGUgPT09IFwiUHJvZHVjdHBhZ2VcIikge1xuICAgIGNvbnN0IHNrdSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJwZHAuc2t1XCIpO1xuICAgIGlmIChza3UhPT1udWxsICYmIHNrdSE9PXVuZGVmaW5lZCkge1xuICAgICAgYXdhaXQgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJfX2ZlYXR1cmVzLlNLVXNvblBhZ2VcIiwgW3NrdV0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjdXJyZW50UGFnZVR5cGUgPT09IFwiYmFza2V0XCIpIHtcbiAgICBjb25zdCBza3VMaXN0ID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImNhcnQuc2t1c1wiKTtcbiAgICBpZiAoc2t1TGlzdCE9PW51bGwgJiYgQXJyYXkuaXNBcnJheShza3VMaXN0KSAmJiBza3VMaXN0Lmxlbmd0aCkge1xuICAgICAgYXdhaXQgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJfX2ZlYXR1cmVzLlNLVXNvblBhZ2VcIiwgc2t1TGlzdCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBwYXJzZVNlYXJjaFBhdGhzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBkb21TdGF0dXMgPSBkb2N1bWVudC5yZWFkeVN0YXRlO1xuICAvLyBjaGVjayBpZiBkb2N1bWVudCBhbmQgZG9tIGlzIGxvYWRlZCBhbmQgcmVhZHkgZm9yIHNjcmFwcGluZ1xuICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRocyBpbml0aWFsaXplZCB3aXRoIGRvbSBzdGF0dXM6ICBcIiArIGRvbVN0YXR1cyk7XG5cbiAgY29uc3Qgd2ludG9wID0gd2luZG93LnRvcDtcbiAgY29uc3QgZGF0YUxheWVyID0gd2ludG9wLmRhdGFMYXllcjtcbiAgY29uc3Qgd2luZG9jID0gd2ludG9wLmRvY3VtZW50O1xuICBsZXQgc29yZ0FycmF5SW5uZXI7XG5cbiAgY29uc3QgZm91bmROYW1lcyA9IG5ldyBTZXQoKTtcbiAgY29uc3QgcHJldkZvdW5kTmFtZXMgPSBuZXcgU2V0KCk7XG4gIGNvbnN0IG5vdEZvdW5kTmFtZXMgPSBuZXcgU2V0KCk7XG5cbiAgLy8gUGFnZVR5cGUgY2FuIGJlIGluZmVycmVkIGZyb20gVVJMLCBpZiBmb3VuZCB1c2UgaXQgZnJvbSB0aGVyZVxuICBsZXQgY3VycmVudFBhZ2VUeXBlID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIlBhZ2VUeXBlXCIpO1xuXG4gIGlmIChjdXJyZW50UGFnZVR5cGUpIHtcbiAgICBwcmV2Rm91bmROYW1lcy5hZGQoXCJQYWdlVHlwZVwiKTtcbiAgfVxuXG4gIC8vIExvb3AgdGhyb3VnaCBzZWFyY2ggbGlzdHMgYW5kIG1hcmsgZm91bmQgbmFtZXNcbiAgZm9yIChjb25zdCBzZWFyY2hFbGVtZW50IG9mIHNlYXJjaFBhdGhzKSB7XG4gICAgaWYgKHNlYXJjaEVsZW1lbnQuaXNGb3VuZCkge1xuICAgICAgcHJldkZvdW5kTmFtZXMuYWRkKHNlYXJjaEVsZW1lbnQubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBzZWFyY2hFbGVtZW50IG9mIHNlYXJjaFBhdGhzKSB7XG4gICAgaWYgKHNlYXJjaEVsZW1lbnQuaXNGb3VuZCB8fCBzZWFyY2hFbGVtZW50LmlzSWdub3JlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoZm91bmROYW1lcy5oYXMoc2VhcmNoRWxlbWVudC5uYW1lKSB8fCBwcmV2Rm91bmROYW1lcy5oYXMoc2VhcmNoRWxlbWVudC5uYW1lKSkge1xuICAgICAgLy8gaGFkIGFscmVhZHkgZm91bmQgdGhpcyBlbGVtZW50IG9uIGFub3RoZXIgcGFyc2UgaXRlbVxuICAgICAgc2VhcmNoRWxlbWVudC5pc0ZvdW5kID0gdHJ1ZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChzZWFyY2hFbGVtZW50LlBhZ2VUeXBlRGVwZW5kICE9PSBcIipcIikge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZVR5cGUpIHtcbiAgICAgICAgY3VycmVudFBhZ2VUeXBlID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIlBhZ2VUeXBlXCIpO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYWdlVHlwZSkge1xuICAgICAgICAgIG5vdEZvdW5kTmFtZXMuYWRkKHNlYXJjaEVsZW1lbnQubmFtZSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuUGFnZVR5cGVEZXBlbmQuaW5kZXhPZihjdXJyZW50UGFnZVR5cGUpIDwgMCkge1xuICAgICAgICAvLyBza2lwIHNlYXJjaEVsZW1lbnQgYmVjYXVzZSBvZiBQYWdlVHlwZURlcGVuZFxuICAgICAgICBzZWFyY2hFbGVtZW50LmlzSWdub3JlID0gdHJ1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNlYXJjaEVsZW1lbnQubWV0aG9kID09PSBcIlNpbmdsZVdUXCIpIHsgLy8gU0NBTiBXaW5kb3cgZm9yIFNpbmdsZSBFbGVtZW50c1xuICAgICAgc2VhcmNoQW5kU2V0KHdpbnRvcCwgc2VhcmNoRWxlbWVudCwgZm91bmROYW1lcywgbm90Rm91bmROYW1lcyk7XG4gICAgfSBlbHNlIGlmIChzZWFyY2hFbGVtZW50Lm1ldGhvZCA9PT0gXCJHQURhdGFMYXllclwiKSB7IC8vIFNDQU4gR0EgREFUQSBMQVlFUlxuICAgICAgZm9yIChjb25zdCBkYXRhTGF5ZXJJdGVtIG9mIGRhdGFMYXllcikge1xuICAgICAgICBzZWFyY2hBbmRTZXQoZGF0YUxheWVySXRlbSwgc2VhcmNoRWxlbWVudCwgZm91bmROYW1lcywgbm90Rm91bmROYW1lcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzZWFyY2hFbGVtZW50Lm1ldGhvZCA9PT0gXCJEb2NTb3JnXCIpIHsgLy8gU0NBTiBTT1JHIEFSUkFZXG4gICAgICBpZiAoIXNvcmdBcnJheUlubmVyKSB7XG4gICAgICAgIHNvcmdBcnJheUlubmVyID0gZ2V0U09SR0FycmF5KCk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IHNvcmdJdGVtIG9mIHNvcmdBcnJheUlubmVyKSB7XG4gICAgICAgIHNlYXJjaEFuZFNldChzb3JnSXRlbSwgc2VhcmNoRWxlbWVudCwgZm91bmROYW1lcywgbm90Rm91bmROYW1lcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzZWFyY2hFbGVtZW50Lm1ldGhvZCA9PT0gXCJEb2NRdWVyeVwiKSB7IC8vIFNDQU4gRE9DVU1FTlRcbiAgICAgIHNlYXJjaEFuZFNldCh3aW5kb2MsIHNlYXJjaEVsZW1lbnQsIGZvdW5kTmFtZXMsIG5vdEZvdW5kTmFtZXMpO1xuICAgIH0gLy8gRE9DUVVFUlkgcGFyc2VcbiAgfVxuXG4gIGlmIChub3RGb3VuZE5hbWVzLnNpemUgPT09IDApIHtcbiAgICBwYXJzZVNlYXJjaFBhdGhzUmV0cnkgPSBQQVJTRVNFQVJDSE1BWFJFVFJZO1xuICAgIGxvZ2dlci5sb2coXCJwYXJzZVNlYXJjaFBhdGhzIGZvdW5kIGFsbCBlbGVtZW50cyAtIHNldHRpbmcgcmV0cnkgdG8gbWF4XCIpO1xuICB9IGVsc2UgaWYgKGZvdW5kTmFtZXMuc2l6ZSA9PT0gMCkge1xuICAgIC8vIHVwZGF0ZSByZXRyeSBjb3VudGVyIGFuZCBkZWxheSBvbmx5IGlmIGRvbSBpcyBhY3RpdmVcbiAgICBpZiAoZG9tU3RhdHVzID09PSBcImNvbXBsZXRlXCIgfHwgZG9tU3RhdHVzID09PSBcImludGVyYWN0aXZlXCIpIHtcbiAgICAgIHBhcnNlU2VhcmNoUGF0aHNEZWxheSAqPSAyO1xuICAgICAgcGFyc2VTZWFyY2hQYXRoc1JldHJ5ICs9IDE7XG4gICAgfVxuXG4gICAgbG9nZ2VyLmxvZyhcInBhcnNlU2VhcmNoUGF0aHMgcHJvY2Vzc2VkIGJ1dCBub3QgZm91bmQgYW55LCBzZXR0aW5nIGRlbGF5IGFuZCByZXRyeSB0byBcIiArXG4gICAgICBwYXJzZVNlYXJjaFBhdGhzRGVsYXkgKyBcIiBhbmQgXCIgK1xuICAgICAgcGFyc2VTZWFyY2hQYXRoc1JldHJ5ICsgXCIgZm9yIG5vdGZvdW5kOiBbXCIgK1xuICAgICAgQXJyYXkuZnJvbShub3RGb3VuZE5hbWVzKS5qb2luKFwiIHwgXCIpICsgXCJdXCIsXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRocyBwcm9jZXNzZWQ6IG5vdGZvdW5kOiBbXCIgK1xuICAgICAgQXJyYXkuZnJvbShub3RGb3VuZE5hbWVzKS5qb2luKFwiIHwgXCIpICsgXCJdIGFuZCBmb3VuZCBcIiArXG4gICAgICBmb3VuZE5hbWVzLnNpemUsXG4gICAgKTtcbiAgfVxufTtcblxuY29uc3Qgc2VhcmNoQW5kU2V0ID0gKG9iaiwgc2VhcmNoRWxlbWVudCwgZm91bmROYW1lcywgbm90Rm91bmROYW1lcykgPT4ge1xuICBpZiAoc2VhcmNoT2JqKG9iaiwgc2VhcmNoRWxlbWVudCkpIHtcbiAgICBmb3VuZE5hbWVzLmFkZChzZWFyY2hFbGVtZW50Lm5hbWUpO1xuICB9IGVsc2Uge1xuICAgIG5vdEZvdW5kTmFtZXMuYWRkKHNlYXJjaEVsZW1lbnQubmFtZSk7XG4gIH1cbn07XG5cbi8vIHBhcnNlIHNvdXJjZVxuY29uc3QgcGFyc2VyQ2FsbGVyID0gYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGF3YWl0IHBhcnNlU2VhcmNoUGF0aHMoKTtcbiAgaWYgKHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA8IFBBUlNFU0VBUkNITUFYUkVUUlkpIHtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRoczogc2NoZWR1bGVkIHRvIGJlIHJlY2FsbGVkIGluIFwiICsgcGFyc2VTZWFyY2hQYXRoc0RlbGF5ICsgXCJtc1wiKTtcbiAgICBzZXRUaW1lb3V0KGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgYXdhaXQgcGFyc2VyQ2FsbGVyKCk7XG4gICAgfSwgcGFyc2VTZWFyY2hQYXRoc0RlbGF5KTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRoczogcmVhY2hlZCBtYXggcmV0cnksIGNhbGxpbmcgcmVtYWluZGVyIGhpc3RvcmljYWwgZGF0YVwiKTtcbiAgICBhd2FpdCBjdXN0b21EYXRhRGVyaXZhdGlvbnMoKTtcbiAgICBhd2FpdCBjb2xsZWN0RGVyaXZhdGlvbnNGcm9tQ29sbGVjdG9yKCk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJfX0NvbXBsZXRlZFNjcmFwaW5nXCIsIHRydWUpO1xuICB9XG59O1xuXG4vLyBFeHRyYWN0IHZhbHVlIGZyb20ganNvbiBvYmplY3QgdXNpbmcgZ2l2ZW4gcGF0aFxuLy8gSWYgYW4gZWxlbWVudCBpcyAqLCBjb25jYXRlbmF0ZSByZWN1cnNpdmVseSBhbGwgc3ViLXBhdGggdmFsdWVzIGFzIHN0cmluZ1xuY29uc3QganNvbkdldCA9IChvYmosIHBhdGgpID0+IHtcbiAgaWYgKCFvYmopIHJldHVybiBudWxsO1xuICBpZiAoIXBhdGgpIHJldHVybiBudWxsO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcGF0aEFycmF5ID0gcGF0aC5zcGxpdChcIi5cIik7XG4gICAgbGV0IGN1cnJlbnQgPSBvYmo7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChwYXRoQXJyYXlbaV0gPT09IFwiKlwiKSB7XG4gICAgICAgIGNvbnN0IHN1YlBhdGggPSBwYXRoQXJyYXkuc2xpY2UoaSArIDEpLmpvaW4oXCIuXCIpO1xuICAgICAgICBjb25zdCBzdWJBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YktleSBpbiBjdXJyZW50KSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRbc3ViS2V5XSAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRbc3ViS2V5XSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgc3ViVmFsdWUgPSBqc29uR2V0KGN1cnJlbnRbc3ViS2V5XSwgc3ViUGF0aCk7XG4gICAgICAgICAgICBpZiAoc3ViVmFsdWUgIT09IG51bGwgJiYgc3ViVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBzdWJBcnJheS5wdXNoKHN1YlZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YkFycmF5O1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGF0aEFycmF5W2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgcHJlcGFyZUNvcmVEYXRhID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCB3aW5kb3dQdHIgPSB3aW5kb3cudG9wO1xuICBjb25zdCBuYXZQdHIgPSB3aW5kb3dQdHIubmF2aWdhdG9yO1xuXG4gIGNvbnN0IHBsYXRmb3JtID0gd2luZG93UHRyLm5hdmlnYXRvcj8udXNlckFnZW50RGF0YT8ucGxhdGZvcm0gfHxcbiAgICB3aW5kb3dQdHIubmF2aWdhdG9yPy5wbGF0Zm9ybSB8fFxuICAgIHdpbmRvd1B0ci5uYXZpZ2F0b3I/LnVzZXJBZ2VudDtcblxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZQbGF0Zm9ybVwiLCBwbGF0Zm9ybSk7XG5cbiAgLyogd2luZG93IHZpZXcgYXJlYSAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS53aW5kb3dQUmF0aW9cIiwgd2luZG93UHRyLmRldmljZVBpeGVsUmF0aW8pO1xuXG4gIGNvbnN0IGF2YWlsV2luZG93ID0gd2luZG93UHRyLnNjcmVlbj8uYXZhaWxXaWR0aCArIFwieFwiICsgd2luZG93UHRyLnNjcmVlbj8uYXZhaWxIZWlnaHQ7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd0F2YWlsXCIsIGF2YWlsV2luZG93KTtcblxuICBjb25zdCB3aW5kb3dEZXB0aCA9IHdpbmRvd1B0ci5zY3JlZW4/LmNvbG9yRGVwdGggKyBcIi1cIiArIHdpbmRvd1B0ci5zY3JlZW4/LnBpeGVsRGVwdGg7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd0RlcHRoXCIsIHdpbmRvd0RlcHRoKTtcblxuICBjb25zdCB2cG9ydFNoYXBlID0gd2luZG93UHRyLnZpc3VhbFZpZXdwb3J0Py53aWR0aCArIFwieFwiICsgd2luZG93UHRyLnZpc3VhbFZpZXdwb3J0Py5oZWlnaHQ7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd1Zwb3J0XCIsIHZwb3J0U2hhcGUpO1xuXG4gIGlmIChzY3JlZW4ud2lkdGgpIHtcbiAgICBsZXQgd2lkdGggPSBwYXJzZUludChzY3JlZW4ud2lkdGgpO1xuICAgIGxldCBoZWlnaHQgPSAoc2NyZWVuLmhlaWdodCkgPyBwYXJzZUludChzY3JlZW4uaGVpZ2h0KSA6IDA7XG4gICAgaWYgKHdpZHRoICE9PSAwICYmIGhlaWdodCAhPT0gMCkge1xuICAgICAgY29uc3QgaU9TID0gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QocGxhdGZvcm0pO1xuICAgICAgaWYgKGlPUyAmJiB3aW5kb3dQdHIuZGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgICAvLyBpb3MgcHJvdmlkZXMgRFBJcywgbmVlZCB0byBtdWx0aXBseVxuICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGggKiB3aW5kb3dQdHIuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0ICogd2luZG93UHRyLmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgb3JpZW50YXRpb25BbmdsZSA9IHdpbmRvd1B0ci5zY3JlZW4/Lm9yaWVudGF0aW9uPy5hbmdsZTtcbiAgICAgICAgaWYgKE1hdGguYWJzKG9yaWVudGF0aW9uQW5nbGUpID09PSA5MCB8fCBNYXRoLmFicyhvcmllbnRhdGlvbkFuZ2xlKSA9PT0gMjcwKSB7XG4gICAgICAgICAgLy8gd2UgaGF2ZSBsYW5kc2NhcGUgb3JpZW50YXRpb24gc3dpdGNoIHZhbHVlcyBmb3IgYWxsIGV4Y2VwdCBpb3NcbiAgICAgICAgICBjb25zdCB0ZW1wID0gd2lkdGg7XG4gICAgICAgICAgd2lkdGggPSBoZWlnaHQ7XG4gICAgICAgICAgaGVpZ2h0ID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2Uud2luZG93XCIsIHdpZHRoICsgXCJ4XCIgKyBoZWlnaHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qIG5hdmlnYXRvciAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZIaXN0U2l6ZVwiLCB3aW5kb3dQdHIuaGlzdG9yeT8ubGVuZ3RoKTtcblxuICAvLyBjaGVjayBpZiB1c2VyQWdlbnREYXRhIGlzIHN1cHBvcnRlZCBhbmQgdXNlckFnZW50IGlzIG5vdCBhdmFpbGFibGUsIHVzZSBpdFxuICBpZiAoIW5hdlB0ci51c2VyQWdlbnQpIHtcbiAgICBpZiAobmF2UHRyLnVzZXJBZ2VudERhdGEpIHtcbiAgICAgIC8vIHR1cm4gYnJhbmRzIGFycmF5IGludG8gc3RyaW5nXG4gICAgICBsZXQgbmF2QWdlbnQgPSBuYXZQdHI/LnVzZXJBZ2VudERhdGE/LmJyYW5kcz8ubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuYnJhbmQgKyBcIjpcIiArIGUudmVyc2lvbjtcbiAgICAgIH0pLmpvaW4oKTtcbiAgICAgIC8vIGFkZCBtb2JpbGUgaW5mb1xuICAgICAgbmF2QWdlbnQgKz0gKG5hdlB0cj8udXNlckFnZW50RGF0YT8ubW9iaWxlID8gXCJtb2JpXCIgOiBcIiBcIik7XG4gICAgICAvLyBhZGQgcGxhdGZvcm0gaW5mb1xuICAgICAgbmF2QWdlbnQgKz0gcGxhdGZvcm07XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZBZ2VudFwiLCBuYXZBZ2VudCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLm5hdkFnZW50XCIsIG5hdlB0ci51c2VyQWdlbnQpO1xuICB9XG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2SFdDb3Jlc1wiLCBuYXZQdHIuaGFyZHdhcmVDb25jdXJyZW5jeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLm5hdkxhbmd1YWdlXCIsIG5hdlB0ci5sYW5ndWFnZSB8fFxuICAgICAgbmF2UHRyLmJyb3dzZXJMYW5ndWFnZSB8fFxuICAgICAgbmF2UHRyLnN5c3RlbUxhbmd1YWdlIHx8XG4gICAgICBuYXZQdHIudXNlckxhbmd1YWdlLFxuICApO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZUb3VjaFwiLCBuYXZQdHIubWF4VG91Y2hQb2ludHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZWZW5kb3JcIiwgbmF2UHRyLnZlbmRvcik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLmludGVybmV0U3BlZWRcIiwgd2luZG93UHRyLm5hdmlnYXRvcj8uY29ubmVjdGlvbj8uZG93bmxpbmspO1xuXG4gIC8qIG1pc2NlbGxhbmVvdXMgKi9cbiAgY29uc3QgY3VycmVudFVSTCA9IG5ldyBVUkwod2luZG93LnRvcC5sb2NhdGlvbi5ocmVmKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ1XCIsIGN1cnJlbnRVUkwuaHJlZik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZFwiLCBjdXJyZW50VVJMLmhvc3RuYW1lKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkb250dHJhY2tcIiwgbmF2UHRyLmRvTm90VHJhY2sgfHwgd2luZG93UHRyLmRvTm90VHJhY2sgfHwgbmF2UHRyLm1zRG9Ob3RUcmFjayk7XG5cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJyXCIsIHdpbmRvd1B0ci5kb2N1bWVudC5yZWZlcnJlcik7XG4gIGNvbnN0IGZpcnN0U2Vzc2lvblJlZmVycmVyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1JFRkVSUkVSKTtcbiAgaWYgKCFmaXJzdFNlc3Npb25SZWZlcnJlcikge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9SRUZFUlJFUiwgd2luZG93UHRyLmRvY3VtZW50LnJlZmVycmVyKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImZyXCIsIHdpbmRvd1B0ci5kb2N1bWVudC5yZWZlcnJlcik7XG4gIH0gZWxzZSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJmclwiLCBmaXJzdFNlc3Npb25SZWZlcnJlcik7XG4gIH1cblxuICAvKiBWaXZlbnNlIHNwZWNpZmljICovXG4gIGxldCBwYWdlVHlwZTtcbiAgLy8gaWYgdXJsIGxpa2UgeCB0aGVuIHNldCBQYWdlVHlwZSA9IHlcbiAgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcImZhdm9yaWxlcmltLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJmYXZvcml0ZXNcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJzaXBhcmlzLWxpc3Rlc2kuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcImJhc2tldFwiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInNpcGFyaXMtb3pldGkuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInB1cmNoYXNlXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwib2RlbWUuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInBheW1lbnRcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJhZHJlcy1saXN0ZXNpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJhZGRyZXNzXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwic2lwYXJpc2xlcmltLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJwYXN0b3JkZXJzXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwidXllLWtheWl0Lmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJyZWdpc3RlclwiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInV5ZS1naXJpc2kuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInNpZ25pblwiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcImt1cG9ubGFyaW0uaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInByb2ZpbGVfY291cG9uc1wiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInByb2ZpbC1ndW5jZWxsZS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwicHJvZmlsZV9pbmZvXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwiYWRyZXNsZXJpbS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwicHJvZmlsZV9hZGRyZXNzZXNcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJkdXl1cnUtdGVyY2lobGVyaS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwicHJvZmlsZV9ub3RpZmljYXRpb25zXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwiaW5kaXJpbWxpLW1vYmlseWEta2FtcGFueWFsYXJpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJzcGVjaWFsX2NhbXBhaWduc1wiO1xuICB9XG5cbiAgaWYgKHBhZ2VUeXBlKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiLCBwYWdlVHlwZSk7XG4gIH1cbn07XG5cbmNvbnN0IGFkZE1ldHJpY3MgPSBmdW5jdGlvbigpIHtcbiAgY29uc3Qgd2luZG93UHRyID0gd2luZG93LnRvcDtcbiAgY29uc3QgcGVyZk1ldHJpY3MgPSB7fTtcbiAgY29uc3QgcGVyZk5hdmlnYXRpb25NZXRyaWNzID0gd2luZG93UHRyLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpWzBdO1xuICBpZiAod2luZG93UHRyLnBlcmZvcm1hbmNlICYmIHBlcmZOYXZpZ2F0aW9uTWV0cmljcykge1xuICAgIHBlcmZNZXRyaWNzLmNvbm5lY3QgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5jb25uZWN0RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmNvbm5lY3RTdGFydCk7XG4gICAgcGVyZk1ldHJpY3MucmVxdWVzdCA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlRW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlcXVlc3RTdGFydCk7XG4gICAgcGVyZk1ldHJpY3MuZG9tID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tSW50ZXJhY3RpdmUgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tQ29tcGxldGUpO1xuICAgIHBlcmZNZXRyaWNzLmxvYWQgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5sb2FkRXZlbnRFbmQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MubG9hZEV2ZW50U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLmR1cmF0aW9uID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZHVyYXRpb24pO1xuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibWV0cmljc1wiLCBwZXJmTWV0cmljcyk7XG59O1xuXG4vLyBUT0RPOiBtb3ZlIHRoaXMgdG8gYW4gXCJlbGVtZW50IGNvbGxlY3RvclwiIG1vZHVsZSwgdGhlbiBkYXRhIGlzIGV4dHJhY3RlZCBmcm9tIHByZS1jb2xsZWN0ZWQgZWxlbWVudHNcbmNvbnN0IGdldFNPUkdBcnJheSA9ICgpID0+IHtcbiAgY29uc3Qgc2NoZW1hT3JnRWx0cyA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIlt0eXBlPVxcXCJhcHBsaWNhdGlvbi9sZCtqc29uXFxcIl1cIik7XG4gIGNvbnN0IHNvcmdBcnJheSA9IFtdO1xuXG4gIGZvciAoY29uc3Qgc1RhZyBvZiBzY2hlbWFPcmdFbHRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNudG50ID0gc1RhZy50ZXh0Q29udGVudDtcbiAgICAgIGNvbnN0IGpzb25jb250ZW50ID0gSlNPTi5wYXJzZShjbnRudCk7XG4gICAgICBzb3JnQXJyYXkucHVzaChqc29uY29udGVudCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxuICB9XG4gIHJldHVybiBzb3JnQXJyYXk7XG59O1xuIiwiaW1wb3J0IHtMT0dfQVBJX1VSTH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQge2dldEZyb21CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZU1vbml0b3JcIik7XG5jb25zdCBIRUFERVJTID0ge1xuICB0eXBlOiBcInRleHQvcGxhaW5cIixcbn07XG5cbmV4cG9ydCBjbGFzcyBNb25pdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBtb25pdG9yXCIpO1xuXG4gICAgdGhpcy5oYXNBcnJpdmFsTG9nU2VudCA9IGZhbHNlO1xuICAgIHRoaXMuaGFzTWFpbkxvZ1NlbnQgPSBmYWxzZTtcbiAgICB0aGlzLmhhc1VwZGF0ZXNTZW50ID0gZmFsc2U7XG5cbiAgICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBudWxsO1xuXG4gICAgdGhpcy5pbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICAvLyBBdHRlbXB0cyB0byBzZW5kIHRoZSBpbml0aWFsIGxvZyBib2R5IChiZWFnbGVJbmZvTGF5ZXIncyBpbml0aWFsIHBvcHVsYXRpb24pIGltbWVkaWF0ZWx5XG4gIGFzeW5jIHNlbmRMb2dzKGltbWVkaWF0ZSkge1xuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbiBpbW1lZGlhdGUgc2VuZGluZyBibG9ja1wiKTtcbiAgICAgIGF3YWl0IHRoaXMucGFja0FuZFF1ZXVlTWFpbkxvZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIubG9nKFwiSW4gbm9uLWNyaXRpY2FsIHNlbmQgcGF0aCAtIGF3YWl0aW5nIHNjcmFwaW5nXCIpO1xuICAgICAgYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9fQ29tcGxldGVkU2NyYXBpbmdcIiwgdHJ1ZSwgNTAsIDEwMDApO1xuICAgICAgbG9nZ2VyLmxvZyhcIkluIG5vbi1jcml0aWNhbCBzZW5kIHBhdGggLSBzZW5kaW5nIGxvZ3NcIik7XG4gICAgICBhd2FpdCB0aGlzLnBhY2tBbmRRdWV1ZU1haW5Mb2coKTtcbiAgICB9XG4gIH1cblxuICAvLyBTZW5kIGluaXRpYWwgbG9nIGJvZHkgYW5kIGluY3JlbWVudGFsIHVwZGF0ZSBsb2dzIG9uIGNsb3NlXG4gIGFzeW5jIGhhbmRsZUNsb3NlRXZlbnQoKSB7XG4gICAgLy8gaWYgaW5pdGlhbCBsb2cgaGFzIG5vdCBiZWVuIHNlbnQgeWV0LCBzZW5kIHVwZGF0ZXMgYW5kIGluZm9sYXllciBpbiBvbmUgYmF0Y2hcbiAgICBhd2FpdCB0aGlzLnBhY2tBbmRRdWV1ZU1haW5Mb2coKTtcbiAgICAvLyBpZiBtYWluIGxvZyBoYXMgYmVlbiBzZW50LCBzZW5kIGluY3JlbWVudGFsIHVwZGF0ZXMgb25seVxuICAgIGF3YWl0IHRoaXMucGFja0FuZFF1ZXVlSW5jcmVtZW50YWxMb2coKTtcbiAgfVxuXG4gIGFzeW5jIHBhY2tBbmRRdWV1ZU1haW5Mb2coKSB7XG4gICAgaWYgKHRoaXMuaGFzTWFpbkxvZ1NlbnQpIHtcbiAgICAgIC8vIGlmIG1haW4gbG9nIGhhcyBhbHJlYWR5IGJlZW4gc2VudCwgZG8gbm90IHNlbmQgYWdhaW5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjb25zdHJ1Y3QgbWFpbiBsb2dcbiAgICBjb25zdCByZXF1ZXN0QmxvYiA9IGF3YWl0IHRoaXMucGFja2FnZU1haW5Mb2dEYXRhKCk7XG5cbiAgICBpZiAocmVxdWVzdEJsb2IpIHtcbiAgICAgIC8vIHByZXBhcmUgY2hhbmdlIGRldGVjdGlvbiBoYXNoZXMgYXQgdGhlIHRpbWUgb2YgbWFpbiBsb2cgcHJlcGFyYXRpb25cbiAgICAgIGF3YWl0IHRoaXMuY2hlY2tGb3JMYXRlc3RDaGFuZ2VzKCk7XG4gICAgICBsb2dnZXIubG9nKFwiUmVxdWVzdCBibG9iIHRvIHNlbmQ6IFwiLCByZXF1ZXN0QmxvYik7XG4gICAgICB0aGlzLmhhc01haW5Mb2dTZW50ID0gdHJ1ZTtcbiAgICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBwYWNrQW5kUXVldWVJbmNyZW1lbnRhbExvZygpIHtcbiAgICBpZiAoIXRoaXMuaGFzTWFpbkxvZ1NlbnQgfHwgdGhpcy5oYXNVcGRhdGVzU2VudCkge1xuICAgICAgLy8gaWYgbWFpbiBsb2cgaGFzIG5vdCBiZWVuIHNlbnQgeWV0LCB0aGVyZSBpcyBubyBpbmNyZW1lbnRhbCB5ZXRcbiAgICAgIC8vIG9yIGlmIHRoZSB1cGRhdGVzIGhhdmUgYWxyZWFkeSBiZWVuIHNlbnQsIGRvIG5vdCBzZW5kIGFnYWluXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGFzQ2hhbmdlZCA9IGF3YWl0IHRoaXMuY2hlY2tGb3JMYXRlc3RDaGFuZ2VzKCk7XG4gICAgbG9nZ2VyLmxvZyhcIlVwZGF0ZSBsb2dzIGNoYW5nZSBzdGF0dXM6IFwiLCBoYXNDaGFuZ2VkKTtcbiAgICBpZiAoIWhhc0NoYW5nZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGxvZ0RhdGEgPSBhd2FpdCB0aGlzLnBhY2thZ2VJbmNyZW1lbnRhbExvZ0RhdGEoKTtcbiAgICBpZiAobG9nRGF0YSkge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNlbmRpbmcgaW5jcmVtZW50YWwgbG9nc1wiLCBsb2dEYXRhKTtcbiAgICAgIHRoaXMuaGFzVXBkYXRlc1NlbnQgPSB0cnVlO1xuICAgICAgdGhpcy5xdWV1ZUxvZ3MobG9nRGF0YSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcGFja0FuZFF1ZXVlQXJyaXZhbExvZygpIHtcbiAgICBpZiAodGhpcy5oYXNNYWluTG9nU2VudCB8fCB0aGlzLmhhc0Fycml2YWxMb2dTZW50KSB7XG4gICAgICAvLyBpZiBtYWluIGxvZyBvciBhcnJpdmFsIGxvZyBoYXMgYWxyZWFkeSBiZWVuIHNlbnQsIGRvIG5vdCBzZW5kIGFnYWluXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY29uc3RydWN0IG1haW4gbG9nXG4gICAgY29uc3QgcmVxdWVzdEJsb2IgPSBhd2FpdCB0aGlzLnBhY2thZ2VBcnJpdmFsTG9nRGF0YSgpO1xuXG4gICAgaWYgKHJlcXVlc3RCbG9iKSB7XG4gICAgICAvLyBwcmVwYXJlIGNoYW5nZSBkZXRlY3Rpb24gaGFzaGVzIGF0IHRoZSB0aW1lIG9mIG1haW4gbG9nIHByZXBhcmF0aW9uXG4gICAgICBsb2dnZXIubG9nKFwiQXJyaXZhbCBibG9iIHRvIHNlbmQ6IFwiLCByZXF1ZXN0QmxvYik7XG4gICAgICB0aGlzLmhhc0Fycml2YWxMb2dTZW50ID0gdHJ1ZTtcbiAgICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjaGVja0ZvckxhdGVzdENoYW5nZXMoKSB7XG4gICAgY29uc3QgaHdtID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9faHdtXCIpO1xuICAgIGlmICh0aGlzLmhpZ2hXYXRlck1hcmsgIT09IGh3bSkge1xuICAgICAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gaHdtO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGFzeW5jIHBhY2thZ2VBcnJpdmFsTG9nRGF0YSgpIHtcbiAgICBjb25zdCBbdXJsLCBoYXNoLCBjb29raWVHYUlkLCB2aWV3X2Vwb2NoXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJ1XCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIm9uSGFzaFBjdFwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVHYUlkXCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInZpZXdfZXBvY2hcIiksXG4gICAgXSk7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgY29va2llR2FJZDogY29va2llR2FJZCxcbiAgICAgIGxjOiAwLFxuICAgICAgdmlld19lcG9jaDogdmlld19lcG9jaCxcbiAgICAgIHU6IHVybCxcbiAgICAgIG9uSGFzaFBjdDogaGFzaCxcbiAgICB9O1xuXG4gICAgbG9nZ2VyLmxvZyhcIkFycml2YWwgbG9nIGRhdGE6IFwiLCBib2R5KTtcblxuICAgIHJldHVybiBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoYm9keSldLCBIRUFERVJTKTtcbiAgfVxuXG4gIGFzeW5jIHBhY2thZ2VNYWluTG9nRGF0YSgpIHtcbiAgICBjb25zdCBib2R5ID0ge307XG4gICAgaWYgKCF3aW5kb3cuYmVhZ2xlSW5mb0xheWVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMod2luZG93LmJlYWdsZUluZm9MYXllcikpIHtcbiAgICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoXCJfXCIpICYmIHZhbHVlICE9PSBudWxsKSBib2R5W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgYm9keS5sYyA9IDE7XG5cbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgSEVBREVSUyk7XG4gIH1cblxuICBhc3luYyBwYWNrYWdlSW5jcmVtZW50YWxMb2dEYXRhKCkge1xuICAgIGNvbnN0IFthLCBlLCBmLCBzLCBtLCBjb29raWVHYUlkLCB2aWV3X2Vwb2NoXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJhXCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImVcIiksXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiZlwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJzXCIpLFxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIm1cIiksXG4gICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiY29va2llR2FJZFwiKSxcbiAgICAgIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJ2aWV3X2Vwb2NoXCIpLFxuICAgIF0pO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIGNvb2tpZUdhSWQ6IGNvb2tpZUdhSWQsXG4gICAgICBsYzogMixcbiAgICAgIHZpZXdfZXBvY2g6IHZpZXdfZXBvY2gsXG4gICAgICBhLCBlLCBmLCBzLCBtLFxuICAgIH07XG5cbiAgICBsb2dnZXIubG9nKFwiVXBkYXRlIGxvZyBkYXRhOiBcIiwgYm9keSk7XG5cbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgSEVBREVSUyk7XG4gIH1cblxuICBpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGxldCB2aXNpYmlsaXR5Q2hhbmdlVGltZW91dCA9IG51bGw7XG4gICAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBleGl0IGV2ZW50IGxpc3RlbmVyXCIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbiBiZWZvcmV1bmxvYWQgZXZlbnRcIik7XG4gICAgICBjbGVhclRpbWVvdXQodmlzaWJpbGl0eUNoYW5nZVRpbWVvdXQpO1xuICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDbG9zZUV2ZW50KCk7XG4gICAgfSwge2NhcHR1cmU6IHRydWV9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbiBwYWdlaGlkZSBldmVudFwiKTtcbiAgICAgIGNsZWFyVGltZW91dCh2aXNpYmlsaXR5Q2hhbmdlVGltZW91dCk7XG4gICAgICBhd2FpdCB0aGlzLmhhbmRsZUNsb3NlRXZlbnQoKTtcbiAgICB9LCB7Y2FwdHVyZTogdHJ1ZX0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBpZiAod2luZG93LnRvcC5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwiaGlkZGVuXCIpIHtcbiAgICAgICAgLy8gSWYgcGFnZSBpcyBub3QgdmlzaWJsZSBhbmQgZG9lc24ndCBiZWNvbWUgdmlzaWJsZSB3aXRoaW4gMzAgc2Vjb25kcywgc2VuZCBsb2dzXG4gICAgICAgIHZpc2liaWxpdHlDaGFuZ2VUaW1lb3V0ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluIHRpbWVvdXRcIik7XG4gICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDbG9zZUV2ZW50KCk7XG4gICAgICAgIH0sIDMwMDAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gQ2xlYXIgdGltZW91dCB3aGVuIHBhZ2UgaXMgdmlzaWJsZSB0byBtYWtlIHN1cmUgd2Ugc2VuZCB0aGUgbGF0ZXN0IGxvZ3MgcG9zc2libGVcbiAgICAgIGNsZWFyVGltZW91dCh2aXNpYmlsaXR5Q2hhbmdlVGltZW91dCk7XG4gICAgICB2aXNpYmlsaXR5Q2hhbmdlVGltZW91dCA9IG51bGw7XG4gICAgfSwge2NhcHR1cmU6IHRydWV9KTtcbiAgfVxuXG4gIHF1ZXVlTG9ncyhsb2dEYXRhKSB7XG4gICAgaWYgKCFuYXZpZ2F0b3Iuc2VuZEJlYWNvbiB8fCB0eXBlb2YgbmF2aWdhdG9yLnNlbmRCZWFjb24gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZmV0Y2goTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgY29uc3QgcXVldWVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICghcXVldWVkKSBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3MgcXVldWVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIH1cbiAgICB9LCAxMCk7XG4gICAgaWYgKHF1ZXVlZCkgcmV0dXJuO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgIGlmICghcXVldWVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIG5vdCBxdWV1ZWRcIik7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvcjtcbiIsImltcG9ydCB7TE9DQUxfU1RPUkFHRV9LRVlTLCBTRVNTSU9OX1NUT1JBR0VfS0VZUywgTE9DQUxfU1RPUkFHRV9UVExfSE9VUlN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7ZmV0Y2hUcmVhdG1lbnRzLCBmZXRjaFRyZWF0bWVudFdlaWdodHN9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQge2dldEZyb21CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVUcmVhdG1lbnRSZXBvc2l0b3J5XCIpO1xuXG5jbGFzcyBUcmVhdG1lbnRSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHt0cmVhdG1lbnRzLCB0cmVhdG1lbnRXZWlnaHRzfSA9IGJvZHk7XG4gICAgdGhpcy50cmVhdG1lbnRzID0gdHJlYXRtZW50cztcbiAgICB0aGlzLnRyZWF0bWVudFdlaWdodHMgPSB0cmVhdG1lbnRXZWlnaHRzO1xuICAgIHRoaXMuY3VycmVudFBhZ2VUeXBlID0gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRzKCkge1xuICAgIGxvZ2dlci5sb2coXCJMb2FkaW5nIHRyZWF0bWVudHNcIik7XG4gICAgY29uc3Qge1RSRUFUTUVOVFN9ID0gTE9DQUxfU1RPUkFHRV9LRVlTO1xuICAgIGNvbnN0IHRyZWF0bWVudHNPYmogPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShUUkVBVE1FTlRTKSk7XG4gICAgbGV0IHRyZWF0bWVudHMgPSB0cmVhdG1lbnRzT2JqPy50cmVhdG1lbnRzO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IHRyZWF0bWVudHNPYmo/LnRpbWVzdGFtcDtcbiAgICBpZiAoIXRyZWF0bWVudHMgfHwgIXRpbWVzdGFtcCkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIlRyZWF0bWVudHMgbm90IGZvdW5kIGluIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICBpZiAoIXRyZWF0bWVudHMpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZhaWxlZCB0byBmZXRjaCB0cmVhdG1lbnRzXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgIH07XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuTUFUQ0hFRF9UUkVBVE1FTlRTKTtcbiAgICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICAgIH1cbiAgICBpZiAodGltZXN0YW1wKSB7XG4gICAgICBjb25zdCBlbGFwc2VkSG91cnMgPSAoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyAoMTAwMCAqIDM2MDApO1xuICAgICAgaWYgKGVsYXBzZWRIb3VycyA+IExPQ0FMX1NUT1JBR0VfVFRMX0hPVVJTKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJUcmVhdG1lbnRzIGFyZSBleHBpcmVkXCIpO1xuICAgICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICAgIGlmICghdHJlYXRtZW50cykge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJGYWlsZWQgdG8gZmV0Y2ggdHJlYXRtZW50c1wiKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmVhdG1lbnRXaXRoVGltZXN0YW1wID0ge1xuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICB0cmVhdG1lbnRzLFxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5NQVRDSEVEX1RSRUFUTUVOVFMpO1xuICAgICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyLnN1Y2Nlc3MoXCJUcmVhdG1lbnRzIGFyZSBsb2FkZWQgZnJvbSBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFRyZWF0bWVudFdlaWdodHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCB3ZWlnaHRzT2JqID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5XRUlHSFRTKTtcbiAgICAgIGlmICh3ZWlnaHRzT2JqKSB7XG4gICAgICAgIHdlaWdodHNPYmogPSBKU09OLnBhcnNlKHdlaWdodHNPYmopO1xuICAgICAgICBpZiAod2VpZ2h0c09iai50aW1lc3RhbXApIHtcbiAgICAgICAgICBjb25zdCBlbGFwc2VkSG91cnMgPSAoRGF0ZS5ub3coKSAtIHdlaWdodHNPYmoudGltZXN0YW1wKSAvICgxMDAwICogMzYwMCk7XG4gICAgICAgICAgaWYgKGVsYXBzZWRIb3VycyA8IExPQ0FMX1NUT1JBR0VfVFRMX0hPVVJTKSByZXR1cm4gd2VpZ2h0c09iai53ZWlnaHRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3ZWlnaHRzT2JqID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzKCk7XG4gICAgICBpZiAoIXdlaWdodHNPYmopIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZhaWxlZCB0byBmZXRjaCB3ZWlnaHRzXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHdlaWdodHNPYmogPSB7d2VpZ2h0czogd2VpZ2h0c09iaiwgdGltZXN0YW1wOiBEYXRlLm5vdygpfTtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuV0VJR0hUUywgSlNPTi5zdHJpbmdpZnkod2VpZ2h0c09iaikpO1xuICAgICAgcmV0dXJuIHdlaWdodHNPYmoud2VpZ2h0cztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlci53YXJuKGVyci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldE1hdGNoZWRUcmVhdG1lbnRzKGRlYnVnTW9kZSkge1xuICAgIGxldCBDUFQgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiX19lUnVsZXMuUGFnZVR5cGVcIiwgdHJ1ZSk7XG4gICAgQ1BUID0gQ1BUPy5bMF0gfHwgbnVsbDtcbiAgICBpZiAoIUNQVCkgcmV0dXJuIFtdO1xuICAgIHRoaXMuY3VycmVudFBhZ2VUeXBlID0gQ1BUO1xuICAgIGxldCBtYXRjaGVkVHJlYXRtZW50cyA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLk1BVENIRURfVFJFQVRNRU5UUyk7XG4gICAgaWYgKG1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBtYXRjaGVkVHJlYXRtZW50cyA9IGF3YWl0IEpTT04ucGFyc2UobWF0Y2hlZFRyZWF0bWVudHMpO1xuICAgICAgICBtYXRjaGVkVHJlYXRtZW50cyA9IG1hdGNoZWRUcmVhdG1lbnRzLmZpbHRlcigobXQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja1BhZ2VUeXBlKG10LnBhZ2VUeXBlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBsb2dnZXIubG9nKGAke21hdGNoZWRUcmVhdG1lbnRzLmxlbmd0aH0gdHJlYXRtZW50cyB1c2VyIHNlZ21lbnQgbWF0Y2hlZGApO1xuICAgICAgICByZXR1cm4gbWF0Y2hlZFRyZWF0bWVudHM7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkVycm9yIGdldHRpbmcgbWF0Y2hlZCByb2JvdHM6XCIsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH1cbiAgICBtYXRjaGVkVHJlYXRtZW50cyA9IFtdO1xuICAgIGNvbnN0IHt0cmVhdG1lbnRzLCB0cmVhdG1lbnRXZWlnaHRzfSA9IHRoaXM7XG4gICAgY29uc3QgdXNlclNlZ21lbnQgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwic1wiKTtcbiAgICBpZiAoIXVzZXJTZWdtZW50KSByZXR1cm4gbnVsbDtcbiAgICBpZiAodHJlYXRtZW50V2VpZ2h0cykge1xuICAgICAgY29uc3QgdXNlclNlZ21lbnRXZWlnaHRzID0gdHJlYXRtZW50V2VpZ2h0c1t1c2VyU2VnbWVudF07XG4gICAgICBpZiAoIXVzZXJTZWdtZW50V2VpZ2h0cykgcmV0dXJuIFtdO1xuICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgdHJlYXRtZW50cykge1xuICAgICAgICBsZXQgc2VnbWVudGVkV2VpZ2h0ID0gdXNlclNlZ21lbnRXZWlnaHRzW3RyZWF0bWVudC5pZF0/LndlaWdodDtcbiAgICAgICAgaWYgKCFzZWdtZW50ZWRXZWlnaHQpIHtcbiAgICAgICAgICBpZiAodHJlYXRtZW50LmRlcGVuZGFudF9vbl90cmVhdG1lbnQpIHtcbiAgICAgICAgICAgIHNlZ21lbnRlZFdlaWdodCA9IHVzZXJTZWdtZW50V2VpZ2h0c1t0cmVhdG1lbnQuZGVwZW5kYW50X29uX3RyZWF0bWVudF0/LndlaWdodDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRlYnVnTW9kZSAmJiBkZWJ1Z01vZGUgPT09IDEpIHNlZ21lbnRlZFdlaWdodCA9IDEwMDtcbiAgICAgICAgICBpZiAoIXNlZ21lbnRlZFdlaWdodCkgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdHJlYXRtZW50LndlaWdodCA9IHNlZ21lbnRlZFdlaWdodDtcbiAgICAgICAgaWYgKCF0cmVhdG1lbnQuYWN0aW9ucy5zb21lKChhKSA9PiBhLnZhcmlhbnRzKSkge1xuICAgICAgICAgIG1hdGNoZWRUcmVhdG1lbnRzLnB1c2godHJlYXRtZW50KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0cmVhdG1lbnQuYWN0aW9ucykge1xuICAgICAgICAgIGlmICghYWN0aW9uLnZhcmlhbnRzKSBjb250aW51ZTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnRLZXkgb2YgT2JqZWN0LmtleXMoYWN0aW9uLnZhcmlhbnRzKSkge1xuICAgICAgICAgICAgaWYgKHVzZXJTZWdtZW50V2VpZ2h0c1t0cmVhdG1lbnQuaWRdPy52YXJpYW50cyAmJiB1c2VyU2VnbWVudFdlaWdodHNbdHJlYXRtZW50LmlkXT8udmFyaWFudHNbdmFyaWFudEtleV0pIHtcbiAgICAgICAgICAgICAgYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCA9IHVzZXJTZWdtZW50V2VpZ2h0c1t0cmVhdG1lbnQuaWRdLnZhcmlhbnRzW3ZhcmlhbnRLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXRjaGVkVHJlYXRtZW50cy5wdXNoKHRyZWF0bWVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLk1BVENIRURfVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkobWF0Y2hlZFRyZWF0bWVudHMpKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRNYXRjaGVkVHJlYXRtZW50cyhkZWJ1Z01vZGUpO1xuICB9XG5cbiAgY2hlY2tQYWdlVHlwZShwYWdlVHlwZXMpIHtcbiAgICBjb25zdCB7Y3VycmVudFBhZ2VUeXBlfSA9IHRoaXM7XG4gICAgaWYgKHBhZ2VUeXBlcyA9PT0gbnVsbCB8fCBwYWdlVHlwZXMgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBhZ2VUeXBlcykpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJQYWdlIFR5cGVzIHNob3VsZCBiZSBhbiBhcnJheVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHBhZ2VUeXBlc1swXS5zdGFydHNXaXRoKFwiIVwiKSkge1xuICAgICAgcGFnZVR5cGVzID0gcGFnZVR5cGVzLm1hcCgocHQpID0+IHB0LnN1YnN0cigxKSk7XG4gICAgICByZXR1cm4gIXBhZ2VUeXBlcy5pbmNsdWRlcyhjdXJyZW50UGFnZVR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gcGFnZVR5cGVzLmluY2x1ZGVzKGN1cnJlbnRQYWdlVHlwZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJlYXRtZW50UmVwb3NpdG9yeTtcbiIsImV4cG9ydCBjb25zdCByZXBsYWNlQWxsID0gKHN0ciwgZmluZCwgcmVwbGFjZSA9IFwiXCIpID0+IHtcbiAgaWYgKCFzdHIpIHJldHVybiBcIlwiO1xuXG4gIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZmluZCk7XG4gIGlmIChpbmRleCA8IDApIHJldHVybiBzdHI7XG5cbiAgd2hpbGUgKHN0ci5pbmRleE9mKGZpbmQpID49IDApIHtcbiAgICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKGZpbmQpO1xuICAgIHN0ciA9IChpbmRleCA+IDAgPyBzdHIuc3Vic3RyaW5nKDAsIGluZGV4KSA6IFwiXCIpICsgcmVwbGFjZSArIHN0ci5zdWJzdHJpbmcoaW5kZXggKyBmaW5kLmxlbmd0aCk7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufTtcblxuZXhwb3J0IGNvbnN0IHR1cmtpc2hUb0xvd2VyID0gKHN0cikgPT4ge1xuICBpZiAoIXN0ciB8fCB0eXBlb2Ygc3RyICE9PSBcInN0cmluZ1wiKSByZXR1cm4gc3RyO1xuICBsZXQgc3RyaW5nID0gc3RyO1xuICBjb25zdCBsZXR0ZXJzID0ge1wixLBcIjogXCJpXCIsIFwiSVwiOiBcIsSxXCIsIFwixZ5cIjogXCLFn1wiLCBcIsSeXCI6IFwixJ9cIiwgXCLDnFwiOiBcIsO8XCIsIFwiw5ZcIjogXCLDtlwiLCBcIsOHXCI6IFwiw6dcIn07XG4gIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8oKFvEsEnFnsSew5zDh8OWXSkpL2csIGZ1bmN0aW9uKGxldHRlcikge1xuICAgIHJldHVybiBsZXR0ZXJzW2xldHRlcl07XG4gIH0pO1xuICByZXR1cm4gc3RyaW5nLnRvTG93ZXJDYXNlKCk7XG59O1xuIiwiaW1wb3J0IHtyZXBsYWNlQWxsfSBmcm9tIFwiLi4vc3RyaW5nVXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IHtnZXRGcm9tQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJSZXBsYWNlVXRpbHNcIik7XG5cbmNvbnN0IHJlcGxhY2VyID0gYXN5bmMgKHZhbHVlLCByZXBsYWNlRm4pID0+IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgZm9yIChjb25zdCBbaSwgdmFsXSBvZiB2YWx1ZS5lbnRyaWVzKCkpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRSZXBsYWNlRm4gPSBBcnJheS5pc0FycmF5KHJlcGxhY2VGbikgPyByZXBsYWNlRm5baV0gOiByZXBsYWNlRm4gfHwgXCJcIjtcbiAgICAgIGlmICh0eXBlb2YgY3VycmVudFJlcGxhY2VGbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb25zdCByZXBsYWNlVmFsID0gYXdhaXQgcmVwbGFjZU9iamVjdEV4dHJhY3RvcihjdXJyZW50UmVwbGFjZUZuKTtcbiAgICAgICAgdmFsdWVbaV0gPSByZXBsYWNlQWxsKHZhbCwgXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlVmFsKTtcbiAgICAgIH0gZWxzZSB2YWx1ZVtpXSA9IHJlcGxhY2VGbkV4ZWN1dG9yKGN1cnJlbnRSZXBsYWNlRm4sIHZhbCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVwbGFjZUZuKSkge1xuICAgIGZvciAoY29uc3QgckZuIG9mIHJlcGxhY2VGbikge1xuICAgICAgaWYgKHR5cGVvZiByRm4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29uc3QgcmVwbGFjZVZhbCA9IGF3YWl0IHJlcGxhY2VPYmplY3RFeHRyYWN0b3IockZuKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZVZhbCk7XG4gICAgICB9IGVsc2UgdmFsdWUgPSByZXBsYWNlRm5FeGVjdXRvcihyRm4sIHZhbHVlLCB0cnVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiByZXBsYWNlRm4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IHJlcGxhY2VWYWwgPSBhd2FpdCByZXBsYWNlT2JqZWN0RXh0cmFjdG9yKHJlcGxhY2VGbik7XG4gICAgICB2YWx1ZSA9IHJlcGxhY2VBbGwodmFsdWUsIFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZVZhbCk7XG4gICAgfSBlbHNlIHZhbHVlID0gcmVwbGFjZUZuRXhlY3V0b3IocmVwbGFjZUZuLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuZnVuY3Rpb24gcmVwbGFjZUZuRXhlY3V0b3IocmVwbGFjZUZuLCB2YWx1ZSwgc2luZ2xlID0gZmFsc2UpIHtcbiAgaWYgKHJlcGxhY2VGbiAmJiB2YWx1ZS5pbmNsdWRlcyhcInt7UkVQTEFDRX19XCIpKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkV4ZWN1dGluZyByZXBsYWNlIGZ1bmN0aW9uOiBcIiwgcmVwbGFjZUZuKTtcbiAgICBjb25zdCByZXBsYWNlRnVuY3Rpb24gPSBGdW5jdGlvbihyZXBsYWNlRm4pO1xuICAgIGlmIChzaW5nbGUpIHJldHVybiB2YWx1ZS5yZXBsYWNlKFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZUZ1bmN0aW9uKCkpO1xuICAgIHJldHVybiByZXBsYWNlQWxsKHZhbHVlLCBcInt7UkVQTEFDRX19XCIsIHJlcGxhY2VGdW5jdGlvbigpKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlcGxhY2VPYmplY3RFeHRyYWN0b3IocmVwbGFjZUZuKSB7XG4gIGNvbnN0IHtzdG9yYWdlLCBrZXksIGtleUZhbGxiYWNrLCB0eXBlfSA9IHJlcGxhY2VGbjtcbiAgc3dpdGNoIChzdG9yYWdlKSB7XG4gICAgY2FzZSBcInNlc3Npb25cIjoge1xuICAgICAgbGV0IHJlcGxhY2VWYWwgPSBudWxsO1xuICAgICAgcmVwbGFjZVZhbCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICBpZiAoIXJlcGxhY2VWYWwpIHJlcGxhY2VWYWwgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXlGYWxsYmFjayk7XG4gICAgICBpZiAodHlwZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlcGxhY2VWYWwgPSBKU09OLnBhcnNlKHJlcGxhY2VWYWwpO1xuICAgICAgICAgIHJlcGxhY2VWYWwgPSByZXBsYWNlVmFsW3JlcGxhY2VWYWwubGVuZ3RoIC0gMV1bdHlwZV07XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoYENvdWxkIG5vdCBwYXJzZSAke3JlcGxhY2VWYWx9YCk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXBsYWNlVmFsO1xuICAgIH1cbiAgICBjYXNlIFwiaW5mby1sYXllclwiOiB7XG4gICAgICBsZXQgcmVwbGFjZVZhbCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoa2V5KTtcbiAgICAgIGlmICghcmVwbGFjZVZhbCkgcmVwbGFjZVZhbCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoa2V5RmFsbGJhY2spO1xuICAgICAgcmV0dXJuIHJlcGxhY2VWYWw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlcGxhY2VyO1xuIiwiY29uc3QgY29uZmlnID0ge1xuICBkYk5hbWU6IFwiYmVhZ2xlX2NhY2hlXCIsXG4gIHZlcnNpb246IDEsXG4gIHN0b3JlOiB7XG4gICAgbmFtZTogXCJpbmZvQ2FjaGVcIixcbiAgICBpbmRleGVzOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiaXhfc2t1XCIsXG4gICAgICAgIGZpZWxkczogXCJza3VcIixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBvcHRpb25zOiB7a2V5UGF0aDogXCJza3VcIn0sXG4gIH0sXG59O1xuZXhwb3J0IGRlZmF1bHQgY29uZmlnO1xuIiwiaW1wb3J0IHtmZXRjaFByb2R1Y3RJbmZvfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi9zdG9yZS5jb25maWdcIjtcbmltcG9ydCB7YWRkVG9CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkdsb3ZQcm9kdWN0SW5mb1JlcG9zaXRvcnlcIik7XG5jbGFzcyBHbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbmRleGVkREIgPSBudWxsO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBsb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIGluZGV4ZWREQlwiKTtcbiAgICBjb25zdCBvcGVuUmVxdWVzdCA9IHdpbmRvdy50b3AuaW5kZXhlZERCPy5vcGVuKGNvbmZpZy5kYk5hbWUsIGNvbmZpZy52ZXJzaW9uKTtcbiAgICBpZiAoIW9wZW5SZXF1ZXN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbmRleGVkZGIgaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICB9XG5cbiAgICBvcGVuUmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZXZlbnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZlbnQub2xkVmVyc2lvbikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gVE9ETyB1cGdyYWRlIGV4aXN0aW5nIGRiIGluc3RlYWQgb2YgZGVsZXRlIGFuZCBjcmVhdGUgZnJvbSBzY3JhdGNoXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9wZW5SZXF1ZXN0LnJlc3VsdC5kZWxldGVPYmplY3RTdG9yZShjb25maWcuc3RvcmUubmFtZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGRlbGV0ZSBvdXRkYXRlZCBkYXRhYmFzZVwiLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSBvcGVuUmVxdWVzdC5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoY29uZmlnLnN0b3JlLm5hbWUsIGNvbmZpZy5zdG9yZS5vcHRpb25zKTtcbiAgICAgICAgaWYgKGNvbmZpZy5zdG9yZS5pbmRleGVzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBpZHggb2YgY29uZmlnLnN0b3JlLmluZGV4ZXMpIHtcbiAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KGlkeC5uYW1lLCBpZHguZmllbGRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGNyZWF0ZSBvYmplY3Qgc3RvcmUgb24gZGF0YWJhc2VcIiwgZXJyLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBvcGVuUmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIGJlYWdsZV9jYWNoZSBpbmRleGVkIERCXCIsIG9wZW5SZXF1ZXN0LmVycm9yKTtcbiAgICB9O1xuXG4gICAgb3BlblJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgdGhpcy5pbmRleGVkREIgPSBvcGVuUmVxdWVzdC5yZXN1bHQ7XG4gICAgfTtcbiAgfVxuXG4gIGdldENvbm5lY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pbmRleGVkREIpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDI1KTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuaW5kZXhlZERCKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkluZGV4ZWREQiBub3QgaW5pdGlhbGl6ZWQgd2l0aGluIHRoZSBhbGxvdHRlZCB0aW1lXCIpKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwMCk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBpbml0VHJhbnNhY3Rpb24ocmVhZHdyaXRlID0gZmFsc2UpIHtcbiAgICBhd2FpdCB0aGlzLmdldENvbm5lY3Rpb24oKTtcbiAgICBjb25zdCB0eCA9IHRoaXMuaW5kZXhlZERCLnRyYW5zYWN0aW9uKGNvbmZpZy5zdG9yZS5uYW1lLCAocmVhZHdyaXRlID8gXCJyZWFkd3JpdGVcIiA6IFwicmVhZG9ubHlcIikpO1xuICAgIHJldHVybiB0eC5vYmplY3RTdG9yZShjb25maWcuc3RvcmUubmFtZSk7XG4gIH1cblxuICBhc3luYyBzYXZlKHBheWxvYWQpIHtcbiAgICBjb25zdCBzdG9yZSA9IGF3YWl0IHRoaXMuaW5pdFRyYW5zYWN0aW9uKHRydWUpO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHBheWxvYWQpKSB7XG4gICAgICBmb3IgKGNvbnN0IGxvYWQgb2YgcGF5bG9hZCkge1xuICAgICAgICBsb2FkLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgICAgICAgc3RvcmUucHV0KGxvYWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXlsb2FkLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgICAgIHN0b3JlLnB1dChwYXlsb2FkKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjbGVhcigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKHRydWUpLnRoZW4oKHN0b3JlKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsZWFyUmVxdWVzdCA9IHN0b3JlLmNsZWFyKCk7XG4gICAgICAgIGNsZWFyUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjbGVhclJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKGBFcnJvciBjbGVhcmluZyBzdG9yZTogJHtzdG9yZS5uYW1lfWApO1xuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGdldChza3UpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoc3RvcmUpID0+IHtcbiAgICAgICAgY29uc3QgZ2V0UmVxdWVzdCA9IHN0b3JlLmdldChza3UpO1xuICAgICAgICBnZXRSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBnZXRSZXF1ZXN0LnJlc3VsdDtcbiAgICAgICAgICBsb2dnZXIubG9nKGBGb3VuZCB2YWx1ZSAke3Jlc3VsdH0gZm9yIGtleSAke3NrdX1gKTtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICAgIGdldFJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKGBFcnJvciBnZXR0aW5nIHZhbHVlIGZvciBrZXk6ICR7c2t1fWAsIGdldFJlcXVlc3Qub25lcnJvcik7XG4gICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgY291bnQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmluaXRUcmFuc2FjdGlvbigpLnRoZW4oKHN0b3JlKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvdW50UmVxdWVzdCA9IHN0b3JlLmNvdW50KCk7XG4gICAgICAgIGNvdW50UmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gY291bnRSZXF1ZXN0LnJlc3VsdDtcbiAgICAgICAgICBsb2dnZXIubG9nKGBDb3VudGVkICR7cmVzdWx0fSBlbnRyaWVzYCk7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICBjb3VudFJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiRXJyb3IgY291bnRpbmcgZW50cmllczogXCIsIGNvdW50UmVxdWVzdC5vbmVycm9yKTtcbiAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBnZXRDdXJzb3IoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmluaXRUcmFuc2FjdGlvbigpLnRoZW4oKHN0b3JlKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnNvclJlcXVlc3QgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgICAgIGN1cnNvclJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgY3Vyc29yUmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJFcnJvciBnZXR0aW5nIGN1cnNvclwiLCBjdXJzb3JSZXF1ZXN0Lm9uZXJyb3IpO1xuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHBlcnNpc3RQcm9kdWN0SW5mbygpIHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJjaGVjay1leGlzdGluZy1wcm9kLWluZm9cIik7XG4gICAgY29uc3QgZXhpc3RpbmdQcm9kSW5mbyA9IGF3YWl0IHRoaXMuY291bnQoKTtcbiAgICBpZiAoZXhpc3RpbmdQcm9kSW5mbykge1xuICAgICAgbG9nZ2VyLmxvZyhcIkV4aXN0aW5nIHByb2R1Y3QgaW5mbyBmb3VuZFwiKTtcbiAgICAgIGNvbnN0IGN1cnNvciA9IGF3YWl0IHRoaXMuZ2V0Q3Vyc29yKCk7XG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBjdXJzb3IudmFsdWUudGltZXN0YW1wO1xuICAgICAgY29uc3QgZWxhcHNlZFNlY29uZHMgPSAoRGF0ZS5ub3coKSAvIDEwMDApIC0gdGltZXN0YW1wO1xuICAgICAgLy8gUmUtZmV0Y2ggcHJvZHVjdCBpbmZvIG9uY2UgYSBkYXlcbiAgICAgIGlmIChlbGFwc2VkU2Vjb25kcyA8IDg2NDAwKSByZXR1cm47XG4gICAgICBsb2dnZXIubG9nKFwiRXhpc3RpbmcgcHJvZHVjdCBpbmZvIGlzIGV4cGlyZWRcIik7XG4gICAgfVxuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcImZldGNoaW5nLXByb2QtaW5mb1wiKTtcbiAgICBjb25zdCBwcm9kdWN0SW5mb1Byb21pc2UgPSBmZXRjaFByb2R1Y3RJbmZvKCk7XG4gICAgY29uc3QgY2xlYXJQcm9taXNlID0gdGhpcy5jbGVhcigpO1xuICAgIGNvbnN0IFtwcm9kdWN0SW5mb0FycmF5XSA9IGF3YWl0IFByb21pc2UuYWxsKFtwcm9kdWN0SW5mb1Byb21pc2UsIGNsZWFyUHJvbWlzZV0pO1xuICAgIGlmICghcHJvZHVjdEluZm9BcnJheSB8fCAhcHJvZHVjdEluZm9BcnJheS5sZW5ndGgpIHJldHVybjtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJmZXRjaGVkLXByb2QtaW5mb1wiKTtcbiAgICBhd2FpdCB0aGlzLnNhdmUodGhpcy5wcmVwYXJlUGF5bG9hZHMocHJvZHVjdEluZm9BcnJheSkpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcInBlcnNpc3RlZC1wcm9kLWluZm9cIik7XG4gIH1cblxuICBwcmVwYXJlUGF5bG9hZHMocHJvZHVjdEluZm9BcnJheSkge1xuICAgIGNvbnN0IHBheWxvYWRzID0gW107XG4gICAgY29uc3QgZmllbGROYW1lcyA9IHByb2R1Y3RJbmZvQXJyYXkuc2hpZnQoKTtcbiAgICBmaWVsZE5hbWVzLnNoaWZ0KCk7XG4gICAgZm9yIChjb25zdCBpbmZvIG9mIHByb2R1Y3RJbmZvQXJyYXkpIHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7c2t1OiBpbmZvLnNoaWZ0KCl9O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBheWxvYWRbZmllbGROYW1lc1tpXV0gPSBpbmZvW2ldIHx8IDA7XG4gICAgICB9XG4gICAgICBwYXlsb2Fkcy5wdXNoKHBheWxvYWQpO1xuICAgIH1cbiAgICByZXR1cm4gcGF5bG9hZHM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeTtcbiIsImltcG9ydCBHbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5IGZyb20gXCIuL2luZGV4XCI7XG5cbmNvbnN0IFN0b3JlID0gKGZ1bmN0aW9uKCkge1xuICBsZXQgaW5zdGFuY2UgPSBudWxsO1xuICByZXR1cm4ge1xuICAgIGdldEluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChpbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBpbnN0YW5jZSA9IG5ldyBHbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5KCk7XG4gICAgICAgIC8vIEhpZGUgdGhlIGNvbnN0cnVjdG9yIHNvIHRoZSByZXR1cm5lZCBvYmplY3QgY2FuJ3QgYmUgbmV3J2QuLi5cbiAgICAgICAgaW5zdGFuY2UuY29uc3RydWN0b3IgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH0sXG4gIH07XG59KSgpO1xuZXhwb3J0IGRlZmF1bHQgU3RvcmU7XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IFN0b3JlIGZyb20gXCIuLi9HbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5L3N0b3JlXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJBY3Rpb25Db25kaXRpb25VdGlsc1wiKTtcblxuY29uc3QgY2hlY2tBY3Rpb25Db25kaXRpb24gPSBhc3luYyAoY29uZGl0aW9uKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJBY3Rpb24gY29uZGl0aW9uIGZvdW5kOiBcIiwgY29uZGl0aW9uKTtcbiAgY29uc3QgZWxpZ2libGVFbGVtZW50cyA9IFtdO1xuICBjb25zdCB7YXR0cmlidXRlLCBpbm5lcl9jb25kaXRpb24sIG9wZXJhdG9yLCBzZWxlY3RvciwgdHlwZSwgdmFsdWUsIGNoYWlufSA9IGNvbmRpdGlvbjtcbiAgY29uc3QgY29uZGl0aW9uRWxlbWVudHMgPSBBcnJheS5mcm9tKHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY29uZGl0aW9uRWxlbWVudHMpIHtcbiAgICBpZiAoYXdhaXQgYWN0aW9uQ29uZGl0aW9uQ2hlY2tlcihlbGVtZW50LCB0eXBlLCBvcGVyYXRvciwgYXR0cmlidXRlLCBpbm5lcl9jb25kaXRpb24sIHZhbHVlLCBjaGFpbikpIHtcbiAgICAgIGVsaWdpYmxlRWxlbWVudHMucHVzaCgkKGVsZW1lbnQpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsaWdpYmxlRWxlbWVudHM7XG59O1xuXG5jb25zdCBhY3Rpb25Db25kaXRpb25DaGVja2VyID0gYXN5bmMgKGVsZW1lbnQsIHR5cGUsIG9wZXJhdG9yLCBhdHRyaWJ1dGUsIGlubmVyX2NvbmRpdGlvbiwgdmFsdWUsIGNoYWluKSA9PiB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJwcm9kdWN0SW5mb0xvb2t1cFwiOiB7XG4gICAgICBjb25zdCBlbGVtZW50U2t1ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgIGNvbnN0IHByb2R1Y3RJbmZvID0gYXdhaXQgU3RvcmUuZ2V0SW5zdGFuY2UoKS5nZXQoZWxlbWVudFNrdSk7XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBwcm9kdWN0SW5mbz8uW29wZXJhdG9yXTtcbiAgICAgIC8vIHJ1blRpbWVWYWx1ZSBtYXkgYmUgMFxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA9PT0gbnVsbCB8fCBydW5UaW1lVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiUHJvZHVjdCBpbmZvIGlzIGVtcHR5XCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIWNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBpbm5lcl9jb25kaXRpb24sIHZhbHVlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKGNoYWluKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFjdGlvbkNvbmRpdGlvbkNoZWNrZXIoZWxlbWVudCwgY2hhaW4udHlwZSwgY2hhaW4ub3BlcmF0b3IsXG4gICAgICAgICAgICBjaGFpbi5hdHRyaWJ1dGUsIGNoYWluLmlubmVyX2NvbmRpdGlvbiwgY2hhaW4udmFsdWUsIGNoYWluLmNoYWluKTtcbiAgICAgICAgaWYgKCFyZXMpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OiB7XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgICAgaWYgKCFjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgaW5uZXJfY29uZGl0aW9uLCB2YWx1ZSkpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChjaGFpbikge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhY3Rpb25Db25kaXRpb25DaGVja2VyKGVsZW1lbnQsIGNoYWluLnR5cGUsIGNoYWluLm9wZXJhdG9yLFxuICAgICAgICAgICAgY2hhaW4uYXR0cmlidXRlLCBjaGFpbi5pbm5lcl9jb25kaXRpb24sIGNoYWluLnZhbHVlLCBjaGFpbi5jaGFpbik7XG4gICAgICAgIGlmICghcmVzKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2hlY2tBY3Rpb25Db25kaXRpb247XG4iLCJpbXBvcnQge3N0eWxlQXBwbGljYXRvciwgZGVsYXksIGlkbGVUaW1lcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge3JlcGxhY2VBbGwsIHR1cmtpc2hUb0xvd2VyfSBmcm9tIFwiLi4vc3RyaW5nVXRpbHNcIjtcbmltcG9ydCB7TU9CSUxFX01FRElBX1FVRVJZLCBTRVNTSU9OX1NUT1JBR0VfS0VZUywgSURMRV9USU1FT1VUfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgcmVwbGFjZXIgZnJvbSBcIi4vcmVwbGFjZS11dGlsc1wiO1xuaW1wb3J0IGNoZWNrQWN0aW9uQ29uZGl0aW9uIGZyb20gXCIuL2FjdGlvbi1jb25kaXRpb24tdXRpbFwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQge2dldEZyb21CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi4vR2xvdlByb2R1Y3RJbmZvUmVwb3NpdG9yeS9zdG9yZVwiO1xuaW1wb3J0IHthc3luY30gZnJvbSBcIi4uLy4uL291dC9HbG92QWlDbGllbnRTREsvYnVuZGxlXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGFwcGx5QWN0aW9ucyhhY3Rpb25zKSB7XG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVBcHBseUFjdGlvbnNcIik7XG4gIGNvbnN0IHtQT1BVUF9ESVNQTEFZX0ZMQUd9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG5cbiAgY29uc3QgdHJhbnNmb3JtZXIgPSBhc3luYyBmdW5jdGlvbiB0cmFuc2Zvcm1lcihhY3Rpb24sIGVsZW1lbnQgPSBudWxsKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIGFjdGlvbjogXCIsIEpTT04uc3RyaW5naWZ5KGFjdGlvbikpO1xuICAgIGNvbnN0IHtcbiAgICAgIG9wZXJhdG9yLFxuICAgICAgdHlwZSxcbiAgICAgIGFwcGx5RXZlbnQsXG4gICAgICBjb250ZW50U2VsZWN0b3IsXG4gICAgICBzZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yRmFsbGJhY2ssXG4gICAgICBtZENvbmRpdGlvbixcbiAgICAgIG1vdmVfc2VsZWN0b3JfMSxcbiAgICAgIG1vdmVfc2VsZWN0b3JfMixcbiAgICAgIHJlcGxhY2VGbixcbiAgICAgIHBUeXBlLFxuICAgICAgYXR0cmlidXRlLFxuICAgICAgcHJvZHVjdEluZm9TdG9yYWdlLFxuICAgIH0gPSBhY3Rpb247XG4gICAgaWYgKG9wZXJhdG9yID09PSBcIm5vb3BcIikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIk5vb3AgT3BlcmF0b3I6IE5vIG9wZXJhdGlvbiBpcyBhcHBsaWVkIG9uIHRhcmdldCBcIik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IHt2YWx1ZX0gPSBhY3Rpb247XG4gICAgLy8gSWYgYW4gZWxlbWVudCBpcyBwYXNzZWQgdG8gdHJhbnNmb3JtZXIsIHNlbGVjdG9yIGlzIHJlbGF0aXZlIHRvIHBhc3NlZCBlbGVtZW50XG4gICAgZWxlbWVudCA9IGVsZW1lbnQgPyBlbGVtZW50LmZpbmQoc2VsZWN0b3IpIDogJChzZWxlY3Rvcik7XG5cbiAgICBjb25zdCBtYyA9IG1kQ29uZGl0aW9uID8gd2luZG93Lm1hdGNoTWVkaWEobWRDb25kaXRpb24pLm1hdGNoZXMgOiB0cnVlO1xuICAgIGlmICghbWMpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJNZWRpYSBjb25kaXRpb24gbWlzbWF0Y2g6IFwiLCBtZENvbmRpdGlvbik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIChtb3ZlX3NlbGVjdG9yXzEgJiYgIW1vdmVfc2VsZWN0b3JfMikgfHxcbiAgICAgIChtb3ZlX3NlbGVjdG9yXzIgJiYgIW1vdmVfc2VsZWN0b3JfMSlcbiAgICApIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJCb3RoIG1vdmUgc2VsZWN0b3JzIGFyZSByZXF1aXJlZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG1vdmVfc2VsZWN0b3JfMSAmJiBtb3ZlX3NlbGVjdG9yXzIpIHtcbiAgICAgIGlmICghJChtb3ZlX3NlbGVjdG9yXzEpLmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiTW92ZSBzZWxlY3RvciAxIG5vdCBmb3VuZDogXCIsIG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghJChtb3ZlX3NlbGVjdG9yXzIpLmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiTW92ZSBzZWxlY3RvciAyIG5vdCBmb3VuZDogXCIsIG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCEkKHNlbGVjdG9yRmFsbGJhY2spLmxlbmd0aCAmJiBvcGVyYXRvciA9PT0gXCJyZW1vdmVcIikgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChzZWxlY3RvciAhPT0gXCJuby1zZWxlY3RvclwiKSB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBmb3VuZDogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVHJ5aW5nIGZhbGxiYWNrIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKHNlbGVjdG9yRmFsbGJhY2spIGVsZW1lbnQgPSAkKHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJGYWxsYmFjayBzZWxlY3RvciBub3QgZm91bmRcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlcGxhY2VGbikge1xuICAgICAgdmFsdWUgPSBhd2FpdCByZXBsYWNlcih2YWx1ZSwgcmVwbGFjZUZuKTtcbiAgICB9XG4gICAgaWYgKG9wZXJhdG9yID09PSBcInJlbW92ZVwiKSB7XG4gICAgICBpZiAoZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlJlbW92aW5nOiBcIiwgc2VsZWN0b3IpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgfSBlbHNlIGxvZ2dlci5sb2coXCJDYW5ub3QgZm91bmQgZWxlbWVudCB3aXRoIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3IpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5zZXJ0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBiZWZvcmU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgaWYgKFN0cmluZyh2YWx1ZSkuaW5jbHVkZXMoXCJuZC1hZGQtdG8td2luXCIpKSB7XG4gICAgICAgICAgICAkKFwiLm5kLWFkZC10by13aW5cIikucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFmdGVyXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluc2VydGluZyBhZnRlcjogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LmFmdGVyKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFwcGVuZFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBlbmRpbmcgdmFsdWU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5hcHBlbmQodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibW9kYWxcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlbGVtZW50Lm9mZihcImNsaWNrXCIpO1xuICAgICAgICAgICAgY3JlYXRlUG9wdXAodmFsdWUsIGNvbnRlbnRTZWxlY3RvciwgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBlbG0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICBpZiAoZWxtID09IGUudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkaXNwbGF5TW9kYWwodmFsdWUsIGNvbnRlbnRTZWxlY3Rvcik7XG4gICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3B1cFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRykpICE9PSAwKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJQb3B1cCBhbHJlYWR5IGRpc3BsYXllZCBpbiBzZXNzaW9uXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDcmVhdGluZyBQb3B1cDogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChwVHlwZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IGF3YWl0IGdldFByb2R1Y3RJbmZvKHBUeXBlLCB2YWx1ZSwgcHJvZHVjdEluZm9TdG9yYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWF0ZVBvcHVwKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBjb25zdCBtb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJleGl0SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgZXhpdCBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cudG9wLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGRpc3BsYXlQb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgW3IsIGRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInJcIiwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiZFwiLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHIgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGQgPT09IFwic3RyaW5nXCIgJiYgIXIuaW5jbHVkZXMoZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaGlzdG9yeSAmJiB0eXBlb2Ygd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy50b3AuZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Lmhpc3Rvcnkuc3RhdGUgIT09IFwiYmdfbGltYm9cIikgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKFwiYmdfbGltYm9cIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cudG9wLmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBkaXNwbGF5UG9wdXAsIHtvbmNlOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5oaXN0b3J5LnN0YXRlICE9PSBcImJnX2xpbWJvXCIpIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShcImJnX2xpbWJvXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGRpc3BsYXlQb3B1cCwge29uY2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZXIoSURMRV9USU1FT1VULCBkaXNwbGF5UG9wdXApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGRpc3BsYXlQb3B1cCwge29uY2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb3B5SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgY29weSBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb3B5XCIsIGRpc3BsYXlQb3B1cCwge29uY2U6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBhcHBlbmQgcG9wdXAgdG8gYm9keSBhZnRlciB0aW1lb3V0IGV4cGlyZXNcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwKCk7XG4gICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKGBUeXBlOiAke3R5cGV9IG5vdCBmb3VuZCBmb3Igb3BlcmF0b3I6ICR7b3BlcmF0b3J9YCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJlZGl0XCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIHRleHQ6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC50ZXh0KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImh0bWxcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiRWRpdGluZyBodG1sOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHlsZUFwcGxpY2F0b3JcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUNoYW5nZXNNYXAgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJTdHlsZSBDaGFuZ2VzIE1hcDogXCIsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgICAgICBzdHlsZUFwcGxpY2F0b3IoZWxlbWVudCwgc3R5bGVDaGFuZ2VzTWFwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhZGRDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYGFkZGRpbmcgY2xhc3MgdG8gJHtlbGVtZW50fSBuYW1lZCAke3ZhbHVlfWApO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3ModmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVtb3ZlQ2xhc3NcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGByZW1vdmUgY2xhc3MgZnJvbSAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkb2N1bWVudFRpdGxlXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgY2hhbmdpbmcgZG9jdW1lbnQgdGl0bGUgZnJvbSAke2VsZW1lbnR9IHRvICR7dmFsdWV9YCk7XG4gICAgICAgICAgaWYgKGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBpZiAoZXZlbnQgPT0gXCJ0YWJDaGFuZ2VcIikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJjYXRjaGluZyBldmVudCB0YWJjaGFuZ2UuLlwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRpdGxlID0gd2luZG93LnRvcC5kb2N1bWVudC50aXRsZTtcbiAgICAgICAgICAgICAgICB3aW5kb3cudG9wLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZShlLCB2YWx1ZSwgb3JpZ2luYWxUaXRsZSk7XG4gICAgICAgICAgICAgICAgICB9LCAxNTAwMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJVbmtub3duIGVkaXQgdHlwZTogXCIsIHR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwic2V0YXR0cmlidXRlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTZXR0aW5nIGF0dHJpYnV0ZTogXCIsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgc3dpdGNoIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgY2FzZSBcInNyY1wiOlxuICAgICAgICAgIGVsZW1lbnQuY3NzKFwiY29udGVudFwiLCBgdXJsKCR7dmFsdWUudHJpbSgpfSlgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHkgPSB2YWx1ZS5zcGxpdChcIjpcIilbMF0udHJpbSgpO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgIGNvbnN0IHByb3BlcnR5VmFsdWUgPSB2YWx1ZS5zcGxpdChcIjpcIilbMV0udHJpbSgpO1xuXG4gICAgICAgICAgZWxlbWVudC5jc3MocHJvcGVydHksIHByb3BlcnR5VmFsdWUsIFwiIWltcG9ydGFudFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAodmFsdWUuaW5jbHVkZXMoXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBGdW5jdGlvbih2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuYXR0cihhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVW5oYW5kbGVkIGF0dHJpYnV0ZTogU2V0dGluZyBhdHRyaWJ1dGU6IFwiLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInJlcGxhY2VcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlJlcGxhY2luZzogXCIsIHZhbHVlKTtcbiAgICAgIGVsZW1lbnQucmVwbGFjZUFsbCh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzd2FwXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJTd2FwcGluZzogXCIsIG1vdmVfc2VsZWN0b3JfMSwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIGNvbnN0IG4xID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBuMiA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc3dhcE5vZGVzKG4xLCBuMik7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJpbmplY3RzY3JpcHRcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIkluamVjdGluZyBzY3JpcHQ6IFwiLCB2YWx1ZSk7XG4gICAgICBlbGVtZW50LmFwcGVuZChgPHNjcmlwdD4ke3ZhbHVlfTwvc2NyaXB0PmApO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwibW92ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKGBNb3ZpbmcgJHttb3ZlX3NlbGVjdG9yXzF9IHRvICR7bW92ZV9zZWxlY3Rvcl8yfWApO1xuICAgICAgY29uc3Qgc291cmNlID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBkZXN0aW5hdGlvbiA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc291cmNlLnJlbW92ZSgpO1xuICAgICAgZGVzdGluYXRpb24ucHJlcGVuZChzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicHJvZHVjdEluZm9Mb29rdXBcIikge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0UHJvZHVjdEluZm8ocFR5cGUsIHZhbHVlLCBwcm9kdWN0SW5mb1N0b3JhZ2UpO1xuICAgICAgZWxlbWVudC5iZWZvcmUocmVzKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInRleHQtdHJhbnNmb3JtXCIpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiY2FwaXRhbGl6ZVwiOiB7XG4gICAgICAgICAgZm9yIChjb25zdCBlIG9mIEFycmF5LmZyb20oZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGlmIChlLmlubmVyVGV4dD8uaW5jbHVkZXMoXCJcXG5cIikpIHtcbiAgICAgICAgICAgICAgZS5pbm5lclRleHQgPSB0dXJraXNoVG9Mb3dlcihlLmlubmVyVGV4dCkuc3BsaXQoXCJcXG5cIikubWFwKChzZW50ZW5jZSkgPT5cbiAgICAgICAgICAgICAgICBzZW50ZW5jZS5zcGxpdChcIiBcIikubWFwKCh3b3JkKSA9PiB3b3JkLmNoYXJBdCgwKS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKSkuam9pbihcIiBcIiksXG4gICAgICAgICAgICAgICkuam9pbihcIlxcblwiKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLmlubmVyVGV4dCA9IHR1cmtpc2hUb0xvd2VyKGUuaW5uZXJUZXh0KVxuICAgICAgICAgICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgICAgICAgICAubWFwKCh3b3JkKSA9PiB3b3JkLmNoYXJBdCgwKS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKSlcbiAgICAgICAgICAgICAgICAuam9pbihcIiBcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJQTEFDRUhPTERFUlwiOiB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImFpLXN1Z2dlc3RcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0aXRsZS1jaGFuZ2VcIjoge1xuICAgICAgICAgIGNvbnN0IGZpbmFsVGl0bGUgPSBhd2FpdCBwcmVwYXJlRmluYWxUaXRsZSgpO1xuICAgICAgICAgIGVsZW1lbnQuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub2RlVHlwZSA9PSAzO1xuICAgICAgICAgIH0pWzBdLm5vZGVWYWx1ZSA9IGZpbmFsVGl0bGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImFkZC1kZXNjcmlwdGlvblwiOiB7XG4gICAgICAgICAgY29uc3QgZGVzY3JpcHRpb25FbG0gPSBhd2FpdCBwcmVwYXJlRGVzY0VsbSh2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5iZWZvcmUoZGVzY3JpcHRpb25FbG0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJObyBzdWNoIG9wZXJhdG9yIGV4aXN0cyB5ZXRcIiwgb3BlcmF0b3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwcmVwYXJlRGVzY0VsbSA9IGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHJlZ2V4ID0gLzxwW14+XSo+KFtcXHNcXFNdKj8pPFxcL3A+LztcbiAgICBjb25zdCB7c2t1fSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJwZHBcIiwgdHJ1ZSk7XG4gICAgY29uc3QgcHJvZHVjdEluZm8gPSBhd2FpdCBTdG9yZS5nZXRJbnN0YW5jZSgpLmdldChza3UpO1xuICAgIGNvbnN0IHVwZGF0ZWRIdG1sU3RyaW5nID0gdmFsdWUucmVwbGFjZShyZWdleCwgYDxwPiQxJHtwcm9kdWN0SW5mby5tYXJrZXRpbmdDb3B5fTwvcD5gKTtcbiAgICByZXR1cm4gdXBkYXRlZEh0bWxTdHJpbmc7XG4gIH07XG4gIGNvbnN0IHByZXBhcmVGaW5hbFRpdGxlID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHtuYW1lLCBza3V9ID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInBkcFwiLCB0cnVlKTtcbiAgICBjb25zdCBwcm9kdWN0SW5mbyA9IGF3YWl0IFN0b3JlLmdldEluc3RhbmNlKCkuZ2V0KHNrdSk7XG4gICAgY29uc3QgcmVzID0gbmFtZSArIFwiLCBcIiArIHByb2R1Y3RJbmZvLnRpdGxlQXVnbWVudCArIFwiIFwiO1xuICAgIHJldHVybiByZXM7XG4gIH07XG4gIGNvbnN0IHJlcGxhY2VXaXRoVmFsID0gKHZhbHVlLCBodG1sU3RyKSA9PiB7XG4gICAgaWYgKHZhbHVlICYmIGh0bWxTdHIuaW5jbHVkZXMoXCJ7e1JFUExBQ0VfUFJPRFVDVElORk99fVwiKSkge1xuICAgICAgaHRtbFN0ciA9IHJlcGxhY2VBbGwoaHRtbFN0ciwgXCJ7e1JFUExBQ0VfUFJPRFVDVElORk99fVwiLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBodG1sU3RyO1xuICB9O1xuICBjb25zdCBnZXRQcm9kdWN0SW5mbyA9IGFzeW5jICh0eXBlLCB2YWx1ZSwgcHJvZHVjdEluZm9TdG9yYWdlKSA9PiB7XG4gICAgLy8gZ2V0IGtleXMgb2YgcHJvZHVjdEluZm9cbiAgICBjb25zdCBza3VMaXN0ID0gcHJvZHVjdEluZm9TdG9yYWdlID09PSBcImJhc2tldFwiID9cbiAgICBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiX19mZWF0dXJlcy5TS1Vzb25MYXN0Q2FydFZpZXdcIiwgdHJ1ZSkgOlxuICAgIGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJfX2ZlYXR1cmVzLlNLVXNvblBhZ2VcIiwgdHJ1ZSk7XG4gICAgbGV0IHJlcyA9IG51bGw7XG4gICAgaWYgKCFza3VMaXN0IHx8IHNrdUxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm8gc2t1IGZvdW5kXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHByb2R1Y3RJbmZvID0gYXdhaXQgU3RvcmUuZ2V0SW5zdGFuY2UoKS5nZXQoc2t1TGlzdFswXSk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwidHJhbnNhY3Rpb25JbjJXZWVrc1wiOiB7XG4gICAgICAgIHJlcyA9IHJlcGxhY2VXaXRoVmFsKHByb2R1Y3RJbmZvLnNhbGVDbnRWaXNpdG9yc0luMTUudG9TdHJpbmcoKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLlwiKSwgdmFsdWUpO1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nIHRyYW5zY2F0aW9uSW4yV2Vla3MgXCIsIHByb2R1Y3RJbmZvLnNhbGVDbnRWaXNpdG9yc0luMTUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhZGRUb0NhcnRJbjJXZWVrc1wiOiB7XG4gICAgICAgIHJlcyA9IHJlcGxhY2VXaXRoVmFsKHByb2R1Y3RJbmZvLmNhcnRDbnRWaXNpdG9yc0luMTUudG9TdHJpbmcoKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLlwiKSwgdmFsdWUpO1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nIEFkZFRvQ2FydENvdW50IFwiLCBwcm9kdWN0SW5mby5jYXJ0Q250VmlzaXRvcnNJbjE1KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwicHJvZHVjdFZpZXdDb3VudFwiOiB7XG4gICAgICAgIHJlcyA9IHJlcGxhY2VXaXRoVmFsKHByb2R1Y3RJbmZvLnZpZXdDbnRWaXNpdG9yc0luMS50b1N0cmluZygpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgXCIuXCIpLCB2YWx1ZSk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJSZXBsYWNpbmcgcHJvZHVjdFZpZXdDb3VudCBmb3JcIiwgcHJvZHVjdEluZm8udmlld0NudFZpc2l0b3JzSW4xKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIuZmFpbGVkKFwibm8gc3VjaCB0eXBlIGZvdW5kIGZvciBwcm9kdWN0SW5mb0xvb2t1cCBvcGVyYXRvcjogXCIrIHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICBjb25zdCBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlID0gYXN5bmMgKGV2ZW50LCB0aXRsZXMsIG9yaWdpbmFsVGl0bGUpID0+IHtcbiAgICBjb25zdCBwYXJzZWRUaXRsZXMgPSAhQXJyYXkuaXNBcnJheSh0aXRsZXMpID8gW3RpdGxlc10gOiB0aXRsZXM7XG4gICAgZm9yIChjb25zdCBwYXJzZWRUaXRsZSBvZiBwYXJzZWRUaXRsZXMpIHtcbiAgICAgIGlmICh3aW5kb3cudG9wLmRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICB3aW5kb3cudG9wLmRvY3VtZW50LnRpdGxlID0gcGFyc2VkVGl0bGU7XG4gICAgICAgIGF3YWl0IGRlbGF5KDIwMDApO1xuICAgICAgICB3aW5kb3cudG9wLmRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMjAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cudG9wLmRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF3aW5kb3cudG9wLmRvY3VtZW50LmhpZGRlbikge1xuICAgICAgd2luZG93LnRvcC5kb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UoZXZlbnQsIHRpdGxlcywgb3JpZ2luYWxUaXRsZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvcHVwQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBpZCA9IGV2ZW50LnRhcmdldC5pZDtcbiAgICBpZiAoaWQgJiYgaWQgPT09IFwibmQtcG9wdXBfX3dyYXBwZXJcIikge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVNb2RhbENsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgY2xhc3NMaXN0ID0gZXZlbnQudGFyZ2V0LmNsYXNzTGlzdDtcbiAgICBpZiAoY2xhc3NMaXN0ICYmIGNsYXNzTGlzdC5jb250YWlucyhcIm5kLW1vZGFsX193cmFwcGVyXCIpKSB7XG4gICAgICAkKFwiLm5kLW1vZGFsX193cmFwcGVyXCIpLmhpZGUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTW9kYWxDbGljaywgdHJ1ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGhhbmRsZU1vZGFsQ2xpY2ssIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNwbGF5UG9wdXAgPSAoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy50b3AuZG9jdW1lbnQuaGlkZGVuKSByZXR1cm47XG4gICAgaWYgKHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKSkgPiAwKSByZXR1cm47XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDEpO1xuICAgIGNvbnN0IHFQb3B1cCA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNncnQtc2hhZG93LWhvc3RcIik7XG4gICAgaWYgKHFQb3B1cCkgcVBvcHVwLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwibm9uZVwiO1xuICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKS5zdHlsZVtcImRpc3BsYXlcIl0gPSBcImJsb2NrXCI7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuXG4gICAgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb3B5XCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcbiAgICB3aW5kb3cudG9wLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGRpc3BsYXlQb3B1cCk7XG4gICAgd2luZG93LnRvcC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfSwgMTUwMDApO1xuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXlNb2RhbCA9ICh2YWx1ZSwgY29udGVudFNlbGVjdG9yKSA9PiB7XG4gICAgaWYgKHdpbmRvdy50b3AuZG9jdW1lbnQuaGlkZGVuKSByZXR1cm47XG4gICAgY29uc3QgcVBvcHVwID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dydC1zaGFkb3ctaG9zdFwiKTtcbiAgICBpZiAocVBvcHVwKSBxUG9wdXAuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJub25lXCI7XG4gICAgaWYgKCF3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmQtbW9kYWxfX3dyYXBwZXJcIikpIGNyZWF0ZVBvcHVwKHZhbHVlLCBjb250ZW50U2VsZWN0b3IsIHRydWUpO1xuICAgIHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZC1tb2RhbF9fd3JhcHBlclwiKS5zdHlsZVtcImRpc3BsYXlcIl0gPSBcImJsb2NrXCI7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU1vZGFsQ2xpY2ssIHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVBvcHVwID0gKHZhbHVlLCBjb250ZW50U2VsZWN0b3IsIGlzTW9kYWw9ZmFsc2UpID0+IHtcbiAgICAvLyBDcmVhdGUgcG9wdXAgd3JhcHBlclxuICAgIGNvbnN0IHBvcHVwV3JhcHBlciA9IHdpbmRvdy50b3AuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgIHBvcHVwV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwibmQtcG9wdXBfX3dyYXBwZXJcIik7XG4gICAgaWYgKGlzTW9kYWwpIHBvcHVwV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwibmQtbW9kYWxfX3dyYXBwZXJcIik7XG4gICAgaWYgKCFpc01vZGFsKSBwb3B1cFdyYXBwZXIuaWQgPSBcIm5kLXBvcHVwX193cmFwcGVyXCI7XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgcG9wdXBDbG9zZUJ1dHRvbiA9IHdpbmRvdy50b3AuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBwb3B1cENsb3NlQnV0dG9uU3R5bGUgPSBpc01vZGFsID8gXCJuZC1wb3B1cF9fYnV0dG9uLWNsb3NlX19jb2xvcmVkXCIgOiBcIm5kLXBvcHVwX19idXR0b24tY2xvc2VcIjtcbiAgICBwb3B1cENsb3NlQnV0dG9uLmNsYXNzTGlzdC5hZGQocG9wdXBDbG9zZUJ1dHRvblN0eWxlKTtcbiAgICBwb3B1cENsb3NlQnV0dG9uLmlubmVyVGV4dCA9IFwiWFwiO1xuICAgIGlmIChpc01vZGFsKSB7XG4gICAgICBwb3B1cENsb3NlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICQoXCIubmQtbW9kYWxfX3dyYXBwZXJcIikuaGlkZSgpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU1vZGFsQ2xpY2ssIHRydWUpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9wdXBDbG9zZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoY29udGVudFNlbGVjdG9yKSB7XG4gICAgICBjb25zdCBjb250ZW50cyA9IEFycmF5LmZyb20od2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbnRlbnRTZWxlY3RvcikpO1xuICAgICAgd2hpbGUgKHZhbHVlLmluY2x1ZGVzKFwie3tSRVBMQUNFfX1cIikgJiYgY29udGVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCJ7e1JFUExBQ0V9fVwiLCBjb250ZW50cy5zaGlmdCgpLnNyYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGZyb20gYWN0aW9uIGFuZCBhcHBlbmQgY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgdGVtcGxhdGUgPSB3aW5kb3cudG9wLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZS50cmltKCk7XG4gICAgY29uc3QgcG9wdXAgPSB0ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgcG9wdXAuYXBwZW5kQ2hpbGQocG9wdXBDbG9zZUJ1dHRvbik7XG4gICAgcG9wdXBXcmFwcGVyLmFwcGVuZENoaWxkKHBvcHVwKTtcblxuICAgIC8vIFJlbW92ZSBvbGQgcG9wdXAgaWYgZXhpc3RzIGJlZm9yZSBhcHBlbmRpbmcgbmV3IG9uZVxuICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgd2luZG93LnRvcC5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBvcHVwV3JhcHBlcik7XG4gIH07XG5cbiAgY29uc3Qgc3dhcE5vZGVzID0gZnVuY3Rpb24gc3dhcE5vZGVzKG4xLCBuMikge1xuICAgIGNvbnN0IHAxID0gbjEucGFyZW50Tm9kZTtcbiAgICBjb25zdCBwMiA9IG4yLnBhcmVudE5vZGU7XG4gICAgbGV0IGkxO1xuICAgIGxldCBpMjtcblxuICAgIGlmICghcDEgfHwgIXAyIHx8IHAxLmlzRXF1YWxOb2RlKG4yKSB8fCBwMi5pc0VxdWFsTm9kZShuMSkpIHJldHVybjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMS5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMSkpIHtcbiAgICAgICAgaTEgPSBpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAyLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocDIuY2hpbGRyZW5baV0uaXNFcXVhbE5vZGUobjIpKSB7XG4gICAgICAgIGkyID0gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocDEuaXNFcXVhbE5vZGUocDIpICYmIGkxIDwgaTIpIHtcbiAgICAgIGkyKys7XG4gICAgfVxuICAgIHAxLmluc2VydEJlZm9yZShuMiwgcDEuY2hpbGRyZW5baTFdKTtcbiAgICBwMi5pbnNlcnRCZWZvcmUobjEsIHAyLmNoaWxkcmVuW2kyXSk7XG4gIH07XG5cbiAgY29uc3Qgd2FpdEZvckpRdWVyeSA9ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGlmICghd2luZG93LmpRdWVyeSkge1xuICAgICAgICBsb2dnZXIubG9nKFwialF1ZXJ5IG5vdCBmb3VuZCwgcmV0cnlpbmdcIik7XG4gICAgICAgIGNvbnN0IGpRdWVyeUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGpRdWVyeUludGVydmFsKTtcbiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAyNSk7XG4gICAgICAgIHNldFRpbWVvdXQoYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChqUXVlcnlJbnRlcnZhbCk7XG4gICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgfSBlbHNlIHJlc29sdmUodHJ1ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgYWN0aW9uQXBwbGljYXRvciA9IGFzeW5jIChhY3Rpb25zKSA9PiB7XG4gICAgaWYgKGF3YWl0IHdhaXRGb3JKUXVlcnkoKSkge1xuICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoYWN0aW9uLmNvbmRpdGlvbikge1xuICAgICAgICAgICAgY29uc3QgZWxpZ2libGVFbGVtZW50cyA9IGF3YWl0IGNoZWNrQWN0aW9uQ29uZGl0aW9uKGFjdGlvbi5jb25kaXRpb24pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsaWdpYmxlRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdHJhbnNmb3JtZXIoYWN0aW9uLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgcmVzdWx0ID0gYXdhaXQgdHJhbnNmb3JtZXIoYWN0aW9uKTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChgQ291bGRuJ3QgYXBwbHkgYWN0aW9uICR7SlNPTi5zdHJpbmdpZnkoYWN0aW9uKX0gd2l0aCBlcnJvciAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICAgIHJldHVybiBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkpxdWVyeSBub3QgZm91bmQgb24gd2luZG93XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvLyBBcHBseSBhY3Rpb25zXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFjdGlvbkFwcGxpY2F0b3IoYWN0aW9ucyk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZGVmYXVsdCBhcHBseUFjdGlvbnM7XG4iLCJjb25zdCBFX1RJTUVPVVQgPSBuZXcgRXJyb3IoJ3RpbWVvdXQgd2hpbGUgd2FpdGluZyBmb3IgbXV0ZXggdG8gYmVjb21lIGF2YWlsYWJsZScpO1xuY29uc3QgRV9BTFJFQURZX0xPQ0tFRCA9IG5ldyBFcnJvcignbXV0ZXggYWxyZWFkeSBsb2NrZWQnKTtcbmNvbnN0IEVfQ0FOQ0VMRUQgPSBuZXcgRXJyb3IoJ3JlcXVlc3QgZm9yIGxvY2sgY2FuY2VsZWQnKTtcblxudmFyIF9fYXdhaXRlciQyID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5jbGFzcyBTZW1hcGhvcmUge1xuICAgIGNvbnN0cnVjdG9yKF92YWx1ZSwgX2NhbmNlbEVycm9yID0gRV9DQU5DRUxFRCkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IF92YWx1ZTtcbiAgICAgICAgdGhpcy5fY2FuY2VsRXJyb3IgPSBfY2FuY2VsRXJyb3I7XG4gICAgICAgIHRoaXMuX3dlaWdodGVkUXVldWVzID0gW107XG4gICAgICAgIHRoaXMuX3dlaWdodGVkV2FpdGVycyA9IFtdO1xuICAgIH1cbiAgICBhY3F1aXJlKHdlaWdodCA9IDEpIHtcbiAgICAgICAgaWYgKHdlaWdodCA8PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHdlaWdodCAke3dlaWdodH06IG11c3QgYmUgcG9zaXRpdmVgKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fd2VpZ2h0ZWRRdWV1ZXNbd2VpZ2h0IC0gMV0pXG4gICAgICAgICAgICAgICAgdGhpcy5fd2VpZ2h0ZWRRdWV1ZXNbd2VpZ2h0IC0gMV0gPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3dlaWdodGVkUXVldWVzW3dlaWdodCAtIDFdLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcnVuRXhjbHVzaXZlKGNhbGxiYWNrLCB3ZWlnaHQgPSAxKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIkMih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IFt2YWx1ZSwgcmVsZWFzZV0gPSB5aWVsZCB0aGlzLmFjcXVpcmUod2VpZ2h0KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGNhbGxiYWNrKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHdhaXRGb3JVbmxvY2sod2VpZ2h0ID0gMSkge1xuICAgICAgICBpZiAod2VpZ2h0IDw9IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgd2VpZ2h0ICR7d2VpZ2h0fTogbXVzdCBiZSBwb3NpdGl2ZWApO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fd2VpZ2h0ZWRXYWl0ZXJzW3dlaWdodCAtIDFdKVxuICAgICAgICAgICAgICAgIHRoaXMuX3dlaWdodGVkV2FpdGVyc1t3ZWlnaHQgLSAxXSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fd2VpZ2h0ZWRXYWl0ZXJzW3dlaWdodCAtIDFdLnB1c2gocmVzb2x2ZSk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaXNMb2NrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSA8PSAwO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9kaXNwYXRjaCgpO1xuICAgIH1cbiAgICByZWxlYXNlKHdlaWdodCA9IDEpIHtcbiAgICAgICAgaWYgKHdlaWdodCA8PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHdlaWdodCAke3dlaWdodH06IG11c3QgYmUgcG9zaXRpdmVgKTtcbiAgICAgICAgdGhpcy5fdmFsdWUgKz0gd2VpZ2h0O1xuICAgICAgICB0aGlzLl9kaXNwYXRjaCgpO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHRoaXMuX3dlaWdodGVkUXVldWVzLmZvckVhY2goKHF1ZXVlKSA9PiBxdWV1ZS5mb3JFYWNoKChlbnRyeSkgPT4gZW50cnkucmVqZWN0KHRoaXMuX2NhbmNlbEVycm9yKSkpO1xuICAgICAgICB0aGlzLl93ZWlnaHRlZFF1ZXVlcyA9IFtdO1xuICAgIH1cbiAgICBfZGlzcGF0Y2goKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgZm9yIChsZXQgd2VpZ2h0ID0gdGhpcy5fdmFsdWU7IHdlaWdodCA+IDA7IHdlaWdodC0tKSB7XG4gICAgICAgICAgICBjb25zdCBxdWV1ZUVudHJ5ID0gKF9hID0gdGhpcy5fd2VpZ2h0ZWRRdWV1ZXNbd2VpZ2h0IC0gMV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKCFxdWV1ZUVudHJ5KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHRoaXMuX3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNXZWlnaHQgPSB3ZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSAtPSB3ZWlnaHQ7XG4gICAgICAgICAgICB3ZWlnaHQgPSB0aGlzLl92YWx1ZSArIDE7XG4gICAgICAgICAgICBxdWV1ZUVudHJ5LnJlc29sdmUoW3ByZXZpb3VzVmFsdWUsIHRoaXMuX25ld1JlbGVhc2VyKHByZXZpb3VzV2VpZ2h0KV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RyYWluVW5sb2NrV2FpdGVycygpO1xuICAgIH1cbiAgICBfbmV3UmVsZWFzZXIod2VpZ2h0KSB7XG4gICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjYWxsZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZSh3ZWlnaHQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBfZHJhaW5VbmxvY2tXYWl0ZXJzKCkge1xuICAgICAgICBmb3IgKGxldCB3ZWlnaHQgPSB0aGlzLl92YWx1ZTsgd2VpZ2h0ID4gMDsgd2VpZ2h0LS0pIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fd2VpZ2h0ZWRXYWl0ZXJzW3dlaWdodCAtIDFdKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy5fd2VpZ2h0ZWRXYWl0ZXJzW3dlaWdodCAtIDFdLmZvckVhY2goKHdhaXRlcikgPT4gd2FpdGVyKCkpO1xuICAgICAgICAgICAgdGhpcy5fd2VpZ2h0ZWRXYWl0ZXJzW3dlaWdodCAtIDFdID0gW107XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciBfX2F3YWl0ZXIkMSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuY2xhc3MgTXV0ZXgge1xuICAgIGNvbnN0cnVjdG9yKGNhbmNlbEVycm9yKSB7XG4gICAgICAgIHRoaXMuX3NlbWFwaG9yZSA9IG5ldyBTZW1hcGhvcmUoMSwgY2FuY2VsRXJyb3IpO1xuICAgIH1cbiAgICBhY3F1aXJlKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBbLCByZWxlYXNlcl0gPSB5aWVsZCB0aGlzLl9zZW1hcGhvcmUuYWNxdWlyZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlbGVhc2VyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcnVuRXhjbHVzaXZlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW1hcGhvcmUucnVuRXhjbHVzaXZlKCgpID0+IGNhbGxiYWNrKCkpO1xuICAgIH1cbiAgICBpc0xvY2tlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbWFwaG9yZS5pc0xvY2tlZCgpO1xuICAgIH1cbiAgICB3YWl0Rm9yVW5sb2NrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VtYXBob3JlLndhaXRGb3JVbmxvY2soKTtcbiAgICB9XG4gICAgcmVsZWFzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NlbWFwaG9yZS5pc0xvY2tlZCgpKVxuICAgICAgICAgICAgdGhpcy5fc2VtYXBob3JlLnJlbGVhc2UoKTtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VtYXBob3JlLmNhbmNlbCgpO1xuICAgIH1cbn1cblxudmFyIF9fYXdhaXRlciA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuZnVuY3Rpb24gd2l0aFRpbWVvdXQoc3luYywgdGltZW91dCwgdGltZW91dEVycm9yID0gRV9USU1FT1VUKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWNxdWlyZTogKHdlaWdodCkgPT4ge1xuICAgICAgICAgICAgaWYgKHdlaWdodCAhPT0gdW5kZWZpbmVkICYmIHdlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHdlaWdodCAke3dlaWdodH06IG11c3QgYmUgcG9zaXRpdmVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlzVGltZW91dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpc1RpbWVvdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QodGltZW91dEVycm9yKTtcbiAgICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aWNrZXQgPSB5aWVsZCBzeW5jLmFjcXVpcmUod2VpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsZWFzZSA9IEFycmF5LmlzQXJyYXkodGlja2V0KSA/IHRpY2tldFsxXSA6IHRpY2tldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aWNrZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgcnVuRXhjbHVzaXZlKGNhbGxiYWNrLCB3ZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlbGVhc2UgPSAoKSA9PiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlja2V0ID0geWllbGQgdGhpcy5hY3F1aXJlKHdlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRpY2tldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2UgPSB0aWNrZXRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgY2FsbGJhY2sodGlja2V0WzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2UgPSB0aWNrZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZWxlYXNlKHdlaWdodCkge1xuICAgICAgICAgICAgc3luYy5yZWxlYXNlKHdlaWdodCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW5jLmNhbmNlbCgpO1xuICAgICAgICB9LFxuICAgICAgICB3YWl0Rm9yVW5sb2NrOiAod2VpZ2h0KSA9PiB7XG4gICAgICAgICAgICBpZiAod2VpZ2h0ICE9PSB1bmRlZmluZWQgJiYgd2VpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgd2VpZ2h0ICR7d2VpZ2h0fTogbXVzdCBiZSBwb3NpdGl2ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBzeW5jLndhaXRGb3JVbmxvY2sod2VpZ2h0KS50aGVuKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KHRpbWVvdXRFcnJvciksIHRpbWVvdXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGlzTG9ja2VkOiAoKSA9PiBzeW5jLmlzTG9ja2VkKCksXG4gICAgICAgIGdldFZhbHVlOiAoKSA9PiBzeW5jLmdldFZhbHVlKCksXG4gICAgICAgIHNldFZhbHVlOiAodmFsdWUpID0+IHN5bmMuc2V0VmFsdWUodmFsdWUpLFxuICAgIH07XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGlzbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gdHJ5QWNxdWlyZShzeW5jLCBhbHJlYWR5QWNxdWlyZWRFcnJvciA9IEVfQUxSRUFEWV9MT0NLRUQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiB3aXRoVGltZW91dChzeW5jLCAwLCBhbHJlYWR5QWNxdWlyZWRFcnJvcik7XG59XG5cbmV4cG9ydCB7IEVfQUxSRUFEWV9MT0NLRUQsIEVfQ0FOQ0VMRUQsIEVfVElNRU9VVCwgTXV0ZXgsIFNlbWFwaG9yZSwgdHJ5QWNxdWlyZSwgd2l0aFRpbWVvdXQgfTtcbiIsImltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IGFwcGx5QWN0aW9ucyBmcm9tIFwiLi4vQmVhZ2xlQXBwbHlBY3Rpb25zL2luZGV4XCI7XG5pbXBvcnQge1xuICBhZGRUcmVhdG1lbnQsXG4gIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIsXG4gIGFkZERhdGFMaXN0ZW5lcixcbn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgVFJFQVRNRU5UX1JBVElPLFxuICBNT0JJTEVfTUVESUFfUVVFUlksXG59IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIGRldGVybWluZVBjdCxcbiAgcHJlcGFyZUFjdGlvbnMsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtNdXRleH0gZnJvbSBcImFzeW5jLW11dGV4XCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVSb2JvdEVuZ2luZVwiKTtcbmNvbnN0IE9CU0VSVkVSX0NPTkZJRyA9IHtzdWJ0cmVlOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIGF0dHJpYnV0ZXM6IHRydWV9O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb2JvdEVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7ZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMsIGRlYnVnTW9kZSwgbWF0Y2hlZFRyZWF0bWVudHMsIGlkZW50aWZpZXIsIHBhZ2VUeXBlfSA9IGJvZHk7XG4gICAgdGhpcy5lbmdhZ2VtZW50TG9jayA9IHt9O1xuICAgIHRoaXMucGFnZVR5cGUgPSBwYWdlVHlwZTtcbiAgICB0aGlzLmRlYnVnTW9kZSA9IGRlYnVnTW9kZTtcbiAgICB0aGlzLmlkZW50aWZpZXIgPSBpZGVudGlmaWVyO1xuICAgIHRoaXMucmVBcHBseVRyZWF0bWVudHNNYXAgPSB7fTtcbiAgICB0aGlzLmFkZGVkRGF0YUxpc3RlbmVySWRzID0gW107XG4gICAgdGhpcy5tYXRjaGVkVHJlYXRtZW50cyA9IG1hdGNoZWRUcmVhdG1lbnRzO1xuICAgIHRoaXMuZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgPSBkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cztcbiAgICB0aGlzLmlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzO1xuICB9XG5cbiAgYXN5bmMgZW5nYWdlUm9ib3RzKCkge1xuICAgIGNvbnN0IHJvYm90UHJvbWlzZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiB0aGlzLm1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodHJlYXRtZW50LmRlcGVuZGFudF9vbl90cmVhdG1lbnQpIGNvbnRpbnVlO1xuICAgICAgICByb2JvdFByb21pc2VzLnB1c2godGhpcy5lbmdhZ2VSb2JvdCh0cmVhdG1lbnQpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIuZmFpbGVkKGBFcnJvciBlbmdhZ2luZyByb2JvdCAke3RyZWF0bWVudC5pZH06ICR7ZXJyLm1lc3NhZ2UgfHwgZXJyfWApO1xuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCBQcm9taXNlLmFsbChyb2JvdFByb21pc2VzKTtcbiAgICB0aGlzLmluaXRpYXRlUmVhcHBseVJvYm90TWFwKCk7XG4gIH1cblxuICBhc3luYyBlbmdhZ2VSb2JvdCh0cmVhdG1lbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIGFjdGlvbnMsXG4gICAgICBlbGlnaWJpbGl0eVJ1bGVTZXQsXG4gICAgICBkZXZpY2UsXG4gICAgICBkZXBlbmRhbnRfb25fdHJlYXRtZW50LFxuICAgICAgYnVzaW5lc3NSdWxlU2V0LFxuICAgICAgd2VpZ2h0LFxuICAgICAgZGVsYXksXG4gICAgICBoZWxwZXJzLFxuICAgIH0gPSB0cmVhdG1lbnQ7XG4gICAgY29uc3Qge1xuICAgICAgZGVidWdNb2RlLFxuICAgICAgZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMsXG4gICAgICBlbmdhZ2VtZW50TG9jayxcbiAgICAgIGlkZW50aWZpZXIsXG4gICAgICBpc01vYmlsZSxcbiAgICAgIG1hdGNoZWRUcmVhdG1lbnRzLFxuICAgICAgcHJlcGFyZUFuZEFwcGx5LFxuICAgIH0gPSB0aGlzO1xuXG4gICAgLy8gb25lIGVuZ2FnZW1lbnQgYXQgYSB0aW1lXG4gICAgZW5nYWdlbWVudExvY2tbaWRdID0gZW5nYWdlbWVudExvY2tbaWRdIHx8IG5ldyBNdXRleCgpO1xuICAgIGNvbnN0IHJlbGVhc2UgPSBhd2FpdCBlbmdhZ2VtZW50TG9ja1tpZF0uYWNxdWlyZSgpO1xuICAgIHRyeSB7XG4gICAgICBpZiAoZGVidWdNb2RlICYmIGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzICYmICFkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRldmljZSA9PT0gXCJtb2JpbGVcIiAmJiAhaXNNb2JpbGUpIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlRyZWF0bWVudCBkZXZpY2UgJ21vYmlsZScgbWlzbWF0Y2hcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZXZpY2UgPT09IFwiZGVza3RvcFwiICYmIGlzTW9iaWxlKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJUcmVhdG1lbnQgZGV2aWNlICdkZXNrdG9wJyBtaXNtYXRjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgYmFzZSBydWxlIHNldCBjaGVjayBmb3IgdHJlYXRtZW50OiBcIiArIGlkKTtcbiAgICAgIGlmICghZWxpZ2liaWxpdHlSdWxlU2V0IHx8IGF3YWl0IHRoaXMuY2hlY2tFbGlnaWJpbGl0eVJ1bGVTZXQoZWxpZ2liaWxpdHlSdWxlU2V0KSkge1xuICAgICAgICBjb25zdCB0cmVhdG1lbnRTa2lwUmF0aW8gPSB3ZWlnaHQgPT09IDEwMCA/IDAgOiAoMTAwIC0gd2VpZ2h0IHx8IFRSRUFUTUVOVF9SQVRJTyk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgc2tpcCByYXRpbzogXCIgKyB0cmVhdG1lbnRTa2lwUmF0aW8pO1xuICAgICAgICAvLyBEZXRlcm1pbmluZyBpZGVudGlmaWVyIGZvciBjYWxjdWxhdGluZyB0cmVhdG1lbnQgcGVyY2VudGFnZSAodHJlYXRtZW50UGN0KVxuICAgICAgICBjb25zdCBkZXRlcm1pbmluZ0lkZW50aWZpZXIgPSBkZXBlbmRhbnRfb25fdHJlYXRtZW50IHx8IGlkO1xuXG4gICAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIHRyZWF0bWVudCB1c2VkIHRvIGRldGVybWluZSBpZiBpdCBzaG91bGQgYmUgc2tpcHBlZCBvciBub3RcbiAgICAgICAgLy8gdHJlYXRtZW50UGN0IGlzIDEwMCB3aGVuIGRlYnVnIG1vZGUgaXMgMSwgZW5zdXJpbmcgbm8gdHJlYXRtZW50cyBhcmUgc2tpcHBlZFxuICAgICAgICBjb25zdCB0cmVhdG1lbnRQY3QgPSBkZWJ1Z01vZGUgPT09IDEgPyAxMDAgOiBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIGRldGVybWluaW5nSWRlbnRpZmllcik7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRQY3Q6IFwiICsgdHJlYXRtZW50UGN0ICsgYCB3aXRoIGRlYnVnIG1vZGUgJHtkZWJ1Z01vZGUgPyBcIm9uXCIgOiBcIm9mZlwifWApO1xuICAgICAgICBsZXQgYnVzaW5lc3NSdWxlSWQgPSBudWxsO1xuICAgICAgICBpZiAoYnVzaW5lc3NSdWxlU2V0KSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHN1YiB2YXJpYW50IHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgICAgIGJ1c2luZXNzUnVsZUlkID0gYXdhaXQgdGhpcy5jaGVja0J1c2luZXNzUnVsZXMoYnVzaW5lc3NSdWxlU2V0KTtcbiAgICAgICAgICBpZiAoYnVzaW5lc3NSdWxlSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBidXNpbmVzcyBydWxlIHRyYW5zZm9ybWF0aW9uIHdpdGggaWQ6IFwiLCBidXNpbmVzc1J1bGVJZCk7XG4gICAgICAgICAgfSBlbHNlIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQgd2l0aCBkZWZhdWx0IHZhbHVlc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJlYXRtZW50UGN0IDwgdHJlYXRtZW50U2tpcFJhdGlvKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgVHJlYXRtZW50ICR7aWR9IHNraXBwZWQgZHVlIHRvIHRyZWF0bWVudCBzcGxpdCByYXRpb2ApO1xuICAgICAgICAgIGFkZFRyZWF0bWVudChpZCwgYnVzaW5lc3NSdWxlSWQsIG51bGwsIFwic2tpcHBlZFwiLCBkZXBlbmRhbnRfb25fdHJlYXRtZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheSkge1xuICAgICAgICAgIGF3YWl0IHByZXBhcmVBbmRBcHBseShpZCwgaWRlbnRpZmllciwgYWN0aW9ucywgYnVzaW5lc3NSdWxlSWQsIGRlYnVnTW9kZSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5lbmdhZ2VIZWxwZXJzKGhlbHBlcnMsIG1hdGNoZWRUcmVhdG1lbnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHByZXBhcmVBbmRBcHBseShpZCwgaWRlbnRpZmllciwgYWN0aW9ucywgYnVzaW5lc3NSdWxlSWQsIGRlYnVnTW9kZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmVuZ2FnZUhlbHBlcnMoaGVscGVycywgbWF0Y2hlZFRyZWF0bWVudHMpO1xuICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlJ1bGUgY2hlY2sgZmFpbGVkIGZvciB0cmVhdG1lbnQ6XCIsIGlkKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVsZWFzZSgpO1xuICAgICAgdGhpcy5hZGRSZWFwcGx5RXZlbnQodHJlYXRtZW50KTtcbiAgICAgIHRoaXMuYWRkUnVsZVNldERhdGFMaXN0ZW5lcnModHJlYXRtZW50KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBlbmdhZ2VIZWxwZXJzKGhlbHBlcnMsIG1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaGVscGVycykgJiYgaGVscGVycy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGhlbHBlclJvYm90UHJvbWlzZXMgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIG1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgICAgIGlmICghaGVscGVycy5pbmNsdWRlcyh0cmVhdG1lbnQuaWQpKSBjb250aW51ZTtcbiAgICAgICAgaGVscGVyUm9ib3RQcm9taXNlcy5wdXNoKHRoaXMuZW5nYWdlUm9ib3QodHJlYXRtZW50KSk7XG4gICAgICB9XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChoZWxwZXJSb2JvdFByb21pc2VzKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBwcmVwYXJlQW5kQXBwbHkoaWQsIGlkZW50aWZpZXIsIGFjdGlvbnMsIGJ1c2luZXNzUnVsZUlkLCBkZWJ1Z01vZGUpIHtcbiAgICBjb25zdCBbcHJlcGFyZWQsIHZhcmlhbnRdID0gYXdhaXQgcHJlcGFyZUFjdGlvbnMoaWRlbnRpZmllciwgYWN0aW9ucywgYnVzaW5lc3NSdWxlSWQsIGRlYnVnTW9kZSk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXBwbHlBY3Rpb25zKHByZXBhcmVkKTtcbiAgICBpZiAocmVzID09PSBmYWxzZSkge1xuICAgICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgXCJmYWlsZWRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZFRyZWF0bWVudChpZCwgYnVzaW5lc3NSdWxlSWQsIHZhcmlhbnQsIFwiYXBwbGllZFwiKTtcbiAgICB9XG4gIH1cblxuICBhZGRSZWFwcGx5RXZlbnQodHJlYXRtZW50KSB7XG4gICAgY29uc3Qge3BhZ2VUeXBlLCByZUFwcGx5VHJlYXRtZW50c01hcH0gPSB0aGlzO1xuICAgIGNvbnN0IHtpZCwgcmVhcHBseV9ldmVudCwgcmVhcHBseV9ldmVudF9wYWdlX3R5cGV9ID0gdHJlYXRtZW50O1xuICAgIGlmIChyZWFwcGx5X2V2ZW50KSB7XG4gICAgICBpZiAoIXJlYXBwbHlfZXZlbnRfcGFnZV90eXBlIHx8IHJlYXBwbHlfZXZlbnRfcGFnZV90eXBlID09PSBwYWdlVHlwZSkge1xuICAgICAgICBsZXQgcmVhcHBseV9ldmVudF9hcnJheSA9IHJlYXBwbHlfZXZlbnQ7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWFwcGx5X2V2ZW50KSkgcmVhcHBseV9ldmVudF9hcnJheSA9IFtyZWFwcGx5X2V2ZW50XTtcbiAgICAgICAgbG9nZ2VyLmxvZyhgUmVhcHBseSBldmVudCAnJHtyZWFwcGx5X2V2ZW50fScgZm91bmQgZm9yIHRyZWF0bWVudDogJHtpZH1gKTtcbiAgICAgICAgZm9yIChjb25zdCByZWFwcGx5RXZlbnQgb2YgcmVhcHBseV9ldmVudF9hcnJheSkge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID9cbiAgICAgICAgICAgIHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gOiBbXTtcbiAgICAgICAgICBpZiAocHJldmlvdXNWYWx1ZS5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgYWxyZWFkeSBhZGRlZCBmb3IgcmVhcHBseSBldmVudFwiKTtcbiAgICAgICAgICB9IGVsc2UgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA9IFsuLi5wcmV2aW91c1ZhbHVlLCBpZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbml0aWF0ZVJlYXBwbHlSb2JvdE1hcCgpIHtcbiAgICBjb25zdCB7cmVBcHBseVRyZWF0bWVudHNNYXAsIG1hdGNoZWRUcmVhdG1lbnRzfSA9IHRoaXM7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMocmVBcHBseVRyZWF0bWVudHNNYXApKSB7XG4gICAgICBjb25zdCB0cmVhdG1lbnRJZHMgPSByZUFwcGx5VHJlYXRtZW50c01hcFtrZXldO1xuICAgICAgY29uc3QgcmVBcHBseVRyZWF0bWVudHMgPSBtYXRjaGVkVHJlYXRtZW50cy5maWx0ZXIoKHQpID0+IHRyZWF0bWVudElkcy5pbmNsdWRlcyh0LmlkKSk7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIFwiaW5maW5pdGVfc2Nyb2xsXCI6IHtcbiAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gaW5maW5pdGVfc2Nyb2xsYCk7XG4gICAgICAgICAgICAgIHRoaXMuZW5nYWdlUm9ib3QodHJlYXRtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGltZW91dFwiOiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gdGltZW91dGApO1xuICAgICAgICAgICAgICB0aGlzLmVuZ2FnZVJvYm90KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZWxlbWVudF9jaGFuZ2VcIjoge1xuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCByZWFwcGx5U2VsZWN0b3JMaXN0ID0gQXJyYXkuaXNBcnJheSh0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvcikgP1xuICAgICAgICAgICAgICAgIHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yIDogW3RyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2VsZWN0b3Igb2YgcmVhcHBseVNlbGVjdG9yTGlzdCkge1xuICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBlbGVtZW50X2NoYW5nZWApO1xuICAgICAgICAgICAgICAgICAgdGhpcy5lbmdhZ2VSb2JvdCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwgT0JTRVJWRVJfQ09ORklHKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25fc2Nyb2xsXCI6IHtcbiAgICAgICAgICAvLyBhZGQgd2luZG93IHNjcm9sbCBsaXN0ZW5lciwgY2FsbCBlbmdhZ2VSb2JvdCBvbiBzY3JvbGwsIGRvIG5vdCB0cmlnZ2VyIG1vcmUgdGhhbiBvbmNlIHBlciAyNTBtc1xuICAgICAgICAgIGxldCBsYXN0U2Nyb2xsVG9wID0gMDtcbiAgICAgICAgICBsZXQgbGFzdFNjcm9sbFRpbWUgPSAwO1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3Qgc3QgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgaWYgKG5vdyAtIGxhc3RTY3JvbGxUaW1lID4gMjUwICYmIE1hdGguYWJzKGxhc3RTY3JvbGxUb3AgLSBzdCkgPiA1KSB7XG4gICAgICAgICAgICAgIGxhc3RTY3JvbGxUb3AgPSBzdDtcbiAgICAgICAgICAgICAgbGFzdFNjcm9sbFRpbWUgPSBub3c7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIG9uX3Njcm9sbGApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5nYWdlUm9ib3QodHJlYXRtZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicXVlcnlfc2VhcmNoX2NoYW5nZVwiOiB7XG4gICAgICAgICAgbGV0IHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uc2VhcmNoICE9PSBxdWVyeVN0cmluZykge1xuICAgICAgICAgICAgICBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHF1ZXJ5X3NlYXJjaF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2FnZVJvYm90KHRyZWF0bWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCBPQlNFUlZFUl9DT05GSUcpO1xuICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbnRlcnZhbFwiOlxuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCByZWFwcGx5SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGFwcGxpZWQgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiYVwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgaWYgKGFwcGxpZWQ/Llt0cmVhdG1lbnQuaWRdKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyZWFwcGx5SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBpbnRlcnZhbGApO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZW5nYWdlUm9ib3QodHJlYXRtZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVhcHBseUludGVydmFsKTtcbiAgICAgICAgICAgIH0sIDI1MDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImluZm9fbGF5ZXJfY2hhbmdlXCI6XG4gICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kRW5nYWdlVHJlYXRtZW50ID0gdGhpcy5lbmdhZ2VSb2JvdC5iaW5kKHRoaXMsIHRyZWF0bWVudCk7XG4gICAgICAgICAgICBhZGREYXRhTGlzdGVuZXIodHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3IsIGJvdW5kRW5nYWdlVHJlYXRtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlJlYXBwbHkgZXZlbnQgbm90IGZvdW5kOiBcIiwga2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBhZGRSdWxlU2V0RGF0YUxpc3RlbmVycyh0cmVhdG1lbnQpIHtcbiAgICBjb25zdCB7ZWxpZ2liaWxpdHlSdWxlU2V0ID0gW10sIGJ1c2luZXNzUnVsZVNldCA9IFtdLCBpZH0gPSB0cmVhdG1lbnQ7XG4gICAgaWYgKHRoaXMuYWRkZWREYXRhTGlzdGVuZXJJZHMuaW5jbHVkZXMoaWQpKSByZXR1cm47XG4gICAgY29uc3Qgc2VsZWN0b3JzID0gdGhpcy5leHRyYWN0RGF0YUxpc3RlbmVyU2VsZWN0b3JzKFsuLi5lbGlnaWJpbGl0eVJ1bGVTZXQsIC4uLmJ1c2luZXNzUnVsZVNldF0pO1xuICAgIGNvbnN0IGJvdW5kRW5nYWdlVHJlYXRtZW50ID0gdGhpcy5lbmdhZ2VSb2JvdC5iaW5kKHRoaXMsIHRyZWF0bWVudCk7XG4gICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBzZWxlY3RvcnMpIHtcbiAgICAgIGFkZERhdGFMaXN0ZW5lcihgX19lUnVsZXMuJHtzZWxlY3Rvcn1gLCBib3VuZEVuZ2FnZVRyZWF0bWVudCk7XG4gICAgfVxuICAgIHRoaXMuYWRkZWREYXRhTGlzdGVuZXJJZHMucHVzaChpZCk7XG4gIH1cblxuICBleHRyYWN0RGF0YUxpc3RlbmVyU2VsZWN0b3JzKHJ1bGVTZXQsIHByZXZpb3VzU2VsZWN0b3JzID0gbnVsbCkge1xuICAgIGNvbnN0IHNlbGVjdG9ycyA9IHByZXZpb3VzU2VsZWN0b3JzIHx8IFtdO1xuICAgIGZvciAobGV0IHJ1bGUgb2YgcnVsZVNldCkge1xuICAgICAgaWYgKHR5cGVvZiBydWxlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChydWxlLnN0YXJ0c1dpdGgoXCIhXCIpKSBydWxlID0gcnVsZS5zbGljZSgxKTtcbiAgICAgICAgc2VsZWN0b3JzLnB1c2gocnVsZS5zcGxpdChcIi5cIilbMF0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZXh0cmFjdERhdGFMaXN0ZW5lclNlbGVjdG9ycyhydWxlLnNldCwgc2VsZWN0b3JzKTtcbiAgICB9XG4gICAgcmV0dXJuIFsuLi4obmV3IFNldChzZWxlY3RvcnMpKV07XG4gIH1cblxuICBhc3luYyBjaGVja0VsaWdpYmlsaXR5KGVsaWdpYmlsaXR5UnVsZSkge1xuICAgIGxvZ2dlci5sb2coYENoZWNraW5nIGVsaWdpYmlsaXR5ICR7ZWxpZ2liaWxpdHlSdWxlfWApO1xuICAgIGxldCBvcHBvc2l0ZUZsYWcgPSBmYWxzZTtcbiAgICBsZXQgW2VsaWdpYmlsaXR5U2NvcGUsIGVsaWdpYmlsaXR5TmFtZV0gPSBlbGlnaWJpbGl0eVJ1bGUuc3BsaXQoXCIuXCIpO1xuICAgIGlmIChlbGlnaWJpbGl0eVNjb3BlLnN0YXJ0c1dpdGgoXCIhXCIpKSB7XG4gICAgICBvcHBvc2l0ZUZsYWcgPSB0cnVlO1xuICAgICAgZWxpZ2liaWxpdHlTY29wZSA9IGVsaWdpYmlsaXR5U2NvcGUuc2xpY2UoMSk7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoYF9fZVJ1bGVzLiR7ZWxpZ2liaWxpdHlTY29wZX1gKTtcbiAgICBpZiAoIXJlcyB8fCAhQXJyYXkuaXNBcnJheShyZXMpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKG9wcG9zaXRlRmxhZyAmJiByZXMuaW5jbHVkZXMoZWxpZ2liaWxpdHlOYW1lKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghb3Bwb3NpdGVGbGFnICYmICFyZXMuaW5jbHVkZXMoZWxpZ2liaWxpdHlOYW1lKSkgcmV0dXJuIGZhbHNlO1xuICAgIGxvZ2dlci5sb2coYCR7ZWxpZ2liaWxpdHlSdWxlfSBpcyBlbGlnaWJsZWApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tFbGlnaWJpbGl0eVJ1bGVTZXQoZWxpZ2liaWxpdHlSdWxlU2V0LCBlbGlnaWJpbGl0eVNldFR5cGUgPSBudWxsLCBwcmV2aW91c0lzRWxpZ2libGUgPSBudWxsKSB7XG4gICAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJvYm90IGVsaWdpYmlsaXR5XCIpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShlbGlnaWJpbGl0eVJ1bGVTZXQpKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKGBFbGlnaWJpbGl0eSBSdWxlIFNldCAke2VsaWdpYmlsaXR5UnVsZVNldH0gaXMgbm90IGFuIGFycmF5YCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBpc0VsaWdpYmxlID0gcHJldmlvdXNJc0VsaWdpYmxlO1xuICAgIGZvciAoY29uc3QgZWxpZ2liaWxpdHlSdWxlIG9mIGVsaWdpYmlsaXR5UnVsZVNldCkge1xuICAgICAgaWYgKHR5cGVvZiBlbGlnaWJpbGl0eVJ1bGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKCFlbGlnaWJpbGl0eVNldFR5cGUpIHtcbiAgICAgICAgICBpc0VsaWdpYmxlID0gYXdhaXQgdGhpcy5jaGVja0VsaWdpYmlsaXR5KGVsaWdpYmlsaXR5UnVsZSk7XG4gICAgICAgICAgaWYgKCFpc0VsaWdpYmxlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxpZ2liaWxpdHlTZXRUeXBlKSB7XG4gICAgICAgICAgaWYgKGlzRWxpZ2libGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlzRWxpZ2libGUgPSBhd2FpdCB0aGlzLmNoZWNrRWxpZ2liaWxpdHkoZWxpZ2liaWxpdHlSdWxlKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKGVsaWdpYmlsaXR5U2V0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIm9yXCI6XG4gICAgICAgICAgICAgIGlzRWxpZ2libGUgPSBpc0VsaWdpYmxlIHx8IGF3YWl0IHRoaXMuY2hlY2tFbGlnaWJpbGl0eShlbGlnaWJpbGl0eVJ1bGUsIGVsaWdpYmlsaXR5U2V0VHlwZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFuZFwiOlxuICAgICAgICAgICAgICBpc0VsaWdpYmxlID0gaXNFbGlnaWJsZSAmJiBhd2FpdCB0aGlzLmNoZWNrRWxpZ2liaWxpdHkoZWxpZ2liaWxpdHlSdWxlLCBlbGlnaWJpbGl0eVNldFR5cGUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJVbmtub3duIGVsaWdpYmlsaXR5U2V0VHlwZTogXCIsIGVsaWdpYmlsaXR5U2V0VHlwZSk7XG4gICAgICAgICAgICAgIGlzRWxpZ2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGlnaWJpbGl0eVJ1bGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaXNFbGlnaWJsZSA9IGF3YWl0IHRoaXMuY2hlY2tFbGlnaWJpbGl0eVJ1bGVTZXQoZWxpZ2liaWxpdHlSdWxlLnNldCwgZWxpZ2liaWxpdHlSdWxlLnR5cGUsIGlzRWxpZ2libGUpO1xuICAgICAgICBpZiAoIWlzRWxpZ2libGUpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzRWxpZ2libGU7XG4gIH1cblxuICAvLyBSZXR1cm4gaW5kZXggb2YgYnVzaW5lc3NSdWxlLCB0aGlzIGlzIHRoZSBidXNpbmVzc1J1bGVJZFxuICBhc3luYyBjaGVja0J1c2luZXNzUnVsZXMoYnVzaW5lc3NSdWxlU2V0KSB7XG4gICAgZm9yIChjb25zdCBbaW5kZXgsIGJ1c2luZXNzUnVsZV0gb2YgYnVzaW5lc3NSdWxlU2V0LmVudHJpZXMoKSkge1xuICAgICAgaWYgKGF3YWl0IHRoaXMuY2hlY2tFbGlnaWJpbGl0eVJ1bGVTZXQoW2J1c2luZXNzUnVsZV0pKSByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtnZXRGcm9tQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVJbmZvTGF5ZXJDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tEYXRhTGF5ZXJSdWxlID0gYXN5bmMgKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBhd2FpdCBkYXRhTGF5ZXJGaW5kZXIob3BlcmF0b3IpO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRhdGFMYXllckZpbmRlciA9IGFzeW5jIChrZXkpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIlNlYXJjaGluZyBiZWFnbGVJbmZvTGF5ZXIgZm9yIGtleSBcIiwga2V5KTtcbiAgY29uc3QgcmVzID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihrZXkpO1xuICBpZiAocmVzICE9PSBudWxsICYmIHJlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbG9nZ2VyLnN1Y2Nlc3MoYEZvdW5kIGtleSAke2tleX0gd2l0aCB2YWx1ZSAke3Jlc31gKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGxvZ2dlci5mYWlsZWQoYEtleSAke2tleX0gbm90IGZvdW5kIGluIGJlYWdsZUluZm9MYXllcmApO1xuICByZXR1cm4gbnVsbDtcbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlRWxlbWVudENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0VsZW1lbnRSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZSwgc2VsZWN0b3IsIHNlbGVjdG9yQWxsLCBzZWxlY3RvckZhbGxiYWNrID0gbnVsbH0gPSBydWxlO1xuICBsZXQgbWFpblNlbGVjdG9yID0gc2VsZWN0b3I7XG4gIGlmIChtYWluU2VsZWN0b3IgJiYgIXdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpKSB7XG4gICAgbWFpblNlbGVjdG9yID0gc2VsZWN0b3JGYWxsYmFjayA/IHNlbGVjdG9yRmFsbGJhY2sgOiBtYWluU2VsZWN0b3I7XG4gIH1cblxuICBpZiAob3BlcmF0b3IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcih3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gIH1cbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IGZvdW5kIG9uIHBhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChzZWxlY3RvckFsbCAmJiAhd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yQWxsKSkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJTZWxlY3RvciBub3QgZm91bmQgb24gcGFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgZWxlbWVudDtcbiAgaWYgKG1haW5TZWxlY3RvcikgZWxlbWVudCA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpO1xuICBlbHNlIGlmIChzZWxlY3RvckFsbCkgZWxlbWVudCA9IEFycmF5LmZyb20od2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yQWxsKSk7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJ0ZXh0LW51bWJlclwiOiB7XG4gICAgICBsZXQgdGVtcFZhbDtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgICAgIHRlbXBWYWwgPSBlbGVtZW50LnJlZHVjZSgocmV0dXJuVmFsLCBlbGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuVmFsICs9IHBhcnNlSW50KGVsZW0udGV4dENvbnRlbnQucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXBWYWwgPSBwYXJzZUludCh3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKS50ZXh0Q29udGVudFxuICAgICAgICAgICAgLnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICB9XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBwYXJzZUludCh0ZW1wVmFsKTtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNhc2UgXCJjbGFzc0xpc3RcIjpcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiY291bnRcIjoge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkgJiYgZWxlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKGVsZW1lbnQubGVuZ3RoLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcigxLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKDAsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIFwic3R5bGVcIjoge1xuICAgICAgY29uc3QgZWxlbWVudFN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICBjb25zdCBzdHlsZUtleSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICBjb25zdCBzdHlsZVZhbHVlID0gdmFsdWUuc3BsaXQoXCI6XCIpWzFdLnRyaW0oKTtcbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IGVsZW1lbnRTdHlsZXNbc3R5bGVLZXldO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHN0eWxlVmFsdWUpO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmZhaWxlZChcIk9wZXJhdG9yIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZUZ1bmN0aW9uQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRnVuY3Rpb25SdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBpZiAoIW9wZXJhdG9yKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIlJ1bGUgZnVuY3Rpb24gbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHJ1bGVGdW5jdGlvbiA9IEZ1bmN0aW9uKG9wZXJhdG9yKTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gcnVsZUZ1bmN0aW9uKCk7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZVNlc3Npb25DaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tTZXNzaW9uUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJkdXJhdGlvblwiOlxuICAgICAgcmV0dXJuIGR1cmF0aW9uSGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiaGlzdG9yeVwiOlxuICAgICAgcmV0dXJuIGhpc3RvcnlIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgZ2V0U2Vzc2lvblRpbWVzdGFtcCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IERhdGUocGFyc2VJbnQod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9USU1FU1RBTVApKSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJDb3VsZCBub3QgZ2V0IHNlc3Npb24gdGltZXN0YW1wXCIsIGVycik7XG4gICAgcmV0dXJuIERhdGUubm93KCk7XG4gIH1cbn07XG5cbmNvbnN0IGR1cmF0aW9uSGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGR1cmF0aW9uID0gKERhdGUubm93KCkgLSBnZXRTZXNzaW9uVGltZXN0YW1wKCkpIC8gMTAwMDtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoZHVyYXRpb24sIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbmNvbnN0IGhpc3RvcnlIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgY3VycmVudEhpc3RvcnkgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX0hJU1RPUlkpPy5zcGxpdChcIixcIik7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGN1cnJlbnRIaXN0b3J5LCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlVXJsQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrVXJsUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhdGhcIjoge1xuICAgICAgY29uc3QgcmVxdWVzdFVSTD0gd2luZG93LnRvcC5sb2NhdGlvbi5ocmVmO1xuICAgICAgY29uc3QgcGF0aCA9IG5ldyBVUkwocmVxdWVzdFVSTCkucGF0aG5hbWU7XG4gICAgICBsb2dnZXIubG9nKGBDaGVja2luZyBwYXRoICR7cGF0aH0gbWF0Y2hlcyBydWxlIHBhdGggJHt2YWx1ZX1gKTtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHBhdGgsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiUExBQ0VIT0xERVJcIjoge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlRW52Q2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRW52UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImRldmljZV90eXBlXCI6IHtcbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzID8gXCJtb2JpbGVcIiA6IFwiZGVza3RvcFwiO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoaXNNb2JpbGUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiUExBQ0VIT0xERVJcIjoge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCB7Z2V0RnJvbUJlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IFN0b3JlIGZyb20gXCIuLi9HbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5L3N0b3JlXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVQcm9kdWN0SW5mb0NoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1Byb2R1Y3RJbmZvUnVsZSA9IGFzeW5jIChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgY29uc3Qgc2t1TGlzdCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJfX2ZlYXR1cmVzLlNLVXNvblBhZ2VcIiwgdHJ1ZSk7XG4gIGlmICghc2t1TGlzdCB8fCAodHlwZW9mIHNrdUxpc3QgPT09IFwib2JqZWN0XCIgJiYgIU9iamVjdC5rZXlzKHNrdUxpc3QpLmxlbmd0aCkpIHJldHVybiBmYWxzZTtcbiAgbGV0IHJ1bnRpbWVWYWx1ZSA9IG51bGw7XG4gIGNvbnN0IHNrdSA9IHNrdUxpc3RbT2JqZWN0LmtleXMoc2t1TGlzdClbMF1dPy5pZDtcbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJ0cmFuc2FjdGlvbkluMldlZWtzXCI6IHtcbiAgICAgIGxvZ2dlci5sb2coXCJHZXR0aW5nIFRyYW5zYWN0aW9uQ291bnQgZm9yIHNrdSBcIiwgc2t1KTtcbiAgICAgIHJ1bnRpbWVWYWx1ZSA9IGF3YWl0IGdldFRyYW5zYWN0aW9uQ291bnQoc2t1KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFwiYWRkVG9DYXJ0SW4yV2Vla3NcIjoge1xuICAgICAgbG9nZ2VyLmxvZyhcIkdldHRpbmcgQWRkVG9DYXJ0Q291bnQgZm9yIHNrdSBcIiwgc2t1KTtcbiAgICAgIHJ1bnRpbWVWYWx1ZSA9IGF3YWl0IGdldEFkZFRvQ2FydENvdW50KHNrdSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBcInByb2R1Y3RWaWV3Q291bnRcIjoge1xuICAgICAgbG9nZ2VyLmxvZyhcIkdldHRpbmcgcHJvZHVjdFZpZXdDb3VudCBmb3Igc2t1IFwiLCBza3UpO1xuICAgICAgcnVudGltZVZhbHVlID0gYXdhaXQgZ2V0UHJldmlld0NvdW50KHNrdSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG5cbmNvbnN0IGdldFRyYW5zYWN0aW9uQ291bnQgPSBhc3luYyAoc2t1KSA9PiB7XG4gIGNvbnN0IHByb2R1Y3RJbmZvID0gYXdhaXQgU3RvcmUuZ2V0SW5zdGFuY2UoKS5nZXQoc2t1KTtcbiAgaWYgKHNrdSAmJiBwcm9kdWN0SW5mbykge1xuICAgIHJldHVybiBwcm9kdWN0SW5mby5zYWxlQ250VmlzaXRvcnNJbjE1O1xuICB9XG4gIHJldHVybiAtMTtcbn07XG5cbmNvbnN0IGdldEFkZFRvQ2FydENvdW50ID0gYXN5bmMgKHNrdSkgPT4ge1xuICBjb25zdCBwcm9kdWN0SW5mbyA9IGF3YWl0IFN0b3JlLmdldEluc3RhbmNlKCkuZ2V0KHNrdSk7XG4gIGlmIChza3UgJiYgcHJvZHVjdEluZm8pIHtcbiAgICByZXR1cm4gcHJvZHVjdEluZm8uY2FydENudFZpc2l0b3JzSW4xNTtcbiAgfVxuICByZXR1cm4gLTE7XG59O1xuXG5jb25zdCBnZXRQcmV2aWV3Q291bnQgPSBhc3luYyAoc2t1KSA9PiB7XG4gIGNvbnN0IHByb2R1Y3RJbmZvID0gYXdhaXQgU3RvcmUuZ2V0SW5zdGFuY2UoKS5nZXQoc2t1KTtcbiAgaWYgKHNrdSAmJiBwcm9kdWN0SW5mbykge1xuICAgIHJldHVybiBwcm9kdWN0SW5mby52aWV3Q250VmlzaXRvcnNJbjE7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcbiIsImltcG9ydCB7Y2hlY2tEYXRhTGF5ZXJSdWxlfSBmcm9tIFwiLi9kYXRhTGF5ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRWxlbWVudFJ1bGV9IGZyb20gXCIuL2VsZW1lbnRDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRnVuY3Rpb25SdWxlfSBmcm9tIFwiLi9mdW5jdGlvbkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tTZXNzaW9uUnVsZX0gZnJvbSBcIi4vc2Vzc2lvbkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tVcmxSdWxlfSBmcm9tIFwiLi91cmxDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRW52UnVsZX0gZnJvbSBcIi4vZW52Q2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1Byb2R1Y3RJbmZvUnVsZX0gZnJvbSBcIi4vcHJvZHVjdEluZm9DaGVja2VyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCB7YWRkRGF0YUxpc3RlbmVyLCBhZGRUb0JlYWdsZUluZm9MYXllciwgZ2V0RnJvbUJlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtNdXRleH0gZnJvbSBcImFzeW5jLW11dGV4XCI7XG5pbXBvcnQge2ZldGNoRWxpZ2liaWxpdHlSdWxlc30gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge0xPQ0FMX1NUT1JBR0VfS0VZUywgTE9DQUxfU1RPUkFHRV9UVExfSE9VUlN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVSdWxlRW5naW5lXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSdWxlRW5naW5lIHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHtlbGlnaWJpbGl0eVJ1bGVzLCBiYXNlUnVsZVNldH0gPSBib2R5O1xuICAgIHRoaXMuYmFzZVJ1bGVTZXQgPSBiYXNlUnVsZVNldDtcbiAgICB0aGlzLmVsaWdpYmlsaXR5UnVsZXMgPSBlbGlnaWJpbGl0eVJ1bGVzO1xuICAgIHRoaXMuYWRkZWREYXRhTGlzdGVuZXJzID0gW107XG4gICAgdGhpcy5tdXRleCA9IG5ldyBNdXRleCgpO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5iYXNlUnVsZVNldCkge1xuICAgICAgY29uc3QgcnVsZVNhdGlzZmllZCA9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgaWYgKCFydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBhc3luYyBjaGVja1J1bGUocnVsZSkge1xuICAgIGNvbnN0IHtjaGFpbiwgY2hhaW5fY29uZGl0aW9uLCB0eXBlfSA9IHJ1bGU7XG4gICAgbGV0IHJ1bGVTYXRpc2ZpZWQgPSBudWxsO1xuICAgIC8vIGNoZWNrIHJ1bGVcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1Nlc3Npb25SdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbGVtZW50XCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0VsZW1lbnRSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkYXRhTGF5ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGF3YWl0IGNoZWNrRGF0YUxheWVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1VybFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0Z1bmN0aW9uUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZW52aXJvbm1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRW52UnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicHJvZHVjdEluZm9Mb29rdXBcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGF3YWl0IGNoZWNrUHJvZHVjdEluZm9SdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoYE5vIHN1Y2ggcnVsZSB0eXBlOiAke3R5cGV9YCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChjaGFpbikge1xuICAgICAgc3dpdGNoIChjaGFpbl9jb25kaXRpb24pIHtcbiAgICAgICAgY2FzZSBcImFuZFwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkICYmIGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9yXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgfHwgYXdhaXQgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieG9yXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgIT0gYXdhaXQgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJObyBzdWNoIGNoYWluIGNvbmRpdGlvblwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJ1bGVTYXRpc2ZpZWQgPyBydWxlLm5hbWUgfHwgdHJ1ZSA6IGZhbHNlO1xuICB9XG5cbiAgYXN5bmMgYXNzZXNFbGlnaWJpbGl0eVJ1bGVzKCkge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcImFzc2Vzc2luZy1lbGlnaWJpbGl0eS1ydWxlc1wiKTtcbiAgICBjb25zdCBrZXlQcm9taXNlc01hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgW2tleSwgcnVsZXNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuZWxpZ2liaWxpdHlSdWxlcykpIHtcbiAgICAgIGtleVByb21pc2VzTWFwW2tleV0gPSBbXTtcbiAgICAgIGZvciAoY29uc3QgcnVsZSBvZiBydWxlcykge1xuICAgICAgICBrZXlQcm9taXNlc01hcFtrZXldLnB1c2godGhpcy5jaGVja1J1bGUocnVsZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtrZXksIHJ1bGVQcm9taXNlc10gb2YgT2JqZWN0LmVudHJpZXMoa2V5UHJvbWlzZXNNYXApKSB7XG4gICAgICBjb25zdCBzYXRpc2ZpZWRSdWxlSWRzID0gYXdhaXQgUHJvbWlzZS5hbGwocnVsZVByb21pc2VzKTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKGBfX2VSdWxlcy4ke2tleX1gLCBzYXRpc2ZpZWRSdWxlSWRzLmZpbHRlcigoaWQpID0+IGlkICE9PSBmYWxzZSkpO1xuICAgICAgdGhpcy5zZXRVcExpc3RlbmVycyhrZXksIHRoaXMuZWxpZ2liaWxpdHlSdWxlc1trZXldKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhc3Nlc0VsaWdpYmlsaXR5UnVsZXNDYWxsQmFjayhrZXksIHJ1bGVzKSB7XG4gICAgaWYgKCFrZXkgfHwgIXJ1bGVzIHx8ICFydWxlcy5sZW5ndGgpIHJldHVybjtcbiAgICBjb25zdCByZWxlYXNlID0gYXdhaXQgdGhpcy5tdXRleC5hY3F1aXJlKCk7XG4gICAgbG9nZ2VyLmxvZyhgTG9jayBhY3F1aXJlZCBmb3Iga2V5ICR7a2V5fWApO1xuICAgIHRyeSB7XG4gICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcnVsZXMpIHtcbiAgICAgICAgY29uc3QgaXNFbGlnaWJsZSA9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihgX19lUnVsZXMuJHtrZXl9YCkgfHwgW107XG4gICAgICAgIGlmIChpc0VsaWdpYmxlKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnQuaW5jbHVkZXMocnVsZS5uYW1lKSkgY29udGludWU7XG4gICAgICAgICAgY3VycmVudC5wdXNoKHJ1bGUubmFtZSk7XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoYF9fZVJ1bGVzLiR7a2V5fWAsIGN1cnJlbnQpO1xuICAgICAgICAgIGlmIChrZXkgPT09IFwiUGFnZVR5cGVcIikgYnJlYWs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcmVtb3ZlIGZyb20gZWxpZ2libGUgcnVsZXNcbiAgICAgICAgICBpZiAoIWN1cnJlbnQuaW5jbHVkZXMocnVsZS5uYW1lKSkgY29udGludWU7XG4gICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBjdXJyZW50LmZpbHRlcigoaykgPT4gayAhPT0gcnVsZS5uYW1lKTtcbiAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihgX19lUnVsZXMuJHtrZXl9YCwgZmlsdGVyZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKGBFcnJvciBhc3Nlc3NpbmcgcnVsZXMgZm9yIGtleTogJHtrZXl9IC0gJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgbG9nZ2VyLmxvZyhgUmVsZWFzaW5nIGxvY2sgZm9yIGtleTogJHtrZXl9YCk7XG4gICAgICByZWxlYXNlKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2V0VXBMaXN0ZW5lcnMoa2V5LCBydWxlcykge1xuICAgIGNvbnN0IHtkYXRhTGF5ZXJSdWxlcywgZWxlbWVudFJ1bGVzfSA9IHRoaXMuZXh0cmFjdFJ1bGVBdHRyaWJ1dGVzKHJ1bGVzKTtcbiAgICBmb3IgKGNvbnN0IFtvcGVyYXRvciwgcnVsZXNdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGFMYXllclJ1bGVzKSkge1xuICAgICAgY29uc3QgYm91bmRBc3Nlc0VsaWdpYmlsaXR5UnVsZXNDYWxsQmFjayA9IHRoaXMuYXNzZXNFbGlnaWJpbGl0eVJ1bGVzQ2FsbEJhY2suYmluZCh0aGlzLCBrZXksIHJ1bGVzKTtcbiAgICAgIGFkZERhdGFMaXN0ZW5lcihvcGVyYXRvciwgYm91bmRBc3Nlc0VsaWdpYmlsaXR5UnVsZXNDYWxsQmFjayk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW3NlbGVjdG9yLCBydWxlc10gb2YgT2JqZWN0LmVudHJpZXMoZWxlbWVudFJ1bGVzKSkge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25MaXN0KSA9PiB7XG4gICAgICAgIGlmICh3aW5kb3cudG9wLmRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwiY29tcGxldGVcIikgcmV0dXJuO1xuICAgICAgICBsZXQgbm9kZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvblJlY29yZCBvZiBtdXRhdGlvbkxpc3QpIHtcbiAgICAgICAgICBub2RlcyA9IFsuLi5ub2RlcywgLi4uQXJyYXkuZnJvbShtdXRhdGlvblJlY29yZC5hZGRlZE5vZGVzKSwgLi4uQXJyYXkuZnJvbShtdXRhdGlvblJlY29yZC5yZW1vdmVkTm9kZXMpXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBleGNsdWRlIG11dGF0aW9ucyB0aGF0IG9ubHkgdXBkYXRlIHRleHRcbiAgICAgICAgaWYgKG5vZGVzLmV2ZXJ5KChuKSA9PiBuLnRhZ05hbWUgPT09IHVuZGVmaW5lZCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5hc3Nlc0VsaWdpYmlsaXR5UnVsZXNDYWxsQmFjayhrZXksIHJ1bGVzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdG9yID09PSBcImJvZHlcIikge1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHdpbmRvdy50b3AuZG9jdW1lbnQuYm9keSwge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLnBhcmVudE5vZGUsIHtzdWJ0cmVlOiB0cnVlLCBjaGlsZExpc3Q6IHRydWV9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBleHRyYWN0UnVsZUF0dHJpYnV0ZXMocnVsZXMsIGRhdGFMYXllclJ1bGVzID0ge30sIGVsZW1lbnRSdWxlcyA9IHt9KSB7XG4gICAgaWYgKCFydWxlcyB8fCAhcnVsZXMubGVuZ3RoKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHJ1bGVzKSB7XG4gICAgICBjb25zdCB7dHlwZX0gPSBydWxlO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJkYXRhTGF5ZXJcIjpcbiAgICAgICAgICBpZiAoIWRhdGFMYXllclJ1bGVzW3J1bGUub3BlcmF0b3JdKSB7XG4gICAgICAgICAgICBkYXRhTGF5ZXJSdWxlc1tydWxlLm9wZXJhdG9yXSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhTGF5ZXJSdWxlc1tydWxlLm9wZXJhdG9yXS5wdXNoKHJ1bGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZWxlbWVudFwiOlxuICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJ1bGUuc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICBlbGVtZW50UnVsZXNbcnVsZS5zZWxlY3Rvcl0gPSBlbGVtZW50UnVsZXNbcnVsZS5zZWxlY3Rvcl0gP1xuICAgICAgICAgICAgWy4uLmVsZW1lbnRSdWxlc1tydWxlLnNlbGVjdG9yXSwgcnVsZV0gOiBbcnVsZV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocnVsZS5zZWxlY3RvckFsbCkubGVuZ3RoKSB7XG4gICAgICAgICAgICBlbGVtZW50UnVsZXNbcnVsZS5zZWxlY3RvckFsbF0gPSBlbGVtZW50UnVsZXNbcnVsZS5zZWxlY3RvckFsbF0gP1xuICAgICAgICAgICAgWy4uLmVsZW1lbnRSdWxlc1tydWxlLnNlbGVjdG9yQWxsXSwgcnVsZV0gOiBbcnVsZV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudFJ1bGVzW1wiYm9keVwiXSA9IGVsZW1lbnRSdWxlc1tcImJvZHlcIl0gP1xuICAgICAgICAgICAgWy4uLmVsZW1lbnRSdWxlc1tcImJvZHlcIl0sIHJ1bGVdIDogW3J1bGVdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHJ1bGUuY2hhaW4pIHtcbiAgICAgICAgdGhpcy5leHRyYWN0UnVsZUF0dHJpYnV0ZXMoW3J1bGUuY2hhaW5dLCBkYXRhTGF5ZXJSdWxlcywgZWxlbWVudFJ1bGVzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtkYXRhTGF5ZXJSdWxlcywgZWxlbWVudFJ1bGVzfTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRFbGlnaWJpbGl0eVJ1bGVzKCkge1xuICAgIHRyeSB7XG4gICAgICBsZXQgZWxpZ2liaWxpdHlSdWxlc09iaiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuRUxJR0lCSUxJVFlfUlVMRVMpO1xuICAgICAgaWYgKGVsaWdpYmlsaXR5UnVsZXNPYmopIHtcbiAgICAgICAgZWxpZ2liaWxpdHlSdWxlc09iaiA9IEpTT04ucGFyc2UoZWxpZ2liaWxpdHlSdWxlc09iaik7XG4gICAgICAgIGlmIChlbGlnaWJpbGl0eVJ1bGVzT2JqLnRpbWVzdGFtcCkge1xuICAgICAgICAgIGNvbnN0IGVsYXBzZWRIb3VycyA9IChEYXRlLm5vdygpIC0gZWxpZ2liaWxpdHlSdWxlc09iai50aW1lc3RhbXApIC8gKDEwMDAgKiAzNjAwKTtcbiAgICAgICAgICBpZiAoZWxhcHNlZEhvdXJzIDwgTE9DQUxfU1RPUkFHRV9UVExfSE9VUlMpIHJldHVybiBlbGlnaWJpbGl0eVJ1bGVzT2JqLnJ1bGVzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbGlnaWJpbGl0eVJ1bGVzT2JqID0gYXdhaXQgZmV0Y2hFbGlnaWJpbGl0eVJ1bGVzKCk7XG4gICAgICBpZiAoIWVsaWdpYmlsaXR5UnVsZXNPYmopIHtcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIkZhaWxlZCB0byBmZXRjaCBlbGlnaWJpbGl0eSBydWxlc1wiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBlbGlnaWJpbGl0eVJ1bGVzT2JqID0ge3J1bGVzOiBlbGlnaWJpbGl0eVJ1bGVzT2JqLCB0aW1lc3RhbXA6IERhdGUubm93KCl9O1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5FTElHSUJJTElUWV9SVUxFUywgSlNPTi5zdHJpbmdpZnkoZWxpZ2liaWxpdHlSdWxlc09iaikpO1xuICAgICAgcmV0dXJuIGVsaWdpYmlsaXR5UnVsZXNPYmoucnVsZXM7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiQ291bGQgbm90IGdldCBlbGlnaWJpbGl0eSBydWxlczogXCIsIGVyci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgVHJlYXRtZW50UmVwb3NpdG9yeSBmcm9tIFwiLi4vQmVhZ2xlVHJlYXRtZW50UmVwb3NpdG9yeS9pbmRleFwiO1xuaW1wb3J0IHtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIsXG4gIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIsXG59IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCB7XG4gIGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzLFxuICBpbmplY3RTdHlsZVNoZWV0LFxuICByZW1vdmVEb2N1bWVudEhpZGUsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IFJvYm90RW5naW5lIGZyb20gXCIuL3JvYm90RW5naW5lXCI7XG5pbXBvcnQgUnVsZUVuZ2luZSBmcm9tIFwiLi4vQmVhZ2xlUnVsZUVuZ2luZVwiO1xuaW1wb3J0IFN0b3JlIGZyb20gXCIuLi9HbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5L3N0b3JlXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVPbkNvbXBvbmVudFwiKTtcblxuY29uc3QgYmVhZ2xlT24gPSBhc3luYyAoaWRlbnRpZmllciwgZGVidWdNb2RlLCBwYWdlVHlwZSwgdHJlYXRtZW50V2VpZ2h0cykgPT4ge1xuICBjb25zdCBwZXJzaXN0UHJvZHVjdEluZm9Qcm9taXNlID0gU3RvcmUuZ2V0SW5zdGFuY2UoKS5wZXJzaXN0UHJvZHVjdEluZm8oKTtcblxuICBjb25zdCBlbGlnaWJpbGl0eVJ1bGVzQXNzZXNzUHJvbWlzZSA9IGFzc2VzRWxpZ2liaWxpdHlSdWxlcygpO1xuICBjb25zdCB0cmVhdG1lbnRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50cygpO1xuXG4gIGluamVjdFN0eWxlU2hlZXQoKTtcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMoKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwib24taW5pdFwiKTtcblxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICBsZXQgZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgPSBudWxsO1xuICBpZiAoZGVidWdNb2RlICYmIHNlYXJjaFBhcmFtcy5pbmNsdWRlcyhcImZpbHRlcj1cIikpIHtcbiAgICBkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyA9IHNlYXJjaFBhcmFtcy5zbGljZShcbiAgICAgICAgc2VhcmNoUGFyYW1zLmluZGV4T2YoXCJbXCIpICsgMSxcbiAgICAgICAgc2VhcmNoUGFyYW1zLmxhc3RJbmRleE9mKFwiXVwiKSxcbiAgICApLnNwbGl0KFwiLFwiKS5tYXAoKGl0ZW0pID0+IHBhcnNlSW50KGl0ZW0sIDEwKSk7XG4gIH1cblxuICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgdHJlYXRtZW50c1Byb21pc2U7XG5cbiAgaWYgKCF0cmVhdG1lbnRzKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwibm8tcm9ib3Qtd2VpZ2h0c1wiKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggdHJlYXRtZW50cy93ZWlnaHRzXCIpO1xuICB9XG4gIGxvZ2dlci5zdWNjZXNzKFwiRm91bmQgdHJlYXRtZW50czogXCIsIHRyZWF0bWVudHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJmZXRjaGVkLXRyZWF0bWVudHNcIik7XG5cbiAgY29uc3QgdHJlYXRtZW50UmVwb3NpdG9yeSA9IG5ldyBUcmVhdG1lbnRSZXBvc2l0b3J5KHtcbiAgICB0cmVhdG1lbnRzLFxuICAgIHRyZWF0bWVudFdlaWdodHMsXG4gIH0pO1xuXG4gIGNvbnN0IG1hdGNoZWRUcmVhdG1lbnRzID0gYXdhaXQgdHJlYXRtZW50UmVwb3NpdG9yeS5nZXRNYXRjaGVkVHJlYXRtZW50cyhkZWJ1Z01vZGUpO1xuICBpZiAobWF0Y2hlZFRyZWF0bWVudHMgPT09IG51bGwpIHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJuby11c2VyLXNlZ21lbnRcIik7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghbWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIk5vIHRyZWF0bWVudHMgbWF0Y2hlZCwgcmV0dXJuaW5nIHdpdGhvdXQgZnVydGhlciBhY3Rpb25cIik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwibm8tcm9ib3QtbWF0Y2hlZFwiKTtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwiZm91bmQtbWF0Y2hlZC1yb2JvdHNcIik7XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBlbGlnaWJpbGl0eVJ1bGVzQXNzZXNzUHJvbWlzZTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwibm8tcnVsZXMtYXNzZXNzZWRcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGFzc2VzIGVsaWdpYmlsaXR5IHJ1bGVzXCIpO1xuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcInJ1bGVzLWFzc2Vzc2VkXCIpO1xuICB0cnkge1xuICAgIGF3YWl0IHBlcnNpc3RQcm9kdWN0SW5mb1Byb21pc2U7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcInByb2R1Y3QtaW50by1uby1wZXJzaXN0XCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBwZXJzaXN0IHByb2R1Y3QgaW5mb1wiKTtcbiAgfVxuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcImVuZ2FnaW5nLXJvYm90c1wiKTtcbiAgY29uc3Qgcm9ib3RFbmdpbmUgPSBuZXcgUm9ib3RFbmdpbmUoe1xuICAgIGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzLFxuICAgIGRlYnVnTW9kZSxcbiAgICBtYXRjaGVkVHJlYXRtZW50cyxcbiAgICBpZGVudGlmaWVyLFxuICAgIHBhZ2VUeXBlLFxuICB9KTtcbiAgYXdhaXQgcm9ib3RFbmdpbmUuZW5nYWdlUm9ib3RzKCk7XG4gIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJyb2JvdHMtZW5nYWdlZFwiKTtcbiAgbG9nZ2VyLnN1Y2Nlc3MoXCJBcHBsaWVkIHRyZWF0bWVudHM6IFwiLCBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiYVwiKSk7XG59O1xuXG5hc3luYyBmdW5jdGlvbiBhc3Nlc0VsaWdpYmlsaXR5UnVsZXMoKSB7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibVwiLCBcImZldGNoaW5nLWVsaWdpYmlsaXR5LXJ1bGVzXCIpO1xuICBjb25zdCBlbGlnaWJpbGl0eVJ1bGVzID0gYXdhaXQgUnVsZUVuZ2luZS5nZXRFbGlnaWJpbGl0eVJ1bGVzKCk7XG4gIGlmICghZWxpZ2liaWxpdHlSdWxlcykgcmV0dXJuO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgXCJmZXRjaGVkLWVsaWdpYmlsaXR5LXJ1bGVzXCIpO1xuICBjb25zdCBydWxlRW5naW5lID0gbmV3IFJ1bGVFbmdpbmUoe2VsaWdpYmlsaXR5UnVsZXN9KTtcbiAgYXdhaXQgcnVsZUVuZ2luZS5hc3Nlc0VsaWdpYmlsaXR5UnVsZXMoKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwiYXNzZXNzZWQtZWxpZ2liaWxpdHktcnVsZXNcIik7XG59XG5leHBvcnQgZGVmYXVsdCBiZWFnbGVPbjtcbiIsImltcG9ydCB7YWRkVG9CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCBSdWxlRW5naW5lIGZyb20gXCIuLi9CZWFnbGVSdWxlRW5naW5lXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIlNlZ21lbnRhdGlvbkNvbXB1dGVyXCIpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29tcHV0ZVNlZ21lbnQodHJlYXRtZW50V2VpZ2h0cykge1xuICBsb2dnZXIubG9nKFwiRGV0ZXJtaW5pbmcgdXNlciBzZWdtZW50XCIpO1xuICB0cnkge1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBPYmplY3Qua2V5cyh0cmVhdG1lbnRXZWlnaHRzKSkge1xuICAgICAgY29uc3QgcnVsZVNldCA9IHRyZWF0bWVudFdlaWdodHNbc2VnbWVudF0/LnJ1bGVTZXQ7XG4gICAgICBpZiAoIXJ1bGVTZXQpIGNvbnRpbnVlO1xuICAgICAgY29uc3Qgc2VnbWVudFJ1bGVFbmdpbmUgPSBuZXcgUnVsZUVuZ2luZSh7YmFzZVJ1bGVTZXQ6IHJ1bGVTZXQsIGJ1c2luZXNzUnVsZVNldDogW119KTtcbiAgICAgIGlmIChhd2FpdCBzZWdtZW50UnVsZUVuZ2luZS5jaGVja1J1bGVzKCkpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhgVXNlciBzZWdtZW50IG1hdGNoZWQ6ICR7c2VnbWVudH1gKTtcbiAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzXCIsIHNlZ21lbnQpO1xuICAgICAgICByZXR1cm4gc2VnbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlVzZXIgc2VnbWVudCBub3QgbWF0Y2hlZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBjb21wdXRlIHVzZXIgc2VnbWVudFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgTW9uaXRvciBmcm9tIFwiLi4vQmVhZ2xlTW9uaXRvci9pbmRleFwiO1xuaW1wb3J0IGJlYWdsZU9uIGZyb20gXCIuLi9CZWFnbGVPblwiO1xuaW1wb3J0IHtcbiAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcixcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIsXG4gIGluaXRpYWxpemVCZWFnbGVJbmZvTGF5ZXIsXG59IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCB7XG4gIFNQTElUX1JBVElPLFxuICBTRVNTSU9OX1NUT1JBR0VfS0VZUyxcbiAgTE9DQUxfU1RPUkFHRV9LRVlTLFxuICBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTixcbiAgVkVSU0lPTixcbn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgZ2V0SWRlbnRpZmllcixcbiAgcmVtb3ZlRG9jdW1lbnRIaWRlLFxuICBkZXRlcm1pbmVQY3QsXG4gIGdldERlYnVnTW9kZSxcbiAgc3dpdGNoVG9FYXNlT3V0LFxufSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7Y29tcHV0ZVNlZ21lbnR9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXIvc2VnbWVudC1jb21wdXRlclwiO1xuaW1wb3J0IFRyZWF0bWVudFJlcG9zaXRvcnkgZnJvbSBcIi4uL0JlYWdsZVRyZWF0bWVudFJlcG9zaXRvcnlcIjtcblxubGV0IFNIVVRET1dOID0gZmFsc2U7XG5cbihhc3luYyBmdW5jdGlvbigpIHtcbiAgc3dpdGNoVG9FYXNlT3V0KCk7XG4gIGxldCBtb25pdG9yID0gbnVsbDtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuICBsb2dnZXIuaW5mbyhcIkJlYWdsZSBpbml0aWFsaXppbmdcIik7XG4gIHdpbmRvdy5kYXRhTGF5ZXIgPSB3aW5kb3cuZGF0YUxheWVyIHx8IFtdO1xuXG4gIGxldCBlYXJseUxvZ1NlbnQgPSBmYWxzZTtcbiAgbGV0IGhpZGVSZW1vdmVkID0gZmFsc2U7XG5cbiAgdHJ5IHtcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IElOSVQgVEFTS1MgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJHTE9WX09OXCIsIFwibm90LXNlbnQgfCBpbml0aWFsaXppbmdcIik7XG4gICAgY29uc3QgdHJlYXRtZW50V2VpZ2h0c1Byb21pc2UgPSBUcmVhdG1lbnRSZXBvc2l0b3J5LmdldFRyZWF0bWVudFdlaWdodHMoKTtcbiAgICBtb25pdG9yID0gbmV3IE1vbml0b3IoKTtcbiAgICBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyKCk7XG4gICAgY29uc3QgaWRlbnRpZmllciA9IGF3YWl0IGdldElkZW50aWZpZXIoKTtcbiAgICBsb2dnZXIubG9nKFwiRm91bmQgaWRlbnRpZmllcjogXCIsIGlkZW50aWZpZXIpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llR2FJZFwiLCBpZGVudGlmaWVyKTtcbiAgICBjb25zdCBjb29raWVQY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllcik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJvbkhhc2hQY3RcIiwgY29va2llUGN0KTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZpZXdfZXBvY2hcIiwgRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCkpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidlwiLCBWRVJTSU9OKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNyXCIsIFNQTElUX1JBVElPKTtcblxuICAgIC8vIGRhdGEtbGVzcyBsb2cgdG8gZGV0ZWN0IGJvdW5jZXNcbiAgICBhd2FpdCBtb25pdG9yLnBhY2tBbmRRdWV1ZUFycml2YWxMb2coKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIH0sIDIwMDApO1xuXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEVBUkxZIFBSVU5FIE9VVC1PRi1TQ09QRSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgICBsZXQgdXNlclNlZ21lbnQgPSBudWxsO1xuICAgIGxldCB0cmVhdG1lbnRXZWlnaHRzID0gbnVsbDtcbiAgICBjb25zdCBvb3NSZWFzb24gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk9VVF9PRl9TQ09QRSk7XG4gICAgaWYgKG9vc1JlYXNvbiAhPT0gXCJ1bnN1cHBvcnRlZFwiKSB7XG4gICAgICB0cmVhdG1lbnRXZWlnaHRzID0gYXdhaXQgdHJlYXRtZW50V2VpZ2h0c1Byb21pc2U7XG4gICAgICBpZiAoIXRyZWF0bWVudFdlaWdodHMpIHtcbiAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJtXCIsIFwibm8tcm9ib3Qtd2VpZ2h0c1wiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZldGNoIHdlaWdodHNcIik7XG4gICAgICB9XG4gICAgICAvLyBjb21wdXRlIHVzZXIgc2VnbWVudCBhbmQgYWRkIHRvIGJlYWdsZUluZm9MYXllclxuICAgICAgdXNlclNlZ21lbnQgPSBhd2FpdCBjb21wdXRlU2VnbWVudCh0cmVhdG1lbnRXZWlnaHRzKTtcbiAgICB9XG5cbiAgICAvLyBpZiBjYW5ub3QgZ2V0IGNyaXRpY2FsIGluZm8sIG1ha2Ugb3V0IG9mIHNjb3BlIGFuZCB1bnN1cHBvcnRlZFxuICAgIGlmIChcbiAgICAgIGNvb2tpZVBjdCA9PT0gbnVsbCB8fFxuICAgICAgIW5hdmlnYXRvci5zZW5kQmVhY29uIHx8XG4gICAgICB0eXBlb2YgbmF2aWdhdG9yLnNlbmRCZWFjb24gIT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgdHlwZW9mIFN0cmluZz8ucHJvdG90eXBlPy5wYWRTdGFydCAhPT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICAob29zUmVhc29uICYmIG9vc1JlYXNvbiA9PT0gXCJ1bnN1cHBvcnRlZFwiKSB8fFxuICAgICAgKCF1c2VyU2VnbWVudClcbiAgICApIHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcInVuc3VwcG9ydGVkXCJ9KTtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuT1VUX09GX1NDT1BFLCBcInVuc3VwcG9ydGVkXCIpO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJHTE9WX09OXCIsIFwidW5zdXBwb3J0ZWQgfCBkZXZpY2VcIik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZC1kZXZpY2VcIik7XG4gICAgfVxuXG4gICAgY29uc3QgaXNMYWJlbFNlbnQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLklTX0xBQkVMX1NFTlQpO1xuICAgIGNvbnN0IHRpbWVvdXRDb3VudGVyID0gcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5USU1FT1VUX0NPVU5UKSkgfHwgMDtcblxuICAgIC8vIGNoZWNrIGlmIGRlYnVnIG1vZGUgaXMgb24sIGFsc28gYWRkcyBkYm0gdG8gYmVhZ2xlSW5mb0xheWVyIGFuZCBzZXRzIG9vc1JlYXNvblxuICAgIGNvbnN0IGRlYnVnTW9kZSA9IGdldERlYnVnTW9kZShcImVtcGxveWVlXCIpO1xuXG4gICAgLy8gaWYgdGltZWQtb3V0IHRvbyBtYW55IHRpbWVzIGZvciB2ZXJ5IGZpcnN0IGludGVyYWN0c2lvbnMsIG1ha2Ugb3V0IG9mIHNjb3BlIGZvciB0aGUgc2Vzc2lvblxuICAgIGlmICghZGVidWdNb2RlICYmICFvb3NSZWFzb24gJiYgIWlzTGFiZWxTZW50ICYmIHRpbWVvdXRDb3VudGVyID4gTUFYX1RJTUVPVVRfUEVSX1NFU1NJT05cbiAgICApIHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcInVuc3VwcG9ydGVkXCJ9KTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiR0xPVl9PTlwiLCBcInVuc3VwcG9ydGVkIHwgdGltZW91dFwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1heC10aW1lb3V0XCIpO1xuICAgIH1cblxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEFETUlOIFVTRVIgQ0hFQ0sgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbiAgICAvLyBUT0RPOiByZW5hbWUgc2hvd3Jvb20gbG9naWMgdG8gYWRtaW4sIGFuZCBtYXAgdnZzSXNTaG93cm9vbSB0byBhIGNvbmZpZ3VyYWJsZSBhZG1pbiBwYXJhbVxuXG4gICAgLy8gaWYgYWRtaW4gdXNlciwgbWFrZSBvdXQgb2Ygc2NvcGUgYW5kIG1hcmsgYXMgZW1wbG95ZWVcbiAgICBjb25zdCBwcm9jZXNzQWRtaW5Vc2VyID0gKCkgPT4ge1xuICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwiZW1wbG95ZWVcIn0pO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUsIFwiZW1wbG95ZWVcIik7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLklTX0FETUlOLCB0cnVlKTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiR0xPVl9PTlwiLCBcImVtcGxveWVlIHwgYWRtaW5cIik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhZG1pbi1lbXBsb3llZVwiKTtcbiAgICB9O1xuXG4gICAgbGV0IGlzQWRtaW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLklTX0FETUlOKTtcbiAgICAvLyBpZiBub3QgZm91bmQgaW4gbG9jYWxTdG9yYWdlLCBjaGVjayBiZWFnbGVJbmZvTGF5ZXIgd2l0aCBibG9ja2luZyBtZG9lXG4gICAgaWYgKGlzQWRtaW4gPT09IG51bGwgfHwgaXNBZG1pbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpc0FkbWluID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInZ2c0lzU2hvd3Jvb21cIiwgdHJ1ZSk7XG4gICAgLy8gcGVybWFuZW50IGxhYmVsIGNhbiBiZSBmYWxzZSwgYnV0IGFkbWluIHVzZXIgY2FuIHN0aWxsIGxvZ2luIGFuZCB0dXJuIHRydWUsIGxhemlseSBmaXggdGhpc1xuICAgIH0gZWxzZSBpZiAoaXNBZG1pbiA9PT0gXCJmYWxzZVwiIHx8IGlzQWRtaW4gPT09IGZhbHNlKSB7XG4gICAgICAvLyBhc3luYyBjYWxsIHRvIGdldEZyb21CZWFnbGVJbmZvTGF5ZXIsIHRoZW4gc2V0IGxvY2FsU3RvcmFnZVxuICAgICAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInZ2c0lzU2hvd3Jvb21cIiwgdHJ1ZSkudGhlbigoaXNBZG1pbikgPT4ge1xuICAgICAgICBpZiAoaXNBZG1pbiAmJiAoaXNBZG1pbiA9PT0gXCJ0cnVlXCIgfHwgaXNBZG1pbiA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgICBwcm9jZXNzQWRtaW5Vc2VyKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpc0FkbWluICYmIChpc0FkbWluID09PSBcInRydWVcIiB8fCBpc0FkbWluID09PSB0cnVlKSkge1xuICAgICAgcHJvY2Vzc0FkbWluVXNlcigpO1xuICAgIH0gZWxzZSBpZiAoaXNBZG1pbiA9PT0gbnVsbCB8fCBpc0FkbWluID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuVElNRU9VVF9DT1VOVCwgdGltZW91dENvdW50ZXIgKyAxKTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiR0xPVl9PTlwiLCBcIm5vdC1zZW50IHwgdGltZW91dFwiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vLWFkbWluLXN0YXR1c1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5JU19BRE1JTiwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmICghd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ2xvdi1lYXNlXCIpKSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlRJTUVPVVRfQ09VTlQsIHRpbWVvdXRDb3VudGVyICsgMSk7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIkdMT1ZfT05cIiwgXCJub3Qtc2VudCB8IHRpbWVvdXRcIik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhbnRpLWZsaWNrZXItdGltZW91dFwiKTtcbiAgICB9XG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IE9OL09GRiBDSEVDSyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4gICAgLy8gaXNPbiBjYW4gYmUgdHJ1ZSAoT04pLCBmYWxzZSAoT0ZGKVxuICAgIGxldCBpc09uID0gbnVsbDtcblxuICAgIGlmIChkZWJ1Z01vZGUpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJEZWJ1ZyBtb2RlIG9uOiBhbGwgYXBwbGljYWJsZSB0cmVhdG1lbnRzIHdpbGwgYmUgYXBwbGllZFwiKTtcbiAgICAgIGlzT24gPSB0cnVlO1xuICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwiZW1wbG95ZWVcIn0pO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJHTE9WX09OXCIsIFwiZW1wbG95ZWUgfCB0ZXN0ZXJcIik7XG4gICAgfSBlbHNlIGlmIChvb3NSZWFzb24gJiYgb29zUmVhc29uID09PSBcImVtcGxveWVlXCIpIHtcbiAgICAgIGxvZ2dlci53YXJuKFwiVXNlciBpcyBvdXQgb2Ygc2NvcGVcIik7XG4gICAgICAvLyBzZXQgaXNPbiB0byB0cnVlL2ZhbHNlIHdoZW4gbm90IGRlYnVnTW9kZSBidXQgb3V0IG9mIHNjb3BlIGkuZS4gbmRfZGVidWc9MCBmb3IgdGVzdGFiaWxpdHlcbiAgICAgIGlzT24gPSBjb29raWVQY3QgPj0gU1BMSVRfUkFUSU87XG4gICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJlbXBsb3llZVwifSk7XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIkdMT1ZfT05cIiwgXCJlbXBsb3llZSB8IHRlc3RlclwiKTtcbiAgICB9IGVsc2UgaWYgKG9vc1JlYXNvbikge1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJHTE9WX09OXCIsIFwibm90LXNlbnQgfCB1bmtub3duXCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBvdXQgb2Ygc2NvcGUgcmVhc29uXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiBncmVhdGVyIHRoYW4gU1BMSVRfUkFUSU8sIHRoZW4gaW4gT04gbW9kZVxuICAgICAgaWYgKGNvb2tpZVBjdCA+PSBTUExJVF9SQVRJTykge1xuICAgICAgICBpc09uID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwidHJ1ZVwifSk7XG4gICAgICB9IGVsc2UgaWYgKGNvb2tpZVBjdCA+PSBTUExJVF9SQVRJTy8yKSB7XG4gICAgICAgIGlzT24gPSBmYWxzZTtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwiZmFsc2UyXCJ9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlzT24gPSBmYWxzZTtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwiZmFsc2UxXCJ9KTtcbiAgICAgIH1cblxuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpc09uXCIsIGlzT24pO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5JU19MQUJFTF9TRU5ULCB0cnVlKTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiR0xPVl9PTlwiLCBpc09uLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBFQVJMWS1QUk9DRVNTIENPTlZFUlNJT04gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbiAgICAvLyBhd2FpdCBjcml0aWNhbCBpbmZvIGJlZm9yZSBzZW5kaW5nIGxvZ3MgZm9yIHByb3BlciBhbmFseXRpY3MgbWVhc3VyZW1lbnRzXG4gICAgY29uc3QgcGFnZVR5cGUgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiUGFnZVR5cGVcIiwgdHJ1ZSk7XG4gICAgaWYgKHBhZ2VUeXBlID09PSBcInB1cmNoYXNlXCIpIHtcbiAgICAgIGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJwdXJjaGFzZS5yZXZlbnVlXCIsIHRydWUsIDUwLCA1MDAwKTtcbiAgICAgIGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJwdXJjaGFzZS5wYXltZW50VHlwZVwiLCB0cnVlLCA1MCwgNTAwMCk7XG4gICAgICAvLyBzZW5kIGxvZ3MgaW1tZWRpYXRlbHkgb24gcHVyY2hhc2UgcGFnZSwgYW5kIGZvcmNlIHdhaXRcbiAgICAgIGF3YWl0IG1vbml0b3Iuc2VuZExvZ3ModHJ1ZSk7XG4gICAgICAvLyBpZiBwdXJjaGFzZSBpcyBjb21wbGV0ZSwgZG8gbm90IGFwcGx5IGFueSB0cmVhdG1lbnRzIG9uIHRoZSBjb25maXJtYXRpb24gcGFnZVxuICAgICAgU0hVVERPV04gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZW5kIGxvZ3Mgd2hlbiByZWFkeSwgc3RhcnQgc2NyYXBpbmcgYW5kIHNlbmRpbmcgYXN5bmNseVxuICAgICAgbW9uaXRvci5zZW5kTG9ncyhmYWxzZSk7XG4gICAgfVxuICAgIGVhcmx5TG9nU2VudCA9IHRydWU7XG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUk9CT1QgUEFUSHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4gICAgaWYgKGlzT24gPT09IHRydWUpIHtcbiAgICAgIGlmICghU0hVVERPV04pIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkJlYWdsZSBPTiBHcm91cCBQYXRoXCIpO1xuICAgICAgICBiZWFnbGVPbihpZGVudGlmaWVyLCBkZWJ1Z01vZGUsIHBhZ2VUeXBlLCB0cmVhdG1lbnRXZWlnaHRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKFwiQmVhZ2xlIE9OIEdyb3VwIFNIVVRET1dOIFBhdGhcIik7XG4gICAgICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgICAgICBoaWRlUmVtb3ZlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc09uID09PSBmYWxzZSkge1xuICAgICAgbG9nZ2VyLmluZm8oXCJCZWFnbGUgT0ZGIEdyb3VwIFBhdGhcIik7XG4gICAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICAgIGhpZGVSZW1vdmVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaXNPbiBpcyB1bmRlZmluZWQgb3IgbnVsbFwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci53YXJuKFwiQmVhZ2xlIEVhcmx5IFNjb3BlLW91dCBvciBFUlJPUjogXCIsIGVyci5tZXNzYWdlKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1cIiwgZXJyLm1lc3NhZ2UpO1xuICAgIGlmICghZWFybHlMb2dTZW50ICYmIG1vbml0b3IpIG1vbml0b3Iuc2VuZExvZ3MoZmFsc2UpO1xuICAgIGlmICghaGlkZVJlbW92ZWQpIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICB9XG59KSgpO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJPcCIsImhhc093biIsImRlZmluZVByb3BlcnR5Iiwib2JqIiwiJFN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsInRvU3RyaW5nVGFnU3ltYm9sIiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJkZWZpbmUiLCJnZW5lcmF0b3IiLCJjb250ZXh0IiwidHlwZSIsImFyZyIsImV4cG9ydHMiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsImludm9rZSIsInJlc3VsdCIsInJlamVjdCIsInN0YXRlIiwiZG9uZSIsIm1ldGhvZCIsInRyeUxvYyIsInJlY29yZCIsIm5leHQiLCJfX2F3YWl0Iiwia2V5cyIsImNvbnN0cnVjdG9yIiwicmVzZXQiLCJzdG9wIiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJpIiwiaGFzRmluYWxseSIsImFicnVwdCIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiZmluaXNoIiwicmVzZXRUcnlFbnRyeSIsImRlbGVnYXRlWWllbGQiLCJpdGVyYXRvciIsInJlc3VsdE5hbWUiLCJuZXh0TG9jIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiX19uZXN0ZWRfd2VicGFja19yZXF1aXJlXzEyNzg4X18iLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiYSIsIk9iamVjdCIsInJlc29sdmUiLCJQcm9taXNlIiwiYXJncyIsImFzeW5jR2VuZXJhdG9yU3RlcCIsIl9uZXh0IiwiX3R5cGVvZiIsIl90b1ByaW1pdGl2ZSIsImRlc2NyaXB0b3IiLCJfdG9Qcm9wZXJ0eUtleSIsInJlcGxhY2VBbGwiLCJzdHIiLCJmaW5kIiwicmVwbGFjZSIsImluZGV4IiwiaW5kZXhPZiIsInN1YnN0cmluZyIsImxlbmd0aCIsInR1cmtpc2hUb0xvd2VyIiwic3RyaW5nIiwibGV0dGVycyIsImxldHRlciIsInRvTG93ZXJDYXNlIiwiaXNTdGFnaW5nIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiaW5jbHVkZXMiLCJWRVJTSU9OIiwiQ09PS0lFX05BTUUiLCJUUkVBVE1FTlRTX0xPQ0FUSU9OIiwiVFJFQVRNRU5UX1dFSUdIVFNfTE9DQVRJT04iLCJTVFlMRVNIRUVUX0xPQ0FUSU9OIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiRV9SVUxFU19MT0NBVElPTiIsIlBST0RVQ1RfSU5GT19MT0NBVElPTiIsIkxPR19BUElfVVJMIiwiTE9PS1VQX0FQSV9VUkwiLCJNT0JJTEVfTUVESUFfUVVFUlkiLCJTUExJVF9SQVRJTyIsIlRSRUFUTUVOVF9SQVRJTyIsIkxPQ0FMX1NUT1JBR0VfVFRMX0hPVVJTIiwiTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04iLCJMSVNUX01PREVfQkVBR0xFX0tFWVMiLCJJRExFX1RJTUVPVVQiLCJTRVNTSU9OX1NUT1JBR0VfS0VZUyIsIlNFU1NJT05fVElNRVNUQU1QIiwiU0VTU0lPTl9ISVNUT1JZIiwiUE9QVVBfRElTUExBWV9GTEFHIiwiU0tVX0lORk9fQkFTS0VUIiwiVElNRU9VVF9DT1VOVCIsIlNFU1NJT05fUkVGRVJSRVIiLCJNQVRDSEVEX1RSRUFUTUVOVFMiLCJMT0NBTF9TVE9SQUdFX0tFWVMiLCJUUkVBVE1FTlRTIiwiV0VJR0hUUyIsIkVMSUdJQklMSVRZX1JVTEVTIiwiREVCVUdfTU9ERSIsIk9VVF9PRl9TQ09QRSIsIklTX0xBQkVMX1NFTlQiLCJVU0VSX0lEIiwiREFUQV9DT0xMRUNUSU9OX0RBVEFfU0laRSIsIklTX0FETUlOIiwiQ1VTVE9NX1NUT1JBR0VfUFJFRklYIiwiTG9nZ2VyIiwib3JpZ2luIiwidGVzdGluZyIsIkRFQlVHIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIl9jcmVhdGVDbGFzcyIsImluZm8iLCJsb2ciLCJtZXNzYWdlQ29uZmlnIiwiZm9yRWFjaCIsImFyZ3VtZW50Iiwid2FybiIsImVycm9yIiwiX2UiLCJfeCIsIl9yIiwiX2FyciIsIl9uIiwiX2QiLCJhcnIyIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVSZXN0IiwiX2FycmF5V2l0aG91dEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVNwcmVhZCIsImtleSIsImxvZ2dlciIsIm1vbnRocyIsInJlbW92ZURvY3VtZW50SGlkZSIsInRvcCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic3dpdGNoVG9FYXNlT3V0IiwiY29udGFpbnMiLCJlbCIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsInByZXBlbmQiLCJhZGQiLCJmZXRjaFRyZWF0bWVudHMiLCJfY29udGV4dDIiLCJmZXRjaFBsdXMiLCJ0cmVhdG1lbnRzIiwiRXJyb3IiLCJqc29uIiwianNvblRyZWF0bWVudCIsImZhaWxlZCIsIm1lc3NhZ2UiLCJmZXRjaFRyZWF0bWVudFdlaWdodHMiLCJfY29udGV4dDMiLCJ0cmVhdG1lbnRXZWlnaHRzIiwianNvblRyZWF0bWVudFdlaWdodHMiLCJmZXRjaEVsaWdpYmlsaXR5UnVsZXMiLCJfY29udGV4dDQiLCJlbGlnaWJpbGl0eVJ1bGVzIiwianNvbkVsaWdpYmlsaXR5UnVsZXMiLCJmZXRjaFByb2R1Y3RJbmZvIiwiX2NvbnRleHQ1IiwicHJvZHVjdEluZm8iLCJwcm9kdWN0SW5mb0pzb24iLCJ0aW1lb3V0IiwidGltZSIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJ1cmwiLCJvcHRpb25zIiwicmV0cmllcyIsImZldGNoIiwic2lnbmFsIiwidGhlbiIsInJlcyIsIm9rIiwic3RhdHVzIiwiY2F0Y2giLCJleHRyYWN0Q29va2llSWRlbnRpZmllciIsImNvb2tpZVN0cmluZyIsImNvb2tpZU5hbWUiLCJwYXJzZWQiLCJzcGxpdCIsIm1hcCIsInYiLCJyZWR1Y2UiLCJhY2MiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ0cmltIiwiaWRlbnRpZmllciIsImlkZW50aWZpZXJJbmRleCIsImRldGVybWluZVBjdCIsImhhc2giLCJnZXRVbnNlY3VyZUhhc2giLCJwY3QiLCJleGl0U2Nyb2xsTGlzdGVuZXIiLCJjYWxsQmFjayIsImxvb3AiLCJzY3JvbGxUb3AiLCJsYXN0U2Nyb2xsVG9wIiwiY2xlYXJJbnRlcnZhbCIsImV4aXRTY3JvbGxJbnRlcnZhbCIsInNldEludGVydmFsIiwic3R5bGVBcHBsaWNhdG9yIiwiZWxlbWVudHMiLCJzdHlsZUNoYW5nZXNNYXAiLCJlbGVtZW50IiwiZW50cmllcyIsInN0eWxlIiwiaW5qZWN0U3R5bGVTaGVldCIsInN0eWxlU2hlZXQiLCJyZWwiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJwcmVwYXJlQWN0aW9ucyIsImFjdGlvbnNUb1ByZXBhcmUiLCJidXNpbmVzc1J1bGVJZCIsImRlYnVnTW9kZSIsImFjdGlvbnMiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJ2YXJpYW50IiwiYWN0aW9uIiwiYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zIiwidmFyaWFudHMiLCJidXNpbmVzc1RyYW5zZm9ybWF0aW9uIiwiaWQiLCJ2YXJpYW50S2V5IiwicmFuZG9tUGN0Iiwid2VpZ2h0IiwiTWF0aCIsImZsb29yIiwiaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMiLCJwb3B1cERpc3BsYXlGbGFnIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXNzaW9uVGltZXN0YW1wIiwic2Vzc2lvbkhpc3RvcnkiLCJzZXRJdGVtIiwibm93IiwicGF0aG5hbWUiLCJjb25kaXRpb25DaGVja2VyIiwicnVuVGltZVZhbHVlIiwiY29uZGl0aW9uIiwic3VjY2VzcyIsInVuZGVmaW5lZCIsIm1pbiIsIm1heCIsInBhcnNlSW50IiwicmVnZXgiLCJSZWdFeHAiLCJ0ZXN0IiwiZ2V0RGVidWdNb2RlIiwib29zUmVhc29uIiwicXVlcnlTdHJpbmciLCJzZWFyY2giLCJhZGRUb0JlYWdsZUluZm9MYXllciIsInJlbW92ZUl0ZW0iLCJjdXJyZW50IiwiZ2V0R2FDbGllbnRJZCIsImdhIiwiZ2V0QWxsIiwidHJhY2tlcnMiLCJnZXQiLCJjaGFyIiwiY2hhckNvZGVBdCIsImFicyIsImdldFJhbmRvbUludCIsInJhbmRvbSIsImdldFVuaXhUaW1lIiwiZ2V0SWRlbnRpZmllciIsImV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwiLCJlIiwiZGVsYXkiLCJtcyIsImZvcm1hdERlbGl2ZXJ5RGF0ZSIsImRhdGUiLCJzdGFydE1vbnRoSW5kZXgiLCJlbmRNb250aEluZGV4Iiwic3RhcnREYXkiLCJlbmREYXkiLCJtYXRjaCIsInRvZGF5Iiwic3RhcnRZZWFyIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImVuZFllYXIiLCJlc3RpbWF0ZWRTdGFydCIsImVzdGltYXRlZEVuZCIsInN0YXJ0RGlmZk92ZXJEYXlzIiwiY2VpbCIsImVuZERpZmZPdmVyRGF5cyIsInN0YXJ0RGlmZk92ZXJXZWVrcyIsImVuZERpZmZPdmVyV2Vla3MiLCJlcnIiLCJpZGxlVGltZXIiLCJ0aW1lT3V0IiwicmVzZXRUaW1lciIsImNsZWFyVGltZW91dCIsImlkbGVUaW1lb3V0Iiwib250b3VjaHN0YXJ0IiwiZ2V0QnJvd3NlclR5cGUiLCJ1c2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJpc093bk11dGF0aW9uIiwibXV0YXRpb25MaXN0Iiwibm9kZXMiLCJBcnJheSIsImZyb20iLCJhZGRlZE5vZGVzIiwicmVtb3ZlZE5vZGVzIiwic29tZSIsIm4iLCJ0YWdOYW1lIiwiX24kaWQiLCJjIiwiY29uZmlnIiwiZGJOYW1lIiwidmVyc2lvbiIsIm1haW50ZW5hbmNlT3BlcmF0aW9uQ291bnQiLCJzdG9yZSIsIm5hbWUiLCJpbmRleGVzIiwiZmllbGRzIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJfd2luZG93IiwiYWxsdGltZSIsInNlc3Npb24iLCJCZWFnbGVEYXRhQ29sbGVjdGlvbldyYXBwZXIiLCJpbmRleGVkREIiLCJpbml0Iiwib3BlblJlcXVlc3QiLCJfd2luZG93JHRvcCRpbmRleGVkREIiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwiZXZlbnQiLCJvbGRWZXJzaW9uIiwiZGVsZXRlT2JqZWN0U3RvcmUiLCJjcmVhdGVPYmplY3RTdG9yZSIsIl9jb25maWckc3RvcmUkaW5kZXhlcyIsImlkeCIsImNyZWF0ZUluZGV4Iiwib25lcnJvciIsIm9uc3VjY2VzcyIsImRiIiwiZGVsZXRlUmVxdWVzdCIsImRlbGV0ZURhdGFiYXNlIiwiX3RoaXMiLCJpbnRlcnZhbCIsIl90aGlzMiIsInJlYWR3cml0ZSIsImdldENvbm5lY3Rpb24iLCJ0eCIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJkYXRhTmFtZSIsImRhdGFWYWx1ZSIsImluaXRUcmFuc2FjdGlvbiIsInNlc3Npb25JZCIsImdldEN1cnJlbnRTZXNzaW9uSWQiLCJyb3VuZCIsInBheWxvYWQiLCJwdXQiLCJvcCIsIl90aGlzMyIsInN0b3JlZCIsImdldEN1cnNvciIsImN1cnNvciIsInRhcmdldCIsImNvbnNvbGUiLCJjb250aW51ZSIsIm1pbm1heCIsIl90aGlzNCIsIk1hcCIsImhhcyIsInNldCIsImdyb3VwQnkiLCJkYXRhIiwiX3RoaXM1IiwiY291bnQiLCJfdGhpczYiLCJ0b3RhbCIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwib3BlbkN1cnNvciIsIklEQktleVJhbmdlIiwib25seSIsInRvU3RyaW5nIiwiaW5kZXhWYWx1ZSIsInN1bSIsInNpemUiLCJfdGhpczciLCJ2YWx1ZXMiLCJwdXNoIiwiZCIsInNldEhvdXJzIiwiZ2V0SG91cnMiLCJwYWRTdGFydCIsImdldERhdGUiLCJjb2xsZWN0b3JBcGkiLCJDb2xsZWN0b3JBcGkiLCJxdWVyeUluQ29sbGVjdG9yIiwiYmFzZUZlYXR1cmVOYW1lIiwicXVlcnlNZXRob2QiLCJxdWVyeVByb21pc2UiLCJhdmciLCJtb2RlIiwibGFzdCIsImRhdGFWYWx1ZXMiLCJkYXRhX3ZhbHVlIiwidXBkYXRlSW5Db2xsZWN0b3IiLCJiYXNlRmVhdHVyZVZhbHVlIiwidXBkYXRlTWV0aG9kIiwic2F2ZSIsImJlYWdsZUluZm9MYXllciIsImYiLCJfX2h3bSIsInNlYXJjaFBhdGhzIiwiUGFnZVR5cGVEZXBlbmQiLCJzZWxlY3RvciIsImZvcm1hdHRlciIsImV4Y2x1c2l2ZSIsIm9wZXJhbmQiLCJjaGlsZHJlbiIsImZlYXR1cmVFbmdpbmVlcmluZ09wcyIsImZlYXR1cmVOYW1lIiwiaW5jcmVhc2VCZWFnbGVJbmZvTGF5ZXJIV00iLCJpbmZvTGF5ZXIiLCJ0eXBlZFZhbHVlIiwibGFzdEtleSIsInBvcCIsInVwZGF0ZURlcml2YXRpb25zSW5Db2xsZWN0b3IiLCJwYXNzVmFsdWVUb0xpc3RlbmVycyIsIkRBVEFfTElTVEVORVJTIiwiYWRkRGF0YUxpc3RlbmVyIiwibGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJpc0FycmF5IiwiZ2V0RnJvbUJlYWdsZUluZm9MYXllciIsImJsb2NraW5nIiwicG9sbEludGVydmFsIiwib2J0YWluRGF0YSIsImpzb25HZXQiLCJzZWFyY2hFbGVtZW50IiwiaXNGb3VuZCIsImlzSWdub3JlIiwicmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllciIsImFkZFRyZWF0bWVudCIsImRlcGVuZGFudF9vbl90cmVhdG1lbnQiLCJQQVJTRVNFQVJDSE1BWFJFVFJZIiwiUEFSU0VTRUFSQ0hTVEFSVERFTEFZIiwicGFyc2VTZWFyY2hQYXRoc0RlbGF5IiwicGFyc2VTZWFyY2hQYXRoc1JldHJ5IiwiaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciIsInByZXBhcmVDb3JlRGF0YSIsInBhcnNlckNhbGxlciIsImFkZE1ldHJpY3MiLCJjb2xsZWN0RGVyaXZhdGlvbnNGcm9tQ29sbGVjdG9yIiwiYmFzZUZlYXR1cmVOYW1lcyIsIkZFRGF0YSIsIkZFT3AiLCJxdWVyeVJlc3BvbnNlIiwicHJvY2Vzc0Zvcm1hdHRlciIsInRvVXBwZXJDYXNlIiwic2VhcmNoT2JqIiwibGF5ZXJWYWx1ZSIsImZpbHRlclBhcmFtcyIsImZpbHRlck5hbWUiLCJmaWx0ZXJWYWx1ZSIsImZpbHRlck1hdGNoIiwicXVlcnlTZWxlY3RvciIsInRvQmVVcGRhdGVkIiwiY2hpbGQiLCJjaGlsZEVsZW1lbnRzIiwiZmlsdGVyIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwidHJpZ2dlclJlc3RhcnQiLCJvYnNlcnZlIiwic3VidHJlZSIsImNoaWxkTGlzdCIsImlubmVyVGV4dCIsImF0dHJpYlZhbHVlTGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ2YWx1ZWNoaWxkIiwiYXR0cmliVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJzZXRWYWx1ZSIsInN1bVByaWNlIiwiY2hpbGRUZXh0IiwiYXJyYXlJbm5lclRleHQiLCJleGNsdXNpdmVFbGVtZW50IiwiY3VzdG9tRGF0YURlcml2YXRpb25zIiwiY3VycmVudFBhZ2VUeXBlIiwiYWxsIiwiaXNDYXJ0RW1wdHkiLCJ0b3RhbEJhc2VQcmljZSIsImNvdXBvbk5vdEFwcGxpY2FibGUiLCJwcmljZXMiLCJxdWFudGl0aWVzIiwidG90YWxQcmljZSIsImNvdXBvbkFwcGxpY2FibGVBbW91bnQiLCJza3UiLCJza3VMaXN0IiwicGFyc2VTZWFyY2hQYXRocyIsImRvbVN0YXR1cyIsInJlYWR5U3RhdGUiLCJ3aW50b3AiLCJkYXRhTGF5ZXIiLCJ3aW5kb2MiLCJmb3VuZE5hbWVzIiwiU2V0IiwicHJldkZvdW5kTmFtZXMiLCJub3RGb3VuZE5hbWVzIiwiX2NvbnRleHQ2IiwiX2l0ZXJhdG9yOSIsInNlYXJjaEFuZFNldCIsIl9pdGVyYXRvcjExIiwiZGF0YUxheWVySXRlbSIsInNvcmdBcnJheUlubmVyIiwiZ2V0U09SR0FycmF5IiwiX2l0ZXJhdG9yMTIiLCJzb3JnSXRlbSIsImpvaW4iLCJfY29udGV4dDgiLCJwYXRoIiwicGF0aEFycmF5Iiwic3ViUGF0aCIsInNsaWNlIiwic3ViQXJyYXkiLCJzdWJLZXkiLCJzdWJWYWx1ZSIsIndpbmRvd1B0ciIsIm5hdlB0ciIsInBsYXRmb3JtIiwiX3dpbmRvd1B0ciRuYXZpZ2F0b3IiLCJ1c2VyQWdlbnREYXRhIiwiX3dpbmRvd1B0ciRuYXZpZ2F0b3IkIiwiX3dpbmRvd1B0ciRuYXZpZ2F0b3IyIiwiX3dpbmRvd1B0ciRuYXZpZ2F0b3IzIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImF2YWlsV2luZG93Iiwic2NyZWVuIiwiX3dpbmRvd1B0ciRzY3JlZW4iLCJhdmFpbFdpZHRoIiwiX3dpbmRvd1B0ciRzY3JlZW4yIiwiYXZhaWxIZWlnaHQiLCJ3aW5kb3dEZXB0aCIsIl93aW5kb3dQdHIkc2NyZWVuMyIsImNvbG9yRGVwdGgiLCJfd2luZG93UHRyJHNjcmVlbjQiLCJwaXhlbERlcHRoIiwidnBvcnRTaGFwZSIsInZpc3VhbFZpZXdwb3J0IiwiX3dpbmRvd1B0ciR2aXN1YWxWaWV3Iiwid2lkdGgiLCJfd2luZG93UHRyJHZpc3VhbFZpZXcyIiwiaGVpZ2h0IiwiaU9TIiwib3JpZW50YXRpb25BbmdsZSIsIl93aW5kb3dQdHIkc2NyZWVuNSIsIm9yaWVudGF0aW9uIiwiX3dpbmRvd1B0ciRzY3JlZW41JG9yIiwiYW5nbGUiLCJ0ZW1wIiwiaGlzdG9yeSIsIl93aW5kb3dQdHIkaGlzdG9yeSIsIm5hdkFnZW50IiwiX25hdlB0ciR1c2VyQWdlbnREYXRhIiwiYnJhbmRzIiwiX25hdlB0ciR1c2VyQWdlbnREYXRhMiIsImJyYW5kIiwiX25hdlB0ciR1c2VyQWdlbnREYXRhMyIsIm1vYmlsZSIsImhhcmR3YXJlQ29uY3VycmVuY3kiLCJsYW5ndWFnZSIsImJyb3dzZXJMYW5ndWFnZSIsInN5c3RlbUxhbmd1YWdlIiwidXNlckxhbmd1YWdlIiwibWF4VG91Y2hQb2ludHMiLCJ2ZW5kb3IiLCJfd2luZG93UHRyJG5hdmlnYXRvcjQiLCJjb25uZWN0aW9uIiwiX3dpbmRvd1B0ciRuYXZpZ2F0b3I1IiwiZG93bmxpbmsiLCJjdXJyZW50VVJMIiwiVVJMIiwiaG9zdG5hbWUiLCJkb05vdFRyYWNrIiwibXNEb05vdFRyYWNrIiwicmVmZXJyZXIiLCJmaXJzdFNlc3Npb25SZWZlcnJlciIsInBhZ2VUeXBlIiwicGVyZk1ldHJpY3MiLCJwZXJmTmF2aWdhdGlvbk1ldHJpY3MiLCJwZXJmb3JtYW5jZSIsImdldEVudHJpZXNCeVR5cGUiLCJjb25uZWN0IiwiY29ubmVjdEVuZCIsImNvbm5lY3RTdGFydCIsInJlcXVlc3QiLCJyZXNwb25zZUVuZCIsInJlcXVlc3RTdGFydCIsImRvbSIsImRvbUludGVyYWN0aXZlIiwiZG9tQ29tcGxldGUiLCJsb2FkIiwibG9hZEV2ZW50RW5kIiwibG9hZEV2ZW50U3RhcnQiLCJkdXJhdGlvbiIsInNjaGVtYU9yZ0VsdHMiLCJzb3JnQXJyYXkiLCJzVGFnIiwiY250bnQiLCJqc29uY29udGVudCIsIkhFQURFUlMiLCJNb25pdG9yIiwiaGFzQXJyaXZhbExvZ1NlbnQiLCJoYXNNYWluTG9nU2VudCIsImhhc1VwZGF0ZXNTZW50IiwiaGlnaFdhdGVyTWFyayIsImluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcnMiLCJpbW1lZGlhdGUiLCJfY29udGV4dCIsInBhY2tBbmRRdWV1ZU1haW5Mb2ciLCJwYWNrQW5kUXVldWVJbmNyZW1lbnRhbExvZyIsInBhY2thZ2VNYWluTG9nRGF0YSIsInJlcXVlc3RCbG9iIiwiY2hlY2tGb3JMYXRlc3RDaGFuZ2VzIiwicXVldWVMb2dzIiwiaGFzQ2hhbmdlZCIsInBhY2thZ2VJbmNyZW1lbnRhbExvZ0RhdGEiLCJsb2dEYXRhIiwicGFja2FnZUFycml2YWxMb2dEYXRhIiwiaHdtIiwiY29va2llR2FJZCIsInZpZXdfZXBvY2giLCJib2R5IiwibGMiLCJ1Iiwib25IYXNoUGN0IiwiQmxvYiIsInN0YXJ0c1dpdGgiLCJzIiwibSIsInZpc2liaWxpdHlDaGFuZ2VUaW1lb3V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jb250ZXh0MTAiLCJoYW5kbGVDbG9zZUV2ZW50IiwiY2FwdHVyZSIsIl9jb250ZXh0MTEiLCJ2aXNpYmlsaXR5U3RhdGUiLCJfY29udGV4dDEyIiwic2VuZEJlYWNvbiIsInF1ZXVlZCIsInF1ZXVlSW50ZXJ2YWwiLCJUcmVhdG1lbnRSZXBvc2l0b3J5IiwiQ1BUIiwiX0NQVCIsIm1hdGNoZWRUcmVhdG1lbnRzIiwibXQiLCJjaGVja1BhZ2VUeXBlIiwicGFnZVR5cGVzIiwidXNlclNlZ21lbnQiLCJ1c2VyU2VnbWVudFdlaWdodHMiLCJ0cmVhdG1lbnQiLCJzZWdtZW50ZWRXZWlnaHQiLCJfdXNlclNlZ21lbnRXZWlnaHRzJHQiLCJfdXNlclNlZ21lbnRXZWlnaHRzJHQyIiwiX3VzZXJTZWdtZW50V2VpZ2h0cyR0MyIsIl91c2VyU2VnbWVudFdlaWdodHMkdDQiLCJnZXRNYXRjaGVkVHJlYXRtZW50cyIsInB0Iiwic3Vic3RyIiwidHJlYXRtZW50c09iaiIsInRpbWVzdGFtcCIsInRyZWF0bWVudFdpdGhUaW1lc3RhbXAiLCJlbGFwc2VkSG91cnMiLCJ3ZWlnaHRzT2JqIiwid2VpZ2h0cyIsInJlcGxhY2VyIiwicmVwbGFjZUZuIiwidmFsIiwiY3VycmVudFJlcGxhY2VGbiIsInJlcGxhY2VPYmplY3RFeHRyYWN0b3IiLCJyZXBsYWNlVmFsIiwicmVwbGFjZUZuRXhlY3V0b3IiLCJyRm4iLCJzaW5nbGUiLCJyZXBsYWNlRnVuY3Rpb24iLCJzdG9yYWdlIiwia2V5RmFsbGJhY2siLCJHbG92UHJvZHVjdEluZm9SZXBvc2l0b3J5IiwiY2xlYXJSZXF1ZXN0IiwiY2xlYXIiLCJnZXRSZXF1ZXN0IiwiY291bnRSZXF1ZXN0IiwiY3Vyc29yUmVxdWVzdCIsIl9jb250ZXh0NyIsImV4aXN0aW5nUHJvZEluZm8iLCJlbGFwc2VkU2Vjb25kcyIsInByb2R1Y3RJbmZvUHJvbWlzZSIsImNsZWFyUHJvbWlzZSIsInByb2R1Y3RJbmZvQXJyYXkiLCJwcmVwYXJlUGF5bG9hZHMiLCJwYXlsb2FkcyIsImZpZWxkTmFtZXMiLCJzaGlmdCIsIlN0b3JlIiwiaW5zdGFuY2UiLCJnZXRJbnN0YW5jZSIsImNoZWNrQWN0aW9uQ29uZGl0aW9uIiwiZWxpZ2libGVFbGVtZW50cyIsImF0dHJpYnV0ZSIsImlubmVyX2NvbmRpdGlvbiIsIm9wZXJhdG9yIiwiY2hhaW4iLCJjb25kaXRpb25FbGVtZW50cyIsImFjdGlvbkNvbmRpdGlvbkNoZWNrZXIiLCIkIiwiZWxlbWVudFNrdSIsImFwcGx5QWN0aW9ucyIsInRyYW5zZm9ybWVyIiwiYXBwbHlFdmVudCIsImNvbnRlbnRTZWxlY3RvciIsInNlbGVjdG9yRmFsbGJhY2siLCJtZENvbmRpdGlvbiIsIm1vdmVfc2VsZWN0b3JfMSIsIm1vdmVfc2VsZWN0b3JfMiIsInBUeXBlIiwicHJvZHVjdEluZm9TdG9yYWdlIiwibWMiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsIlN0cmluZyIsImJlZm9yZSIsImFmdGVyIiwiYXBwZW5kIiwib2ZmIiwiY3JlYXRlUG9wdXAiLCJlbG0iLCJzdG9wUHJvcGFnYXRpb24iLCJkaXNwbGF5TW9kYWwiLCJnZXRQcm9kdWN0SW5mbyIsImRpc3BsYXlQb3B1cCIsInIiLCJwdXNoU3RhdGUiLCJvbmNlIiwidGV4dCIsImh0bWwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwib3JpZ2luYWxUaXRsZSIsInRpdGxlIiwiaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSIsImNzcyIsInByb3BlcnR5IiwicHJvcGVydHlWYWx1ZSIsImF0dHIiLCJuMSIsIm4yIiwic3dhcE5vZGVzIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJfZSRpbm5lclRleHQiLCJzZW50ZW5jZSIsIndvcmQiLCJjaGFyQXQiLCJ0b0xvY2FsZVVwcGVyQ2FzZSIsInByZXBhcmVGaW5hbFRpdGxlIiwiZmluYWxUaXRsZSIsInRpdGxlQXVnbWVudCIsInJlcGxhY2VXaXRoVmFsIiwiaHRtbFN0ciIsInNhbGVDbnRWaXNpdG9yc0luMTUiLCJjYXJ0Q250VmlzaXRvcnNJbjE1Iiwidmlld0NudFZpc2l0b3JzSW4xIiwidGl0bGVzIiwicGFyc2VkVGl0bGVzIiwicGFyc2VkVGl0bGUiLCJoaWRkZW4iLCJoYW5kbGVQb3B1cENsaWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZU1vZGFsQ2xpY2siLCJoaWRlIiwicVBvcHVwIiwiZ2V0RWxlbWVudEJ5SWQiLCJpc01vZGFsIiwicG9wdXBXcmFwcGVyIiwicG9wdXBDbG9zZUJ1dHRvbiIsInBvcHVwQ2xvc2VCdXR0b25TdHlsZSIsIm9uY2xpY2siLCJjb250ZW50cyIsInNyYyIsInRlbXBsYXRlIiwiaW5uZXJIVE1MIiwicG9wdXAiLCJjb250ZW50IiwiZmlyc3RDaGlsZCIsInAxIiwicGFyZW50Tm9kZSIsInAyIiwiaTEiLCJpMiIsImlzRXF1YWxOb2RlIiwiaW5zZXJ0QmVmb3JlIiwid2FpdEZvckpRdWVyeSIsImpRdWVyeSIsImpRdWVyeUludGVydmFsIiwiYWN0aW9uQXBwbGljYXRvciIsInN0ZXAiLCJTZW1hcGhvcmUiLCJfdGhpczgiLCJyZWxlYXNlIiwiX3RoaXM5IiwicXVldWVFbnRyeSIsImNhbGxlZCIsIl90aGlzMTEiLCJNdXRleCIsInJlbGVhc2VyIiwiYWNxdWlyZSIsImlzVGltZW91dCIsImhhbmRsZSIsInJ1bkV4Y2x1c2l2ZSIsInN5bmMiLCJjYW5jZWwiLCJ3YWl0Rm9yVW5sb2NrIiwiaXNMb2NrZWQiLCJnZXRWYWx1ZSIsIk9CU0VSVkVSX0NPTkZJRyIsImF0dHJpYnV0ZXMiLCJSb2JvdEVuZ2luZSIsImRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzIiwiZW5nYWdlbWVudExvY2siLCJyZUFwcGx5VHJlYXRtZW50c01hcCIsImFkZGVkRGF0YUxpc3RlbmVySWRzIiwiaXNNb2JpbGUiLCJyb2JvdFByb21pc2VzIiwiZW5nYWdlUm9ib3QiLCJpbml0aWF0ZVJlYXBwbHlSb2JvdE1hcCIsImVsaWdpYmlsaXR5UnVsZVNldCIsImRldmljZSIsImJ1c2luZXNzUnVsZVNldCIsImhlbHBlcnMiLCJwcmVwYXJlQW5kQXBwbHkiLCJjaGVja0VsaWdpYmlsaXR5UnVsZVNldCIsInRyZWF0bWVudFNraXBSYXRpbyIsImRldGVybWluaW5nSWRlbnRpZmllciIsInRyZWF0bWVudFBjdCIsImNoZWNrQnVzaW5lc3NSdWxlcyIsImVuZ2FnZUhlbHBlcnMiLCJhZGRSZWFwcGx5RXZlbnQiLCJhZGRSdWxlU2V0RGF0YUxpc3RlbmVycyIsImhlbHBlclJvYm90UHJvbWlzZXMiLCJwcmVwYXJlZCIsInJlYXBwbHlfZXZlbnQiLCJyZWFwcGx5X2V2ZW50X3BhZ2VfdHlwZSIsInJlYXBwbHlfZXZlbnRfYXJyYXkiLCJyZWFwcGx5RXZlbnQiLCJwcmV2aW91c1ZhbHVlIiwidHJlYXRtZW50SWRzIiwicmVBcHBseVRyZWF0bWVudHMiLCJ0IiwiUmVzaXplT2JzZXJ2ZXIiLCJyZWFwcGx5U2VsZWN0b3JMaXN0IiwicmVhcHBseV9zZWxlY3RvciIsImxhc3RTY3JvbGxUaW1lIiwiZ2V0VGltZSIsInN0IiwicGFnZVlPZmZzZXQiLCJyZWFwcGx5SW50ZXJ2YWwiLCJhcHBsaWVkIiwiYm91bmRFbmdhZ2VUcmVhdG1lbnQiLCJiaW5kIiwic2VsZWN0b3JzIiwiZXh0cmFjdERhdGFMaXN0ZW5lclNlbGVjdG9ycyIsInJ1bGVTZXQiLCJwcmV2aW91c1NlbGVjdG9ycyIsInJ1bGUiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJlbGlnaWJpbGl0eVJ1bGUiLCJvcHBvc2l0ZUZsYWciLCJlbGlnaWJpbGl0eVNjb3BlIiwiZWxpZ2liaWxpdHlOYW1lIiwiZWxpZ2liaWxpdHlTZXRUeXBlIiwicHJldmlvdXNJc0VsaWdpYmxlIiwiaXNFbGlnaWJsZSIsImNoZWNrRWxpZ2liaWxpdHkiLCJidXNpbmVzc1J1bGUiLCJjaGVja0RhdGFMYXllclJ1bGUiLCJkYXRhTGF5ZXJGaW5kZXIiLCJydW50aW1lVmFsdWUiLCJjaGVja0VsZW1lbnRSdWxlIiwic2VsZWN0b3JBbGwiLCJtYWluU2VsZWN0b3IiLCJ0ZW1wVmFsIiwicmV0dXJuVmFsIiwiZWxlbSIsImVsZW1lbnRTdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwic3R5bGVLZXkiLCJzdHlsZVZhbHVlIiwiY2hlY2tGdW5jdGlvblJ1bGUiLCJydWxlRnVuY3Rpb24iLCJjaGVja1Nlc3Npb25SdWxlIiwiZHVyYXRpb25IYW5kbGVyIiwiaGlzdG9yeUhhbmRsZXIiLCJnZXRTZXNzaW9uVGltZXN0YW1wIiwiY3VycmVudEhpc3RvcnkiLCJfd2luZG93JHNlc3Npb25TdG9yYWciLCJjaGVja1VybFJ1bGUiLCJyZXF1ZXN0VVJMIiwiY2hlY2tFbnZSdWxlIiwiY2hlY2tQcm9kdWN0SW5mb1J1bGUiLCJfc2t1TGlzdCRPYmplY3Qka2V5cyQiLCJnZXRUcmFuc2FjdGlvbkNvdW50IiwiZ2V0QWRkVG9DYXJ0Q291bnQiLCJnZXRQcmV2aWV3Q291bnQiLCJSdWxlRW5naW5lIiwiYmFzZVJ1bGVTZXQiLCJhZGRlZERhdGFMaXN0ZW5lcnMiLCJtdXRleCIsImNoZWNrUnVsZSIsInJ1bGVTYXRpc2ZpZWQiLCJjaGFpbl9jb25kaXRpb24iLCJrZXlQcm9taXNlc01hcCIsInJ1bGVzIiwiX2l0ZXJhdG9yMiIsIl9pMiIsInJ1bGVQcm9taXNlcyIsInNhdGlzZmllZFJ1bGVJZHMiLCJzZXRVcExpc3RlbmVycyIsImZpbHRlcmVkIiwiayIsImV4dHJhY3RSdWxlQXR0cmlidXRlcyIsImRhdGFMYXllclJ1bGVzIiwiZWxlbWVudFJ1bGVzIiwiYm91bmRBc3Nlc0VsaWdpYmlsaXR5UnVsZXNDYWxsQmFjayIsImFzc2VzRWxpZ2liaWxpdHlSdWxlc0NhbGxCYWNrIiwiX2xvb3AyIiwibXV0YXRpb25SZWNvcmQiLCJldmVyeSIsImVsaWdpYmlsaXR5UnVsZXNPYmoiLCJiZWFnbGVPbiIsInBlcnNpc3RQcm9kdWN0SW5mb1Byb21pc2UiLCJwZXJzaXN0UHJvZHVjdEluZm8iLCJlbGlnaWJpbGl0eVJ1bGVzQXNzZXNzUHJvbWlzZSIsImFzc2VzRWxpZ2liaWxpdHlSdWxlcyIsInRyZWF0bWVudHNQcm9taXNlIiwic2VhcmNoUGFyYW1zIiwibGFzdEluZGV4T2YiLCJpdGVtIiwidHJlYXRtZW50UmVwb3NpdG9yeSIsInJvYm90RW5naW5lIiwiZW5nYWdlUm9ib3RzIiwicnVsZUVuZ2luZSIsImNvbXB1dGVTZWdtZW50Iiwic2VnbWVudCIsIl90cmVhdG1lbnRXZWlnaHRzJHNlZyIsInNlZ21lbnRSdWxlRW5naW5lIiwiY2hlY2tSdWxlcyIsIlNIVVRET1dOIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJtb25pdG9yIiwiZWFybHlMb2dTZW50IiwiaGlkZVJlbW92ZWQiLCJ0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSIsImNvb2tpZVBjdCIsInBhY2tBbmRRdWV1ZUFycml2YWxMb2ciLCJwcm90b3R5cGUiLCJfU3RyaW5nJHByb3RvdHlwZSIsIkdMT1ZfT04iLCJpc0xhYmVsU2VudCIsInRpbWVvdXRDb3VudGVyIiwicHJvY2Vzc0FkbWluVXNlciIsImlzQWRtaW4iLCJpc09uIiwic2VuZExvZ3MiLCJub2RlVHlwZSIsIm5vZGVWYWx1ZSIsInByZXBhcmVEZXNjRWxtIiwiZGVzY3JpcHRpb25FbG0iLCJ1cGRhdGVkSHRtbFN0cmluZyIsIm1hcmtldGluZ0NvcHkiLCJhc3luYyIsImdldFRyZWF0bWVudHMiLCJnZXRFbGlnaWJpbGl0eVJ1bGVzIiwiZ2V0VHJlYXRtZW50V2VpZ2h0cyJdLCJzb3VyY2VSb290IjoiIn0=

!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw a;return _()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=L(i,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?g:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=g,n.method="throw",n.arg=c.arg)}}}(e,n,i),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function h(){}function m(){}function y(){}var w={};c(w,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(T([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=y.prototype=h.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,s){var c=l(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:_}}function _(){return{value:t,done:!0}}return m.prototype=y,c(x,"constructor",y),c(y,"constructor",m),m.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(I.prototype),c(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),c(x,s,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(o,a){var i=t.apply(n,r);function s(t){e(i,o,a,s,c,"next",t)}function c(t){e(i,o,a,s,c,"throw",t)}s(void 0)}))}}var r=n(757),o=n.n(r);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";var r=e.indexOf(t);if(r<0)return e;for(;e.indexOf(t)>=0;){var o=e.indexOf(t);e=(o>0?e.substring(0,o):"")+n+e.substring(o+t.length)}return e},u=window.location.href.includes("staging.vivense")?"https://ndvivense.glov.ai/weights_staging.json":"https://ndvivense.glov.ai/weights.json",l=window.location.href.includes("staging.vivense")?"https://ndvivense.glov.ai/nd-styles_staging.css":"https://ndvivense.glov.ai/nd-styles.css?id=".concat(c((new Date).toISOString().substring(0,13).replace("T",""),"-","")),d="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",f="(max-width: 440px)",p="__nextday_session_id",g="ND_SessionTimestamp",v="BN_SessionHistory",h="ND_PageViews",m="ND_PopupDisplayFlag",y="ND_SkuList",w="ND_FlashTabCount",b="ND_HasActiveTab",k="ND_CABasketPrice",x="ND_Debug",S="ND_OutOfScope",I="ND_UserId",L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";a(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(x)}return s(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}},{key:"warn",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).warn.apply(e,["[".concat(t,"]")].concat(r))}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),O=L;function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=new O("Nextday DataLayer Checker"),N=function(e){E.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=j(t);return de(o,n,r)},j=function(e){E.log("Searching beagleInfoLayer for key ",e);var t=window.beagleInfoLayer[e];if(e.includes("."))try{var n=e.split(".");t=window.beagleInfoLayer[n[0]];for(var r=1;r<n.length;r++)t=t[n[r]]}catch(n){E.log("Couldn't extract key ".concat(e," from beagleInfoLayer")),t=null}if(t)return E.log("Found key ".concat(e," with value ").concat(t)),t;E.log("Key ".concat(e," not found in beagleInfoLayer")),E.log("Searching dataLayer for key ",e);var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}(window.dataLayer);try{for(a.s();!(o=a.n()).done;){var i=o.value;if(Object.keys(i).includes(e))return E.log("Found key ".concat(e," with value ").concat(i[e])),i[e]}}catch(e){a.e(e)}finally{a.f()}return E.log("Key ".concat(e," not found in dataLayer")),null},D=new O("Nextday Url Checker"),R=function(e){D.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return D.log("Checking path ".concat(a," matches rule path ").concat(r)),de(a,n,r)}};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.beagleInfoLayer=window.beagleInfoLayer||{checkpoints:[],a:{},e:{},f:{}};var F={PageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,content_name:/(?:content_name[ ]*:[ ]*")(.*)(?:")/,content_name_alt:/(?:content_name'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAPageType:/(?:PageType'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderId:/(?:purchase[\s\S]*actionField[\s\S]*'id'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderRev:/(?:purchase[\s\S]*actionField[\s\S]*'revenue'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAOrderType:/(?:purchase[\s\S]*actionField[\s\S]*'dimension15'[ ]*:[ ]*')(.*)(?:')/,vvsScrGAIsAdmin:/(?:dataLayer[\s\S]*'isAdmin'[ ]*:[ ]*")(.*)(?:")/},B={BeagleLoaded:1,Initialized:2,UserOnOff:3,ScriptTimeOut:7,TreatmentRepositoryCreated:4,TreatmentsApplied:5,ReapplyTreatmentListeners:6,TimeoutThresholdReached:8},J=new O("BeagleInfoLayer"),G=function(){var e=t(o().mark((function e(){var t,n,r,a,i,s,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.log("Initializing beagleInfoLayer"),t=document.scripts,n=t.length;try{K()}catch(e){console.warn("Could not prepare log data: ",e.message)}if(t&&n){e.next=7;break}return J.warn("Could not parse body"),e.abrupt("return");case 7:r=0,a=t.length-1;case 9:if(!(a>-1)){e.next=35;break}i=t[a].textContent,s=0,c=Object.keys(F);case 12:if(!(s<c.length)){e.next=32;break}if(u=c[s],!(l=(l=F[u].exec(i))?l[1]:null)){e.next=29;break}u.indexOf("_alt")>0&&(u=u.substring(0,u.lastIndexOf("_alt"))),e.prev=18,z(u,decodeURIComponent(JSON.parse('"'+l+'"'))),e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(18),J.warn("Could not decode foundVal ".concat(l)),e.abrupt("continue",29);case 26:if((r+=1)!==Object.keys(F).length){e.next=29;break}return e.abrupt("return");case 29:s++,e.next=12;break;case 32:a--,e.next=9;break;case 35:return e.next=37,ge(10);case 37:if(n===t.length){e.next=41;break}return J.log("New scripts detected, re-initializing beagleInfoLayer"),e.next=41,G();case 41:case"end":return e.stop()}}),e,null,[[18,22]])})));return function(){return e.apply(this,arguments)}}(),H=function(e){try{J.log("Checkpoint: '".concat(e,"' Reached!")),window.beagleInfoLayer.checkpoints.push({checkpoint:Object.keys(B).find((function(t){return B[t]===e})),id:e,time:Date.now()})}catch(e){J.warn(e)}},z=function(e,t){null!=e&&null!=t&&(window.beagleInfoLayer[e]=t)},W=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a={businessRuleId:t,variant:n};switch(r){case"applied":window.beagleInfoLayer.a[e]=a;break;case"skipped":a.dependant_on_treatment=o,window.beagleInfoLayer.e[e]=a;break;case"failed":window.beagleInfoLayer.f[e]=a}},K=function(){var e,t,n,r,o,a,i,s,c,u,l,d,f,g,v,h,m,y,w,b,k,x,S,I,L,O,A,C,T,_,P,E,N,j,D,R,q,V,F,B,G,H,$,W,K=crypto.randomUUID(),Q=sessionStorage.getItem(p),Y=new URL(window.location.href),X=(null===(e=window.navigator)||void 0===e||null===(t=e.userAgentData)||void 0===t?void 0:t.platform)||(null===(n=window.navigator)||void 0===n?void 0:n.platform)||(null===(r=window.navigator)||void 0===r?void 0:r.userAgent),Z={},ee=U(window.dataLayer);try{for(ee.s();!(W=ee.n()).done;){var te=W.value;Z=M(M({},Z),te)}}catch(e){ee.e(e)}finally{ee.f()}var ne=JSON.parse(re(document.cookie,"VL_CM_0")),oe={};if(ne&&ne.Items){var ae,ie=U(ne.Items);try{for(ie.s();!(ae=ie.n()).done;){var se=ae.value;oe[se.K]=decodeURIComponent(se.V)}}catch(e){ie.e(e)}finally{ie.f()}}z("cookieVLPVinVisit",oe.VL_PVCountInVisit),z("cookieVLVisitDuration",oe.VL_TotalDuration),z("cookieVLTotalPV",oe.VL_TotalPV),z("cookieVLTotalVisit",oe.VL_TotalVisit),z("gaPageType",Z.PageType),z("gaProductName",Z.content_name),z("gaViewType",Z.content_type),z("gaProductCategory",Z.content_category),z("gaProductID",Z.content_ids),z("vvsProductCategory",Z.vivense_category),z("gaListingName",null===(o=Z.ecommerce)||void 0===o||null===(a=o.detail)||void 0===a||null===(i=a.actionField)||void 0===i?void 0:i.list),z("vvsIsShowroom",void 0===window.isAdmin?Z.isAdmin:window.isAdmin),z("vvsProductGroup",Z.productGroup),z("vvsUserId",Z.userId),z("vvsCategory",Z.vivense_category),z("gaCategoryProductCont",Z.category_product_count),z("gaCartProducts",(null===(s=Z.ecommerce)||void 0===s||null===(c=s.checkout)||void 0===c?void 0:c.products)||(null===(u=Z.ecommerce)||void 0===u||null===(l=u.purchase)||void 0===l?void 0:l.products)),z("vvsPDPProduct",null===(d=Z.vivenseProducts)||void 0===d?void 0:d.pop()),z("gaPurchaseId",null===(f=Z.ecommerce)||void 0===f||null===(g=f.purchase)||void 0===g||null===(v=g.actionField)||void 0===v?void 0:v.id),z("gaPurchaseRevenue",null===(h=Z.ecommerce)||void 0===h||null===(m=h.purchase)||void 0===m||null===(y=m.actionField)||void 0===y?void 0:y.revenue),z("gaPurchasePayType",null===(w=Z.ecommerce)||void 0===w||null===(b=w.purchase)||void 0===b||null===(k=b.actionField)||void 0===k?void 0:k.dimension15),z("windowParams",window.location.search),z("windowPRatio",window.devicePixelRatio),z("windowInner",window.innerWidth);var ce={};ce.availHeight=null===(x=window.screen)||void 0===x?void 0:x.availHeight,ce.availHeight=null===(S=window.screen)||void 0===S?void 0:S.availHeight,ce.availLeft=null===(I=window.screen)||void 0===I?void 0:I.availLeft,ce.availTop=null===(L=window.screen)||void 0===L?void 0:L.availTop,ce.availWidth=null===(O=window.screen)||void 0===O?void 0:O.availWidth,ce.colorDepth=null===(A=window.screen)||void 0===A?void 0:A.colorDepth,ce.height=null===(C=window.screen)||void 0===C?void 0:C.height,ce.pixelDepth=null===(T=window.screen)||void 0===T?void 0:T.pixelDepth,ce.width=null===(_=window.screen)||void 0===_?void 0:_.width,z("windowScreen",ce);var ue={};if(ue.height=null===(P=window.visualViewport)||void 0===P?void 0:P.height,ue.offsetLeft=null===(E=window.visualViewport)||void 0===E?void 0:E.offsetLeft,ue.offsetTop=null===(N=window.visualViewport)||void 0===N?void 0:N.offsetTop,ue.onresize=null===(j=window.visualViewport)||void 0===j?void 0:j.onresize,ue.onscroll=null===(D=window.visualViewport)||void 0===D?void 0:D.onscroll,ue.pageLeft=null===(R=window.visualViewport)||void 0===R?void 0:R.pageLeft,ue.pageTop=null===(q=window.visualViewport)||void 0===q?void 0:q.pageTop,ue.scale=null===(V=window.visualViewport)||void 0===V?void 0:V.scale,ue.width=null===(F=window.visualViewport)||void 0===F?void 0:F.width,z("windowVPort",ue),screen.width){var le=parseInt(screen.width),de=screen.height?parseInt(screen.height):0;if(0!==le&&0!==de){if(/iPad|iPhone|iPod/.test(X)&&window.devicePixelRatio)le=Math.round(le*window.devicePixelRatio),de=Math.round(de*window.devicePixelRatio);else if(90===Math.abs(window.orientation)){var fe=le;le=de,de=fe}z("window",le+"x"+de)}}if(z("navHistSize",null===(B=window.history)||void 0===B?void 0:B.length),z("navAgent",navigator.userAgent),!window.beagleInfoLayer.navAgent&&navigator.userAgentData){var pe,ge,ve,he,ye,we=null===(pe=navigator)||void 0===pe||null===(ge=pe.userAgentData)||void 0===ge||null===(ve=ge.brands)||void 0===ve?void 0:ve.map((function(e){return e.brand+":"+e.version})).join();we+=null!==(he=navigator)&&void 0!==he&&null!==(ye=he.userAgentData)&&void 0!==ye&&ye.mobile?"mobi":" ",z("navAgent",we+=X)}z("navHWCores",navigator.hardwareConcurrency),z("navLanguage",navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage),z("navTouch",navigator.maxTouchPoints),z("navPlatform",X),z("navVendor",navigator.vendor),z("cookieGaId",re(document.cookie,"_ga")),z("cookieLastBreadCrumb",re(document.cookie,"lastbreadcrumb")),z("cookieLastCategory",re(document.cookie,"lastcategory")),z("cookieFirstEntry",decodeURIComponent(re(document.cookie,"vivensefirst")));var be={};if(window.performance&&window.performance.getEntriesByType("navigation")[0]){var ke=window.performance.getEntriesByType("navigation")[0];be.pld=Math.round(ke.domContentLoadedEventEnd-ke.connectStart),be.net=Math.round(ke.connectEnd-ke.fetchStart),be.srv=Math.round(ke.responseStart-ke.requestStart),be.tfr=Math.round(ke.responseEnd-ke.responseStart),be.dmi=Math.round(ke.domInteractive-ke.responseEnd),be.dcp=Math.round(ke.domComplete-ke.domInteractive),be.onl=Math.round(ke.loadEventEnd-ke.loadEventStart)}z("perfMetrics",be),z("internetSpeed",null===(G=window.navigator)||void 0===G||null===(H=G.connection)||void 0===H?void 0:H.downlink);var xe,Se,Ie=U(document.querySelectorAll('[type="application/ld+json"]'));try{for(Ie.s();!(xe=Ie.n()).done;){var Le=xe.value;try{var Oe=Le.textContent,Ae=JSON.parse(Oe),Ce="@";switch(Ae["@type"]){case"Organization":case"WebSite":break;case"CollectionPage":var Te,_e=U(Ae.breadcrumb.itemListElement);try{for(_e.s();!(Te=_e.n()).done;)Ce+=" | "+Te.value.item.name}catch(e){_e.e(e)}finally{_e.f()}z("sorgBreadcrumb",Ce);var Pe={};Pe.name=Ae.mainEntity.name,Pe.countItems=Ae.mainEntity.numberOfItems,z("sorgListing",Pe);break;case"BreadcrumbList":var Ee,Ne=U(Ae.itemListElement);try{for(Ne.s();!(Ee=Ne.n()).done;)Ce+=" | "+Ee.value.name}catch(e){Ne.e(e)}finally{Ne.f()}z("sorgBreadcrumb",Ce);break;case"Product":var je={};je.sku=Ae.sku,je.name=Ae.name,Ae.offers&&(je.price=Ae.offers.price,je.priceCurrency=Ae.offers.priceCurrency,je.priceValidUntil=Ae.offers.priceValidUntil),z("sorgProduct",je);break;default:console.log(Ae)}}catch(e){J.warn(e.message)}}}catch(e){Ie.e(e)}finally{Ie.f()}z("v","0.0.27"),z("n","nextday-session_id-".concat(Q)),z("sr",50),z("donttrack",navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack),z("u",Y.href),z("d",Y.hostname),z("r",document.referrer),z("vId",K),z("isOn",null);try{z("vvsCntFavProds",window.favoriteProducts?JSON.parse(window.favoriteProducts).length:null)}catch(e){z("vvsCntFavProds",null),J.warn(e.message)}z("vvsHasSetEmail",window.userEmail.length>0),z("vvsLoginType",window.userId>0?"member":"guest"),Se=document.querySelector('[class*="basket_summary_total"], [class*="total_row"]'),z("vvsPurcPriceElt",Se?Se.innerText:null),Se=document.querySelector('[class*="order_follow_numb"], [class*="cart-title-bottom"]'),z("vvsPurchaseOrderID",Se?Se.innerText:null),Se=document.querySelector('[class*="payment_type_title"], [class*="cart-title-info"]'),z("vvsPurcTypeElt",Se?Se.innerText:null),Se=document.querySelector('[id*="breadcrumb-ol"], [class*="long-breadcrumb"]'),z("vvsViewCrumb",Se?Se.innerText:null),Se=document.querySelector('[class*="order-final-number"]'),z("vvsCartTotal",Se?Se.innerText:null),Se=document.querySelector('[class*="basket_total_price"]'),z("vvsViewBasketTotal",Se?Se.innerText:null),Se=document.querySelector('[id*="cart_quantity"], [class*="basket_length"]'),z("vvsViewBasketCount",Se?Se.innerText:null),Se=document.querySelector('[class*="welcome_username"]'),z("vvsViewLoggedin",!!Se&&Se.innerText.length>0),Se=document.querySelectorAll('[class*="vivense-showrooms"] > *'),z("vvsPDPShowroomCount",Se?Se.length:null),Se=document.querySelector('[class*="delivery-date"]'),z("vvsPDPDeliveryDate",Se?Se.innerText:null),z("vvsPDPDeliveryDateFormatted",me(null===($=Se)||void 0===$?void 0:$.innerText)),Se=document.querySelector('[class*="product-title"], [class*="header-bottom"]'),z("vvsPDPTitle",Se?Se.innerText:null),Se=document.querySelector('[class*="count-of-product"]'),z("vvsPLPItemCount",Se?Se.innerText:null),Se=document.querySelector('[class*="subcategories-title"]'),z("vvsPLPName",Se?Se.innerText:null)};function Q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=new O("Nextday Utils"),Z={ocak:0,"şubat":1,mart:2,nisan:3,"mayıs":4,haziran:5,temmuz:6,"ağustos":7,"eylül":8,ekim:9,"kasım":10,"aralık":11};"randomUUID"in crypto||(crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))});var ee=function(){document.documentElement.classList.remove("nextDay-hide")},te=function(){var e=t(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=t(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X.log("Fetching treatment weights"),e.next=3,fetch(u);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},oe=function(){var e=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=8+(n=9),t){e.next=5;break}return e.abrupt("return",-1);case 5:return e.next=7,ae(t);case 7:return a=e.sent,i=parseInt(a.substring(n,r),16),e.abrupt("return",i%100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=t(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,a=Array.from(new Uint8Array(r)),e.abrupt("return",a.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(e){var t=document.documentElement.scrollTop,n=setInterval((function(){var r=document.documentElement.scrollTop;t-400>r?(clearInterval(n),e()):t=r}),500)},se=function(e,t){X.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],o=0,a=Object.entries(t);o<a.length;o++){var i=_(a[o],2),s=i[0],c=i[1];r.style[s]=c}},ce=function(){var e=t(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href=l,document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=t(o().mark((function e(t,n,r){var a,i,s,c,u,l,d,f,p,g,v,h,m,y,w,b,k,x,S,I,L;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.parse(JSON.stringify(n)),i=null,s=Q(a),e.prev=3,s.s();case 5:if((c=s.n()).done){e.next=55;break}if(u=c.value,l=u.businessRuleTransformations,d=u.variants,l||d){e.next=10;break}return e.abrupt("continue",53);case 10:if(r&&l){f=Q(l);try{for(f.s();!(p=f.n()).done;)if((g=p.value).id===r)for(v in g)"id"!==v&&(u[v]=g[v])}catch(e){f.e(e)}finally{f.f()}}if(!d){e.next=53;break}h=0,m=Object.keys(d);case 13:if(!(h<m.length)){e.next=53;break}return y=m[h],e.next=17,oe(t+y);case 17:if(!(e.sent<u.variants[y].weight)){e.next=50;break}if(i=y,!r||!d[y].businessRuleTransformations){e.next=48;break}w=Q(d[y].businessRuleTransformations),e.prev=22,w.s();case 24:if((b=w.n()).done){e.next=38;break}if((k=b.value).id!=r){e.next=36;break}x=0,S=Object.keys(k);case 28:if(!(x<S.length)){e.next=36;break}if("id"!==(I=S[x])){e.next=32;break}return e.abrupt("continue",33);case 32:u[I]=k[I];case 33:x++,e.next=28;break;case 36:e.next=24;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(22),w.e(e.t0);case 43:return e.prev=43,w.f(),e.finish(43);case 46:e.next=49;break;case 48:for(L in d[y])"weight"!==L&&"businessRuleTransformations"!==L&&(u[L]=d[y][L]);case 49:return e.abrupt("break",53);case 50:h++,e.next=13;break;case 53:e.next=5;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(3),s.e(e.t1);case 60:return e.prev=60,s.f(),e.finish(60);case 63:return e.abrupt("return",[a,i]);case 64:case"end":return e.stop()}}),e,null,[[3,57,60,63],[22,40,43,46]])})));return function(t,n,r){return e.apply(this,arguments)}}(),le=function(){var e=h,t=m,n=p,r=g,o=v,a=b,i=sessionStorage.getItem(e),s=sessionStorage.getItem(t),c=sessionStorage.getItem(n),u=sessionStorage.getItem(r),l=sessionStorage.getItem(o);sessionStorage.getItem(a)||sessionStorage.setItem(a,!0),i?sessionStorage.setItem(e,parseInt(i)+1):sessionStorage.setItem(e,1),null===s&&sessionStorage.setItem(t,0),c||sessionStorage.setItem(n,crypto.randomUUID()),u||sessionStorage.setItem(r,Date.now()),l?sessionStorage.setItem(o,[window.location.pathname,l]):sessionStorage.setItem(o,[window.location.pathname])},de=function(e,t,n){if("notExist"===t)return e?(X.log("conditionChecker: -not satisfied- target does exist"),!1):(X.log("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return X.log("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(X.log("conditionChecker: -satisfied- target does exist"),!0):(X.log("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(X.log("conditionChecker: -satisfied- target contains value"),!0):(X.log("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(X.log("conditionChecker: -not satisfied- target contains value"),!1):(X.log("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(X.log("conditionChecker: -satisfied- target equals value"),!0):(X.log("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(X.log("conditionChecker: -satisfied- target does not equal value"),!0):(X.log("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(X.log("conditionChecker: -satisfied- target is greater than value"),!0):(X.log("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(X.log("conditionChecker: -satisfied- target is less than value"),!0):(X.log("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(X.log("conditionChecker: -satisfied- target is greater or equal than value"),!0):(X.log("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(X.log("conditionChecker: -satisfied- target is less or equal than value"),!0):(X.log("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=_(n.split(","),2),o=r[0],a=r[1];return o=parseInt(o),a=parseInt(a),e>=o&&e<=a?(X.log("conditionChecker: -satisfied- target is between min and max"),!0):(X.log("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return X.log("conditionChecker: condition is not defined ",t),!1}},fe=function(){var e=x,t=S,n=window.location.search;if(n.includes("nd_debug=1"))return window.localStorage.setItem(e,1),window.localStorage.setItem(t,!0),z("dbm","on"),1;if(n.includes("nd_debug=2"))return window.localStorage.setItem(e,2),window.localStorage.setItem(t,!0),z("dbm","on"),2;if(n.includes("nd_debug=0"))return window.localStorage.removeItem(e),window.localStorage.setItem(t,!0),z("dbm","off"),0;var r=parseInt(window.localStorage.getItem(e));return z("dbm",r?"on":"off"),r||0},pe=function(){var e=t(o().mark((function e(){var t,n=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"_ga",e.abrupt("return",new Promise((function(e,n){var r=window.localStorage.getItem(I);if(r&&e(r),r=re(document.cookie,t))window.localStorage.setItem(I,r),e(r);else{var o=setInterval((function(){(r=re(document.cookie,t))&&(clearInterval(o),window.localStorage.setItem(I,r),e(r))}),10);setTimeout((function(){clearInterval(o),n(new Error("Could not extract cookie identifier"))}),1e3)}})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ve=function(){var e=y,t=[],n={operator:"PageType",condition:"equal",value:"Homepage"};if(N(n))return null;if(n.value="Listingpage",N(n))return Array.from(document.querySelectorAll(".product-card")).forEach((function(e){t.push(e.getAttribute("data-product-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(X.log("Product SKUs not found on Listingpage"),null);if(n.value="Productpage",N(n)){var r,o,a,i=document.querySelector(".product-sku");return i?(t.push(i.getAttribute("data-sku")||(null===(r=i.textContent)||void 0===r||null===(o=r.trim())||void 0===o||null===(a=o.replace(/\)/g,""))||void 0===a?void 0:a.replace(/\(/g,""))),sessionStorage.setItem(e,JSON.stringify(t)),t):(X.log("Product SKU not found on Productpage"),null)}return n.operator="path",n.value="/siparis-listesi.html",R(n)?(Array.from(document.querySelectorAll(".cart-inside")).forEach((function(e){t.push(e.getAttribute("data-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(X.log("Product SKUs not found on basket page"),null)):(X.log("Unidentified page type"),null)},he=function(){return navigator.sendBeacon&&"function"==typeof navigator.sendBeacon},me=function(e){if(!e||"string"!=typeof e)return e;var t={startMonthIndex:void 0,endMonthIndex:void 0,startDay:void 0,endDay:void 0},n=e.match("([\\d]+)-([\\d]+)\\s?([\\wıüğşöçİÖÇĞÜ]+)");if(n&&4===n.length)t.startDay=parseInt(n[1]),t.endDay=parseInt(n[2]),t.startMonthIndex=Z[n[3].toLowerCase()],t.endMonthIndex=t.startMonthIndex;else{if(!(n=e.match("([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜ]+)-([\\d]+)\\s+([\\wıüğşöçİÖÇĞÜ]+)"))||5!==n.length)return e;t.startDay=parseInt(n[1]),t.startMonthIndex=Z[n[2].toLowerCase()],t.endDay=parseInt(n[3]),t.endMonthIndex=Z[n[4].toLowerCase()]}try{var r=new Date;if(!t.startMonthIndex||!t.endMonthIndex)return e;var o=t.startMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,a=t.endMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,i=new Date(o,t.startMonthIndex,t.startDay),s=new Date(a,t.endMonthIndex,t.endDay),c=Math.ceil(Math.abs(i-r)/864e5),u=Math.ceil(Math.abs(s-r)/864e5),l=c<7?0:Math.ceil(c/7),d=u<7?0:Math.ceil(u/7);return 0===l&&0===d?"".concat(c," - ").concat(u," Gün"):0===l&&d>=1?"".concat(c," Gün - ").concat(d," Hafta"):l===d?"".concat(l," Hafta"):"".concat(l," - ").concat(d," Hafta")}catch(t){return e}};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(){function e(){a(this,e),this.logger=new O("Nextday Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentsHash=null,this.appliedTreatmentsChanges=!1,this.eligibleNotAppliedTreatmentsHash=null,this.eligibleNotAppliedTreatmentsChanges=!1,this.headers={type:"application/json"},this.isLogged=!1,this.initializeExitEventListeners()}var n,r,i;return s(e,[{key:"sendLogs",value:(i=t(o().mark((function e(){var t,n,r,a=this,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=i.length>1&&void 0!==i[1]&&i[1],(r=this.logger).log("Sending logs"),"complete"!==document.readyState?(r.log("Document ready state is not complete"),window.addEventListener("load",(function(){r.log("In onload event"),a.handleQueueLogs(a.packageLogData(t),n)}),!0)):this.handleQueueLogs(this.packageLogData(t),n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"handleQueueLogs",value:(r=t(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>1&&void 0!==r[1]&&r[1]||!this.isLogged){e.next=3;break}return e.abrupt("return");case 3:if(n=this.logger,t){e.next=7;break}return n.log("Could not create request blob"),e.abrupt("return");case 7:return n.log("Request blob to send: ",t),this.queueLogs(t),this.isLogged=!0,e.next=12,ae(JSON.stringify(window.beagleInfoLayer.a));case 12:return this.appliedTreatmentsHash=e.sent,e.next=15,ae(JSON.stringify(window.beagleInfoLayer.e));case 15:this.eligibleNotAppliedTreatmentsHash=e.sent;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"updateLatestChanges",value:(n=t(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.log("Checking if there are changes"),e.next=4,ae(JSON.stringify(window.beagleInfoLayer.a));case 4:return t=e.sent,e.next=7,ae(JSON.stringify(window.beagleInfoLayer.e));case 7:n=e.sent,t!==this.appliedTreatmentsHash&&(this.appliedTreatmentsChanges=!0,this.appliedTreatmentsHash=t),n!==this.eligibleNotAppliedTreatmentsHash&&(this.eligibleNotAppliedTreatmentsChanges=!0,this.eligibleNotAppliedTreatmentsHash=n);case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"packageLogData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.headers,n=we({},window.beagleInfoLayer),r=e||(Object.keys(n.a||{}).length?"Treatments applied":"No treatments applied");return n.t=Date.now(),n.m=r,new Blob([JSON.stringify(n)],t)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.appliedTreatmentsChanges,n=this.eligibleNotAppliedTreatmentsChanges;if(!t&&!n)return!1;var r={t:Date.now(),a:t?window.beagleInfoLayer.a:{},e:n?window.beagleInfoLayer.e:{},vId:window.beagleInfoLayer.vId};return new Blob([JSON.stringify(r)],e)}},{key:"initializeExitEventListeners",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(e.isLogged){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0}),window.addEventListener("pagehide",(function(){if(e.isLogged){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger;if(he()){var n=navigator.sendBeacon(d,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(d,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}else fetch(d,e)}}]),e}(),ke=be,xe=new O("Nextday Api"),Se=function(){var e=t(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe.log("Starting product info lookup"),t=ve()){e.next=5;break}return xe.log("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.prev=7,e.next=10,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),xe.warn("Fetch to catalog api failed"),e.abrupt("return",null);case 17:if(r.ok){e.next=20;break}return xe.log("Product info lookup failed"),e.abrupt("return",null);case 20:return e.next=22,r.json();case 22:if(r=e.sent){e.next=26;break}return xe.log("Product info extraction from response failed"),e.abrupt("return",null);case 26:return xe.log("Product info lookup successful"),e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}();function Ie(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(){return Ae=t(o().mark((function e(n,r){var a,i,s,u,l,d,p,g,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new O("Nextday Apply Actions"),i=m,s=function(e){a.log("Applying action: ",JSON.stringify(e));var t=e.operator,n=e.type,o=e.applyEvent,s=e.contentSelector,l=e.selector,v=e.selectorFallback,h=e.mdCondition,m=e.move_selector_1,y=e.move_selector_2,w=e.replaceFn;if("noop"!==t){var b=e.value,k=$(l);if(h&&!window.matchMedia(h).matches)return a.log("Media condition mismatch: ",h),!1;if(m&&!y||y&&!m)return a.log("Both move selectors are required"),!1;if(m&&y){if(!$(m).length)return a.log("Move selector 1 not found: ",m),!1;if(!$(y).length)return a.log("Move selector 2 not found: ",y),!1}else{if(!l)return a.log("Selector not specified"),!1;if(!k.length){if(!$(v).length&&"remove"===t)return;if("no-selector"!==l&&(a.log("Selector not found: ",l),a.log("Trying fallback selector: ",v),v&&(k=$(v)),!k.length))return a.log("Fallback selector not found"),!1}}var x=function(e,t){if(e&&t.includes("{{REPLACE}}")){a.log("Executing replace function: ",e);var n={dataLayerFinder:j,productInfo:r},o=Function(e).bind(n);t=c(t,"{{REPLACE}}",o())}return t};if(Array.isArray(b)?b.forEach((function(e,t){var n=w?w[t]||w:"";b[t]=x(n,e)})):b=x(w,b),"remove"===t)k&&(a.log("Removing: ",l),k.remove()),a.log("Cannot found element with selector: ",l);else if("insert"===t)switch(n){case"before":a.log("Inserting before: ",b),String(b).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),k.before(b);break;case"after":a.log("Inserting after: ",b),k.after(b);break;case"popup":if(0!==parseInt(sessionStorage.getItem(i))){a.log("Popup already displayed in session");break}if(a.log("Creating Popup: ",b),p(b,s),o){var S,I=window.matchMedia(f).matches,L=Le(o);try{for(L.s();!(S=L.n()).done;)switch(S.value){case"exitIntent":a.log("Adding exit intent listener"),I?ie(d):document.documentElement.addEventListener("mouseleave",d,{once:!0});break;case"copyIntent":a.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",d,{once:!0})}}catch(e){L.e(e)}finally{L.f()}}else setTimeout((function(){d()}),timeout)}else if("edit"===t)switch(n){case"text":a.log("Editing text: ",b),k.text(b);break;case"html":a.log("Editing html: ",b),k.html(b);break;case"styleApplicator":a.log("Applying style: ",b);var O=JSON.parse(b);a.log("Style Changes Map: ",O),se(k,O);break;case"addClass":a.log("addding class to ".concat(k," named ").concat(b)),k.addClass(b);break;case"removeClass":a.log("remove class from ".concat(k," named ").concat(b)),k.removeClass(b);break;case"documentTitle":a.log("changing document title from ".concat(k," to ").concat(b)),o&&function(){var e,t=Le(o);try{for(t.s();!(e=t.n()).done;)"tabChange"==e.value&&function(){a.log("catching event tabchange..");var e=document.title;document.addEventListener("visibilitychange",(function(t){sessionStorage.setItem(HAS_ACTIVE_TAB,!1);var n=parseInt(sessionStorage.getItem("ND_FlashTabCount"))||0;u(t,b,e,n)}))}()}catch(e){t.e(e)}finally{t.f()}}();break;case"addBanner":if(!r){a.log("Product info unavailable");break}a.log("Adding banner: ",b);var A=JSON.parse(sessionStorage.getItem("ND_SkuList"))[0];if(!A){a.log("Could not find product sku");break}Object.keys(r).includes(A)&&k.before(b);break;default:a.log("Unknown edit type: ",n)}else if("setattribute"===t)switch(a.log("Setting attribute: ",attribute,b),attribute){case"src":k.css("content","url(".concat(b.trim(),")"));break;case"style":var C=b.split(":")[0].trim(),T=b.split(":")[1].trim();k.css(C,T,"!important")}else if("replace"===t)a.log("Replacing: ",b),k.replaceAll(b);else if("swap"===t){a.log("Swapping: ",m,y);var _=document.querySelector(m),P=document.querySelector(y);g(_,P)}else if("injectscript"===t)a.log("Injecting script: ",b),k.append("<script>".concat(b,"<\/script>"));else if("move"===t){a.log("Moving ".concat(m," to ").concat(y));var E=document.querySelector(m),N=document.querySelector(y);E.remove(),N.prepend(E)}else a.log("No such operator exists yet",t)}else a.log("Noop Operator: No operation is applied on target ")},u=function(){var e=t(o().mark((function e(t,n,r,a){var i,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=w,s=b,!(a>3)){e.next=3;break}return e.abrupt("return");case 3:sessionStorage.setItem(i,a+1),c=Array.isArray(n)?n:[n],l=0;case 6:if(!(l<c.length)){e.next=21;break}if(!document.hidden||sessionStorage.getItem(s)){e.next=16;break}return document.title=c[l],e.next=11,ge(3e3);case 11:return document.title=r,e.next=14,ge(3e3);case 14:e.next=18;break;case 16:sessionStorage.setItem(s,!0),document.title=r;case 18:l++,e.next=6;break;case 21:if(document.hidden){e.next=26;break}return document.title=r,e.abrupt("return");case 26:u(t,n,r);case 27:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),l=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0))},d=function e(){sessionStorage.setItem(i,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",l,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",l,!0)}),15e3)},p=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",l,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var i=a.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},g=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var s=0;s<a.children.length;s++)a.children[s].isEqualNode(t)&&(r=s);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},v=function e(t){if(window.jQuery){var n,r=Le(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;try{if(!1===s(o))return!1}catch(e){return a.log("Couldn't apply action ".concat(o," with error ").concat(e.message)),e}}}catch(e){r.e(e)}finally{r.f()}}else setTimeout((function(){e(t)}),10)},e.abrupt("return",v(n));case 10:case"end":return e.stop()}}),e)}))),Ae.apply(this,arguments)}var Ce=function(e,t){return Ae.apply(this,arguments)};function Te(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pe=new O("Nextday Treatment Repository"),Ee=function(){function e(t){a(this,e);var n=t.treatments,r=t.treatmentWeights;this.treatments=n,this.treatmentWeights=r}var n,r;return s(e,[{key:"getMatchedTreatments",value:function(){var e=this.treatmentWeights,t=this.getUserGroup(),n=this.treatments;if(e){var r,o=t&&e[t]?e[t]:e.default,a=Te(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(o[i.id]&&(i.weight=o[i.id].weight,i.actions.find((function(e){return e.variants})))){var s,c=Te(i.actions);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.variants)for(var l=0,d=Object.keys(u.variants);l<d.length;l++){var f,p,g,v=d[l];null!==(f=o[i.id])&&void 0!==f&&f.variants&&null!==(p=o[i.id])&&void 0!==p&&p.variants[v]&&(u.variants[v].weight=null===(g=o[i.id])||void 0===g?void 0:g.variants[v])}}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){a.e(e)}finally{a.f()}}return Pe.log("".concat(n.length," treatments user group matched")),n.length?n:[]}},{key:"getUserGroup",value:function(){return window.matchMedia(f).matches?"UGB":"UGA"}}],[{key:"getTreatments",value:(r=t(o().mark((function e(){var t,n,r,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,a=null==n?void 0:n.timestamp,r&&a){e.next=13;break}return Pe.log("Treatments not found in local storage"),e.next=9,te();case 9:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 13:if(!a){e.next=23;break}if(!((Date.now()-a)/864e5>1)){e.next=23;break}return Pe.log("Treatments are expired"),e.next=19,te();case 19:return r=e.sent,s={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(s)),e.abrupt("return",r);case 23:return Pe.log("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"getTreatmentWeights",value:(n=t(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),Pe.warn(e.t0.message),this.treatmentWeights=null;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return n.apply(this,arguments)})}]),e}(),Ne=Ee,je=new O("Nextday Counter Checker"),De=function(e){je.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return qe(n,r);case"CABasketPrice":return Me(n,r);default:return je.log("No such operator",t),!1}},Re=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return je.log("No such type",t),null}}catch(t){return je.log("Could not get counter ".concat(e),t),null}},qe=function(e,t){var n=parseInt(Re(h,"session"));return je.log("Page views counter value: ",n),null===n?(je.log("Pageviews counter not found in session storage"),!1):de(n,e,parseInt(t))},Me=function(e,t){var n=parseInt(Re(k,"local"));return je.log("Coupon applicable basket price counter value: ",n),null===n?(je.log("Coupon applicable basket price counter not found in local storage"),!1):de(n,e,parseInt(t))},Ue=new O("Nextday Element Checker"),Ve=function(e){Ue.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,s=e.selectorFallback,c=void 0===s?null:s,u=a;if(u&&!document.querySelector(u)&&(u=c||u),null===n)return de(document.querySelector(u),r,o);if(u&&!document.querySelector(u))return Ue.log("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return Ue.log("Selector not found on page"),!1;switch(u?t=document.querySelector(u):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var l;l=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(u).textContent.replace("TL","").replace(".",""));var d=parseInt(l);return de(d,r,o);case"classList":return de(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return de(f,r,o);case"style":var p=getComputedStyle(t),g=o.split(":")[0].trim(),v=o.split(":")[1].trim(),h=p[g];return de(h,r,v);default:return Ue.log("Operator not defined"),!1}},Fe=new O("Nextday Function Checker"),Be=function(e,t){Fe.log("Checking rule",JSON.stringify(e));var n=t.productInfo,r=e.operator,o=e.condition,a=e.value,i=e.bindings;if(!r)return Fe.log("Rule function not defined"),!1;var s={};"productInfo"==i&&(s={productInfo:n});var c=Function(r).bind(s)();return de(c,o,a)},Je=new O("Nextday Session Checker"),Ge=function(e){Je.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"duration":return He(n,r);case"history":return $e(n,r);default:return null}},He=function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(window.sessionStorage.getItem(g)))}catch(e){return Je.log("Could not get session timestamp",e),Date.now()}}())/1e3;return de(n,e,parseInt(t))},$e=function(e,t){var n,r=null===(n=window.sessionStorage.getItem(v))||void 0===n?void 0:n.split(",");return de(r,e,t)},ze=new O("Nextday Env Checker"),We=function(e){ze.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(f).matches?"mobile":"desktop";return de(o,n,r)}},Ke=new O("Nextday RandomPct Checker"),Qe=function(){var e=t(o().mark((function e(t){var n,r,a,i,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ke.log("Checking rule",JSON.stringify(t)),n=t.condition,r=t.value,a=t.salt){e.next=5;break}return Ke.log("Salt is not defined"),e.abrupt("return",!1);case 5:return e.next=7,pe();case 7:return i=e.sent,e.next=10,oe(i+a);case 10:return s=e.sent,c=s,e.abrupt("return",de(c,n,r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ye(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ze=new O("Nextday Rule Engine"),et=function(){function e(t){a(this,e);var n=t.baseRuleSet,r=t.businessRuleSet,o=t.bindings,i=t.callback,s=void 0===i?null:i;this.baseRuleSet=n,this.businessRuleSet=r,this.callback=s,this.bindings=o}var n,r,i;return s(e,[{key:"checkRules",value:(i=t(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ye(this.baseRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return i.apply(this,arguments)})},{key:"checkBusinessRules",value:(r=t(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ye(this.businessRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.businessRuleId);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return r.apply(this,arguments)})},{key:"checkRule",value:(n=t(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.chain,r=t.chain_condition,a=t.type,i=null,e.t0=a,e.next="session"===e.t0?5:"counter"===e.t0?7:"element"===e.t0?9:"dataLayer"===e.t0?11:"url"===e.t0?13:"function"===e.t0?15:"environment"===e.t0?17:"random"===e.t0?19:23;break;case 5:return i=Ge(t),e.abrupt("break",25);case 7:return i=De(t),e.abrupt("break",25);case 9:return i=Ve(t),e.abrupt("break",25);case 11:return i=N(t),e.abrupt("break",25);case 13:return i=R(t),e.abrupt("break",25);case 15:return i=Be(t,this.bindings),e.abrupt("break",25);case 17:return i=We(t),e.abrupt("break",25);case 19:return e.next=21,Qe(t);case 21:return i=e.sent,e.abrupt("break",25);case 23:return Ze.log("No such rule type: ".concat(a)),e.abrupt("return",null);case 25:if(!n){e.next=51;break}e.t1=r,e.next="and"===e.t1?29:"or"===e.t1?36:"xor"===e.t1?43:49;break;case 29:if(e.t2=i,!e.t2){e.next=34;break}return e.next=33,this.checkRule(n);case 33:e.t2=e.sent;case 34:return i=e.t2,e.abrupt("break",51);case 36:if(e.t3=i,e.t3){e.next=41;break}return e.next=40,this.checkRule(n);case 40:e.t3=e.sent;case 41:return i=e.t3,e.abrupt("break",51);case 43:return e.t4=i,e.next=46,this.checkRule(n);case 46:return e.t5=e.sent,i=e.t4!=e.t5,e.abrupt("break",51);case 49:return Ze.log("No such chain condition"),e.abrupt("break",51);case 51:return e.abrupt("return",i);case 52:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}();function tt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rt=new O("BeagleOnComponent"),ot=function(){var e=t(o().mark((function e(n,r,a,i){var s,c,u,l,d,p,g,v,h,m,y,w,b,x,S,I,L,O,A,C,T,P,E,N,j;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=function(){var e=k;if(window.location.href.includes("/siparis-listesi.html")){var t=Array.from(document.querySelectorAll(".price"));if(t.push.apply(t,Ie(Array.from(document.querySelectorAll(".new-price")))),!t.length)return rt.log("Price elements not found"),void window.localStorage.setItem(e,0);rt.log("Price elements: ",t);var n=t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);rt.log("Coupon applicable total price: ",n),n>=0&&window.localStorage.setItem(e,n)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)},N=function(){return N=t(o().mark((function e(t){var r,a,s,u,l,f,p,g,v,h,m,y,w,k,x,L,O,A,C,T,P,E,N,j,D;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,a=t.actions,s=t.baseRuleSet,u=t.device,l=t.dependant_on_treatment,f=t.reapply_event,p=t.businessRuleSet,g=t.weight,v=t.delay,!c||c.includes(r)){e.next=3;break}return e.abrupt("return");case 3:if("mobile"!==u||d){e.next=6;break}return rt.log("Treatment device 'mobile' mismatch"),e.abrupt("return");case 6:if("desktop"!==u||!d){e.next=9;break}return rt.log("Treatment device 'desktop' mismatch"),e.abrupt("return");case 9:if(f){h=f,Array.isArray(f)||(h=[f]),rt.log("Reapply event '".concat(f,"' found for treatment: ").concat(r)),m=tt(h);try{for(m.s();!(y=m.n()).done;)w=y.value,(k=I[w]?I[w]:[]).includes(r)?rt.log("Treatment already added for reapply event"):I[w]=[].concat(Ie(k),[r])}catch(e){m.e(e)}finally{m.f()}}if(x=new et({baseRuleSet:s,businessRuleSet:p,bindings:{productInfo:b}}),rt.log("Starting base rule set check for treatment: "+r),e.t0=!s,e.t0){e.next=18;break}return e.next=17,x.checkRules();case 17:e.t0=e.sent;case 18:if(!e.t0){e.next=60;break}if(L=100===g?0:100-g||50,l&&(A=null===(O=S.find((function(e){return e.id===l})))||void 0===O?void 0:O.weight,L=100===A?0:100-A||50),rt.log("Treatment skip ratio: "+L),C=l||r,1!==i){e.next=27;break}e.t1=100,e.next=30;break;case 27:return e.next=29,oe(n+C);case 29:e.t1=e.sent;case 30:if(T=e.t1,rt.log("TreatmentPct: "+T+" with debug mode ".concat(i?"on":"off")),P=null,!p){e.next=39;break}return rt.log("Starting sub variant rule set check for treatment: "+r),e.next=37,x.checkBusinessRules();case 37:(P=e.sent)?rt.log("Applying business rule transformation with id: ",P):rt.log("Applying treatment with default values");case 39:if(!(T<L)){e.next=43;break}return rt.log("Treatment ".concat(r," skipped due to treatment split ratio")),W(r,P,D,"skipped",l),e.abrupt("return");case 43:return e.next=45,ue(n,a,P);case 45:if(E=e.sent,N=_(E,2),j=N[0],D=N[1],!v){e.next=52;break}return e.next=52,v(v);case 52:return e.next=54,Ce(j,b);case 54:if(!1!==e.sent){e.next=58;break}return W(r,P,D,"failed"),e.abrupt("return");case 58:return W(r,P,D,"applied"),e.abrupt("return");case 60:rt.log("Rule check failed for treatment: ",r);case 61:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)},E=function(e){return N.apply(this,arguments)},r.sendLogs(),s=window.location.search,c=i&&s.includes("filter=")?s.slice(s.indexOf("[")+1,s.lastIndexOf("]")).split(",").map((function(e){return parseInt(e,10)})):null,ce(),le(),setTimeout((function(){ee()}),2e3),u=Ne.getTreatments(),l=Ne.getTreatmentWeights(),d=window.matchMedia(f).matches,p={subtree:!0,childList:!0,attributes:!0},j(),window.location.href.includes("/siparis-listesi.html")&&(g=new MutationObserver((function(){rt.log("Mutation observed, calling collectCABasketPrice"),j()})),(v=document.querySelector("#checkoutForm"))&&g.observe(v,p)),e.next=17,Promise.all([u,l,a]);case 17:if(h=e.sent,m=_(h,3),y=m[0],w=m[1],b=m[2],rt.log("Found treatments: ",y),x=new Ne({treatments:y,treatmentWeights:w}),H(B.TreatmentRepositoryCreated),(S=x.getMatchedTreatments()).length){e.next=30;break}return rt.log("No treatments matched, returning without further action"),ee(),e.abrupt("return");case 30:I={},L=tt(S),e.prev=32,L.s();case 34:if((O=L.n()).done){e.next=46;break}return A=O.value,e.prev=36,e.next=39,E(A);case 39:e.next=44;break;case 41:e.prev=41,e.t0=e.catch(36),rt.log("Error executing rules",e.t0);case 44:e.next=34;break;case 46:e.next=51;break;case 48:e.prev=48,e.t1=e.catch(32),L.e(e.t1);case 51:return e.prev=51,L.f(),e.finish(51);case 54:for(ee(),H(B.TreatmentsApplied),rt.log("Applied treatments: ",window.beagleInfoLayer.a),setInterval((function(){r.updateLatestChanges()}),1e3),C=function(){var e=P[T],t=I[e],n=S.filter((function(e){return t.includes(e.id)}));switch(e){case"infinite_scroll":var r=new ResizeObserver((function(){var e,t=tt(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;rt.log("Retrying treatment ".concat(r.id," from infinite_scroll")),E(r)}}catch(e){t.e(e)}finally{t.f()}}));r.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,t=tt(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;rt.log("Retrying treatment ".concat(r.id," from timeout")),E(r)}}catch(e){t.e(e)}finally{t.f()}}),500);break;case"element_change":var o,a=tt(n);try{var i=function(){var e,t=o.value,n=tt(Array.isArray(t.reapply_selector)?t.reapply_selector:[t.reapply_selector]);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=document.querySelector(r);a&&new MutationObserver((function(){rt.log("Retrying treatment ".concat(t.id," from element_change")),E(t)})).observe(a,p)}}catch(e){n.e(e)}finally{n.f()}};for(a.s();!(o=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}break;case"on_scroll":window.onscroll=function(){var e,t=tt(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;rt.log("Retrying treatment ".concat(r.id," from on_scroll")),E(r)}}catch(e){t.e(e)}finally{t.f()}};break;case"query_search_change":var s=window.location.search,c=new MutationObserver((function(){if(window.location.search!==s){s=window.location.search;var e,t=tt(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;rt.log("Retrying treatment ".concat(r.id," from query_search_change")),E(r)}}catch(e){t.e(e)}finally{t.f()}}}));c.observe(document,p);break;default:rt.log("Reapply event not found: ",e)}},T=0,P=Object.keys(I);T<P.length;T++)C();H(B.ReapplyTreatmentListeners);case 61:case"end":return e.stop()}}),e,null,[[32,48,51,54],[36,41]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),at=ot;t(o().mark((function e(){var t,n,r,a,i,s,c,u,l,d,f,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(B.BeagleLoaded),t=null,n=null,r=new O,a="ND_TimeoutCount",i=0,r.info("Nextday initializing"),e.prev=7,e.next=10,G();case 10:return c=Se(),u=fe(),t=new ke,H(B.Initialized),e.next=16,pe();case 16:return l=e.sent,r.log("Found cookie identifier: ",l),e.next=20,oe(l);case 20:if(d=e.sent,u){e.next=40;break}if(!(d<50)){e.next=29;break}if(-1!==d){e.next=25;break}throw new Error("Could not determine cookie pct");case 25:z("isOn",n=!1),e.next=31;break;case 29:z("isOn",n=!0);case 31:if(H(B.UserOnOff),he()){e.next=34;break}throw new Error("sendBeacon is not supported");case 34:if(!((i=parseInt(sessionStorage.getItem(a))||0)>1)){e.next=38;break}throw H(B.TimeoutThresholdReached),new Error("Nextday timeout threshold reached");case 38:e.next=42;break;case 40:r.info("Debug mode on: all applicable treatments will be applied"),window.localStorage.setItem(S,!0);case 42:if(document.documentElement.classList.contains("nextDay-hide")){e.next=46;break}throw H(B.ScriptTimeOut),sessionStorage.setItem(a,i+1),new Error("Nextday script timed out");case 46:if(null!==(s=window.beagleInfoLayer)&&void 0!==s&&s.vvsIsShowroom&&window.localStorage.setItem(S,!0),"true"===window.localStorage.getItem(S)?(r.warn("User is out of scope"),null!="isOn"&&delete window.beagleInfoLayer.isOn):(window.dataLayer=window.dataLayer||[],!0===(null===(f=window.beagleInfoLayer)||void 0===f?void 0:f.isOn)?window.dataLayer.push({event:"GLOV",GLOV_ON:"true"}):!1===(null===(p=window.beagleInfoLayer)||void 0===p?void 0:p.isOn)&&window.dataLayer.push({event:"GLOV",GLOV_ON:"false"})),!1!==n){e.next=51;break}throw new Error("Control group: no treatments applied");case 51:r.log("Found cookie percentage: ",d),r.log("Split_ratio: ",50),r.log("cookiePct < SPLIT_RATIO",d<50),r.info("Control group ratio: ".concat(50,"%")),at(l,t,c,u),e.next=63;break;case 58:e.prev=58,e.t0=e.catch(7),ee(),console.warn("Nextday: ",e.t0.message),t.sendLogs(e.t0.message,!0);case 63:case"end":return e.stop()}}),e,null,[[7,58]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxZQUl0QyxJQUFUTixFQXpFUCx1QkF5RTZCLElBQUl4ckIsTUFBTSx3Q0F6RXZDLFFBMkVHcUwsRUFBT3JCLElBQUksNEJBQTZCMmhCLEdBQ3hDdGdCLEVBQU9yQixJQUFJLGdCN0J6RlksSTZCMEZ2QnFCLEVBQU9yQixJQUFJLDBCQUEyQjJoQixFN0IxRmYsSTZCMkZ2QnRnQixFQUFPMUksS0FBUCwrQjdCM0Z1QixHNkIyRnZCLE1BRUE4bEIsR0FBU2pRLEVBQVlrUSxFQUFTQyxFQUFvQkMsR0FoRnJELGtEQWtGR2hSLEtBQ0E3TixRQUFRRSxLQUFLLFlBQWEsS0FBSWtFLFNBQzlCdWEsRUFBUXdCLFNBQVMsS0FBSS9iLFNBQVMsR0FwRmpDLHlEQUFELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL3N0cmluZ1V0aWxzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvbG9nZ2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS91cmxDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQmVhZ2xlSW5mb0xheWVyL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5TW9uaXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcGkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBwbHlBY3Rpb25zL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVRyZWF0bWVudFJlcG9zaXRvcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9jb3VudGVyQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2VsZW1lbnRDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZnVuY3Rpb25DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvc2Vzc2lvbkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9lbnZDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvcmFuZG9tTnVtYmVyQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQmVhZ2xlT24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5Q2xpZW50U0RLL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIGRlZmluZShHcCwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gIGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbik7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKFxuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sLFxuICAgIFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICApO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKTtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICBkZWZpbmUoR3AsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIGluIG1vZGVybiBlbmdpbmVzXG4gIC8vIHdlIGNhbiBleHBsaWNpdGx5IGFjY2VzcyBnbG9iYWxUaGlzLiBJbiBvbGRlciBlbmdpbmVzIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGdsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgfSBlbHNlIHtcbiAgICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZTsgfTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59IiwiZXhwb3J0IGNvbnN0IHJlcGxhY2VBbGwgPSAoc3RyLCBmaW5kLCByZXBsYWNlID0gXCJcIikgPT4ge1xuICBpZiAoIXN0cikgcmV0dXJuIFwiXCI7XG5cbiAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihmaW5kKTtcbiAgaWYgKGluZGV4IDwgMCkgcmV0dXJuIHN0cjtcblxuICB3aGlsZSAoc3RyLmluZGV4T2YoZmluZCkgPj0gMCkge1xuICAgIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZmluZCk7XG4gICAgc3RyID0gKGluZGV4ID4gMCA/IHN0ci5zdWJzdHJpbmcoMCwgaW5kZXgpIDogXCJcIikgKyByZXBsYWNlICsgc3RyLnN1YnN0cmluZyhpbmRleCArIGZpbmQubGVuZ3RoKTtcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtyZXBsYWNlQWxsfSBmcm9tIFwiLi9zdHJpbmdVdGlsc1wiO1xuXG5leHBvcnQgY29uc3QgQ09PS0lFX05BTUUgPSBcIl9nYVwiO1xuLy8gVE9ETyByZXZlcnQgdGhlIGZvbGxvd2luZyBzdGFnaW5nIGVudiBjaGVjayBhZnRlciBtb3ZpbmcgdG8gbmV3IGJyYW5jaCBzdHJ1Y3R1cmVcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRTX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi90cmVhdG1lbnRzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwic3RhZ2luZy52aXZlbnNlXCIpID8gXCJodHRwczovL25kdml2ZW5zZS5nbG92LmFpL3dlaWdodHNfc3RhZ2luZy5qc29uXCIgOiBcImh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvd2VpZ2h0cy5qc29uXCI7XG5leHBvcnQgY29uc3QgU1RZTEVTSEVFVF9MT0NBVElPTiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwic3RhZ2luZy52aXZlbnNlXCIpID8gXCJodHRwczovL25kdml2ZW5zZS5nbG92LmFpL25kLXN0eWxlc19zdGFnaW5nLmNzc1wiIDogYGh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvbmQtc3R5bGVzLmNzcz9pZD0ke3JlcGxhY2VBbGwobmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMykucmVwbGFjZShcIlRcIiwgXCJcIiksIFwiLVwiLCBcIlwiKX1gO1xuZXhwb3J0IGNvbnN0IExPR19BUElfVVJMID0gXCJodHRwczovL2V1cm9wZS13ZXN0My1uZXh0ZGF5LTM0ZWIzLmNsb3VkZnVuY3Rpb25zLm5ldC9hcGkvbG9nUmVzcG9uc2VcIjtcbmV4cG9ydCBjb25zdCBMT09LVVBfQVBJX1VSTCA9IFwiaHR0cHM6Ly9jYXRhbG9nLWFwaS5hZG9yYWFpLmNvbVwiO1xuZXhwb3J0IGNvbnN0IE1PQklMRV9NRURJQV9RVUVSWSA9IFwiKG1heC13aWR0aDogNDQwcHgpXCI7XG4vLyBDb250cm9sIGdyb3VwIHBlcmNlbnRhZ2VcbmV4cG9ydCBjb25zdCBTUExJVF9SQVRJTyA9IDUwO1xuLy8gU2tpcHBlZCB0cmVhdG1lbnQgcGVyY2VudGFnZVxuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVF9SQVRJTyA9IDUwO1xuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVFNfRFVSQVRJT04gPSAxO1xuZXhwb3J0IGNvbnN0IE1BWF9USU1FT1VUX1BFUl9TRVNTSU9OID0gMTtcblxuXG5leHBvcnQgY29uc3QgU0VTU0lPTl9TVE9SQUdFX0tFWVMgPSB7XG4gIFNFU1NJT05fSUQ6IFwiX19uZXh0ZGF5X3Nlc3Npb25faWRcIixcbiAgU0VTU0lPTl9USU1FU1RBTVA6IFwiTkRfU2Vzc2lvblRpbWVzdGFtcFwiLFxuICBTRVNTSU9OX0hJU1RPUlk6IFwiQk5fU2Vzc2lvbkhpc3RvcnlcIixcbiAgVFJFQVRNRU5UUzogXCJORF9UcmVhdG1lbnRzXCIsXG4gIFBBR0VfVklFV1M6IFwiTkRfUGFnZVZpZXdzXCIsXG4gIFBPUFVQX0RJU1BMQVlfRkxBRzogXCJORF9Qb3B1cERpc3BsYXlGbGFnXCIsXG4gIE5EX1NLVV9MSVNUOiBcIk5EX1NrdUxpc3RcIixcbiAgVElNRU9VVF9DT1VOVDogXCJORF9UaW1lb3V0Q291bnRcIixcbiAgRkxBU0hfVEFCX0NPVU5UOiBcIk5EX0ZsYXNoVGFiQ291bnRcIixcbiAgSEFTX0FDVElWRV9UQUI6IFwiTkRfSGFzQWN0aXZlVGFiXCIsXG59O1xuZXhwb3J0IGNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZUyA9IHtcbiAgQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFOiBcIk5EX0NBQmFza2V0UHJpY2VcIixcbiAgTkRfREVCVUdfTU9ERTogXCJORF9EZWJ1Z1wiLFxuICBPVVRfT0ZfU0NPUEU6IFwiTkRfT3V0T2ZTY29wZVwiLFxuICBVU0VSX0lEOiBcIk5EX1VzZXJJZFwiLFxufTtcbiIsImltcG9ydCB7TE9DQUxfU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmNsYXNzIExvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKG9yaWdpbiA9IFwiTmV4dGRheSBDbGllbnQgU0RLXCIpIHtcbiAgICB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICB0aGlzLkRFQlVHID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFKTtcbiAgfVxuXG4gIGluZm8oLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLmluZm8oYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gIH1cblxuICBsb2coLi4uYXJncykge1xuICAgIGNvbnN0IHtERUJVRywgb3JpZ2lufSA9IHRoaXM7XG4gICAgaWYgKERFQlVHKSB7XG4gICAgICBjb25zb2xlLmxvZyhgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICB3YXJuKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS53YXJuKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgZXJyb3IoLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLmVycm9yKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2dlcjtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufSIsImltcG9ydCBhcnJheVdpdGhIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheUxpbWl0IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVJlc3QgZnJvbSBcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IG5vbkl0ZXJhYmxlUmVzdCgpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBEYXRhTGF5ZXIgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRGF0YUxheWVyUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gZGF0YUxheWVyRmluZGVyKG9wZXJhdG9yKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVudGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkYXRhTGF5ZXJGaW5kZXIgPSAoa2V5KSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTZWFyY2hpbmcgYmVhZ2xlSW5mb0xheWVyIGZvciBrZXkgXCIsIGtleSk7XG4gIGxldCByZXMgPSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyW2tleV07XG4gIGlmIChrZXkuaW5jbHVkZXMoXCIuXCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoXCIuXCIpO1xuICAgICAgcmVzID0gd2luZG93LmJlYWdsZUluZm9MYXllcltrZXlzWzBdXTtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXMgPSByZXNba2V5c1tpXV07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIubG9nKGBDb3VsZG4ndCBleHRyYWN0IGtleSAke2tleX0gZnJvbSBiZWFnbGVJbmZvTGF5ZXJgKTtcbiAgICAgIHJlcyA9IG51bGw7XG4gICAgfVxuICB9XG4gIGlmIChyZXMpIHtcbiAgICBsb2dnZXIubG9nKGBGb3VuZCBrZXkgJHtrZXl9IHdpdGggdmFsdWUgJHtyZXN9YCk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBsb2dnZXIubG9nKGBLZXkgJHtrZXl9IG5vdCBmb3VuZCBpbiBiZWFnbGVJbmZvTGF5ZXJgKTtcblxuICBsb2dnZXIubG9nKFwiU2VhcmNoaW5nIGRhdGFMYXllciBmb3Iga2V5IFwiLCBrZXkpO1xuICBmb3IgKGNvbnN0IG9iaiBvZiB3aW5kb3cuZGF0YUxheWVyKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgaWYgKGtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgbG9nZ2VyLmxvZyhgRm91bmQga2V5ICR7a2V5fSB3aXRoIHZhbHVlICR7b2JqW2tleV19YCk7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfVxuICB9XG4gIGxvZ2dlci5sb2coYEtleSAke2tleX0gbm90IGZvdW5kIGluIGRhdGFMYXllcmApO1xuICByZXR1cm4gbnVsbDtcbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVcmwgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrVXJsUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhdGhcIjoge1xuICAgICAgY29uc3QgcmVxdWVzdFVSTD0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICBjb25zdCBpc0FqYXggPSByZXF1ZXN0VVJMLmluY2x1ZGVzKFwiYWpheC9tb2JpbGUtc2VhcmNoL2xvYWRPdGhlclBhZ2VzLnBocFwiKTtcbiAgICAgIGNvbnN0IHBhdGggPSAhaXNBamF4ID8gbmV3IFVSTChyZXF1ZXN0VVJMKS5wYXRobmFtZSA6XG4gICAgICBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgbmV3IFVSTChyZXF1ZXN0VVJMKS5zZWFyY2gucmVwbGFjZShcIj9vcmlnaW5hbFBhdGg9XCIsIFwiXCIpLFxuICAgICAgKTtcbiAgICAgIGxvZ2dlci5sb2coYENoZWNraW5nIHBhdGggJHtwYXRofSBtYXRjaGVzIHJ1bGUgcGF0aCAke3ZhbHVlfWApO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocGF0aCwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHtkZWxheSwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIsIGZvcm1hdERlbGl2ZXJ5RGF0ZX0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTLCBTUExJVF9SQVRJT30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbndpbmRvdy5iZWFnbGVJbmZvTGF5ZXIgPSB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyIHx8IHtjaGVja3BvaW50czogW10sXG4gIGE6IHt9LCBlOiB7fSwgZjoge319O1xuXG5jb25zdCBwYXJzaW5nUmVnZXggPSB7XG4gIFBhZ2VUeXBlOiAvKD86UGFnZVR5cGUnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICBjb250ZW50X25hbWU6IC8oPzpjb250ZW50X25hbWVbIF0qOlsgXSpcIikoLiopKD86XCIpLyxcbiAgY29udGVudF9uYW1lX2FsdDogLyg/OmNvbnRlbnRfbmFtZSdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIHZ2c1NjckdBUGFnZVR5cGU6IC8oPzpQYWdlVHlwZSdbIF0qOlsgXSonKSguKikoPzonKS8sXG4gIHZ2c1NjckdBT3JkZXJJZDogLyg/OnB1cmNoYXNlW1xcc1xcU10qYWN0aW9uRmllbGRbXFxzXFxTXSonaWQnWyBdKjpbIF0qJykoLiopKD86JykvLFxuICB2dnNTY3JHQU9yZGVyUmV2OiAvKD86cHVyY2hhc2VbXFxzXFxTXSphY3Rpb25GaWVsZFtcXHNcXFNdKidyZXZlbnVlJ1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgdnZzU2NyR0FPcmRlclR5cGU6IC8oPzpwdXJjaGFzZVtcXHNcXFNdKmFjdGlvbkZpZWxkW1xcc1xcU10qJ2RpbWVuc2lvbjE1J1sgXSo6WyBdKicpKC4qKSg/OicpLyxcbiAgdnZzU2NyR0FJc0FkbWluOiAvKD86ZGF0YUxheWVyW1xcc1xcU10qJ2lzQWRtaW4nWyBdKjpbIF0qXCIpKC4qKSg/OlwiKS8sXG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2twb2ludHMgPSB7XG4gIEJlYWdsZUxvYWRlZDogMSxcbiAgSW5pdGlhbGl6ZWQ6IDIsXG4gIFVzZXJPbk9mZjogMyxcbiAgU2NyaXB0VGltZU91dDogNyxcbiAgVHJlYXRtZW50UmVwb3NpdG9yeUNyZWF0ZWQ6IDQsXG4gIFRyZWF0bWVudHNBcHBsaWVkOiA1LFxuICBSZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzOiA2LFxuICBUaW1lb3V0VGhyZXNob2xkUmVhY2hlZDogOCxcbn07XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVJbmZvTGF5ZXJcIik7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyID0gYXN5bmMgKCkgPT4ge1xuICBsb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIGJlYWdsZUluZm9MYXllclwiKTtcbiAgY29uc3Qgc2NyaXB0cyA9IGRvY3VtZW50LnNjcmlwdHM7XG4gIGNvbnN0IHNjcmlwdHNMZW5ndGggPSBzY3JpcHRzLmxlbmd0aDtcblxuICB0cnkge1xuICAgIHByZXBhcmVEYXRhKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUud2FybihcIkNvdWxkIG5vdCBwcmVwYXJlIGxvZyBkYXRhOiBcIiwgZXJyLm1lc3NhZ2UpO1xuICB9XG5cbiAgaWYgKCFzY3JpcHRzIHx8ICFzY3JpcHRzTGVuZ3RoKSB7XG4gICAgbG9nZ2VyLndhcm4oXCJDb3VsZCBub3QgcGFyc2UgYm9keVwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGZvdW5kU2NyaXB0Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gc2NyaXB0cy5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgIGNvbnN0IHNjcmlwdFRleHRDb250ZW50ID0gc2NyaXB0c1tpXS50ZXh0Q29udGVudDtcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocGFyc2luZ1JlZ2V4KSkge1xuICAgICAgbGV0IGZvdW5kVmFsID0gcGFyc2luZ1JlZ2V4W2tleV0uZXhlYyhzY3JpcHRUZXh0Q29udGVudCk7XG4gICAgICBmb3VuZFZhbCA9IGZvdW5kVmFsID8gZm91bmRWYWxbMV0gOiBudWxsO1xuICAgICAgaWYgKGZvdW5kVmFsKSB7XG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihcIl9hbHRcIikgPiAwKSBrZXkgPSBrZXkuc3Vic3RyaW5nKDAsIGtleS5sYXN0SW5kZXhPZihcIl9hbHRcIikpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKGtleSwgZGVjb2RlVVJJQ29tcG9uZW50KEpTT04ucGFyc2UoXCJcXFwiXCIgKyBmb3VuZFZhbCArIFwiXFxcIlwiKSkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIud2FybihgQ291bGQgbm90IGRlY29kZSBmb3VuZFZhbCAke2ZvdW5kVmFsfWApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvdW5kU2NyaXB0Q291bnQgKz0gMTtcbiAgICAgICAgaWYgKGZvdW5kU2NyaXB0Q291bnQgPT09IE9iamVjdC5rZXlzKHBhcnNpbmdSZWdleCkubGVuZ3RoKSByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGF3YWl0IGRlbGF5KDEwKTtcbiAgLy8gc2NyaXB0cyB3aWxsIGJlIGR5bmFtaWNhbGx5IHVwZGF0ZWQsIGNhbiBoYXZlIGRpZmZlcmVudCBsZW5ndGhzIGJldHdlZW4gd2hlbiBpbml0aWFsaXplZCBhbmQgd2hlbiBjaGVja2luZ1xuICBpZiAoc2NyaXB0c0xlbmd0aCAhPT0gc2NyaXB0cy5sZW5ndGgpIHtcbiAgICBsb2dnZXIubG9nKFwiTmV3IHNjcmlwdHMgZGV0ZWN0ZWQsIHJlLWluaXRpYWxpemluZyBiZWFnbGVJbmZvTGF5ZXJcIik7XG4gICAgYXdhaXQgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllcigpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2twb2ludCA9IChjaGVja3BvaW50KSA9PntcbiAgdHJ5IHtcbiAgICBsb2dnZXIubG9nKGBDaGVja3BvaW50OiAnJHtjaGVja3BvaW50fScgUmVhY2hlZCFgKTtcbiAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmNoZWNrcG9pbnRzLnB1c2goe1xuICAgICAgY2hlY2twb2ludDogT2JqZWN0LmtleXMoY2hlY2twb2ludHMpLmZpbmQoKGtleSkgPT4gY2hlY2twb2ludHNba2V5XSA9PT0gY2hlY2twb2ludCksXG4gICAgICBpZDogY2hlY2twb2ludCxcbiAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIud2FybihlKTtcbiAgfVxuICByZXR1cm47XG59O1xuXG5leHBvcnQgY29uc3QgYWRkVG9CZWFnbGVJbmZvTGF5ZXIgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgd2luZG93LmJlYWdsZUluZm9MYXllcltrZXldID0gdmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlRnJvbUJlYWdsZUluZm9MYXllciA9IChrZXkpID0+IHtcbiAgaWYgKGtleSA9PT0gbnVsbCB8fCBrZXkgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBkZWxldGUgd2luZG93LmJlYWdsZUluZm9MYXllcltrZXldO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFRyZWF0bWVudCA9IChpZCwgYnVzaW5lc3NSdWxlSWQsIHZhcmlhbnQsIHN0YXR1cywgZGVwZW5kYW50X29uX3RyZWF0bWVudCA9IG51bGwpID0+IHtcbiAgY29uc3QgdmFsdWUgPSB7YnVzaW5lc3NSdWxlSWQsIHZhcmlhbnR9O1xuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgXCJhcHBsaWVkXCI6XG4gICAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmFbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwic2tpcHBlZFwiOlxuICAgICAgdmFsdWUuZGVwZW5kYW50X29uX3RyZWF0bWVudCA9IGRlcGVuZGFudF9vbl90cmVhdG1lbnQ7XG4gICAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmVbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZmFpbGVkXCI6XG4gICAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmZbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuY29uc3QgcHJlcGFyZURhdGEgPSAoKSA9PiB7XG4gIGNvbnN0IHZpZXdJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9JRCk7XG4gIGNvbnN0IGN1cnJlbnRVUkwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgY29uc3QgcGxhdGZvcm0gPSB3aW5kb3cubmF2aWdhdG9yPy51c2VyQWdlbnREYXRhPy5wbGF0Zm9ybSB8fCB3aW5kb3cubmF2aWdhdG9yPy5wbGF0Zm9ybSB8fFxuICB3aW5kb3cubmF2aWdhdG9yPy51c2VyQWdlbnQ7XG5cbiAgbGV0IGdhT2JqZWN0cyA9IHt9O1xuXG4gIGZvciAoY29uc3QgZ2FETEVsZW1lbnQgb2Ygd2luZG93LmRhdGFMYXllcikge1xuICAgIGdhT2JqZWN0cyA9IHsuLi5nYU9iamVjdHMsIC4uLmdhRExFbGVtZW50fTtcbiAgfVxuXG4gIGNvbnN0IHZpc2lsYWJzY2sgPSBKU09OLnBhcnNlKGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJWTF9DTV8wXCIpKTtcblxuICBjb25zdCB2bE9iamVjdHMgPSB7fTtcblxuICBpZiAodmlzaWxhYnNjayAmJiB2aXNpbGFic2NrLkl0ZW1zKSB7XG4gICAgZm9yIChjb25zdCB2bEVsZW1lbnQgb2YgdmlzaWxhYnNjay5JdGVtcykge1xuICAgICAgdmxPYmplY3RzW3ZsRWxlbWVudC5LXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2bEVsZW1lbnQuVik7XG4gICAgfVxuICB9XG5cblxuICAvKiBWSVNJTEFCUyAqL1xuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llVkxQVmluVmlzaXRcIiwgdmxPYmplY3RzLlZMX1BWQ291bnRJblZpc2l0KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVWTFZpc2l0RHVyYXRpb25cIiwgdmxPYmplY3RzLlZMX1RvdGFsRHVyYXRpb24pO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZVZMVG90YWxQVlwiLCB2bE9iamVjdHMuVkxfVG90YWxQVik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llVkxUb3RhbFZpc2l0XCIsIHZsT2JqZWN0cy5WTF9Ub3RhbFZpc2l0KTtcblxuICAvKiBHQSAqL1xuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQYWdlVHlwZVwiLCBnYU9iamVjdHMuUGFnZVR5cGUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHJvZHVjdE5hbWVcIiwgZ2FPYmplY3RzLmNvbnRlbnRfbmFtZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FWaWV3VHlwZVwiLCBnYU9iamVjdHMuY29udGVudF90eXBlKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVByb2R1Y3RDYXRlZ29yeVwiLCBnYU9iamVjdHMuY29udGVudF9jYXRlZ29yeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FQcm9kdWN0SURcIiwgZ2FPYmplY3RzLmNvbnRlbnRfaWRzKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQcm9kdWN0Q2F0ZWdvcnlcIiwgZ2FPYmplY3RzLnZpdmVuc2VfY2F0ZWdvcnkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhTGlzdGluZ05hbWVcIiwgZ2FPYmplY3RzLmVjb21tZXJjZT8uZGV0YWlsPy5hY3Rpb25GaWVsZD8ubGlzdCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzSXNTaG93cm9vbVwiLCAod2luZG93LmlzQWRtaW49PT11bmRlZmluZWQpID8gZ2FPYmplY3RzLmlzQWRtaW4gOiB3aW5kb3cuaXNBZG1pbik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHJvZHVjdEdyb3VwXCIsIGdhT2JqZWN0cy5wcm9kdWN0R3JvdXApO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1VzZXJJZFwiLCBnYU9iamVjdHMudXNlcklkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNDYXRlZ29yeVwiLCBnYU9iamVjdHMudml2ZW5zZV9jYXRlZ29yeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZ2FDYXRlZ29yeVByb2R1Y3RDb250XCIsIGdhT2JqZWN0cy5jYXRlZ29yeV9wcm9kdWN0X2NvdW50KTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYUNhcnRQcm9kdWN0c1wiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5jaGVja291dD8ucHJvZHVjdHMgfHxcbiAgICBnYU9iamVjdHMuZWNvbW1lcmNlPy5wdXJjaGFzZT8ucHJvZHVjdHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BEUFByb2R1Y3RcIiwgZ2FPYmplY3RzLnZpdmVuc2VQcm9kdWN0cz8ucG9wKCkpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHVyY2hhc2VJZFwiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5wdXJjaGFzZT8uYWN0aW9uRmllbGQ/LmlkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJnYVB1cmNoYXNlUmV2ZW51ZVwiLCBnYU9iamVjdHMuZWNvbW1lcmNlPy5wdXJjaGFzZT8uYWN0aW9uRmllbGQ/LnJldmVudWUpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImdhUHVyY2hhc2VQYXlUeXBlXCIsIGdhT2JqZWN0cy5lY29tbWVyY2U/LnB1cmNoYXNlPy5hY3Rpb25GaWVsZD8uZGltZW5zaW9uMTUpO1xuXG4gIC8qIHdpbmRvdyB2aWV3IGFyZWEgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dQYXJhbXNcIiwgd2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93UFJhdGlvXCIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ3aW5kb3dJbm5lclwiLCB3aW5kb3cuaW5uZXJXaWR0aCk7XG5cbiAgY29uc3Qgd2luZG93U2NyZWVuID0ge307XG4gIHdpbmRvd1NjcmVlbi5hdmFpbEhlaWdodCA9IHdpbmRvdy5zY3JlZW4/LmF2YWlsSGVpZ2h0O1xuICB3aW5kb3dTY3JlZW4uYXZhaWxIZWlnaHQgPSB3aW5kb3cuc2NyZWVuPy5hdmFpbEhlaWdodDtcbiAgd2luZG93U2NyZWVuLmF2YWlsTGVmdCA9IHdpbmRvdy5zY3JlZW4/LmF2YWlsTGVmdDtcbiAgd2luZG93U2NyZWVuLmF2YWlsVG9wID0gd2luZG93LnNjcmVlbj8uYXZhaWxUb3A7XG4gIHdpbmRvd1NjcmVlbi5hdmFpbFdpZHRoID0gd2luZG93LnNjcmVlbj8uYXZhaWxXaWR0aDtcbiAgd2luZG93U2NyZWVuLmNvbG9yRGVwdGggPSB3aW5kb3cuc2NyZWVuPy5jb2xvckRlcHRoO1xuICB3aW5kb3dTY3JlZW4uaGVpZ2h0ID0gd2luZG93LnNjcmVlbj8uaGVpZ2h0O1xuICB3aW5kb3dTY3JlZW4ucGl4ZWxEZXB0aCA9IHdpbmRvdy5zY3JlZW4/LnBpeGVsRGVwdGg7XG4gIHdpbmRvd1NjcmVlbi53aWR0aCA9IHdpbmRvdy5zY3JlZW4/LndpZHRoO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd1NjcmVlblwiLCB3aW5kb3dTY3JlZW4pO1xuXG4gIGNvbnN0IHdpbmRvd1ZQb3J0ID0ge307XG4gIHdpbmRvd1ZQb3J0LmhlaWdodCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8uaGVpZ2h0O1xuICB3aW5kb3dWUG9ydC5vZmZzZXRMZWZ0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5vZmZzZXRMZWZ0O1xuICB3aW5kb3dWUG9ydC5vZmZzZXRUb3AgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/Lm9mZnNldFRvcDtcbiAgd2luZG93VlBvcnQub25yZXNpemUgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/Lm9ucmVzaXplO1xuICB3aW5kb3dWUG9ydC5vbnNjcm9sbCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ub25zY3JvbGw7XG4gIHdpbmRvd1ZQb3J0LnBhZ2VMZWZ0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5wYWdlTGVmdDtcbiAgd2luZG93VlBvcnQucGFnZVRvcCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ucGFnZVRvcDtcbiAgd2luZG93VlBvcnQuc2NhbGUgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ/LnNjYWxlO1xuICB3aW5kb3dWUG9ydC53aWR0aCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ud2lkdGg7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwid2luZG93VlBvcnRcIiwgd2luZG93VlBvcnQpO1xuXG4gIGlmIChzY3JlZW4ud2lkdGgpIHtcbiAgICBsZXQgd2lkdGggPSBwYXJzZUludChzY3JlZW4ud2lkdGgpO1xuICAgIGxldCBoZWlnaHQgPSAoc2NyZWVuLmhlaWdodCkgPyBwYXJzZUludChzY3JlZW4uaGVpZ2h0KSA6IDA7XG4gICAgaWYgKHdpZHRoICE9PSAwICYmIGhlaWdodCAhPT0gMCkge1xuICAgICAgY29uc3QgaU9TID0gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QocGxhdGZvcm0pO1xuICAgICAgaWYgKGlPUyAmJiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgICAvLyBpb3MgcHJvdmlkZXMgRFBJcywgbmVlZCB0byBtdWx0aXBseVxuICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHdpbmRvdy5vcmllbnRhdGlvbikgPT09IDkwKSB7XG4gICAgICAgICAgLy8gd2UgaGF2ZSBsYW5kc2NhcGUgb3JpZW50YXRpb25cbiAgICAgICAgICAvLyBzd2l0Y2ggdmFsdWVzIGZvciBhbGwgZXhjZXB0IGlvc1xuICAgICAgICAgIGNvbnN0IHRlbXAgPSB3aWR0aDtcbiAgICAgICAgICB3aWR0aCA9IGhlaWdodDtcbiAgICAgICAgICBoZWlnaHQgPSB0ZW1wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIndpbmRvd1wiLCB3aWR0aCArIFwieFwiICsgaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKiBuYXZpZ2F0b3IgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZIaXN0U2l6ZVwiLCB3aW5kb3cuaGlzdG9yeT8ubGVuZ3RoKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZBZ2VudFwiLCBuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgLy8gY2hlY2sgaWYgdXNlckFnZW50RGF0YSBpcyBzdXBwb3J0ZWQgYW5kIHVzZXJBZ2VudCBpcyBub3QgYXZhaWxhYmxlLCB1c2UgaXRcbiAgaWYgKCF3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLm5hdkFnZW50KSB7XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnREYXRhKSB7XG4gICAgICAvLyB0dXJuIGJyYW5kcyBhcnJheSBpbnRvIHN0cmluZ1xuICAgICAgbGV0IG5hdkFnZW50ID0gbmF2aWdhdG9yPy51c2VyQWdlbnREYXRhPy5icmFuZHM/Lm1hcChmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBlLmJyYW5kICsgXCI6XCIgKyBlLnZlcnNpb247XG4gICAgICB9KS5qb2luKCk7XG4gICAgICAvLyBhZGQgbW9iaWxlIGluZm9cbiAgICAgIG5hdkFnZW50ICs9IChuYXZpZ2F0b3I/LnVzZXJBZ2VudERhdGE/Lm1vYmlsZSA/IFwibW9iaVwiIDogXCIgXCIpO1xuICAgICAgLy8gYWRkIHBsYXRmb3JtIGluZm9cbiAgICAgIG5hdkFnZW50ICs9IHBsYXRmb3JtO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZBZ2VudFwiLCBuYXZBZ2VudCk7XG4gICAgfVxuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2SFdDb3Jlc1wiLCBuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwibmF2TGFuZ3VhZ2VcIiwgbmF2aWdhdG9yLmxhbmd1YWdlIHx8IG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2UgfHxcbiAgIG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZUb3VjaFwiLCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5hdlBsYXRmb3JtXCIsIHBsYXRmb3JtKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuYXZWZW5kb3JcIiwgbmF2aWdhdG9yLnZlbmRvcik7XG5cbiAgLyogY29va2llcyAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZUdhSWRcIiwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcIl9nYVwiKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llTGFzdEJyZWFkQ3J1bWJcIiwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcImxhc3RicmVhZGNydW1iXCIpKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJjb29raWVMYXN0Q2F0ZWdvcnlcIiwgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcImxhc3RjYXRlZ29yeVwiKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiY29va2llRmlyc3RFbnRyeVwiLCBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwidml2ZW5zZWZpcnN0XCIpKSk7XG5cbiAgLyogcGVyZm9ybWFuY2UgbWV0cmljcyAqL1xuICBjb25zdCBwZXJmTWV0cmljcyA9IHt9O1xuICBpZiAod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibmF2aWdhdGlvblwiKVswXSkge1xuICAgIGNvbnN0IHBlcmZOYXZpZ2F0aW9uTWV0cmljcyA9IHdpbmRvdy5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibmF2aWdhdGlvblwiKVswXTtcbiAgICBwZXJmTWV0cmljcy5wbGQgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5kb21Db250ZW50TG9hZGVkRXZlbnRFbmQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MuY29ubmVjdFN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy5uZXQgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5jb25uZWN0RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmZldGNoU3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLnNydiA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLnJlc3BvbnNlU3RhcnQgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MucmVxdWVzdFN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy50ZnIgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZUVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZVN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy5kbWkgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5kb21JbnRlcmFjdGl2ZSAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZUVuZCk7XG4gICAgcGVyZk1ldHJpY3MuZGNwID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tQ29tcGxldGUgLSBwZXJmTmF2aWdhdGlvbk1ldHJpY3MuZG9tSW50ZXJhY3RpdmUpO1xuICAgIHBlcmZNZXRyaWNzLm9ubCA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmxvYWRFdmVudEVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5sb2FkRXZlbnRTdGFydCk7XG4gIH1cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJwZXJmTWV0cmljc1wiLCBwZXJmTWV0cmljcyk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiaW50ZXJuZXRTcGVlZFwiLCB3aW5kb3cubmF2aWdhdG9yPy5jb25uZWN0aW9uPy5kb3dubGluayk7XG5cbiAgLyogc2NoZW1hLm9yZyBlbGVtZW50cyAqL1xuICBjb25zdCBzY2hlbWFPcmdFbHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIlt0eXBlPVxcXCJhcHBsaWNhdGlvbi9sZCtqc29uXFxcIl1cIik7XG5cbiAgZm9yIChjb25zdCBzVGFnIG9mIHNjaGVtYU9yZ0VsdHMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY250bnQgPSBzVGFnLnRleHRDb250ZW50O1xuICAgICAgY29uc3QganNvbmNvbnRlbnQgPSBKU09OLnBhcnNlKGNudG50KTtcbiAgICAgIGxldCBiY3J1bWJfc3RyaW5nID0gXCJAXCI7XG4gICAgICBzd2l0Y2ggKGpzb25jb250ZW50W1wiQHR5cGVcIl0pIHtcbiAgICAgICAgLy8gSE9NRVBBR0VcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvblwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiV2ViU2l0ZVwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIFBMUFxuICAgICAgICBjYXNlIFwiQ29sbGVjdGlvblBhZ2VcIjoge1xuICAgICAgICAgIGZvciAoY29uc3QgYmNydW1pdGVtIG9mIGpzb25jb250ZW50W1wiYnJlYWRjcnVtYlwiXVtcIml0ZW1MaXN0RWxlbWVudFwiXSkge1xuICAgICAgICAgICAgYmNydW1iX3N0cmluZyArPSBcIiB8IFwiICsgYmNydW1pdGVtW1wiaXRlbVwiXVtcIm5hbWVcIl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic29yZ0JyZWFkY3J1bWJcIiwgYmNydW1iX3N0cmluZyk7XG4gICAgICAgICAgY29uc3Qgc29yZ0xpc3RpbmcgPSB7fTtcbiAgICAgICAgICBzb3JnTGlzdGluZy5uYW1lID0ganNvbmNvbnRlbnRbXCJtYWluRW50aXR5XCJdW1wibmFtZVwiXTtcbiAgICAgICAgICBzb3JnTGlzdGluZy5jb3VudEl0ZW1zID0ganNvbmNvbnRlbnRbXCJtYWluRW50aXR5XCJdW1wibnVtYmVyT2ZJdGVtc1wiXTtcbiAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInNvcmdMaXN0aW5nXCIsIHNvcmdMaXN0aW5nKTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIFBEUFxuICAgICAgICBjYXNlIFwiQnJlYWRjcnVtYkxpc3RcIjpcbiAgICAgICAgICBmb3IgKGNvbnN0IGJjcnVtaXRlbSBvZiBqc29uY29udGVudFtcIml0ZW1MaXN0RWxlbWVudFwiXSkge1xuICAgICAgICAgICAgYmNydW1iX3N0cmluZyArPSBcIiB8IFwiICsgYmNydW1pdGVtW1wibmFtZVwiXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzb3JnQnJlYWRjcnVtYlwiLCBiY3J1bWJfc3RyaW5nKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlByb2R1Y3RcIjoge1xuICAgICAgICAgIGNvbnN0IHNvcmdQcm9kdWN0ID0ge307XG4gICAgICAgICAgc29yZ1Byb2R1Y3Quc2t1ID0ganNvbmNvbnRlbnRbXCJza3VcIl07XG4gICAgICAgICAgc29yZ1Byb2R1Y3QubmFtZSA9IGpzb25jb250ZW50W1wibmFtZVwiXTtcbiAgICAgICAgICBpZiAoanNvbmNvbnRlbnRbXCJvZmZlcnNcIl0pIHtcbiAgICAgICAgICAgIHNvcmdQcm9kdWN0LnByaWNlID0ganNvbmNvbnRlbnRbXCJvZmZlcnNcIl1bXCJwcmljZVwiXTtcbiAgICAgICAgICAgIHNvcmdQcm9kdWN0LnByaWNlQ3VycmVuY3kgPSBqc29uY29udGVudFtcIm9mZmVyc1wiXVtcInByaWNlQ3VycmVuY3lcIl07XG4gICAgICAgICAgICBzb3JnUHJvZHVjdC5wcmljZVZhbGlkVW50aWwgPSBqc29uY29udGVudFtcIm9mZmVyc1wiXVtcInByaWNlVmFsaWRVbnRpbFwiXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzb3JnUHJvZHVjdFwiLCBzb3JnUHJvZHVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmxvZyhqc29uY29udGVudCk7XG4gICAgICB9IC8vIHN3aXRjaFxuICAgIH0gY2F0Y2ggKGVycikgeyAvLyB0cnlcbiAgICAgIGxvZ2dlci53YXJuKGVyci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKiBOZXh0ZGF5IGRhdGEgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2XCIsIFwiMC4wLjI3XCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm5cIiwgYG5leHRkYXktc2Vzc2lvbl9pZC0ke3Nlc3Npb25JZH1gKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzclwiLCBTUExJVF9SQVRJTyk7XG5cbiAgLyogbWlzY2VsbGFuZW91cyAqL1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRvbnR0cmFja1wiLCBuYXZpZ2F0b3IuZG9Ob3RUcmFjayB8fCB3aW5kb3cuZG9Ob3RUcmFjayB8fCBuYXZpZ2F0b3IubXNEb05vdFRyYWNrKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ1XCIsIGN1cnJlbnRVUkwuaHJlZik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZFwiLCBjdXJyZW50VVJMLmhvc3RuYW1lKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJyXCIsIGRvY3VtZW50LnJlZmVycmVyKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2SWRcIiwgdmlld0lkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpc09uXCIsIG51bGwpO1xuXG4gIC8qIFZpdmVuc2Ugc3BlY2lmaWMgKi9cbiAgdHJ5IHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c0NudEZhdlByb2RzXCIsIHdpbmRvdy5mYXZvcml0ZVByb2R1Y3RzID8gSlNPTi5wYXJzZSh3aW5kb3cuZmF2b3JpdGVQcm9kdWN0cykubGVuZ3RoIDogbnVsbCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzQ250RmF2UHJvZHNcIiwgbnVsbCk7XG4gICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xuICB9XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzSGFzU2V0RW1haWxcIiwgd2luZG93LnVzZXJFbWFpbC5sZW5ndGggPiAwKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNMb2dpblR5cGVcIiwgd2luZG93LnVzZXJJZCA+IDAgPyBcIm1lbWJlclwiIDogXCJndWVzdFwiKTtcblxuICBsZXQgc2VsZWN0ZWRFbGVtZW50O1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJiYXNrZXRfc3VtbWFyeV90b3RhbFxcXCJdLCBbY2xhc3MqPVxcXCJ0b3RhbF9yb3dcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQdXJjUHJpY2VFbHRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcIm9yZGVyX2ZvbGxvd19udW1iXFxcIl0sIFtjbGFzcyo9XFxcImNhcnQtdGl0bGUtYm90dG9tXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHVyY2hhc2VPcmRlcklEXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJwYXltZW50X3R5cGVfdGl0bGVcXFwiXSwgW2NsYXNzKj1cXFwiY2FydC10aXRsZS1pbmZvXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUHVyY1R5cGVFbHRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltpZCo9XFxcImJyZWFkY3J1bWItb2xcXFwiXSwgW2NsYXNzKj1cXFwibG9uZy1icmVhZGNydW1iXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0NydW1iXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJvcmRlci1maW5hbC1udW1iZXJcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNDYXJ0VG90YWxcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcImJhc2tldF90b3RhbF9wcmljZVxcXCJdXCIpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1ZpZXdCYXNrZXRUb3RhbFwiLCAoc2VsZWN0ZWRFbGVtZW50KSA/IHNlbGVjdGVkRWxlbWVudC5pbm5lclRleHQgOiBudWxsKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2lkKj1cXFwiY2FydF9xdWFudGl0eVxcXCJdLCBbY2xhc3MqPVxcXCJiYXNrZXRfbGVuZ3RoXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0Jhc2tldENvdW50XCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJ3ZWxjb21lX3VzZXJuYW1lXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzVmlld0xvZ2dlZGluXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dC5sZW5ndGggPiAwIDogZmFsc2UpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbY2xhc3MqPVxcXCJ2aXZlbnNlLXNob3dyb29tc1xcXCJdID4gKlwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQRFBTaG93cm9vbUNvdW50XCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50Lmxlbmd0aCA6IG51bGwpO1xuXG4gIHNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbY2xhc3MqPVxcXCJkZWxpdmVyeS1kYXRlXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQRGVsaXZlcnlEYXRlXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZ2c1BEUERlbGl2ZXJ5RGF0ZUZvcm1hdHRlZFwiLCBmb3JtYXREZWxpdmVyeURhdGUoc2VsZWN0ZWRFbGVtZW50Py5pbm5lclRleHQpKTtcblxuICBzZWxlY3RlZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzKj1cXFwicHJvZHVjdC10aXRsZVxcXCJdLCBbY2xhc3MqPVxcXCJoZWFkZXItYm90dG9tXFxcIl1cIik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidnZzUERQVGl0bGVcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcImNvdW50LW9mLXByb2R1Y3RcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQTFBJdGVtQ291bnRcIiwgKHNlbGVjdGVkRWxlbWVudCkgPyBzZWxlY3RlZEVsZW1lbnQuaW5uZXJUZXh0IDogbnVsbCk7XG5cbiAgc2VsZWN0ZWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9XFxcInN1YmNhdGVnb3JpZXMtdGl0bGVcXFwiXVwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2dnNQTFBOYW1lXCIsIChzZWxlY3RlZEVsZW1lbnQpID8gc2VsZWN0ZWRFbGVtZW50LmlubmVyVGV4dCA6IG51bGwpO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCB7Y2hlY2tEYXRhTGF5ZXJSdWxlfSBmcm9tIFwiLi9OZXh0ZGF5UnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrVXJsUnVsZX0gZnJvbSBcIi4vTmV4dGRheVJ1bGVFbmdpbmUvdXJsQ2hlY2tlclwiO1xuaW1wb3J0IHthZGRUb0JlYWdsZUluZm9MYXllcn0gZnJvbSBcIi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBDT09LSUVfTkFNRSxcbiAgTE9DQUxfU1RPUkFHRV9LRVlTLFxuICBTRVNTSU9OX1NUT1JBR0VfS0VZUyxcbiAgU1RZTEVTSEVFVF9MT0NBVElPTixcbiAgVFJFQVRNRU5UU19MT0NBVElPTixcbiAgVFJFQVRNRU5UX1dFSUdIVFNfTE9DQVRJT04sXG59IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgVXRpbHNcIik7XG5jb25zdCBtb250aHMgPSB7XG4gIFwib2Nha1wiOiAwLFxuICBcIsWfdWJhdFwiOiAxLFxuICBcIm1hcnRcIjogMixcbiAgXCJuaXNhblwiOiAzLFxuICBcIm1hecSxc1wiOiA0LFxuICBcImhhemlyYW5cIjogNSxcbiAgXCJ0ZW1tdXpcIjogNixcbiAgXCJhxJ91c3Rvc1wiOiA3LFxuICBcImV5bMO8bFwiOiA4LFxuICBcImVraW1cIjogOSxcbiAgXCJrYXPEsW1cIjogMTAsXG4gIFwiYXJhbMSxa1wiOiAxMSxcbn07XG5jb25zdCByYW5kb21VVUlERmFsbGJhY2sgPSAoKSA9PiB7XG4gIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzLzI4MDAyMThcbiAgLy8gTElDRU5TRTogaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LXNhLzQuMC9sZWdhbGNvZGVcbiAgY3J5cHRvLnJhbmRvbVVVSUQgPSBmdW5jdGlvbiByYW5kb21VVUlEKCkge1xuICAgIHJldHVybiAoXG4gICAgICBbMWU3XSArIC0xZTMgKyAtNGUzICsgLThlMyArIC0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLFxuICAgICAgICAoYykgPT4gKGMgXiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmIDE1ID4+IGMgLyA0KS50b1N0cmluZygxNiksXG4gICAgKTtcbiAgfTtcbn07XG5cbmlmICghKFwicmFuZG9tVVVJRFwiIGluIGNyeXB0bykpIHtcbiAgcmFuZG9tVVVJREZhbGxiYWNrKCk7XG59XG5cbmV4cG9ydCBjb25zdCByZW1vdmVEb2N1bWVudEhpZGUgPSAoKSA9PiB7XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibmV4dERheS1oaWRlXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoVHJlYXRtZW50cyA9IGFzeW5jICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkZldGNoaW5nIHRyZWF0bWVudHNcIik7XG4gIGNvbnN0IHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaChUUkVBVE1FTlRTX0xPQ0FUSU9OKTtcbiAgcmV0dXJuIGF3YWl0IHRyZWF0bWVudHMuanNvbigpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoVHJlYXRtZW50V2VpZ2h0cyA9IGFzeW5jICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkZldGNoaW5nIHRyZWF0bWVudCB3ZWlnaHRzXCIpO1xuICBjb25zdCB0cmVhdG1lbnRXZWlnaHRzID0gYXdhaXQgZmV0Y2goVFJFQVRNRU5UX1dFSUdIVFNfTE9DQVRJT04pO1xuICByZXR1cm4gYXdhaXQgdHJlYXRtZW50V2VpZ2h0cy5qc29uKCk7XG59O1xuXG5leHBvcnQgY29uc3QgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIgPSAoY29va2llU3RyaW5nLCBjb29raWVOYW1lKSA9PiB7XG4gIGlmICghY29va2llU3RyaW5nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBwYXJzZWQgPSBjb29raWVTdHJpbmdcbiAgICAgIC5zcGxpdChcIjtcIilcbiAgICAgIC5tYXAoKHYpID0+IHYuc3BsaXQoXCI9XCIpKVxuICAgICAgLnJlZHVjZSgoYWNjLCB2KSA9PiB7XG4gICAgICAgIGlmICh2WzBdICYmIHZbMV0pIHtcbiAgICAgICAgICBhY2NbZGVjb2RlVVJJQ29tcG9uZW50KHZbMF0udHJpbSgpKV0gPSBkZWNvZGVVUklDb21wb25lbnQodlsxXS50cmltKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCB7fSk7XG5cbiAgbGV0IGlkZW50aWZpZXIgPSBwYXJzZWRbY29va2llTmFtZV07XG4gIGlmICghaWRlbnRpZmllcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChjb29raWVOYW1lID09PSBcIl9nYVwiKSB7XG4gICAgLy8gZXh0cmFjdCB1bmlxdWUgaWRlbnRpZmllciBmcm9tIEdBIGNvb2tpZVxuICAgIGNvbnN0IGlkZW50aWZpZXJJbmRleCA9IDI7XG4gICAgaWRlbnRpZmllciA9IGlkZW50aWZpZXIuc3BsaXQoXCIuXCIpW2lkZW50aWZpZXJJbmRleF07XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXI7XG59O1xuXG5leHBvcnQgY29uc3QgZGV0ZXJtaW5lUGN0ID0gYXN5bmMgKGlkZW50aWZpZXIpID0+IHtcbiAgY29uc3Qgc3Vic3RyaW5nU3RhcnRQb3NpdGlvbiA9IDk7XG4gIGNvbnN0IHN1YnN0cmluZ0xlbmd0aCA9IDg7XG4gIGNvbnN0IHN1YnN0cmluZ0VuZFBvc2l0aW9uID0gc3Vic3RyaW5nU3RhcnRQb3NpdGlvbiArIHN1YnN0cmluZ0xlbmd0aDtcbiAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGNvbnN0IGhhc2hTdHJpbmcgPSBhd2FpdCBjcmVhdGVIYXNoU3RyaW5nKGlkZW50aWZpZXIpO1xuICAvLyBNYXAgdGhlIGNvb2tpZSBoYXNoIHRvIGEgbnVtYmVyIGJldHdlZW4gMCAtPiA5OSxcbiAgLy8gdGhpcyBudW1iZXIgaXMgdGhlIG9uUmF0aW9uXG4gIGNvbnN0IGhhc2hOdW1iZXIgPSBwYXJzZUludChoYXNoU3RyaW5nLnN1YnN0cmluZyhzdWJzdHJpbmdTdGFydFBvc2l0aW9uLCBzdWJzdHJpbmdFbmRQb3NpdGlvbiksIDE2KTtcblxuICByZXR1cm4gaGFzaE51bWJlciAlIDEwMDtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVIYXNoU3RyaW5nID0gYXN5bmMgKHN0cmluZ1RvSGFzaCkgPT4ge1xuICAvLyBlbmNvZGUgc3RyaW5nIHRvIGFuIGFycmF5IG9mIDgtYml0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzXG4gIGNvbnN0IGVuY29kZWQgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc3RyaW5nVG9IYXNoKTtcblxuICAvLyBoYXNoIHRoZSBlbmNvZGVkIGNvb2tpZSBpbnRvIGEgYnVmZmVyXG4gIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0xXCIsIGVuY29kZWQpO1xuXG4gIC8vIGNvbnZlcnQgYnVmZmVyIHRvIGJ5dGUgYXJyYXlcbiAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7XG5cbiAgLy8gY29udmVydCBieXRlcyB0byBoZXggc3RyaW5nIGFuZCByZXR1cm5cbiAgcmV0dXJuIGhhc2hBcnJheS5tYXAoKGIpID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSkuam9pbihcIlwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBleGl0U2Nyb2xsTGlzdGVuZXIgPSAoY2FsbEJhY2spID0+IHtcbiAgY29uc3QgbG9vcCA9ICgpID0+IHtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIGlmIChsYXN0U2Nyb2xsVG9wIC0gNDAwID4gc2Nyb2xsVG9wKSB7XG4gICAgICBjbGVhckludGVydmFsKGV4aXRTY3JvbGxJbnRlcnZhbCk7XG4gICAgICBjYWxsQmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0U2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICBsZXQgbGFzdFNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIGNvbnN0IGV4aXRTY3JvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGxvb3AsIDUwMCk7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYXBwbHkgdHJlYXRtZW50cyB0byB0aGUgcGFnZSBvbiBzcGVjaWZpYyBtZWRpYSB0eXBlLlxuICogQHBhcmFtIHtNZWRpYVF1ZXJ5TGlzdH0gbWVkaWFRdWVyeUNvbmRpdGlvbiB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDUwMHB4KVwiKVxuICogQHBhcmFtIHtET01Ob2RlTGlzdCB9IGVsZW1lbnRzIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXYucHJvZHVjdF9pbmZvXCIpXG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVDaGFuZ2VzTWFwIHsgXCJtYXJnaW4tdG9wXCIgOiBcIjEwcmVtXCJ9XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3Qgc3R5bGVBcHBsaWNhdG9yID0gKGVsZW1lbnRzLCBzdHlsZUNoYW5nZXNNYXApID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHN0eWxlIGNoYW5nZXNcIiwgc3R5bGVDaGFuZ2VzTWFwLCBcInRvIGVsZW1lbnRzXCIsIGVsZW1lbnRzKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdHlsZUNoYW5nZXNNYXApKSB7XG4gICAgICBlbGVtZW50LnN0eWxlW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpbmplY3RTdHlsZVNoZWV0ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gIHN0eWxlU2hlZXQucmVsID0gXCJzdHlsZXNoZWV0XCI7XG4gIHN0eWxlU2hlZXQudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgc3R5bGVTaGVldC5ocmVmID0gU1RZTEVTSEVFVF9MT0NBVElPTjtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVNoZWV0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlQWN0aW9ucyA9IGFzeW5jIChpZGVudGlmaWVyLCBhY3Rpb25zVG9QcmVwYXJlLCBidXNpbmVzc1J1bGVJZCkgPT4ge1xuICBjb25zdCBhY3Rpb25zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhY3Rpb25zVG9QcmVwYXJlKSk7XG4gIGxldCB2YXJpYW50ID0gbnVsbDtcbiAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgIGNvbnN0IHtidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMsIHZhcmlhbnRzfSA9IGFjdGlvbjtcbiAgICBpZiAoIWJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucyAmJiAhdmFyaWFudHMpIGNvbnRpbnVlO1xuICAgIGlmIChidXNpbmVzc1J1bGVJZCAmJiBidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgIGZvciAoY29uc3QgYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbiBvZiBidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgaWYgKGJ1c2luZXNzVHJhbnNmb3JtYXRpb24uaWQgPT09IGJ1c2luZXNzUnVsZUlkKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gXCJpZFwiKSB7XG4gICAgICAgICAgICAgIGFjdGlvbltrZXldID0gYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbltrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodmFyaWFudHMpIHtcbiAgICAgIGZvciAoY29uc3QgdmFyaWFudEtleSBvZiBPYmplY3Qua2V5cyh2YXJpYW50cykpIHtcbiAgICAgICAgY29uc3QgcmFuZG9tUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyB2YXJpYW50S2V5KTtcbiAgICAgICAgaWYgKHJhbmRvbVBjdCA8IGFjdGlvbi52YXJpYW50c1t2YXJpYW50S2V5XS53ZWlnaHQpIHtcbiAgICAgICAgICB2YXJpYW50ID0gdmFyaWFudEtleTtcbiAgICAgICAgICBpZiAoYnVzaW5lc3NSdWxlSWQgJiYgdmFyaWFudHNbdmFyaWFudEtleV0uYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJ1c2luZXNzVHJhbnNmb3JtYXRpb24gb2YgdmFyaWFudHNbdmFyaWFudEtleV0uYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgICAgICAgIGlmIChidXNpbmVzc1RyYW5zZm9ybWF0aW9uLmlkID09IGJ1c2luZXNzUnVsZUlkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiaWRcIikgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBhY3Rpb25ba2V5XSA9IGJ1c2luZXNzVHJhbnNmb3JtYXRpb25ba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFyaWFudHNbdmFyaWFudEtleV0pIHtcbiAgICAgICAgICAgICAgaWYgKGtleSAhPT0gXCJ3ZWlnaHRcIiAmJiBrZXkgIT09IFwiYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zXCIpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25ba2V5XSA9IHZhcmlhbnRzW3ZhcmlhbnRLZXldW2tleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFthY3Rpb25zLCB2YXJpYW50XTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcyA9ICgpID0+IHtcbiAgY29uc3Qge1BBR0VfVklFV1MsIFBPUFVQX0RJU1BMQVlfRkxBRywgU0VTU0lPTl9JRCwgU0VTU0lPTl9USU1FU1RBTVAsIFNFU1NJT05fSElTVE9SWSwgSEFTX0FDVElWRV9UQUJ9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG5cbiAgY29uc3QgcGFnZVZpZXdzID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQQUdFX1ZJRVdTKTtcbiAgY29uc3QgcG9wdXBEaXNwbGF5RmxhZyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKTtcbiAgY29uc3Qgc2Vzc2lvbklkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX0lEKTtcbiAgY29uc3Qgc2Vzc2lvblRpbWVzdGFtcCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVApO1xuICBjb25zdCBzZXNzaW9uSGlzdG9yeSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9ISVNUT1JZKTtcbiAgY29uc3QgaGFzQWN0aXZlVGFiID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShIQVNfQUNUSVZFX1RBQik7XG5cbiAgaWYgKCFoYXNBY3RpdmVUYWIpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKEhBU19BQ1RJVkVfVEFCLCB0cnVlKTtcbiAgfVxuICBpZiAoIXBhZ2VWaWV3cykge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEFHRV9WSUVXUywgMSk7XG4gIH0gZWxzZSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQQUdFX1ZJRVdTLCBwYXJzZUludChwYWdlVmlld3MpICsgMSk7XG4gIH1cbiAgaWYgKHBvcHVwRGlzcGxheUZsYWcgPT09IG51bGwpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRywgMCk7XG4gIH1cbiAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSUQsIGNyeXB0by5yYW5kb21VVUlEKCkpO1xuICB9XG4gIGlmICghc2Vzc2lvblRpbWVzdGFtcCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVAsIERhdGUubm93KCkpO1xuICB9XG4gIGlmICghc2Vzc2lvbkhpc3RvcnkpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZV0pO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9ISVNUT1JZLCBbd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCBzZXNzaW9uSGlzdG9yeV0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY29uZGl0aW9uQ2hlY2tlciA9IChydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgaWYgKGNvbmRpdGlvbiA9PT0gXCJub3RFeGlzdFwiKSB7XG4gICAgaWYgKCFydW5UaW1lVmFsdWUpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBleGlzdFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHJ1blRpbWVWYWx1ZSA9PT0gbnVsbCB8fFxuICAgIHJ1blRpbWVWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgY29uZGl0aW9uID09PSBudWxsIHx8XG4gICAgY29uZGl0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogcnVuVGltZVZhbHVlIG9yIGNvbmRpdGlvbiBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3dpdGNoIChjb25kaXRpb24pIHtcbiAgICBjYXNlIFwiZXhpc3RcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJjb250YWluc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBjb250YWlucyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RDb250YWluc1wiOlxuICAgICAgaWYgKCFydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBjb250YWlucyB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZXF1YWxcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGVxdWFsIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RFcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID4gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGdyZWF0ZXIgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibGVzc1RoYW5cIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPCB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPD0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGxlc3Mgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiYmV0d2VlblwiOiB7XG4gICAgICBsZXQgW21pbiwgbWF4XSA9IHZhbHVlLnNwbGl0KFwiLFwiKTtcbiAgICAgIG1pbiA9IHBhcnNlSW50KG1pbik7XG4gICAgICBtYXggPSBwYXJzZUludChtYXgpO1xuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+PSBtaW4gJiYgcnVuVGltZVZhbHVlIDw9IG1heCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkIFwiLCBjb25kaXRpb24pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGVidWdNb2RlID0gKCkgPT4ge1xuICBjb25zdCB7TkRfREVCVUdfTU9ERSwgT1VUX09GX1NDT1BFfSA9IExPQ0FMX1NUT1JBR0VfS0VZUztcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0xXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE5EX0RFQlVHX01PREUsIDEpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIFwib25cIik7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MlwiKSkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShORF9ERUJVR19NT0RFLCAyKTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oT1VUX09GX1NDT1BFLCB0cnVlKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRibVwiLCBcIm9uXCIpO1xuICAgIHJldHVybiAyO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5kX2RlYnVnPTBcIikpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTkRfREVCVUdfTU9ERSk7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKE9VVF9PRl9TQ09QRSwgdHJ1ZSk7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvZmZcIik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgY3VycmVudCA9IHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShORF9ERUJVR19NT0RFKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIChjdXJyZW50ID8gXCJvblwiIDogXCJvZmZcIikpO1xuICByZXR1cm4gKGN1cnJlbnQgfHwgMCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SWRlbnRpZmllciA9IGFzeW5jIChjb29raWVOYW1lID0gQ09PS0lFX05BTUUpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQpO1xuICAgIGlmIChpZCkgcmVzb2x2ZShpZCk7XG4gICAgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIGNvb2tpZU5hbWUpO1xuICAgIGlmIChpZCkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5VU0VSX0lELCBpZCk7XG4gICAgICByZXNvbHZlKGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIGNvb2tpZU5hbWUpO1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwpO1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuVVNFUl9JRCwgaWQpO1xuICAgICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICB9XG4gICAgICB9LCAxMCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChleHRyYWN0SWRlbnRpZmllckludGVydmFsKTtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkNvdWxkIG5vdCBleHRyYWN0IGNvb2tpZSBpZGVudGlmaWVyXCIpKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVsYXkgPSAobXMpID0+IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCBtcykpO1xuXG4vLyBDb2xsZWN0IHByb2R1Y3QgU0tVcyBmcm9tIHBhZ2VcbmV4cG9ydCBjb25zdCBza3VDb2xsZWN0b3IgPSAoKSA9PiB7XG4gIGNvbnN0IHtORF9TS1VfTElTVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgY29uc3Qgc2t1TGlzdCA9IFtdO1xuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgaG9tZSBwYWdlXG4gIGNvbnN0IHJ1bGUgPSB7XG4gICAgb3BlcmF0b3I6IFwiUGFnZVR5cGVcIixcbiAgICBjb25kaXRpb246IFwiZXF1YWxcIixcbiAgICB2YWx1ZTogXCJIb21lcGFnZVwiLFxuICB9O1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGxpc3RpbmcgcGFnZVxuICBydWxlLnZhbHVlID0gXCJMaXN0aW5ncGFnZVwiO1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1jYXJkXCIpKTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBza3VMaXN0LnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3Qtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBMaXN0aW5ncGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNULCBKU09OLnN0cmluZ2lmeShza3VMaXN0KSk7XG5cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgcHJvZHVjdCBwYWdlXG4gIHJ1bGUudmFsdWUgPSBcIlByb2R1Y3RwYWdlXCI7XG4gIGlmIChjaGVja0RhdGFMYXllclJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LXNrdVwiKTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IFNLVSBub3QgZm91bmQgb24gUHJvZHVjdHBhZ2VcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2t1TGlzdC5wdXNoKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1za3VcIikgfHwgZWxlbWVudC50ZXh0Q29udGVudD8udHJpbSgpPy5yZXBsYWNlKC9cXCkvZywgXCJcIik/LnJlcGxhY2UoL1xcKC9nLCBcIlwiKSk7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShORF9TS1VfTElTVCwgSlNPTi5zdHJpbmdpZnkoc2t1TGlzdCkpO1xuXG4gICAgcmV0dXJuIHNrdUxpc3Q7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGJhc2tldCBwYWdlXG4gIHJ1bGUub3BlcmF0b3IgPSBcInBhdGhcIjtcbiAgcnVsZS52YWx1ZSA9IFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCI7XG4gIGlmIChjaGVja1VybFJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJ0LWluc2lkZVwiKSk7XG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgc2t1TGlzdC5wdXNoKGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1za3VcIikpO1xuICAgIH0pO1xuICAgIGlmICghc2t1TGlzdC5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IFNLVXMgbm90IGZvdW5kIG9uIGJhc2tldCBwYWdlXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTkRfU0tVX0xJU1QsIEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpKTtcblxuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgbG9nZ2VyLmxvZyhcIlVuaWRlbnRpZmllZCBwYWdlIHR5cGVcIik7XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2VuZEJlYWNvblN1cHBvcnRlZCA9ICgpID0+IG5hdmlnYXRvci5zZW5kQmVhY29uICYmIHR5cGVvZiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbiA9PT0gXCJmdW5jdGlvblwiO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0RGVsaXZlcnlEYXRlID0gKGRhdGUpID0+IHtcbiAgaWYgKCFkYXRlIHx8IHR5cGVvZiBkYXRlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gZGF0ZTtcblxuICBjb25zdCByZXN1bHQgPSB7XG4gICAgc3RhcnRNb250aEluZGV4OiB1bmRlZmluZWQsXG4gICAgZW5kTW9udGhJbmRleDogdW5kZWZpbmVkLFxuICAgIHN0YXJ0RGF5OiB1bmRlZmluZWQsXG4gICAgZW5kRGF5OiB1bmRlZmluZWQsXG4gIH07XG5cbiAgbGV0IG1hdGNoID0gZGF0ZS5tYXRjaChcIihbXFxcXGRdKyktKFtcXFxcZF0rKVxcXFxzPyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcXSspXCIpO1xuICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID09PSA0KSB7XG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5lbmREYXkgPSBwYXJzZUludChtYXRjaFsyXSk7XG4gICAgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFszXS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IHJlc3VsdC5zdGFydE1vbnRoSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgbWF0Y2ggPSBkYXRlLm1hdGNoKFwiKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcXSspLShbXFxcXGRdKylcXFxccysoW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnF0rKVwiKTtcbiAgICBpZiAoIW1hdGNoIHx8IG1hdGNoLmxlbmd0aCAhPT0gNSkgcmV0dXJuIGRhdGU7XG5cbiAgICByZXN1bHQuc3RhcnREYXkgPSBwYXJzZUludChtYXRjaFsxXSk7XG4gICAgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFsyXS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXN1bHQuZW5kRGF5ID0gcGFyc2VJbnQobWF0Y2hbM10pO1xuICAgIHJlc3VsdC5lbmRNb250aEluZGV4ID0gbW9udGhzW21hdGNoWzRdLnRvTG93ZXJDYXNlKCldO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG5cbiAgICBpZiAoIXJlc3VsdC5zdGFydE1vbnRoSW5kZXggfHwgIXJlc3VsdC5lbmRNb250aEluZGV4KSByZXR1cm4gZGF0ZTtcblxuICAgIGNvbnN0IHN0YXJ0WWVhciA9IHJlc3VsdC5zdGFydE1vbnRoSW5kZXggPj0gdG9kYXkuZ2V0TW9udGgoKSA/IHRvZGF5LmdldEZ1bGxZZWFyKCkgOiB0b2RheS5nZXRGdWxsWWVhcigpICsgMTtcbiAgICBjb25zdCBlbmRZZWFyID0gcmVzdWx0LmVuZE1vbnRoSW5kZXggPj0gdG9kYXkuZ2V0TW9udGgoKSA/IHRvZGF5LmdldEZ1bGxZZWFyKCkgOiB0b2RheS5nZXRGdWxsWWVhcigpICsgMTtcblxuICAgIGNvbnN0IGVzdGltYXRlZFN0YXJ0ID0gbmV3IERhdGUoc3RhcnRZZWFyLCByZXN1bHQuc3RhcnRNb250aEluZGV4LCByZXN1bHQuc3RhcnREYXkpO1xuICAgIGNvbnN0IGVzdGltYXRlZEVuZCA9IG5ldyBEYXRlKGVuZFllYXIsIHJlc3VsdC5lbmRNb250aEluZGV4LCByZXN1bHQuZW5kRGF5KTtcblxuXG4gICAgY29uc3Qgc3RhcnREaWZmT3ZlckRheXMgPSBNYXRoLmNlaWwoTWF0aC5hYnMoZXN0aW1hdGVkU3RhcnQgLSB0b2RheSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICAgIGNvbnN0IGVuZERpZmZPdmVyRGF5cyA9IE1hdGguY2VpbChNYXRoLmFicyhlc3RpbWF0ZWRFbmQgLSB0b2RheSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuXG4gICAgY29uc3Qgc3RhcnREaWZmT3ZlcldlZWtzID0gc3RhcnREaWZmT3ZlckRheXMgPCA3ID8gMCA6IE1hdGguY2VpbChzdGFydERpZmZPdmVyRGF5cyAvIDcpO1xuICAgIGNvbnN0IGVuZERpZmZPdmVyV2Vla3MgPSBlbmREaWZmT3ZlckRheXMgPCA3ID8gMCA6IE1hdGguY2VpbChlbmREaWZmT3ZlckRheXMgLyA3KTtcblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IDAgJiYgZW5kRGlmZk92ZXJXZWVrcyA9PT0gMCkge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJEYXlzfSAtICR7ZW5kRGlmZk92ZXJEYXlzfSBHw7xuYDtcbiAgICB9XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSAwICYmIGVuZERpZmZPdmVyV2Vla3MgPj0gMSkge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJEYXlzfSBHw7xuIC0gJHtlbmREaWZmT3ZlcldlZWtzfSBIYWZ0YWA7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gZW5kRGlmZk92ZXJXZWVrcykge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0RGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICAgIH1cblxuICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyV2Vla3N9IC0gJHtlbmREaWZmT3ZlcldlZWtzfSBIYWZ0YWA7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBkYXRlO1xuICB9XG59O1xuIiwiaW1wb3J0IHtMT0dfQVBJX1VSTH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjcmVhdGVIYXNoU3RyaW5nLCBpc1NlbmRCZWFjb25TdXBwb3J0ZWR9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBNb25pdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBNb25pdG9yXCIpO1xuICAgIHRoaXMubG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBtb25pdG9yXCIpO1xuXG4gICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBudWxsO1xuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gZmFsc2U7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCA9IG51bGw7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA9IGZhbHNlO1xuICAgIHRoaXMuaGVhZGVycyA9IHtcbiAgICAgIHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgdGhpcy5pc0xvZ2dlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5pbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBhc3luYyBzZW5kTG9ncyhtZXNzYWdlID0gbnVsbCwgaXNFcnJvciA9IGZhbHNlKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxvZ2dlci5sb2coXCJTZW5kaW5nIGxvZ3NcIik7XG5cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiRG9jdW1lbnQgcmVhZHkgc3RhdGUgaXMgbm90IGNvbXBsZXRlXCIpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIG9ubG9hZCBldmVudFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlUXVldWVMb2dzKHJlcXVlc3RCbG9iLCBpc0Vycm9yID0gZmFsc2UpIHtcbiAgICBpZiAoIWlzRXJyb3IgJiYgdGhpcy5pc0xvZ2dlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghcmVxdWVzdEJsb2IpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgY3JlYXRlIHJlcXVlc3QgYmxvYlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlJlcXVlc3QgYmxvYiB0byBzZW5kOiBcIiwgcmVxdWVzdEJsb2IpO1xuICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcblxuICAgIHRoaXMuaXNMb2dnZWQgPSB0cnVlO1xuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhKU09OLnN0cmluZ2lmeSh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmEpKTtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5lKSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVMYXRlc3RDaGFuZ2VzKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgaWYgdGhlcmUgYXJlIGNoYW5nZXNcIik7XG5cbiAgICBjb25zdCBhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5hKSk7XG4gICAgY29uc3QgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkod2luZG93LmJlYWdsZUluZm9MYXllci5lKSk7XG5cbiAgICBpZiAoYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCAhPT0gdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2gpIHtcbiAgICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNIYXNoID0gYXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaDtcbiAgICB9XG4gICAgaWYgKGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCAhPT0gdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCkge1xuICAgICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA9IHRydWU7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoID0gZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoO1xuICAgIH1cbiAgfVxuXG4gIHBhY2thZ2VMb2dEYXRhKG1lc3NhZ2UgPSBudWxsKSB7XG4gICAgY29uc3Qge2hlYWRlcnN9ID0gdGhpcztcbiAgICBjb25zdCBib2R5ID0gey4uLndpbmRvdy5iZWFnbGVJbmZvTGF5ZXJ9O1xuICAgIGNvbnN0IG0gPSBtZXNzYWdlID8gbWVzc2FnZSA6IE9iamVjdC5rZXlzKGJvZHkuYSB8fCB7fSkubGVuZ3RoID8gXCJUcmVhdG1lbnRzIGFwcGxpZWRcIiA6IFwiTm8gdHJlYXRtZW50cyBhcHBsaWVkXCI7XG4gICAgYm9keS50ID0gRGF0ZS5ub3coKTtcbiAgICBib2R5Lm0gPSBtO1xuXG4gICAgcmV0dXJuIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShib2R5KV0sIGhlYWRlcnMpO1xuICB9XG5cbiAgcGFja2FnZVVwZGF0ZUxvZ0RhdGEoKSB7XG4gICAgY29uc3Qge2hlYWRlcnMsIGFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcywgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXN9ID0gdGhpcztcbiAgICBpZiAoIWFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyAmJiAhZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgdDogRGF0ZS5ub3coKSxcbiAgICAgIGE6IGFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA/IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYSA6IHt9LFxuICAgICAgZTogZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPyB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmUgOiB7fSxcbiAgICAgIHZJZDogd2luZG93LmJlYWdsZUluZm9MYXllci52SWQsXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsZXQgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IGZhbHNlO1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgZXhpdCBldmVudCBsaXN0ZW5lclwiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJiZWZvcmV1bmxvYWRcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5pc0xvZ2dlZCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzRXhpdEV2ZW50Q2FwdHVyZWQpIHJldHVybjtcbiAgICAgICAgICBpc0V4aXRFdmVudENhcHR1cmVkID0gdHJ1ZTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW4gYmVmb3JldW5sb2FkIGV2ZW50XCIpO1xuICAgICAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLnBhY2thZ2VVcGRhdGVMb2dEYXRhKCk7XG4gICAgICAgICAgaWYgKCFsb2dEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gY2hhbmdlcyB0byBsb2dcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7Y2FwdHVyZTogdHJ1ZX0sXG4gICAgKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJwYWdlaGlkZVwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBwYWdlaGlkZSBldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5wYWNrYWdlVXBkYXRlTG9nRGF0YSgpO1xuICAgICAgICAgIGlmICghbG9nRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIGNoYW5nZXMgdG8gbG9nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnF1ZXVlTG9ncyhsb2dEYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9LFxuICAgICk7XG4gIH1cblxuICBxdWV1ZUxvZ3MobG9nRGF0YSkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghaXNTZW5kQmVhY29uU3VwcG9ydGVkKCkpIHtcbiAgICAgIGZldGNoKExPR19BUElfVVJMLCBsb2dEYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgIGNvbnN0IHF1ZXVlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoIXF1ZXVlZCkgcXVldWVkID0gbmF2aWdhdG9yLnNlbmRCZWFjb24oTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocXVldWVJbnRlcnZhbCk7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIHF1ZXVlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgIGlmICghcXVldWVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJMb2dzIG5vdCBxdWV1ZWRcIik7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvcjtcbiIsImltcG9ydCB7c2t1Q29sbGVjdG9yfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TE9PS1VQX0FQSV9VUkx9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBpXCIpO1xuXG5leHBvcnQgY29uc3QgcHJvZHVjdEluZm9Mb29rdXAgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTdGFydGluZyBwcm9kdWN0IGluZm8gbG9va3VwXCIpO1xuICBjb25zdCBza3VMaXN0ID0gc2t1Q29sbGVjdG9yKCk7XG4gIGlmICghc2t1TGlzdCkge1xuICAgIGxvZ2dlci5sb2coXCJObyBza3UgZm91bmRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgbGV0IHByb2R1Y3RJbmZvO1xuICB0cnkge1xuICAgIHByb2R1Y3RJbmZvID0gYXdhaXQgZmV0Y2goTE9PS1VQX0FQSV9VUkwsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShza3VMaXN0KSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBtb2RlOiBcImNvcnNcIixcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci53YXJuKFwiRmV0Y2ggdG8gY2F0YWxvZyBhcGkgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghcHJvZHVjdEluZm8ub2spIHtcbiAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIGxvb2t1cCBmYWlsZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcHJvZHVjdEluZm8gPSBhd2FpdCBwcm9kdWN0SW5mby5qc29uKCk7XG4gIGlmICghcHJvZHVjdEluZm8pIHtcbiAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIGV4dHJhY3Rpb24gZnJvbSByZXNwb25zZSBmYWlsZWRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyBsb29rdXAgc3VjY2Vzc2Z1bFwiKTtcbiAgcmV0dXJuIHByb2R1Y3RJbmZvO1xufTtcbiIsImltcG9ydCBhcnJheVdpdGhvdXRIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhvdXRIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlU3ByZWFkIGZyb20gXCIuL25vbkl0ZXJhYmxlU3ByZWFkLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtleGl0U2Nyb2xsTGlzdGVuZXIsIHN0eWxlQXBwbGljYXRvciwgZGVsYXl9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtyZXBsYWNlQWxsfSBmcm9tIFwiLi4vc3RyaW5nVXRpbHNcIjtcbmltcG9ydCB7TU9CSUxFX01FRElBX1FVRVJZLCBTRVNTSU9OX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtkYXRhTGF5ZXJGaW5kZXJ9IGZyb20gXCIuLi9OZXh0ZGF5UnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuYXN5bmMgZnVuY3Rpb24gYXBwbHlBY3Rpb25zKGFjdGlvbnMsIHByb2R1Y3RJbmZvKSB7XG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEFwcGx5IEFjdGlvbnNcIik7XG4gIGNvbnN0IHtQT1BVUF9ESVNQTEFZX0ZMQUd9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG5cbiAgY29uc3QgdHJhbnNmb3JtZXIgPSBmdW5jdGlvbiB0cmFuc2Zvcm1lcihhY3Rpb24pIHtcbiAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgYWN0aW9uOiBcIiwgSlNPTi5zdHJpbmdpZnkoYWN0aW9uKSk7XG4gICAgY29uc3Qge1xuICAgICAgb3BlcmF0b3IsXG4gICAgICB0eXBlLFxuICAgICAgYXBwbHlFdmVudCxcbiAgICAgIGNvbnRlbnRTZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3JGYWxsYmFjayxcbiAgICAgIG1kQ29uZGl0aW9uLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8xLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8yLFxuICAgICAgcmVwbGFjZUZuLFxuICAgIH0gPSBhY3Rpb247XG4gICAgaWYgKG9wZXJhdG9yID09PSBcIm5vb3BcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIk5vb3AgT3BlcmF0b3I6IE5vIG9wZXJhdGlvbiBpcyBhcHBsaWVkIG9uIHRhcmdldCBcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB7dmFsdWV9ID0gYWN0aW9uO1xuICAgIGxldCBlbGVtZW50ID0gJChzZWxlY3Rvcik7XG5cbiAgICBjb25zdCBtYyA9IG1kQ29uZGl0aW9uID8gd2luZG93Lm1hdGNoTWVkaWEobWRDb25kaXRpb24pLm1hdGNoZXMgOiB0cnVlO1xuICAgIGlmICghbWMpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJNZWRpYSBjb25kaXRpb24gbWlzbWF0Y2g6IFwiLCBtZENvbmRpdGlvbik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIChtb3ZlX3NlbGVjdG9yXzEgJiYgIW1vdmVfc2VsZWN0b3JfMikgfHxcbiAgICAgIChtb3ZlX3NlbGVjdG9yXzIgJiYgIW1vdmVfc2VsZWN0b3JfMSlcbiAgICApIHtcbiAgICAgIGxvZ2dlci5sb2coXCJCb3RoIG1vdmUgc2VsZWN0b3JzIGFyZSByZXF1aXJlZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG1vdmVfc2VsZWN0b3JfMSAmJiBtb3ZlX3NlbGVjdG9yXzIpIHtcbiAgICAgIGlmICghJChtb3ZlX3NlbGVjdG9yXzEpLmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiTW92ZSBzZWxlY3RvciAxIG5vdCBmb3VuZDogXCIsIG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghJChtb3ZlX3NlbGVjdG9yXzIpLmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiTW92ZSBzZWxlY3RvciAyIG5vdCBmb3VuZDogXCIsIG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNlbGVjdG9yIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCEkKHNlbGVjdG9yRmFsbGJhY2spLmxlbmd0aCAmJiBvcGVyYXRvciA9PT0gXCJyZW1vdmVcIikgcmV0dXJuO1xuICAgICAgICBpZiAoc2VsZWN0b3IgIT09IFwibm8tc2VsZWN0b3JcIikge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3QgZm91bmQ6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlRyeWluZyBmYWxsYmFjayBzZWxlY3RvcjogXCIsIHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmIChzZWxlY3RvckZhbGxiYWNrKSBlbGVtZW50ID0gJChzZWxlY3RvckZhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiRmFsbGJhY2sgc2VsZWN0b3Igbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlcGxhY2VGbkV4ZWN1dG9yID0gKHJlcGxhY2VGbiwgdmFsdWUpID0+IHtcbiAgICAgIGlmIChyZXBsYWNlRm4gJiYgdmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiRXhlY3V0aW5nIHJlcGxhY2UgZnVuY3Rpb246IFwiLCByZXBsYWNlRm4pO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICAgIGRhdGFMYXllckZpbmRlcixcbiAgICAgICAgICBwcm9kdWN0SW5mbyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVwbGFjZUZ1bmN0aW9uID0gRnVuY3Rpb24ocmVwbGFjZUZuKS5iaW5kKGNvbnRleHQpO1xuICAgICAgICB2YWx1ZSA9IHJlcGxhY2VBbGwodmFsdWUsIFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZUZ1bmN0aW9uKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlLmZvckVhY2goKHZhbCwgaSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50UmVwbGFjZUZuID0gcmVwbGFjZUZuID8gcmVwbGFjZUZuW2ldIHx8IHJlcGxhY2VGbiA6IFwiXCI7XG4gICAgICAgIHZhbHVlW2ldID0gcmVwbGFjZUZuRXhlY3V0b3IoY3VycmVudFJlcGxhY2VGbiwgdmFsKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IHJlcGxhY2VGbkV4ZWN1dG9yKHJlcGxhY2VGbiwgdmFsdWUpO1xuICAgIH1cblxuICAgIGlmIChvcGVyYXRvciA9PT0gXCJyZW1vdmVcIikge1xuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlJlbW92aW5nOiBcIiwgc2VsZWN0b3IpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcIkNhbm5vdCBmb3VuZCBlbGVtZW50IHdpdGggc2VsZWN0b3I6IFwiLCBzZWxlY3Rvcik7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJpbnNlcnRcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJiZWZvcmVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW5zZXJ0aW5nIGJlZm9yZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICBpZiAoU3RyaW5nKHZhbHVlKS5pbmNsdWRlcyhcIm5kLWFkZC10by13aW5cIikpIHtcbiAgICAgICAgICAgICQoXCIubmQtYWRkLXRvLXdpblwiKS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5iZWZvcmUodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiSW5zZXJ0aW5nIGFmdGVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9wdXBcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAocGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcpKSAhPT0gMCkge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiUG9wdXAgYWxyZWFkeSBkaXNwbGF5ZWQgaW4gc2Vzc2lvblwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQ3JlYXRpbmcgUG9wdXA6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBjcmVhdGVQb3B1cCh2YWx1ZSwgY29udGVudFNlbGVjdG9yKTtcblxuICAgICAgICAgICAgaWYgKGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgICAgY29uc3QgbW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZXhpdEludGVudFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQWRkaW5nIGV4aXQgaW50ZW50IGxpc3RlbmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZXhpdFNjcm9sbExpc3RlbmVyKGRpc3BsYXlQb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwibW91c2VsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtvbmNlOiB0cnVlfSxcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNvcHlJbnRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFkZGluZyBjb3B5IGludGVudCBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvcHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtvbmNlOiB0cnVlfSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBhcHBlbmQgcG9wdXAgdG8gYm9keSBhZnRlciB0aW1lb3V0IGV4cGlyZXNcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwKCk7XG4gICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImVkaXRcIikge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkVkaXRpbmcgdGV4dDogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50LnRleHQodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJFZGl0aW5nIGh0bWw6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlQXBwbGljYXRvclwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZTogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlQ2hhbmdlc01hcCA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlN0eWxlIENoYW5nZXMgTWFwOiBcIiwgc3R5bGVDaGFuZ2VzTWFwKTtcbiAgICAgICAgICAgIHN0eWxlQXBwbGljYXRvcihlbGVtZW50LCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZENsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgYWRkZGluZyBjbGFzcyB0byAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZW1vdmVDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYHJlbW92ZSBjbGFzcyBmcm9tICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRvY3VtZW50VGl0bGVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBjaGFuZ2luZyBkb2N1bWVudCB0aXRsZSBmcm9tICR7ZWxlbWVudH0gdG8gJHt2YWx1ZX1gKTtcbiAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgY29uc3Qge0ZMQVNIX1RBQl9DT1VOVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBpZiAoZXZlbnQgPT0gXCJ0YWJDaGFuZ2VcIikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJjYXRjaGluZyBldmVudCB0YWJjaGFuZ2UuLlwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRpdGxlID0gZG9jdW1lbnQudGl0bGU7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oSEFTX0FDVElWRV9UQUIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZsYXNoVGFiQ291bnRlciA9IHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oRkxBU0hfVEFCX0NPVU5UKSkgfHwgMDtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UoZSwgdmFsdWUsIG9yaWdpbmFsVGl0bGUsIGZsYXNoVGFiQ291bnRlcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQmFubmVyXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qge05EX1NLVV9MSVNUfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgICAgICAgICAgaWYgKCFwcm9kdWN0SW5mbykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIHVuYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgYmFubmVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudFNrdSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShORF9TS1VfTElTVCkpWzBdO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50U2t1KSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgZmluZCBwcm9kdWN0IHNrdVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb2R1Y3RJbmZvKS5pbmNsdWRlcyhlbGVtZW50U2t1KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYmVmb3JlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlVua25vd24gZWRpdCB0eXBlOiBcIiwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzZXRhdHRyaWJ1dGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgYXR0cmlidXRlOiBcIiwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGF0dHJpYnV0ZSkge1xuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgZWxlbWVudC5jc3MoXCJjb250ZW50XCIsIGB1cmwoJHt2YWx1ZS50cmltKCl9KWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhwcm9wZXJ0eSwgcHJvcGVydHlWYWx1ZSwgXCIhaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nOiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5yZXBsYWNlQWxsKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInN3YXBcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlN3YXBwaW5nOiBcIiwgbW92ZV9zZWxlY3Rvcl8xLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgY29uc3QgbjEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMSk7XG4gICAgICBjb25zdCBuMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgIHN3YXBOb2RlcyhuMSwgbjIpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiaW5qZWN0c2NyaXB0XCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJJbmplY3Rpbmcgc2NyaXB0OiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5hcHBlbmQoYDxzY3JpcHQ+JHt2YWx1ZX08L3NjcmlwdD5gKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIm1vdmVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhgTW92aW5nICR7bW92ZV9zZWxlY3Rvcl8xfSB0byAke21vdmVfc2VsZWN0b3JfMn1gKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc291cmNlLnJlbW92ZSgpO1xuICAgICAgZGVzdGluYXRpb24ucHJlcGVuZChzb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCBvcGVyYXRvciBleGlzdHMgeWV0XCIsIG9wZXJhdG9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSA9IGFzeW5jIChldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlLCBmbGFzaFRhYkNvdW50ZXIpID0+IHtcbiAgICBjb25zdCB7RkxBU0hfVEFCX0NPVU5ULCBIQVNfQUNUSVZFX1RBQn0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICAgIGlmIChmbGFzaFRhYkNvdW50ZXIgPiAzKSByZXR1cm47XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShGTEFTSF9UQUJfQ09VTlQsIGZsYXNoVGFiQ291bnRlciArIDEpO1xuXG4gICAgY29uc3QgcGFyc2VkVGl0bGVzID0gIUFycmF5LmlzQXJyYXkodGl0bGVzKSA/IFt0aXRsZXNdIDogdGl0bGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkVGl0bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuICYmICFzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKEhBU19BQ1RJVkVfVEFCKSkge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHBhcnNlZFRpdGxlc1tpXTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMzAwMCk7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgICAgYXdhaXQgZGVsYXkoMzAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKEhBU19BQ1RJVkVfVEFCLCB0cnVlKTtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGV2ZW50LCB0aXRsZXMsIG9yaWdpbmFsVGl0bGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQb3B1cENsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgaWQgPSBldmVudC50YXJnZXQuaWQ7XG4gICAgaWYgKGlkICYmIGlkID09PSBcIm5kLXBvcHVwX193cmFwcGVyXCIpIHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNwbGF5UG9wdXAgPSAoKSA9PiB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDEpO1xuICAgIGNvbnN0IHFQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3J0LXNoYWRvdy1ob3N0XCIpO1xuICAgIGlmIChxUG9wdXApIHFQb3B1cC5zdHlsZVtcImRpc3BsYXlcIl0gPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5kLXBvcHVwX193cmFwcGVyXCIpLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwiYmxvY2tcIjtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgZGlzcGxheVBvcHVwLCB7XG4gICAgICBvbmNlOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9LCAxNTAwMCk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlUG9wdXAgPSAodmFsdWUsIGNvbnRlbnRTZWxlY3RvcikgPT4ge1xuICAgIC8vIENyZWF0ZSBwb3B1cCB3cmFwcGVyXG4gICAgY29uc3QgcG9wdXBXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgIHBvcHVwV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwibmQtcG9wdXBfX3dyYXBwZXJcIik7XG4gICAgcG9wdXBXcmFwcGVyLmlkID0gXCJuZC1wb3B1cF9fd3JhcHBlclwiO1xuXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGNsb3NlIGJ1dHRvblxuICAgIGNvbnN0IHBvcHVwQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChcIm5kLXBvcHVwX19idXR0b24tY2xvc2VcIik7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIlhcIjtcbiAgICBwb3B1cENsb3NlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgaWYgKGNvbnRlbnRTZWxlY3Rvcikge1xuICAgICAgY29uc3QgY29udGVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29udGVudFNlbGVjdG9yKSk7XG4gICAgICB3aGlsZSAodmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSAmJiBjb250ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIGNvbnRlbnRzLnNoaWZ0KCkuc3JjKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgZnJvbSBhY3Rpb24gYW5kIGFwcGVuZCBjbG9zZSBidXR0b25cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZS50cmltKCk7XG4gICAgY29uc3QgcG9wdXAgPSB0ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgcG9wdXAuYXBwZW5kQ2hpbGQocG9wdXBDbG9zZUJ1dHRvbik7XG4gICAgcG9wdXBXcmFwcGVyLmFwcGVuZENoaWxkKHBvcHVwKTtcblxuICAgIC8vIFJlbW92ZSBvbGQgcG9wdXAgaWYgZXhpc3RzIGJlZm9yZSBhcHBlbmRpbmcgbmV3IG9uZVxuICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwb3B1cFdyYXBwZXIpO1xuICB9O1xuXG4gIGNvbnN0IHN3YXBOb2RlcyA9IGZ1bmN0aW9uIHN3YXBOb2RlcyhuMSwgbjIpIHtcbiAgICBjb25zdCBwMSA9IG4xLnBhcmVudE5vZGU7XG4gICAgY29uc3QgcDIgPSBuMi5wYXJlbnROb2RlO1xuICAgIGxldCBpMTtcbiAgICBsZXQgaTI7XG5cbiAgICBpZiAoIXAxIHx8ICFwMiB8fCBwMS5pc0VxdWFsTm9kZShuMikgfHwgcDIuaXNFcXVhbE5vZGUobjEpKSByZXR1cm47XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAxLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocDEuY2hpbGRyZW5baV0uaXNFcXVhbE5vZGUobjEpKSB7XG4gICAgICAgIGkxID0gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMi5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAyLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4yKSkge1xuICAgICAgICBpMiA9IGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHAxLmlzRXF1YWxOb2RlKHAyKSAmJiBpMSA8IGkyKSB7XG4gICAgICBpMisrO1xuICAgIH1cbiAgICBwMS5pbnNlcnRCZWZvcmUobjIsIHAxLmNoaWxkcmVuW2kxXSk7XG4gICAgcDIuaW5zZXJ0QmVmb3JlKG4xLCBwMi5jaGlsZHJlbltpMl0pO1xuICB9O1xuXG4gIGNvbnN0IGFjdGlvbkFwcGxpY2F0b3IgPSAoYWN0aW9ucykgPT4ge1xuICAgIGlmICghd2luZG93LmpRdWVyeSkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgYWN0aW9uQXBwbGljYXRvcihhY3Rpb25zKTtcbiAgICAgIH0sIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRyYW5zZm9ybWVyKGFjdGlvbik7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlci5sb2coYENvdWxkbid0IGFwcGx5IGFjdGlvbiAke2FjdGlvbn0gd2l0aCBlcnJvciAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICAgIHJldHVybiBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQXBwbHkgYWN0aW9uc1xuICByZXR1cm4gYWN0aW9uQXBwbGljYXRvcihhY3Rpb25zKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGFwcGx5QWN0aW9ucztcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIFRSRUFUTUVOVFNfRFVSQVRJT04sIE1PQklMRV9NRURJQV9RVUVSWX0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtmZXRjaFRyZWF0bWVudHMsIGZldGNoVHJlYXRtZW50V2VpZ2h0c30gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFRyZWF0bWVudCBSZXBvc2l0b3J5XCIpO1xuXG5jbGFzcyBUcmVhdG1lbnRSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHt0cmVhdG1lbnRzLCB0cmVhdG1lbnRXZWlnaHRzfSA9IGJvZHk7XG4gICAgdGhpcy50cmVhdG1lbnRzID0gdHJlYXRtZW50cztcblxuICAgIHRoaXMudHJlYXRtZW50V2VpZ2h0cyA9IHRyZWF0bWVudFdlaWdodHM7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VHJlYXRtZW50cygpIHtcbiAgICBsb2dnZXIubG9nKFwiTG9hZGluZyB0cmVhdG1lbnRzXCIpO1xuICAgIGNvbnN0IHtUUkVBVE1FTlRTfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgIGNvbnN0IHRyZWF0bWVudHNPYmogPSBKU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFRSRUFUTUVOVFMpKTtcbiAgICBsZXQgdHJlYXRtZW50cyA9IHRyZWF0bWVudHNPYmo/LnRyZWF0bWVudHM7XG4gICAgY29uc3QgdGltZXN0YW1wID0gdHJlYXRtZW50c09iaj8udGltZXN0YW1wO1xuICAgIGlmICghdHJlYXRtZW50cyB8fCAhdGltZXN0YW1wKSB7XG4gICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50cyBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgIH07XG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShUUkVBVE1FTlRTLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnRXaXRoVGltZXN0YW1wKSk7XG4gICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICB9XG4gICAgaWYgKHRpbWVzdGFtcCkge1xuICAgICAgY29uc3QgZWxhcHNlZERheXMgPSAoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG4gICAgICBpZiAoZWxhcHNlZERheXMgPiBUUkVBVE1FTlRTX0RVUkFUSU9OKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIGFyZSBleHBpcmVkXCIpO1xuICAgICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHRyZWF0bWVudHMsXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gICAgICB9XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIGFyZSBsb2FkZWQgZnJvbSBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFRyZWF0bWVudFdlaWdodHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBmZXRjaFRyZWF0bWVudFdlaWdodHMoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlci53YXJuKGVyci5tZXNzYWdlKTtcbiAgICAgIHRoaXMudHJlYXRtZW50V2VpZ2h0cyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0TWF0Y2hlZFRyZWF0bWVudHMoKSB7XG4gICAgY29uc3QgdHJlYXRtZW50V2VpZ2h0cyA9IHRoaXMudHJlYXRtZW50V2VpZ2h0cztcbiAgICBjb25zdCB1c2VyR3JvdXAgPSB0aGlzLmdldFVzZXJHcm91cCgpO1xuICAgIGNvbnN0IHRyZWF0bWVudHMgPSB0aGlzLnRyZWF0bWVudHM7XG4gICAgaWYgKHRyZWF0bWVudFdlaWdodHMpIHtcbiAgICAgIGNvbnN0IHVzZXJHcm91cFdlaWdodHMgPSAodXNlckdyb3VwICYmIHRyZWF0bWVudFdlaWdodHNbdXNlckdyb3VwXSkgP1xuICAgICAgdHJlYXRtZW50V2VpZ2h0c1t1c2VyR3JvdXBdIDogdHJlYXRtZW50V2VpZ2h0c1tcImRlZmF1bHRcIl07XG4gICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiB0cmVhdG1lbnRzKSB7XG4gICAgICAgIC8vIFRyZWF0bWVudCB3ZWlnaHQgY2FuIGJlIHNldCB0byAwIGlmIG5vbi1leGlzdGVudCBpbiB1c2VyIGdyb3VwXG4gICAgICAgIC8vIGlmICghdXNlckdyb3VwV2VpZ2h0c1t0cmVhdG1lbnQuaWRdKSB0cmVhdG1lbnQud2VpZ2h0ID0gMDtcbiAgICAgICAgaWYgKCF1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0pIGNvbnRpbnVlO1xuICAgICAgICB0cmVhdG1lbnQud2VpZ2h0ID0gdXNlckdyb3VwV2VpZ2h0c1t0cmVhdG1lbnQuaWRdLndlaWdodDtcbiAgICAgICAgaWYgKHRyZWF0bWVudC5hY3Rpb25zLmZpbmQoKGEpID0+IGEudmFyaWFudHMpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgdHJlYXRtZW50LmFjdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24udmFyaWFudHMpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB2YXJpYW50S2V5IG9mIE9iamVjdC5rZXlzKGFjdGlvbi52YXJpYW50cykpIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlckdyb3VwV2VpZ2h0c1t0cmVhdG1lbnQuaWRdPy52YXJpYW50cyAmJiB1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0/LnZhcmlhbnRzW3ZhcmlhbnRLZXldKSB7XG4gICAgICAgICAgICAgICAgICBhY3Rpb24udmFyaWFudHNbdmFyaWFudEtleV0ud2VpZ2h0ID0gdXNlckdyb3VwV2VpZ2h0c1t0cmVhdG1lbnQuaWRdPy52YXJpYW50c1t2YXJpYW50S2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsb2dnZXIubG9nKGAke3RyZWF0bWVudHMubGVuZ3RofSB0cmVhdG1lbnRzIHVzZXIgZ3JvdXAgbWF0Y2hlZGApO1xuICAgIGlmICghdHJlYXRtZW50cy5sZW5ndGgpIHJldHVybiBbXTtcbiAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgfVxuXG4gIGdldFVzZXJHcm91cCgpIHtcbiAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICBpZiAoaXNNb2JpbGUpIHJldHVybiBcIlVHQlwiO1xuICAgIHJldHVybiBcIlVHQVwiO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyZWF0bWVudFJlcG9zaXRvcnk7XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTLCBMT0NBTF9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IENvdW50ZXIgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrQ291bnRlclJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwicGFnZVZpZXdcIjpcbiAgICAgIHJldHVybiBwYWdlVmlld0hhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcIkNBQmFza2V0UHJpY2VcIjpcbiAgICAgIHJldHVybiBjYUJhc2tldFByaWNlSGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggb3BlcmF0b3JcIiwgb3BlcmF0b3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5jb25zdCBnZXRDb3VudGVyID0gKGNvdW50ZXIsIHR5cGUpID0+IHtcbiAgdHJ5IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGNvdW50ZXIpO1xuICAgICAgY2FzZSBcImxvY2FsXCI6XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjb3VudGVyKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5sb2coXCJObyBzdWNoIHR5cGVcIiwgdHlwZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmxvZyhgQ291bGQgbm90IGdldCBjb3VudGVyICR7Y291bnRlcn1gLCBlcnIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBwYWdlVmlld0hhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBwYWdlVmlld3MgPSBwYXJzZUludChnZXRDb3VudGVyKFNFU1NJT05fU1RPUkFHRV9LRVlTLlBBR0VfVklFV1MsIFwic2Vzc2lvblwiKSk7XG4gIGxvZ2dlci5sb2coXCJQYWdlIHZpZXdzIGNvdW50ZXIgdmFsdWU6IFwiLCBwYWdlVmlld3MpO1xuICBpZiAocGFnZVZpZXdzID09PSBudWxsKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlBhZ2V2aWV3cyBjb3VudGVyIG5vdCBmb3VuZCBpbiBzZXNzaW9uIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHBhZ2VWaWV3cywgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgY2FCYXNrZXRQcmljZUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjYUJhc2tldFByaWNlID0gcGFyc2VJbnQoXG4gICAgICBnZXRDb3VudGVyKExPQ0FMX1NUT1JBR0VfS0VZUy5DT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIFwibG9jYWxcIikpO1xuICBsb2dnZXIubG9nKFwiQ291cG9uIGFwcGxpY2FibGUgYmFza2V0IHByaWNlIGNvdW50ZXIgdmFsdWU6IFwiLCBjYUJhc2tldFByaWNlKTtcbiAgaWYgKGNhQmFza2V0UHJpY2UgPT09IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKFwiQ291cG9uIGFwcGxpY2FibGUgYmFza2V0IHByaWNlIGNvdW50ZXIgbm90IGZvdW5kIGluIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGNhQmFza2V0UHJpY2UsIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEVsZW1lbnQgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRWxlbWVudFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlLCBzZWxlY3Rvciwgc2VsZWN0b3JBbGwsIHNlbGVjdG9yRmFsbGJhY2sgPSBudWxsfSA9IHJ1bGU7XG4gIGxldCBtYWluU2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpKSB7XG4gICAgbWFpblNlbGVjdG9yID0gc2VsZWN0b3JGYWxsYmFjayA/IHNlbGVjdG9yRmFsbGJhY2sgOiBtYWluU2VsZWN0b3I7XG4gIH1cblxuICBpZiAob3BlcmF0b3IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvciksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICB9XG4gIGlmIChtYWluU2VsZWN0b3IgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3QgZm91bmQgb24gcGFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNlbGVjdG9yQWxsICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yQWxsKSkge1xuICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3QgZm91bmQgb24gcGFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgZWxlbWVudDtcbiAgaWYgKG1haW5TZWxlY3RvcikgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKTtcbiAgZWxzZSBpZiAoc2VsZWN0b3JBbGwpIGVsZW1lbnQgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInRleHQtbnVtYmVyXCI6IHtcbiAgICAgIGxldCB0ZW1wVmFsO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgICAgdGVtcFZhbCA9IGVsZW1lbnQucmVkdWNlKChyZXR1cm5WYWwsIGVsZW0pID0+IHtcbiAgICAgICAgICByZXR1cm5WYWwgKz0gcGFyc2VJbnQoZWxlbS50ZXh0Q29udGVudC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcFZhbCA9IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKS50ZXh0Q29udGVudFxuICAgICAgICAgICAgLnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICB9XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBwYXJzZUludCh0ZW1wVmFsKTtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNhc2UgXCJjbGFzc0xpc3RcIjpcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiY291bnRcIjoge1xuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gQXJyYXkuaXNBcnJheShlbGVtZW50KSA/IGVsZW1lbnQubGVuZ3RoIDogZWxlbWVudCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcInN0eWxlXCI6IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgY29uc3Qgc3R5bGVLZXkgPSB2YWx1ZS5zcGxpdChcIjpcIilbMF0udHJpbSgpO1xuICAgICAgY29uc3Qgc3R5bGVWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBlbGVtZW50U3R5bGVzW3N0eWxlS2V5XTtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCBzdHlsZVZhbHVlKTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5sb2coXCJPcGVyYXRvciBub3QgZGVmaW5lZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEZ1bmN0aW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0Z1bmN0aW9uUnVsZSA9IChydWxlLCBvcHRzKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7cHJvZHVjdEluZm99ID0gb3B0cztcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlLCBiaW5kaW5nc30gPSBydWxlO1xuICBpZiAoIW9wZXJhdG9yKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlJ1bGUgZnVuY3Rpb24gbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBjb250ZXh0ID0ge307XG4gIGlmIChiaW5kaW5ncyA9PSBcInByb2R1Y3RJbmZvXCIpIHtcbiAgICBjb250ZXh0ID0ge1xuICAgICAgcHJvZHVjdEluZm8sXG4gICAgfTtcbiAgfVxuICBjb25zdCBydWxlRnVuY3Rpb24gPSBGdW5jdGlvbihvcGVyYXRvcikuYmluZChjb250ZXh0KTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gcnVsZUZ1bmN0aW9uKCk7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgU2Vzc2lvbiBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tTZXNzaW9uUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJkdXJhdGlvblwiOlxuICAgICAgcmV0dXJuIGR1cmF0aW9uSGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiaGlzdG9yeVwiOlxuICAgICAgcmV0dXJuIGhpc3RvcnlIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgZ2V0U2Vzc2lvblRpbWVzdGFtcCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IERhdGUocGFyc2VJbnQod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9USU1FU1RBTVApKSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgZ2V0IHNlc3Npb24gdGltZXN0YW1wXCIsIGVycik7XG4gICAgcmV0dXJuIERhdGUubm93KCk7XG4gIH1cbn07XG5cbmNvbnN0IGR1cmF0aW9uSGFuZGxlciA9IChjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGR1cmF0aW9uID0gKERhdGUubm93KCkgLSBnZXRTZXNzaW9uVGltZXN0YW1wKCkpIC8gMTAwMDtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoZHVyYXRpb24sIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbmNvbnN0IGhpc3RvcnlIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgY3VycmVudEhpc3RvcnkgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX0hJU1RPUlkpPy5zcGxpdChcIixcIik7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGN1cnJlbnRIaXN0b3J5LCBjb25kaXRpb24sIHZhbHVlKTtcbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUll9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgRW52IENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0VudlJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJkZXZpY2VfdHlwZVwiOiB7XG4gICAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcyA/IFwibW9iaWxlXCIgOiBcImRlc2t0b3BcIjtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKGlzTW9iaWxlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXIsIGRldGVybWluZVBjdCwgZ2V0SWRlbnRpZmllcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFJhbmRvbVBjdCBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tSYW5kb21OdW1iZXJSdWxlID0gYXN5bmMgKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtjb25kaXRpb24sIHZhbHVlLCBzYWx0fSA9IHJ1bGU7XG4gIGlmICghc2FsdCkge1xuICAgIGxvZ2dlci5sb2coXCJTYWx0IGlzIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBpZGVudGlmaWVyID0gYXdhaXQgZ2V0SWRlbnRpZmllcigpO1xuICBjb25zdCByYW5kb21QY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIHNhbHQpO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSByYW5kb21QY3Q7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuIiwiaW1wb3J0IHtjaGVja0NvdW50ZXJSdWxlfSBmcm9tIFwiLi9jb3VudGVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0RhdGFMYXllclJ1bGV9IGZyb20gXCIuL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tFbGVtZW50UnVsZX0gZnJvbSBcIi4vZWxlbWVudENoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tGdW5jdGlvblJ1bGV9IGZyb20gXCIuL2Z1bmN0aW9uQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1Nlc3Npb25SdWxlfSBmcm9tIFwiLi9zZXNzaW9uQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1VybFJ1bGV9IGZyb20gXCIuL3VybENoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tFbnZSdWxlfSBmcm9tIFwiLi9lbnZDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrUmFuZG9tTnVtYmVyUnVsZX0gZnJvbSBcIi4vcmFuZG9tTnVtYmVyQ2hlY2tlclwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBSdWxlIEVuZ2luZVwiKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVsZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7YmFzZVJ1bGVTZXQsIGJ1c2luZXNzUnVsZVNldCwgYmluZGluZ3MsIGNhbGxiYWNrID0gbnVsbH0gPSBib2R5O1xuICAgIHRoaXMuYmFzZVJ1bGVTZXQgPSBiYXNlUnVsZVNldDtcbiAgICB0aGlzLmJ1c2luZXNzUnVsZVNldCA9IGJ1c2luZXNzUnVsZVNldDtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5iaW5kaW5ncyA9IGJpbmRpbmdzO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5iYXNlUnVsZVNldCkge1xuICAgICAgY29uc3QgcnVsZVNhdGlzZmllZCA9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgaWYgKCFydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBhc3luYyBjaGVja0J1c2luZXNzUnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuYnVzaW5lc3NSdWxlU2V0KSB7XG4gICAgICBjb25zdCBydWxlU2F0aXNmaWVkID0gYXdhaXQgdGhpcy5jaGVja1J1bGUocnVsZSk7XG4gICAgICBpZiAocnVsZVNhdGlzZmllZCkge1xuICAgICAgICByZXR1cm4gcnVsZS5idXNpbmVzc1J1bGVJZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBjaGVja1J1bGUocnVsZSkge1xuICAgIGNvbnN0IHtjaGFpbiwgY2hhaW5fY29uZGl0aW9uLCB0eXBlfSA9IHJ1bGU7XG4gICAgbGV0IHJ1bGVTYXRpc2ZpZWQgPSBudWxsO1xuICAgIC8vIGNoZWNrIHJ1bGVcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1Nlc3Npb25SdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb3VudGVyXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0NvdW50ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbGVtZW50XCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0VsZW1lbnRSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkYXRhTGF5ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRGF0YUxheWVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1VybFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0Z1bmN0aW9uUnVsZShydWxlLCB0aGlzLmJpbmRpbmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZW52aXJvbm1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRW52UnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmFuZG9tXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCBjaGVja1JhbmRvbU51bWJlclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmxvZyhgTm8gc3VjaCBydWxlIHR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGNoYWluKSB7XG4gICAgICBzd2l0Y2ggKGNoYWluX2NvbmRpdGlvbikge1xuICAgICAgICBjYXNlIFwiYW5kXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgJiYgYXdhaXQgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCB8fCBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4b3JcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAhPSBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggY2hhaW4gY29uZGl0aW9uXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZVNhdGlzZmllZDtcbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgYXBwbHlBY3Rpb25zIGZyb20gXCIuLi9OZXh0ZGF5QXBwbHlBY3Rpb25zL2luZGV4XCI7XG5pbXBvcnQgVHJlYXRtZW50UmVwb3NpdG9yeSBmcm9tIFwiLi4vTmV4dGRheVRyZWF0bWVudFJlcG9zaXRvcnkvaW5kZXhcIjtcbmltcG9ydCBSdWxlRW5naW5lIGZyb20gXCIuLi9OZXh0ZGF5UnVsZUVuZ2luZVwiO1xuaW1wb3J0IHtcbiAgY2hlY2twb2ludCxcbiAgY2hlY2twb2ludHMsXG4gIGFkZFRyZWF0bWVudCxcbn0gZnJvbSBcIi4uL0JlYWdsZUluZm9MYXllclwiO1xuaW1wb3J0IHtcbiAgTU9CSUxFX01FRElBX1FVRVJZLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIFRSRUFUTUVOVF9SQVRJTyxcbn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMsXG4gIGluamVjdFN0eWxlU2hlZXQsXG4gIHJlbW92ZURvY3VtZW50SGlkZSxcbiAgZGV0ZXJtaW5lUGN0LFxuICBwcmVwYXJlQWN0aW9ucyxcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVPbkNvbXBvbmVudFwiKTtcblxuY29uc3QgYmVhZ2xlT24gPSBhc3luYyAoaWRlbnRpZmllciwgbW9uaXRvciwgcHJvZHVjdEluZm9Qcm9taXNlLCBkZWJ1Z01vZGUpID0+IHtcbiAgbW9uaXRvci5zZW5kTG9ncygpO1xuXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gIGNvbnN0IGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzID0gZGVidWdNb2RlID8gc2VhcmNoUGFyYW1zLmluY2x1ZGVzKFwiZmlsdGVyPVwiKSA/IHNlYXJjaFBhcmFtcy5zbGljZShcbiAgICAgIHNlYXJjaFBhcmFtcy5pbmRleE9mKFwiW1wiKSArIDEsXG4gICAgICBzZWFyY2hQYXJhbXMubGFzdEluZGV4T2YoXCJdXCIpLFxuICApLnNwbGl0KFwiLFwiKS5tYXAoKGl0ZW0pID0+IHBhcnNlSW50KGl0ZW0sIDEwKSk6IG51bGwgOiBudWxsO1xuXG4gIGluamVjdFN0eWxlU2hlZXQoKTtcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMoKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gIH0sIDIwMDApO1xuICBjb25zdCB0cmVhdG1lbnRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50cygpO1xuICBjb25zdCB0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50V2VpZ2h0cygpO1xuICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgY29uc3QgT0JTRVJWRVJfQ09ORklHID0ge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZX07XG5cbiAgLy8gVGVtcG9yYXJ5IGNvZGUgYmxvY2tcbiAgY29sbGVjdENBQmFza2V0UHJpY2UoKTtcbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJNdXRhdGlvbiBvYnNlcnZlZCwgY2FsbGluZyBjb2xsZWN0Q0FCYXNrZXRQcmljZVwiKTtcbiAgICAgIGNvbGxlY3RDQUJhc2tldFByaWNlKCk7XG4gICAgfSk7XG4gICAgY29uc3QgYmFza2V0Q2hlY2tvdXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGVja291dEZvcm1cIik7XG4gICAgaWYgKGJhc2tldENoZWNrb3V0Rm9ybSkgb2JzZXJ2ZXIub2JzZXJ2ZShiYXNrZXRDaGVja291dEZvcm0sIE9CU0VSVkVSX0NPTkZJRyk7XG4gIH1cbiAgLy8gRW5kIG9mIHRlbXBvcmFyeSBjb2RlIGJsb2NrXG5cbiAgY29uc3QgW3RyZWF0bWVudHMsIHRyZWF0bWVudFdlaWdodHMsIHByb2R1Y3RJbmZvXSA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgW3RyZWF0bWVudHNQcm9taXNlLCB0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSwgcHJvZHVjdEluZm9Qcm9taXNlXSk7XG5cbiAgbG9nZ2VyLmxvZyhcIkZvdW5kIHRyZWF0bWVudHM6IFwiLCB0cmVhdG1lbnRzKTtcblxuICBjb25zdCB0cmVhdG1lbnRSZXBvc2l0b3J5ID0gbmV3IFRyZWF0bWVudFJlcG9zaXRvcnkoe1xuICAgIHRyZWF0bWVudHMsXG4gICAgdHJlYXRtZW50V2VpZ2h0cyxcbiAgfSk7XG4gIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVHJlYXRtZW50UmVwb3NpdG9yeUNyZWF0ZWQpO1xuICBjb25zdCBtYXRjaGVkVHJlYXRtZW50cyA9IHRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0TWF0Y2hlZFRyZWF0bWVudHMoKTtcbiAgaWYgKCFtYXRjaGVkVHJlYXRtZW50cy5sZW5ndGgpIHtcbiAgICBsb2dnZXIubG9nKFwiTm8gdHJlYXRtZW50cyBtYXRjaGVkLCByZXR1cm5pbmcgd2l0aG91dCBmdXJ0aGVyIGFjdGlvblwiKTtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcmVBcHBseVRyZWF0bWVudHNNYXAgPSB7fTtcbiAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgbWF0Y2hlZFRyZWF0bWVudHMpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIubG9nKFwiRXJyb3IgZXhlY3V0aW5nIHJ1bGVzXCIsIGVycik7XG4gICAgfVxuICB9XG4gIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlRyZWF0bWVudHNBcHBsaWVkKTtcbiAgbG9nZ2VyLmxvZyhcIkFwcGxpZWQgdHJlYXRtZW50czogXCIsIHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuYSk7XG5cbiAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIG1vbml0b3IudXBkYXRlTGF0ZXN0Q2hhbmdlcygpO1xuICB9LCAxMDAwKTtcblxuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyZUFwcGx5VHJlYXRtZW50c01hcCkpIHtcbiAgICBjb25zdCB0cmVhdG1lbnRJZHMgPSByZUFwcGx5VHJlYXRtZW50c01hcFtrZXldO1xuICAgIGNvbnN0IHJlQXBwbHlUcmVhdG1lbnRzID0gbWF0Y2hlZFRyZWF0bWVudHMuZmlsdGVyKCh0KSA9PiB0cmVhdG1lbnRJZHMuaW5jbHVkZXModC5pZCkpO1xuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlIFwiaW5maW5pdGVfc2Nyb2xsXCI6IHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coYFJldHJ5aW5nIHRyZWF0bWVudCAke3RyZWF0bWVudC5pZH0gZnJvbSBpbmZpbml0ZV9zY3JvbGxgKTtcbiAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGltZW91dFwiOiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gdGltZW91dGApO1xuICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCA1MDApO1xuICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbGVtZW50X2NoYW5nZVwiOiB7XG4gICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgY29uc3QgcmVhcHBseVNlbGVjdG9yTGlzdCA9IEFycmF5LmlzQXJyYXkodHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3IpID9cbiAgICAgICAgICAgIHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yIDogW3RyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yXTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHJlYXBwbHlTZWxlY3Rvckxpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGVsZW1lbnRfY2hhbmdlYCk7XG4gICAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm9uX3Njcm9sbFwiOiB7XG4gICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gb25fc2Nyb2xsYCk7XG4gICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInF1ZXJ5X3NlYXJjaF9jaGFuZ2VcIjoge1xuICAgICAgICBsZXQgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uc2VhcmNoICE9PSBxdWVyeVN0cmluZykge1xuICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHF1ZXJ5X3NlYXJjaF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgT0JTRVJWRVJfQ09ORklHKTtcbiAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIubG9nKFwiUmVhcHBseSBldmVudCBub3QgZm91bmQ6IFwiLCBrZXkpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgY2hlY2twb2ludChjaGVja3BvaW50cy5SZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzKTtcblxuICBhc3luYyBmdW5jdGlvbiBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBhY3Rpb25zLFxuICAgICAgYmFzZVJ1bGVTZXQsXG4gICAgICBkZXZpY2UsXG4gICAgICBkZXBlbmRhbnRfb25fdHJlYXRtZW50LFxuICAgICAgcmVhcHBseV9ldmVudCxcbiAgICAgIGJ1c2luZXNzUnVsZVNldCxcbiAgICAgIHdlaWdodCxcbiAgICAgIGRlbGF5LFxuICAgIH0gPSB0cmVhdG1lbnQ7XG4gICAgaWYgKGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzICYmICFkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRldmljZSA9PT0gXCJtb2JpbGVcIiAmJiAhaXNNb2JpbGUpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgZGV2aWNlICdtb2JpbGUnIG1pc21hdGNoXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZGV2aWNlID09PSBcImRlc2t0b3BcIiAmJiBpc01vYmlsZSkge1xuICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBkZXZpY2UgJ2Rlc2t0b3AnIG1pc21hdGNoXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocmVhcHBseV9ldmVudCkge1xuICAgICAgbGV0IHJlYXBwbHlfZXZlbnRfYXJyYXkgPSByZWFwcGx5X2V2ZW50O1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlYXBwbHlfZXZlbnQpKSByZWFwcGx5X2V2ZW50X2FycmF5ID0gW3JlYXBwbHlfZXZlbnRdO1xuICAgICAgbG9nZ2VyLmxvZyhgUmVhcHBseSBldmVudCAnJHtyZWFwcGx5X2V2ZW50fScgZm91bmQgZm9yIHRyZWF0bWVudDogJHtpZH1gKTtcbiAgICAgIGZvciAoY29uc3QgcmVhcHBseUV2ZW50IG9mIHJlYXBwbHlfZXZlbnRfYXJyYXkpIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gP1xuICAgICAgICAgICAgICByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdIDogW107XG4gICAgICAgIGlmIChwcmV2aW91c1ZhbHVlLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgYWxyZWFkeSBhZGRlZCBmb3IgcmVhcHBseSBldmVudFwiKTtcbiAgICAgICAgfSBlbHNlIHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gPSBbLi4ucHJldmlvdXNWYWx1ZSwgaWRdO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBiaW5kaW5ncyA9IHtwcm9kdWN0SW5mb307XG4gICAgY29uc3QgcnVsZUVuZ2luZSA9IG5ldyBSdWxlRW5naW5lKHtiYXNlUnVsZVNldCwgYnVzaW5lc3NSdWxlU2V0LCBiaW5kaW5nc30pO1xuICAgIGxvZ2dlci5sb2coXCJTdGFydGluZyBiYXNlIHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgIGlmICghYmFzZVJ1bGVTZXQgfHwgYXdhaXQgcnVsZUVuZ2luZS5jaGVja1J1bGVzKCkpIHtcbiAgICAgIGxldCB0cmVhdG1lbnRTa2lwUmF0aW8gPSB3ZWlnaHQgPT09IDEwMCA/IDAgOiAoMTAwIC0gd2VpZ2h0IHx8IFRSRUFUTUVOVF9SQVRJTyk7XG4gICAgICBpZiAoZGVwZW5kYW50X29uX3RyZWF0bWVudCkge1xuICAgICAgICAvLyBJZiBkZXBlbmRhbnQgb24gdHJlYXRtZW50IGlzIGZvdW5kIGFuZCBoYXMgd2VpZ2h0OyB1c2UgaXRzIHNraXAgcmF0aW9cbiAgICAgICAgY29uc3QgZGVwZW5kYW50T25UcmVhdG1lbnRXZWlnaHQgPSBtYXRjaGVkVHJlYXRtZW50cy5maW5kKCh0KSA9PiB0LmlkID09PSBkZXBlbmRhbnRfb25fdHJlYXRtZW50KT8ud2VpZ2h0O1xuICAgICAgICB0cmVhdG1lbnRTa2lwUmF0aW8gPSBkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCA9PT0gMTAwID8gMCA6ICgxMDAgLSBkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodHx8XG4gICAgICAgICAgICBUUkVBVE1FTlRfUkFUSU8pO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBza2lwIHJhdGlvOiBcIiArIHRyZWF0bWVudFNraXBSYXRpbyk7XG4gICAgICAvLyBEZXRlcm1pbmluZyBpZGVudGlmaWVyIGZvciBjYWxjdWxhdGluZyB0cmVhdG1lbnQgcGVyY2VudGFnZSAodHJlYXRtZW50UGN0KVxuICAgICAgY29uc3QgZGV0ZXJtaW5pbmdJZGVudGlmaWVyID0gZGVwZW5kYW50X29uX3RyZWF0bWVudCB8fCBpZDtcblxuICAgICAgLy8gdHJlYXRtZW50UGN0IGlzIHRoZSBwZXJjZW50YWdlIHZhbHVlIGZvciB0aGUgdHJlYXRtZW50IHVzZWQgdG8gZGV0ZXJtaW5lIGlmIGl0IHNob3VsZCBiZSBza2lwcGVkIG9yIG5vdFxuICAgICAgLy8gdHJlYXRtZW50UGN0IGlzIDEwMCB3aGVuIGRlYnVnIG1vZGUgaXMgMSwgZW5zdXJpbmcgbm8gdHJlYXRtZW50cyBhcmUgc2tpcHBlZFxuICAgICAgY29uc3QgdHJlYXRtZW50UGN0ID0gZGVidWdNb2RlID09PSAxID8gMTAwIDogYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyBkZXRlcm1pbmluZ0lkZW50aWZpZXIpO1xuICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudFBjdDogXCIgKyB0cmVhdG1lbnRQY3QgKyBgIHdpdGggZGVidWcgbW9kZSAke2RlYnVnTW9kZSA/IFwib25cIiA6IFwib2ZmXCJ9YCk7XG4gICAgICBsZXQgYnVzaW5lc3NSdWxlSWQgPSBudWxsO1xuICAgICAgaWYgKGJ1c2luZXNzUnVsZVNldCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgc3ViIHZhcmlhbnQgcnVsZSBzZXQgY2hlY2sgZm9yIHRyZWF0bWVudDogXCIgKyBpZCk7XG4gICAgICAgIGJ1c2luZXNzUnVsZUlkID0gYXdhaXQgcnVsZUVuZ2luZS5jaGVja0J1c2luZXNzUnVsZXMoKTtcbiAgICAgICAgaWYgKGJ1c2luZXNzUnVsZUlkKSB7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIGJ1c2luZXNzIHJ1bGUgdHJhbnNmb3JtYXRpb24gd2l0aCBpZDogXCIsIGJ1c2luZXNzUnVsZUlkKTtcbiAgICAgICAgfSBlbHNlIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQgd2l0aCBkZWZhdWx0IHZhbHVlc1wiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0cmVhdG1lbnRQY3QgPCB0cmVhdG1lbnRTa2lwUmF0aW8pIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhgVHJlYXRtZW50ICR7aWR9IHNraXBwZWQgZHVlIHRvIHRyZWF0bWVudCBzcGxpdCByYXRpb2ApO1xuICAgICAgICBhZGRUcmVhdG1lbnQoaWQsIGJ1c2luZXNzUnVsZUlkLCB2YXJpYW50LCBcInNraXBwZWRcIiwgZGVwZW5kYW50X29uX3RyZWF0bWVudCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFtwcmVwYXJlZCwgdmFyaWFudF0gPSBhd2FpdCBwcmVwYXJlQWN0aW9ucyhpZGVudGlmaWVyLCBhY3Rpb25zLCBidXNpbmVzc1J1bGVJZCk7XG4gICAgICAvLyBkZWxheSBsb2dpYyBuZWVkcyByZWZhY3RvcmluZyB3aGVuIGl0IHdpbGwgYmUgdXNlZCBhZ2FpblxuICAgICAgaWYgKGRlbGF5KSBhd2FpdCBkZWxheShkZWxheSk7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBhcHBseUFjdGlvbnMocHJlcGFyZWQsIHByb2R1Y3RJbmZvKTtcbiAgICAgIGlmIChyZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIGFkZFRyZWF0bWVudChpZCwgYnVzaW5lc3NSdWxlSWQsIHZhcmlhbnQsIFwiZmFpbGVkXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRUcmVhdG1lbnQoaWQsIGJ1c2luZXNzUnVsZUlkLCB2YXJpYW50LCBcImFwcGxpZWRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxvZ2dlci5sb2coXCJSdWxlIGNoZWNrIGZhaWxlZCBmb3IgdHJlYXRtZW50OiBcIiwgaWQpO1xuICB9XG5cbiAgLy8gVGVtcG9yYXJ5IGNvZGUgYmxvY2sgdG8gdHJhY2sgY291cG9uIGFwcGxpY2FibGUgYmFza2V0IHRvdGFsIHByaWNlXG4gIC8vIFRPRE86IFJlbW92ZSBvbmNlIHRoZSBpbmZvIGNhbiBiZSBvYnRhaW5lZCB2aWEgb2JqZWN0IG9uIHdpbmRvd1xuICBmdW5jdGlvbiBjb2xsZWN0Q0FCYXNrZXRQcmljZSgpIHtcbiAgICBjb25zdCB7Q09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFfSA9IExPQ0FMX1NUT1JBR0VfS0VZUztcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCIvc2lwYXJpcy1saXN0ZXNpLmh0bWxcIikpIHtcbiAgICAgIGNvbnN0IHByaWNlRWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJpY2VcIikpO1xuICAgICAgcHJpY2VFbGVtZW50cy5wdXNoKC4uLkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uZXctcHJpY2VcIikpKTtcbiAgICAgIGlmICghcHJpY2VFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlByaWNlIGVsZW1lbnRzIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJQcmljZSBlbGVtZW50czogXCIsIHByaWNlRWxlbWVudHMpO1xuICAgICAgY29uc3QgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgPSBwcmljZUVsZW1lbnRzLnJlZHVjZSgocmV0dXJuVmFsLCBlbGVtKSA9PiB7XG4gICAgICAgIHJldHVyblZhbCArPSBwYXJzZUludChlbGVtLnRleHRDb250ZW50LnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgICB9LCAwKTtcbiAgICAgIGxvZ2dlci5sb2coXCJDb3Vwb24gYXBwbGljYWJsZSB0b3RhbCBwcmljZTogXCIsIGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlKTtcbiAgICAgIGlmIChjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSA+PSAwKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgICAgIENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCIvc2lwYXJpcy1vemV0aS5odG1sXCIpKSB7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY2FCYXNrZXRQcmljZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UpO1xuICAgICAgaWYgKGNhQmFza2V0UHJpY2UgPT09IG51bGwpIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKENPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBiZWFnbGVPbjtcbiIsImltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IE1vbml0b3IgZnJvbSBcIi4uL05leHRkYXlNb25pdG9yL2luZGV4XCI7XG5pbXBvcnQge3Byb2R1Y3RJbmZvTG9va3VwfSBmcm9tIFwiLi4vTmV4dGRheUFwaVwiO1xuaW1wb3J0IGJlYWdsZU9uIGZyb20gXCIuLi9CZWFnbGVPblwiO1xuaW1wb3J0IHtcbiAgY2hlY2twb2ludCxcbiAgY2hlY2twb2ludHMsXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyLFxuICByZW1vdmVGcm9tQmVhZ2xlSW5mb0xheWVyLFxuICBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyLFxufSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBTUExJVF9SQVRJTyxcbiAgU0VTU0lPTl9TVE9SQUdFX0tFWVMsXG4gIExPQ0FMX1NUT1JBR0VfS0VZUyxcbiAgTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04sXG59IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIGdldElkZW50aWZpZXIsXG4gIHJlbW92ZURvY3VtZW50SGlkZSxcbiAgZGV0ZXJtaW5lUGN0LFxuICBnZXREZWJ1Z01vZGUsXG4gIGlzU2VuZEJlYWNvblN1cHBvcnRlZCxcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbihhc3luYyBmdW5jdGlvbigpIHtcbiAgY2hlY2twb2ludChjaGVja3BvaW50cy5CZWFnbGVMb2FkZWQpO1xuICBsZXQgbW9uaXRvciA9IG51bGw7XG4gIGxldCBpc09uID0gbnVsbDtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuICBjb25zdCB7VElNRU9VVF9DT1VOVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgbGV0IHRpbWVvdXRDb3VudGVyID0gMDtcbiAgbG9nZ2VyLmluZm8oXCJOZXh0ZGF5IGluaXRpYWxpemluZ1wiKTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyKCk7XG4gICAgY29uc3QgcHJvZHVjdEluZm9Qcm9taXNlID0gcHJvZHVjdEluZm9Mb29rdXAoKTtcbiAgICAvLyBjaGVjayBpZiBkZWJ1ZyBtb2RlIGlzIG9uLCBhbHNvIGFkZHMgZGJtIHRvIGJlYWdsZUluZm9MYXllclxuICAgIGNvbnN0IGRlYnVnTW9kZSA9IGdldERlYnVnTW9kZSgpO1xuICAgIG1vbml0b3IgPSBuZXcgTW9uaXRvcigpO1xuICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuSW5pdGlhbGl6ZWQpO1xuXG4gICAgY29uc3QgaWRlbnRpZmllciA9IGF3YWl0IGdldElkZW50aWZpZXIoKTtcbiAgICBsb2dnZXIubG9nKFwiRm91bmQgY29va2llIGlkZW50aWZpZXI6IFwiLCBpZGVudGlmaWVyKTtcbiAgICBjb25zdCBjb29raWVQY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllcik7XG4gICAgaWYgKCFkZWJ1Z01vZGUpIHtcbiAgICAgIGlmIChjb29raWVQY3QgPCBTUExJVF9SQVRJTykge1xuICAgICAgICBpZiAoY29va2llUGN0ID09PSAtMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgY29va2llIHBjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpc09uID0gZmFsc2U7XG4gICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiaXNPblwiLCBpc09uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlzT24gPSB0cnVlO1xuICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImlzT25cIiwgaXNPbik7XG4gICAgICB9XG5cbiAgICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVXNlck9uT2ZmKTtcblxuICAgICAgaWYgKCFpc1NlbmRCZWFjb25TdXBwb3J0ZWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzZW5kQmVhY29uIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIHRpbWVvdXRDb3VudGVyID0gcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShUSU1FT1VUX0NPVU5UKSkgfHwgMDtcbiAgICAgIGlmICh0aW1lb3V0Q291bnRlciA+IE1BWF9USU1FT1VUX1BFUl9TRVNTSU9OKSB7XG4gICAgICAgIGNoZWNrcG9pbnQoY2hlY2twb2ludHMuVGltZW91dFRocmVzaG9sZFJlYWNoZWQpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXh0ZGF5IHRpbWVvdXQgdGhyZXNob2xkIHJlYWNoZWRcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiRGVidWcgbW9kZSBvbjogYWxsIGFwcGxpY2FibGUgdHJlYXRtZW50cyB3aWxsIGJlIGFwcGxpZWRcIik7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk9VVF9PRl9TQ09QRSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmV4dERheS1oaWRlXCIpKSB7XG4gICAgICBjaGVja3BvaW50KGNoZWNrcG9pbnRzLlNjcmlwdFRpbWVPdXQpO1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShUSU1FT1VUX0NPVU5ULCB0aW1lb3V0Q291bnRlciArIDEpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV4dGRheSBzY3JpcHQgdGltZWQgb3V0XCIpO1xuICAgIH1cblxuICAgIC8vIFZpdmVuc2Ugc3BlY2lmaWNcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFkbWluLCBtYWtpbmcgdGhlbSBvdXQgb2Ygc2NvcGVcbiAgICBpZiAod2luZG93LmJlYWdsZUluZm9MYXllcj8udnZzSXNTaG93cm9vbSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5PVVRfT0ZfU0NPUEUsIHRydWUpO1xuICAgIH1cbiAgICAvLyBWaXZlbnNlIHNwZWNpZmljXG5cbiAgICBjb25zdCBpc091dE9mU2NvcGUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk9VVF9PRl9TQ09QRSk7XG4gICAgaWYgKGlzT3V0T2ZTY29wZSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIGxvZ2dlci53YXJuKFwiVXNlciBpcyBvdXQgb2Ygc2NvcGVcIik7XG4gICAgICByZW1vdmVGcm9tQmVhZ2xlSW5mb0xheWVyKFwiaXNPblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG4gICAgICBpZiAod2luZG93LmJlYWdsZUluZm9MYXllcj8uaXNPbiA9PT0gdHJ1ZSkge1xuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJ0cnVlXCJ9KTtcbiAgICAgIH0gZWxzZSBpZiAod2luZG93LmJlYWdsZUluZm9MYXllcj8uaXNPbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtldmVudDogXCJHTE9WXCIsIEdMT1ZfT046IFwiZmFsc2VcIn0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc09uID09PSBmYWxzZSkgdGhyb3cgbmV3IEVycm9yKFwiQ29udHJvbCBncm91cDogbm8gdHJlYXRtZW50cyBhcHBsaWVkXCIpO1xuXG4gICAgbG9nZ2VyLmxvZyhcIkZvdW5kIGNvb2tpZSBwZXJjZW50YWdlOiBcIiwgY29va2llUGN0KTtcbiAgICBsb2dnZXIubG9nKFwiU3BsaXRfcmF0aW86IFwiLCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmxvZyhcImNvb2tpZVBjdCA8IFNQTElUX1JBVElPXCIsIGNvb2tpZVBjdCA8IFNQTElUX1JBVElPKTtcbiAgICBsb2dnZXIuaW5mbyhgQ29udHJvbCBncm91cCByYXRpbzogJHtTUExJVF9SQVRJT30lYCk7XG5cbiAgICBiZWFnbGVPbihpZGVudGlmaWVyLCBtb25pdG9yLCBwcm9kdWN0SW5mb1Byb21pc2UsIGRlYnVnTW9kZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJlbW92ZURvY3VtZW50SGlkZSgpO1xuICAgIGNvbnNvbGUud2FybihcIk5leHRkYXk6IFwiLCBlcnIubWVzc2FnZSk7XG4gICAgbW9uaXRvci5zZW5kTG9ncyhlcnIubWVzc2FnZSwgdHJ1ZSk7XG4gIH1cbn0pKCk7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInJ1bnRpbWUiLCJ1bmRlZmluZWQiLCJPcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIlN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZXJyIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwic2VsZiIsInRyeUxvY3NMaXN0IiwicHJvdG9HZW5lcmF0b3IiLCJHZW5lcmF0b3IiLCJnZW5lcmF0b3IiLCJjcmVhdGUiLCJjb250ZXh0IiwiQ29udGV4dCIsIl9pbnZva2UiLCJzdGF0ZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJtZXRob2QiLCJhcmciLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkVycm9yIiwiR2VuU3RhdGVDb21wbGV0ZWQiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJkb25lIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJmbiIsImNhbGwiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJ0aGlzIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VsdCIsIl9fYXdhaXQiLCJ0aGVuIiwidW53cmFwcGVkIiwiZXJyb3IiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsIlR5cGVFcnJvciIsImluZm8iLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJsb2NzIiwiZW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImxlbmd0aCIsImkiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJpdGVyIiwia2V5cyIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZ2V0IiwicHJvcCIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsIl9uZXh0IiwiX3Rocm93IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJyZXBsYWNlQWxsIiwic3RyIiwiZmluZCIsInJlcGxhY2UiLCJpbmRleCIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTiIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImluY2x1ZGVzIiwiU1RZTEVTSEVFVF9MT0NBVElPTiIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIkxPR19BUElfVVJMIiwiTU9CSUxFX01FRElBX1FVRVJZIiwiU0VTU0lPTl9TVE9SQUdFX0tFWVMiLCJMT0NBTF9TVE9SQUdFX0tFWVMiLCJMb2dnZXIiLCJvcmlnaW4iLCJERUJVRyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwid2FybiIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwiYXJyMiIsIkFycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwibWluTGVuIiwidG9TdHJpbmciLCJmcm9tIiwidGVzdCIsIl9zbGljZWRUb0FycmF5IiwiaXNBcnJheSIsIl9pIiwiX3MiLCJfZSIsIl9hcnIiLCJfbiIsIl9kIiwibG9nZ2VyIiwiY2hlY2tEYXRhTGF5ZXJSdWxlIiwicnVsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvcGVyYXRvciIsImNvbmRpdGlvbiIsInJ1bnRpbWVWYWx1ZSIsImRhdGFMYXllckZpbmRlciIsImNvbmRpdGlvbkNoZWNrZXIiLCJyZXMiLCJiZWFnbGVJbmZvTGF5ZXIiLCJzcGxpdCIsImRhdGFMYXllciIsImNoZWNrVXJsUnVsZSIsInJlcXVlc3RVUkwiLCJwYXRoIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiVVJMIiwic2VhcmNoIiwicGF0aG5hbWUiLCJjaGVja3BvaW50cyIsImUiLCJmIiwicGFyc2luZ1JlZ2V4IiwiUGFnZVR5cGUiLCJjb250ZW50X25hbWUiLCJjb250ZW50X25hbWVfYWx0IiwidnZzU2NyR0FQYWdlVHlwZSIsInZ2c1NjckdBT3JkZXJJZCIsInZ2c1NjckdBT3JkZXJSZXYiLCJ2dnNTY3JHQU9yZGVyVHlwZSIsInZ2c1NjckdBSXNBZG1pbiIsIkJlYWdsZUxvYWRlZCIsIkluaXRpYWxpemVkIiwiVXNlck9uT2ZmIiwiU2NyaXB0VGltZU91dCIsIlRyZWF0bWVudFJlcG9zaXRvcnlDcmVhdGVkIiwiVHJlYXRtZW50c0FwcGxpZWQiLCJSZWFwcGx5VHJlYXRtZW50TGlzdGVuZXJzIiwiVGltZW91dFRocmVzaG9sZFJlYWNoZWQiLCJpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyIiwic2NyaXB0cyIsImRvY3VtZW50Iiwic2NyaXB0c0xlbmd0aCIsInByZXBhcmVEYXRhIiwibWVzc2FnZSIsImZvdW5kU2NyaXB0Q291bnQiLCJzY3JpcHRUZXh0Q29udGVudCIsInRleHRDb250ZW50IiwiZm91bmRWYWwiLCJleGVjIiwibGFzdEluZGV4T2YiLCJhZGRUb0JlYWdsZUluZm9MYXllciIsInBhcnNlIiwiZGVsYXkiLCJjaGVja3BvaW50IiwiaWQiLCJ0aW1lIiwibm93IiwiYWRkVHJlYXRtZW50IiwiYnVzaW5lc3NSdWxlSWQiLCJ2YXJpYW50Iiwic3RhdHVzIiwiZGVwZW5kYW50X29uX3RyZWF0bWVudCIsInZpZXdJZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJzZXNzaW9uSWQiLCJzZXNzaW9uU3RvcmFnZSIsImN1cnJlbnRVUkwiLCJwbGF0Zm9ybSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudERhdGEiLCJ1c2VyQWdlbnQiLCJnYU9iamVjdHMiLCJnYURMRWxlbWVudCIsInZpc2lsYWJzY2siLCJleHRyYWN0Q29va2llSWRlbnRpZmllciIsImNvb2tpZSIsInZsT2JqZWN0cyIsIkl0ZW1zIiwidmxFbGVtZW50IiwiSyIsIlYiLCJWTF9QVkNvdW50SW5WaXNpdCIsIlZMX1RvdGFsRHVyYXRpb24iLCJWTF9Ub3RhbFBWIiwiVkxfVG90YWxWaXNpdCIsImNvbnRlbnRfdHlwZSIsImNvbnRlbnRfY2F0ZWdvcnkiLCJjb250ZW50X2lkcyIsInZpdmVuc2VfY2F0ZWdvcnkiLCJlY29tbWVyY2UiLCJkZXRhaWwiLCJhY3Rpb25GaWVsZCIsImxpc3QiLCJpc0FkbWluIiwicHJvZHVjdEdyb3VwIiwidXNlcklkIiwiY2F0ZWdvcnlfcHJvZHVjdF9jb3VudCIsImNoZWNrb3V0IiwicHJvZHVjdHMiLCJwdXJjaGFzZSIsInZpdmVuc2VQcm9kdWN0cyIsInJldmVudWUiLCJkaW1lbnNpb24xNSIsImRldmljZVBpeGVsUmF0aW8iLCJpbm5lcldpZHRoIiwid2luZG93U2NyZWVuIiwiYXZhaWxIZWlnaHQiLCJzY3JlZW4iLCJhdmFpbExlZnQiLCJhdmFpbFRvcCIsImF2YWlsV2lkdGgiLCJjb2xvckRlcHRoIiwiaGVpZ2h0IiwicGl4ZWxEZXB0aCIsIndpZHRoIiwid2luZG93VlBvcnQiLCJ2aXN1YWxWaWV3cG9ydCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvbnJlc2l6ZSIsIm9uc2Nyb2xsIiwicGFnZUxlZnQiLCJwYWdlVG9wIiwic2NhbGUiLCJwYXJzZUludCIsIk1hdGgiLCJyb3VuZCIsImFicyIsIm9yaWVudGF0aW9uIiwidGVtcCIsImhpc3RvcnkiLCJuYXZBZ2VudCIsImJyYW5kcyIsIm1hcCIsImJyYW5kIiwidmVyc2lvbiIsImpvaW4iLCJtb2JpbGUiLCJoYXJkd2FyZUNvbmN1cnJlbmN5IiwibGFuZ3VhZ2UiLCJicm93c2VyTGFuZ3VhZ2UiLCJzeXN0ZW1MYW5ndWFnZSIsInVzZXJMYW5ndWFnZSIsIm1heFRvdWNoUG9pbnRzIiwidmVuZG9yIiwicGVyZk1ldHJpY3MiLCJwZXJmb3JtYW5jZSIsImdldEVudHJpZXNCeVR5cGUiLCJwZXJmTmF2aWdhdGlvbk1ldHJpY3MiLCJwbGQiLCJkb21Db250ZW50TG9hZGVkRXZlbnRFbmQiLCJjb25uZWN0U3RhcnQiLCJuZXQiLCJjb25uZWN0RW5kIiwiZmV0Y2hTdGFydCIsInNydiIsInJlc3BvbnNlU3RhcnQiLCJyZXF1ZXN0U3RhcnQiLCJ0ZnIiLCJyZXNwb25zZUVuZCIsImRtaSIsImRvbUludGVyYWN0aXZlIiwiZGNwIiwiZG9tQ29tcGxldGUiLCJvbmwiLCJsb2FkRXZlbnRFbmQiLCJsb2FkRXZlbnRTdGFydCIsImNvbm5lY3Rpb24iLCJkb3dubGluayIsInNlbGVjdGVkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzVGFnIiwiY250bnQiLCJqc29uY29udGVudCIsImJjcnVtYl9zdHJpbmciLCJzb3JnTGlzdGluZyIsImNvdW50SXRlbXMiLCJzb3JnUHJvZHVjdCIsInNrdSIsInByaWNlIiwicHJpY2VDdXJyZW5jeSIsInByaWNlVmFsaWRVbnRpbCIsImRvTm90VHJhY2siLCJtc0RvTm90VHJhY2siLCJob3N0bmFtZSIsInJlZmVycmVyIiwiZmF2b3JpdGVQcm9kdWN0cyIsInVzZXJFbWFpbCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lclRleHQiLCJmb3JtYXREZWxpdmVyeURhdGUiLCJtb250aHMiLCJjIiwiZ2V0UmFuZG9tVmFsdWVzIiwiVWludDhBcnJheSIsInJlbW92ZURvY3VtZW50SGlkZSIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImZldGNoVHJlYXRtZW50cyIsImZldGNoIiwidHJlYXRtZW50cyIsImpzb24iLCJmZXRjaFRyZWF0bWVudFdlaWdodHMiLCJ0cmVhdG1lbnRXZWlnaHRzIiwiY29va2llU3RyaW5nIiwiY29va2llTmFtZSIsImlkZW50aWZpZXIiLCJ2IiwicmVkdWNlIiwiYWNjIiwidHJpbSIsImRldGVybWluZVBjdCIsInN1YnN0cmluZ0VuZFBvc2l0aW9uIiwic3Vic3RyaW5nU3RhcnRQb3NpdGlvbiIsImNyZWF0ZUhhc2hTdHJpbmciLCJoYXNoU3RyaW5nIiwiaGFzaE51bWJlciIsInN0cmluZ1RvSGFzaCIsImVuY29kZWQiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsInN1YnRsZSIsImRpZ2VzdCIsImhhc2hCdWZmZXIiLCJoYXNoQXJyYXkiLCJiIiwicGFkU3RhcnQiLCJleGl0U2Nyb2xsTGlzdGVuZXIiLCJjYWxsQmFjayIsImxhc3RTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJleGl0U2Nyb2xsSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzdHlsZUFwcGxpY2F0b3IiLCJlbGVtZW50cyIsInN0eWxlQ2hhbmdlc01hcCIsImVsZW1lbnQiLCJlbnRyaWVzIiwic3R5bGUiLCJpbmplY3RTdHlsZVNoZWV0Iiwic3R5bGVTaGVldCIsImNyZWF0ZUVsZW1lbnQiLCJyZWwiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJwcmVwYXJlQWN0aW9ucyIsImFjdGlvbnNUb1ByZXBhcmUiLCJhY3Rpb25zIiwiYWN0aW9uIiwiYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zIiwidmFyaWFudHMiLCJidXNpbmVzc1RyYW5zZm9ybWF0aW9uIiwidmFyaWFudEtleSIsIndlaWdodCIsImluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzIiwiUEFHRV9WSUVXUyIsIlBPUFVQX0RJU1BMQVlfRkxBRyIsIlNFU1NJT05fSUQiLCJTRVNTSU9OX1RJTUVTVEFNUCIsIlNFU1NJT05fSElTVE9SWSIsIkhBU19BQ1RJVkVfVEFCIiwicGFnZVZpZXdzIiwicG9wdXBEaXNwbGF5RmxhZyIsInNlc3Npb25UaW1lc3RhbXAiLCJzZXNzaW9uSGlzdG9yeSIsInNldEl0ZW0iLCJydW5UaW1lVmFsdWUiLCJtaW4iLCJtYXgiLCJnZXREZWJ1Z01vZGUiLCJORF9ERUJVR19NT0RFIiwiT1VUX09GX1NDT1BFIiwicXVlcnlTdHJpbmciLCJyZW1vdmVJdGVtIiwiY3VycmVudCIsImdldElkZW50aWZpZXIiLCJleHRyYWN0SWRlbnRpZmllckludGVydmFsIiwic2V0VGltZW91dCIsIm1zIiwic2t1Q29sbGVjdG9yIiwiTkRfU0tVX0xJU1QiLCJza3VMaXN0IiwiZ2V0QXR0cmlidXRlIiwiaXNTZW5kQmVhY29uU3VwcG9ydGVkIiwic2VuZEJlYWNvbiIsImRhdGUiLCJzdGFydE1vbnRoSW5kZXgiLCJlbmRNb250aEluZGV4Iiwic3RhcnREYXkiLCJlbmREYXkiLCJtYXRjaCIsInRvTG93ZXJDYXNlIiwidG9kYXkiLCJzdGFydFllYXIiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZW5kWWVhciIsImVzdGltYXRlZFN0YXJ0IiwiZXN0aW1hdGVkRW5kIiwic3RhcnREaWZmT3ZlckRheXMiLCJjZWlsIiwiZW5kRGlmZk92ZXJEYXlzIiwic3RhcnREaWZmT3ZlcldlZWtzIiwiZW5kRGlmZk92ZXJXZWVrcyIsIk1vbml0b3IiLCJhcHBsaWVkVHJlYXRtZW50c0hhc2giLCJhcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMiLCJlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCIsImVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzIiwiaGVhZGVycyIsImlzTG9nZ2VkIiwiaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVycyIsImlzRXJyb3IiLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVF1ZXVlTG9ncyIsInBhY2thZ2VMb2dEYXRhIiwicmVxdWVzdEJsb2IiLCJxdWV1ZUxvZ3MiLCJhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoIiwiZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoIiwiYm9keSIsIm0iLCJ0IiwiQmxvYiIsInZJZCIsImlzRXhpdEV2ZW50Q2FwdHVyZWQiLCJsb2dEYXRhIiwicGFja2FnZVVwZGF0ZUxvZ0RhdGEiLCJjYXB0dXJlIiwicXVldWVkIiwicXVldWVJbnRlcnZhbCIsInByb2R1Y3RJbmZvTG9va3VwIiwiSGVhZGVycyIsImFwcGVuZCIsIm1vZGUiLCJwcm9kdWN0SW5mbyIsIm9rIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwidHJhbnNmb3JtZXIiLCJhcHBseUV2ZW50IiwiY29udGVudFNlbGVjdG9yIiwic2VsZWN0b3IiLCJzZWxlY3RvckZhbGxiYWNrIiwibWRDb25kaXRpb24iLCJtb3ZlX3NlbGVjdG9yXzEiLCJtb3ZlX3NlbGVjdG9yXzIiLCJyZXBsYWNlRm4iLCIkIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJyZXBsYWNlRm5FeGVjdXRvciIsInJlcGxhY2VGdW5jdGlvbiIsImJpbmQiLCJ2YWwiLCJjdXJyZW50UmVwbGFjZUZuIiwiU3RyaW5nIiwiYmVmb3JlIiwiYWZ0ZXIiLCJjcmVhdGVQb3B1cCIsImRpc3BsYXlQb3B1cCIsIm9uY2UiLCJ0aW1lb3V0IiwidGV4dCIsImh0bWwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwib3JpZ2luYWxUaXRsZSIsInRpdGxlIiwiZmxhc2hUYWJDb3VudGVyIiwiaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSIsImVsZW1lbnRTa3UiLCJhdHRyaWJ1dGUiLCJjc3MiLCJwcm9wZXJ0eSIsInByb3BlcnR5VmFsdWUiLCJuMSIsIm4yIiwic3dhcE5vZGVzIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJwcmVwZW5kIiwiZXZlbnQiLCJ0aXRsZXMiLCJGTEFTSF9UQUJfQ09VTlQiLCJwYXJzZWRUaXRsZXMiLCJoaWRkZW4iLCJoYW5kbGVQb3B1cENsaWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInFQb3B1cCIsImdldEVsZW1lbnRCeUlkIiwicG9wdXBXcmFwcGVyIiwiYWRkIiwicG9wdXBDbG9zZUJ1dHRvbiIsIm9uY2xpY2siLCJjb250ZW50cyIsInNoaWZ0Iiwic3JjIiwidGVtcGxhdGUiLCJpbm5lckhUTUwiLCJwb3B1cCIsImNvbnRlbnQiLCJmaXJzdENoaWxkIiwiaTEiLCJpMiIsInAxIiwicGFyZW50Tm9kZSIsInAyIiwiaXNFcXVhbE5vZGUiLCJjaGlsZHJlbiIsImluc2VydEJlZm9yZSIsImFjdGlvbkFwcGxpY2F0b3IiLCJqUXVlcnkiLCJhcHBseUFjdGlvbnMiLCJUcmVhdG1lbnRSZXBvc2l0b3J5IiwidXNlckdyb3VwIiwiZ2V0VXNlckdyb3VwIiwidXNlckdyb3VwV2VpZ2h0cyIsInRyZWF0bWVudCIsIlRSRUFUTUVOVFMiLCJ0cmVhdG1lbnRzT2JqIiwidGltZXN0YW1wIiwidHJlYXRtZW50V2l0aFRpbWVzdGFtcCIsImNoZWNrQ291bnRlclJ1bGUiLCJwYWdlVmlld0hhbmRsZXIiLCJjYUJhc2tldFByaWNlSGFuZGxlciIsImdldENvdW50ZXIiLCJjb3VudGVyIiwiY2FCYXNrZXRQcmljZSIsImNoZWNrRWxlbWVudFJ1bGUiLCJzZWxlY3RvckFsbCIsIm1haW5TZWxlY3RvciIsInRlbXBWYWwiLCJyZXR1cm5WYWwiLCJlbGVtIiwiZWxlbWVudFN0eWxlcyIsImdldENvbXB1dGVkU3R5bGUiLCJzdHlsZUtleSIsInN0eWxlVmFsdWUiLCJjaGVja0Z1bmN0aW9uUnVsZSIsIm9wdHMiLCJiaW5kaW5ncyIsInJ1bGVGdW5jdGlvbiIsImNoZWNrU2Vzc2lvblJ1bGUiLCJkdXJhdGlvbkhhbmRsZXIiLCJoaXN0b3J5SGFuZGxlciIsImR1cmF0aW9uIiwiZ2V0U2Vzc2lvblRpbWVzdGFtcCIsImN1cnJlbnRIaXN0b3J5IiwiY2hlY2tFbnZSdWxlIiwiaXNNb2JpbGUiLCJjaGVja1JhbmRvbU51bWJlclJ1bGUiLCJzYWx0IiwicmFuZG9tUGN0IiwiUnVsZUVuZ2luZSIsImJhc2VSdWxlU2V0IiwiYnVzaW5lc3NSdWxlU2V0IiwiY2FsbGJhY2siLCJjaGVja1J1bGUiLCJjaGFpbiIsImNoYWluX2NvbmRpdGlvbiIsInJ1bGVTYXRpc2ZpZWQiLCJiZWFnbGVPbiIsIm1vbml0b3IiLCJwcm9kdWN0SW5mb1Byb21pc2UiLCJkZWJ1Z01vZGUiLCJlbmdhZ2VUcmVhdG1lbnQiLCJjb2xsZWN0Q0FCYXNrZXRQcmljZSIsIkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSIsInByaWNlRWxlbWVudHMiLCJjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSIsImRldmljZSIsInJlYXBwbHlfZXZlbnQiLCJkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyIsInJlYXBwbHlfZXZlbnRfYXJyYXkiLCJyZWFwcGx5RXZlbnQiLCJwcmV2aW91c1ZhbHVlIiwicmVBcHBseVRyZWF0bWVudHNNYXAiLCJydWxlRW5naW5lIiwiY2hlY2tSdWxlcyIsInRyZWF0bWVudFNraXBSYXRpbyIsImRlcGVuZGFudE9uVHJlYXRtZW50V2VpZ2h0IiwibWF0Y2hlZFRyZWF0bWVudHMiLCJkZXRlcm1pbmluZ0lkZW50aWZpZXIiLCJ0cmVhdG1lbnRQY3QiLCJjaGVja0J1c2luZXNzUnVsZXMiLCJwcmVwYXJlZCIsInNlbmRMb2dzIiwic2VhcmNoUGFyYW1zIiwiaXRlbSIsInRyZWF0bWVudHNQcm9taXNlIiwidHJlYXRtZW50V2VpZ2h0c1Byb21pc2UiLCJPQlNFUlZFUl9DT05GSUciLCJzdWJ0cmVlIiwiY2hpbGRMaXN0IiwiYXR0cmlidXRlcyIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImJhc2tldENoZWNrb3V0Rm9ybSIsIm9ic2VydmUiLCJhbGwiLCJ0cmVhdG1lbnRSZXBvc2l0b3J5IiwiZ2V0TWF0Y2hlZFRyZWF0bWVudHMiLCJ1cGRhdGVMYXRlc3RDaGFuZ2VzIiwidHJlYXRtZW50SWRzIiwicmVBcHBseVRyZWF0bWVudHMiLCJmaWx0ZXIiLCJSZXNpemVPYnNlcnZlciIsInJlYXBwbHlfc2VsZWN0b3IiLCJpc09uIiwiVElNRU9VVF9DT1VOVCIsInRpbWVvdXRDb3VudGVyIiwiY29va2llUGN0IiwiY29udGFpbnMiLCJ2dnNJc1Nob3dyb29tIiwiR0xPVl9PTiJdLCJzb3VyY2VSb290IjoiIn0=

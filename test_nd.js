!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(e,t,n){var r=d;return function(a,o){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return P()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=T(i,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?h:p,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",g={};function v(){}function m(){}function y(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(D([])));k&&k!==n&&r.call(k,o)&&(b=k);var x=y.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(a,o,i,s){var c=l(e[a],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function D(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:P}}function P(){return{value:t,done:!0}}return m.prototype=y,c(x,"constructor",y),c(y,"constructor",m),m.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(I.prototype),c(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new I(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=D,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(a,o){var i=t.apply(n,r);function s(t){e(i,a,o,s,c,"next",t)}function c(t){e(i,a,o,s,c,"throw",t)}s(void 0)}))}}var r=n(757),a=n.n(r);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var u=window.location.href.includes("staging.vivense")?"https://ndvivense.glov.ai/weights_staging.json":"https://ndvivense.glov.ai/weights.json",l="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",d="(max-width: 440px)",p=50,f=15e3,h="__beagle_session_id",g="BG_SessionTimestamp",v="BG_SessionHistory",m="BG_PageViews",y="BG_PopupDisplayFlag",b="BG_ProductInfoBasket",w="BG_SessionReferrer",k="BG_CABasketPrice",x="BG_Debug",S="BG_OutOfScope",I="BG_LabelSent",T="BG_UserId",L="BG_CollectionDataSize",A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Beagle Client SDK";i(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(x)}return c(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(n=console).log.apply(n,["[".concat(t,"]")].concat(a))}}},{key:"failed",value:function(){var e,t=this.DEBUG,n=this.origin;if(t){for(var r="%c%s   ",a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];i.forEach((function(e){switch(o(e)){case"bigint":case"number":case"boolean":r+="%d   ";break;case"string":r+="%s   ";break;default:r+="%o   "}})),(e=console).log.apply(e,[r,"color: red","[".concat(n,"]")].concat(i))}}},{key:"success",value:function(){var e,t=this.DEBUG,n=this.origin;if(t){for(var r="%c%s   ",a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];i.forEach((function(e){switch(o(e)){case"bigint":case"number":case"boolean":r+="%d   ";break;case"string":r+="%s   ";break;default:r+="%o   "}})),(e=console).log.apply(e,[r,"color: green","[".concat(n,"]")].concat(i))}}},{key:"warn",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console).warn.apply(e,["[".concat(t,"]")].concat(r))}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),_=A;function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O="beagle",N=1,R=1e3,j={name:"data",indexes:[{name:"ix_dataName",fields:["data_name"]},{name:"ix_dataName_session",fields:["data_name","session_id"]},{name:"ix_dataName_dataValue",fields:["data_name","data_value"]},{name:"ix_dataName_dataValue_session",fields:["data_name","data_value","session_id"]}],options:{keyPath:"id",autoIncrement:!0}};function B(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q="alltime",Q="session",G=function(){function e(){var t=this;i(this,e),this.initialized=!1;var n=Math.floor(this.getCollectionDataSize()/R);this.idb=e.getIndexedDb().open(O,N+n),this.init().then((function(){t.initialized=!0})).catch(console.error)}var n,r,o,s,u;return c(e,[{key:"getCollectionDataSize",value:function(){return parseInt(localStorage.getItem(L))||0}},{key:"init",value:function(){var t=this;if(!e.isSupported())throw new Error("indexeddb is not supported");return new Promise((function(e){t.idb.onupgradeneeded=function(){var e;try{t.idb.result.deleteObjectStore(j.name)}catch(e){}var n=t.idb.result.createObjectStore(j.name,j.options);if((null===(e=j.indexes)||void 0===e?void 0:e.length)>0){var r,a=B(j.indexes);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.createIndex(o.name,o.fields)}}catch(e){a.e(e)}finally{a.f()}}},t.idb.onsuccess=function(t){e()}}))}},{key:"saveAll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t){var n,r=B(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;this.save(e,a)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"save",value:(u=t(a().mark((function e(t,n){var r,o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initTransaction();case 2:r=e.sent,o=r.store,i=this.getCurrentSessionId(),s=Math.round(Date.now()/1e3),c={data_name:t,data_value:n,session_id:i,time:s},o.put(c),localStorage.setItem(L,this.getCollectionDataSize()+1);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"getConnection",value:function(){var e=this;return new Promise((function(t,n){var r=setInterval((function(){e.initialized&&(t(e.idb.result),clearInterval(r))}),10);setTimeout((function(){clearInterval(r),n(new Error("Could not set ready collectionApi"))}),1e3)}))}},{key:"find",value:function(e,t){var n=this;return new Promise((function(e,t){n.initTransaction().then((function(t){var n=t.store.get(id);n.onsuccess=function(){e(n.result)}})).catch((function(e){return t(e)}))}))}},{key:"initTransaction",value:(s=t(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getConnection();case 2:return t=this.idb.result.transaction(j.name,"readwrite"),n=t.objectStore(j.name),e.abrupt("return",{tx:t,store:n});case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"minmax",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q;return new Promise((function(a){n.initTransaction().then((function(o){var i=o.store,s=void 0;n.getCursor(i,e,r).onsuccess=function(n){var r=n.target.result;if(r){var o=r.value;"data_value"in o?(void 0===s||"min"===t&&o.data_value<s||"max"===t&&o.data_value>s)&&(s=o.data_value):console.warn("key not found in cursor values "+e),r.continue()}else a(s)}}))}))}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;return this.minmax(e,"min",t)}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;return this.minmax(e,"max",t)}},{key:"groupBy",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;return new Promise((function(r){t.initTransaction().then((function(a){var o=a.store,i=new Map;t.getCursor(o,e,n).onsuccess=function(t){var n=t.target.result;if(n){var a=n.value;"data_value"in a?(i.has(a.data_value)||i.set(a.data_value,0),i.set(a.data_value,i.get(a.data_value)+1)):console.warn("key not found in cursor values "+e),n.continue()}else r(i)}}))}))}},{key:"mode",value:(o=t(a().mark((function e(t){var n,r,o,i,s,c,u,l,d=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:q,e.next=3,this.groupBy(t,n);case 3:if(0!==(r=e.sent).keys().length){e.next=6;break}return e.abrupt("return",null);case 6:o={name:void 0,value:-1},i=B(r);try{for(i.s();!(s=i.n()).done;)c=C(s.value,2),u=c[0],l=c[1],o.value<l&&(o.name=u,o.value=l)}catch(e){i.e(e)}finally{i.f()}return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"count",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;return new Promise((function(r){t.initTransaction().then((function(a){var o=a.store,i=0;t.getCursor(o,e,n).onsuccess=function(e){var t=e.target.result;t?(i++,t.continue()):r(i)}}))}))}},{key:"sum",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alltime";return new Promise((function(r){t.initTransaction().then((function(a){var o=a.store,i=0;t.getCursor(o,e,n).onsuccess=function(t){var n=t.target.result;if(n){var a=n.value;"data_value"in a?i+=parseFloat(a.data_value):console.warn("key not found in cursor values "+e),n.continue()}else r(i.toFixed(2))}}))}))}},{key:"getCursor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return r?n===Q?e.index("ix_dataName_dataValue_session").openCursor(IDBKeyRange.only([t,r,this.getCurrentSessionId().toString()])):e.index("ix_dataName_dataValue").openCursor(IDBKeyRange.only([t,r])):n===Q?e.index("ix_dataName_session").openCursor(IDBKeyRange.only([t,this.getCurrentSessionId().toString()])):e.index("ix_dataName").openCursor(IDBKeyRange.only([t]))}},{key:"avg",value:(r=t(a().mark((function e(t){var n,r,o,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:q,e.next=3,this.sum(t,n);case 3:return r=e.sent,e.next=6,this.count(t,n);case 6:if(o=e.sent,r&&o){e.next=9;break}return e.abrupt("return",0);case 9:return e.abrupt("return",(r/o).toFixed(2));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"last",value:(n=t(a().mark((function e(t){var n,r,o=this,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:1,r=i.length>2&&void 0!==i[2]?i[2]:q,e.abrupt("return",new Promise((function(e){o.initTransaction().then((function(a){var i=a.store,s=i.index("ix_dataName").openCursor([t],"prev");r===Q&&(s=i.index("ix_dataName_session").openCursor([t,o.getCurrentSessionId()],"prev"));var c=0,u=[];s.onsuccess=function(t){var r=t.target.result;r&&c<n?(c++,u.push(r.value),r.continue()):e(u)}}))})));case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getCurrentSessionId",value:function(){var e=new Date;return e.setHours(e.getHours()-2),e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0")}}],[{key:"isSupported",value:function(){return!!this.getIndexedDb()}},{key:"getIndexedDb",value:function(){if(window.indexedDB)return window.indexedDB}}]),e}();function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=new _("BeagleDataCollection"),H=new G,W=function(){var e=t(a().mark((function e(t,n,r){var o,i,s,c,u,l,d,p,f,h,g,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V.log("queryInCollector",t,n,r),"min"!==n){e.next=8;break}return e.next=4,H.min(t,r);case 4:return o=e.sent,e.abrupt("return",o);case 8:if("max"!==n){e.next=15;break}return e.next=11,H.max(t,r);case 11:return i=e.sent,e.abrupt("return",i);case 15:if("avg"!==n){e.next=22;break}return e.next=18,H.avg(t,r);case 18:return s=e.sent,e.abrupt("return",s);case 22:if("cd"!==n){e.next=28;break}return e.next=25,H.groupBy(t,r);case 25:return e.abrupt("return",e.sent.size);case 28:if("cv"!==n){e.next=36;break}return e.next=31,H.count(t,r);case 31:c=e.sent,u=0,l=U(c);try{for(l.s();!(d=l.n()).done;)p=C(d.value,2),f=p[1],u+=f}catch(e){l.e(e)}finally{l.f()}return e.abrupt("return",u);case 36:if("mode"!==n){e.next=43;break}return e.next=39,H.mode(t,r);case 39:if(h=e.sent){e.next=42;break}return e.abrupt("return",null);case 42:return e.abrupt("return",h.name);case 43:if(!(n.indexOf("last")>=0)){e.next=51;break}if((g=n.match("last\\(([\\d]+)\\)"))&&2!==!g.length&&!(parseInt(g[1])<1)){e.next=47;break}return e.abrupt("return",null);case 47:return e.next=49,H.last(t,g[1],r);case 49:return v=e.sent,e.abrupt("return",v);case 51:return V.failed("unknown queryMethod=".concat(n," in BeagleDataCollection")),e.abrupt("return",null);case 53:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),J=function(){var e=t(a().mark((function e(t,n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V.log("updateInCollector",t,n,r),e.next=3,H.save(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.beagleInfoLayer=window.beagleInfoLayer||{a:{},e:{},f:{}};var Y=new _("BeagleInfoLayer"),X=function(e,t){var n=window.top.beagleInfoLayer;if(null!=e&&null!=t){var r="string"==typeof t?t.toString().trim():t;if(e.indexOf(".")>-1){var a=e.split("."),o=a.pop(),i=n;a.forEach((function(e){i[e]||(i[e]={}),i=i[e]})),i[o]=r}else n[e]=r;ce(e,r)}},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;return ee([e],t,n,r)},ee=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,o=window.top.beagleInfoLayer;if(!e||!Array.isArray(e)||!e.length)return null;var i,s=K(e);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(t=ge(o,c))return Promise.resolve(t)}}catch(e){s.e(e)}finally{s.f()}return n?new Promise((function(n){var i=setInterval((function(){var r,a=K(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(t=ge(o,s)){clearInterval(i),n(t);break}}}catch(e){a.e(e)}finally{a.f()}}),r);setTimeout((function(){clearInterval(i),n(null)}),a)})):Promise.resolve(null)},te=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o={};switch(t&&(o.businessRuleId=t),n&&(o.variant=n),r){case"applied":window.beagleInfoLayer.a[e]=o;break;case"skipped":o.dependant_on_treatment=a,window.beagleInfoLayer.e[e]=o;break;case"failed":window.beagleInfoLayer.f[e]=o}},ne=10,re=0,ae=function(){var e=t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X("view_epoch",Date.now()),ve(),he(),de("pageChanged"),me();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe={view_epoch:[{updateMethod:"min"}],PageType:[{updateMethod:"count_values"}],"cart.couponApplicable":[{updateMethod:"last"}],"pdp.category":[{updateMethod:"count_values"}]},ie={view_epoch:[{queryMethod:"min",window:"session",featureName:"history.view_epoch_min"}],PageType:[{queryMethod:"sum_of_counts",window:"session",featureName:"history.PageType_count_session"},{queryMethod:"sum_of_counts",window:"alltime",featureName:"history.PageType_count_alltime"}],"cart.couponApplicable":[{queryMethod:"last",window:"session",featureName:"history.cart_couponApplicable_last_session"}],"pdp.category":[{queryMethod:"mode",window:"session",featureName:"history.pdp_category_mode_session"},{queryMethod:"last",window:"session",featureName:"history.pdp_category_last_session"}]},se=function(){var e=t(a().mark((function e(){var t,n,r,o,i,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.keys(ie),n=0,r=t;case 2:if(!(n<r.length)){e.next=30;break}o=r[n],i=K(ie[o]),e.prev=6,i.s();case 8:if((s=i.n()).done){e.next=19;break}if(!(c=s.value).isUpdated){e.next=12;break}return e.abrupt("continue",17);case 12:return Y.log("queryInCollector",o,c.queryMethod,c.window),e.next=15,W(o,c.queryMethod,c.window);case 15:(u=e.sent)&&(X(c.featureName,u),c.isUpdated=!0);case 17:e.next=8;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:n++,e.next=2;break;case 30:case"end":return e.stop()}}),e,null,[[6,21,24,27]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=t(a().mark((function e(t,n){var r,o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=oe[t])&&Array.isArray(r)&&r.length>0){o=K(r);try{for(o.s();!(i=o.n()).done;)s=i.value,ue(t,n,s)}catch(e){o.e(e)}finally{o.f()}}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(){var e=t(a().mark((function e(t,n,r){var o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y.log("updateInCollector",t,n,r.updateMethod),e.next=3,J(t,n,r.updateMethod);case 3:o=K(ie[t]),e.prev=5,o.s();case 7:if((i=o.n()).done){e.next=16;break}return s=i.value,Y.log("queryInCollector",t,s.queryMethod,s.window),e.next=12,W(t,s.queryMethod,s.window);case 12:(c=e.sent)&&(X(s.featureName,c),s.isUpdated=!0);case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),o.e(e.t0);case 21:return e.prev=21,o.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[5,18,21,24]])})));return function(t,n,r){return e.apply(this,arguments)}}(),le=[{PageTypeDepend:"*",method:"GADataLayer",selector:"PageType",name:"PageType"},{PageTypeDepend:"*",method:"GADataLayer",selector:"isAdmin",name:"vvsIsShowroom"},{PageTypeDepend:"*",method:"GADataLayer",selector:"userId",name:"vvsUserId"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_name",name:"pdp.name"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"productgroup",name:"pdp.group"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivense_category",name:"pdp.class"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_ids",name:"pdp.sku",formatter:"upperCaseTR",trigger:"updateActiveSKUList"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"ProductID",name:"pdp.sku",trigger:"updateActiveSKUList"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"content_category",name:"pdp.category"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"ecommerce.detail.actionField.list",name:"pdp.listalias"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.sku",name:"pdp.sku",trigger:"updateActiveSKUList",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.category",name:"pdp.category",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.discountRate",name:"pdp.discountRate",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.fastDelivery",name:"pdp.fastDelivery",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.isInShowroom",name:"pdp.isInShowroom",formatter:"dearray"},{PageTypeDepend:"Productpage",method:"GADataLayer",selector:"vivenseProducts.*.price",name:"pdp.price",formatter:"dearray"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"content_ids",name:"plp.id"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"category_product_count",name:"plp.approximateCount"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"content_name",name:"plp.name"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"productgroup",name:"plp.group"},{PageTypeDepend:"Listingpage",method:"GADataLayer",selector:"vivense_category",name:"plp.class"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.id",name:"purchase.skus"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.price",name:"purchase.prices"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.quantity",name:"purchase.quantities"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.products.*.category",name:"purchase.categories"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.id",name:"purchase.orderId"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.revenue",name:"purchase.revenue"},{PageTypeDepend:"purchase",method:"GADataLayer",selector:"ecommerce.purchase.actionField.dimension15",name:"purchase.paymentType"},{PageTypeDepend:"*",method:"DocQuery",selector:'[class*="page_preview_wrapper_production"]',name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Homepage"},{PageTypeDepend:"*",method:"DocQuery",selector:'[class*="category_page_wrapper"]',name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Listingpage"},{PageTypeDepend:"*",method:"DocQuery",selector:'[class*="product-main-details"]',name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Productpage"},{PageTypeDepend:"*",method:"DocQuery",selector:'[class*="product"]',name:"PageType",operand:"docQueryValueIfHasInnerText",value:"Productpage"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:'[class*="welcome_username"]',name:"view.isLoggedIn",operand:"docQueryHasInnerText"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:'[class*="empty_basket_text"]',name:"view.isEmptyBasket",operand:"docQueryHasInnerText",exclusive:["view.basketTotal","view.basketCount"]},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:'[class*="basket_total_price"]',name:"view.basketTotal",operand:"docQueryInnerText",exclusive:["view.isEmptyBasket"],formatter:"numericOnly"},{PageTypeDepend:"Homepage|Productpage|Listingpage",method:"DocQuery",selector:'[id*="cart_quantity"], [class*="basket_length"]',name:"view.basketCount",operand:"docQueryInnerText",exclusive:["view.isEmptyBasket"]},{PageTypeDepend:"Productpage",method:"DocQuery",selector:'[class*="delivery-date"]',name:"pdp.deliveryDate",operand:"docQueryInnerText"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:'[class*="delivery-date"]',name:"pdp.deliveryDateFormatted",operand:"docQueryInnerText",formatter:"formatDeliveryDate"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:'[class*="product-title"], [class*="header-bottom"]',name:"pdp.name",operand:"docQueryInnerText"},{PageTypeDepend:"Productpage",method:"DocQuery",selector:'[class*="vivense-showrooms"] > *',name:"pdp.showroomcount",operand:"docQueryCountElts",exclusive:["pdp.hasNoShowrooms"]},{PageTypeDepend:"Productpage",method:"DocQuery",selector:"#vivense-showroom-tab p:not(.vivense-showrooms)",name:"pdp.hasNoShowrooms",operand:"docQueryHasInnerText",exclusive:["pdp.showroomcount"]},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:'[class*="count-of-product"]',name:"plp.itemCount",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:'[class*="subcategories-title"]',name:"plp.name",operand:"docQueryInnerText"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:".product-card[data-product-sku]",name:"plp.skus",operand:"docQueryAttribValueList",value:"data-product-sku",trigger:"updateActiveSKUList"},{PageTypeDepend:"Listingpage",method:"DocQuery",selector:".product-list",observer:"listingItemBlock",name:"__listingItemBlockObserver",children:["plp.skus"],operand:"docQueryObserve"},{PageTypeDepend:"basket",method:"DocQuery",selector:'[class*="empty-cart-container"]',name:"cart.isempty",operand:"docQueryHasInnerText",trigger:"updateActiveSKUList",exclusive:["cart.totalPrice","cart.couponApplicable","cart.skus","cart.prices","cart.quantities","cart.categories","__checkoutFormObserver"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cartItemQuantity",name:"cart.quantities",operand:"docQueryAttribValueList",value:"data-previous",trigger:"updateActiveSKUList",exclusive:["cart.isempty"]},{PageTypeDepend:"basket",method:"DocQuery",selector:'[class*="order-final-number"]',name:"cart.totalPrice",operand:"docQueryInnerText",exclusive:["cart.isempty"],formatter:"numericOnly"},{PageTypeDepend:"basket",method:"DocQuery",selector:'[class*="cart-price"] > span.price, span.super, span.new-price, span.span-price',name:"cart.couponApplicable",operand:"docQuerySumNumInnerText",trigger:"updateCouponApplicableAmount",exclusive:["cart.isempty"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.skus",operand:"docQueryAttribValueList",value:"data-sku",trigger:"updateActiveSKUList",exclusive:["cart.isempty","cart.couponApplicable"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.categories",operand:"docQueryAttribValueList",value:"data-last-breadcrumb",trigger:"updateActiveSKUList",exclusive:["cart.isempty","cart.couponApplicable"]},{PageTypeDepend:"basket",method:"DocQuery",selector:".cart-inside",name:"cart.prices",operand:"docQueryAttribValueList",value:"data-price",trigger:"updateActiveSKUList",exclusive:["cart.isempty","cart.couponApplicable"]},{PageTypeDepend:"basket",method:"DocQuery",selector:"#checkoutForm",observer:"checkoutForm",name:"__checkoutFormObserver",children:["cart.totalPrice","cart.couponApplicable","cart.skus","cart.prices","cart.quantities","cart.categories","cart.isempty"],operand:"docQueryObserve"},{PageTypeDepend:"purchase",method:"DocQuery",selector:'[class*="basket_summary_total"], [class*="total_row"]',name:"purchase.revenue",operand:"docQueryInnerText",formatter:"numericOnly"},{PageTypeDepend:"purchase",method:"DocQuery",selector:'[class*="order_follow_numb"], [class*="cart-title-bottom"]',name:"purchase.vvsTxnId",operand:"docQueryInnerText"},{PageTypeDepend:"purchase",method:"DocQuery",selector:".payment_type_title, .cart-title-info",name:"purchase.paymentType",operand:"docQueryInnerText",formatter:"lowerCaseTRFirstWord"},{PageTypeDepend:"purchase",method:"DocQuery",selector:'[class*="product_sku_code"]',name:"purchase.skus",operand:"docQueryArrayInnerText"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"sku",name:"pdp.sku",trigger:"updateActiveSKUList"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"mpn",name:"pdp.mpn"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"name",name:"pdp.name",operand:"JSONFilterOther",value:"@type=Product"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"offers.price",name:"pdp.price"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"offers.priceValidUntil",name:"pdp.priceValidUntil"},{PageTypeDepend:"Productpage",method:"DocSorg",selector:"itemListElement.*.name",name:"view.breadcrumb"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"mainEntity.name",name:"plp.name"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"mainEntity.numberOfItems",name:"plp.itemCount"},{PageTypeDepend:"Listingpage",method:"DocSorg",selector:"breadcrumb.itemListElement.*.item.name",name:"view.breadcrumb"},{PageTypeDepend:"*",method:"SingleWT",selector:"favoriteProducts",name:"view.favoritedMPNs"},{PageTypeDepend:"*",method:"SingleWT",selector:"isAdmin",name:"vvsIsShowroom",formatter:"toString"},{PageTypeDepend:"*",method:"SingleWT",selector:"userId",name:"vvsUserId"}],de=function(){var e=t(a().mark((function e(t){var n,r,o,i,s,c,u,l,d,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=54;break}e.t0=t,e.next="pageChanged"===e.t0?4:"updateCouponApplicableAmount"===e.t0?9:"updateActiveSKUList"===e.t0?17:53;break;case 4:return e.next=6,Z("PageType",!0,50,1e4);case 6:return(n=e.sent)&&(null!==window.localStorage.getItem(k)&&"purchase"!==n||window.localStorage.setItem(k,0),"purchase"===n?sessionStorage.setItem(b,"{}"):"basket"!==n&&(r=JSON.parse(sessionStorage.getItem(b)))&&X("__SKUsonLastBasketLookup",r)),e.abrupt("break",54);case 9:return e.next=11,Z("cart.couponApplicable",!0,50,500);case 11:if(o=e.sent){e.next=15;break}return window.localStorage.setItem(k,0),e.abrupt("return");case 15:return o>=0&&window.localStorage.setItem(k,o),e.abrupt("break",54);case 17:return e.next=19,Z("PageType",!0,50,1e3);case 19:if("Listingpage"!==(s=e.sent)){e.next=27;break}return e.next=23,Z("plp.skus",!0,50,1e3);case 23:(c=e.sent).length&&(i=c),e.next=39;break;case 27:if("Productpage"!==s){e.next=34;break}return e.next=30,Z("pdp.sku",!0,50,1e3);case 30:(u=e.sent)&&(i=[u]),e.next=39;break;case 34:if("basket"!==s){e.next=39;break}return e.next=37,Z("cart.skus",!0,50,1e3);case 37:(l=e.sent).length&&(i=l);case 39:return i=i.sort(),e.next=42,Z("__SKUsonPage");case 42:if(!(d=e.sent)||!i||d.length!==i.length||d.join("||")!==i.join("||")){e.next=46;break}e.next=52;break;case 46:if(!i){e.next=52;break}return X("__SKUsonPage",i),e.next=50,we(i);case 50:(p=e.sent)&&(X("__SKUsonPageLookup",p),"basket"===s&&sessionStorage.setItem(b,JSON.stringify(p)));case 52:case 53:return e.abrupt("break",54);case 54:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=t(a().mark((function e(){var t,n,r,o,i,s,c,u,l,d,p,f,h,g,v,m,y,b,w,k,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.readyState,Y.log("parseSearchPaths initialized with dom status:  "+t),n=window.top,r=n.dataLayer,o=n.document,s=new Set,c=new Set,u=new Set,e.next=10,Z("PageType");case 10:(l=e.sent)&&c.add("PageType"),d=K(le);try{for(d.s();!(p=d.n()).done;)(f=p.value).isFound&&c.add(f.name)}catch(e){d.e(e)}finally{d.f()}h=K(le),e.prev=15,h.s();case 17:if((g=h.n()).done){e.next=38;break}if(!(v=g.value).isFound){e.next=21;break}return e.abrupt("continue",36);case 21:if(!s.has(v.name)&&!c.has(v.name)){e.next=24;break}return v.isFound=!0,e.abrupt("continue",36);case 24:if("*"===v.PageTypeDepend){e.next=35;break}if(l){e.next=32;break}return e.next=28,Z("PageType");case 28:if(l=e.sent){e.next=32;break}return u.add(v.name),e.abrupt("continue",36);case 32:if(!(v.PageTypeDepend.indexOf(l)<0)){e.next=35;break}return v.isFound=!0,e.abrupt("continue",36);case 35:if("SingleWT"===v.method)fe(n,v,s,u);else if("GADataLayer"===v.method){m=K(r);try{for(m.s();!(y=m.n()).done;)b=y.value,fe(b,v,s,u)}catch(e){m.e(e)}finally{m.f()}}else if("DocSorg"===v.method){i||(i=ye()),w=K(i);try{for(w.s();!(k=w.n()).done;)x=k.value,fe(x,v,s,u)}catch(e){w.e(e)}finally{w.f()}}else"DocQuery"===v.method&&fe(o,v,s,u);case 36:e.next=17;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(15),h.e(e.t0);case 43:return e.prev=43,h.f(),e.finish(43);case 46:0===u.size?(re=10,Y.log("parseSearchPaths found all elements - setting retry to max")):0===s.size?("complete"!==t&&"interactive"!==t||(ne*=2,re+=1),Y.log("parseSearchPaths processed but not found any, setting delay and retry to "+ne+" and "+re+" for notfound: ["+Array.from(u).join(" | ")+"]")):Y.log("parseSearchPaths processed: notfound: ["+Array.from(u).join(" | ")+"] and found "+s.size);case 47:case"end":return e.stop()}}),e,null,[[15,40,43,46]])})));return function(){return e.apply(this,arguments)}}(),fe=function(e,n,r,o){!function(e,n){var r,o;try{switch(n.operand){case"JSONFilterOther":r=ge(e,n.selector);var i=n.value.split("=");if(2!==i.length)break;var s=i[0],c=i[1];if(!s||!c)break;var u=ge(e,s);if(!u||u!==c)break;r&&(Array.isArray(r)?r.length>0:r.toString().trim().length>0)&&(o=r);break;case"docQueryObserve":if(r=e.querySelector(n.selector)){n.isFound=!0;var l=[];n.children.forEach((function(e){var t=le.filter((function(t){return t.name===e}));l.push.apply(l,E(t))})),new MutationObserver(t(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.forEach((function(e){e.isFound=!1})),t=re>=10,ne=10,re=0,t&&(Y.log("searchObj: triggered a restart of searchpaths due: "+n.name),he());case 5:case"end":return e.stop()}}),e)})))).observe(r,{subtree:!0,childList:!0})}break;case"docQueryInnerText":(r=e.querySelector(n.selector))&&r.innerText&&r.innerText.trim().length>0&&(o=r.innerText);break;case"docQueryAttribValueList":var d=[];if(!(r=e.querySelectorAll(n.selector))||0===r.length)break;var p,f=K(r);try{for(f.s();!(p=f.n()).done;){var h=p.value.getAttribute(n.value);h&&d.push(h)}}catch(e){f.e(e)}finally{f.f()}d.length>0&&(o=d);break;case"docQueryHasInnerText":(r=e.querySelector(n.selector))&&(o=(r.innerText.trim().length>0).toString());break;case"docQueryCountElts":(r=e.querySelectorAll(n.selector))&&(o=r.length);break;case"docQueryValueIfHasInnerText":(r=e.querySelector(n.selector))&&r.innerText&&r.innerText.trim().length>0&&(o=n.value);break;case"docQuerySumNumInnerText":if(!(r=e.querySelectorAll(n.selector))||0===r.length)break;var g,v=0,m=K(r);try{for(m.s();!(g=m.n()).done;){var y=g.value.innerText.trim().replace(/\D/g,"");y.length>0&&(v+=parseInt(y))}}catch(e){m.e(e)}finally{m.f()}v>0&&(o=v);break;case"docQueryArrayInnerText":if(!(r=e.querySelectorAll(n.selector))||0===r.length)break;var b,w=[],k=K(r);try{for(k.s();!(b=k.n()).done;){var x=b.value.innerText.trim();x.length>0&&w.push(x)}}catch(e){k.e(e)}finally{k.f()}w.length>0&&(o=w);break;default:null!=(r=ge(e,n.selector))&&(Array.isArray(r)?r.length>0:r.toString().trim().length>0)&&(o=r)}if(o&&(n.formatter&&(o=function(e,t){if(null==e||!t)return null;switch(t){case"upperCaseTR":return e.toString().toUpperCase("tr-TR");case"formatDeliveryDate":return Me(e);case"numericOnly":return e.replace(/\D/g,"");case"lowerCaseTRFirstWord":return e.toString().toLowerCase("tr-TR").split(" ")[0];case"dearray":return Array.isArray(e)&&e.length>0?e[0]:e;case"toString":return e.toString().trim();default:return e}}(o,n.formatter)),X(n.name,o),n.isFound=!0,n.trigger&&de(n.trigger),n.exclusive&&Array.isArray(n.exclusive)&&n.exclusive.length>0)){var S,I=K(le);try{for(I.s();!(S=I.n()).done;){var T=S.value;n.exclusive.includes(T.name)&&(T.isFound=!0)}}catch(e){I.e(e)}finally{I.f()}}if(n.isFound)return!0}catch(e){Y.error("searchObj error: "+e)}return!1}(e,n)?o.add(n.name):r.add(n.name)},he=function(){var e=t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:re<10?(Y.log("parseSearchPaths: scheduled to be recalled in "+ne+"ms"),setTimeout(he,ne)):(Y.log("parseSearchPaths: reached max retry, calling remainder historical data"),se());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function e(t,n){if(!t)return null;if(!n)return null;try{for(var r=n.split("."),a=t,o=0;o<r.length;o++){if(null===a)return null;if("*"===r[o]){var i=r.slice(o+1).join("."),s=[];for(var c in a)if(void 0!==a[c]&&null!==a[c]){var u=e(a[c],i);null!=u&&s.push(u)}return s}a=a[r[o]]}return a}catch(e){return null}},ve=function(){var e=t(a().mark((function e(){var t,n,r,o,i,s,c,u,l,d,f,g,v,m,y,b,k,x,S,I,T,L,A,_,D,P,C,E,O,N,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m=window.top,y=m.navigator,b=crypto.randomUUID(),k=sessionStorage.getItem(h),X("v","0.0.28"),X("n","beagle-session_id-".concat(k)),X("vId",b),X("sr",p),x=(null===(t=m.navigator)||void 0===t||null===(n=t.userAgentData)||void 0===n?void 0:n.platform)||(null===(r=m.navigator)||void 0===r?void 0:r.platform)||(null===(o=m.navigator)||void 0===o?void 0:o.userAgent),X("device.navPlatform",x),X("device.windowPRatio",m.devicePixelRatio),S=(null===(i=m.screen)||void 0===i?void 0:i.availWidth)+"x"+(null===(s=m.screen)||void 0===s?void 0:s.availHeight),X("device.windowAvail",S),I=(null===(c=m.screen)||void 0===c?void 0:c.colorDepth)+"-"+(null===(u=m.screen)||void 0===u?void 0:u.pixelDepth),X("device.windowDepth",I),T=(null===(l=m.visualViewport)||void 0===l?void 0:l.width)+"x"+(null===(d=m.visualViewport)||void 0===d?void 0:d.height),X("device.windowVport",T),screen.width&&(L=parseInt(screen.width),A=screen.height?parseInt(screen.height):0,0!==L&&0!==A&&(/iPad|iPhone|iPod/.test(x)&&m.devicePixelRatio?(L=Math.round(L*m.devicePixelRatio),A=Math.round(A*m.devicePixelRatio)):90===Math.abs(m.orientation)&&(_=L,L=A,A=_),X("device.window",L+"x"+A))),X("device.navHistSize",null===(f=m.history)||void 0===f?void 0:f.length),y.userAgent?X("device.navAgent",y.userAgent):y.userAgentData&&(E=null==y||null===(D=y.userAgentData)||void 0===D||null===(P=D.brands)||void 0===P?void 0:P.map((function(e){return e.brand+":"+e.version})).join(),E+=null!=y&&null!==(C=y.userAgentData)&&void 0!==C&&C.mobile?"mobi":" ",X("device.navAgent",E+=x)),X("device.navHWCores",y.hardwareConcurrency),X("device.navLanguage",y.language||y.browserLanguage||y.systemLanguage||y.userLanguage),X("device.navTouch",y.maxTouchPoints),X("device.navVendor",y.vendor),X("device.internetSpeed",null===(g=m.navigator)||void 0===g||null===(v=g.connection)||void 0===v?void 0:v.downlink),O=new URL(window.top.location.href),X("u",O.href),X("d",O.hostname),X("donttrack",y.doNotTrack||m.doNotTrack||y.msDoNotTrack),X("r",m.document.referrer),(N=sessionStorage.getItem(w))?X("fr",N):(sessionStorage.setItem(w,m.document.referrer),X("fr",m.document.referrer)),O.pathname.indexOf("favorilerim.html")>-1?R="favorites":O.pathname.indexOf("siparis-listesi.html")>-1?R="basket":O.pathname.indexOf("siparis-ozeti.html")>-1?R="purchase":O.pathname.indexOf("odeme.html")>-1?R="payment":O.pathname.indexOf("adres-listesi.html")>-1?R="address":O.pathname.indexOf("siparislerim.html")>-1?R="pastorders":O.pathname.indexOf("uye-kayit.html")>-1?R="register":O.pathname.indexOf("uye-girisi.html")>-1?R="signin":O.pathname.indexOf("kuponlarim.html")>-1?R="profile_coupons":O.pathname.indexOf("profil-guncelle.html")>-1?R="profile_info":O.pathname.indexOf("adreslerim.html")>-1?R="profile_addresses":O.pathname.indexOf("duyuru-tercihleri.html")>-1?R="profile_notifications":O.pathname.indexOf("indirimli-mobilya-kampanyalari.html")>-1&&(R="special_campaigns"),R&&X("PageType",R);case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=window.top,t={},n=e.performance.getEntriesByType("navigation")[0];e.performance&&n&&(t.connect=Math.round(n.connectEnd-n.connectStart),t.request=Math.round(n.responseEnd-n.requestStart),t.dom=Math.round(n.domComplete-n.domInteractive),t.load=Math.round(n.loadEventEnd-n.loadEventStart),t.duration=Math.round(n.duration)),X("metrics",t)},ye=function(){var e,t=[],n=K(window.top.document.querySelectorAll('[type="application/ld+json"]'));try{for(n.s();!(e=n.n()).done;){var r=e.value;try{var a=r.textContent,o=JSON.parse(a);t.push(o)}catch(e){}}}catch(e){n.e(e)}finally{n.f()}return t},be=!1,we=function(){var e=t(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=3;break}return Y.failed("productInfoLookup: No sku found"),e.abrupt("return",null);case 3:if(!be){e.next=6;break}return Y.failed("productInfoLookup: Already in progress"),e.abrupt("return",null);case 6:return Y.log("productInfoLookup: Starting product info lookup: "+t),(n=new Headers).append("Content-Type","application/json"),be=!0,r=null,e.prev=11,e.next=14,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 14:if(!(r=e.sent).ok){e.next=19;break}return e.next=18,r.json();case 18:r=e.sent;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),Y.warn("productInfoLookup: fetch & parse failed");case 24:return be=!1,e.abrupt("return",r);case 26:case"end":return e.stop()}}),e,null,[[11,21]])})));return function(t){return e.apply(this,arguments)}}();function ke(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=new _("Beagle Utils"),Ie={ocak:0,"ubat":1,mart:2,nisan:3,"mays":4,haziran:5,temmuz:6,"austos":7,"eyll":8,ekim:9,"kasm":10,"aralk":11};"randomUUID"in crypto||(crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))});var Te=function(){window.top.document.documentElement.classList.remove("nextDay-hide")},Le=function(){var e=t(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Se.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=t(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Se.log("Fetching treatment weights"),e.next=3,fetch(u);case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},De=function(){var e=t(a().mark((function e(t){var n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=8+(n=9),t){e.next=5;break}return e.abrupt("return",-1);case 5:return e.next=7,Pe(t);case 7:return o=e.sent,i=parseInt(o.substring(n,r),16),e.abrupt("return",i%100);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=t(a().mark((function e(t){var n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return r=e.sent,o=Array.from(new Uint8Array(r)),e.abrupt("return",o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e,t){Se.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],a=0,o=Object.entries(t);a<o.length;a++){var i=C(o[a],2),s=i[0],c=i[1];r.style[s]=c}},Ee=function(){var e=t(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=window.top.document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="https://host-b96.pages.dev/nd-styles.css",window.top.document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=t(a().mark((function e(t,n,r){var o,i,s,c,u,l,d,p,f,h,g,v,m,y,b,w,k,x,S,I,T;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=JSON.parse(JSON.stringify(n)),i=null,s=ke(o),e.prev=3,s.s();case 5:if((c=s.n()).done){e.next=55;break}if(u=c.value,l=u.businessRuleTransformations,d=u.variants,l||d){e.next=10;break}return e.abrupt("continue",53);case 10:if(r&&l){p=ke(l);try{for(p.s();!(f=p.n()).done;)if((h=f.value).id===r)for(g in h)"id"!==g&&(u[g]=h[g])}catch(e){p.e(e)}finally{p.f()}}if(!d){e.next=53;break}v=0,m=Object.keys(d);case 13:if(!(v<m.length)){e.next=53;break}return y=m[v],e.next=17,De(t+y);case 17:if(!(e.sent<u.variants[y].weight)){e.next=50;break}if(i=y,!r||!d[y].businessRuleTransformations){e.next=48;break}b=ke(d[y].businessRuleTransformations),e.prev=22,b.s();case 24:if((w=b.n()).done){e.next=38;break}if((k=w.value).id!=r){e.next=36;break}x=0,S=Object.keys(k);case 28:if(!(x<S.length)){e.next=36;break}if("id"!==(I=S[x])){e.next=32;break}return e.abrupt("continue",33);case 32:u[I]=k[I];case 33:x++,e.next=28;break;case 36:e.next=24;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(22),b.e(e.t0);case 43:return e.prev=43,b.f(),e.finish(43);case 46:e.next=49;break;case 48:for(T in d[y])"weight"!==T&&"businessRuleTransformations"!==T&&(u[T]=d[y][T]);case 49:return e.abrupt("break",53);case 50:v++,e.next=13;break;case 53:e.next=5;break;case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(3),s.e(e.t1);case 60:return e.prev=60,s.f(),e.finish(60);case 63:return e.abrupt("return",[o,i]);case 64:case"end":return e.stop()}}),e,null,[[3,57,60,63],[22,40,43,46]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Ne=function(e,t,n){if("notExist"===t)return e?(Se.failed("conditionChecker: -not satisfied- target does exist"),!1):(Se.success("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return Se.failed("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(Se.success("conditionChecker: -satisfied- target does exist"),!0):(Se.failed("conditionChecker: -not satisfied- target does not exist"),!1);case"includes":case"contains":return e.includes(n)?(Se.success("conditionChecker: -satisfied- target contains value"),!0):(Se.failed("conditionChecker: -not satisfied- target does not contain value"),!1);case"notIncludes":case"notContains":return e.includes(n)?(Se.failed("conditionChecker: -not satisfied- target contains value"),!1):(Se.success("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(Se.success("conditionChecker: -satisfied- target equals value"),!0):(Se.failed("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(Se.success("conditionChecker: -satisfied- target does not equal value"),!0):(Se.failed("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(Se.success("conditionChecker: -satisfied- target is greater than value"),!0):(Se.failed("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(Se.success("conditionChecker: -satisfied- target is less than value"),!0):(Se.failed("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(Se.success("conditionChecker: -satisfied- target is greater or equal than value"),!0):(Se.failed("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(Se.success("conditionChecker: -satisfied- target is less or equal than value"),!0):(Se.failed("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=C(n.split(","),2),a=r[0],o=r[1];return a=parseInt(a),o=parseInt(o),e>=a&&e<=o?(Se.success("conditionChecker: -satisfied- target is between min and max"),!0):(Se.failed("conditionChecker: -not satisfied- target is not between min and max"),!1);case"regex":return new RegExp(n,"i").test(e);default:return Se.failed("conditionChecker: condition is not defined ",t),!1}},Re=function(e){var t=x,n=S,r=window.location.search;if(r.includes("nd_debug=1"))return window.localStorage.setItem(t,1),window.localStorage.setItem(n,e),X("dbm","on"),1;if(r.includes("nd_debug=2"))return window.localStorage.setItem(t,2),window.localStorage.setItem(n,e),X("dbm","on"),2;if(r.includes("nd_debug=0"))return window.localStorage.removeItem(t),window.localStorage.setItem(n,e),X("dbm","off"),0;var a=parseInt(window.localStorage.getItem(t));return X("dbm",a?"on":"off"),a||0},je=function(){var e=t(a().mark((function e(){var t,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"_ga",e.abrupt("return",new Promise((function(e,n){var r=window.localStorage.getItem(T);if(r&&e(r),r=_e(window.top.document.cookie,t))window.localStorage.setItem(T,r),e(r);else{var a=setInterval((function(){(r=_e(window.top.document.cookie,t))&&(clearInterval(a),window.localStorage.setItem(T,r),e(r))}),10);setTimeout((function(){clearInterval(a),n(new Error("Could not extract cookie identifier"))}),1e3)}})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Me=function(e){if(!e||"string"!=typeof e)return e;var t={startMonthIndex:void 0,endMonthIndex:void 0,startDay:void 0,endDay:void 0},n=e.match("([\\d]+)-([\\d]+)\\s?([\\w]+)");if(n&&4===n.length)t.startDay=parseInt(n[1]),t.endDay=parseInt(n[2]),t.startMonthIndex=Ie[n[3].toLowerCase()],t.endMonthIndex=t.startMonthIndex;else{if(!(n=e.match("([\\d]+)\\s+([\\w]+)-([\\d]+)\\s+([\\w]+)"))||5!==n.length)return e;t.startDay=parseInt(n[1]),t.startMonthIndex=Ie[n[2].toLowerCase()],t.endDay=parseInt(n[3]),t.endMonthIndex=Ie[n[4].toLowerCase()]}try{var r=new Date;if(!t.startMonthIndex||!t.endMonthIndex)return e;var a=t.startMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,o=t.endMonthIndex>=r.getMonth()?r.getFullYear():r.getFullYear()+1,i=new Date(a,t.startMonthIndex,t.startDay),s=new Date(o,t.endMonthIndex,t.endDay),c=Math.ceil(Math.abs(i-r)/864e5),u=Math.ceil(Math.abs(s-r)/864e5),l=c<7?0:Math.ceil(c/7),d=u<7?0:Math.ceil(u/7);return 0===l&&0===d?"".concat(c," - ").concat(u," Gn"):0===l&&d>=1?"".concat(c," Gn - ").concat(d," Hafta"):l===d?"".concat(l," Hafta"):"".concat(l," - ").concat(d," Hafta")}catch(t){return e}},qe=function(){var e=t(a().mark((function e(t,n){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(){clearTimeout(r),r=setTimeout(n,t)},r=setTimeout(n,t),window.top.document.ontouchstart=o;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){function e(){i(this,e),this.logger=new _("Beagle Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentsHash=null,this.appliedTreatmentsChanges=!1,this.eligibleNotAppliedTreatmentsHash=null,this.eligibleNotAppliedTreatmentsChanges=!1,this.headers={type:"text/plain"},this.isLogged=!1,this.initializeExitEventListeners()}var n,r,o;return c(e,[{key:"sendLogs",value:(o=t(a().mark((function e(){var t,n,r,o=this,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=i.length>1&&void 0!==i[1]&&i[1],(r=this.logger).log("Sending logs"),"complete"!==window.top.document.readyState?(r.log("Document ready state is not complete"),window.addEventListener("load",(function(){r.log("In onload event"),o.handleQueueLogs(o.packageLogData(t),n)}),!0)):this.handleQueueLogs(this.packageLogData(t),n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"handleQueueLogs",value:(r=t(a().mark((function e(t){var n,r,o,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length>1&&void 0!==i[1]&&i[1]||!this.isLogged){e.next=3;break}return e.abrupt("return");case 3:if(n=this.logger,t){e.next=7;break}return n.failed("Could not create request blob"),e.abrupt("return");case 7:return n.log("Request blob to send: ",t),this.queueLogs(t),this.isLogged=!0,e.next=12,Z("a");case 12:return r=e.sent,e.next=15,Z("e");case 15:return o=e.sent,e.next=18,Pe(r);case 18:return this.appliedTreatmentsHash=e.sent,e.next=21,Pe(o);case 21:this.eligibleNotAppliedTreatmentsHash=e.sent;case 22:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"updateLatestChanges",value:(n=t(a().mark((function e(){var t,n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z("a");case 2:return t=e.sent,e.next=5,Z("e");case 5:return n=e.sent,e.next=8,Pe(t);case 8:return r=e.sent,e.next=11,Pe(n);case 11:o=e.sent,r!==this.appliedTreatmentsHash&&(this.appliedTreatmentsChanges=!0,this.appliedTreatmentsHash=r),o!==this.eligibleNotAppliedTreatmentsHash&&(this.eligibleNotAppliedTreatmentsChanges=!0,this.eligibleNotAppliedTreatmentsHash=o);case 14:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"packageLogData",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.headers,n={},r=0,a=Object.entries(window.beagleInfoLayer);r<a.length;r++){var o=C(a[r],2),i=o[0],s=o[1];i.startsWith("_")||(n[i]=s)}return n.t=Date.now(),e?n.m=e:Object.keys(n.a||{}).length>0?n.m="Treatments applied":n.m="No treatments applied",new Blob([JSON.stringify(n)],t)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.appliedTreatmentsChanges,n=this.eligibleNotAppliedTreatmentsChanges;if(!t&&!n)return!1;var r={t:Date.now(),a:t?window.beagleInfoLayer.a:{},e:n?window.beagleInfoLayer.e:{},vId:window.beagleInfoLayer.vId};return new Blob([JSON.stringify(r)],e)}},{key:"initializeExitEventListeners",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(e.isLogged){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0}),window.addEventListener("pagehide",(function(){if(e.isLogged){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}else e.handleQueueLogs(e.packageLogData())}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger;if(navigator.sendBeacon&&"function"==typeof navigator.sendBeacon){var n=navigator.sendBeacon(l,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(l,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}else fetch(l,e)}}]),e}(),Ge=Qe,Ue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";var r=e.indexOf(t);if(r<0)return e;for(;e.indexOf(t)>=0;){var a=e.indexOf(t);e=(a>0?e.substring(0,a):"")+n+e.substring(a+t.length)}return e};function Fe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He=new _("ReplaceUtils"),We=function(){var e=t(a().mark((function e(t,n){var r,i,s,c,u,l,d,p,f,h,g,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=27;break}r=Fe(t.entries()),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=17;break}if(s=C(i.value,2),c=s[0],u=s[1],"object"!==o(l=Array.isArray(n)?n[c]:n||"")){e.next=14;break}return e.next=10,Ke(l);case 10:d=e.sent,t[c]=Ue(u,"{{REPLACE}}",d),e.next=15;break;case 14:t[c]=Je(l,u);case 15:e.next=4;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),r.e(e.t0);case 22:return e.prev=22,r.f(),e.finish(22);case 25:e.next=61;break;case 27:if(!Array.isArray(n)){e.next=53;break}p=Fe(n),e.prev=29,p.s();case 31:if((f=p.n()).done){e.next=43;break}if("object"!==o(h=f.value)){e.next=40;break}return e.next=36,Ke(h);case 36:g=e.sent,t=t.replace("{{REPLACE}}",g),e.next=41;break;case 40:t=Je(h,t,!0);case 41:e.next=31;break;case 43:e.next=48;break;case 45:e.prev=45,e.t1=e.catch(29),p.e(e.t1);case 48:return e.prev=48,p.f(),e.finish(48);case 51:e.next=61;break;case 53:if("object"!==o(n)){e.next=60;break}return e.next=56,Ke(n);case 56:v=e.sent,t=t.replace("{{REPLACE}}",v),e.next=61;break;case 60:t=Je(n,t);case 61:return e.abrupt("return",t);case 62:case"end":return e.stop()}}),e,null,[[2,19,22,25],[29,45,48,51]])})));return function(t,n){return e.apply(this,arguments)}}();function Je(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t.includes("{{REPLACE}}")){He.log("Executing replace function: ",e);var r=Function(e);return n?t.replace("{{REPLACE}}",r()):Ue(t,"{{REPLACE}}",r())}return t}function Ke(e){return ze.apply(this,arguments)}function ze(){return(ze=t(a().mark((function e(t){var n,r,o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.storage,r=t.key,o=t.keyFallback,i=t.type,e.t0=n,e.next="session"===e.t0?4:"info-layer"===e.t0?18:26;break;case 4:if(s=null,(s=window.sessionStorage.getItem(r))||(s=window.sessionStorage.getItem(o)),!i){e.next=17;break}e.prev=8,s=(s=JSON.parse(s))[s.length-1][i],e.next=17;break;case 13:return e.prev=13,e.t1=e.catch(8),He.failed("Could not parse ".concat(s)),e.abrupt("return",null);case 17:return e.abrupt("return",s);case 18:return e.next=20,Z(r);case 20:if(c=e.sent){e.next=25;break}return e.next=24,Z(o);case 24:c=e.sent;case 25:return e.abrupt("return",c);case 26:case"end":return e.stop()}}),e,null,[[8,13]])})))).apply(this,arguments)}var $e=We,Ye=new _("ActionConditionUtils"),Xe=function(e,t){var n=e.attribute,r=e.inner_condition,a=e.operator,o=e.selector,i=e.type,s=e.value;Ye.log("Action condition found: ",e);var c=[];if("productInfoLookup"===i)for(var u=0,l=Array.from(window.top.document.querySelectorAll(o));u<l.length;u++){var d,p,f=l[u],h=f.getAttribute(n),g=null==t||null===(d=t[h])||void 0===d||null===(p=d.catalog)||void 0===p?void 0:p[a];g&&Ne(g,r,s)&&c.push($(f))}return c};function Ze(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(){return tt=t(a().mark((function e(n,r){var o,i,s,c,u,l,p,h,g,v,m,b,w,k;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new _("Nextday Apply Actions"),i=y,s=r.productInfo,c=function(){var e=t(a().mark((function e(t){var n,r,c,u,h,y,w,k,x,S,I,T,L,A,_,D,P,C,E,O,N,R,j,B,M,q,Q,G,U,F,V,H,W,J,K,z=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=z.length>1&&void 0!==z[1]?z[1]:null,o.log("Applying action: ",JSON.stringify(t)),r=t.operator,c=t.type,u=t.applyEvent,h=t.contentSelector,y=t.selector,w=t.selectorFallback,k=t.mdCondition,x=t.move_selector_1,S=t.move_selector_2,I=t.replaceFn,T=t.pType,"noop"!==r){e.next=6;break}return o.failed("Noop Operator: No operation is applied on target "),e.abrupt("return");case 6:if(L=t.value,n=n?n.find(y):$(y),!k||window.matchMedia(k).matches){e.next=12;break}return o.failed("Media condition mismatch: ",k),e.abrupt("return",!1);case 12:if(!(x&&!S||S&&!x)){e.next=15;break}return o.failed("Both move selectors are required"),e.abrupt("return",!1);case 15:if(!x||!S){e.next=24;break}if($(x).length){e.next=19;break}return o.failed("Move selector 1 not found: ",x),e.abrupt("return",!1);case 19:if($(S).length){e.next=22;break}return o.failed("Move selector 2 not found: ",S),e.abrupt("return",!1);case 22:e.next=39;break;case 24:if(y){e.next=29;break}return o.failed("Selector not specified"),e.abrupt("return",!1);case 29:if(n.length){e.next=39;break}if($(w).length||"remove"!==r){e.next=32;break}return e.abrupt("return");case 32:if("no-selector"===y){e.next=39;break}if(o.failed("Selector not found: ",y),o.log("Trying fallback selector: ",w),w&&(n=$(w)),n.length){e.next=39;break}return o.failed("Fallback selector not found"),e.abrupt("return",!1);case 39:if(!I){e.next=43;break}return e.next=42,$e(L,I,s);case 42:L=e.sent;case 43:if("remove"!==r){e.next=47;break}n.length?(o.log("Removing: ",y),n.remove()):o.log("Cannot found element with selector: ",y),e.next=196;break;case 47:if("insert"!==r){e.next=106;break}e.t0=c,e.next="before"===e.t0?51:"after"===e.t0?55:"append"===e.t0?58:"modal"===e.t0?61:"popup"===e.t0?66:102;break;case 51:return o.log("Inserting before: ",L),String(L).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),n.before(L),e.abrupt("break",104);case 55:return o.log("Inserting after: ",L),n.after(L),e.abrupt("break",104);case 58:return o.log("Appending value: ",L),n.append(L),e.abrupt("break",104);case 61:return n.off("click"),m(L,h,!0),(A=document.querySelector(y)).addEventListener("click",(function(e){A==e.target&&e.stopPropagation(),v(L,h)}),!0),e.abrupt("break",104);case 66:if(0===parseInt(sessionStorage.getItem(i))){e.next=69;break}return o.log("Popup already displayed in session"),e.abrupt("break",104);case 69:if(o.log("Creating Popup: ",L),T&&(L=l(s,T,L)),m(L,h),!u){e.next=100;break}_=window.matchMedia(d).matches,D=Ze(u),e.prev=75,D.s();case 77:if((P=D.n()).done){e.next=90;break}C=P.value,e.t1=C,e.next="exitIntent"===e.t1?82:"copyIntent"===e.t1?85:88;break;case 82:return o.log("Adding exit intent listener"),_?(window.top.addEventListener("visibilitychange",g),null!==(E=window.beagleInfoLayer)&&void 0!==E&&E.r.includes(null===(O=window.beagleInfoLayer)||void 0===O?void 0:O.d)||window.history&&"function"==typeof window.history.pushState&&("complete"!==window.top.document.readyState?window.top.addEventListener("load",(function(){"bg_limbo"!==window.history.state&&window.history.pushState("bg_limbo",""),window.top.addEventListener("popstate",g,{once:!0})})):("bg_limbo"!==window.history.state&&window.history.pushState("bg_limbo",""),window.top.addEventListener("popstate",g,{once:!0}))),qe(f,g)):window.top.document.documentElement.addEventListener("mouseleave",g,{once:!0}),e.abrupt("break",88);case 85:return o.log("Adding copy intent listener"),window.top.document.documentElement.addEventListener("copy",g,{once:!0}),e.abrupt("break",88);case 88:e.next=77;break;case 90:e.next=95;break;case 92:e.prev=92,e.t2=e.catch(75),D.e(e.t2);case 95:return e.prev=95,D.f(),e.finish(95);case 98:e.next=101;break;case 100:setTimeout((function(){g()}),timeout);case 101:return e.abrupt("break",104);case 102:return o.failed("Type: ".concat(c," not found for operator: ").concat(r)),e.abrupt("break",104);case 104:e.next=196;break;case 106:if("edit"!==r){e.next=134;break}e.t3=c,e.next="text"===e.t3?110:"html"===e.t3?113:"styleApplicator"===e.t3?116:"addClass"===e.t3?121:"removeClass"===e.t3?124:"documentTitle"===e.t3?127:130;break;case 110:return o.log("Editing text: ",L),n.text(L),e.abrupt("break",132);case 113:return o.log("Editing html: ",L),n.html(L),e.abrupt("break",132);case 116:return o.log("Applying style: ",L),N=JSON.parse(L),o.log("Style Changes Map: ",N),Ce(n,N),e.abrupt("break",132);case 121:return o.log("addding class to ".concat(n," named ").concat(L)),n.addClass(L),e.abrupt("break",132);case 124:return o.log("remove class from ".concat(n," named ").concat(L)),n.removeClass(L),e.abrupt("break",132);case 127:if(o.log("changing document title from ".concat(n," to ").concat(L)),u){R=Ze(u);try{for(R.s();!(j=R.n()).done;)"tabChange"==j.value&&function(){o.log("catching event tabchange..");var e=window.top.document.title;window.top.document.addEventListener("visibilitychange",(function(t){return p(t,L,e)}))}()}catch(e){R.e(e)}finally{R.f()}}return e.abrupt("break",132);case 130:return o.log("Unknown edit type: ",c),e.abrupt("break",132);case 132:e.next=196;break;case 134:if("setattribute"!==r){e.next=148;break}o.log("Setting attribute: ",attribute,L),e.t4=attribute,e.next="src"===e.t4?139:"style"===e.t4?141:145;break;case 139:return n.css("content","url(".concat(L.trim(),")")),e.abrupt("break",146);case 141:return B=L.split(":")[0].trim(),M=L.split(":")[1].trim(),n.css(B,M,"!important"),e.abrupt("break",146);case 145:return e.abrupt("break",146);case 146:e.next=196;break;case 148:if("replace"!==r){e.next=153;break}o.log("Replacing: ",L),n.replaceAll(L),e.next=196;break;case 153:if("swap"!==r){e.next=160;break}o.log("Swapping: ",x,S),q=window.top.document.querySelector(x),Q=window.top.document.querySelector(S),b(q,Q),e.next=196;break;case 160:if("injectscript"!==r){e.next=165;break}o.log("Injecting script: ",L),n.append("<script>".concat(L,"<\/script>")),e.next=196;break;case 165:if("move"!==r){e.next=173;break}o.log("Moving ".concat(x," to ").concat(S)),G=window.top.document.querySelector(x),U=window.top.document.querySelector(S),G.remove(),U.prepend(G),e.next=196;break;case 173:if("productInfoLookup"!==r){e.next=178;break}F=l(s,T,L),n.before(F),e.next=196;break;case 178:if("text-transform"!==r){e.next=195;break}e.t5=c,e.next="capitalize"===e.t5?182:193;break;case 182:V=0,H=Array.from(n);case 183:if(!(V<H.length)){e.next=192;break}if(K=H[V],null===(W=K.innerText)||void 0===W||!W.includes("\n")){e.next=188;break}return K.innerText=K.innerText.toLowerCase().split("\n").map((function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")})).join("\n"),e.abrupt("continue",189);case 188:K.innerText=null===(J=K.innerText)||void 0===J?void 0:J.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");case 189:V++,e.next=183;break;case 192:return e.abrupt("break",193);case 193:e.next=196;break;case 195:o.failed("No such operator exists yet",r);case 196:case"end":return e.stop()}}),e,null,[[75,92,95,98]])})));return function(t){return e.apply(this,arguments)}}(),u=function(e,t){return e&&t.includes("{{REPLACE_PRODUCTINFO}}")&&(t=Ue(t,"{{REPLACE_PRODUCTINFO}}",e)),t},l=function(e,t,n){var r=Object.keys(e),a=null;if(!r||0===r.length)return o.log("No sku found"),null;var i=r[0];switch(t){case"transactionIn2Weeks":var s;a=u(null===(s=e[i].catalog.transactionIn2Weeks)||void 0===s?void 0:s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n),o.log("Replacing transcationIn2Weeks ",e[i].catalog.transactionIn2Weeks);break;case"addToCartIn2Weeks":var c;a=u(null===(c=e[i].catalog.addToCartIn2Weeks)||void 0===c?void 0:c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n),o.log("Replacing AddToCartCount ",e[i].catalog.addToCartIn2Weeks);break;case"productViewCount":var l;a=u(null===(l=e[i].catalog.productViewCount)||void 0===l?void 0:l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n),o.log("Replacing productViewCount for",e[i].catalog.productViewCount);break;default:o.failed("no such type found for productInfoLookup operator: "+t)}return a},p=function(){var e=t(a().mark((function e(t,n,r){var o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.isArray(n)?n:[n],i=Ze(o),e.prev=2,i.s();case 4:if((s=i.n()).done){e.next=18;break}if(c=s.value,!window.top.document.hidden){e.next=15;break}return window.top.document.title=c,e.next=10,Be(2e3);case 10:return window.top.document.title=r,e.next=13,Be(2e3);case 13:e.next=16;break;case 15:window.top.document.title=r;case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),i.e(e.t0);case 23:return e.prev=23,i.f(),e.finish(23);case 26:window.top.document.hidden?p(t,n,r):window.top.document.title=r;case 27:case"end":return e.stop()}}),e,null,[[2,20,23,26]])})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0),window.removeEventListener("touchend",e,!0))},g=function e(){if(!(window.top.document.hidden||parseInt(sessionStorage.getItem(i))>0)){sessionStorage.setItem(i,1);var t=window.top.document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),window.top.document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",h,!0),window.addEventListener("touchend",h,!0),window.top.document.documentElement.removeEventListener("mouseleave",e,{once:!0}),window.top.document.documentElement.removeEventListener("copy",e,{once:!0}),window.top.removeEventListener("visibilitychange",e),window.top.removeEventListener("popstate",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",h,!0),window.removeEventListener("touchend",h,!0)}),15e3)}},v=function(e,t){if(!window.top.document.hidden){var n=window.top.document.querySelector("#grt-shadow-host");n&&(n.style.display="none"),window.top.document.getElementById("nd-popup__wrapper")||m(e,t,!0),window.top.document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",h,!0)}},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=window.top.document.createElement("div");r.classList.add("nd-popup__wrapper"),r.id="nd-popup__wrapper";var a=window.top.document.createElement("button"),o=n?"nd-popup__button-close__colored":"nd-popup__button-close";if(a.classList.add(o),a.innerText="X",a.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",h,!0)},t)for(var i=Array.from(window.top.document.querySelectorAll(t));e.includes("{{REPLACE}}")&&i.length>0;)e=e.replace("{{REPLACE}}",i.shift().src);var s=window.top.document.createElement("template");s.innerHTML=e.trim();var c=s.content.firstChild;c.appendChild(a),r.appendChild(c),$("#nd-popup__wrapper").remove(),window.top.document.body.appendChild(r)},b=function(e,t){var n,r,a=e.parentNode,o=t.parentNode;if(a&&o&&!a.isEqualNode(t)&&!o.isEqualNode(e)){for(var i=0;i<a.children.length;i++)a.children[i].isEqualNode(e)&&(n=i);for(var s=0;s<o.children.length;s++)o.children[s].isEqualNode(t)&&(r=s);a.isEqualNode(o)&&n<r&&r++,a.insertBefore(t,a.children[n]),o.insertBefore(e,o.children[r])}},w=function(){var e=t(a().mark((function e(n){var r,i,u,l,d,p,f,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.jQuery){e.next=4;break}setTimeout(t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n);case 2:case"end":return e.stop()}}),e)}))),10),e.next=56;break;case 4:r=Ze(n),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=48;break}if(u=i.value,e.prev=9,l=!1,!u.condition){e.next=35;break}d=Xe(u.condition,s),p=Ze(d),e.prev=14,p.s();case 16:if((f=p.n()).done){e.next=25;break}return h=f.value,e.next=20,c(u,h);case 20:if(!1!==(l=e.sent)){e.next=23;break}return e.abrupt("return",!1);case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(14),p.e(e.t0);case 30:return e.prev=30,p.f(),e.finish(30);case 33:e.next=38;break;case 35:return e.next=37,c(u);case 37:l=e.sent;case 38:if(!1!==l){e.next=40;break}return e.abrupt("return",!1);case 40:e.next=46;break;case 42:return e.prev=42,e.t1=e.catch(9),o.failed("Couldn't apply action ".concat(u," with error ").concat(e.t1.message)),e.abrupt("return",e.t1);case 46:e.next=7;break;case 48:e.next=53;break;case 50:e.prev=50,e.t2=e.catch(5),r.e(e.t2);case 53:return e.prev=53,r.f(),e.finish(53);case 56:case"end":return e.stop()}}),e,null,[[5,50,53,56],[9,42],[14,27,30,33]])})));return function(t){return e.apply(this,arguments)}}(),e.next=15,w(n);case 15:return k=e.sent,e.abrupt("return",k);case 17:case"end":return e.stop()}}),e)}))),tt.apply(this,arguments)}var nt=function(e,t){return tt.apply(this,arguments)},rt=new _("Beagle Counter Checker"),at=function(e){rt.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return it(n,r);case"CABasketPrice":return st(n,r);default:return rt.failed("No such operator",t),!1}},ot=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return rt.failed("No such type",t),null}}catch(t){return rt.failed("Could not get counter ".concat(e),t),null}},it=function(e,t){var n=parseInt(ot(m,"session"));return rt.log("Page views counter value: ",n),null===n?(rt.failed("Pageviews counter not found in session storage"),!1):Ne(n,e,parseInt(t))},st=function(e,t){var n=parseInt(ot(k,"local"));return rt.log("Coupon applicable basket price counter value: ",n),null===n?(rt.failed("Coupon applicable basket price counter not found in local storage"),!1):Ne(n,e,parseInt(t))},ct=new _("Beagle DataLayer Checker"),ut=function(){var e=t(a().mark((function e(t){var n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ct.log("Checking rule",JSON.stringify(t)),n=t.operator,r=t.condition,o=t.value,e.next=4,lt(n);case 4:return i=e.sent,e.abrupt("return",Ne(i,r,o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=t(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ct.log("Searching beagleInfoLayer for key ",t),e.next=3,Z(t,!0,10,1e3);case 3:if(!(n=e.sent)){e.next=7;break}return ct.success("Found key ".concat(t," with value ").concat(n)),e.abrupt("return",n);case 7:return ct.failed("Key ".concat(t," not found in beagleInfoLayer")),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=new _("Beagle Element Checker"),pt=function(e){dt.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,a=e.value,o=e.selector,i=e.selectorAll,s=e.selectorFallback,c=void 0===s?null:s,u=o;if(u&&!window.top.document.querySelector(u)&&(u=c||u),null===n)return Ne(window.top.document.querySelector(u),r,a);if(u&&!window.top.document.querySelector(u))return dt.failed("Selector not found on page"),!1;if(i&&!window.top.document.querySelectorAll(i))return dt.failed("Selector not found on page"),!1;switch(u?t=window.top.document.querySelector(u):i&&(t=Array.from(window.top.document.querySelectorAll(i))),n){case"text-number":var l;l=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(window.top.document.querySelector(u).textContent.replace("TL","").replace(".",""));var d=parseInt(l);return Ne(d,r,a);case"classList":return Ne(Array.from(t.classList),r,a);case"count":return Array.isArray(t)&&t.length>0?Ne(t.length,r,a):Ne(t?1:0,r,a);case"style":var p=getComputedStyle(t),f=a.split(":")[0].trim(),h=a.split(":")[1].trim(),g=p[f];return Ne(g,r,h);default:return dt.failed("Operator not defined"),!1}},ft=new _("Beagle Function Checker"),ht=function(e,t){ft.log("Checking rule",JSON.stringify(e));var n=t.productInfo,r=e.operator,a=e.condition,o=e.value,i=e.bindings;if(!r)return ft.failed("Rule function not defined"),!1;var s={};"productInfo"==i&&(s={productInfo:n});var c=Function(r).bind(s)();return Ne(c,a,o)},gt=new _("Beagle Session Checker"),vt=function(e){gt.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"duration":return mt(n,r);case"history":return yt(n,r);default:return null}},mt=function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(window.sessionStorage.getItem(g)))}catch(e){return gt.failed("Could not get session timestamp",e),Date.now()}}())/1e3;return Ne(n,e,parseInt(t))},yt=function(e,t){var n,r=null===(n=window.sessionStorage.getItem(v))||void 0===n?void 0:n.split(",");return Ne(r,e,t)},bt=new _("Beagle Url Checker"),wt=function(e){bt.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var a=window.top.location.href,o=new URL(a).pathname;return bt.log("Checking path ".concat(o," matches rule path ").concat(r)),Ne(o,n,r)}return null},kt=new _("Beagle Env Checker"),xt=function(e){kt.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var a=window.matchMedia(d).matches?"mobile":"desktop";return Ne(a,n,r)}return null},St=new _("Beagle RandomPct Checker"),It=function(){var e=t(a().mark((function e(t){var n,r,o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(St.log("Checking rule",JSON.stringify(t)),n=t.condition,r=t.value,o=t.salt){e.next=5;break}return St.failed("Salt is not defined"),e.abrupt("return",!1);case 5:return e.next=7,je();case 7:return i=e.sent,e.next=10,De(i+o);case 10:return s=e.sent,c=s,e.abrupt("return",Ne(c,n,r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=new _("Beagle ProductInfo Checker"),Lt=function(e,t){Tt.log("Checking rule",JSON.stringify(e));var n=e.operator,r=e.condition,a=e.value,o=null;if(null!=t&&t.skuList&&null!=t&&t.skuList.length)switch(n){case"transactionIn2Weeks":Tt.log("Getting TransactionCount for sku ",t.skuList[0]),o=At(t.skuList[0],t.productInfo);break;case"addToCartIn2Weeks":Tt.log("Getting AddToCartCount for sku ",t.skuList[0]),o=_t(t.skuList[0],t.productInfo);break;case"productViewCount":Tt.log("Getting productViewCount for sku ",t.skuList[0]),o=Dt(t.skuList[0],t.productInfo)}else o=0;return Ne(o,r,a)},At=function(e,t){var n,r;return e&&t&&t[e]?null===(n=t[e])||void 0===n||null===(r=n.catalog)||void 0===r?void 0:r.transactionIn2Weeks:-1},_t=function(e,t){var n,r;return e&&t&&t[e]?null===(n=t[e])||void 0===n||null===(r=n.catalog)||void 0===r?void 0:r.addToCartIn2Weeks:-1},Dt=function(e,t){var n,r;return e&&t&&t[e]?null===(n=t[e])||void 0===n||null===(r=n.catalog)||void 0===r?void 0:r.productViewCount:-1};function Pt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Et=new _("Beagle Rule Engine"),Ot=function(){function e(t){i(this,e);var n=t.baseRuleSet,r=t.businessRuleSet,a=t.bindings,o=t.callback,s=void 0===o?null:o;this.baseRuleSet=n,this.businessRuleSet=r,this.callback=s,this.bindings=a}var n,r,o;return c(e,[{key:"checkRules",value:(o=t(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Pt(this.baseRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return o.apply(this,arguments)})},{key:"checkBusinessRules",value:(r=t(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Pt(this.businessRuleSet),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,e.next=7,this.checkRule(r);case 7:if(!e.sent){e.next=10;break}return e.abrupt("return",r.businessRuleId);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return r.apply(this,arguments)})},{key:"checkRule",value:(n=t(a().mark((function e(t){var n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.chain,r=t.chain_condition,o=t.type,i=null,e.t0=o,e.next="session"===e.t0?5:"counter"===e.t0?7:"element"===e.t0?9:"dataLayer"===e.t0?11:"url"===e.t0?15:"function"===e.t0?17:"environment"===e.t0?19:"random"===e.t0?21:"productInfoLookup"===e.t0?25:27;break;case 5:return i=vt(t),e.abrupt("break",29);case 7:return i=at(t),e.abrupt("break",29);case 9:return i=pt(t),e.abrupt("break",29);case 11:return e.next=13,ut(t);case 13:return i=e.sent,e.abrupt("break",29);case 15:return i=wt(t),e.abrupt("break",29);case 17:return i=ht(t,this.bindings),e.abrupt("break",29);case 19:return i=xt(t),e.abrupt("break",29);case 21:return e.next=23,It(t);case 23:return i=e.sent,e.abrupt("break",29);case 25:return i=Lt(t,this.bindings),e.abrupt("break",29);case 27:return Et.failed("No such rule type: ".concat(o)),e.abrupt("return",null);case 29:if(!n){e.next=55;break}e.t1=r,e.next="and"===e.t1?33:"or"===e.t1?40:"xor"===e.t1?47:53;break;case 33:if(e.t2=i,!e.t2){e.next=38;break}return e.next=37,this.checkRule(n);case 37:e.t2=e.sent;case 38:return i=e.t2,e.abrupt("break",55);case 40:if(e.t3=i,e.t3){e.next=45;break}return e.next=44,this.checkRule(n);case 44:e.t3=e.sent;case 45:return i=e.t3,e.abrupt("break",55);case 47:return e.t4=i,e.next=50,this.checkRule(n);case 50:return e.t5=e.sent,i=e.t4!=e.t5,e.abrupt("break",55);case 53:return Et.failed("No such chain condition"),e.abrupt("break",55);case 55:return e.abrupt("return",i);case 56:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}(),Nt=new _("SegmentationComputer");function Rt(e){return jt.apply(this,arguments)}function jt(){return(jt=t(a().mark((function e(t){var n,r,o,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nt.log("Determining user segment"),n=0,r=Object.keys(t);case 2:if(!(n<r.length)){e.next=17;break}if(i=r[n],s=null===(o=t[i])||void 0===o?void 0:o.ruleSet){e.next=7;break}return e.abrupt("continue",14);case 7:return c=new Ot({baseRuleSet:s,businessRuleSet:[],bindings:null}),e.next=10,c.checkRules();case 10:if(!e.sent){e.next=14;break}return Nt.log("User segment matched: ".concat(i)),X("s",i),e.abrupt("return",i);case 14:n++,e.next=2;break;case 17:return Nt.log("User segment not matched, returning default"),e.abrupt("return","default");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qt=new _("Beagle Treatment Repository"),Qt=function(){function e(t){i(this,e);var n=t.treatments,r=t.treatmentWeights;this.treatments=n,this.treatmentWeights=r}var n,r,o;return c(e,[{key:"getMatchedTreatments",value:(o=t(a().mark((function e(){var t,n,r,o,i,s,c,u,l,d,p,f,h,g,v,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.treatmentWeights,e.next=3,Rt(t);case 3:if(n=e.sent,r=this.treatments,!t){e.next=43;break}o=n&&t[n]?t[n]:t.default,i=Bt(r),e.prev=8,i.s();case 10:if((s=i.n()).done){e.next=35;break}if((u=s.value).weight=(null===(c=o[null==u?void 0:u.id])||void 0===c?void 0:c.weight)||0,u.actions.some((function(e){return e.variants}))){e.next=15;break}return e.abrupt("continue",33);case 15:l=Bt(u.actions),e.prev=16,l.s();case 18:if((d=l.n()).done){e.next=25;break}if((p=d.value).variants){e.next=22;break}return e.abrupt("continue",23);case 22:for(f=0,h=Object.keys(p.variants);f<h.length;f++)m=h[f],null!==(g=o[u.id])&&void 0!==g&&g.variants&&null!==(v=o[u.id])&&void 0!==v&&v.variants[m]&&(p.variants[m].weight=o[u.id].variants[m]);case 23:e.next=18;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(16),l.e(e.t0);case 30:return e.prev=30,l.f(),e.finish(30);case 33:e.next=10;break;case 35:e.next=40;break;case 37:e.prev=37,e.t1=e.catch(8),i.e(e.t1);case 40:return e.prev=40,i.f(),e.finish(40);case 43:if(qt.log("".concat(r.length," treatments user group matched")),r.length){e.next=46;break}return e.abrupt("return",[]);case 46:return e.abrupt("return",r);case 47:case"end":return e.stop()}}),e,this,[[8,37,40,43],[16,27,30,33]])}))),function(){return o.apply(this,arguments)})}],[{key:"getTreatments",value:(r=t(a().mark((function e(){var t,n,r,o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qt.log("Loading treatments"),t="BG_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return qt.failed("Treatments not found in local storage"),e.next=9,Le();case 9:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return qt.failed("Treatments are expired"),e.next=19,Le();case 19:return r=e.sent,s={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(s)),e.abrupt("return",r);case 23:return qt.success("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"getTreatmentWeights",value:(n=t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),qt.warn(e.t0.message),this.treatmentWeights=null;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return n.apply(this,arguments)})}]),e}(),Gt=Qt;function Ut(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vt=new _("BeagleOnComponent"),Ht=function(){var e=t(a().mark((function e(n,r,o,i,s){var c,u,l,p,f,b,w,k,x,S,I,T,L,A,_,D,P,O,N,R,j;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=function(){return j=t(a().mark((function e(t){var r,c,u,l,d,h,g,v,m,y,b,w,k,x,S,I,A,_,D,P,C,O,N,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,c=t.actions,u=t.baseRuleSet,l=t.device,d=t.dependant_on_treatment,h=t.reapply_event,g=t.reapply_event_page_type,v=t.businessRuleSet,m=t.weight,y=t.delay,b=t.productInfoStorage,1===o||m){e.next=3;break}return e.abrupt("return");case 3:if(!o||!p||p.includes(r)){e.next=5;break}return e.abrupt("return");case 5:if("mobile"!==l||f){e.next=8;break}return Vt.failed("Treatment device 'mobile' mismatch"),e.abrupt("return");case 8:if("desktop"!==l||!f){e.next=11;break}return Vt.failed("Treatment device 'desktop' mismatch"),e.abrupt("return");case 11:if(h&&(!g||g===i)){w=h,Array.isArray(h)||(w=[h]),Vt.log("Reapply event '".concat(h,"' found for treatment: ").concat(r)),k=Ut(w);try{for(k.s();!(x=k.n()).done;)S=x.value,(I=L[S]?L[S]:[]).includes(r)?Vt.log("Treatment already added for reapply event"):L[S]=[].concat(E(I),[r])}catch(e){k.e(e)}finally{k.f()}}if(!b||"basket"!==b){e.next=16;break}return e.next=15,Z("__SKUsonLastBasketLookup",!0,5,250);case 15:s=e.sent;case 16:if(_=new Ot({baseRuleSet:u,businessRuleSet:v,bindings:A={productInfo:s}}),Vt.log("Starting base rule set check for treatment: "+r),e.t0=!u,e.t0){e.next=24;break}return e.next=23,_.checkRules();case 23:e.t0=e.sent;case 24:if(!e.t0){e.next=57;break}if(D=100===m?0:100-m||50,d&&(C=null===(P=T.find((function(e){return e.id===d})))||void 0===P?void 0:P.weight,D=100===C?0:100-C||50),Vt.log("Treatment skip ratio: "+D),O=d||r,1!==o){e.next=33;break}e.t1=100,e.next=36;break;case 33:return e.next=35,De(n+O);case 35:e.t1=e.sent;case 36:if(N=e.t1,Vt.log("TreatmentPct: "+N+" with debug mode ".concat(o?"on":"off")),R=null,!v){e.next=45;break}return Vt.log("Starting sub variant rule set check for treatment: "+r),e.next=43,_.checkBusinessRules();case 43:(R=e.sent)?Vt.log("Applying business rule transformation with id: ",R):Vt.log("Applying treatment with default values");case 45:if(!(N<D)){e.next=49;break}return Vt.log("Treatment ".concat(r," skipped due to treatment split ratio")),te(r,R,null,"skipped",d),e.abrupt("return");case 49:if(y){e.next=54;break}return e.next=52,Jt(r,n,c,R,A);case 52:e.next=55;break;case 54:setTimeout((function(){Jt(r,n,c,R,A)}),y);case 55:e.next=58;break;case 57:Vt.failed("Rule check failed for treatment: ",r);case 58:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)},R=function(e){return j.apply(this,arguments)},c=Gt.getTreatments(),u=Gt.getTreatmentWeights(),Ee(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,B=m,M=y,q=h,Q=g,G=v,U=sessionStorage.getItem(B),F=sessionStorage.getItem(M),V=sessionStorage.getItem(q),H=sessionStorage.getItem(Q),W=sessionStorage.getItem(G),U?sessionStorage.setItem(B,parseInt(U)+1):sessionStorage.setItem(B,1),null===F&&sessionStorage.setItem(M,0),V||sessionStorage.setItem(q,crypto.randomUUID()),H||sessionStorage.setItem(Q,Date.now()),W?sessionStorage.setItem(G,[window.location.pathname,W]):sessionStorage.setItem(G,[window.location.pathname]),l=window.location.search,p=null,o&&l.includes("filter=")&&(p=l.slice(l.indexOf("[")+1,l.lastIndexOf("]")).split(",").map((function(e){return parseInt(e,10)}))),setTimeout((function(){Te()}),2e3),f=window.matchMedia(d).matches,b={subtree:!0,childList:!0,attributes:!0},e.next=14,Promise.all([c,u]);case 14:return w=e.sent,k=C(w,2),x=k[0],S=k[1],Vt.success("Found treatments: ",x),I=new Gt({treatments:x,treatmentWeights:S}),e.next=22,I.getMatchedTreatments();case 22:if((T=e.sent).length){e.next=27;break}return Vt.log("No treatments matched, returning without further action"),Te(),e.abrupt("return");case 27:L={},A=Ut(T),e.prev=29,A.s();case 31:if((_=A.n()).done){e.next=43;break}return D=_.value,e.prev=33,e.next=36,R(D);case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(33),Vt.failed("Error executing rules",e.t0);case 41:e.next=31;break;case 43:e.next=48;break;case 45:e.prev=45,e.t1=e.catch(29),A.e(e.t1);case 48:return e.prev=48,A.f(),e.finish(48);case 51:return Te(),e.t2=Vt,e.next=55,Z("a");case 55:for(e.t3=e.sent,e.t2.success.call(e.t2,"Applied treatments: ",e.t3),setInterval((function(){r.updateLatestChanges()}),1e3),P=function(){var e=N[O],n=L[e],r=T.filter((function(e){return n.includes(e.id)}));switch(e){case"infinite_scroll":var o=new ResizeObserver((function(){var e,t=Ut(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;Vt.log("Retrying treatment ".concat(n.id," from infinite_scroll")),R(n)}}catch(e){t.e(e)}finally{t.f()}}));o.observe(window.top.document.documentElement);break;case"timeout":setTimeout((function(){var e,t=Ut(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;Vt.log("Retrying treatment ".concat(n.id," from timeout")),R(n)}}catch(e){t.e(e)}finally{t.f()}}),500);break;case"element_change":var i,s=Ut(r);try{var c=function(){var e,t=i.value,n=Ut(Array.isArray(t.reapply_selector)?t.reapply_selector:[t.reapply_selector]);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=window.top.document.querySelector(r);a&&new MutationObserver((function(){Vt.log("Retrying treatment ".concat(t.id," from element_change")),R(t)})).observe(a,b)}}catch(e){n.e(e)}finally{n.f()}};for(s.s();!(i=s.n()).done;)c()}catch(e){s.e(e)}finally{s.f()}break;case"on_scroll":window.onscroll=function(){var e,t=Ut(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;Vt.log("Retrying treatment ".concat(n.id," from on_scroll")),R(n)}}catch(e){t.e(e)}finally{t.f()}};break;case"query_search_change":var u=window.location.search,l=new MutationObserver((function(){if(window.location.search!==u){u=window.location.search;var e,t=Ut(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;Vt.log("Retrying treatment ".concat(n.id," from query_search_change")),R(n)}}catch(e){t.e(e)}finally{t.f()}}}));l.observe(document,b);break;case"interval":var d,p=Ut(r);try{var f=function(){var e=d.value,n=setInterval(t(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Vt.log("Retrying treatment ".concat(e.id," from interval")),t.next=3,R(e);case 3:return t.next=5,Z("a",!0);case 5:null!=(r=t.sent)&&r[e.id]&&(clearInterval(n),L.interval=L.interval.filter((function(t){return t!==e.id})));case 7:case"end":return t.stop()}}),t)}))),50)};for(p.s();!(d=p.n()).done;)f()}catch(e){p.e(e)}finally{p.f()}break;default:Vt.failed("Reapply event not found: ",e)}},O=0,N=Object.keys(L);O<N.length;O++)P();case 60:case"end":return e.stop()}var B,M,q,Q,G,U,F,V,H,W}),e,null,[[29,45,48,51],[33,38]])})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),Wt=Ht;function Jt(e,t,n,r,a){return Kt.apply(this,arguments)}function Kt(){return(Kt=t(a().mark((function e(t,n,r,o,i){var s,c,u,l,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(n,r,o);case 2:return s=e.sent,c=C(s,2),u=c[0],l=c[1],e.next=8,nt(u,i);case 8:d=e.sent,te(t,o,l,!1===d?"failed":"applied");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t(a().mark((function e(){var t,n,r,o,i,s,c,u,l,d,f,h,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,(n=new _).info("Beagle initializing"),window.dataLayer=window.dataLayer||[],e.prev=4,ae(),r=Re("employee"),t=new Ge,e.next=10,je();case 10:return o=e.sent,n.log("Found cookie identifier: ",o),X("cookieGaId",o),e.next=15,De(o);case 15:if(i=e.sent,X("onHashPct",i),-1!==i&&navigator.sendBeacon&&"function"==typeof navigator.sendBeacon){e.next=21;break}throw window.dataLayer.push({event:"GLOV",GLOV_ON:"unsupported"}),window.localStorage.setItem(S,"unsupported"),new Error("Device does not have required capabilities");case 21:if(s=window.localStorage.getItem(S),c=window.localStorage.getItem(I),u=parseInt(sessionStorage.getItem("BG_TimeoutCount"))||0,r||s||c||!(u>1)){e.next=27;break}throw window.dataLayer.push({event:"GLOV",GLOV_ON:"unsupported"}),new Error("Beagle timeout threshold reached");case 27:return e.next=29,Z("vvsIsShowroom",!0);case 29:if(!(l=e.sent)||"true"!==l){e.next=36;break}throw window.dataLayer.push({event:"GLOV",GLOV_ON:"employee"}),window.localStorage.setItem(S,"employee"),new Error("User is from VVS showroom/callcenter");case 36:if(null!=l){e.next=38;break}throw new Error("Could not determine if user is from VVS showroom/callcenter");case 38:if(window.top.document.documentElement.classList.contains("nextDay-hide")){e.next=41;break}throw sessionStorage.setItem(TIMEOUT_COUNT,u+1),new Error("Beagle script timed out");case 41:if(d=null,r?(n.info("Debug mode on: all applicable treatments will be applied"),d=!0,window.dataLayer.push({event:"GLOV",GLOV_ON:"employee"})):s?(n.warn("User is out of scope"),d=i>=p,window.dataLayer.push({event:"GLOV",GLOV_ON:s})):(X("isOn",d=i>=p),window.localStorage.setItem(I,!0),window.dataLayer.push({event:"GLOV",GLOV_ON:d.toString()})),!1!==d){e.next=45;break}throw new Error("Control group: no treatments applied");case 45:return n.log("Found cookie percentage: ",i),n.log("Split_ratio: ",p),n.log("cookiePct < SPLIT_RATIO",i<p),n.info("Control group ratio: ".concat(p,"%")),e.next=51,Z("PageType",!0);case 51:if(f=e.sent,h=null,!["Listingpage","Productpage","basket"].includes(f)){e.next=59;break}return e.next=56,Z("__SKUsonPageLookup",!0,10,500);case 56:h=e.sent,e.next=67;break;case 59:if(!["purchase"].includes(f)){e.next=67;break}return e.next=62,Z("__SKUsonPageLookup",!0,10,500);case 62:return h=e.sent,e.next=65,Z("purchase.revenue",!0,10,500);case 65:return e.next=67,Z("purchase.paymentType",!0,10,500);case 67:t.sendLogs(),Wt(o,t,r,f,h),e.next=84;break;case 71:return e.prev=71,e.t0=e.catch(4),n.warn("Beagle alternate path: ",e.t0.message),e.next=76,Z("PageType",!0);case 76:if(g=e.sent,!["purchase"].includes(g)){e.next=82;break}return e.next=80,Z("purchase.revenue",!0,10,500);case 80:return e.next=82,Z("purchase.paymentType",!0,10,500);case 82:t.sendLogs(e.t0.message,!0),Te();case 84:case"end":return e.stop()}}),e,null,[[4,71]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixFQUFNLEdBQUksS0F6R2hFLHlCQTBHV0EsRUFBdUIsd0JBQXdCLEVBQU0sR0FBSSxLQTFHcEUsUUE2R0dxZSxFQUFRcUQsU0FBUyxLQUFJbFAsU0FBUyxHQUM5QnJHLEtBOUdILHlEQUFELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5TGlrZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhIb2xlcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVSZXN0LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQmVhZ2xlRGF0YUNvbGxlY3Rpb24vc3RvcmUuY29uZmlnLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQmVhZ2xlRGF0YUNvbGxlY3Rpb24vYXBpLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQmVhZ2xlRGF0YUNvbGxlY3Rpb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9CZWFnbGVJbmZvTGF5ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlNb25pdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvc3RyaW5nVXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBwbHlBY3Rpb25zL3JlcGxhY2UtdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBwbHlBY3Rpb25zL2FjdGlvbi1jb25kaXRpb24tdXRpbC5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcHBseUFjdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9jb3VudGVyQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9lbGVtZW50Q2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2Z1bmN0aW9uQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL3Nlc3Npb25DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvdXJsQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2VudkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9yYW5kb21OdW1iZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvcHJvZHVjdEluZm9DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9CZWFnbGVJbmZvTGF5ZXIvc2VnbWVudC1jb21wdXRlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQmVhZ2xlT24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5Q2xpZW50U0RLL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIGRlZmluZShHcCwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gIGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbik7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKFxuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sLFxuICAgIFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICApO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKTtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICBkZWZpbmUoR3AsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIGluIG1vZGVybiBlbmdpbmVzXG4gIC8vIHdlIGNhbiBleHBsaWNpdGx5IGFjY2VzcyBnbG9iYWxUaGlzLiBJbiBvbGRlciBlbmdpbmVzIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGdsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgfSBlbHNlIHtcbiAgICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcblx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZTsgfTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBfdHlwZW9mKG9iaik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn0iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge3JlcGxhY2VBbGx9IGZyb20gXCIuL3N0cmluZ1V0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBDT09LSUVfTkFNRSA9IFwiX2dhXCI7XG4vLyBUT0RPIHJldmVydCB0aGUgZm9sbG93aW5nIHN0YWdpbmcgZW52IGNoZWNrIGFmdGVyIG1vdmluZyB0byBuZXcgYnJhbmNoIHN0cnVjdHVyZVxuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVFNfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L3RyZWF0bWVudHMuanNvblwiO1xuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OID0gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJzdGFnaW5nLnZpdmVuc2VcIikgPyBcImh0dHBzOi8vbmR2aXZlbnNlLmdsb3YuYWkvd2VpZ2h0c19zdGFnaW5nLmpzb25cIiA6IFwiaHR0cHM6Ly9uZHZpdmVuc2UuZ2xvdi5haS93ZWlnaHRzLmpzb25cIjtcbmV4cG9ydCBjb25zdCBTVFlMRVNIRUVUX0xPQ0FUSU9OID0gXCJodHRwczovL2hvc3QtYjk2LnBhZ2VzLmRldi9uZC1zdHlsZXMuY3NzXCI7XG5leHBvcnQgY29uc3QgTE9HX0FQSV9VUkwgPSBcImh0dHBzOi8vZXVyb3BlLXdlc3QzLW5leHRkYXktMzRlYjMuY2xvdWRmdW5jdGlvbnMubmV0L2FwaS9sb2dSZXNwb25zZVwiO1xuZXhwb3J0IGNvbnN0IExPT0tVUF9BUElfVVJMID0gXCJodHRwczovL2NhdGFsb2ctYXBpLmFkb3JhYWkuY29tXCI7XG5leHBvcnQgY29uc3QgTU9CSUxFX01FRElBX1FVRVJZID0gXCIobWF4LXdpZHRoOiA0NDBweClcIjtcbi8vIENvbnRyb2wgZ3JvdXAgcGVyY2VudGFnZVxuZXhwb3J0IGNvbnN0IFNQTElUX1JBVElPID0gNTA7XG4vLyBTa2lwcGVkIHRyZWF0bWVudCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgVFJFQVRNRU5UX1JBVElPID0gNTA7XG5leHBvcnQgY29uc3QgVFJFQVRNRU5UU19EVVJBVElPTiA9IDE7XG5leHBvcnQgY29uc3QgTUFYX1RJTUVPVVRfUEVSX1NFU1NJT04gPSAxO1xuZXhwb3J0IGNvbnN0IExJU1RfTU9ERV9CRUFHTEVfS0VZUyA9IFtcInBhZ2V0eXBlXCIsIFwiY2F0ZWdvcnlcIiwgXCJhbGx0aW1lUExQQ2F0ZWdvcnlNb2RlXCIsIFwic2Vzc2lvblBMUENhdGVnb3J5TW9kZVwiLFxuICBcImFsbHRpbWVQRFBDYXRlZ29yeU1vZGVcIiwgXCJzZXNzaW9uUERQQ2F0ZWdvcnlNb2RlXCIsIFwiYWxsdGltZUNhcnRDYXRlZ29yeU1vZGVcIiwgXCJzZXNzaW9uQ2FydENhdGVnb3J5TW9kZVwiXTtcbiAgLy8gVE9ETyBzZXQgdG8gMTIwMDAwKG1zKSBiZWZvcmUgZ28gbGl2ZVxuZXhwb3J0IGNvbnN0IElETEVfVElNRU9VVCA9IDE1MDAwO1xuXG5leHBvcnQgY29uc3QgU0VTU0lPTl9TVE9SQUdFX0tFWVMgPSB7XG4gIFNFU1NJT05fSUQ6IFwiX19iZWFnbGVfc2Vzc2lvbl9pZFwiLFxuICBTRVNTSU9OX1RJTUVTVEFNUDogXCJCR19TZXNzaW9uVGltZXN0YW1wXCIsXG4gIFNFU1NJT05fSElTVE9SWTogXCJCR19TZXNzaW9uSGlzdG9yeVwiLFxuICBUUkVBVE1FTlRTOiBcIkJHX1RyZWF0bWVudHNcIixcbiAgUEFHRV9WSUVXUzogXCJCR19QYWdlVmlld3NcIixcbiAgUE9QVVBfRElTUExBWV9GTEFHOiBcIkJHX1BvcHVwRGlzcGxheUZsYWdcIixcbiAgU0tVX0lORk9fQkFTS0VUOiBcIkJHX1Byb2R1Y3RJbmZvQmFza2V0XCIsXG4gIFRJTUVPVVRfQ09VTlQ6IFwiQkdfVGltZW91dENvdW50XCIsXG4gIFNFU1NJT05fUkVGRVJSRVI6IFwiQkdfU2Vzc2lvblJlZmVycmVyXCIsXG59O1xuZXhwb3J0IGNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZUyA9IHtcbiAgQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFOiBcIkJHX0NBQmFza2V0UHJpY2VcIixcbiAgREVCVUdfTU9ERTogXCJCR19EZWJ1Z1wiLFxuICBPVVRfT0ZfU0NPUEU6IFwiQkdfT3V0T2ZTY29wZVwiLFxuICBJU19MQUJFTF9TRU5UOiBcIkJHX0xhYmVsU2VudFwiLFxuICBVU0VSX0lEOiBcIkJHX1VzZXJJZFwiLFxuICBEQVRBX0NPTExFQ1RJT05fREFUQV9TSVpFOiBcIkJHX0NvbGxlY3Rpb25EYXRhU2l6ZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IENVU1RPTV9TVE9SQUdFX1BSRUZJWCA9IFwiQkdfU2VnX1wiO1xuIiwiaW1wb3J0IHtMT0NBTF9TVE9SQUdFX0tFWVN9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuY2xhc3MgTG9nZ2VyIHtcbiAgY29uc3RydWN0b3Iob3JpZ2luID0gXCJCZWFnbGUgQ2xpZW50IFNES1wiKSB7XG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgdGhpcy5ERUJVRyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuREVCVUdfTU9ERSk7XG4gIH1cblxuICBpbmZvKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5pbmZvKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmIChERUJVRykge1xuICAgICAgY29uc29sZS5sb2coYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgZmFpbGVkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmICghREVCVUcpIHJldHVybjtcbiAgICBsZXQgbWVzc2FnZUNvbmZpZyA9IFwiJWMlcyAgIFwiO1xuXG4gICAgYXJncy5mb3JFYWNoKChhcmd1bWVudCkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBhcmd1bWVudDtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICBtZXNzYWdlQ29uZmlnICs9IFwiJWQgICBcIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVzICAgXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVvICAgXCI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2cobWVzc2FnZUNvbmZpZywgXCJjb2xvcjogcmVkXCIsIGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgc3VjY2VzcyguLi5hcmdzKSB7XG4gICAgY29uc3Qge0RFQlVHLCBvcmlnaW59ID0gdGhpcztcbiAgICBpZiAoIURFQlVHKSByZXR1cm47XG4gICAgbGV0IG1lc3NhZ2VDb25maWcgPSBcIiVjJXMgICBcIjtcblxuICAgIGFyZ3MuZm9yRWFjaCgoYXJndW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgYXJndW1lbnQ7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgbWVzc2FnZUNvbmZpZyArPSBcIiVkICAgXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlcyAgIFwiO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG1lc3NhZ2VDb25maWcgKz0gXCIlbyAgIFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2VDb25maWcsIFwiY29sb3I6IGdyZWVuXCIsIGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgd2FybiguLi5hcmdzKSB7XG4gICAgY29uc3Qge29yaWdpbn0gPSB0aGlzO1xuICAgIGNvbnNvbGUud2FybihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGVycm9yKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5lcnJvcihgWyR7b3JpZ2lufV1gLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXI7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRoSG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRoSG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXlMaW1pdCBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVSZXN0IGZyb20gXCIuL25vbkl0ZXJhYmxlUmVzdC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG5cbiAgaWYgKF9pID09IG51bGwpIHJldHVybjtcbiAgdmFyIF9hcnIgPSBbXTtcbiAgdmFyIF9uID0gdHJ1ZTtcbiAgdmFyIF9kID0gZmFsc2U7XG5cbiAgdmFyIF9zLCBfZTtcblxuICB0cnkge1xuICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kID0gdHJ1ZTtcbiAgICBfZSA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aG91dEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVTcHJlYWQgZnJvbSBcIi4vbm9uSXRlcmFibGVTcHJlYWQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJjb25zdCBjb25maWcgPSB7XG4gIGRiTmFtZTogXCJiZWFnbGVcIixcbiAgdmVyc2lvbjogMSxcbiAgbWFpbnRlbmFuY2VPcGVyYXRpb25Db3VudDogMTAwMCwgLy8gYWZmZWN0cyB2ZXJzaW9uXG4gIHN0b3JlOiB7XG4gICAgbmFtZTogXCJkYXRhXCIsXG4gICAgaW5kZXhlczogW3tcbiAgICAgIG5hbWU6IFwiaXhfZGF0YU5hbWVcIixcbiAgICAgIGZpZWxkczogW1wiZGF0YV9uYW1lXCJdLFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiaXhfZGF0YU5hbWVfc2Vzc2lvblwiLFxuICAgICAgZmllbGRzOiBbXCJkYXRhX25hbWVcIiwgXCJzZXNzaW9uX2lkXCJdLFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiaXhfZGF0YU5hbWVfZGF0YVZhbHVlXCIsXG4gICAgICBmaWVsZHM6IFtcImRhdGFfbmFtZVwiLCBcImRhdGFfdmFsdWVcIl0sXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJpeF9kYXRhTmFtZV9kYXRhVmFsdWVfc2Vzc2lvblwiLFxuICAgICAgZmllbGRzOiBbXCJkYXRhX25hbWVcIiwgXCJkYXRhX3ZhbHVlXCIsIFwic2Vzc2lvbl9pZFwiXSxcbiAgICB9XSxcbiAgICBvcHRpb25zOiB7a2V5UGF0aDogXCJpZFwiLCBhdXRvSW5jcmVtZW50OiB0cnVlfSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsImltcG9ydCBjb25maWcgZnJvbSBcIi4vc3RvcmUuY29uZmlnXCI7XG5pbXBvcnQge0xPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5jb25zdCBfd2luZG93ID0ge1xuICBhbGx0aW1lOiBcImFsbHRpbWVcIiwgc2Vzc2lvbjogXCJzZXNzaW9uXCIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZWFnbGVEYXRhQ29sbGVjdGlvbldyYXBwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgICBjb25zdCBjaHVuayA9IE1hdGguZmxvb3IoIHRoaXMuZ2V0Q29sbGVjdGlvbkRhdGFTaXplKCkgLyBjb25maWcubWFpbnRlbmFuY2VPcGVyYXRpb25Db3VudCk7XG4gICAgdGhpcy5pZGIgPSBCZWFnbGVEYXRhQ29sbGVjdGlvbldyYXBwZXIuZ2V0SW5kZXhlZERiKCkub3Blbihjb25maWcuZGJOYW1lLCBjb25maWcudmVyc2lvbiArIGNodW5rKTtcblxuICAgIHRoaXMuaW5pdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfSkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH1cblxuICBnZXRDb2xsZWN0aW9uRGF0YVNpemUoKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5EQVRBX0NPTExFQ1RJT05fREFUQV9TSVpFKSkgfHwgMDtcbiAgfVxuXG4gIHN0YXRpYyBpc1N1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLmdldEluZGV4ZWREYigpO1xuICB9XG5cbiAgc3RhdGljIGdldEluZGV4ZWREYigpIHtcbiAgICBpZiAod2luZG93LmluZGV4ZWREQikgcmV0dXJuIHdpbmRvdy5pbmRleGVkREI7XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBpZiAoIUJlYWdsZURhdGFDb2xsZWN0aW9uV3JhcHBlci5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbmRleGVkZGIgaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaWRiLm9udXBncmFkZW5lZWRlZCA9ICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmlkYi5yZXN1bHQuZGVsZXRlT2JqZWN0U3RvcmUoY29uZmlnLnN0b3JlLm5hbWUpO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG5cbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLmlkYi5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoY29uZmlnLnN0b3JlLm5hbWUsIGNvbmZpZy5zdG9yZS5vcHRpb25zKTtcbiAgICAgICAgaWYgKGNvbmZpZy5zdG9yZS5pbmRleGVzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBpZHggb2YgY29uZmlnLnN0b3JlLmluZGV4ZXMpIHtcbiAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KGlkeC5uYW1lLCBpZHguZmllbGRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMuaWRiLm9uc3VjY2VzcyA9IChlKSA9PiB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBzYXZlQWxsKGRhdGFOYW1lLCB2YWx1ZXMgPSBbXSkge1xuICAgIGlmICghdmFsdWVzKSByZXR1cm47XG5cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgdGhpcy5zYXZlKGRhdGFOYW1lLCB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2F2ZShkYXRhTmFtZSwgZGF0YVZhbHVlKSB7XG4gICAgY29uc3Qge3N0b3JlfSA9IGF3YWl0IHRoaXMuaW5pdFRyYW5zYWN0aW9uKCk7XG4gICAgY29uc3Qgc2Vzc2lvbklkID0gdGhpcy5nZXRDdXJyZW50U2Vzc2lvbklkKCk7IC8vIGRhdGUgY3VycmVudCAtMiBzYWF0ICB5aWwtYXktZ3VuXG4gICAgY29uc3QgdGltZSA9IE1hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMDApO1xuXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcImRhdGFfbmFtZVwiOiBkYXRhTmFtZSwgXCJkYXRhX3ZhbHVlXCI6IGRhdGFWYWx1ZSwgXCJzZXNzaW9uX2lkXCI6IHNlc3Npb25JZCwgdGltZX07XG4gICAgc3RvcmUucHV0KHBheWxvYWQpO1xuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLkRBVEFfQ09MTEVDVElPTl9EQVRBX1NJWkUsIHRoaXMuZ2V0Q29sbGVjdGlvbkRhdGFTaXplKCkgKyAxKTtcbiAgfVxuXG4gIGdldENvbm5lY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgIHJlc29sdmUodGhpcy5pZGIucmVzdWx0KTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTApO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQ291bGQgbm90IHNldCByZWFkeSBjb2xsZWN0aW9uQXBpXCIpKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH0pO1xuICB9XG5cbiAgZmluZChuYW1lLCB2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmluaXRUcmFuc2FjdGlvbigpLnRoZW4oKHtzdG9yZX0pID0+IHtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBzdG9yZS5nZXQoaWQpO1xuICAgICAgICBxdWVyeS5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShxdWVyeS5yZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgfSkuY2F0Y2goKGVycikgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgaW5pdFRyYW5zYWN0aW9uKCkge1xuICAgIGF3YWl0IHRoaXMuZ2V0Q29ubmVjdGlvbigpO1xuICAgIGNvbnN0IHR4ID0gdGhpcy5pZGIucmVzdWx0LnRyYW5zYWN0aW9uKGNvbmZpZy5zdG9yZS5uYW1lLCBcInJlYWR3cml0ZVwiKTtcbiAgICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKGNvbmZpZy5zdG9yZS5uYW1lKTtcblxuICAgIHJldHVybiB7dHgsIHN0b3JlfTtcbiAgfVxuXG4gIG1pbm1heChkYXRhTmFtZSwgb3AsIHdpbmRvdyA9IF93aW5kb3cuYWxsdGltZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24oKS50aGVuKCh7c3RvcmV9KSA9PiB7XG4gICAgICAgIGxldCBzdG9yZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZ2V0Q3Vyc29yKHN0b3JlLCBkYXRhTmFtZSwgd2luZG93KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGNvbnN0IGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgICAgICBpZiAoXCJkYXRhX3ZhbHVlXCIgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHN0b3JlZCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgKG9wID09PSBcIm1pblwiICYmIHZhbHVlW1wiZGF0YV92YWx1ZVwiXSA8IHN0b3JlZCkgfHxcbiAgICAgICAgICAgICAgICAob3AgPT09IFwibWF4XCIgJiYgdmFsdWVbXCJkYXRhX3ZhbHVlXCJdID4gc3RvcmVkKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzdG9yZWQgPSB2YWx1ZVtcImRhdGFfdmFsdWVcIl07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImtleSBub3QgZm91bmQgaW4gY3Vyc29yIHZhbHVlcyBcIiArIGRhdGFOYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoc3RvcmVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIG1pbihkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWlubWF4KGRhdGFOYW1lLCBcIm1pblwiLCB3aW5kb3cpO1xuICB9XG5cbiAgbWF4KGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICByZXR1cm4gdGhpcy5taW5tYXgoZGF0YU5hbWUsIFwibWF4XCIsIHdpbmRvdyk7XG4gIH1cblxuICBncm91cEJ5KGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoe3N0b3JlfSkgPT4ge1xuICAgICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZ2V0Q3Vyc29yKHN0b3JlLCBkYXRhTmFtZSwgd2luZG93KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGNvbnN0IGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgICAgICBpZiAoXCJkYXRhX3ZhbHVlXCIgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKCFtYXAuaGFzKHZhbHVlW1wiZGF0YV92YWx1ZVwiXSkpIG1hcC5zZXQodmFsdWVbXCJkYXRhX3ZhbHVlXCJdLCAwKTtcbiAgICAgICAgICAgICAgbWFwLnNldCh2YWx1ZVtcImRhdGFfdmFsdWVcIl0sIG1hcC5nZXQodmFsdWVbXCJkYXRhX3ZhbHVlXCJdKSArIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwia2V5IG5vdCBmb3VuZCBpbiBjdXJzb3IgdmFsdWVzIFwiICsgZGF0YU5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZShtYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgbW9kZShkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ3JvdXBCeShkYXRhTmFtZSwgd2luZG93KTtcbiAgICBpZiAoZGF0YS5rZXlzKCkubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IG1heCA9IHtuYW1lOiB1bmRlZmluZWQsIHZhbHVlOiAtMX07XG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBkYXRhKSB7XG4gICAgICBpZiAobWF4LnZhbHVlIDwgdmFsdWUpIHtcbiAgICAgICAgbWF4Lm5hbWUgPSBrZXk7XG4gICAgICAgIG1heC52YWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXg7XG4gIH1cblxuICBjb3VudChkYXRhTmFtZSwgd2luZG93ID0gX3dpbmRvdy5hbGx0aW1lKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmluaXRUcmFuc2FjdGlvbigpLnRoZW4oKHtzdG9yZX0pID0+IHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5nZXRDdXJzb3Ioc3RvcmUsIGRhdGFOYW1lLCB3aW5kb3cpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoY291bnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc3VtKGRhdGFOYW1lLCB3aW5kb3cgPSBcImFsbHRpbWVcIikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5pbml0VHJhbnNhY3Rpb24oKS50aGVuKCh7c3RvcmV9KSA9PiB7XG4gICAgICAgIGxldCB0b3RhbCA9IDAuMDA7XG4gICAgICAgIHRoaXMuZ2V0Q3Vyc29yKHN0b3JlLCBkYXRhTmFtZSwgd2luZG93KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGNvbnN0IGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgICAgICBpZiAoXCJkYXRhX3ZhbHVlXCIgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgdG90YWwgKz0gcGFyc2VGbG9hdCh2YWx1ZVtcImRhdGFfdmFsdWVcIl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwia2V5IG5vdCBmb3VuZCBpbiBjdXJzb3IgdmFsdWVzIFwiICsgZGF0YU5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZSh0b3RhbC50b0ZpeGVkKDIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEN1cnNvcihzdG9yZSwgZGF0YU5hbWUsIHdpbmRvdyA9IF93aW5kb3cuYWxsdGltZSwgZGF0YVZhbHVlID0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGRhdGFWYWx1ZSkge1xuICAgICAgaWYgKHdpbmRvdyA9PT0gX3dpbmRvdy5zZXNzaW9uKSB7XG4gICAgICAgIHJldHVybiBzdG9yZS5pbmRleChcIml4X2RhdGFOYW1lX2RhdGFWYWx1ZV9zZXNzaW9uXCIpXG4gICAgICAgICAgICAub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KFtkYXRhTmFtZSwgZGF0YVZhbHVlLCB0aGlzLmdldEN1cnJlbnRTZXNzaW9uSWQoKS50b1N0cmluZygpXSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RvcmUuaW5kZXgoXCJpeF9kYXRhTmFtZV9kYXRhVmFsdWVcIilcbiAgICAgICAgICAub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KFtkYXRhTmFtZSwgZGF0YVZhbHVlXSkpO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cgPT09IF93aW5kb3cuc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIHN0b3JlLmluZGV4KFwiaXhfZGF0YU5hbWVfc2Vzc2lvblwiKVxuICAgICAgICAgIC5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkoW2RhdGFOYW1lLCB0aGlzLmdldEN1cnJlbnRTZXNzaW9uSWQoKS50b1N0cmluZygpXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBzdG9yZS5pbmRleChcIml4X2RhdGFOYW1lXCIpXG4gICAgICAgIC5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkoW2RhdGFOYW1lXSkpO1xuICB9XG5cbiAgYXN5bmMgYXZnKGRhdGFOYW1lLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IHRoaXMuc3VtKGRhdGFOYW1lLCB3aW5kb3cpO1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgdGhpcy5jb3VudChkYXRhTmFtZSwgd2luZG93KTtcblxuICAgIGlmICghdG90YWwgfHwgIWNvdW50KSByZXR1cm4gMDtcblxuICAgIHJldHVybiAodG90YWwgLyBjb3VudCkudG9GaXhlZCgyKTtcbiAgfVxuXG4gIGFzeW5jIGxhc3QoZGF0YU5hbWUsIHNpemUgPSAxLCB3aW5kb3cgPSBfd2luZG93LmFsbHRpbWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaW5pdFRyYW5zYWN0aW9uKCkudGhlbigoe3N0b3JlfSkgPT4ge1xuICAgICAgICBsZXQgY3Vyc29yID0gc3RvcmUuaW5kZXgoXCJpeF9kYXRhTmFtZVwiKS5vcGVuQ3Vyc29yKFtkYXRhTmFtZV0sIFwicHJldlwiKTtcbiAgICAgICAgaWYgKHdpbmRvdyA9PT0gX3dpbmRvdy5zZXNzaW9uKSB7XG4gICAgICAgICAgY3Vyc29yID0gc3RvcmUuaW5kZXgoXCJpeF9kYXRhTmFtZV9zZXNzaW9uXCIpXG4gICAgICAgICAgICAgIC5vcGVuQ3Vyc29yKFtkYXRhTmFtZSwgdGhpcy5nZXRDdXJyZW50U2Vzc2lvbklkKCldLCBcInByZXZcIik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgY3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAocmVzdWx0ICYmIGluZGV4IDwgc2l6ZSkge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICByZXN1bHQuY29udGludWUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0Q3VycmVudFNlc3Npb25JZCgpIHtcbiAgICBjb25zdCBkID0gbmV3IERhdGUoKTtcbiAgICBkLnNldEhvdXJzKGQuZ2V0SG91cnMoKSAtIDIpO1xuXG4gICAgcmV0dXJuIGQuZ2V0RnVsbFllYXIoKSArIFwiLVwiICtcbiAgICAgIChkLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKSArIFwiLVwiICtcbiAgICAgIGQuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpO1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBDb2xsZWN0b3JBcGkgZnJvbSBcIi4vYXBpXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGVEYXRhQ29sbGVjdGlvblwiKTtcbmNvbnN0IGNvbGxlY3RvckFwaSA9IG5ldyBDb2xsZWN0b3JBcGkoKTtcblxuLy8ga2VlcCBhIHRhYmxlIGluIGluZGV4ZGIgdGhlIGZvcm1hdCBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBkYXRhX3ZhbHVlLCBzdG9yZWRfdmFsdWVdXG5cbmV4cG9ydCBjb25zdCBxdWVyeUluQ29sbGVjdG9yID0gYXN5bmMgKGJhc2VGZWF0dXJlTmFtZSwgcXVlcnlNZXRob2QsIHdpbmRvdykgPT4ge1xuICBsb2dnZXIubG9nKFwicXVlcnlJbkNvbGxlY3RvclwiLCBiYXNlRmVhdHVyZU5hbWUsIHF1ZXJ5TWV0aG9kLCB3aW5kb3cpO1xuXG4gIC8vIHdpbmRvdyBjYW4gYmUgZWl0aGVyIHNhbWVkYXkgb3IgYWxsdGltZVxuXG4gIGlmIChxdWVyeU1ldGhvZCA9PT0gXCJtaW5cIikge1xuICAgIGNvbnN0IHF1ZXJ5UHJvbWlzZSA9IGF3YWl0IGNvbGxlY3RvckFwaS5taW4oYmFzZUZlYXR1cmVOYW1lLCB3aW5kb3cpO1xuICAgIHJldHVybiBxdWVyeVByb21pc2U7XG4gIH0gZWxzZSBpZiAocXVlcnlNZXRob2QgPT09IFwibWF4XCIpIHtcbiAgICBjb25zdCBxdWVyeVByb21pc2UgPSBhd2FpdCBjb2xsZWN0b3JBcGkubWF4KGJhc2VGZWF0dXJlTmFtZSwgd2luZG93KTtcbiAgICByZXR1cm4gcXVlcnlQcm9taXNlO1xuICB9IGVsc2UgaWYgKHF1ZXJ5TWV0aG9kID09PSBcImF2Z1wiKSB7XG4gICAgY29uc3QgcXVlcnlQcm9taXNlID0gYXdhaXQgY29sbGVjdG9yQXBpLmF2ZyhiYXNlRmVhdHVyZU5hbWUsIHdpbmRvdyk7XG4gICAgcmV0dXJuIHF1ZXJ5UHJvbWlzZTtcbiAgfSBlbHNlIGlmIChxdWVyeU1ldGhvZCA9PT0gXCJjZFwiKSB7XG4gICAgcmV0dXJuIChhd2FpdCBjb2xsZWN0b3JBcGkuZ3JvdXBCeShiYXNlRmVhdHVyZU5hbWUsIHdpbmRvdykpLnNpemU7XG4gIH0gZWxzZSBpZiAocXVlcnlNZXRob2QgPT09IFwiY3ZcIikge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjb2xsZWN0b3JBcGkuY291bnQoYmFzZUZlYXR1cmVOYW1lLCB3aW5kb3cpO1xuXG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IFssIHZhbHVlXSBvZiBkYXRhKSB7XG4gICAgICBjb3VudCArPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG5cbiAgaWYgKHF1ZXJ5TWV0aG9kID09PSBcIm1vZGVcIikge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjb2xsZWN0b3JBcGkubW9kZShiYXNlRmVhdHVyZU5hbWUsIHdpbmRvdyk7XG4gICAgaWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gZGF0YS5uYW1lO1xuICB9XG5cbiAgaWYgKHF1ZXJ5TWV0aG9kLmluZGV4T2YoXCJsYXN0XCIpID49IDApIHtcbiAgICBjb25zdCBtYXRjaCA9IHF1ZXJ5TWV0aG9kLm1hdGNoKFwibGFzdFxcXFwoKFtcXFxcZF0rKVxcXFwpXCIpO1xuICAgIGlmICghbWF0Y2ggfHwgIW1hdGNoLmxlbmd0aCA9PT0gMiB8fCBwYXJzZUludChtYXRjaFsxXSkgPCAxICkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcXVlcnlQcm9taXNlID0gYXdhaXQgY29sbGVjdG9yQXBpLmxhc3QoYmFzZUZlYXR1cmVOYW1lLCBtYXRjaFsxXSwgd2luZG93KTtcbiAgICByZXR1cm4gcXVlcnlQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAge1wiTGlzdGluZ3BhZ2VcIiA9PiAyMX1cbiAgICB7XCJIb21lcGFnZVwiID0+IDEyfVxuICAgIC0tIGV4YW1wbGUgd2lsbCBoYXZlOlxuICAgIG1vZGU6IExpc3RpbmdwYWdlXG4gICAgY2Q6IDJcbiAgICBjdjogMjErMTJcbiAgICBsYXN0KDMpIChuLCBuLTEsIG4tMilcbiAgKi9cblxuICAvLyAxMDAwbGlrIHRlbWl6bGVuZWNlayAobWFpbnRPcENvdW50IC0+IHZlcnNpb24pXG5cbiAgLy8gcXVlcnlNZXRob2QgY2FuIGJlIFwibW9kZVwiLCBcImNkXCIgKGNvdW50IGRpc3RpbnQpIGZvciBzdHJpbmcvY2F0ZWdvcmljYWwgZGF0YSB0eXBlc1xuICAvLyBxdWVyeU1ldGhvZCBjYW4gYmUgXCJjdlwiIChzdW0gb2YgY291bnQgdmFsdWVzKSwgXCJjdXJyZW50XCIsIG9yIFwicHJldlwiIGZvciBhbnkgZGF0YSB0eXBlIChzdG9yZWQgdmlhIGxhc3QpXG4gIGxvZ2dlci5mYWlsZWQoYHVua25vd24gcXVlcnlNZXRob2Q9JHtxdWVyeU1ldGhvZH0gaW4gQmVhZ2xlRGF0YUNvbGxlY3Rpb25gKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlSW5Db2xsZWN0b3IgPSBhc3luYyAoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlLCB1cGRhdGVNZXRob2QpID0+IHtcbiAgbG9nZ2VyLmxvZyhcInVwZGF0ZUluQ29sbGVjdG9yXCIsIGJhc2VGZWF0dXJlTmFtZSwgYmFzZUZlYXR1cmVWYWx1ZSwgdXBkYXRlTWV0aG9kKTtcblxuICBhd2FpdCBjb2xsZWN0b3JBcGkuc2F2ZShiYXNlRmVhdHVyZU5hbWUsIGJhc2VGZWF0dXJlVmFsdWUpO1xuXG5cbiAgLy8gdXBkYXRlTWV0aG9kIGNhbiBiZSBcIm1pblwiLCBcIm1heFwiLCBcImNudFwiLCBcInN1bVwiIGZvciBudW1lcmljIGRhdGEgdHlwZXMsIG1pbi1tYXggY29tcGFyZXMgd2l0aCBvbmx5IGV4aXN0aW5nLCBhdmcgdXBkYXRlcyBjbnQgYW5kIHN1bVxuICAvLyAtLT4gbWluOiBbc2Vzc2lvbl9pZCwgZGF0YV9uYW1lLCBcIm1pblwiLCAobGVhc3Qgb2YgZXhpc3RpbmcgYW5kIGluY29taW5nIHN0b3JlZF92YWx1ZSldXG4gIC8vIC0tPiBtYXg6IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwibWF4XCIsIChncmVhdGVzdCBvZiBleGlzdGluZyBhbmQgaW5jb21pbmcgc3RvcmVkX3ZhbHVlKV1cbiAgLy8gLS0+IHN1bTogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJzdW1cIiwgKHN1bSBvZiBleGlzdGluZyBhbmQgaW5jb21pbmcgc3RvcmVkX3ZhbHVlKV1cbiAgLy8gLS0+IGNudDogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJjbnRcIiwgKGV4aXN0aW5nICsgMSldXG4gIC8vXG4gIC8vIHVwZGF0ZU1ldGhvZCBjYW4gYmUgXCJjb3VudF92YWx1ZXNcIiBmb3Igc3RyaW5nL2NhdGVnb3JpY2FsIGRhdGEgdHlwZXMsIGtlZXAgYSBjb3VudGVyIGZvciBlYWNoIHZhbHVlXG4gIC8vIC0tPiBjb3VudF92YWx1ZXM6IFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIGRhdGFfdmFsdWUsIChleGlzdGluZyArIDEpXVxuICAvL1xuICAvLyB1cGRhdGVNZXRob2QgY2FuIGJlIFwibGFzdFwiIGZvciBhbnkgZGF0YSB0eXBlIC0tPiBrZWVwcyAyIHZhbHVlcyBmb3IgY3VycmVudCBhbmQgdGhlIHByZXZpb3VzXG4gIC8vIGRlbGV0ZTogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJwcmV2XCIsIChleGlzdGluZyB2YWx1ZSldXG4gIC8vIG1vdmU6IGV4aXN0aW5nIFtzZXNzaW9uX2lkLCBkYXRhX25hbWUsIFwiY3VycmVudFwiLCAoZXhpc3RpbmcgdmFsdWUpXSAtLT4gW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJwcmV2XCIsIChleGlzdGluZyB2YWx1ZSldXG4gIC8vIHB1dDogW3Nlc3Npb25faWQsIGRhdGFfbmFtZSwgXCJjdXJyZW50XCIsIChpbmNvbWluZyBzdG9yZWRfdmFsdWUpXVxufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmltcG9ydCB7Zm9ybWF0RGVsaXZlcnlEYXRlfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TE9PS1VQX0FQSV9VUkwsIExPQ0FMX1NUT1JBR0VfS0VZUywgU0VTU0lPTl9TVE9SQUdFX0tFWVMsIFNQTElUX1JBVElPfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge3F1ZXJ5SW5Db2xsZWN0b3IsIHVwZGF0ZUluQ29sbGVjdG9yfSBmcm9tIFwiLi4vQmVhZ2xlRGF0YUNvbGxlY3Rpb25cIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG53aW5kb3cuYmVhZ2xlSW5mb0xheWVyID0gd2luZG93LmJlYWdsZUluZm9MYXllciB8fCB7XG4gIGE6IHt9LCBlOiB7fSwgZjoge30sXG59O1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlSW5mb0xheWVyXCIpO1xuXG5leHBvcnQgY29uc3QgYWRkVG9CZWFnbGVJbmZvTGF5ZXIgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICBjb25zdCBpbmZvTGF5ZXIgPSB3aW5kb3cudG9wLmJlYWdsZUluZm9MYXllcjtcblxuICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgLy8gaWYgdmFsdWUgaXMgc3RyaW5nLCBhZGQgYXMgYSBjbGVhbiBzdHJpbmcsIGlmIG9iamVjdCBhZGQgdGhlIHNhbWVcbiAgY29uc3QgdHlwZWRWYWx1ZSA9IHR5cGVvZiAodmFsdWUpID09PSBcInN0cmluZ1wiID8gdmFsdWUudG9TdHJpbmcoKS50cmltKCkgOiB2YWx1ZTtcbiAgLy8gaWYga2V5IGNvbnRhaW5zIC4gY3JlYXRlIG5lc3RlZCBvYmplY3RcbiAgaWYgKGtleS5pbmRleE9mKFwiLlwiKSA+IC0xKSB7XG4gICAgY29uc3Qga2V5cyA9IGtleS5zcGxpdChcIi5cIik7XG4gICAgY29uc3QgbGFzdEtleSA9IGtleXMucG9wKCk7XG4gICAgbGV0IG9iaiA9IGluZm9MYXllcjtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCFvYmpba2V5XSkgb2JqW2tleV0gPSB7fTtcbiAgICAgIG9iaiA9IG9ialtrZXldO1xuICAgIH0pO1xuICAgIG9ialtsYXN0S2V5XSA9IHR5cGVkVmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgaW5mb0xheWVyW2tleV0gPSB0eXBlZFZhbHVlO1xuICB9XG4gIC8vIHByb2Nlc3MgZGVwZW5kZW50IGhpc3RvcmljYWwgZGF0YSBmb3Igc2Nhbi1mb3VuZCBlbGVtZW50c1xuICB1cGRhdGVIaXN0b3JpY2FsRGF0YVNjYW4oa2V5LCB0eXBlZFZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyID0gKGtleSwgYmxvY2tpbmcgPSBmYWxzZSwgcG9sbEludGVydmFsID0gMTAsIHRpbWVvdXQgPSAxMDAwMCkgPT4ge1xuICByZXR1cm4gZ2V0QW55RnJvbUJlYWdsZUluZm9MYXllcihba2V5XSwgYmxvY2tpbmcsIHBvbGxJbnRlcnZhbCwgdGltZW91dCk7XG59O1xuXG5jb25zdCBnZXRBbnlGcm9tQmVhZ2xlSW5mb0xheWVyID0gKGtleXMsIGJsb2NraW5nID0gZmFsc2UsIHBvbGxJbnRlcnZhbCA9IDEwLCB0aW1lb3V0ID0gMTAwMDApID0+IHtcbiAgY29uc3QgaW5mb0xheWVyID0gd2luZG93LnRvcC5iZWFnbGVJbmZvTGF5ZXI7XG4gIC8vIHJldHVybiBudWxsIGlmIGtleXMgaXMgbWlzc2luZyBvciBub3QgYW4gYXJyYXkgb3IgaGFzIG5vIGVsZW1lbnRzXG4gIGlmICgha2V5cyB8fCAhQXJyYXkuaXNBcnJheShrZXlzKSB8fCAha2V5cy5sZW5ndGgpIHJldHVybiBudWxsO1xuICBsZXQgb2J0YWluRGF0YTtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIG9idGFpbkRhdGEgPSBqc29uR2V0KGluZm9MYXllciwga2V5KTtcbiAgICBpZiAob2J0YWluRGF0YSkge1xuICAgICAgLy8gZm91bmQgZGF0YSBmb3Iga2V5XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG9idGFpbkRhdGEpO1xuICAgIH1cbiAgfVxuICBpZiAoYmxvY2tpbmcpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgb2J0YWluRGF0YSA9IGpzb25HZXQoaW5mb0xheWVyLCBrZXkpO1xuICAgICAgICAgIGlmIChvYnRhaW5EYXRhKSB7XG4gICAgICAgICAgICAvLyBmb3VuZCBkYXRhIGZvciBrZXksIGNsZWFyIGludGVydmFsIGFuZCByZXNvbHZlXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIHJlc29sdmUob2J0YWluRGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHBvbGxJbnRlcnZhbCk7XG4gICAgICAvLyBhZGQgdGltZW91dFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgfSwgdGltZW91dCk7IC8vIHdhaXQgYmxvY2tpbmcgZm9yIFwidGltZW91dFwiIG1zZWNzXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVGcm9tQmVhZ2xlSW5mb0xheWVyID0gKGtleSkgPT4ge1xuICBjb25zdCBpbmZvTGF5ZXIgPSB3aW5kb3cudG9wLmJlYWdsZUluZm9MYXllcjtcbiAgaWYgKGtleSA9PT0gbnVsbCB8fCBrZXkgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBkZWxldGUgaW5mb0xheWVyW2tleV07XG59O1xuXG5leHBvcnQgY29uc3QgYWRkVHJlYXRtZW50ID0gKGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgc3RhdHVzLCBkZXBlbmRhbnRfb25fdHJlYXRtZW50ID0gbnVsbCkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IHt9O1xuICBpZiAoYnVzaW5lc3NSdWxlSWQpIHZhbHVlLmJ1c2luZXNzUnVsZUlkID0gYnVzaW5lc3NSdWxlSWQ7XG4gIGlmICh2YXJpYW50KSB2YWx1ZS52YXJpYW50ID0gdmFyaWFudDtcblxuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgXCJhcHBsaWVkXCI6XG4gICAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmFbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwic2tpcHBlZFwiOlxuICAgICAgdmFsdWUuZGVwZW5kYW50X29uX3RyZWF0bWVudCA9IGRlcGVuZGFudF9vbl90cmVhdG1lbnQ7XG4gICAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmVbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZmFpbGVkXCI6XG4gICAgICB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLmZbaWRdID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuY29uc3QgUEFSU0VTRUFSQ0hNQVhSRVRSWSA9IDEwO1xuY29uc3QgUEFSU0VTRUFSQ0hTVEFSVERFTEFZID0gMTA7XG5sZXQgcGFyc2VTZWFyY2hQYXRoc0RlbGF5ID0gUEFSU0VTRUFSQ0hTVEFSVERFTEFZO1xubGV0IHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA9IDA7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplQmVhZ2xlSW5mb0xheWVyID0gYXN5bmMgKCkgPT4ge1xuICAvLyBhZGQgY3VycmVudCBlcG9jaCBpbnRlZ2VyIHRvIGJlYWdsZUluZm9MYXllclxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcInZpZXdfZXBvY2hcIiwgRGF0ZS5ub3coKSk7XG5cbiAgLy8gQ29sbGVjdCBjb3JlIGRhdGFcbiAgcHJlcGFyZUNvcmVEYXRhKCk7XG5cbiAgLy8gVHJpZ2dlci1zdGFydCB0aGUgcGFyc2VyIGxvb3BcbiAgcGFyc2VyQ2FsbGVyKCk7XG5cbiAgLy8gVHJpZ2dlciBwYWdlLXJlZnJlc2ggdG8gcHJvY2VzcyBoaXN0b3J5XG4gIHByb2Nlc3NUcmlnZ2VyKFwicGFnZUNoYW5nZWRcIik7XG5cbiAgLy8gQWRkIG1ldHJpY3NcbiAgYWRkTWV0cmljcygpO1xufTtcblxuY29uc3QgZmVhdHVyZUVuZ2luZWVyaW5nVXBkYXRlcyA9IHtcbiAgXCJ2aWV3X2Vwb2NoXCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcIm1pblwifSxcbiAgXSxcbiAgXCJQYWdlVHlwZVwiOiBbXG4gICAge3VwZGF0ZU1ldGhvZDogXCJjb3VudF92YWx1ZXNcIn0sXG4gIF0sXG4gIFwiY2FydC5jb3Vwb25BcHBsaWNhYmxlXCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcImxhc3RcIn0sXG4gIF0sXG4gIFwicGRwLmNhdGVnb3J5XCI6IFtcbiAgICB7dXBkYXRlTWV0aG9kOiBcImNvdW50X3ZhbHVlc1wifSxcbiAgXSxcbn07XG5cbmNvbnN0IGZlYXR1cmVFbmdpbmVlcmluZ1F1ZXJpZXMgPSB7XG4gIFwidmlld19lcG9jaFwiOiBbXG4gICAge3F1ZXJ5TWV0aG9kOiBcIm1pblwiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJoaXN0b3J5LnZpZXdfZXBvY2hfbWluXCJ9LFxuICBdLFxuICBcIlBhZ2VUeXBlXCI6IFtcbiAgICB7cXVlcnlNZXRob2Q6IFwic3VtX29mX2NvdW50c1wiLCB3aW5kb3c6IFwic2Vzc2lvblwiLCBmZWF0dXJlTmFtZTogXCJoaXN0b3J5LlBhZ2VUeXBlX2NvdW50X3Nlc3Npb25cIn0sXG4gICAge3F1ZXJ5TWV0aG9kOiBcInN1bV9vZl9jb3VudHNcIiwgd2luZG93OiBcImFsbHRpbWVcIiwgZmVhdHVyZU5hbWU6IFwiaGlzdG9yeS5QYWdlVHlwZV9jb3VudF9hbGx0aW1lXCJ9LFxuICBdLFxuICBcImNhcnQuY291cG9uQXBwbGljYWJsZVwiOiBbXG4gICAge3F1ZXJ5TWV0aG9kOiBcImxhc3RcIiwgd2luZG93OiBcInNlc3Npb25cIiwgZmVhdHVyZU5hbWU6IFwiaGlzdG9yeS5jYXJ0X2NvdXBvbkFwcGxpY2FibGVfbGFzdF9zZXNzaW9uXCJ9LFxuICBdLFxuICBcInBkcC5jYXRlZ29yeVwiOiBbXG4gICAge3F1ZXJ5TWV0aG9kOiBcIm1vZGVcIiwgd2luZG93OiBcInNlc3Npb25cIiwgZmVhdHVyZU5hbWU6IFwiaGlzdG9yeS5wZHBfY2F0ZWdvcnlfbW9kZV9zZXNzaW9uXCJ9LFxuICAgIHtxdWVyeU1ldGhvZDogXCJsYXN0XCIsIHdpbmRvdzogXCJzZXNzaW9uXCIsIGZlYXR1cmVOYW1lOiBcImhpc3RvcnkucGRwX2NhdGVnb3J5X2xhc3Rfc2Vzc2lvblwifSxcbiAgXSxcbn07XG5cbmNvbnN0IHVwZGF0ZVJlbWFpbmluZ0hpc3RvcmljYWxEYXRhID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBxdWVyaWVkRmVhdHVyZU5hbWVzID0gT2JqZWN0LmtleXMoZmVhdHVyZUVuZ2luZWVyaW5nUXVlcmllcyk7XG4gIGZvciAoY29uc3QgYmFzZUZlYXR1cmVOYW1lIG9mIHF1ZXJpZWRGZWF0dXJlTmFtZXMpIHtcbiAgICBjb25zdCBxdWVyeUVudHJpZXMgPSBmZWF0dXJlRW5naW5lZXJpbmdRdWVyaWVzW2Jhc2VGZWF0dXJlTmFtZV07XG5cbiAgICBmb3IgKGNvbnN0IHF1ZXJ5RW50cnkgb2YgcXVlcnlFbnRyaWVzKSB7XG4gICAgICBpZiAocXVlcnlFbnRyeS5pc1VwZGF0ZWQpIGNvbnRpbnVlO1xuXG4gICAgICBsb2dnZXIubG9nKFwicXVlcnlJbkNvbGxlY3RvclwiLCBiYXNlRmVhdHVyZU5hbWUsIHF1ZXJ5RW50cnkucXVlcnlNZXRob2QsIHF1ZXJ5RW50cnkud2luZG93KTtcbiAgICAgIGNvbnN0IHF1ZXJ5UmVzcG9uc2UgPSBhd2FpdCBxdWVyeUluQ29sbGVjdG9yKGJhc2VGZWF0dXJlTmFtZSwgcXVlcnlFbnRyeS5xdWVyeU1ldGhvZCwgcXVlcnlFbnRyeS53aW5kb3cpO1xuICAgICAgaWYgKHF1ZXJ5UmVzcG9uc2UpIHtcbiAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIocXVlcnlFbnRyeS5mZWF0dXJlTmFtZSwgcXVlcnlSZXNwb25zZSk7XG4gICAgICAgIHF1ZXJ5RW50cnkuaXNVcGRhdGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHVwZGF0ZUhpc3RvcmljYWxEYXRhU2NhbiA9IGFzeW5jIChiYXNlRmVhdHVyZU5hbWUsIGJhc2VGZWF0dXJlVmFsdWUpID0+IHtcbiAgLy8gcHJvY2VzcyBkZXBlbmRlbnQgaGlzdG9yaWNhbCBkYXRhIGZvciBzY2FuLWZvdW5kIGVsZW1lbnRzXG4gIGNvbnN0IEZFRGF0YSA9IGZlYXR1cmVFbmdpbmVlcmluZ1VwZGF0ZXNbYmFzZUZlYXR1cmVOYW1lXTtcbiAgaWYgKEZFRGF0YSAmJiBBcnJheS5pc0FycmF5KEZFRGF0YSkgJiYgRkVEYXRhLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGNvbnN0IEZFT3Agb2YgRkVEYXRhKSB7XG4gICAgICB1cGRhdGVIaXN0b3JpY2FsRGF0YShiYXNlRmVhdHVyZU5hbWUsIGJhc2VGZWF0dXJlVmFsdWUsIEZFT3ApO1xuICAgIH1cbiAgfVxufTtcblxuLy8gV3JhcHBlciB0byBoaXN0b3JpY2FsIGtlZXBcbmNvbnN0IHVwZGF0ZUhpc3RvcmljYWxEYXRhID0gYXN5bmMgKGJhc2VGZWF0dXJlTmFtZSwgYmFzZUZlYXR1cmVWYWx1ZSwgZmVhdHVyZUVuZ2luZWVyaW5nT3ApID0+IHtcbiAgbG9nZ2VyLmxvZyhcInVwZGF0ZUluQ29sbGVjdG9yXCIsIGJhc2VGZWF0dXJlTmFtZSwgYmFzZUZlYXR1cmVWYWx1ZSwgZmVhdHVyZUVuZ2luZWVyaW5nT3AudXBkYXRlTWV0aG9kKTtcbiAgYXdhaXQgdXBkYXRlSW5Db2xsZWN0b3IoYmFzZUZlYXR1cmVOYW1lLCBiYXNlRmVhdHVyZVZhbHVlLCBmZWF0dXJlRW5naW5lZXJpbmdPcC51cGRhdGVNZXRob2QpO1xuXG4gIGNvbnN0IHF1ZXJ5RW50cmllcyA9IGZlYXR1cmVFbmdpbmVlcmluZ1F1ZXJpZXNbYmFzZUZlYXR1cmVOYW1lXTtcblxuICBmb3IgKGNvbnN0IHF1ZXJ5RW50cnkgb2YgcXVlcnlFbnRyaWVzKSB7XG4gICAgbG9nZ2VyLmxvZyhcInF1ZXJ5SW5Db2xsZWN0b3JcIiwgYmFzZUZlYXR1cmVOYW1lLCBxdWVyeUVudHJ5LnF1ZXJ5TWV0aG9kLCBxdWVyeUVudHJ5LndpbmRvdyk7XG4gICAgY29uc3QgcXVlcnlSZXNwb25zZSA9IGF3YWl0IHF1ZXJ5SW5Db2xsZWN0b3IoYmFzZUZlYXR1cmVOYW1lLCBxdWVyeUVudHJ5LnF1ZXJ5TWV0aG9kLCBxdWVyeUVudHJ5LndpbmRvdyk7XG4gICAgaWYgKHF1ZXJ5UmVzcG9uc2UpIHtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKHF1ZXJ5RW50cnkuZmVhdHVyZU5hbWUsIHF1ZXJ5UmVzcG9uc2UpO1xuICAgICAgcXVlcnlFbnRyeS5pc1VwZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxuLy8gVE9ETzogY29udmVydCB0byBuYW1lIC0tPiBhcnJheSBvZiBzZWxlY3RvcnNcbmNvbnN0IHNlYXJjaFBhdGhzID0gW1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIEdBIERhdGEgTGF5ZXIgUXVlcmllc1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiUGFnZVR5cGVcIiwgbmFtZTogXCJQYWdlVHlwZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImlzQWRtaW5cIiwgbmFtZTogXCJ2dnNJc1Nob3dyb29tXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidXNlcklkXCIsIG5hbWU6IFwidnZzVXNlcklkXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9uYW1lXCIsIG5hbWU6IFwicGRwLm5hbWVcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwicHJvZHVjdGdyb3VwXCIsIG5hbWU6IFwicGRwLmdyb3VwXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VfY2F0ZWdvcnlcIiwgbmFtZTogXCJwZHAuY2xhc3NcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9pZHNcIiwgbmFtZTogXCJwZHAuc2t1XCIsIGZvcm1hdHRlcjogXCJ1cHBlckNhc2VUUlwiLCB0cmlnZ2VyOiBcInVwZGF0ZUFjdGl2ZVNLVUxpc3RcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiUHJvZHVjdElEXCIsIG5hbWU6IFwicGRwLnNrdVwiLCB0cmlnZ2VyOiBcInVwZGF0ZUFjdGl2ZVNLVUxpc3RcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9jYXRlZ29yeVwiLCBuYW1lOiBcInBkcC5jYXRlZ29yeVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UuZGV0YWlsLmFjdGlvbkZpZWxkLmxpc3RcIiwgbmFtZTogXCJwZHAubGlzdGFsaWFzXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLnNrdVwiLCBuYW1lOiBcInBkcC5za3VcIiwgdHJpZ2dlcjogXCJ1cGRhdGVBY3RpdmVTS1VMaXN0XCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLmNhdGVnb3J5XCIsIG5hbWU6IFwicGRwLmNhdGVnb3J5XCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLmRpc2NvdW50UmF0ZVwiLCBuYW1lOiBcInBkcC5kaXNjb3VudFJhdGVcIiwgZm9ybWF0dGVyOiBcImRlYXJyYXlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwidml2ZW5zZVByb2R1Y3RzLiouZmFzdERlbGl2ZXJ5XCIsIG5hbWU6IFwicGRwLmZhc3REZWxpdmVyeVwiLCBmb3JtYXR0ZXI6IFwiZGVhcnJheVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlUHJvZHVjdHMuKi5pc0luU2hvd3Jvb21cIiwgbmFtZTogXCJwZHAuaXNJblNob3dyb29tXCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInZpdmVuc2VQcm9kdWN0cy4qLnByaWNlXCIsIG5hbWU6IFwicGRwLnByaWNlXCIsIGZvcm1hdHRlcjogXCJkZWFycmF5XCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY29udGVudF9pZHNcIiwgbmFtZTogXCJwbHAuaWRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiY2F0ZWdvcnlfcHJvZHVjdF9jb3VudFwiLCBuYW1lOiBcInBscC5hcHByb3hpbWF0ZUNvdW50XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImNvbnRlbnRfbmFtZVwiLCBuYW1lOiBcInBscC5uYW1lXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcInByb2R1Y3Rncm91cFwiLCBuYW1lOiBcInBscC5ncm91cFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJ2aXZlbnNlX2NhdGVnb3J5XCIsIG5hbWU6IFwicGxwLmNsYXNzXCJ9LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLnByb2R1Y3RzLiouaWRcIiwgbmFtZTogXCJwdXJjaGFzZS5za3VzXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5wcm9kdWN0cy4qLnByaWNlXCIsIG5hbWU6IFwicHVyY2hhc2UucHJpY2VzXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkdBRGF0YUxheWVyXCIsIHNlbGVjdG9yOiBcImVjb21tZXJjZS5wdXJjaGFzZS5wcm9kdWN0cy4qLnF1YW50aXR5XCIsIG5hbWU6IFwicHVyY2hhc2UucXVhbnRpdGllc1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UucHJvZHVjdHMuKi5jYXRlZ29yeVwiLCBuYW1lOiBcInB1cmNoYXNlLmNhdGVnb3JpZXNcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmlkXCIsIG5hbWU6IFwicHVyY2hhc2Uub3JkZXJJZFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJHQURhdGFMYXllclwiLCBzZWxlY3RvcjogXCJlY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQucmV2ZW51ZVwiLCBuYW1lOiBcInB1cmNoYXNlLnJldmVudWVcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiR0FEYXRhTGF5ZXJcIiwgc2VsZWN0b3I6IFwiZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmRpbWVuc2lvbjE1XCIsIG5hbWU6IFwicHVyY2hhc2UucGF5bWVudFR5cGVcIn0sXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBEb2N1bWVudCBRdWVyaWVzXG4gIHtQYWdlVHlwZURlcGVuZDogXCIqXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJwYWdlX3ByZXZpZXdfd3JhcHBlcl9wcm9kdWN0aW9uXFxcIl1cIiwgbmFtZTogXCJQYWdlVHlwZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5VmFsdWVJZkhhc0lubmVyVGV4dFwiLCB2YWx1ZTogXCJIb21lcGFnZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImNhdGVnb3J5X3BhZ2Vfd3JhcHBlclxcXCJdXCIsIG5hbWU6IFwiUGFnZVR5cGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVZhbHVlSWZIYXNJbm5lclRleHRcIiwgdmFsdWU6IFwiTGlzdGluZ3BhZ2VcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCIqXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJwcm9kdWN0LW1haW4tZGV0YWlsc1xcXCJdXCIsIG5hbWU6IFwiUGFnZVR5cGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVZhbHVlSWZIYXNJbm5lclRleHRcIiwgdmFsdWU6IFwiUHJvZHVjdHBhZ2VcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCIqXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJwcm9kdWN0XFxcIl1cIiwgbmFtZTogXCJQYWdlVHlwZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5VmFsdWVJZkhhc0lubmVyVGV4dFwiLCB2YWx1ZTogXCJQcm9kdWN0cGFnZVwifSxcblxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiSG9tZXBhZ2V8UHJvZHVjdHBhZ2V8TGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcIndlbGNvbWVfdXNlcm5hbWVcXFwiXVwiLCBuYW1lOiBcInZpZXcuaXNMb2dnZWRJblwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SGFzSW5uZXJUZXh0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiSG9tZXBhZ2V8UHJvZHVjdHBhZ2V8TGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImVtcHR5X2Jhc2tldF90ZXh0XFxcIl1cIiwgbmFtZTogXCJ2aWV3LmlzRW1wdHlCYXNrZXRcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUhhc0lubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcInZpZXcuYmFza2V0VG90YWxcIiwgXCJ2aWV3LmJhc2tldENvdW50XCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkhvbWVwYWdlfFByb2R1Y3RwYWdlfExpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJiYXNrZXRfdG90YWxfcHJpY2VcXFwiXVwiLCBuYW1lOiBcInZpZXcuYmFza2V0VG90YWxcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBleGNsdXNpdmU6IFtcInZpZXcuaXNFbXB0eUJhc2tldFwiXSwgZm9ybWF0dGVyOiBcIm51bWVyaWNPbmx5XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiSG9tZXBhZ2V8UHJvZHVjdHBhZ2V8TGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltpZCo9XFxcImNhcnRfcXVhbnRpdHlcXFwiXSwgW2NsYXNzKj1cXFwiYmFza2V0X2xlbmd0aFxcXCJdXCIsIG5hbWU6IFwidmlldy5iYXNrZXRDb3VudFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1widmlldy5pc0VtcHR5QmFza2V0XCJdfSxcblxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImRlbGl2ZXJ5LWRhdGVcXFwiXVwiLCBuYW1lOiBcInBkcC5kZWxpdmVyeURhdGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJkZWxpdmVyeS1kYXRlXFxcIl1cIiwgbmFtZTogXCJwZHAuZGVsaXZlcnlEYXRlRm9ybWF0dGVkXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZm9ybWF0dGVyOiBcImZvcm1hdERlbGl2ZXJ5RGF0ZVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJwcm9kdWN0LXRpdGxlXFxcIl0sIFtjbGFzcyo9XFxcImhlYWRlci1ib3R0b21cXFwiXVwiLCBuYW1lOiBcInBkcC5uYW1lXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwidml2ZW5zZS1zaG93cm9vbXNcXFwiXSA+ICpcIiwgbmFtZTogXCJwZHAuc2hvd3Jvb21jb3VudFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5Q291bnRFbHRzXCIsIGV4Y2x1c2l2ZTogW1wicGRwLmhhc05vU2hvd3Jvb21zXCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIjdml2ZW5zZS1zaG93cm9vbS10YWIgcDpub3QoLnZpdmVuc2Utc2hvd3Jvb21zKVwiLCBuYW1lOiBcInBkcC5oYXNOb1Nob3dyb29tc1wiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SGFzSW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wicGRwLnNob3dyb29tY291bnRcIl19LFxuXG4gIHtQYWdlVHlwZURlcGVuZDogXCJMaXN0aW5ncGFnZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiY291bnQtb2YtcHJvZHVjdFxcXCJdXCIsIG5hbWU6IFwicGxwLml0ZW1Db3VudFwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGZvcm1hdHRlcjogXCJudW1lcmljT25seVwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJzdWJjYXRlZ29yaWVzLXRpdGxlXFxcIl1cIiwgbmFtZTogXCJwbHAubmFtZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5wcm9kdWN0LWNhcmRbZGF0YS1wcm9kdWN0LXNrdV1cIiwgbmFtZTogXCJwbHAuc2t1c1wiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5QXR0cmliVmFsdWVMaXN0XCIsIHZhbHVlOiBcImRhdGEtcHJvZHVjdC1za3VcIiwgdHJpZ2dlcjogXCJ1cGRhdGVBY3RpdmVTS1VMaXN0XCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5wcm9kdWN0LWxpc3RcIiwgb2JzZXJ2ZXI6IFwibGlzdGluZ0l0ZW1CbG9ja1wiLCBuYW1lOiBcIl9fbGlzdGluZ0l0ZW1CbG9ja09ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJwbHAuc2t1c1wiXSwgb3BlcmFuZDogXCJkb2NRdWVyeU9ic2VydmVcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwiZW1wdHktY2FydC1jb250YWluZXJcXFwiXVwiLCBuYW1lOiBcImNhcnQuaXNlbXB0eVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SGFzSW5uZXJUZXh0XCIsIHRyaWdnZXI6IFwidXBkYXRlQWN0aXZlU0tVTGlzdFwiLCBleGNsdXNpdmU6IFtcImNhcnQudG90YWxQcmljZVwiLCBcImNhcnQuY291cG9uQXBwbGljYWJsZVwiLCBcImNhcnQuc2t1c1wiLCBcImNhcnQucHJpY2VzXCIsIFwiY2FydC5xdWFudGl0aWVzXCIsIFwiY2FydC5jYXRlZ29yaWVzXCIsIFwiX19jaGVja291dEZvcm1PYnNlcnZlclwiXX0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIi5jYXJ0SXRlbVF1YW50aXR5XCIsIG5hbWU6IFwiY2FydC5xdWFudGl0aWVzXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlBdHRyaWJWYWx1ZUxpc3RcIiwgdmFsdWU6IFwiZGF0YS1wcmV2aW91c1wiLCB0cmlnZ2VyOiBcInVwZGF0ZUFjdGl2ZVNLVUxpc3RcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJvcmRlci1maW5hbC1udW1iZXJcXFwiXVwiLCBuYW1lOiBcImNhcnQudG90YWxQcmljZVwiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5SW5uZXJUZXh0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCJdLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJiYXNrZXRcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcImNhcnQtcHJpY2VcXFwiXSA+IHNwYW4ucHJpY2UsIHNwYW4uc3VwZXIsIHNwYW4ubmV3LXByaWNlLCBzcGFuLnNwYW4tcHJpY2VcIiwgbmFtZTogXCJjYXJ0LmNvdXBvbkFwcGxpY2FibGVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeVN1bU51bUlubmVyVGV4dFwiLCB0cmlnZ2VyOiBcInVwZGF0ZUNvdXBvbkFwcGxpY2FibGVBbW91bnRcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1pbnNpZGVcIiwgbmFtZTogXCJjYXJ0LnNrdXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiLCB2YWx1ZTogXCJkYXRhLXNrdVwiLCB0cmlnZ2VyOiBcInVwZGF0ZUFjdGl2ZVNLVUxpc3RcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIiwgXCJjYXJ0LmNvdXBvbkFwcGxpY2FibGVcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1pbnNpZGVcIiwgbmFtZTogXCJjYXJ0LmNhdGVnb3JpZXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiLCB2YWx1ZTogXCJkYXRhLWxhc3QtYnJlYWRjcnVtYlwiLCB0cmlnZ2VyOiBcInVwZGF0ZUFjdGl2ZVNLVUxpc3RcIiwgZXhjbHVzaXZlOiBbXCJjYXJ0LmlzZW1wdHlcIiwgXCJjYXJ0LmNvdXBvbkFwcGxpY2FibGVcIl19LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiYmFza2V0XCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCIuY2FydC1pbnNpZGVcIiwgbmFtZTogXCJjYXJ0LnByaWNlc1wiLCBvcGVyYW5kOiBcImRvY1F1ZXJ5QXR0cmliVmFsdWVMaXN0XCIsIHZhbHVlOiBcImRhdGEtcHJpY2VcIiwgdHJpZ2dlcjogXCJ1cGRhdGVBY3RpdmVTS1VMaXN0XCIsIGV4Y2x1c2l2ZTogW1wiY2FydC5pc2VtcHR5XCIsIFwiY2FydC5jb3Vwb25BcHBsaWNhYmxlXCJdfSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcImJhc2tldFwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiI2NoZWNrb3V0Rm9ybVwiLCBvYnNlcnZlcjogXCJjaGVja291dEZvcm1cIiwgbmFtZTogXCJfX2NoZWNrb3V0Rm9ybU9ic2VydmVyXCIsIGNoaWxkcmVuOiBbXCJjYXJ0LnRvdGFsUHJpY2VcIiwgXCJjYXJ0LmNvdXBvbkFwcGxpY2FibGVcIiwgXCJjYXJ0LnNrdXNcIiwgXCJjYXJ0LnByaWNlc1wiLCBcImNhcnQucXVhbnRpdGllc1wiLCBcImNhcnQuY2F0ZWdvcmllc1wiLCBcImNhcnQuaXNlbXB0eVwiXSwgb3BlcmFuZDogXCJkb2NRdWVyeU9ic2VydmVcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcInB1cmNoYXNlXCIsIG1ldGhvZDogXCJEb2NRdWVyeVwiLCBzZWxlY3RvcjogXCJbY2xhc3MqPVxcXCJiYXNrZXRfc3VtbWFyeV90b3RhbFxcXCJdLCBbY2xhc3MqPVxcXCJ0b3RhbF9yb3dcXFwiXVwiLCBuYW1lOiBcInB1cmNoYXNlLnJldmVudWVcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUlubmVyVGV4dFwiLCBmb3JtYXR0ZXI6IFwibnVtZXJpY09ubHlcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiW2NsYXNzKj1cXFwib3JkZXJfZm9sbG93X251bWJcXFwiXSwgW2NsYXNzKj1cXFwiY2FydC10aXRsZS1ib3R0b21cXFwiXVwiLCBuYW1lOiBcInB1cmNoYXNlLnZ2c1R4bklkXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJwdXJjaGFzZVwiLCBtZXRob2Q6IFwiRG9jUXVlcnlcIiwgc2VsZWN0b3I6IFwiLnBheW1lbnRfdHlwZV90aXRsZSwgLmNhcnQtdGl0bGUtaW5mb1wiLCBuYW1lOiBcInB1cmNoYXNlLnBheW1lbnRUeXBlXCIsIG9wZXJhbmQ6IFwiZG9jUXVlcnlJbm5lclRleHRcIiwgZm9ybWF0dGVyOiBcImxvd2VyQ2FzZVRSRmlyc3RXb3JkXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwicHVyY2hhc2VcIiwgbWV0aG9kOiBcIkRvY1F1ZXJ5XCIsIHNlbGVjdG9yOiBcIltjbGFzcyo9XFxcInByb2R1Y3Rfc2t1X2NvZGVcXFwiXVwiLCBuYW1lOiBcInB1cmNoYXNlLnNrdXNcIiwgb3BlcmFuZDogXCJkb2NRdWVyeUFycmF5SW5uZXJUZXh0XCJ9LFxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gU09SRyBFbGVtZW50c1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwic2t1XCIsIG5hbWU6IFwicGRwLnNrdVwiLCB0cmlnZ2VyOiBcInVwZGF0ZUFjdGl2ZVNLVUxpc3RcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJtcG5cIiwgbmFtZTogXCJwZHAubXBuXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiUHJvZHVjdHBhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwibmFtZVwiLCBuYW1lOiBcInBkcC5uYW1lXCIsIG9wZXJhbmQ6IFwiSlNPTkZpbHRlck90aGVyXCIsIHZhbHVlOiBcIkB0eXBlPVByb2R1Y3RcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJvZmZlcnMucHJpY2VcIiwgbmFtZTogXCJwZHAucHJpY2VcIn0sXG4gIHtQYWdlVHlwZURlcGVuZDogXCJQcm9kdWN0cGFnZVwiLCBtZXRob2Q6IFwiRG9jU29yZ1wiLCBzZWxlY3RvcjogXCJvZmZlcnMucHJpY2VWYWxpZFVudGlsXCIsIG5hbWU6IFwicGRwLnByaWNlVmFsaWRVbnRpbFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIlByb2R1Y3RwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcIml0ZW1MaXN0RWxlbWVudC4qLm5hbWVcIiwgbmFtZTogXCJ2aWV3LmJyZWFkY3J1bWJcIn0sXG5cbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcIm1haW5FbnRpdHkubmFtZVwiLCBuYW1lOiBcInBscC5uYW1lXCJ9LFxuICB7UGFnZVR5cGVEZXBlbmQ6IFwiTGlzdGluZ3BhZ2VcIiwgbWV0aG9kOiBcIkRvY1NvcmdcIiwgc2VsZWN0b3I6IFwibWFpbkVudGl0eS5udW1iZXJPZkl0ZW1zXCIsIG5hbWU6IFwicGxwLml0ZW1Db3VudFwifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIkxpc3RpbmdwYWdlXCIsIG1ldGhvZDogXCJEb2NTb3JnXCIsIHNlbGVjdG9yOiBcImJyZWFkY3J1bWIuaXRlbUxpc3RFbGVtZW50LiouaXRlbS5uYW1lXCIsIG5hbWU6IFwidmlldy5icmVhZGNydW1iXCJ9LFxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gV2luZG93IGN1c3RvbSBlbGVtZW50c1xuICB7UGFnZVR5cGVEZXBlbmQ6IFwiKlwiLCBtZXRob2Q6IFwiU2luZ2xlV1RcIiwgc2VsZWN0b3I6IFwiZmF2b3JpdGVQcm9kdWN0c1wiLCBuYW1lOiBcInZpZXcuZmF2b3JpdGVkTVBOc1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIlNpbmdsZVdUXCIsIHNlbGVjdG9yOiBcImlzQWRtaW5cIiwgbmFtZTogXCJ2dnNJc1Nob3dyb29tXCIsIGZvcm1hdHRlcjogXCJ0b1N0cmluZ1wifSxcbiAge1BhZ2VUeXBlRGVwZW5kOiBcIipcIiwgbWV0aG9kOiBcIlNpbmdsZVdUXCIsIHNlbGVjdG9yOiBcInVzZXJJZFwiLCBuYW1lOiBcInZ2c1VzZXJJZFwifSxcbl07XG5cbmNvbnN0IHByb2Nlc3NGb3JtYXR0ZXIgPSAodmFsdWUsIGZvcm1hdHRlcikgPT4ge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCAhZm9ybWF0dGVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc3dpdGNoIChmb3JtYXR0ZXIpIHtcbiAgICBjYXNlIFwidXBwZXJDYXNlVFJcIjpcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpLnRvVXBwZXJDYXNlKFwidHItVFJcIik7XG4gICAgY2FzZSBcImZvcm1hdERlbGl2ZXJ5RGF0ZVwiOlxuICAgICAgcmV0dXJuIGZvcm1hdERlbGl2ZXJ5RGF0ZSh2YWx1ZSk7XG4gICAgY2FzZSBcIm51bWVyaWNPbmx5XCI6XG4gICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICAgIGNhc2UgXCJsb3dlckNhc2VUUkZpcnN0V29yZFwiOlxuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoXCJ0ci1UUlwiKS5zcGxpdChcIiBcIilbMF07XG4gICAgY2FzZSBcImRlYXJyYXlcIjpcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBjYXNlIFwidG9TdHJpbmdcIjpcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpLnRyaW0oKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuXG5jb25zdCBzZWFyY2hPYmogPSAob2JqLCBzZWFyY2hFbGVtZW50KSA9PiB7XG4gIGxldCB2YWx1ZTtcbiAgbGV0IGxheWVyVmFsdWU7XG5cbiAgdHJ5IHtcbiAgICBzd2l0Y2ggKHNlYXJjaEVsZW1lbnQub3BlcmFuZCkge1xuICAgICAgY2FzZSBcIkpTT05GaWx0ZXJPdGhlclwiOlxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWUgPSBqc29uR2V0KG9iaiwgc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG5cbiAgICAgICAgICBjb25zdCBmaWx0ZXJQYXJhbXMgPSBzZWFyY2hFbGVtZW50LnZhbHVlLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICBpZiAoZmlsdGVyUGFyYW1zLmxlbmd0aCAhPT0gMikgYnJlYWs7XG4gICAgICAgICAgY29uc3QgZmlsdGVyTmFtZSA9IGZpbHRlclBhcmFtc1swXTtcbiAgICAgICAgICBjb25zdCBmaWx0ZXJWYWx1ZSA9IGZpbHRlclBhcmFtc1sxXTtcbiAgICAgICAgICBpZiAoIWZpbHRlck5hbWUgfHwgIWZpbHRlclZhbHVlKSBicmVhaztcblxuICAgICAgICAgIGNvbnN0IGZpbHRlck1hdGNoID0ganNvbkdldChvYmosIGZpbHRlck5hbWUpO1xuXG4gICAgICAgICAgaWYgKCFmaWx0ZXJNYXRjaCB8fCBmaWx0ZXJNYXRjaCAhPT0gZmlsdGVyVmFsdWUpIGJyZWFrO1xuXG4gICAgICAgICAgaWYgKHZhbHVlICYmIChBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmxlbmd0aCA+IDAgOiB2YWx1ZS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgbGF5ZXJWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb2NRdWVyeU9ic2VydmVcIjpcbiAgICAgICAgdmFsdWUgPSBvYmoucXVlcnlTZWxlY3RvcihzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgc2VhcmNoRWxlbWVudC5pc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAvLyB1cGRhdGUgZm91bmQgc3RhdHVzIG9mIHRoZSBlbGVtZW50cyBpbiB0aGUgY2hpbGRyZW4gbGlzdFxuICAgICAgICAgIGNvbnN0IHRvQmVVcGRhdGVkID0gW107XG4gICAgICAgICAgc2VhcmNoRWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRFbGVtZW50cyA9IHNlYXJjaFBhdGhzLmZpbHRlcigoZWxlbWVudCkgPT4gZWxlbWVudC5uYW1lID09PSBjaGlsZCk7XG4gICAgICAgICAgICAvLyBhZGQgY2hpbGRFbGVtZW50cyBpbnRvIHRvQmVVcGRhdGVkXG4gICAgICAgICAgICB0b0JlVXBkYXRlZC5wdXNoKC4uLmNoaWxkRWxlbWVudHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIHJ1biBvbmx5IGlmIHRoZSBlbGVtZW50IGhhcyBhZGRlZCBvciByZW1vdmVkIGNoaWxkcmVuXG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBmb3VuZCBzdGF0dXMgb2YgdGhlIGVsZW1lbnRzIGluIHRoZSBjaGlsZHJlbiBsaXN0XG4gICAgICAgICAgICB0b0JlVXBkYXRlZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuaXNGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0cmlnZ2VyUmVzdGFydCA9IHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA+PSBQQVJTRVNFQVJDSE1BWFJFVFJZO1xuICAgICAgICAgICAgcGFyc2VTZWFyY2hQYXRoc0RlbGF5ID0gUEFSU0VTRUFSQ0hTVEFSVERFTEFZO1xuICAgICAgICAgICAgcGFyc2VTZWFyY2hQYXRoc1JldHJ5ID0gMDtcbiAgICAgICAgICAgIGlmICh0cmlnZ2VyUmVzdGFydCkge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwic2VhcmNoT2JqOiB0cmlnZ2VyZWQgYSByZXN0YXJ0IG9mIHNlYXJjaHBhdGhzIGR1ZTogXCIrc2VhcmNoRWxlbWVudC5uYW1lKTtcbiAgICAgICAgICAgICAgcGFyc2VyQ2FsbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh2YWx1ZSwge3N1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZX0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5SW5uZXJUZXh0XCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5pbm5lclRleHQgJiYgdmFsdWUuaW5uZXJUZXh0LnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGF5ZXJWYWx1ZSA9IHZhbHVlLmlubmVyVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb2NRdWVyeUF0dHJpYlZhbHVlTGlzdFwiOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgYXR0cmliVmFsdWVMaXN0ID0gW107XG4gICAgICAgICAgdmFsdWUgPSBvYmoucXVlcnlTZWxlY3RvckFsbChzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkgYnJlYWs7XG4gICAgICAgICAgZm9yIChjb25zdCB2YWx1ZWNoaWxkIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJWYWx1ZSA9IHZhbHVlY2hpbGQuZ2V0QXR0cmlidXRlKHNlYXJjaEVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgaWYgKGF0dHJpYlZhbHVlKSB7XG4gICAgICAgICAgICAgIGF0dHJpYlZhbHVlTGlzdC5wdXNoKGF0dHJpYlZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYXR0cmliVmFsdWVMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxheWVyVmFsdWUgPSBhdHRyaWJWYWx1ZUxpc3Q7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5SGFzSW5uZXJUZXh0XCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IHNldFZhbHVlID0gdmFsdWUuaW5uZXJUZXh0LnRyaW0oKS5sZW5ndGggPiAwO1xuICAgICAgICAgIGxheWVyVmFsdWUgPSBzZXRWYWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvY1F1ZXJ5Q291bnRFbHRzXCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3JBbGwoc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGxheWVyVmFsdWUgPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlWYWx1ZUlmSGFzSW5uZXJUZXh0XCI6XG4gICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5pbm5lclRleHQgJiYgdmFsdWUuaW5uZXJUZXh0LnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGF5ZXJWYWx1ZSA9IHNlYXJjaEVsZW1lbnQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlTdW1OdW1Jbm5lclRleHRcIjpcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlID0gb2JqLnF1ZXJ5U2VsZWN0b3JBbGwoc2VhcmNoRWxlbWVudC5zZWxlY3Rvcik7XG4gICAgICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDApIGJyZWFrO1xuICAgICAgICAgIGxldCBzdW1QcmljZSA9IDA7XG4gICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRUZXh0ID0gY2hpbGQuaW5uZXJUZXh0LnRyaW0oKS5yZXBsYWNlKC9cXEQvZywgXCJcIik7XG4gICAgICAgICAgICBpZiAoY2hpbGRUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgc3VtUHJpY2UrPXBhcnNlSW50KGNoaWxkVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdW1QcmljZSA+IDApIHtcbiAgICAgICAgICAgIGxheWVyVmFsdWUgPSBzdW1QcmljZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG9jUXVlcnlBcnJheUlubmVyVGV4dFwiOlxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWUgPSBvYmoucXVlcnlTZWxlY3RvckFsbChzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkgYnJlYWs7XG4gICAgICAgICAgY29uc3QgYXJyYXlJbm5lclRleHQgPSBbXTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFRleHQgPSBjaGlsZC5pbm5lclRleHQudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGNoaWxkVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGFycmF5SW5uZXJUZXh0LnB1c2goY2hpbGRUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFycmF5SW5uZXJUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxheWVyVmFsdWUgPSBhcnJheUlubmVyVGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YWx1ZSA9IGpzb25HZXQob2JqLCBzZWFyY2hFbGVtZW50LnNlbGVjdG9yKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgKEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubGVuZ3RoID4gMCA6IHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgbGF5ZXJWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH0gLy8gc3dpdGNoXG5cbiAgICBpZiAobGF5ZXJWYWx1ZSkge1xuICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuZm9ybWF0dGVyKSB7XG4gICAgICAgIGxheWVyVmFsdWUgPSBwcm9jZXNzRm9ybWF0dGVyKGxheWVyVmFsdWUsIHNlYXJjaEVsZW1lbnQuZm9ybWF0dGVyKTtcbiAgICAgIH1cbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKHNlYXJjaEVsZW1lbnQubmFtZSwgbGF5ZXJWYWx1ZSk7XG4gICAgICBzZWFyY2hFbGVtZW50LmlzRm91bmQgPSB0cnVlO1xuXG4gICAgICBpZiAoc2VhcmNoRWxlbWVudC50cmlnZ2VyKSB7XG4gICAgICAgIHByb2Nlc3NUcmlnZ2VyKHNlYXJjaEVsZW1lbnQudHJpZ2dlcik7XG4gICAgICB9XG4gICAgICAvLyBtYXJrIGV4Y2x1c2l2ZSBlbGVtZW50cyBhcyBmb3VuZFxuICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuZXhjbHVzaXZlICYmIEFycmF5LmlzQXJyYXkoc2VhcmNoRWxlbWVudC5leGNsdXNpdmUpICYmIHNlYXJjaEVsZW1lbnQuZXhjbHVzaXZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBleGNsdXNpdmVFbGVtZW50IG9mIHNlYXJjaFBhdGhzKSB7XG4gICAgICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuZXhjbHVzaXZlLmluY2x1ZGVzKGV4Y2x1c2l2ZUVsZW1lbnQubmFtZSkpIHtcbiAgICAgICAgICAgIGV4Y2x1c2l2ZUVsZW1lbnQuaXNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzZWFyY2hFbGVtZW50LmlzRm91bmQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5lcnJvcihcInNlYXJjaE9iaiBlcnJvcjogXCIgKyBlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBwcm9jZXNzVHJpZ2dlciA9IGFzeW5jICh0cmlnZ2VyKSA9PiB7XG4gIGlmICh0cmlnZ2VyKSB7XG4gICAgc3dpdGNoICh0cmlnZ2VyKSB7XG4gICAgICBjYXNlIFwicGFnZUNoYW5nZWRcIjpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlVHlwZSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiLCB0cnVlLCA1MCwgMTAwMDApO1xuICAgICAgICAgIC8vIHByZW1hdHVyZSB0cmlnZ2VyXG4gICAgICAgICAgaWYgKGN1cnJlbnRQYWdlVHlwZSkge1xuICAgICAgICAgICAgLy8gcmVzZXQgc3RvcmVkIGJhc2tldCBwcmljZSBpZiBtaXNzaW5nIG9yIHBhZ2V0eXBlIGlzIHB1cmNoYXNlXG4gICAgICAgICAgICBjb25zdCBjYUJhc2tldFByaWNlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5DT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UpO1xuICAgICAgICAgICAgaWYgKGNhQmFza2V0UHJpY2UgPT09IG51bGwgfHwgY3VycmVudFBhZ2VUeXBlID09PSBcInB1cmNoYXNlXCIpIHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5DT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFBhZ2VUeXBlID09PSBcInB1cmNoYXNlXCIpIHtcbiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TS1VfSU5GT19CQVNLRVQsIFwie31cIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlVHlwZSAhPT0gXCJiYXNrZXRcIikge1xuICAgICAgICAgICAgICAvLyBhZGQgdG8gX19TS1Vzb25MYXN0QmFza2V0TG9va3VwIGhpc3RvcnlcbiAgICAgICAgICAgICAgY29uc3QgbGFzdEJhc2tldFByb2R1Y3RJbmZvID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNLVV9JTkZPX0JBU0tFVCkpO1xuICAgICAgICAgICAgICBpZiAobGFzdEJhc2tldFByb2R1Y3RJbmZvKSB7XG4gICAgICAgICAgICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJfX1NLVXNvbkxhc3RCYXNrZXRMb29rdXBcIiwgbGFzdEJhc2tldFByb2R1Y3RJbmZvKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcInVwZGF0ZUNvdXBvbkFwcGxpY2FibGVBbW91bnRcIjpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IGNvdXBvbkFwcGxpY2FibGVUb3RhbFByaWNlID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcImNhcnQuY291cG9uQXBwbGljYWJsZVwiLCB0cnVlLCA1MCwgNTAwKTtcblxuICAgICAgICAgIGlmICghY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UpIHtcbiAgICAgICAgICAgIC8vIFByaWNlIGVsZW1lbnRzIG5vdCBmb3VuZFxuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5DT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSA+PSAwKSB7XG4gICAgICAgICAgICAvLyBzZXQgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgdG8gbG9jYWxTdG9yYWdlXG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSwgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwidXBkYXRlQWN0aXZlU0tVTGlzdFwiOlxuICAgICAgICB7XG4gICAgICAgICAgLy8gdXBkYXRlIGFjdGl2ZSBTS1UgbGlzdFxuICAgICAgICAgIGxldCBuZXdTS1VMaXN0O1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlVHlwZSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiLCB0cnVlLCA1MCwgMTAwMCk7XG4gICAgICAgICAgLy8gTGlzdGluZyBwYWdlXG4gICAgICAgICAgaWYgKGN1cnJlbnRQYWdlVHlwZSA9PT0gXCJMaXN0aW5ncGFnZVwiKSB7XG4gICAgICAgICAgICBjb25zdCBza3VMaXN0ID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInBscC5za3VzXCIsIHRydWUsIDUwLCAxMDAwKTtcbiAgICAgICAgICAgIGlmIChza3VMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICBuZXdTS1VMaXN0ID0gc2t1TGlzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQcm9kdWN0IHBhZ2VcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlVHlwZSA9PT0gXCJQcm9kdWN0cGFnZVwiKSB7XG4gICAgICAgICAgICBjb25zdCBza3UgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwicGRwLnNrdVwiLCB0cnVlLCA1MCwgMTAwMCk7XG4gICAgICAgICAgICBpZiAoc2t1KSB7XG4gICAgICAgICAgICAgIG5ld1NLVUxpc3QgPSBbc2t1XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlVHlwZSA9PT0gXCJiYXNrZXRcIikge1xuICAgICAgICAgICAgY29uc3Qgc2t1TGlzdCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJjYXJ0LnNrdXNcIiwgdHJ1ZSwgNTAsIDEwMDApO1xuICAgICAgICAgICAgaWYgKHNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIG5ld1NLVUxpc3QgPSBza3VMaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5ld1NLVUxpc3QgPSBuZXdTS1VMaXN0LnNvcnQoKTtcbiAgICAgICAgICBjb25zdCBwcmV2U0tVTGlzdCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJfX1NLVXNvblBhZ2VcIik7XG4gICAgICAgICAgLy8gdXBkYXRlIHByZXZTS1VMaXN0IGFuZCBsb29rIGl0IHVwIGlmIGNoYW5nZWRcbiAgICAgICAgICAvLyBpZiBwcmV2U0tVTGlzdCBpcyBkaWZmZXJlbnQgZnJvbSBuZXdTS1VMaXN0XG4gICAgICAgICAgaWYgKHByZXZTS1VMaXN0ICYmIG5ld1NLVUxpc3QgJiYgcHJldlNLVUxpc3QubGVuZ3RoID09PSBuZXdTS1VMaXN0Lmxlbmd0aCAmJiBwcmV2U0tVTGlzdC5qb2luKFwifHxcIikgPT09IG5ld1NLVUxpc3Quam9pbihcInx8XCIpKSB7XG4gICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgfSBlbHNlIGlmIChuZXdTS1VMaXN0KSB7XG4gICAgICAgICAgICAvLyBsb2cgdGhlIGFycmF5IG9mIHByZXZTS1VMaXN0IGluIHN0cmluZyBmb3JtYXRcbiAgICAgICAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiX19TS1Vzb25QYWdlXCIsIG5ld1NLVUxpc3QpO1xuICAgICAgICAgICAgY29uc3QgcHJvZHVjdEluZm8gPSBhd2FpdCBwcm9kdWN0SW5mb0xvb2t1cChuZXdTS1VMaXN0KTtcbiAgICAgICAgICAgIGlmIChwcm9kdWN0SW5mbykge1xuICAgICAgICAgICAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcIl9fU0tVc29uUGFnZUxvb2t1cFwiLCBwcm9kdWN0SW5mbyk7XG4gICAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZVR5cGUgPT09IFwiYmFza2V0XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSBsYXN0IGJhc2tldCBwcm9kdWN0IGluZm8gdG8gcmVtZW1iZXIgbGF0ZXJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoaXMgdG8gaGlzdG9yeSB0cmFja2luZyBsYXRlclxuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0tVX0lORk9fQkFTS0VULCBKU09OLnN0cmluZ2lmeShwcm9kdWN0SW5mbykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBwYXJzZVNlYXJjaFBhdGhzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBkb21TdGF0dXMgPSBkb2N1bWVudC5yZWFkeVN0YXRlO1xuICAvLyBjaGVjayBpZiBkb2N1bWVudCBhbmQgZG9tIGlzIGxvYWRlZCBhbmQgcmVhZHkgZm9yIHNjcmFwcGluZ1xuICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRocyBpbml0aWFsaXplZCB3aXRoIGRvbSBzdGF0dXM6ICBcIiArIGRvbVN0YXR1cyk7XG5cbiAgY29uc3Qgd2ludG9wID0gd2luZG93LnRvcDtcbiAgY29uc3QgZGF0YUxheWVyID0gd2ludG9wLmRhdGFMYXllcjtcbiAgY29uc3Qgd2luZG9jID0gd2ludG9wLmRvY3VtZW50O1xuICBsZXQgc29yZ0FycmF5SW5uZXI7XG5cbiAgY29uc3QgZm91bmROYW1lcyA9IG5ldyBTZXQoKTtcbiAgY29uc3QgcHJldkZvdW5kTmFtZXMgPSBuZXcgU2V0KCk7XG4gIGNvbnN0IG5vdEZvdW5kTmFtZXMgPSBuZXcgU2V0KCk7XG5cbiAgLy8gUGFnZVR5cGUgY2FuIGJlIGluZmVycmVkIGZyb20gVVJMLCBpZiBmb3VuZCB1c2UgaXQgZnJvbSB0aGVyZVxuICBsZXQgY3VycmVudFBhZ2VUeXBlID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIlBhZ2VUeXBlXCIpO1xuXG4gIGlmIChjdXJyZW50UGFnZVR5cGUpIHtcbiAgICBwcmV2Rm91bmROYW1lcy5hZGQoXCJQYWdlVHlwZVwiKTtcbiAgfVxuXG4gIC8vIExvb3AgdGhyb3VnaCBzZWFyY2ggbGlzdHMgYW5kIG1hcmsgZm91bmQgbmFtZXNcbiAgZm9yIChjb25zdCBzZWFyY2hFbGVtZW50IG9mIHNlYXJjaFBhdGhzKSB7XG4gICAgaWYgKHNlYXJjaEVsZW1lbnQuaXNGb3VuZCkge1xuICAgICAgcHJldkZvdW5kTmFtZXMuYWRkKHNlYXJjaEVsZW1lbnQubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBzZWFyY2hFbGVtZW50IG9mIHNlYXJjaFBhdGhzKSB7XG4gICAgaWYgKHNlYXJjaEVsZW1lbnQuaXNGb3VuZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGZvdW5kTmFtZXMuaGFzKHNlYXJjaEVsZW1lbnQubmFtZSkgfHwgcHJldkZvdW5kTmFtZXMuaGFzKHNlYXJjaEVsZW1lbnQubmFtZSkpIHtcbiAgICAgIC8vIGhhZCBhbHJlYWR5IGZvdW5kIHRoaXMgZWxlbWVudFxuICAgICAgc2VhcmNoRWxlbWVudC5pc0ZvdW5kID0gdHJ1ZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChzZWFyY2hFbGVtZW50LlBhZ2VUeXBlRGVwZW5kICE9PSBcIipcIikge1xuICAgICAgaWYgKCFjdXJyZW50UGFnZVR5cGUpIHtcbiAgICAgICAgY3VycmVudFBhZ2VUeXBlID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIlBhZ2VUeXBlXCIpO1xuICAgICAgICBpZiAoIWN1cnJlbnRQYWdlVHlwZSkge1xuICAgICAgICAgIG5vdEZvdW5kTmFtZXMuYWRkKHNlYXJjaEVsZW1lbnQubmFtZSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHNlYXJjaEVsZW1lbnQuUGFnZVR5cGVEZXBlbmQuaW5kZXhPZihjdXJyZW50UGFnZVR5cGUpIDwgMCkge1xuICAgICAgICAvLyBza2lwIHNlYXJjaEVsZW1lbnQgYmVjYXVzZSBvZiBQYWdlVHlwZURlcGVuZFxuICAgICAgICBzZWFyY2hFbGVtZW50LmlzRm91bmQgPSB0cnVlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2VhcmNoRWxlbWVudC5tZXRob2QgPT09IFwiU2luZ2xlV1RcIikgeyAvLyBTQ0FOIFdpbmRvdyBmb3IgU2luZ2xlIEVsZW1lbnRzXG4gICAgICBzZWFyY2hBbmRTZXQod2ludG9wLCBzZWFyY2hFbGVtZW50LCBmb3VuZE5hbWVzLCBub3RGb3VuZE5hbWVzKTtcbiAgICB9IGVsc2UgaWYgKHNlYXJjaEVsZW1lbnQubWV0aG9kID09PSBcIkdBRGF0YUxheWVyXCIpIHsgLy8gU0NBTiBHQSBEQVRBIExBWUVSXG4gICAgICBmb3IgKGNvbnN0IGRhdGFMYXllckl0ZW0gb2YgZGF0YUxheWVyKSB7XG4gICAgICAgIHNlYXJjaEFuZFNldChkYXRhTGF5ZXJJdGVtLCBzZWFyY2hFbGVtZW50LCBmb3VuZE5hbWVzLCBub3RGb3VuZE5hbWVzKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNlYXJjaEVsZW1lbnQubWV0aG9kID09PSBcIkRvY1NvcmdcIikgeyAvLyBTQ0FOIFNPUkcgQVJSQVlcbiAgICAgIGlmICghc29yZ0FycmF5SW5uZXIpIHtcbiAgICAgICAgc29yZ0FycmF5SW5uZXIgPSBnZXRTT1JHQXJyYXkoKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qgc29yZ0l0ZW0gb2Ygc29yZ0FycmF5SW5uZXIpIHtcbiAgICAgICAgc2VhcmNoQW5kU2V0KHNvcmdJdGVtLCBzZWFyY2hFbGVtZW50LCBmb3VuZE5hbWVzLCBub3RGb3VuZE5hbWVzKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNlYXJjaEVsZW1lbnQubWV0aG9kID09PSBcIkRvY1F1ZXJ5XCIpIHsgLy8gU0NBTiBET0NVTUVOVFxuICAgICAgc2VhcmNoQW5kU2V0KHdpbmRvYywgc2VhcmNoRWxlbWVudCwgZm91bmROYW1lcywgbm90Rm91bmROYW1lcyk7XG4gICAgfSAvLyBET0NRVUVSWSBwYXJzZVxuICB9XG5cbiAgaWYgKG5vdEZvdW5kTmFtZXMuc2l6ZSA9PT0gMCkge1xuICAgIHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA9IFBBUlNFU0VBUkNITUFYUkVUUlk7XG4gICAgbG9nZ2VyLmxvZyhcInBhcnNlU2VhcmNoUGF0aHMgZm91bmQgYWxsIGVsZW1lbnRzIC0gc2V0dGluZyByZXRyeSB0byBtYXhcIik7XG4gIH0gZWxzZSBpZiAoZm91bmROYW1lcy5zaXplID09PSAwKSB7XG4gICAgLy8gdXBkYXRlIHJldHJ5IGNvdW50ZXIgYW5kIGRlbGF5IG9ubHkgaWYgZG9tIGlzIGFjdGl2ZVxuICAgIGlmIChkb21TdGF0dXMgPT09IFwiY29tcGxldGVcIiB8fCBkb21TdGF0dXMgPT09IFwiaW50ZXJhY3RpdmVcIikge1xuICAgICAgcGFyc2VTZWFyY2hQYXRoc0RlbGF5ICo9IDI7XG4gICAgICBwYXJzZVNlYXJjaFBhdGhzUmV0cnkgKz0gMTtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcInBhcnNlU2VhcmNoUGF0aHMgcHJvY2Vzc2VkIGJ1dCBub3QgZm91bmQgYW55LCBzZXR0aW5nIGRlbGF5IGFuZCByZXRyeSB0byBcIiArXG4gICAgICBwYXJzZVNlYXJjaFBhdGhzRGVsYXkgKyBcIiBhbmQgXCIgK1xuICAgICAgcGFyc2VTZWFyY2hQYXRoc1JldHJ5ICsgXCIgZm9yIG5vdGZvdW5kOiBbXCIgK1xuICAgICAgQXJyYXkuZnJvbShub3RGb3VuZE5hbWVzKS5qb2luKFwiIHwgXCIpICsgXCJdXCIsXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRocyBwcm9jZXNzZWQ6IG5vdGZvdW5kOiBbXCIgK1xuICAgICAgQXJyYXkuZnJvbShub3RGb3VuZE5hbWVzKS5qb2luKFwiIHwgXCIpICsgXCJdIGFuZCBmb3VuZCBcIiArXG4gICAgICBmb3VuZE5hbWVzLnNpemUsXG4gICAgKTtcbiAgfVxufTtcblxuY29uc3Qgc2VhcmNoQW5kU2V0ID0gKG9iaiwgc2VhcmNoRWxlbWVudCwgZm91bmROYW1lcywgbm90Rm91bmROYW1lcykgPT4ge1xuICBpZiAoc2VhcmNoT2JqKG9iaiwgc2VhcmNoRWxlbWVudCkpIHtcbiAgICBmb3VuZE5hbWVzLmFkZChzZWFyY2hFbGVtZW50Lm5hbWUpO1xuICB9IGVsc2Uge1xuICAgIG5vdEZvdW5kTmFtZXMuYWRkKHNlYXJjaEVsZW1lbnQubmFtZSk7XG4gIH1cbn07XG5cbi8vIHBhcnNlIHNvdXJjZVxuY29uc3QgcGFyc2VyQ2FsbGVyID0gYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGF3YWl0IHBhcnNlU2VhcmNoUGF0aHMoKTtcbiAgaWYgKHBhcnNlU2VhcmNoUGF0aHNSZXRyeSA8IFBBUlNFU0VBUkNITUFYUkVUUlkpIHtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRoczogc2NoZWR1bGVkIHRvIGJlIHJlY2FsbGVkIGluIFwiICsgcGFyc2VTZWFyY2hQYXRoc0RlbGF5ICsgXCJtc1wiKTtcbiAgICBzZXRUaW1lb3V0KHBhcnNlckNhbGxlciwgcGFyc2VTZWFyY2hQYXRoc0RlbGF5KTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIubG9nKFwicGFyc2VTZWFyY2hQYXRoczogcmVhY2hlZCBtYXggcmV0cnksIGNhbGxpbmcgcmVtYWluZGVyIGhpc3RvcmljYWwgZGF0YVwiKTtcbiAgICB1cGRhdGVSZW1haW5pbmdIaXN0b3JpY2FsRGF0YSgpO1xuICB9XG59O1xuXG4vLyBFeHRyYWN0IHZhbHVlIGZyb20ganNvbiBvYmplY3QgdXNpbmcgZ2l2ZW4gcGF0aFxuLy8gSWYgYW4gZWxlbWVudCBpcyAqLCBjb25jYXRlbmF0ZSByZWN1cnNpdmVseSBhbGwgc3ViLXBhdGggdmFsdWVzIGFzIHN0cmluZ1xuY29uc3QganNvbkdldCA9IChvYmosIHBhdGgpID0+IHtcbiAgaWYgKCFvYmopIHJldHVybiBudWxsO1xuICBpZiAoIXBhdGgpIHJldHVybiBudWxsO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcGF0aEFycmF5ID0gcGF0aC5zcGxpdChcIi5cIik7XG4gICAgbGV0IGN1cnJlbnQgPSBvYmo7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChwYXRoQXJyYXlbaV0gPT09IFwiKlwiKSB7XG4gICAgICAgIGNvbnN0IHN1YlBhdGggPSBwYXRoQXJyYXkuc2xpY2UoaSArIDEpLmpvaW4oXCIuXCIpO1xuICAgICAgICBjb25zdCBzdWJBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YktleSBpbiBjdXJyZW50KSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRbc3ViS2V5XSAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRbc3ViS2V5XSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgc3ViVmFsdWUgPSBqc29uR2V0KGN1cnJlbnRbc3ViS2V5XSwgc3ViUGF0aCk7XG4gICAgICAgICAgICBpZiAoc3ViVmFsdWUgIT09IG51bGwgJiYgc3ViVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBzdWJBcnJheS5wdXNoKHN1YlZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YkFycmF5O1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGF0aEFycmF5W2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgcHJlcGFyZUNvcmVEYXRhID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCB3aW5kb3dQdHIgPSB3aW5kb3cudG9wO1xuICBjb25zdCBuYXZQdHIgPSB3aW5kb3dQdHIubmF2aWdhdG9yO1xuXG4gIGNvbnN0IHZpZXdJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9JRCk7XG4gIC8qIEJlYWdsZSBkYXRhICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidlwiLCBcIjAuMC4yOFwiKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJuXCIsIGBiZWFnbGUtc2Vzc2lvbl9pZC0ke3Nlc3Npb25JZH1gKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJ2SWRcIiwgdmlld0lkKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJzclwiLCBTUExJVF9SQVRJTyk7XG5cbiAgY29uc3QgcGxhdGZvcm0gPSB3aW5kb3dQdHIubmF2aWdhdG9yPy51c2VyQWdlbnREYXRhPy5wbGF0Zm9ybSB8fFxuICAgIHdpbmRvd1B0ci5uYXZpZ2F0b3I/LnBsYXRmb3JtIHx8XG4gICAgd2luZG93UHRyLm5hdmlnYXRvcj8udXNlckFnZW50O1xuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLm5hdlBsYXRmb3JtXCIsIHBsYXRmb3JtKTtcblxuICAvKiB3aW5kb3cgdmlldyBhcmVhICovXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd1BSYXRpb1wiLCB3aW5kb3dQdHIuZGV2aWNlUGl4ZWxSYXRpbyk7XG5cbiAgY29uc3QgYXZhaWxXaW5kb3cgPSB3aW5kb3dQdHIuc2NyZWVuPy5hdmFpbFdpZHRoICsgXCJ4XCIgKyB3aW5kb3dQdHIuc2NyZWVuPy5hdmFpbEhlaWdodDtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2Uud2luZG93QXZhaWxcIiwgYXZhaWxXaW5kb3cpO1xuXG4gIGNvbnN0IHdpbmRvd0RlcHRoID0gd2luZG93UHRyLnNjcmVlbj8uY29sb3JEZXB0aCArIFwiLVwiICsgd2luZG93UHRyLnNjcmVlbj8ucGl4ZWxEZXB0aDtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2Uud2luZG93RGVwdGhcIiwgd2luZG93RGVwdGgpO1xuXG4gIGNvbnN0IHZwb3J0U2hhcGUgPSB3aW5kb3dQdHIudmlzdWFsVmlld3BvcnQ/LndpZHRoICsgXCJ4XCIgKyB3aW5kb3dQdHIudmlzdWFsVmlld3BvcnQ/LmhlaWdodDtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2Uud2luZG93VnBvcnRcIiwgdnBvcnRTaGFwZSk7XG5cbiAgaWYgKHNjcmVlbi53aWR0aCkge1xuICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KHNjcmVlbi53aWR0aCk7XG4gICAgbGV0IGhlaWdodCA9IChzY3JlZW4uaGVpZ2h0KSA/IHBhcnNlSW50KHNjcmVlbi5oZWlnaHQpIDogMDtcbiAgICBpZiAod2lkdGggIT09IDAgJiYgaGVpZ2h0ICE9PSAwKSB7XG4gICAgICBjb25zdCBpT1MgPSAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChwbGF0Zm9ybSk7XG4gICAgICBpZiAoaU9TICYmIHdpbmRvd1B0ci5kZXZpY2VQaXhlbFJhdGlvKSB7XG4gICAgICAgIC8vIGlvcyBwcm92aWRlcyBEUElzLCBuZWVkIHRvIG11bHRpcGx5XG4gICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAqIHdpbmRvd1B0ci5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQgKiB3aW5kb3dQdHIuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoTWF0aC5hYnMod2luZG93UHRyLm9yaWVudGF0aW9uKSA9PT0gOTApIHtcbiAgICAgICAgICAvLyB3ZSBoYXZlIGxhbmRzY2FwZSBvcmllbnRhdGlvblxuICAgICAgICAgIC8vIHN3aXRjaCB2YWx1ZXMgZm9yIGFsbCBleGNlcHQgaW9zXG4gICAgICAgICAgY29uc3QgdGVtcCA9IHdpZHRoO1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0O1xuICAgICAgICAgIGhlaWdodCA9IHRlbXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLndpbmRvd1wiLCB3aWR0aCArIFwieFwiICsgaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKiBuYXZpZ2F0b3IgKi9cbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2SGlzdFNpemVcIiwgd2luZG93UHRyLmhpc3Rvcnk/Lmxlbmd0aCk7XG5cbiAgLy8gY2hlY2sgaWYgdXNlckFnZW50RGF0YSBpcyBzdXBwb3J0ZWQgYW5kIHVzZXJBZ2VudCBpcyBub3QgYXZhaWxhYmxlLCB1c2UgaXRcbiAgaWYgKCFuYXZQdHIudXNlckFnZW50KSB7XG4gICAgaWYgKG5hdlB0ci51c2VyQWdlbnREYXRhKSB7XG4gICAgICAvLyB0dXJuIGJyYW5kcyBhcnJheSBpbnRvIHN0cmluZ1xuICAgICAgbGV0IG5hdkFnZW50ID0gbmF2UHRyPy51c2VyQWdlbnREYXRhPy5icmFuZHM/Lm1hcChmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBlLmJyYW5kICsgXCI6XCIgKyBlLnZlcnNpb247XG4gICAgICB9KS5qb2luKCk7XG4gICAgICAvLyBhZGQgbW9iaWxlIGluZm9cbiAgICAgIG5hdkFnZW50ICs9IChuYXZQdHI/LnVzZXJBZ2VudERhdGE/Lm1vYmlsZSA/IFwibW9iaVwiIDogXCIgXCIpO1xuICAgICAgLy8gYWRkIHBsYXRmb3JtIGluZm9cbiAgICAgIG5hdkFnZW50ICs9IHBsYXRmb3JtO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2QWdlbnRcIiwgbmF2QWdlbnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZBZ2VudFwiLCBuYXZQdHIudXNlckFnZW50KTtcbiAgfVxuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGV2aWNlLm5hdkhXQ29yZXNcIiwgbmF2UHRyLmhhcmR3YXJlQ29uY3VycmVuY3kpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5uYXZMYW5ndWFnZVwiLCBuYXZQdHIubGFuZ3VhZ2UgfHxcbiAgICAgIG5hdlB0ci5icm93c2VyTGFuZ3VhZ2UgfHxcbiAgICAgIG5hdlB0ci5zeXN0ZW1MYW5ndWFnZSB8fFxuICAgICAgbmF2UHRyLnVzZXJMYW5ndWFnZSxcbiAgKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2VG91Y2hcIiwgbmF2UHRyLm1heFRvdWNoUG9pbnRzKTtcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkZXZpY2UubmF2VmVuZG9yXCIsIG5hdlB0ci52ZW5kb3IpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRldmljZS5pbnRlcm5ldFNwZWVkXCIsIHdpbmRvd1B0ci5uYXZpZ2F0b3I/LmNvbm5lY3Rpb24/LmRvd25saW5rKTtcblxuICAvKiBtaXNjZWxsYW5lb3VzICovXG4gIGNvbnN0IGN1cnJlbnRVUkwgPSBuZXcgVVJMKHdpbmRvdy50b3AubG9jYXRpb24uaHJlZik7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwidVwiLCBjdXJyZW50VVJMLmhyZWYpO1xuICBhZGRUb0JlYWdsZUluZm9MYXllcihcImRcIiwgY3VycmVudFVSTC5ob3N0bmFtZSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZG9udHRyYWNrXCIsIG5hdlB0ci5kb05vdFRyYWNrIHx8IHdpbmRvd1B0ci5kb05vdFRyYWNrIHx8IG5hdlB0ci5tc0RvTm90VHJhY2spO1xuXG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiclwiLCB3aW5kb3dQdHIuZG9jdW1lbnQucmVmZXJyZXIpO1xuICBjb25zdCBmaXJzdFNlc3Npb25SZWZlcnJlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9TVE9SQUdFX0tFWVMuU0VTU0lPTl9SRUZFUlJFUik7XG4gIGlmICghZmlyc3RTZXNzaW9uUmVmZXJyZXIpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fUkVGRVJSRVIsIHdpbmRvd1B0ci5kb2N1bWVudC5yZWZlcnJlcik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJmclwiLCB3aW5kb3dQdHIuZG9jdW1lbnQucmVmZXJyZXIpO1xuICB9IGVsc2Uge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZnJcIiwgZmlyc3RTZXNzaW9uUmVmZXJyZXIpO1xuICB9XG5cbiAgLyogVml2ZW5zZSBzcGVjaWZpYyAqL1xuICBsZXQgcGFnZVR5cGU7XG4gIC8vIGlmIHVybCBsaWtlIHggdGhlbiBzZXQgUGFnZVR5cGUgPSB5XG4gIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJmYXZvcmlsZXJpbS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwiZmF2b3JpdGVzXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwic2lwYXJpcy1saXN0ZXNpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJiYXNrZXRcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJzaXBhcmlzLW96ZXRpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJwdXJjaGFzZVwiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcIm9kZW1lLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJwYXltZW50XCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwiYWRyZXMtbGlzdGVzaS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwiYWRkcmVzc1wiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInNpcGFyaXNsZXJpbS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwicGFzdG9yZGVyc1wiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcInV5ZS1rYXlpdC5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwicmVnaXN0ZXJcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJ1eWUtZ2lyaXNpLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJzaWduaW5cIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJrdXBvbmxhcmltLmh0bWxcIikgPiAtMSkge1xuICAgIHBhZ2VUeXBlID0gXCJwcm9maWxlX2NvdXBvbnNcIjtcbiAgfSBlbHNlIGlmIChjdXJyZW50VVJMLnBhdGhuYW1lLmluZGV4T2YoXCJwcm9maWwtZ3VuY2VsbGUuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInByb2ZpbGVfaW5mb1wiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcImFkcmVzbGVyaW0uaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInByb2ZpbGVfYWRkcmVzc2VzXCI7XG4gIH0gZWxzZSBpZiAoY3VycmVudFVSTC5wYXRobmFtZS5pbmRleE9mKFwiZHV5dXJ1LXRlcmNpaGxlcmkuaHRtbFwiKSA+IC0xKSB7XG4gICAgcGFnZVR5cGUgPSBcInByb2ZpbGVfbm90aWZpY2F0aW9uc1wiO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRVUkwucGF0aG5hbWUuaW5kZXhPZihcImluZGlyaW1saS1tb2JpbHlhLWthbXBhbnlhbGFyaS5odG1sXCIpID4gLTEpIHtcbiAgICBwYWdlVHlwZSA9IFwic3BlY2lhbF9jYW1wYWlnbnNcIjtcbiAgfVxuXG4gIGlmIChwYWdlVHlwZSkge1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiUGFnZVR5cGVcIiwgcGFnZVR5cGUpO1xuICB9XG59O1xuXG5jb25zdCBhZGRNZXRyaWNzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHdpbmRvd1B0ciA9IHdpbmRvdy50b3A7XG4gIGNvbnN0IHBlcmZNZXRyaWNzID0ge307XG4gIGNvbnN0IHBlcmZOYXZpZ2F0aW9uTWV0cmljcyA9IHdpbmRvd1B0ci5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibmF2aWdhdGlvblwiKVswXTtcbiAgaWYgKHdpbmRvd1B0ci5wZXJmb3JtYW5jZSAmJiBwZXJmTmF2aWdhdGlvbk1ldHJpY3MpIHtcbiAgICBwZXJmTWV0cmljcy5jb25uZWN0ID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MuY29ubmVjdEVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5jb25uZWN0U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLnJlcXVlc3QgPSBNYXRoLnJvdW5kKHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXNwb25zZUVuZCAtIHBlcmZOYXZpZ2F0aW9uTWV0cmljcy5yZXF1ZXN0U3RhcnQpO1xuICAgIHBlcmZNZXRyaWNzLmRvbSA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUNvbXBsZXRlIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmRvbUludGVyYWN0aXZlKTtcbiAgICBwZXJmTWV0cmljcy5sb2FkID0gTWF0aC5yb3VuZChwZXJmTmF2aWdhdGlvbk1ldHJpY3MubG9hZEV2ZW50RW5kIC0gcGVyZk5hdmlnYXRpb25NZXRyaWNzLmxvYWRFdmVudFN0YXJ0KTtcbiAgICBwZXJmTWV0cmljcy5kdXJhdGlvbiA9IE1hdGgucm91bmQocGVyZk5hdmlnYXRpb25NZXRyaWNzLmR1cmF0aW9uKTtcbiAgfVxuICBhZGRUb0JlYWdsZUluZm9MYXllcihcIm1ldHJpY3NcIiwgcGVyZk1ldHJpY3MpO1xufTtcblxuLy8gVE9ETzogbW92ZSB0aGlzIHRvIGFuIFwiZWxlbWVudCBjb2xsZWN0b3JcIiBtb2R1bGUsIHRoZW4gZGF0YSBpcyBleHRyYWN0ZWQgZnJvbSBwcmUtY29sbGVjdGVkIGVsZW1lbnRzXG5jb25zdCBnZXRTT1JHQXJyYXkgPSAoKSA9PiB7XG4gIGNvbnN0IHNjaGVtYU9yZ0VsdHMgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbdHlwZT1cXFwiYXBwbGljYXRpb24vbGQranNvblxcXCJdXCIpO1xuICBjb25zdCBzb3JnQXJyYXkgPSBbXTtcblxuICBmb3IgKGNvbnN0IHNUYWcgb2Ygc2NoZW1hT3JnRWx0cykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjbnRudCA9IHNUYWcudGV4dENvbnRlbnQ7XG4gICAgICBjb25zdCBqc29uY29udGVudCA9IEpTT04ucGFyc2UoY250bnQpO1xuICAgICAgc29yZ0FycmF5LnB1c2goanNvbmNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgfVxuICByZXR1cm4gc29yZ0FycmF5O1xufTtcblxubGV0IHByb2R1Y3RJbmZvTG9va3VwSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgcHJvZHVjdEluZm9Mb29rdXAgPSBhc3luYyAoc2t1bGlzdCkgPT4ge1xuICBpZiAoIXNrdWxpc3QgfHwgc2t1bGlzdC5sZW5ndGggPT09IDApIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwicHJvZHVjdEluZm9Mb29rdXA6IE5vIHNrdSBmb3VuZFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChwcm9kdWN0SW5mb0xvb2t1cEluUHJvZ3Jlc3MpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwicHJvZHVjdEluZm9Mb29rdXA6IEFscmVhZHkgaW4gcHJvZ3Jlc3NcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsb2dnZXIubG9nKFwicHJvZHVjdEluZm9Mb29rdXA6IFN0YXJ0aW5nIHByb2R1Y3QgaW5mbyBsb29rdXA6IFwiK3NrdWxpc3QpO1xuXG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBoZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG5cbiAgcHJvZHVjdEluZm9Mb29rdXBJblByb2dyZXNzID0gdHJ1ZTtcbiAgbGV0IHByb2R1Y3RJbmZvID0gbnVsbDtcbiAgdHJ5IHtcbiAgICBwcm9kdWN0SW5mbyA9IGF3YWl0IGZldGNoKExPT0tVUF9BUElfVVJMLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2t1bGlzdCksXG4gICAgICBoZWFkZXJzLFxuICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgfSk7XG4gICAgaWYgKHByb2R1Y3RJbmZvLm9rKSB7XG4gICAgICBwcm9kdWN0SW5mbyA9IGF3YWl0IHByb2R1Y3RJbmZvLmpzb24oKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIud2FybihcInByb2R1Y3RJbmZvTG9va3VwOiBmZXRjaCAmIHBhcnNlIGZhaWxlZFwiKTtcbiAgfVxuXG4gIHByb2R1Y3RJbmZvTG9va3VwSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICByZXR1cm4gcHJvZHVjdEluZm87XG59O1xuXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQge2FkZFRvQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCB7XG4gIENPT0tJRV9OQU1FLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIFNFU1NJT05fU1RPUkFHRV9LRVlTLFxuICBTVFlMRVNIRUVUX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRTX0xPQ0FUSU9OLFxuICBUUkVBVE1FTlRfV0VJR0hUU19MT0NBVElPTixcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlIFV0aWxzXCIpO1xuY29uc3QgbW9udGhzID0ge1xuICBcIm9jYWtcIjogMCxcbiAgXCLFn3ViYXRcIjogMSxcbiAgXCJtYXJ0XCI6IDIsXG4gIFwibmlzYW5cIjogMyxcbiAgXCJtYXnEsXNcIjogNCxcbiAgXCJoYXppcmFuXCI6IDUsXG4gIFwidGVtbXV6XCI6IDYsXG4gIFwiYcSfdXN0b3NcIjogNyxcbiAgXCJleWzDvGxcIjogOCxcbiAgXCJla2ltXCI6IDksXG4gIFwia2FzxLFtXCI6IDEwLFxuICBcImFyYWzEsWtcIjogMTEsXG59O1xuY29uc3QgcmFuZG9tVVVJREZhbGxiYWNrID0gKCkgPT4ge1xuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyMy8yODAwMjE4XG4gIC8vIExJQ0VOU0U6IGh0dHBzOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS80LjAvbGVnYWxjb2RlXG4gIGNyeXB0by5yYW5kb21VVUlEID0gZnVuY3Rpb24gcmFuZG9tVVVJRCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgWzFlN10gKyAtMWUzICsgLTRlMyArIC04ZTMgKyAtMWUxMSkucmVwbGFjZSgvWzAxOF0vZyxcbiAgICAgICAgKGMpID0+IChjIF4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiBjIC8gNCkudG9TdHJpbmcoMTYpLFxuICAgICk7XG4gIH07XG59O1xuXG5pZiAoIShcInJhbmRvbVVVSURcIiBpbiBjcnlwdG8pKSB7XG4gIHJhbmRvbVVVSURGYWxsYmFjaygpO1xufVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlRG9jdW1lbnRIaWRlID0gKCkgPT4ge1xuICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibmV4dERheS1oaWRlXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoVHJlYXRtZW50cyA9IGFzeW5jICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkZldGNoaW5nIHRyZWF0bWVudHNcIik7XG4gIGNvbnN0IHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaChUUkVBVE1FTlRTX0xPQ0FUSU9OKTtcbiAgY29uc3QganNvblRyZWF0bWVudCA9IGF3YWl0IHRyZWF0bWVudHMuanNvbigpO1xuICByZXR1cm4ganNvblRyZWF0bWVudDtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRyZWF0bWVudFdlaWdodHMgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJGZXRjaGluZyB0cmVhdG1lbnQgd2VpZ2h0c1wiKTtcbiAgY29uc3QgdHJlYXRtZW50V2VpZ2h0cyA9IGF3YWl0IGZldGNoKFRSRUFUTUVOVF9XRUlHSFRTX0xPQ0FUSU9OKTtcbiAgY29uc3QganNvblRyZWF0bWVudFdlaWdodHMgPSBhd2FpdCB0cmVhdG1lbnRXZWlnaHRzLmpzb24oKTtcbiAgcmV0dXJuIGpzb25UcmVhdG1lbnRXZWlnaHRzO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RDb29raWVJZGVudGlmaWVyID0gKGNvb2tpZVN0cmluZywgY29va2llTmFtZSkgPT4ge1xuICBpZiAoIWNvb2tpZVN0cmluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgcGFyc2VkID0gY29va2llU3RyaW5nXG4gICAgICAuc3BsaXQoXCI7XCIpXG4gICAgICAubWFwKCh2KSA9PiB2LnNwbGl0KFwiPVwiKSlcbiAgICAgIC5yZWR1Y2UoKGFjYywgdikgPT4ge1xuICAgICAgICBpZiAodlswXSAmJiB2WzFdKSB7XG4gICAgICAgICAgYWNjW2RlY29kZVVSSUNvbXBvbmVudCh2WzBdLnRyaW0oKSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZbMV0udHJpbSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuXG4gIGxldCBpZGVudGlmaWVyID0gcGFyc2VkW2Nvb2tpZU5hbWVdO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoY29va2llTmFtZSA9PT0gXCJfZ2FcIikge1xuICAgIC8vIGV4dHJhY3QgdW5pcXVlIGlkZW50aWZpZXIgZnJvbSBHQSBjb29raWVcbiAgICBjb25zdCBpZGVudGlmaWVySW5kZXggPSAyO1xuICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyLnNwbGl0KFwiLlwiKVtpZGVudGlmaWVySW5kZXhdO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGRldGVybWluZVBjdCA9IGFzeW5jIChpZGVudGlmaWVyKSA9PiB7XG4gIGNvbnN0IHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24gPSA5O1xuICBjb25zdCBzdWJzdHJpbmdMZW5ndGggPSA4O1xuICBjb25zdCBzdWJzdHJpbmdFbmRQb3NpdGlvbiA9IHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24gKyBzdWJzdHJpbmdMZW5ndGg7XG4gIGlmICghaWRlbnRpZmllcikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBjb25zdCBoYXNoU3RyaW5nID0gYXdhaXQgY3JlYXRlSGFzaFN0cmluZyhpZGVudGlmaWVyKTtcbiAgLy8gTWFwIHRoZSBjb29raWUgaGFzaCB0byBhIG51bWJlciBiZXR3ZWVuIDAgLT4gOTksXG4gIC8vIHRoaXMgbnVtYmVyIGlzIHRoZSBvblJhdGlvblxuICBjb25zdCBoYXNoTnVtYmVyID0gcGFyc2VJbnQoaGFzaFN0cmluZy5zdWJzdHJpbmcoc3Vic3RyaW5nU3RhcnRQb3NpdGlvbiwgc3Vic3RyaW5nRW5kUG9zaXRpb24pLCAxNik7XG5cbiAgcmV0dXJuIGhhc2hOdW1iZXIgJSAxMDA7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlSGFzaFN0cmluZyA9IGFzeW5jIChzdHJpbmdUb0hhc2gpID0+IHtcbiAgLy8gZW5jb2RlIHN0cmluZyB0byBhbiBhcnJheSBvZiA4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlc1xuICBjb25zdCBlbmNvZGVkID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHN0cmluZ1RvSGFzaCk7XG5cbiAgLy8gaGFzaCB0aGUgZW5jb2RlZCBjb29raWUgaW50byBhIGJ1ZmZlclxuICBjb25zdCBoYXNoQnVmZmVyID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMVwiLCBlbmNvZGVkKTtcblxuICAvLyBjb252ZXJ0IGJ1ZmZlciB0byBieXRlIGFycmF5XG4gIGNvbnN0IGhhc2hBcnJheSA9IEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoaGFzaEJ1ZmZlcikpO1xuXG4gIC8vIGNvbnZlcnQgYnl0ZXMgdG8gaGV4IHN0cmluZyBhbmQgcmV0dXJuXG4gIHJldHVybiBoYXNoQXJyYXkubWFwKChiKSA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpLmpvaW4oXCJcIik7XG59O1xuXG5leHBvcnQgY29uc3QgZXhpdFNjcm9sbExpc3RlbmVyID0gKGNhbGxCYWNrKSA9PiB7XG4gIGNvbnN0IGxvb3AgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIGlmIChsYXN0U2Nyb2xsVG9wIC0gNDAwID4gc2Nyb2xsVG9wKSB7XG4gICAgICBjbGVhckludGVydmFsKGV4aXRTY3JvbGxJbnRlcnZhbCk7XG4gICAgICBjYWxsQmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0U2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgIH1cbiAgfTtcblxuICBsZXQgbGFzdFNjcm9sbFRvcCA9IHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgY29uc3QgZXhpdFNjcm9sbEludGVydmFsID0gc2V0SW50ZXJ2YWwobG9vcCwgNTAwKTtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhcHBseSB0cmVhdG1lbnRzIHRvIHRoZSBwYWdlIG9uIHNwZWNpZmljIG1lZGlhIHR5cGUuXG4gKiBAcGFyYW0ge01lZGlhUXVlcnlMaXN0fSBtZWRpYVF1ZXJ5Q29uZGl0aW9uIHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNTAwcHgpXCIpXG4gKiBAcGFyYW0ge0RPTU5vZGVMaXN0IH0gZWxlbWVudHMgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdi5wcm9kdWN0X2luZm9cIilcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZUNoYW5nZXNNYXAgeyBcIm1hcmdpbi10b3BcIiA6IFwiMTByZW1cIn1cbiAqIEByZXR1cm5zXG4gKi9cblxuZXhwb3J0IGNvbnN0IHN0eWxlQXBwbGljYXRvciA9IChlbGVtZW50cywgc3R5bGVDaGFuZ2VzTWFwKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdHlsZSBjaGFuZ2VzXCIsIHN0eWxlQ2hhbmdlc01hcCwgXCJ0byBlbGVtZW50c1wiLCBlbGVtZW50cyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVDaGFuZ2VzTWFwKSkge1xuICAgICAgZWxlbWVudC5zdHlsZVtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgaW5qZWN0U3R5bGVTaGVldCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgc3R5bGVTaGVldCA9IHdpbmRvdy50b3AuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gIHN0eWxlU2hlZXQucmVsID0gXCJzdHlsZXNoZWV0XCI7XG4gIHN0eWxlU2hlZXQudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgc3R5bGVTaGVldC5ocmVmID0gU1RZTEVTSEVFVF9MT0NBVElPTjtcbiAgd2luZG93LnRvcC5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlU2hlZXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmVBY3Rpb25zID0gYXN5bmMgKGlkZW50aWZpZXIsIGFjdGlvbnNUb1ByZXBhcmUsIGJ1c2luZXNzUnVsZUlkKSA9PiB7XG4gIGNvbnN0IGFjdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFjdGlvbnNUb1ByZXBhcmUpKTtcbiAgbGV0IHZhcmlhbnQgPSBudWxsO1xuICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgY29uc3Qge2J1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucywgdmFyaWFudHN9ID0gYWN0aW9uO1xuICAgIGlmICghYnVzaW5lc3NSdWxlVHJhbnNmb3JtYXRpb25zICYmICF2YXJpYW50cykgY29udGludWU7XG4gICAgaWYgKGJ1c2luZXNzUnVsZUlkICYmIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgZm9yIChjb25zdCBidXNpbmVzc1RyYW5zZm9ybWF0aW9uIG9mIGJ1c2luZXNzUnVsZVRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgICBpZiAoYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbi5pZCA9PT0gYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBidXNpbmVzc1RyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSBcImlkXCIpIHtcbiAgICAgICAgICAgICAgYWN0aW9uW2tleV0gPSBidXNpbmVzc1RyYW5zZm9ybWF0aW9uW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh2YXJpYW50cykge1xuICAgICAgZm9yIChjb25zdCB2YXJpYW50S2V5IG9mIE9iamVjdC5rZXlzKHZhcmlhbnRzKSkge1xuICAgICAgICBjb25zdCByYW5kb21QY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllciArIHZhcmlhbnRLZXkpO1xuICAgICAgICBpZiAocmFuZG9tUGN0IDwgYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCkge1xuICAgICAgICAgIHZhcmlhbnQgPSB2YXJpYW50S2V5O1xuICAgICAgICAgIGlmIChidXNpbmVzc1J1bGVJZCAmJiB2YXJpYW50c1t2YXJpYW50S2V5XS5idXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbiBvZiB2YXJpYW50c1t2YXJpYW50S2V5XS5idXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgaWYgKGJ1c2luZXNzVHJhbnNmb3JtYXRpb24uaWQgPT0gYnVzaW5lc3NSdWxlSWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhidXNpbmVzc1RyYW5zZm9ybWF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJpZFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGFjdGlvbltrZXldID0gYnVzaW5lc3NUcmFuc2Zvcm1hdGlvbltrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJpYW50c1t2YXJpYW50S2V5XSkge1xuICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBcIndlaWdodFwiICYmIGtleSAhPT0gXCJidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnNcIikge1xuICAgICAgICAgICAgICAgIGFjdGlvbltrZXldID0gdmFyaWFudHNbdmFyaWFudEtleV1ba2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gW2FjdGlvbnMsIHZhcmlhbnRdO1xufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzID0gKCkgPT4ge1xuICBjb25zdCB7UEFHRV9WSUVXUywgUE9QVVBfRElTUExBWV9GTEFHLCBTRVNTSU9OX0lELCBTRVNTSU9OX1RJTUVTVEFNUCwgU0VTU0lPTl9ISVNUT1JZfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuXG4gIGNvbnN0IHBhZ2VWaWV3cyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEFHRV9WSUVXUyk7XG4gIGNvbnN0IHBvcHVwRGlzcGxheUZsYWcgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRyk7XG4gIGNvbnN0IHNlc3Npb25JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9JRCk7XG4gIGNvbnN0IHNlc3Npb25UaW1lc3RhbXAgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QKTtcbiAgY29uc3Qgc2Vzc2lvbkhpc3RvcnkgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fSElTVE9SWSk7XG5cbiAgaWYgKCFwYWdlVmlld3MpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBBR0VfVklFV1MsIDEpO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEFHRV9WSUVXUywgcGFyc2VJbnQocGFnZVZpZXdzKSArIDEpO1xuICB9XG4gIGlmIChwb3B1cERpc3BsYXlGbGFnID09PSBudWxsKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcsIDApO1xuICB9XG4gIGlmICghc2Vzc2lvbklkKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0lELCBjcnlwdG8ucmFuZG9tVVVJRCgpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25UaW1lc3RhbXApIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fVElNRVNUQU1QLCBEYXRlLm5vdygpKTtcbiAgfVxuICBpZiAoIXNlc3Npb25IaXN0b3J5KSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX0hJU1RPUlksIFt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVdKTtcbiAgfSBlbHNlIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSElTVE9SWSwgW3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgc2Vzc2lvbkhpc3RvcnldKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbkNoZWNrZXIgPSAocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKSA9PiB7XG4gIGlmIChjb25kaXRpb24gPT09IFwibm90RXhpc3RcIikge1xuICAgIGlmICghcnVuVGltZVZhbHVlKSB7XG4gICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAocnVuVGltZVZhbHVlID09PSBudWxsIHx8XG4gICAgcnVuVGltZVZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICBjb25kaXRpb24gPT09IG51bGwgfHxcbiAgICBjb25kaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiBydW5UaW1lVmFsdWUgb3IgY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzd2l0Y2ggKGNvbmRpdGlvbikge1xuICAgIGNhc2UgXCJleGlzdFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJpbmNsdWRlc1wiOlxuICAgIGNhc2UgXCJjb250YWluc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgY29udGFpbnMgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibm90SW5jbHVkZXNcIjpcbiAgICBjYXNlIFwibm90Q29udGFpbnNcIjpcbiAgICAgIGlmICghcnVuVGltZVZhbHVlLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIuc3VjY2VzcyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGNvbnRhaW5zIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJlcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGVxdWFsIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RFcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MoXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXF1YWwgdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzVGhhblwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA8IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJsZXNzRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlIDw9IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3Mgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJiZXR3ZWVuXCI6IHtcbiAgICAgIGxldCBbbWluLCBtYXhdID0gdmFsdWUuc3BsaXQoXCIsXCIpO1xuICAgICAgbWluID0gcGFyc2VJbnQobWluKTtcbiAgICAgIG1heCA9IHBhcnNlSW50KG1heCk7XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IG1pbiAmJiBydW5UaW1lVmFsdWUgPD0gbWF4KSB7XG4gICAgICAgIGxvZ2dlci5zdWNjZXNzKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmZhaWxlZChcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNhc2UgXCJyZWdleFwiOiB7XG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAodmFsdWUsIFwiaVwiKTtcbiAgICAgIHJldHVybiByZWdleC50ZXN0KHJ1blRpbWVWYWx1ZSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiY29uZGl0aW9uQ2hlY2tlcjogY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkIFwiLCBjb25kaXRpb24pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGVidWdNb2RlID0gKG9vc1JlYXNvbikgPT4ge1xuICBjb25zdCB7REVCVUdfTU9ERSwgT1VUX09GX1NDT1BFfSA9IExPQ0FMX1NUT1JBR0VfS0VZUztcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0xXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKERFQlVHX01PREUsIDEpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIG9vc1JlYXNvbik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvblwiKTtcbiAgICByZXR1cm4gMTtcbiAgfVxuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0yXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKERFQlVHX01PREUsIDIpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIG9vc1JlYXNvbik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvblwiKTtcbiAgICByZXR1cm4gMjtcbiAgfVxuICBpZiAocXVlcnlTdHJpbmcuaW5jbHVkZXMoXCJuZF9kZWJ1Zz0wXCIpKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKERFQlVHX01PREUpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShPVVRfT0ZfU0NPUEUsIG9vc1JlYXNvbik7XG4gICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJkYm1cIiwgXCJvZmZcIik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgY3VycmVudCA9IHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShERUJVR19NT0RFKSk7XG4gIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwiZGJtXCIsIChjdXJyZW50ID8gXCJvblwiIDogXCJvZmZcIikpO1xuICByZXR1cm4gKGN1cnJlbnQgfHwgMCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SWRlbnRpZmllciA9IGFzeW5jIChjb29raWVOYW1lID0gQ09PS0lFX05BTUUpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQpO1xuICAgIGlmIChpZCkgcmVzb2x2ZShpZCk7XG4gICAgaWQgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcih3aW5kb3cudG9wLmRvY3VtZW50LmNvb2tpZSwgY29va2llTmFtZSk7XG4gICAgaWYgKGlkKSB7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQsIGlkKTtcbiAgICAgIHJlc29sdmUoaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBleHRyYWN0SWRlbnRpZmllckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZCA9IGV4dHJhY3RDb29raWVJZGVudGlmaWVyKHdpbmRvdy50b3AuZG9jdW1lbnQuY29va2llLCBjb29raWVOYW1lKTtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChleHRyYWN0SWRlbnRpZmllckludGVydmFsKTtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLlVTRVJfSUQsIGlkKTtcbiAgICAgICAgICByZXNvbHZlKGlkKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTApO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJDb3VsZCBub3QgZXh0cmFjdCBjb29raWUgaWRlbnRpZmllclwiKSk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgbXMpKTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdERlbGl2ZXJ5RGF0ZSA9IChkYXRlKSA9PiB7XG4gIGlmICghZGF0ZSB8fCB0eXBlb2YgZGF0ZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIGRhdGU7XG5cbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIHN0YXJ0TW9udGhJbmRleDogdW5kZWZpbmVkLFxuICAgIGVuZE1vbnRoSW5kZXg6IHVuZGVmaW5lZCxcbiAgICBzdGFydERheTogdW5kZWZpbmVkLFxuICAgIGVuZERheTogdW5kZWZpbmVkLFxuICB9O1xuXG4gIGxldCBtYXRjaCA9IGRhdGUubWF0Y2goXCIoW1xcXFxkXSspLShbXFxcXGRdKylcXFxccz8oW1xcXFx3xLHDvMSfxZ/DtsOnxLDDlsOHxJ7DnMWeXSspXCIpO1xuICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID09PSA0KSB7XG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5lbmREYXkgPSBwYXJzZUludChtYXRjaFsyXSk7XG4gICAgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFszXS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IHJlc3VsdC5zdGFydE1vbnRoSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgbWF0Y2ggPSBkYXRlLm1hdGNoKFwiKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcxZ5dKyktKFtcXFxcZF0rKVxcXFxzKyhbXFxcXHfEscO8xJ/Fn8O2w6fEsMOWw4fEnsOcxZ5dKylcIik7XG4gICAgaWYgKCFtYXRjaCB8fCBtYXRjaC5sZW5ndGggIT09IDUpIHJldHVybiBkYXRlO1xuXG4gICAgcmVzdWx0LnN0YXJ0RGF5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgIHJlc3VsdC5zdGFydE1vbnRoSW5kZXggPSBtb250aHNbbWF0Y2hbMl0udG9Mb3dlckNhc2UoKV07XG4gICAgcmVzdWx0LmVuZERheSA9IHBhcnNlSW50KG1hdGNoWzNdKTtcbiAgICByZXN1bHQuZW5kTW9udGhJbmRleCA9IG1vbnRoc1ttYXRjaFs0XS50b0xvd2VyQ2FzZSgpXTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKCFyZXN1bHQuc3RhcnRNb250aEluZGV4IHx8ICFyZXN1bHQuZW5kTW9udGhJbmRleCkgcmV0dXJuIGRhdGU7XG5cbiAgICBjb25zdCBzdGFydFllYXIgPSByZXN1bHQuc3RhcnRNb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG4gICAgY29uc3QgZW5kWWVhciA9IHJlc3VsdC5lbmRNb250aEluZGV4ID49IHRvZGF5LmdldE1vbnRoKCkgPyB0b2RheS5nZXRGdWxsWWVhcigpIDogdG9kYXkuZ2V0RnVsbFllYXIoKSArIDE7XG5cbiAgICBjb25zdCBlc3RpbWF0ZWRTdGFydCA9IG5ldyBEYXRlKHN0YXJ0WWVhciwgcmVzdWx0LnN0YXJ0TW9udGhJbmRleCwgcmVzdWx0LnN0YXJ0RGF5KTtcbiAgICBjb25zdCBlc3RpbWF0ZWRFbmQgPSBuZXcgRGF0ZShlbmRZZWFyLCByZXN1bHQuZW5kTW9udGhJbmRleCwgcmVzdWx0LmVuZERheSk7XG5cblxuICAgIGNvbnN0IHN0YXJ0RGlmZk92ZXJEYXlzID0gTWF0aC5jZWlsKE1hdGguYWJzKGVzdGltYXRlZFN0YXJ0IC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbiAgICBjb25zdCBlbmREaWZmT3ZlckRheXMgPSBNYXRoLmNlaWwoTWF0aC5hYnMoZXN0aW1hdGVkRW5kIC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcblxuICAgIGNvbnN0IHN0YXJ0RGlmZk92ZXJXZWVrcyA9IHN0YXJ0RGlmZk92ZXJEYXlzIDwgNyA/IDAgOiBNYXRoLmNlaWwoc3RhcnREaWZmT3ZlckRheXMgLyA3KTtcbiAgICBjb25zdCBlbmREaWZmT3ZlcldlZWtzID0gZW5kRGlmZk92ZXJEYXlzIDwgNyA/IDAgOiBNYXRoLmNlaWwoZW5kRGlmZk92ZXJEYXlzIC8gNyk7XG5cbiAgICBpZiAoc3RhcnREaWZmT3ZlcldlZWtzID09PSAwICYmIGVuZERpZmZPdmVyV2Vla3MgPT09IDApIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyRGF5c30gLSAke2VuZERpZmZPdmVyRGF5c30gR8O8bmA7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0RGlmZk92ZXJXZWVrcyA9PT0gMCAmJiBlbmREaWZmT3ZlcldlZWtzID49IDEpIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyRGF5c30gR8O8biAtICR7ZW5kRGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICAgIH1cblxuICAgIGlmIChzdGFydERpZmZPdmVyV2Vla3MgPT09IGVuZERpZmZPdmVyV2Vla3MpIHtcbiAgICAgIHJldHVybiBgJHtzdGFydERpZmZPdmVyV2Vla3N9IEhhZnRhYDtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7c3RhcnREaWZmT3ZlcldlZWtzfSAtICR7ZW5kRGlmZk92ZXJXZWVrc30gSGFmdGFgO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlkbGVUaW1lciA9IGFzeW5jICh0aW1lT3V0LCBjYWxsQmFjaykgPT4ge1xuICBsZXQgaWRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxCYWNrLCB0aW1lT3V0KTtcblxuICB3aW5kb3cudG9wLmRvY3VtZW50Lm9udG91Y2hzdGFydCA9IHJlc2V0VGltZXI7XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHtcbiAgICBjbGVhclRpbWVvdXQoaWRsZVRpbWVvdXQpO1xuICAgIGlkbGVUaW1lb3V0ID0gc2V0VGltZW91dChjYWxsQmFjaywgdGltZU91dCk7XG4gIH1cbn07XG4iLCJpbXBvcnQge0xPR19BUElfVVJMfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NyZWF0ZUhhc2hTdHJpbmd9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQge2dldEZyb21CZWFnbGVJbmZvTGF5ZXJ9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcblxuZXhwb3J0IGNsYXNzIE1vbml0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGUgTW9uaXRvclwiKTtcbiAgICB0aGlzLmxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgbW9uaXRvclwiKTtcblxuICAgIHRoaXMuYXBwbGllZFRyZWF0bWVudHNIYXNoID0gbnVsbDtcbiAgICB0aGlzLmFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA9IGZhbHNlO1xuICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBudWxsO1xuICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPSBmYWxzZTtcbiAgICB0aGlzLmhlYWRlcnMgPSB7XG4gICAgICB0eXBlOiBcInRleHQvcGxhaW5cIixcbiAgICB9O1xuICAgIHRoaXMuaXNMb2dnZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgYXN5bmMgc2VuZExvZ3MobWVzc2FnZSA9IG51bGwsIGlzRXJyb3IgPSBmYWxzZSkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsb2dnZXIubG9nKFwiU2VuZGluZyBsb2dzXCIpO1xuXG4gICAgaWYgKHdpbmRvdy50b3AuZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiRG9jdW1lbnQgcmVhZHkgc3RhdGUgaXMgbm90IGNvbXBsZXRlXCIpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIG9ubG9hZCBldmVudFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShtZXNzYWdlKSwgaXNFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlUXVldWVMb2dzKHJlcXVlc3RCbG9iLCBpc0Vycm9yID0gZmFsc2UpIHtcbiAgICBpZiAoIWlzRXJyb3IgJiYgdGhpcy5pc0xvZ2dlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghcmVxdWVzdEJsb2IpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJDb3VsZCBub3QgY3JlYXRlIHJlcXVlc3QgYmxvYlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlJlcXVlc3QgYmxvYiB0byBzZW5kOiBcIiwgcmVxdWVzdEJsb2IpO1xuICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcblxuICAgIHRoaXMuaXNMb2dnZWQgPSB0cnVlO1xuICAgIGNvbnN0IGFwcGxpZWQgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiYVwiKTtcbiAgICBjb25zdCBlbGlnaWJsZU5vdEFwcGxpZWQgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiZVwiKTtcbiAgICB0aGlzLmFwcGxpZWRUcmVhdG1lbnRzSGFzaCA9IGF3YWl0IGNyZWF0ZUhhc2hTdHJpbmcoYXBwbGllZCk7XG4gICAgdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCA9IGF3YWl0IGNyZWF0ZUhhc2hTdHJpbmcoZWxpZ2libGVOb3RBcHBsaWVkKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUxhdGVzdENoYW5nZXMoKSB7XG4gICAgY29uc3QgYXBwbGllZCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJhXCIpO1xuICAgIGNvbnN0IGVsaWdpYmxlTm90QXBwbGllZCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJlXCIpO1xuICAgIGNvbnN0IGFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2ggPSBhd2FpdCBjcmVhdGVIYXNoU3RyaW5nKGFwcGxpZWQpO1xuICAgIGNvbnN0IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDdXJyZW50SGFzaCA9IGF3YWl0IGNyZWF0ZUhhc2hTdHJpbmcoZWxpZ2libGVOb3RBcHBsaWVkKTtcblxuICAgIGlmIChhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoICE9PSB0aGlzLmFwcGxpZWRUcmVhdG1lbnRzSGFzaCkge1xuICAgICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMgPSB0cnVlO1xuICAgICAgdGhpcy5hcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoO1xuICAgIH1cbiAgICBpZiAoZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoICE9PSB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNIYXNoKSB7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0hhc2ggPSBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ3VycmVudEhhc2g7XG4gICAgfVxuICB9XG5cbiAgcGFja2FnZUxvZ0RhdGEobWVzc2FnZSA9IG51bGwpIHtcbiAgICBjb25zdCB7aGVhZGVyc30gPSB0aGlzO1xuICAgIGNvbnN0IGJvZHkgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh3aW5kb3cuYmVhZ2xlSW5mb0xheWVyKSkge1xuICAgICAgaWYgKCFrZXkuc3RhcnRzV2l0aChcIl9cIikpIGJvZHlba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICBib2R5LnQgPSBEYXRlLm5vdygpO1xuICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICBib2R5Lm0gPSBtZXNzYWdlO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMoYm9keS5hIHx8IHt9KS5sZW5ndGggPiAwKSB7XG4gICAgICBib2R5Lm0gPSBcIlRyZWF0bWVudHMgYXBwbGllZFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBib2R5Lm0gPSBcIk5vIHRyZWF0bWVudHMgYXBwbGllZFwiO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBwYWNrYWdlVXBkYXRlTG9nRGF0YSgpIHtcbiAgICBjb25zdCB7aGVhZGVycywgYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzLCBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlc30gPSB0aGlzO1xuICAgIGlmICghYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzICYmICFlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcykgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICB0OiBEYXRlLm5vdygpLFxuICAgICAgYTogYXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzID8gd2luZG93LmJlYWdsZUluZm9MYXllci5hIDoge30sXG4gICAgICBlOiBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzQ2hhbmdlcyA/IHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXIuZSA6IHt9LFxuICAgICAgdklkOiB3aW5kb3cuYmVhZ2xlSW5mb0xheWVyLnZJZCxcbiAgICB9O1xuICAgIHJldHVybiBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoYm9keSldLCBoZWFkZXJzKTtcbiAgfVxuXG4gIGluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxldCBpc0V4aXRFdmVudENhcHR1cmVkID0gZmFsc2U7XG4gICAgbG9nZ2VyLmxvZyhcIkluaXRpYWxpemluZyBleGl0IGV2ZW50IGxpc3RlbmVyXCIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImJlZm9yZXVubG9hZFwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVF1ZXVlTG9ncyh0aGlzLnBhY2thZ2VMb2dEYXRhKCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNFeGl0RXZlbnRDYXB0dXJlZCkgcmV0dXJuO1xuICAgICAgICAgIGlzRXhpdEV2ZW50Q2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbiBiZWZvcmV1bmxvYWQgZXZlbnRcIik7XG4gICAgICAgICAgY29uc3QgbG9nRGF0YSA9IHRoaXMucGFja2FnZVVwZGF0ZUxvZ0RhdGEoKTtcbiAgICAgICAgICBpZiAoIWxvZ0RhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJObyBjaGFuZ2VzIHRvIGxvZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5xdWV1ZUxvZ3MobG9nRGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIHtjYXB0dXJlOiB0cnVlfSxcbiAgICApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcInBhZ2VoaWRlXCIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuaXNMb2dnZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0V4aXRFdmVudENhcHR1cmVkKSByZXR1cm47XG4gICAgICAgICAgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluIHBhZ2VoaWRlIGV2ZW50XCIpO1xuICAgICAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLnBhY2thZ2VVcGRhdGVMb2dEYXRhKCk7XG4gICAgICAgICAgaWYgKCFsb2dEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gY2hhbmdlcyB0byBsb2dcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7Y2FwdHVyZTogdHJ1ZX0sXG4gICAgKTtcbiAgfVxuXG4gIHF1ZXVlTG9ncyhsb2dEYXRhKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuXG4gICAgaWYgKCFuYXZpZ2F0b3Iuc2VuZEJlYWNvbiB8fCB0eXBlb2YgbmF2aWdhdG9yLnNlbmRCZWFjb24gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZmV0Y2goTE9HX0FQSV9VUkwsIGxvZ0RhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgY29uc3QgcXVldWVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICghcXVldWVkKSBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3MgcXVldWVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIH1cbiAgICB9LCAxMCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHF1ZXVlSW50ZXJ2YWwpO1xuICAgICAgaWYgKCFxdWV1ZWQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3Mgbm90IHF1ZXVlZFwiKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb25pdG9yO1xuIiwiZXhwb3J0IGNvbnN0IHJlcGxhY2VBbGwgPSAoc3RyLCBmaW5kLCByZXBsYWNlID0gXCJcIikgPT4ge1xuICBpZiAoIXN0cikgcmV0dXJuIFwiXCI7XG5cbiAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihmaW5kKTtcbiAgaWYgKGluZGV4IDwgMCkgcmV0dXJuIHN0cjtcblxuICB3aGlsZSAoc3RyLmluZGV4T2YoZmluZCkgPj0gMCkge1xuICAgIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZmluZCk7XG4gICAgc3RyID0gKGluZGV4ID4gMCA/IHN0ci5zdWJzdHJpbmcoMCwgaW5kZXgpIDogXCJcIikgKyByZXBsYWNlICsgc3RyLnN1YnN0cmluZyhpbmRleCArIGZpbmQubGVuZ3RoKTtcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59O1xuIiwiaW1wb3J0IHtyZXBsYWNlQWxsfSBmcm9tIFwiLi4vc3RyaW5nVXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IHtnZXRGcm9tQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJSZXBsYWNlVXRpbHNcIik7XG5cbmNvbnN0IHJlcGxhY2VyID0gYXN5bmMgKHZhbHVlLCByZXBsYWNlRm4pID0+IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgZm9yIChjb25zdCBbaSwgdmFsXSBvZiB2YWx1ZS5lbnRyaWVzKCkpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRSZXBsYWNlRm4gPSBBcnJheS5pc0FycmF5KHJlcGxhY2VGbikgPyByZXBsYWNlRm5baV0gOiByZXBsYWNlRm4gfHwgXCJcIjtcbiAgICAgIGlmICh0eXBlb2YgY3VycmVudFJlcGxhY2VGbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb25zdCByZXBsYWNlVmFsID0gYXdhaXQgcmVwbGFjZU9iamVjdEV4dHJhY3RvcihjdXJyZW50UmVwbGFjZUZuKTtcbiAgICAgICAgdmFsdWVbaV0gPSByZXBsYWNlQWxsKHZhbCwgXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlVmFsKTtcbiAgICAgIH0gZWxzZSB2YWx1ZVtpXSA9IHJlcGxhY2VGbkV4ZWN1dG9yKGN1cnJlbnRSZXBsYWNlRm4sIHZhbCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVwbGFjZUZuKSkge1xuICAgIGZvciAoY29uc3QgckZuIG9mIHJlcGxhY2VGbikge1xuICAgICAgaWYgKHR5cGVvZiByRm4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29uc3QgcmVwbGFjZVZhbCA9IGF3YWl0IHJlcGxhY2VPYmplY3RFeHRyYWN0b3IockZuKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZVZhbCk7XG4gICAgICB9IGVsc2UgdmFsdWUgPSByZXBsYWNlRm5FeGVjdXRvcihyRm4sIHZhbHVlLCB0cnVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiByZXBsYWNlRm4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IHJlcGxhY2VWYWwgPSBhd2FpdCByZXBsYWNlT2JqZWN0RXh0cmFjdG9yKHJlcGxhY2VGbik7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlVmFsKTtcbiAgICB9IGVsc2UgdmFsdWUgPSByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5mdW5jdGlvbiByZXBsYWNlRm5FeGVjdXRvcihyZXBsYWNlRm4sIHZhbHVlLCBzaW5nbGUgPSBmYWxzZSkge1xuICBpZiAocmVwbGFjZUZuICYmIHZhbHVlLmluY2x1ZGVzKFwie3tSRVBMQUNFfX1cIikpIHtcbiAgICBsb2dnZXIubG9nKFwiRXhlY3V0aW5nIHJlcGxhY2UgZnVuY3Rpb246IFwiLCByZXBsYWNlRm4pO1xuICAgIGNvbnN0IHJlcGxhY2VGdW5jdGlvbiA9IEZ1bmN0aW9uKHJlcGxhY2VGbik7XG4gICAgaWYgKHNpbmdsZSkgcmV0dXJuIHZhbHVlLnJlcGxhY2UoXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlRnVuY3Rpb24oKSk7XG4gICAgcmV0dXJuIHJlcGxhY2VBbGwodmFsdWUsIFwie3tSRVBMQUNFfX1cIiwgcmVwbGFjZUZ1bmN0aW9uKCkpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVwbGFjZU9iamVjdEV4dHJhY3RvcihyZXBsYWNlRm4pIHtcbiAgY29uc3Qge3N0b3JhZ2UsIGtleSwga2V5RmFsbGJhY2ssIHR5cGV9ID0gcmVwbGFjZUZuO1xuICBzd2l0Y2ggKHN0b3JhZ2UpIHtcbiAgICBjYXNlIFwic2Vzc2lvblwiOiB7XG4gICAgICBsZXQgcmVwbGFjZVZhbCA9IG51bGw7XG4gICAgICByZXBsYWNlVmFsID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIGlmICghcmVwbGFjZVZhbCkgcmVwbGFjZVZhbCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleUZhbGxiYWNrKTtcbiAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVwbGFjZVZhbCA9IEpTT04ucGFyc2UocmVwbGFjZVZhbCk7XG4gICAgICAgICAgcmVwbGFjZVZhbCA9IHJlcGxhY2VWYWxbcmVwbGFjZVZhbC5sZW5ndGggLSAxXVt0eXBlXTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChgQ291bGQgbm90IHBhcnNlICR7cmVwbGFjZVZhbH1gKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcGxhY2VWYWw7XG4gICAgfVxuICAgIGNhc2UgXCJpbmZvLWxheWVyXCI6IHtcbiAgICAgIGxldCByZXBsYWNlVmFsID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihrZXkpO1xuICAgICAgaWYgKCFyZXBsYWNlVmFsKSByZXBsYWNlVmFsID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihrZXlGYWxsYmFjayk7XG4gICAgICByZXR1cm4gcmVwbGFjZVZhbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVwbGFjZXI7XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQWN0aW9uQ29uZGl0aW9uVXRpbHNcIik7XG5cbmNvbnN0IGNoZWNrQWN0aW9uQ29uZGl0aW9uID0gKGNvbmRpdGlvbiwgcHJvZHVjdEluZm8pID0+IHtcbiAgY29uc3Qge2F0dHJpYnV0ZSwgaW5uZXJfY29uZGl0aW9uLCBvcGVyYXRvciwgc2VsZWN0b3IsIHR5cGUsIHZhbHVlfSA9IGNvbmRpdGlvbjtcbiAgbG9nZ2VyLmxvZyhcIkFjdGlvbiBjb25kaXRpb24gZm91bmQ6IFwiLCBjb25kaXRpb24pO1xuICBjb25zdCBlbGlnaWJsZUVsZW1lbnRzID0gW107XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJwcm9kdWN0SW5mb0xvb2t1cFwiOiB7XG4gICAgICBjb25zdCBjb25kaXRpb25FbGVtZW50cyA9IEFycmF5LmZyb20od2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY29uZGl0aW9uRWxlbWVudHMpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudFNrdSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IHByb2R1Y3RJbmZvPy5bZWxlbWVudFNrdV0/LmNhdGFsb2c/LltvcGVyYXRvcl07XG4gICAgICAgIGlmICghcnVuVGltZVZhbHVlKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgaW5uZXJfY29uZGl0aW9uLCB2YWx1ZSkpIGNvbnRpbnVlO1xuICAgICAgICBlbGlnaWJsZUVsZW1lbnRzLnB1c2goJChlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVsaWdpYmxlRWxlbWVudHM7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjaGVja0FjdGlvbkNvbmRpdGlvbjtcbiIsImltcG9ydCB7c3R5bGVBcHBsaWNhdG9yLCBkZWxheSwgaWRsZVRpbWVyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7cmVwbGFjZUFsbH0gZnJvbSBcIi4uL3N0cmluZ1V0aWxzXCI7XG5pbXBvcnQge01PQklMRV9NRURJQV9RVUVSWSwgU0VTU0lPTl9TVE9SQUdFX0tFWVMsIElETEVfVElNRU9VVH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHJlcGxhY2VyIGZyb20gXCIuL3JlcGxhY2UtdXRpbHNcIjtcbmltcG9ydCBjaGVja0FjdGlvbkNvbmRpdGlvbiBmcm9tIFwiLi9hY3Rpb24tY29uZGl0aW9uLXV0aWxcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5hc3luYyBmdW5jdGlvbiBhcHBseUFjdGlvbnMoYWN0aW9ucywgYmluZGluZ3MpIHtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBwbHkgQWN0aW9uc1wiKTtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBR30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgY29uc3Qge3Byb2R1Y3RJbmZvfSA9IGJpbmRpbmdzO1xuXG4gIGNvbnN0IHRyYW5zZm9ybWVyID0gYXN5bmMgZnVuY3Rpb24gdHJhbnNmb3JtZXIoYWN0aW9uLCBlbGVtZW50ID0gbnVsbCkge1xuICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBhY3Rpb246IFwiLCBKU09OLnN0cmluZ2lmeShhY3Rpb24pKTtcbiAgICBjb25zdCB7XG4gICAgICBvcGVyYXRvcixcbiAgICAgIHR5cGUsXG4gICAgICBhcHBseUV2ZW50LFxuICAgICAgY29udGVudFNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3IsXG4gICAgICBzZWxlY3RvckZhbGxiYWNrLFxuICAgICAgbWRDb25kaXRpb24sXG4gICAgICBtb3ZlX3NlbGVjdG9yXzEsXG4gICAgICBtb3ZlX3NlbGVjdG9yXzIsXG4gICAgICByZXBsYWNlRm4sXG4gICAgICBwVHlwZSxcbiAgICB9ID0gYWN0aW9uO1xuICAgIGlmIChvcGVyYXRvciA9PT0gXCJub29wXCIpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJOb29wIE9wZXJhdG9yOiBObyBvcGVyYXRpb24gaXMgYXBwbGllZCBvbiB0YXJnZXQgXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQge3ZhbHVlfSA9IGFjdGlvbjtcbiAgICAvLyBJZiBhbiBlbGVtZW50IGlzIHBhc3NlZCB0byB0cmFuc2Zvcm1lciwgc2VsZWN0b3IgaXMgcmVsYXRpdmUgdG8gcGFzc2VkIGVsZW1lbnRcbiAgICBlbGVtZW50ID0gZWxlbWVudCA/IGVsZW1lbnQuZmluZChzZWxlY3RvcikgOiAkKHNlbGVjdG9yKTtcblxuICAgIGNvbnN0IG1jID0gbWRDb25kaXRpb24gPyB3aW5kb3cubWF0Y2hNZWRpYShtZENvbmRpdGlvbikubWF0Y2hlcyA6IHRydWU7XG4gICAgaWYgKCFtYykge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIk1lZGlhIGNvbmRpdGlvbiBtaXNtYXRjaDogXCIsIG1kQ29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMSAmJiAhbW92ZV9zZWxlY3Rvcl8yKSB8fFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMiAmJiAhbW92ZV9zZWxlY3Rvcl8xKVxuICAgICkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkJvdGggbW92ZSBzZWxlY3RvcnMgYXJlIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobW92ZV9zZWxlY3Rvcl8xICYmIG1vdmVfc2VsZWN0b3JfMikge1xuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMSkubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJNb3ZlIHNlbGVjdG9yIDEgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMikubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJNb3ZlIHNlbGVjdG9yIDIgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiU2VsZWN0b3Igbm90IHNwZWNpZmllZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICBpZiAoISQoc2VsZWN0b3JGYWxsYmFjaykubGVuZ3RoICYmIG9wZXJhdG9yID09PSBcInJlbW92ZVwiKSByZXR1cm47XG4gICAgICAgIGlmIChzZWxlY3RvciAhPT0gXCJuby1zZWxlY3RvclwiKSB7XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBmb3VuZDogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVHJ5aW5nIGZhbGxiYWNrIHNlbGVjdG9yOiBcIiwgc2VsZWN0b3JGYWxsYmFjayk7XG4gICAgICAgICAgaWYgKHNlbGVjdG9yRmFsbGJhY2spIGVsZW1lbnQgPSAkKHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci5mYWlsZWQoXCJGYWxsYmFjayBzZWxlY3RvciBub3QgZm91bmRcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlcGxhY2VGbikge1xuICAgICAgdmFsdWUgPSBhd2FpdCByZXBsYWNlcih2YWx1ZSwgcmVwbGFjZUZuLCBwcm9kdWN0SW5mbyk7XG4gICAgfVxuICAgIGlmIChvcGVyYXRvciA9PT0gXCJyZW1vdmVcIikge1xuICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJSZW1vdmluZzogXCIsIHNlbGVjdG9yKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH0gZWxzZSBsb2dnZXIubG9nKFwiQ2Fubm90IGZvdW5kIGVsZW1lbnQgd2l0aCBzZWxlY3RvcjogXCIsIHNlbGVjdG9yKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImluc2VydFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJlZm9yZVwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbnNlcnRpbmcgYmVmb3JlOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGlmIChTdHJpbmcodmFsdWUpLmluY2x1ZGVzKFwibmQtYWRkLXRvLXdpblwiKSkge1xuICAgICAgICAgICAgJChcIi5uZC1hZGQtdG8td2luXCIpLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50LmJlZm9yZSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhZnRlclwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbnNlcnRpbmcgYWZ0ZXI6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5hZnRlcih2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhcHBlbmRcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiQXBwZW5kaW5nIHZhbHVlOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1vZGFsXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZWxlbWVudC5vZmYoXCJjbGlja1wiKTtcbiAgICAgICAgICAgIGNyZWF0ZVBvcHVwKHZhbHVlLCBjb250ZW50U2VsZWN0b3IsIHRydWUpO1xuICAgICAgICAgICAgY29uc3QgZWxtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgaWYgKGVsbSA9PSBlLnRhcmdldCkge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGlzcGxheU1vZGFsKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpO1xuICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9wdXBcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAocGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQT1BVUF9ESVNQTEFZX0ZMQUcpKSAhPT0gMCkge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiUG9wdXAgYWxyZWFkeSBkaXNwbGF5ZWQgaW4gc2Vzc2lvblwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQ3JlYXRpbmcgUG9wdXA6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAocFR5cGUpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBnZXRQcm9kdWN0SW5mbyhwcm9kdWN0SW5mbywgcFR5cGUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWF0ZVBvcHVwKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBjb25zdCBtb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJleGl0SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgZXhpdCBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cudG9wLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGRpc3BsYXlQb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuYmVhZ2xlSW5mb0xheWVyPy5yLmluY2x1ZGVzKHdpbmRvdy5iZWFnbGVJbmZvTGF5ZXI/LmQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Lmhpc3RvcnkgJiYgdHlwZW9mIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cudG9wLmRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5oaXN0b3J5LnN0YXRlICE9PSBcImJnX2xpbWJvXCIpIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShcImJnX2xpbWJvXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnRvcC5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgZGlzcGxheVBvcHVwLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaGlzdG9yeS5zdGF0ZSAhPT0gXCJiZ19saW1ib1wiKSB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoXCJiZ19saW1ib1wiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cudG9wLmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBkaXNwbGF5UG9wdXAsIHtvbmNlOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWVyKElETEVfVElNRU9VVCwgZGlzcGxheVBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBkaXNwbGF5UG9wdXAsIHtvbmNlOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY29weUludGVudFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQWRkaW5nIGNvcHkgaW50ZW50IGxpc3RlbmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29weVwiLCBkaXNwbGF5UG9wdXAsIHtvbmNlOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gYXBwZW5kIHBvcHVwIHRvIGJvZHkgYWZ0ZXIgdGltZW91dCBleHBpcmVzXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCgpO1xuICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmZhaWxlZChgVHlwZTogJHt0eXBlfSBub3QgZm91bmQgZm9yIG9wZXJhdG9yOiAke29wZXJhdG9yfWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiZWRpdFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiRWRpdGluZyB0ZXh0OiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkVkaXRpbmcgaHRtbDogXCIsIHZhbHVlKTtcbiAgICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVBcHBsaWNhdG9yXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHN0eWxlOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVDaGFuZ2VzTWFwID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiU3R5bGUgQ2hhbmdlcyBNYXA6IFwiLCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgICAgc3R5bGVBcHBsaWNhdG9yKGVsZW1lbnQsIHN0eWxlQ2hhbmdlc01hcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQ2xhc3NcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBhZGRkaW5nIGNsYXNzIHRvICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJlbW92ZUNsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgcmVtb3ZlIGNsYXNzIGZyb20gJHtlbGVtZW50fSBuYW1lZCAke3ZhbHVlfWApO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3ModmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG9jdW1lbnRUaXRsZVwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYGNoYW5naW5nIGRvY3VtZW50IHRpdGxlIGZyb20gJHtlbGVtZW50fSB0byAke3ZhbHVlfWApO1xuICAgICAgICAgIGlmIChhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGFwcGx5RXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50ID09IFwidGFiQ2hhbmdlXCIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiY2F0Y2hpbmcgZXZlbnQgdGFiY2hhbmdlLi5cIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUaXRsZSA9IHdpbmRvdy50b3AuZG9jdW1lbnQudGl0bGU7XG4gICAgICAgICAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoZSkgPT5cbiAgICAgICAgICAgICAgICAgIGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UoZSwgdmFsdWUsIG9yaWdpbmFsVGl0bGUpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlVua25vd24gZWRpdCB0eXBlOiBcIiwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJzZXRhdHRyaWJ1dGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgYXR0cmlidXRlOiBcIiwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGF0dHJpYnV0ZSkge1xuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgZWxlbWVudC5jc3MoXCJjb250ZW50XCIsIGB1cmwoJHt2YWx1ZS50cmltKCl9KWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KFwiOlwiKVswXS50cmltKCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zXG4gICAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhwcm9wZXJ0eSwgcHJvcGVydHlWYWx1ZSwgXCIhaW1wb3J0YW50XCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nOiBcIiwgdmFsdWUpO1xuICAgICAgZWxlbWVudC5yZXBsYWNlQWxsKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInN3YXBcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIlN3YXBwaW5nOiBcIiwgbW92ZV9zZWxlY3Rvcl8xLCBtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgY29uc3QgbjEgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IG4yID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBzd2FwTm9kZXMobjEsIG4yKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImluamVjdHNjcmlwdFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiSW5qZWN0aW5nIHNjcmlwdDogXCIsIHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kKGA8c2NyaXB0PiR7dmFsdWV9PC9zY3JpcHQ+YCk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJtb3ZlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coYE1vdmluZyAke21vdmVfc2VsZWN0b3JfMX0gdG8gJHttb3ZlX3NlbGVjdG9yXzJ9YCk7XG4gICAgICBjb25zdCBzb3VyY2UgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBzb3VyY2UucmVtb3ZlKCk7XG4gICAgICBkZXN0aW5hdGlvbi5wcmVwZW5kKHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJwcm9kdWN0SW5mb0xvb2t1cFwiKSB7XG4gICAgICBjb25zdCByZXMgPSBnZXRQcm9kdWN0SW5mbyhwcm9kdWN0SW5mbywgcFR5cGUsIHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuYmVmb3JlKHJlcyk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJ0ZXh0LXRyYW5zZm9ybVwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNhcGl0YWxpemVcIjoge1xuICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBBcnJheS5mcm9tKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpZiAoZS5pbm5lclRleHQ/LmluY2x1ZGVzKFwiXFxuXCIpKSB7XG4gICAgICAgICAgICAgIGUuaW5uZXJUZXh0ID0gZS5pbm5lclRleHQudG9Mb3dlckNhc2UoKS5zcGxpdChcIlxcblwiKS5tYXAoKHNlbnRlbmNlKSA9PlxuICAgICAgICAgICAgICAgIHNlbnRlbmNlLnNwbGl0KFwiIFwiKS5tYXAoKHdvcmQpID0+IHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKS5qb2luKFwiIFwiKSxcbiAgICAgICAgICAgICAgKS5qb2luKFwiXFxuXCIpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUuaW5uZXJUZXh0ID0gZS5pbm5lclRleHQ/LnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAgICAgICAgICAgLm1hcCgod29yZCkgPT4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSkpXG4gICAgICAgICAgICAgICAgLmpvaW4oXCIgXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiTm8gc3VjaCBvcGVyYXRvciBleGlzdHMgeWV0XCIsIG9wZXJhdG9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVwbGFjZVdpdGhWYWwgPSAodmFsdWUsIGh0bWxTdHIpID0+IHtcbiAgICBpZiAodmFsdWUgJiYgaHRtbFN0ci5pbmNsdWRlcyhcInt7UkVQTEFDRV9QUk9EVUNUSU5GT319XCIpKSB7XG4gICAgICBodG1sU3RyID0gcmVwbGFjZUFsbChodG1sU3RyLCBcInt7UkVQTEFDRV9QUk9EVUNUSU5GT319XCIsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxTdHI7XG4gIH07XG4gIGNvbnN0IGdldFByb2R1Y3RJbmZvID0gKHByb2R1Y3RJbmZvLCB0eXBlLCB2YWx1ZSkgPT4ge1xuICAgIC8vIGdldCBrZXlzIG9mIHByb2R1Y3RJbmZvXG4gICAgY29uc3Qgc2t1TGlzdCA9IE9iamVjdC5rZXlzKHByb2R1Y3RJbmZvKTtcbiAgICBsZXQgcmVzID0gbnVsbDtcbiAgICBpZiAoIXNrdUxpc3QgfHwgc2t1TGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIGxvZ2dlci5sb2coXCJObyBza3UgZm91bmRcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudFNrdSA9IHNrdUxpc3RbMF07XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwidHJhbnNhY3Rpb25JbjJXZWVrc1wiOiB7XG4gICAgICAgIHJlcyA9IHJlcGxhY2VXaXRoVmFsKHByb2R1Y3RJbmZvW2VsZW1lbnRTa3VdLmNhdGFsb2cudHJhbnNhY3Rpb25JbjJXZWVrcz8udG9TdHJpbmcoKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLFwiKSwgdmFsdWUpO1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nIHRyYW5zY2F0aW9uSW4yV2Vla3MgXCIsIHByb2R1Y3RJbmZvW2VsZW1lbnRTa3VdLmNhdGFsb2cudHJhbnNhY3Rpb25JbjJXZWVrcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImFkZFRvQ2FydEluMldlZWtzXCI6IHtcbiAgICAgICAgcmVzID0gcmVwbGFjZVdpdGhWYWwocHJvZHVjdEluZm9bZWxlbWVudFNrdV0uY2F0YWxvZy5hZGRUb0NhcnRJbjJXZWVrcz8udG9TdHJpbmcoKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLFwiKSwgdmFsdWUpO1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nIEFkZFRvQ2FydENvdW50IFwiLCBwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLmFkZFRvQ2FydEluMldlZWtzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwicHJvZHVjdFZpZXdDb3VudFwiOiB7XG4gICAgICAgIHJlcyA9IHJlcGxhY2VXaXRoVmFsKHByb2R1Y3RJbmZvW2VsZW1lbnRTa3VdLmNhdGFsb2cucHJvZHVjdFZpZXdDb3VudD8udG9TdHJpbmcoKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLFwiKSwgdmFsdWUpO1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVwbGFjaW5nIHByb2R1Y3RWaWV3Q291bnQgZm9yXCIsIHByb2R1Y3RJbmZvW2VsZW1lbnRTa3VdLmNhdGFsb2cucHJvZHVjdFZpZXdDb3VudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmZhaWxlZChcIm5vIHN1Y2ggdHlwZSBmb3VuZCBmb3IgcHJvZHVjdEluZm9Mb29rdXAgb3BlcmF0b3I6IFwiKyB0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgY29uc3QgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSA9IGFzeW5jIChldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlKSA9PiB7XG4gICAgY29uc3QgcGFyc2VkVGl0bGVzID0gIUFycmF5LmlzQXJyYXkodGl0bGVzKSA/IFt0aXRsZXNdIDogdGl0bGVzO1xuICAgIGZvciAoY29uc3QgcGFyc2VkVGl0bGUgb2YgcGFyc2VkVGl0bGVzKSB7XG4gICAgICBpZiAod2luZG93LnRvcC5kb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC50aXRsZSA9IHBhcnNlZFRpdGxlO1xuICAgICAgICBhd2FpdCBkZWxheSgyMDAwKTtcbiAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICAgIGF3YWl0IGRlbGF5KDIwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnRvcC5kb2N1bWVudC50aXRsZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghd2luZG93LnRvcC5kb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIHdpbmRvdy50b3AuZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVEb2N1bWVudFRpdGxlVGFiQ2hhbmdlKGV2ZW50LCB0aXRsZXMsIG9yaWdpbmFsVGl0bGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQb3B1cENsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgaWQgPSBldmVudC50YXJnZXQuaWQ7XG4gICAgaWYgKGlkICYmIGlkID09PSBcIm5kLXBvcHVwX193cmFwcGVyXCIpIHtcbiAgICAgICQoXCIjbmQtcG9wdXBfX3dyYXBwZXJcIikucmVtb3ZlKCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheVBvcHVwID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cudG9wLmRvY3VtZW50LmhpZGRlbikgcmV0dXJuO1xuICAgIGlmIChwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRykpID4gMCkgcmV0dXJuO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHLCAxKTtcbiAgICBjb25zdCBxUG9wdXAgPSB3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3J0LXNoYWRvdy1ob3N0XCIpO1xuICAgIGlmIChxUG9wdXApIHFQb3B1cC5zdHlsZVtcImRpc3BsYXlcIl0gPSBcIm5vbmVcIjtcbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmQtcG9wdXBfX3dyYXBwZXJcIikuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJibG9ja1wiO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcblxuICAgIHdpbmRvdy50b3AuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29weVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG4gICAgd2luZG93LnRvcC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBkaXNwbGF5UG9wdXApO1xuICAgIHdpbmRvdy50b3AucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGhhbmRsZVBvcHVwQ2xpY2ssIHRydWUpO1xuICAgIH0sIDE1MDAwKTtcbiAgfTtcblxuICBjb25zdCBkaXNwbGF5TW9kYWwgPSAodmFsdWUsIGNvbnRlbnRTZWxlY3RvcikgPT4ge1xuICAgIGlmICh3aW5kb3cudG9wLmRvY3VtZW50LmhpZGRlbikgcmV0dXJuO1xuICAgIGNvbnN0IHFQb3B1cCA9IHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNncnQtc2hhZG93LWhvc3RcIik7XG4gICAgaWYgKHFQb3B1cCkgcVBvcHVwLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwibm9uZVwiO1xuICAgIGlmICghd2luZG93LnRvcC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5kLXBvcHVwX193cmFwcGVyXCIpKSBjcmVhdGVQb3B1cCh2YWx1ZSwgY29udGVudFNlbGVjdG9yLCB0cnVlKTtcbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmQtcG9wdXBfX3dyYXBwZXJcIikuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJibG9ja1wiO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVQb3B1cCA9ICh2YWx1ZSwgY29udGVudFNlbGVjdG9yLCBpc01vZGFsPWZhbHNlKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHBvcHVwIHdyYXBwZXJcbiAgICBjb25zdCBwb3B1cFdyYXBwZXIgPSB3aW5kb3cudG9wLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICBwb3B1cFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcIm5kLXBvcHVwX193cmFwcGVyXCIpO1xuICAgIHBvcHVwV3JhcHBlci5pZCA9IFwibmQtcG9wdXBfX3dyYXBwZXJcIjtcblxuICAgIC8vIENyZWF0ZSBwb3B1cCBjbG9zZSBidXR0b25cbiAgICBjb25zdCBwb3B1cENsb3NlQnV0dG9uID0gd2luZG93LnRvcC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IHBvcHVwQ2xvc2VCdXR0b25TdHlsZSA9IGlzTW9kYWwgPyBcIm5kLXBvcHVwX19idXR0b24tY2xvc2VfX2NvbG9yZWRcIiA6IFwibmQtcG9wdXBfX2J1dHRvbi1jbG9zZVwiO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChwb3B1cENsb3NlQnV0dG9uU3R5bGUpO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uaW5uZXJUZXh0ID0gXCJYXCI7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfTtcblxuICAgIGlmIChjb250ZW50U2VsZWN0b3IpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRzID0gQXJyYXkuZnJvbSh3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29udGVudFNlbGVjdG9yKSk7XG4gICAgICB3aGlsZSAodmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSAmJiBjb250ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcInt7UkVQTEFDRX19XCIsIGNvbnRlbnRzLnNoaWZ0KCkuc3JjKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcG9wdXAgZnJvbSBhY3Rpb24gYW5kIGFwcGVuZCBjbG9zZSBidXR0b25cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHdpbmRvdy50b3AuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlLnRyaW0oKTtcbiAgICBjb25zdCBwb3B1cCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICBwb3B1cC5hcHBlbmRDaGlsZChwb3B1cENsb3NlQnV0dG9uKTtcbiAgICBwb3B1cFdyYXBwZXIuYXBwZW5kQ2hpbGQocG9wdXApO1xuXG4gICAgLy8gUmVtb3ZlIG9sZCBwb3B1cCBpZiBleGlzdHMgYmVmb3JlIGFwcGVuZGluZyBuZXcgb25lXG4gICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICB3aW5kb3cudG9wLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocG9wdXBXcmFwcGVyKTtcbiAgfTtcblxuICBjb25zdCBzd2FwTm9kZXMgPSBmdW5jdGlvbiBzd2FwTm9kZXMobjEsIG4yKSB7XG4gICAgY29uc3QgcDEgPSBuMS5wYXJlbnROb2RlO1xuICAgIGNvbnN0IHAyID0gbjIucGFyZW50Tm9kZTtcbiAgICBsZXQgaTE7XG4gICAgbGV0IGkyO1xuXG4gICAgaWYgKCFwMSB8fCAhcDIgfHwgcDEuaXNFcXVhbE5vZGUobjIpIHx8IHAyLmlzRXF1YWxOb2RlKG4xKSkgcmV0dXJuO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAxLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4xKSkge1xuICAgICAgICBpMSA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDIuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMi5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMikpIHtcbiAgICAgICAgaTIgPSBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwMS5pc0VxdWFsTm9kZShwMikgJiYgaTEgPCBpMikge1xuICAgICAgaTIrKztcbiAgICB9XG4gICAgcDEuaW5zZXJ0QmVmb3JlKG4yLCBwMS5jaGlsZHJlbltpMV0pO1xuICAgIHAyLmluc2VydEJlZm9yZShuMSwgcDIuY2hpbGRyZW5baTJdKTtcbiAgfTtcblxuICBjb25zdCBhY3Rpb25BcHBsaWNhdG9yID0gYXN5bmMgKGFjdGlvbnMpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHtcbiAgICAgIHNldFRpbWVvdXQoYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgICAgIGF3YWl0IGFjdGlvbkFwcGxpY2F0b3IoYWN0aW9ucyk7XG4gICAgICB9LCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgaWYgKGFjdGlvbi5jb25kaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGVsaWdpYmxlRWxlbWVudHMgPSBjaGVja0FjdGlvbkNvbmRpdGlvbihhY3Rpb24uY29uZGl0aW9uLCBwcm9kdWN0SW5mbyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxpZ2libGVFbGVtZW50cykge1xuICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCB0cmFuc2Zvcm1lcihhY3Rpb24sIGVsZW1lbnQpO1xuICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSByZXN1bHQgPSBhd2FpdCB0cmFuc2Zvcm1lcihhY3Rpb24pO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKGBDb3VsZG4ndCBhcHBseSBhY3Rpb24gJHthY3Rpb259IHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEFwcGx5IGFjdGlvbnNcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWN0aW9uQXBwbGljYXRvcihhY3Rpb25zKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBkZWZhdWx0IGFwcGx5QWN0aW9ucztcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVMsIExPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZSBDb3VudGVyIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0NvdW50ZXJSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhZ2VWaWV3XCI6XG4gICAgICByZXR1cm4gcGFnZVZpZXdIYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJDQUJhc2tldFByaWNlXCI6XG4gICAgICByZXR1cm4gY2FCYXNrZXRQcmljZUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJObyBzdWNoIG9wZXJhdG9yXCIsIG9wZXJhdG9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuY29uc3QgZ2V0Q291bnRlciA9IChjb3VudGVyLCB0eXBlKSA9PiB7XG4gIHRyeSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwic2Vzc2lvblwiOlxuICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShjb3VudGVyKTtcbiAgICAgIGNhc2UgXCJsb2NhbFwiOlxuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oY291bnRlcik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiTm8gc3VjaCB0eXBlXCIsIHR5cGUpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ2dlci5mYWlsZWQoYENvdWxkIG5vdCBnZXQgY291bnRlciAke2NvdW50ZXJ9YCwgZXJyKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY29uc3QgcGFnZVZpZXdIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgcGFnZVZpZXdzID0gcGFyc2VJbnQoZ2V0Q291bnRlcihTRVNTSU9OX1NUT1JBR0VfS0VZUy5QQUdFX1ZJRVdTLCBcInNlc3Npb25cIikpO1xuICBsb2dnZXIubG9nKFwiUGFnZSB2aWV3cyBjb3VudGVyIHZhbHVlOiBcIiwgcGFnZVZpZXdzKTtcbiAgaWYgKHBhZ2VWaWV3cyA9PT0gbnVsbCkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJQYWdldmlld3MgY291bnRlciBub3QgZm91bmQgaW4gc2Vzc2lvbiBzdG9yYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYWdlVmlld3MsIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbmNvbnN0IGNhQmFza2V0UHJpY2VIYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgY2FCYXNrZXRQcmljZSA9IHBhcnNlSW50KFxuICAgICAgZ2V0Q291bnRlcihMT0NBTF9TVE9SQUdFX0tFWVMuQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCBcImxvY2FsXCIpKTtcbiAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCBwcmljZSBjb3VudGVyIHZhbHVlOiBcIiwgY2FCYXNrZXRQcmljZSk7XG4gIGlmIChjYUJhc2tldFByaWNlID09PSBudWxsKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCBwcmljZSBjb3VudGVyIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihjYUJhc2tldFByaWNlLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuXG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtnZXRGcm9tQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGUgRGF0YUxheWVyIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0RhdGFMYXllclJ1bGUgPSBhc3luYyAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IGF3YWl0IGRhdGFMYXllckZpbmRlcihvcGVyYXRvcik7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGF0YUxheWVyRmluZGVyID0gYXN5bmMgKGtleSkgPT4ge1xuICBsb2dnZXIubG9nKFwiU2VhcmNoaW5nIGJlYWdsZUluZm9MYXllciBmb3Iga2V5IFwiLCBrZXkpO1xuICBjb25zdCByZXMgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKGtleSwgdHJ1ZSwgMTAsIDEwMDApO1xuICBpZiAocmVzKSB7XG4gICAgbG9nZ2VyLnN1Y2Nlc3MoYEZvdW5kIGtleSAke2tleX0gd2l0aCB2YWx1ZSAke3Jlc31gKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGxvZ2dlci5mYWlsZWQoYEtleSAke2tleX0gbm90IGZvdW5kIGluIGJlYWdsZUluZm9MYXllcmApO1xuICByZXR1cm4gbnVsbDtcbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlIEVsZW1lbnQgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRWxlbWVudFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlLCBzZWxlY3Rvciwgc2VsZWN0b3JBbGwsIHNlbGVjdG9yRmFsbGJhY2sgPSBudWxsfSA9IHJ1bGU7XG4gIGxldCBtYWluU2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvcikpIHtcbiAgICBtYWluU2VsZWN0b3IgPSBzZWxlY3RvckZhbGxiYWNrID8gc2VsZWN0b3JGYWxsYmFjayA6IG1haW5TZWxlY3RvcjtcbiAgfVxuXG4gIGlmIChvcGVyYXRvciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgfVxuICBpZiAobWFpblNlbGVjdG9yICYmICF3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIGxvZ2dlci5mYWlsZWQoXCJTZWxlY3RvciBub3QgZm91bmQgb24gcGFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNlbGVjdG9yQWxsICYmICF3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIlNlbGVjdG9yIG5vdCBmb3VuZCBvbiBwYWdlXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBlbGVtZW50O1xuICBpZiAobWFpblNlbGVjdG9yKSBlbGVtZW50ID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3Rvcik7XG4gIGVsc2UgaWYgKHNlbGVjdG9yQWxsKSBlbGVtZW50ID0gQXJyYXkuZnJvbSh3aW5kb3cudG9wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInRleHQtbnVtYmVyXCI6IHtcbiAgICAgIGxldCB0ZW1wVmFsO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgICAgdGVtcFZhbCA9IGVsZW1lbnQucmVkdWNlKChyZXR1cm5WYWwsIGVsZW0pID0+IHtcbiAgICAgICAgICByZXR1cm5WYWwgKz0gcGFyc2VJbnQoZWxlbS50ZXh0Q29udGVudC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcFZhbCA9IHBhcnNlSW50KHdpbmRvdy50b3AuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpLnRleHRDb250ZW50XG4gICAgICAgICAgICAucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJ1blRpbWVWYWx1ZSA9IHBhcnNlSW50KHRlbXBWYWwpO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcImNsYXNzTGlzdFwiOlxuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoQXJyYXkuZnJvbShlbGVtZW50LmNsYXNzTGlzdCksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJjb3VudFwiOiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSAmJiBlbGVtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoZWxlbWVudC5sZW5ndGgsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKDEsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoMCwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJzdHlsZVwiOiB7XG4gICAgICBjb25zdCBlbGVtZW50U3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgIGNvbnN0IHN0eWxlS2V5ID0gdmFsdWUuc3BsaXQoXCI6XCIpWzBdLnRyaW0oKTtcbiAgICAgIGNvbnN0IHN0eWxlVmFsdWUgPSB2YWx1ZS5zcGxpdChcIjpcIilbMV0udHJpbSgpO1xuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gZWxlbWVudFN0eWxlc1tzdHlsZUtleV07XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgc3R5bGVWYWx1ZSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiT3BlcmF0b3Igbm90IGRlZmluZWRcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlIEZ1bmN0aW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0Z1bmN0aW9uUnVsZSA9IChydWxlLCBvcHRzKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7cHJvZHVjdEluZm99ID0gb3B0cztcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlLCBiaW5kaW5nc30gPSBydWxlO1xuICBpZiAoIW9wZXJhdG9yKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIlJ1bGUgZnVuY3Rpb24gbm90IGRlZmluZWRcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBjb250ZXh0ID0ge307XG4gIGlmIChiaW5kaW5ncyA9PSBcInByb2R1Y3RJbmZvXCIpIHtcbiAgICBjb250ZXh0ID0ge1xuICAgICAgcHJvZHVjdEluZm8sXG4gICAgfTtcbiAgfVxuICBjb25zdCBydWxlRnVuY3Rpb24gPSBGdW5jdGlvbihvcGVyYXRvcikuYmluZChjb250ZXh0KTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gcnVsZUZ1bmN0aW9uKCk7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1bnRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG59O1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZSBTZXNzaW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1Nlc3Npb25SdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICByZXR1cm4gZHVyYXRpb25IYW5kbGVyKGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIGNhc2UgXCJoaXN0b3J5XCI6XG4gICAgICByZXR1cm4gaGlzdG9yeUhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBnZXRTZXNzaW9uVGltZXN0YW1wID0gKCkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludCh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX1RJTUVTVEFNUCkpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmZhaWxlZChcIkNvdWxkIG5vdCBnZXQgc2Vzc2lvbiB0aW1lc3RhbXBcIiwgZXJyKTtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxufTtcblxuY29uc3QgZHVyYXRpb25IYW5kbGVyID0gKGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgY29uc3QgZHVyYXRpb24gPSAoRGF0ZS5ub3coKSAtIGdldFNlc3Npb25UaW1lc3RhbXAoKSkgLyAxMDAwO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkdXJhdGlvbiwgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgaGlzdG9yeUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjdXJyZW50SGlzdG9yeSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fSElTVE9SWSk/LnNwbGl0KFwiLFwiKTtcbiAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoY3VycmVudEhpc3RvcnksIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJCZWFnbGUgVXJsIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja1VybFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG5cbiAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgIGNhc2UgXCJwYXRoXCI6IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RVUkw9IHdpbmRvdy50b3AubG9jYXRpb24uaHJlZjtcbiAgICAgIGNvbnN0IHBhdGggPSBuZXcgVVJMKHJlcXVlc3RVUkwpLnBhdGhuYW1lO1xuICAgICAgbG9nZ2VyLmxvZyhgQ2hlY2tpbmcgcGF0aCAke3BhdGh9IG1hdGNoZXMgcnVsZSBwYXRoICR7dmFsdWV9YCk7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihwYXRoLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcIlBMQUNFSE9MREVSXCI6IHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUll9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZSBFbnYgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRW52UnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcImRldmljZV90eXBlXCI6IHtcbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoTU9CSUxFX01FRElBX1FVRVJZKS5tYXRjaGVzID8gXCJtb2JpbGVcIiA6IFwiZGVza3RvcFwiO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIoaXNNb2JpbGUsIGNvbmRpdGlvbiwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiUExBQ0VIT0xERVJcIjoge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlciwgZGV0ZXJtaW5lUGN0LCBnZXRJZGVudGlmaWVyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZSBSYW5kb21QY3QgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrUmFuZG9tTnVtYmVyUnVsZSA9IGFzeW5jIChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7Y29uZGl0aW9uLCB2YWx1ZSwgc2FsdH0gPSBydWxlO1xuICBpZiAoIXNhbHQpIHtcbiAgICBsb2dnZXIuZmFpbGVkKFwiU2FsdCBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgaWRlbnRpZmllciA9IGF3YWl0IGdldElkZW50aWZpZXIoKTtcbiAgY29uc3QgcmFuZG9tUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyBzYWx0KTtcbiAgY29uc3QgcnVudGltZVZhbHVlID0gcmFuZG9tUGN0O1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZSBQcm9kdWN0SW5mbyBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tQcm9kdWN0SW5mb1J1bGUgPSAocnVsZSwgb3B0cykgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIGxldCBydW50aW1lVmFsdWUgPSBudWxsO1xuXG4gIGlmICghb3B0cz8uc2t1TGlzdCB8fCAhb3B0cz8uc2t1TGlzdC5sZW5ndGgpIHtcbiAgICBydW50aW1lVmFsdWUgPSAwO1xuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICAgIGNhc2UgXCJ0cmFuc2FjdGlvbkluMldlZWtzXCI6IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkdldHRpbmcgVHJhbnNhY3Rpb25Db3VudCBmb3Igc2t1IFwiLCBvcHRzLnNrdUxpc3RbMF0pO1xuICAgICAgICBydW50aW1lVmFsdWUgPSBnZXRUcmFuc2FjdGlvbkNvdW50KG9wdHMuc2t1TGlzdFswXSwgb3B0cy5wcm9kdWN0SW5mbyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImFkZFRvQ2FydEluMldlZWtzXCI6IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkdldHRpbmcgQWRkVG9DYXJ0Q291bnQgZm9yIHNrdSBcIiwgb3B0cy5za3VMaXN0WzBdKTtcbiAgICAgICAgcnVudGltZVZhbHVlID0gZ2V0QWRkVG9DYXJ0Q291bnQob3B0cy5za3VMaXN0WzBdLCBvcHRzLnByb2R1Y3RJbmZvKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwicHJvZHVjdFZpZXdDb3VudFwiOiB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJHZXR0aW5nIHByb2R1Y3RWaWV3Q291bnQgZm9yIHNrdSBcIiwgb3B0cy5za3VMaXN0WzBdKTtcbiAgICAgICAgcnVudGltZVZhbHVlID0gZ2V0UHJldmlld0NvdW50KG9wdHMuc2t1TGlzdFswXSwgb3B0cy5wcm9kdWN0SW5mbyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcblxuY29uc3QgZ2V0VHJhbnNhY3Rpb25Db3VudCA9IChza3UsIHByb2R1Y3RJbmZvKSA9PiB7XG4gIGlmIChza3UgJiYgcHJvZHVjdEluZm8gJiYgcHJvZHVjdEluZm9bc2t1XSkge1xuICAgIHJldHVybiBwcm9kdWN0SW5mb1tza3VdPy5jYXRhbG9nPy50cmFuc2FjdGlvbkluMldlZWtzO1xuICB9XG4gIHJldHVybiAtMTtcbn07XG5cbmNvbnN0IGdldEFkZFRvQ2FydENvdW50ID0gKHNrdSwgcHJvZHVjdEluZm8pID0+IHtcbiAgaWYgKHNrdSAmJiBwcm9kdWN0SW5mbyAmJiBwcm9kdWN0SW5mb1tza3VdKSB7XG4gICAgcmV0dXJuIHByb2R1Y3RJbmZvW3NrdV0/LmNhdGFsb2c/LmFkZFRvQ2FydEluMldlZWtzO1xuICB9XG4gIHJldHVybiAtMTtcbn07XG5cbmNvbnN0IGdldFByZXZpZXdDb3VudCA9IChza3UsIHByb2R1Y3RJbmZvKSA9PiB7XG4gIGlmIChza3UgJiYgcHJvZHVjdEluZm8gJiYgcHJvZHVjdEluZm9bc2t1XSkge1xuICAgIHJldHVybiBwcm9kdWN0SW5mb1tza3VdPy5jYXRhbG9nPy5wcm9kdWN0Vmlld0NvdW50O1xuICB9XG4gIHJldHVybiAtMTtcbn07XG4iLCJpbXBvcnQge2NoZWNrQ291bnRlclJ1bGV9IGZyb20gXCIuL2NvdW50ZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrRGF0YUxheWVyUnVsZX0gZnJvbSBcIi4vZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VsZW1lbnRSdWxlfSBmcm9tIFwiLi9lbGVtZW50Q2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0Z1bmN0aW9uUnVsZX0gZnJvbSBcIi4vZnVuY3Rpb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrU2Vzc2lvblJ1bGV9IGZyb20gXCIuL3Nlc3Npb25DaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrVXJsUnVsZX0gZnJvbSBcIi4vdXJsQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0VudlJ1bGV9IGZyb20gXCIuL2VudkNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tSYW5kb21OdW1iZXJSdWxlfSBmcm9tIFwiLi9yYW5kb21OdW1iZXJDaGVja2VyXCI7XG5pbXBvcnQge2NoZWNrUHJvZHVjdEluZm9SdWxlfSBmcm9tIFwiLi9wcm9kdWN0SW5mb0NoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZSBSdWxlIEVuZ2luZVwiKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVsZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7YmFzZVJ1bGVTZXQsIGJ1c2luZXNzUnVsZVNldCwgYmluZGluZ3MsIGNhbGxiYWNrID0gbnVsbH0gPSBib2R5O1xuICAgIHRoaXMuYmFzZVJ1bGVTZXQgPSBiYXNlUnVsZVNldDtcbiAgICB0aGlzLmJ1c2luZXNzUnVsZVNldCA9IGJ1c2luZXNzUnVsZVNldDtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5iaW5kaW5ncyA9IGJpbmRpbmdzO1xuICB9XG5cbiAgYXN5bmMgY2hlY2tSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5iYXNlUnVsZVNldCkge1xuICAgICAgY29uc3QgcnVsZVNhdGlzZmllZCA9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgaWYgKCFydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBhc3luYyBjaGVja0J1c2luZXNzUnVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuYnVzaW5lc3NSdWxlU2V0KSB7XG4gICAgICBjb25zdCBydWxlU2F0aXNmaWVkID0gYXdhaXQgdGhpcy5jaGVja1J1bGUocnVsZSk7XG4gICAgICBpZiAocnVsZVNhdGlzZmllZCkge1xuICAgICAgICByZXR1cm4gcnVsZS5idXNpbmVzc1J1bGVJZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBjaGVja1J1bGUocnVsZSkge1xuICAgIGNvbnN0IHtjaGFpbiwgY2hhaW5fY29uZGl0aW9uLCB0eXBlfSA9IHJ1bGU7XG4gICAgbGV0IHJ1bGVTYXRpc2ZpZWQgPSBudWxsO1xuICAgIC8vIGNoZWNrIHJ1bGVcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1Nlc3Npb25SdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb3VudGVyXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0NvdW50ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbGVtZW50XCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0VsZW1lbnRSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkYXRhTGF5ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGF3YWl0IGNoZWNrRGF0YUxheWVyUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1VybFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja0Z1bmN0aW9uUnVsZShydWxlLCB0aGlzLmJpbmRpbmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZW52aXJvbm1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRW52UnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmFuZG9tXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBhd2FpdCBjaGVja1JhbmRvbU51bWJlclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInByb2R1Y3RJbmZvTG9va3VwXCI6XG4gICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBjaGVja1Byb2R1Y3RJbmZvUnVsZShydWxlLCB0aGlzLmJpbmRpbmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIuZmFpbGVkKGBObyBzdWNoIHJ1bGUgdHlwZTogJHt0eXBlfWApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoY2hhaW4pIHtcbiAgICAgIHN3aXRjaCAoY2hhaW5fY29uZGl0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJhbmRcIjpcbiAgICAgICAgICBydWxlU2F0aXNmaWVkID0gcnVsZVNhdGlzZmllZCAmJiBhd2FpdCB0aGlzLmNoZWNrUnVsZShjaGFpbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkIHx8IGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhvclwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkICE9IGF3YWl0IHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIuZmFpbGVkKFwiTm8gc3VjaCBjaGFpbiBjb25kaXRpb25cIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlU2F0aXNmaWVkO1xuICB9XG59XG4iLCJpbXBvcnQge2FkZFRvQmVhZ2xlSW5mb0xheWVyfSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQgUnVsZUVuZ2luZSBmcm9tIFwiLi4vTmV4dGRheVJ1bGVFbmdpbmVcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiU2VnbWVudGF0aW9uQ29tcHV0ZXJcIik7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wdXRlU2VnbWVudCh0cmVhdG1lbnRXZWlnaHRzKSB7XG4gIGxvZ2dlci5sb2coXCJEZXRlcm1pbmluZyB1c2VyIHNlZ21lbnRcIik7XG4gIGZvciAoY29uc3Qgc2VnbWVudCBvZiBPYmplY3Qua2V5cyh0cmVhdG1lbnRXZWlnaHRzKSkge1xuICAgIGNvbnN0IHJ1bGVTZXQgPSB0cmVhdG1lbnRXZWlnaHRzW3NlZ21lbnRdPy5ydWxlU2V0O1xuICAgIGlmICghcnVsZVNldCkgY29udGludWU7XG4gICAgY29uc3Qgc2VnbWVudFJ1bGVFbmdpbmUgPSBuZXcgUnVsZUVuZ2luZSh7YmFzZVJ1bGVTZXQ6IHJ1bGVTZXQsIGJ1c2luZXNzUnVsZVNldDogW10sIGJpbmRpbmdzOiBudWxsfSk7XG4gICAgaWYgKGF3YWl0IHNlZ21lbnRSdWxlRW5naW5lLmNoZWNrUnVsZXMoKSkge1xuICAgICAgbG9nZ2VyLmxvZyhgVXNlciBzZWdtZW50IG1hdGNoZWQ6ICR7c2VnbWVudH1gKTtcbiAgICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwic1wiLCBzZWdtZW50KTtcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIH1cbiAgfVxuXG4gIGxvZ2dlci5sb2coXCJVc2VyIHNlZ21lbnQgbm90IG1hdGNoZWQsIHJldHVybmluZyBkZWZhdWx0XCIpO1xuICByZXR1cm4gXCJkZWZhdWx0XCI7XG59XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTLCBUUkVBVE1FTlRTX0RVUkFUSU9OfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2ZldGNoVHJlYXRtZW50cywgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7Y29tcHV0ZVNlZ21lbnR9IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXIvc2VnbWVudC1jb21wdXRlclwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiQmVhZ2xlIFRyZWF0bWVudCBSZXBvc2l0b3J5XCIpO1xuXG5jbGFzcyBUcmVhdG1lbnRSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHt0cmVhdG1lbnRzLCB0cmVhdG1lbnRXZWlnaHRzfSA9IGJvZHk7XG4gICAgdGhpcy50cmVhdG1lbnRzID0gdHJlYXRtZW50cztcblxuICAgIHRoaXMudHJlYXRtZW50V2VpZ2h0cyA9IHRyZWF0bWVudFdlaWdodHM7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VHJlYXRtZW50cygpIHtcbiAgICBsb2dnZXIubG9nKFwiTG9hZGluZyB0cmVhdG1lbnRzXCIpO1xuICAgIGNvbnN0IHtUUkVBVE1FTlRTfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgIGNvbnN0IHRyZWF0bWVudHNPYmogPSBKU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFRSRUFUTUVOVFMpKTtcbiAgICBsZXQgdHJlYXRtZW50cyA9IHRyZWF0bWVudHNPYmo/LnRyZWF0bWVudHM7XG4gICAgY29uc3QgdGltZXN0YW1wID0gdHJlYXRtZW50c09iaj8udGltZXN0YW1wO1xuICAgIGlmICghdHJlYXRtZW50cyB8fCAhdGltZXN0YW1wKSB7XG4gICAgICBsb2dnZXIuZmFpbGVkKFwiVHJlYXRtZW50cyBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgIH07XG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShUUkVBVE1FTlRTLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnRXaXRoVGltZXN0YW1wKSk7XG4gICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICB9XG4gICAgaWYgKHRpbWVzdGFtcCkge1xuICAgICAgY29uc3QgZWxhcHNlZERheXMgPSAoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG4gICAgICBpZiAoZWxhcHNlZERheXMgPiBUUkVBVE1FTlRTX0RVUkFUSU9OKSB7XG4gICAgICAgIGxvZ2dlci5mYWlsZWQoXCJUcmVhdG1lbnRzIGFyZSBleHBpcmVkXCIpO1xuICAgICAgICB0cmVhdG1lbnRzID0gYXdhaXQgZmV0Y2hUcmVhdG1lbnRzKCk7XG4gICAgICAgIGNvbnN0IHRyZWF0bWVudFdpdGhUaW1lc3RhbXAgPSB7XG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHRyZWF0bWVudHMsXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gICAgICB9XG4gICAgfVxuICAgIGxvZ2dlci5zdWNjZXNzKFwiVHJlYXRtZW50cyBhcmUgbG9hZGVkIGZyb20gbG9jYWwgc3RvcmFnZVwiKTtcbiAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRXZWlnaHRzKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgZmV0Y2hUcmVhdG1lbnRXZWlnaHRzKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIud2FybihlcnIubWVzc2FnZSk7XG4gICAgICB0aGlzLnRyZWF0bWVudFdlaWdodHMgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldE1hdGNoZWRUcmVhdG1lbnRzKCkge1xuICAgIGNvbnN0IHRyZWF0bWVudFdlaWdodHMgPSB0aGlzLnRyZWF0bWVudFdlaWdodHM7XG4gICAgY29uc3QgdXNlckdyb3VwID0gYXdhaXQgY29tcHV0ZVNlZ21lbnQodHJlYXRtZW50V2VpZ2h0cyk7XG4gICAgY29uc3QgdHJlYXRtZW50cyA9IHRoaXMudHJlYXRtZW50cztcbiAgICBpZiAodHJlYXRtZW50V2VpZ2h0cykge1xuICAgICAgY29uc3QgdXNlckdyb3VwV2VpZ2h0cyA9ICh1c2VyR3JvdXAgJiYgdHJlYXRtZW50V2VpZ2h0c1t1c2VyR3JvdXBdKSA/XG4gICAgICB0cmVhdG1lbnRXZWlnaHRzW3VzZXJHcm91cF0gOiB0cmVhdG1lbnRXZWlnaHRzW1wiZGVmYXVsdFwiXTtcbiAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHRyZWF0bWVudHMpIHtcbiAgICAgICAgdHJlYXRtZW50LndlaWdodCA9IHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50Py5pZF0/LndlaWdodCB8fCAwO1xuICAgICAgICBpZiAoIXRyZWF0bWVudC5hY3Rpb25zLnNvbWUoKGEpID0+IGEudmFyaWFudHMpKSBjb250aW51ZTtcbiAgICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgdHJlYXRtZW50LmFjdGlvbnMpIHtcbiAgICAgICAgICBpZiAoIWFjdGlvbi52YXJpYW50cykgY29udGludWU7XG4gICAgICAgICAgZm9yIChjb25zdCB2YXJpYW50S2V5IG9mIE9iamVjdC5rZXlzKGFjdGlvbi52YXJpYW50cykpIHtcbiAgICAgICAgICAgIGlmICh1c2VyR3JvdXBXZWlnaHRzW3RyZWF0bWVudC5pZF0/LnZhcmlhbnRzICYmIHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXT8udmFyaWFudHNbdmFyaWFudEtleV0pIHtcbiAgICAgICAgICAgICAgYWN0aW9uLnZhcmlhbnRzW3ZhcmlhbnRLZXldLndlaWdodCA9IHVzZXJHcm91cFdlaWdodHNbdHJlYXRtZW50LmlkXS52YXJpYW50c1t2YXJpYW50S2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsb2dnZXIubG9nKGAke3RyZWF0bWVudHMubGVuZ3RofSB0cmVhdG1lbnRzIHVzZXIgZ3JvdXAgbWF0Y2hlZGApO1xuICAgIGlmICghdHJlYXRtZW50cy5sZW5ndGgpIHJldHVybiBbXTtcbiAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmVhdG1lbnRSZXBvc2l0b3J5O1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgYXBwbHlBY3Rpb25zIGZyb20gXCIuLi9OZXh0ZGF5QXBwbHlBY3Rpb25zL2luZGV4XCI7XG5pbXBvcnQgVHJlYXRtZW50UmVwb3NpdG9yeSBmcm9tIFwiLi4vTmV4dGRheVRyZWF0bWVudFJlcG9zaXRvcnkvaW5kZXhcIjtcbmltcG9ydCBSdWxlRW5naW5lIGZyb20gXCIuLi9OZXh0ZGF5UnVsZUVuZ2luZVwiO1xuaW1wb3J0IHtcbiAgYWRkVHJlYXRtZW50LFxuICBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyLFxufSBmcm9tIFwiLi4vQmVhZ2xlSW5mb0xheWVyXCI7XG5pbXBvcnQge1xuICBNT0JJTEVfTUVESUFfUVVFUlksXG4gIFRSRUFUTUVOVF9SQVRJTyxcbn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMsXG4gIGluamVjdFN0eWxlU2hlZXQsXG4gIHJlbW92ZURvY3VtZW50SGlkZSxcbiAgZGV0ZXJtaW5lUGN0LFxuICBwcmVwYXJlQWN0aW9ucyxcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIkJlYWdsZU9uQ29tcG9uZW50XCIpO1xuXG5jb25zdCBiZWFnbGVPbiA9IGFzeW5jIChpZGVudGlmaWVyLCBtb25pdG9yLCBkZWJ1Z01vZGUsIHBhZ2VUeXBlLCBwcm9kdWN0SW5mbykgPT4ge1xuICBjb25zdCB0cmVhdG1lbnRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50cygpO1xuICBjb25zdCB0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSA9IFRyZWF0bWVudFJlcG9zaXRvcnkuZ2V0VHJlYXRtZW50V2VpZ2h0cygpO1xuXG4gIGluamVjdFN0eWxlU2hlZXQoKTtcbiAgaW5pdGlhdGVTZXNzaW9uU3RvcmFnZXMoKTtcblxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICBsZXQgZGVidWdGaWx0ZXJlZFRyZWF0bWVudHMgPSBudWxsO1xuICBpZiAoZGVidWdNb2RlICYmIHNlYXJjaFBhcmFtcy5pbmNsdWRlcyhcImZpbHRlcj1cIikpIHtcbiAgICBkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cyA9IHNlYXJjaFBhcmFtcy5zbGljZShcbiAgICAgICAgc2VhcmNoUGFyYW1zLmluZGV4T2YoXCJbXCIpICsgMSxcbiAgICAgICAgc2VhcmNoUGFyYW1zLmxhc3RJbmRleE9mKFwiXVwiKSxcbiAgICApLnNwbGl0KFwiLFwiKS5tYXAoKGl0ZW0pID0+IHBhcnNlSW50KGl0ZW0sIDEwKSk7XG4gIH1cblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICByZW1vdmVEb2N1bWVudEhpZGUoKTtcbiAgfSwgMjAwMCk7XG5cbiAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gIGNvbnN0IE9CU0VSVkVSX0NPTkZJRyA9IHtzdWJ0cmVlOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIGF0dHJpYnV0ZXM6IHRydWV9O1xuXG4gIGNvbnN0IFt0cmVhdG1lbnRzLCB0cmVhdG1lbnRXZWlnaHRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFt0cmVhdG1lbnRzUHJvbWlzZSwgdHJlYXRtZW50V2VpZ2h0c1Byb21pc2VdKTtcblxuICBsb2dnZXIuc3VjY2VzcyhcIkZvdW5kIHRyZWF0bWVudHM6IFwiLCB0cmVhdG1lbnRzKTtcblxuICBjb25zdCB0cmVhdG1lbnRSZXBvc2l0b3J5ID0gbmV3IFRyZWF0bWVudFJlcG9zaXRvcnkoe1xuICAgIHRyZWF0bWVudHMsXG4gICAgdHJlYXRtZW50V2VpZ2h0cyxcbiAgfSk7XG5cbiAgY29uc3QgbWF0Y2hlZFRyZWF0bWVudHMgPSBhd2FpdCB0cmVhdG1lbnRSZXBvc2l0b3J5LmdldE1hdGNoZWRUcmVhdG1lbnRzKCk7XG4gIGlmICghbWF0Y2hlZFRyZWF0bWVudHMubGVuZ3RoKSB7XG4gICAgbG9nZ2VyLmxvZyhcIk5vIHRyZWF0bWVudHMgbWF0Y2hlZCwgcmV0dXJuaW5nIHdpdGhvdXQgZnVydGhlciBhY3Rpb25cIik7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlQXBwbHlUcmVhdG1lbnRzTWFwID0ge307XG4gIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIG1hdGNoZWRUcmVhdG1lbnRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIkVycm9yIGV4ZWN1dGluZyBydWxlc1wiLCBlcnIpO1xuICAgIH1cbiAgfVxuICByZW1vdmVEb2N1bWVudEhpZGUoKTtcblxuICBsb2dnZXIuc3VjY2VzcyhcIkFwcGxpZWQgdHJlYXRtZW50czogXCIsIGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJhXCIpKTtcblxuICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgbW9uaXRvci51cGRhdGVMYXRlc3RDaGFuZ2VzKCk7XG4gIH0sIDEwMDApO1xuXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlQXBwbHlUcmVhdG1lbnRzTWFwKSkge1xuICAgIGNvbnN0IHRyZWF0bWVudElkcyA9IHJlQXBwbHlUcmVhdG1lbnRzTWFwW2tleV07XG4gICAgY29uc3QgcmVBcHBseVRyZWF0bWVudHMgPSBtYXRjaGVkVHJlYXRtZW50cy5maWx0ZXIoKHQpID0+IHRyZWF0bWVudElkcy5pbmNsdWRlcyh0LmlkKSk7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgXCJpbmZpbml0ZV9zY3JvbGxcIjoge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGluZmluaXRlX3Njcm9sbGApO1xuICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh3aW5kb3cudG9wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRpbWVvdXRcIjoge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHRpbWVvdXRgKTtcbiAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZWxlbWVudF9jaGFuZ2VcIjoge1xuICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgIGNvbnN0IHJlYXBwbHlTZWxlY3Rvckxpc3QgPSBBcnJheS5pc0FycmF5KHRyZWF0bWVudC5yZWFwcGx5X3NlbGVjdG9yKSA/XG4gICAgICAgICAgICB0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvciA6IFt0cmVhdG1lbnQucmVhcHBseV9zZWxlY3Rvcl07XG4gICAgICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiByZWFwcGx5U2VsZWN0b3JMaXN0KSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gd2luZG93LnRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGVsZW1lbnRfY2hhbmdlYCk7XG4gICAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm9uX3Njcm9sbFwiOiB7XG4gICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gb25fc2Nyb2xsYCk7XG4gICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInF1ZXJ5X3NlYXJjaF9jaGFuZ2VcIjoge1xuICAgICAgICBsZXQgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uc2VhcmNoICE9PSBxdWVyeVN0cmluZykge1xuICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHF1ZXJ5X3NlYXJjaF9jaGFuZ2VgKTtcbiAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgT0JTRVJWRVJfQ09ORklHKTtcbiAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiaW50ZXJ2YWxcIjpcbiAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICBjb25zdCByZWFwcGx5SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gaW50ZXJ2YWxgKTtcbiAgICAgICAgICAgIGF3YWl0IGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgY29uc3QgYXBwbGllZCA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJhXCIsIHRydWUpO1xuICAgICAgICAgICAgaWYgKGFwcGxpZWQ/Llt0cmVhdG1lbnQuaWRdKSB7XG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVhcHBseUludGVydmFsKTtcbiAgICAgICAgICAgICAgcmVBcHBseVRyZWF0bWVudHNNYXAuaW50ZXJ2YWwgPSByZUFwcGx5VHJlYXRtZW50c01hcC5pbnRlcnZhbC5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gdHJlYXRtZW50LmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dnZXIuZmFpbGVkKFwiUmVhcHBseSBldmVudCBub3QgZm91bmQ6IFwiLCBrZXkpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBhY3Rpb25zLFxuICAgICAgYmFzZVJ1bGVTZXQsXG4gICAgICBkZXZpY2UsXG4gICAgICBkZXBlbmRhbnRfb25fdHJlYXRtZW50LFxuICAgICAgcmVhcHBseV9ldmVudCxcbiAgICAgIHJlYXBwbHlfZXZlbnRfcGFnZV90eXBlLFxuICAgICAgYnVzaW5lc3NSdWxlU2V0LFxuICAgICAgd2VpZ2h0LFxuICAgICAgZGVsYXksXG4gICAgICBwcm9kdWN0SW5mb1N0b3JhZ2UsXG4gICAgfSA9IHRyZWF0bWVudDtcbiAgICBpZiAoZGVidWdNb2RlICE9PSAxICYmICF3ZWlnaHQpIHJldHVybjtcbiAgICBpZiAoZGVidWdNb2RlICYmIGRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzICYmICFkZWJ1Z0ZpbHRlcmVkVHJlYXRtZW50cy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRldmljZSA9PT0gXCJtb2JpbGVcIiAmJiAhaXNNb2JpbGUpIHtcbiAgICAgIGxvZ2dlci5mYWlsZWQoXCJUcmVhdG1lbnQgZGV2aWNlICdtb2JpbGUnIG1pc21hdGNoXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZGV2aWNlID09PSBcImRlc2t0b3BcIiAmJiBpc01vYmlsZSkge1xuICAgICAgbG9nZ2VyLmZhaWxlZChcIlRyZWF0bWVudCBkZXZpY2UgJ2Rlc2t0b3AnIG1pc21hdGNoXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocmVhcHBseV9ldmVudCkge1xuICAgICAgaWYgKCFyZWFwcGx5X2V2ZW50X3BhZ2VfdHlwZSB8fCByZWFwcGx5X2V2ZW50X3BhZ2VfdHlwZSA9PT0gcGFnZVR5cGUpIHtcbiAgICAgICAgbGV0IHJlYXBwbHlfZXZlbnRfYXJyYXkgPSByZWFwcGx5X2V2ZW50O1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVhcHBseV9ldmVudCkpIHJlYXBwbHlfZXZlbnRfYXJyYXkgPSBbcmVhcHBseV9ldmVudF07XG4gICAgICAgIGxvZ2dlci5sb2coYFJlYXBwbHkgZXZlbnQgJyR7cmVhcHBseV9ldmVudH0nIGZvdW5kIGZvciB0cmVhdG1lbnQ6ICR7aWR9YCk7XG4gICAgICAgIGZvciAoY29uc3QgcmVhcHBseUV2ZW50IG9mIHJlYXBwbHlfZXZlbnRfYXJyYXkpIHtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA/XG4gICAgICAgICAgICByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdIDogW107XG4gICAgICAgICAgaWYgKHByZXZpb3VzVmFsdWUuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IGFscmVhZHkgYWRkZWQgZm9yIHJlYXBwbHkgZXZlbnRcIik7XG4gICAgICAgICAgfSBlbHNlIHJlQXBwbHlUcmVhdG1lbnRzTWFwW3JlYXBwbHlFdmVudF0gPSBbLi4ucHJldmlvdXNWYWx1ZSwgaWRdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb2R1Y3RJbmZvU3RvcmFnZSAmJiBwcm9kdWN0SW5mb1N0b3JhZ2UgPT09IFwiYmFza2V0XCIpIHtcbiAgICAgIHByb2R1Y3RJbmZvID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcIl9fU0tVc29uTGFzdEJhc2tldExvb2t1cFwiLCB0cnVlLCA1LCAyNTApO1xuICAgIH1cblxuICAgIGNvbnN0IGJpbmRpbmdzID0ge3Byb2R1Y3RJbmZvfTtcbiAgICBjb25zdCBydWxlRW5naW5lID0gbmV3IFJ1bGVFbmdpbmUoe2Jhc2VSdWxlU2V0LCBidXNpbmVzc1J1bGVTZXQsIGJpbmRpbmdzfSk7XG4gICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIGJhc2UgcnVsZSBzZXQgY2hlY2sgZm9yIHRyZWF0bWVudDogXCIgKyBpZCk7XG4gICAgaWYgKCFiYXNlUnVsZVNldCB8fCBhd2FpdCBydWxlRW5naW5lLmNoZWNrUnVsZXMoKSkge1xuICAgICAgbGV0IHRyZWF0bWVudFNraXBSYXRpbyA9IHdlaWdodCA9PT0gMTAwID8gMCA6ICgxMDAgLSB3ZWlnaHQgfHwgVFJFQVRNRU5UX1JBVElPKTtcbiAgICAgIGlmIChkZXBlbmRhbnRfb25fdHJlYXRtZW50KSB7XG4gICAgICAgIC8vIElmIGRlcGVuZGFudCBvbiB0cmVhdG1lbnQgaXMgZm91bmQgYW5kIGhhcyB3ZWlnaHQ7IHVzZSBpdHMgc2tpcCByYXRpb1xuICAgICAgICBjb25zdCBkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCA9IG1hdGNoZWRUcmVhdG1lbnRzLmZpbmQoKHQpID0+IHQuaWQgPT09IGRlcGVuZGFudF9vbl90cmVhdG1lbnQpPy53ZWlnaHQ7XG4gICAgICAgIHRyZWF0bWVudFNraXBSYXRpbyA9IGRlcGVuZGFudE9uVHJlYXRtZW50V2VpZ2h0ID09PSAxMDAgPyAwIDogKDEwMCAtIGRlcGVuZGFudE9uVHJlYXRtZW50V2VpZ2h0IHx8XG4gICAgICAgICAgVFJFQVRNRU5UX1JBVElPKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgc2tpcCByYXRpbzogXCIgKyB0cmVhdG1lbnRTa2lwUmF0aW8pO1xuICAgICAgLy8gRGV0ZXJtaW5pbmcgaWRlbnRpZmllciBmb3IgY2FsY3VsYXRpbmcgdHJlYXRtZW50IHBlcmNlbnRhZ2UgKHRyZWF0bWVudFBjdClcbiAgICAgIGNvbnN0IGRldGVybWluaW5nSWRlbnRpZmllciA9IGRlcGVuZGFudF9vbl90cmVhdG1lbnQgfHwgaWQ7XG5cbiAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIHRyZWF0bWVudCB1c2VkIHRvIGRldGVybWluZSBpZiBpdCBzaG91bGQgYmUgc2tpcHBlZCBvciBub3RcbiAgICAgIC8vIHRyZWF0bWVudFBjdCBpcyAxMDAgd2hlbiBkZWJ1ZyBtb2RlIGlzIDEsIGVuc3VyaW5nIG5vIHRyZWF0bWVudHMgYXJlIHNraXBwZWRcbiAgICAgIGNvbnN0IHRyZWF0bWVudFBjdCA9IGRlYnVnTW9kZSA9PT0gMSA/IDEwMCA6IGF3YWl0IGRldGVybWluZVBjdChpZGVudGlmaWVyICsgZGV0ZXJtaW5pbmdJZGVudGlmaWVyKTtcbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRQY3Q6IFwiICsgdHJlYXRtZW50UGN0ICsgYCB3aXRoIGRlYnVnIG1vZGUgJHtkZWJ1Z01vZGUgPyBcIm9uXCIgOiBcIm9mZlwifWApO1xuICAgICAgbGV0IGJ1c2luZXNzUnVsZUlkID0gbnVsbDtcbiAgICAgIGlmIChidXNpbmVzc1J1bGVTZXQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlN0YXJ0aW5nIHN1YiB2YXJpYW50IHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgICBidXNpbmVzc1J1bGVJZCA9IGF3YWl0IHJ1bGVFbmdpbmUuY2hlY2tCdXNpbmVzc1J1bGVzKCk7XG4gICAgICAgIGlmIChidXNpbmVzc1J1bGVJZCkge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBidXNpbmVzcyBydWxlIHRyYW5zZm9ybWF0aW9uIHdpdGggaWQ6IFwiLCBidXNpbmVzc1J1bGVJZCk7XG4gICAgICAgIH0gZWxzZSBsb2dnZXIubG9nKFwiQXBwbHlpbmcgdHJlYXRtZW50IHdpdGggZGVmYXVsdCB2YWx1ZXNcIik7XG4gICAgICB9XG4gICAgICBpZiAodHJlYXRtZW50UGN0IDwgdHJlYXRtZW50U2tpcFJhdGlvKSB7XG4gICAgICAgIGxvZ2dlci5sb2coYFRyZWF0bWVudCAke2lkfSBza2lwcGVkIGR1ZSB0byB0cmVhdG1lbnQgc3BsaXQgcmF0aW9gKTtcbiAgICAgICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgbnVsbCwgXCJza2lwcGVkXCIsIGRlcGVuZGFudF9vbl90cmVhdG1lbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWRlbGF5KSBhd2FpdCBwcmVwYXJlQW5kQXBwbHkoaWQsIGlkZW50aWZpZXIsIGFjdGlvbnMsIGJ1c2luZXNzUnVsZUlkLCBiaW5kaW5ncyk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcHJlcGFyZUFuZEFwcGx5KGlkLCBpZGVudGlmaWVyLCBhY3Rpb25zLCBidXNpbmVzc1J1bGVJZCwgYmluZGluZ3MpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGxvZ2dlci5mYWlsZWQoXCJSdWxlIGNoZWNrIGZhaWxlZCBmb3IgdHJlYXRtZW50OiBcIiwgaWQpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBiZWFnbGVPbjtcblxuYXN5bmMgZnVuY3Rpb24gcHJlcGFyZUFuZEFwcGx5KGlkLCBpZGVudGlmaWVyLCBhY3Rpb25zLCBidXNpbmVzc1J1bGVJZCwgYmluZGluZ3MpIHtcbiAgY29uc3QgW3ByZXBhcmVkLCB2YXJpYW50XSA9IGF3YWl0IHByZXBhcmVBY3Rpb25zKGlkZW50aWZpZXIsIGFjdGlvbnMsIGJ1c2luZXNzUnVsZUlkKTtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXBwbHlBY3Rpb25zKHByZXBhcmVkLCBiaW5kaW5ncyk7XG4gIGlmIChyZXMgPT09IGZhbHNlKSB7XG4gICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgXCJmYWlsZWRcIik7XG4gIH0gZWxzZSB7XG4gICAgYWRkVHJlYXRtZW50KGlkLCBidXNpbmVzc1J1bGVJZCwgdmFyaWFudCwgXCJhcHBsaWVkXCIpO1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBNb25pdG9yIGZyb20gXCIuLi9OZXh0ZGF5TW9uaXRvci9pbmRleFwiO1xuaW1wb3J0IGJlYWdsZU9uIGZyb20gXCIuLi9CZWFnbGVPblwiO1xuaW1wb3J0IHtcbiAgZ2V0RnJvbUJlYWdsZUluZm9MYXllcixcbiAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIsXG4gIGluaXRpYWxpemVCZWFnbGVJbmZvTGF5ZXIsXG59IGZyb20gXCIuLi9CZWFnbGVJbmZvTGF5ZXJcIjtcbmltcG9ydCB7XG4gIFNQTElUX1JBVElPLFxuICBTRVNTSU9OX1NUT1JBR0VfS0VZUyxcbiAgTE9DQUxfU1RPUkFHRV9LRVlTLFxuICBNQVhfVElNRU9VVF9QRVJfU0VTU0lPTixcbn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgZ2V0SWRlbnRpZmllcixcbiAgcmVtb3ZlRG9jdW1lbnRIaWRlLFxuICBkZXRlcm1pbmVQY3QsXG4gIGdldERlYnVnTW9kZSxcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbihhc3luYyBmdW5jdGlvbigpIHtcbiAgbGV0IG1vbml0b3IgPSBudWxsO1xuICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4gIGxvZ2dlci5pbmZvKFwiQmVhZ2xlIGluaXRpYWxpemluZ1wiKTtcbiAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG5cbiAgdHJ5IHtcbiAgICAvLyBhc3luYyBzdGFydCBpbmZvTGF5ZXIgcG9wdWxhdGlvblxuICAgIGluaXRpYWxpemVCZWFnbGVJbmZvTGF5ZXIoKTtcblxuICAgIC8vIGNoZWNrIGlmIGRlYnVnIG1vZGUgaXMgb24sIGFsc28gYWRkcyBkYm0gdG8gYmVhZ2xlSW5mb0xheWVyIGFuZCBzZXRzIG9vc1JlYXNvblxuICAgIGNvbnN0IGRlYnVnTW9kZSA9IGdldERlYnVnTW9kZShcImVtcGxveWVlXCIpO1xuICAgIG1vbml0b3IgPSBuZXcgTW9uaXRvcigpO1xuXG4gICAgY29uc3QgaWRlbnRpZmllciA9IGF3YWl0IGdldElkZW50aWZpZXIoKTtcbiAgICBsb2dnZXIubG9nKFwiRm91bmQgY29va2llIGlkZW50aWZpZXI6IFwiLCBpZGVudGlmaWVyKTtcbiAgICBhZGRUb0JlYWdsZUluZm9MYXllcihcImNvb2tpZUdhSWRcIiwgaWRlbnRpZmllcik7XG4gICAgY29uc3QgY29va2llUGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIpO1xuICAgIGFkZFRvQmVhZ2xlSW5mb0xheWVyKFwib25IYXNoUGN0XCIsIGNvb2tpZVBjdCk7XG5cbiAgICAvLyBpZiBjYW5ub3QgZ2V0IGNyaXRpY2FsIGluZm8sIG1ha2Ugb3V0IG9mIHNjb3BlIGFuZCB1bnN1cHBvcnRlZFxuICAgIGlmIChcbiAgICAgIGNvb2tpZVBjdCA9PT0gLTEgfHxcbiAgICAgICFuYXZpZ2F0b3Iuc2VuZEJlYWNvbiB8fFxuICAgICAgdHlwZW9mIG5hdmlnYXRvci5zZW5kQmVhY29uICE9PSBcImZ1bmN0aW9uXCJcbiAgICApIHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcInVuc3VwcG9ydGVkXCJ9KTtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuT1VUX09GX1NDT1BFLCBcInVuc3VwcG9ydGVkXCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGV2aWNlIGRvZXMgbm90IGhhdmUgcmVxdWlyZWQgY2FwYWJpbGl0aWVzXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IG9vc1JlYXNvbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuT1VUX09GX1NDT1BFKTtcbiAgICBjb25zdCBpc0xhYmVsU2VudCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuSVNfTEFCRUxfU0VOVCk7XG4gICAgY29uc3QgdGltZW91dENvdW50ZXIgPSBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlRJTUVPVVRfQ09VTlQpKSB8fCAwO1xuXG4gICAgLy8gaWYgdGltZWQtb3V0IHRvbyBtYW55IHRpbWVzIGZvciB2ZXJ5IGZpcnN0IGludGVyYWN0c2lvbnMsIG1ha2Ugb3V0IG9mIHNjb3BlIGZvciB0aGUgc2Vzc2lvblxuICAgIGlmICghZGVidWdNb2RlICYmICFvb3NSZWFzb24gJiYgIWlzTGFiZWxTZW50ICYmIHRpbWVvdXRDb3VudGVyID4gTUFYX1RJTUVPVVRfUEVSX1NFU1NJT05cbiAgICApIHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcInVuc3VwcG9ydGVkXCJ9KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkJlYWdsZSB0aW1lb3V0IHRocmVzaG9sZCByZWFjaGVkXCIpO1xuICAgIH1cblxuICAgIC8vIFZpdmVuc2Ugc3BlY2lmaWM6IENoZWNrIGlmIHVzZXIgaXMgYWRtaW4sIG1ha2luZyB0aGVtIG91dCBvZiBzY29wZVxuICAgIC8vIFRoaXMgbmVlZHMgdG8gd2FpdCBmb3IgaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciB0byBzZXQgdGhlIHZ2c0lzU2hvd3Jvb20gdmFsdWVcbiAgICBjb25zdCBpc1Nob3dyb29tID0gYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInZ2c0lzU2hvd3Jvb21cIiwgdHJ1ZSk7XG4gICAgaWYgKGlzU2hvd3Jvb20gJiYgaXNTaG93cm9vbSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBcImVtcGxveWVlXCJ9KTtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuT1VUX09GX1NDT1BFLCBcImVtcGxveWVlXCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBpcyBmcm9tIFZWUyBzaG93cm9vbS9jYWxsY2VudGVyXCIpO1xuICAgIH0gZWxzZSBpZiAoaXNTaG93cm9vbSA9PT0gbnVsbCB8fCBpc1Nob3dyb29tID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgaWYgdXNlciBpcyBmcm9tIFZWUyBzaG93cm9vbS9jYWxsY2VudGVyXCIpO1xuICAgIH1cblxuICAgIGlmICghd2luZG93LnRvcC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmV4dERheS1oaWRlXCIpKSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRJTUVPVVRfQ09VTlQsIHRpbWVvdXRDb3VudGVyICsgMSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCZWFnbGUgc2NyaXB0IHRpbWVkIG91dFwiKTtcbiAgICB9XG5cbiAgICAvLyBpc09uIGNhbiBiZSB0cnVlIChPTiksIGZhbHNlIChPRkYpLCBvciBudWxsIChERUJVRylcbiAgICBsZXQgaXNPbiA9IG51bGw7XG5cbiAgICBpZiAoZGVidWdNb2RlKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcIkRlYnVnIG1vZGUgb246IGFsbCBhcHBsaWNhYmxlIHRyZWF0bWVudHMgd2lsbCBiZSBhcHBsaWVkXCIpO1xuICAgICAgaXNPbiA9IHRydWU7XG4gICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogXCJlbXBsb3llZVwifSk7XG4gICAgfSBlbHNlIGlmIChvb3NSZWFzb24pIHtcbiAgICAgIGxvZ2dlci53YXJuKFwiVXNlciBpcyBvdXQgb2Ygc2NvcGVcIik7XG4gICAgICAvLyBzZXQgaXNPbiB0byB0cnVlL2ZhbHNlIHdoZW4gbm90IGRlYnVnTW9kZSBidXQgb3V0IG9mIHNjb3BlIGkuZS4gbmRfZGVidWc9MCBmb3IgdGVzdGFiaWxpdHlcbiAgICAgIGlzT24gPSBjb29raWVQY3QgPj0gU1BMSVRfUkFUSU87XG4gICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe2V2ZW50OiBcIkdMT1ZcIiwgR0xPVl9PTjogb29zUmVhc29ufSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIGdyZWF0ZXIgdGhhbiBTUExJVF9SQVRJTywgdGhlbiBpbiBPTiBtb2RlXG4gICAgICBpc09uID0gY29va2llUGN0ID49IFNQTElUX1JBVElPO1xuICAgICAgYWRkVG9CZWFnbGVJbmZvTGF5ZXIoXCJpc09uXCIsIGlzT24pO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5JU19MQUJFTF9TRU5ULCB0cnVlKTtcbiAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiBpc09uLnRvU3RyaW5nKCl9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNPbiA9PT0gZmFsc2UpIHRocm93IG5ldyBFcnJvcihcIkNvbnRyb2wgZ3JvdXA6IG5vIHRyZWF0bWVudHMgYXBwbGllZFwiKTtcblxuICAgIGxvZ2dlci5sb2coXCJGb3VuZCBjb29raWUgcGVyY2VudGFnZTogXCIsIGNvb2tpZVBjdCk7XG4gICAgbG9nZ2VyLmxvZyhcIlNwbGl0X3JhdGlvOiBcIiwgU1BMSVRfUkFUSU8pO1xuICAgIGxvZ2dlci5sb2coXCJjb29raWVQY3QgPCBTUExJVF9SQVRJT1wiLCBjb29raWVQY3QgPCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmluZm8oYENvbnRyb2wgZ3JvdXAgcmF0aW86ICR7U1BMSVRfUkFUSU99JWApO1xuXG4gICAgLy8gVE9ETzogcHVzaCBPTiAvIE9GRiBsb2dpYyBpbnRvIGJlYWdsZU9uIGFuZCBiZWFnbGVPZmYgZnVuY3Rpb25zIHRvIG1ha2UgbWFpbiBlbnRyeSBnZW5lcmljXG4gICAgLy8gYXdhaXQgY3JpdGljYWwgaW5mbyBwb3B1bGF0aW9uIHRvIGFwcGx5IHRyZWF0bWVudHMsIHNpbmNlIHRoZXkgYXJlIGRlcGVuZGVudCBhbmQgdGFpbG9yZWQgdG8gcGFnZVR5cGVcbiAgICBjb25zdCBwYWdlVHlwZSA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJQYWdlVHlwZVwiLCB0cnVlKTtcbiAgICBsZXQgcHJvZHVjdEluZm8gPSBudWxsO1xuICAgIGlmIChbXCJMaXN0aW5ncGFnZVwiLCBcIlByb2R1Y3RwYWdlXCIsIFwiYmFza2V0XCJdLmluY2x1ZGVzKHBhZ2VUeXBlKSkge1xuICAgICAgcHJvZHVjdEluZm8gPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiX19TS1Vzb25QYWdlTG9va3VwXCIsIHRydWUsIDEwLCA1MDApO1xuICAgIH0gZWxzZSBpZiAoW1wicHVyY2hhc2VcIl0uaW5jbHVkZXMocGFnZVR5cGUpKSB7XG4gICAgICBwcm9kdWN0SW5mbyA9IGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJfX1NLVXNvblBhZ2VMb29rdXBcIiwgdHJ1ZSwgMTAsIDUwMCk7XG4gICAgICBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwicHVyY2hhc2UucmV2ZW51ZVwiLCB0cnVlLCAxMCwgNTAwKTtcbiAgICAgIGF3YWl0IGdldEZyb21CZWFnbGVJbmZvTGF5ZXIoXCJwdXJjaGFzZS5wYXltZW50VHlwZVwiLCB0cnVlLCAxMCwgNTAwKTtcbiAgICB9XG5cbiAgICBtb25pdG9yLnNlbmRMb2dzKCk7XG4gICAgYmVhZ2xlT24oaWRlbnRpZmllciwgbW9uaXRvciwgZGVidWdNb2RlLCBwYWdlVHlwZSwgcHJvZHVjdEluZm8pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIud2FybihcIkJlYWdsZSBhbHRlcm5hdGUgcGF0aDogXCIsIGVyci5tZXNzYWdlKTtcblxuICAgIC8vIGF3YWl0IGNyaXRpY2FsIGluZm8gYmVmb3JlIHNlbmRpbmcgT0ZGIGxvZ3MgZm9yIHByb3BlciBhbmFseXRpY3MgbWVhc3VyZW1lbnRzXG4gICAgY29uc3QgcGFnZVR5cGUgPSBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwiUGFnZVR5cGVcIiwgdHJ1ZSk7XG4gICAgaWYgKFtcInB1cmNoYXNlXCJdLmluY2x1ZGVzKHBhZ2VUeXBlKSkge1xuICAgICAgYXdhaXQgZ2V0RnJvbUJlYWdsZUluZm9MYXllcihcInB1cmNoYXNlLnJldmVudWVcIiwgdHJ1ZSwgMTAsIDUwMCk7XG4gICAgICBhd2FpdCBnZXRGcm9tQmVhZ2xlSW5mb0xheWVyKFwicHVyY2hhc2UucGF5bWVudFR5cGVcIiwgdHJ1ZSwgMTAsIDUwMCk7XG4gICAgfVxuXG4gICAgbW9uaXRvci5zZW5kTG9ncyhlcnIubWVzc2FnZSwgdHJ1ZSk7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gIH1cbn0pKCk7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInJ1bnRpbWUiLCJ1bmRlZmluZWQiLCJPcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIlN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZXJyIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwic2VsZiIsInRyeUxvY3NMaXN0IiwicHJvdG9HZW5lcmF0b3IiLCJHZW5lcmF0b3IiLCJnZW5lcmF0b3IiLCJjcmVhdGUiLCJjb250ZXh0IiwiQ29udGV4dCIsIl9pbnZva2UiLCJzdGF0ZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJtZXRob2QiLCJhcmciLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkVycm9yIiwiR2VuU3RhdGVDb21wbGV0ZWQiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJkb25lIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJmbiIsImNhbGwiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJ0aGlzIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VsdCIsIl9fYXdhaXQiLCJ0aGVuIiwidW53cmFwcGVkIiwiZXJyb3IiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsIlR5cGVFcnJvciIsImluZm8iLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJsb2NzIiwiZW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImxlbmd0aCIsImkiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJpdGVyIiwia2V5cyIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZ2V0IiwicHJvcCIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsIl9uZXh0IiwiX3Rocm93IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfdHlwZW9mIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiVFJFQVRNRU5UX1dFSUdIVFNfTE9DQVRJT04iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJpbmNsdWRlcyIsIkxPR19BUElfVVJMIiwiTU9CSUxFX01FRElBX1FVRVJZIiwiU1BMSVRfUkFUSU8iLCJJRExFX1RJTUVPVVQiLCJTRVNTSU9OX1NUT1JBR0VfS0VZUyIsIkxPQ0FMX1NUT1JBR0VfS0VZUyIsIkxvZ2dlciIsIm9yaWdpbiIsIkRFQlVHIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlQ29uZmlnIiwiYXJndW1lbnQiLCJ3YXJuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJtaW5MZW4iLCJ0b1N0cmluZyIsImZyb20iLCJ0ZXN0IiwiX3NsaWNlZFRvQXJyYXkiLCJpc0FycmF5IiwiX2kiLCJfcyIsIl9lIiwiX2FyciIsIl9uIiwiX2QiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJpbmRleGVzIiwiZmllbGRzIiwib3B0aW9ucyIsImtleVBhdGgiLCJhdXRvSW5jcmVtZW50IiwiX3dpbmRvdyIsIkJlYWdsZURhdGFDb2xsZWN0aW9uV3JhcHBlciIsImluaXRpYWxpemVkIiwiY2h1bmsiLCJNYXRoIiwiZmxvb3IiLCJnZXRDb2xsZWN0aW9uRGF0YVNpemUiLCJjb25maWciLCJpZGIiLCJnZXRJbmRleGVkRGIiLCJvcGVuIiwiaW5pdCIsImNhdGNoIiwicGFyc2VJbnQiLCJpc1N1cHBvcnRlZCIsIm9udXBncmFkZW5lZWRlZCIsImRlbGV0ZU9iamVjdFN0b3JlIiwic3RvcmUiLCJjcmVhdGVPYmplY3RTdG9yZSIsImlkeCIsImNyZWF0ZUluZGV4Iiwib25zdWNjZXNzIiwiZSIsImRhdGFOYW1lIiwic2F2ZSIsImRhdGFWYWx1ZSIsImluaXRUcmFuc2FjdGlvbiIsInNlc3Npb25JZCIsImdldEN1cnJlbnRTZXNzaW9uSWQiLCJ0aW1lIiwicm91bmQiLCJEYXRlIiwibm93IiwicGF5bG9hZCIsInB1dCIsInNldEl0ZW0iLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJxdWVyeSIsImlkIiwiZ2V0Q29ubmVjdGlvbiIsInR4IiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsIm9wIiwic3RvcmVkIiwiZ2V0Q3Vyc29yIiwiZXZlbnQiLCJjdXJzb3IiLCJjb250aW51ZSIsIm1pbm1heCIsIm1hcCIsIk1hcCIsImhhcyIsInNldCIsImdyb3VwQnkiLCJkYXRhIiwibWF4IiwiY291bnQiLCJ0b3RhbCIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwiaW5kZXgiLCJvcGVuQ3Vyc29yIiwiSURCS2V5UmFuZ2UiLCJvbmx5Iiwic3VtIiwic2l6ZSIsInNldEhvdXJzIiwiZ2V0SG91cnMiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJnZXREYXRlIiwiaW5kZXhlZERCIiwibG9nZ2VyIiwiY29sbGVjdG9yQXBpIiwiQ29sbGVjdG9yQXBpIiwicXVlcnlJbkNvbGxlY3RvciIsImJhc2VGZWF0dXJlTmFtZSIsInF1ZXJ5TWV0aG9kIiwibWluIiwicXVlcnlQcm9taXNlIiwiYXZnIiwibW9kZSIsImluZGV4T2YiLCJtYXRjaCIsImxhc3QiLCJmYWlsZWQiLCJ1cGRhdGVJbkNvbGxlY3RvciIsImJhc2VGZWF0dXJlVmFsdWUiLCJ1cGRhdGVNZXRob2QiLCJiZWFnbGVJbmZvTGF5ZXIiLCJmIiwiYWRkVG9CZWFnbGVJbmZvTGF5ZXIiLCJpbmZvTGF5ZXIiLCJ0b3AiLCJ0eXBlZFZhbHVlIiwidHJpbSIsInNwbGl0IiwibGFzdEtleSIsInVwZGF0ZUhpc3RvcmljYWxEYXRhU2NhbiIsImdldEZyb21CZWFnbGVJbmZvTGF5ZXIiLCJibG9ja2luZyIsInBvbGxJbnRlcnZhbCIsInRpbWVvdXQiLCJnZXRBbnlGcm9tQmVhZ2xlSW5mb0xheWVyIiwib2J0YWluRGF0YSIsImpzb25HZXQiLCJhZGRUcmVhdG1lbnQiLCJidXNpbmVzc1J1bGVJZCIsInZhcmlhbnQiLCJzdGF0dXMiLCJkZXBlbmRhbnRfb25fdHJlYXRtZW50IiwicGFyc2VTZWFyY2hQYXRoc0RlbGF5IiwicGFyc2VTZWFyY2hQYXRoc1JldHJ5IiwiaW5pdGlhbGl6ZUJlYWdsZUluZm9MYXllciIsInByZXBhcmVDb3JlRGF0YSIsInBhcnNlckNhbGxlciIsInByb2Nlc3NUcmlnZ2VyIiwiYWRkTWV0cmljcyIsImZlYXR1cmVFbmdpbmVlcmluZ1VwZGF0ZXMiLCJmZWF0dXJlRW5naW5lZXJpbmdRdWVyaWVzIiwiZmVhdHVyZU5hbWUiLCJ1cGRhdGVSZW1haW5pbmdIaXN0b3JpY2FsRGF0YSIsInF1ZXJpZWRGZWF0dXJlTmFtZXMiLCJxdWVyeUVudHJ5IiwiaXNVcGRhdGVkIiwicXVlcnlSZXNwb25zZSIsIkZFRGF0YSIsIkZFT3AiLCJ1cGRhdGVIaXN0b3JpY2FsRGF0YSIsImZlYXR1cmVFbmdpbmVlcmluZ09wIiwic2VhcmNoUGF0aHMiLCJQYWdlVHlwZURlcGVuZCIsInNlbGVjdG9yIiwiZm9ybWF0dGVyIiwidHJpZ2dlciIsIm9wZXJhbmQiLCJleGNsdXNpdmUiLCJvYnNlcnZlciIsImNoaWxkcmVuIiwiY3VycmVudFBhZ2VUeXBlIiwic2Vzc2lvblN0b3JhZ2UiLCJsYXN0QmFza2V0UHJvZHVjdEluZm8iLCJKU09OIiwicGFyc2UiLCJjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSIsInNrdUxpc3QiLCJuZXdTS1VMaXN0Iiwic2t1Iiwic29ydCIsInByZXZTS1VMaXN0Iiwiam9pbiIsInByb2R1Y3RJbmZvTG9va3VwIiwicHJvZHVjdEluZm8iLCJzdHJpbmdpZnkiLCJwYXJzZVNlYXJjaFBhdGhzIiwiZG9tU3RhdHVzIiwiZG9jdW1lbnQiLCJyZWFkeVN0YXRlIiwid2ludG9wIiwiZGF0YUxheWVyIiwid2luZG9jIiwiZm91bmROYW1lcyIsIlNldCIsInByZXZGb3VuZE5hbWVzIiwibm90Rm91bmROYW1lcyIsImFkZCIsInNlYXJjaEVsZW1lbnQiLCJpc0ZvdW5kIiwic2VhcmNoQW5kU2V0IiwiZGF0YUxheWVySXRlbSIsInNvcmdBcnJheUlubmVyIiwiZ2V0U09SR0FycmF5Iiwic29yZ0l0ZW0iLCJsYXllclZhbHVlIiwiZmlsdGVyUGFyYW1zIiwiZmlsdGVyTmFtZSIsImZpbHRlclZhbHVlIiwiZmlsdGVyTWF0Y2giLCJxdWVyeVNlbGVjdG9yIiwidG9CZVVwZGF0ZWQiLCJjaGlsZCIsImNoaWxkRWxlbWVudHMiLCJmaWx0ZXIiLCJlbGVtZW50IiwiTXV0YXRpb25PYnNlcnZlciIsInRyaWdnZXJSZXN0YXJ0Iiwib2JzZXJ2ZSIsInN1YnRyZWUiLCJjaGlsZExpc3QiLCJpbm5lclRleHQiLCJhdHRyaWJWYWx1ZUxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXR0cmliVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJzdW1QcmljZSIsImNoaWxkVGV4dCIsInJlcGxhY2UiLCJhcnJheUlubmVyVGV4dCIsInRvVXBwZXJDYXNlIiwiZm9ybWF0RGVsaXZlcnlEYXRlIiwidG9Mb3dlckNhc2UiLCJwcm9jZXNzRm9ybWF0dGVyIiwiZXhjbHVzaXZlRWxlbWVudCIsInNlYXJjaE9iaiIsInBhdGgiLCJwYXRoQXJyYXkiLCJjdXJyZW50Iiwic3ViUGF0aCIsInN1YkFycmF5Iiwic3ViS2V5Iiwic3ViVmFsdWUiLCJ3aW5kb3dQdHIiLCJuYXZQdHIiLCJuYXZpZ2F0b3IiLCJ2aWV3SWQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwicGxhdGZvcm0iLCJ1c2VyQWdlbnREYXRhIiwidXNlckFnZW50IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImF2YWlsV2luZG93Iiwic2NyZWVuIiwiYXZhaWxXaWR0aCIsImF2YWlsSGVpZ2h0Iiwid2luZG93RGVwdGgiLCJjb2xvckRlcHRoIiwicGl4ZWxEZXB0aCIsInZwb3J0U2hhcGUiLCJ2aXN1YWxWaWV3cG9ydCIsIndpZHRoIiwiaGVpZ2h0IiwiYWJzIiwib3JpZW50YXRpb24iLCJ0ZW1wIiwiaGlzdG9yeSIsIm5hdkFnZW50IiwiYnJhbmRzIiwiYnJhbmQiLCJ2ZXJzaW9uIiwibW9iaWxlIiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsImxhbmd1YWdlIiwiYnJvd3Nlckxhbmd1YWdlIiwic3lzdGVtTGFuZ3VhZ2UiLCJ1c2VyTGFuZ3VhZ2UiLCJtYXhUb3VjaFBvaW50cyIsInZlbmRvciIsImNvbm5lY3Rpb24iLCJkb3dubGluayIsImN1cnJlbnRVUkwiLCJVUkwiLCJob3N0bmFtZSIsImRvTm90VHJhY2siLCJtc0RvTm90VHJhY2siLCJyZWZlcnJlciIsImZpcnN0U2Vzc2lvblJlZmVycmVyIiwicGF0aG5hbWUiLCJwYWdlVHlwZSIsInBlcmZNZXRyaWNzIiwicGVyZk5hdmlnYXRpb25NZXRyaWNzIiwicGVyZm9ybWFuY2UiLCJnZXRFbnRyaWVzQnlUeXBlIiwiY29ubmVjdCIsImNvbm5lY3RFbmQiLCJjb25uZWN0U3RhcnQiLCJyZXF1ZXN0IiwicmVzcG9uc2VFbmQiLCJyZXF1ZXN0U3RhcnQiLCJkb20iLCJkb21Db21wbGV0ZSIsImRvbUludGVyYWN0aXZlIiwibG9hZCIsImxvYWRFdmVudEVuZCIsImxvYWRFdmVudFN0YXJ0IiwiZHVyYXRpb24iLCJzb3JnQXJyYXkiLCJzVGFnIiwiY250bnQiLCJ0ZXh0Q29udGVudCIsImpzb25jb250ZW50IiwicHJvZHVjdEluZm9Mb29rdXBJblByb2dyZXNzIiwic2t1bGlzdCIsImhlYWRlcnMiLCJIZWFkZXJzIiwiYXBwZW5kIiwiZmV0Y2giLCJib2R5Iiwib2siLCJqc29uIiwibW9udGhzIiwiYyIsImdldFJhbmRvbVZhbHVlcyIsIlVpbnQ4QXJyYXkiLCJyZW1vdmVEb2N1bWVudEhpZGUiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJmZXRjaFRyZWF0bWVudHMiLCJ0cmVhdG1lbnRzIiwianNvblRyZWF0bWVudCIsImZldGNoVHJlYXRtZW50V2VpZ2h0cyIsInRyZWF0bWVudFdlaWdodHMiLCJqc29uVHJlYXRtZW50V2VpZ2h0cyIsImV4dHJhY3RDb29raWVJZGVudGlmaWVyIiwiY29va2llU3RyaW5nIiwiY29va2llTmFtZSIsImlkZW50aWZpZXIiLCJ2IiwicmVkdWNlIiwiYWNjIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZGV0ZXJtaW5lUGN0Iiwic3Vic3RyaW5nRW5kUG9zaXRpb24iLCJzdWJzdHJpbmdTdGFydFBvc2l0aW9uIiwiY3JlYXRlSGFzaFN0cmluZyIsImhhc2hTdHJpbmciLCJoYXNoTnVtYmVyIiwic3Vic3RyaW5nIiwic3RyaW5nVG9IYXNoIiwiZW5jb2RlZCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwic3VidGxlIiwiZGlnZXN0IiwiaGFzaEJ1ZmZlciIsImhhc2hBcnJheSIsImIiLCJzdHlsZUFwcGxpY2F0b3IiLCJlbGVtZW50cyIsInN0eWxlQ2hhbmdlc01hcCIsImVudHJpZXMiLCJzdHlsZSIsImluamVjdFN0eWxlU2hlZXQiLCJzdHlsZVNoZWV0IiwiY3JlYXRlRWxlbWVudCIsInJlbCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInByZXBhcmVBY3Rpb25zIiwiYWN0aW9uc1RvUHJlcGFyZSIsImFjdGlvbnMiLCJhY3Rpb24iLCJidXNpbmVzc1J1bGVUcmFuc2Zvcm1hdGlvbnMiLCJ2YXJpYW50cyIsImJ1c2luZXNzVHJhbnNmb3JtYXRpb24iLCJ2YXJpYW50S2V5Iiwid2VpZ2h0IiwiY29uZGl0aW9uQ2hlY2tlciIsInJ1blRpbWVWYWx1ZSIsImNvbmRpdGlvbiIsInN1Y2Nlc3MiLCJSZWdFeHAiLCJnZXREZWJ1Z01vZGUiLCJvb3NSZWFzb24iLCJERUJVR19NT0RFIiwiT1VUX09GX1NDT1BFIiwicXVlcnlTdHJpbmciLCJzZWFyY2giLCJyZW1vdmVJdGVtIiwiZ2V0SWRlbnRpZmllciIsImNvb2tpZSIsImV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwiLCJkZWxheSIsIm1zIiwicmVzIiwiZGF0ZSIsInN0YXJ0TW9udGhJbmRleCIsImVuZE1vbnRoSW5kZXgiLCJzdGFydERheSIsImVuZERheSIsInRvZGF5Iiwic3RhcnRZZWFyIiwiZW5kWWVhciIsImVzdGltYXRlZFN0YXJ0IiwiZXN0aW1hdGVkRW5kIiwic3RhcnREaWZmT3ZlckRheXMiLCJjZWlsIiwiZW5kRGlmZk92ZXJEYXlzIiwic3RhcnREaWZmT3ZlcldlZWtzIiwiZW5kRGlmZk92ZXJXZWVrcyIsImlkbGVUaW1lciIsInRpbWVPdXQiLCJjYWxsQmFjayIsInJlc2V0VGltZXIiLCJjbGVhclRpbWVvdXQiLCJpZGxlVGltZW91dCIsIm9udG91Y2hzdGFydCIsIk1vbml0b3IiLCJhcHBsaWVkVHJlYXRtZW50c0hhc2giLCJhcHBsaWVkVHJlYXRtZW50c0NoYW5nZXMiLCJlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzSGFzaCIsImVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHNDaGFuZ2VzIiwiaXNMb2dnZWQiLCJpbml0aWFsaXplRXhpdEV2ZW50TGlzdGVuZXJzIiwibWVzc2FnZSIsImlzRXJyb3IiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUXVldWVMb2dzIiwicGFja2FnZUxvZ0RhdGEiLCJyZXF1ZXN0QmxvYiIsInF1ZXVlTG9ncyIsImFwcGxpZWQiLCJlbGlnaWJsZU5vdEFwcGxpZWQiLCJhcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoIiwiZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c0N1cnJlbnRIYXNoIiwic3RhcnRzV2l0aCIsInQiLCJtIiwiQmxvYiIsInZJZCIsImlzRXhpdEV2ZW50Q2FwdHVyZWQiLCJsb2dEYXRhIiwicGFja2FnZVVwZGF0ZUxvZ0RhdGEiLCJjYXB0dXJlIiwic2VuZEJlYWNvbiIsInF1ZXVlZCIsInF1ZXVlSW50ZXJ2YWwiLCJyZXBsYWNlQWxsIiwic3RyIiwiZmluZCIsInJlcGxhY2VyIiwicmVwbGFjZUZuIiwidmFsIiwiY3VycmVudFJlcGxhY2VGbiIsInJlcGxhY2VPYmplY3RFeHRyYWN0b3IiLCJyZXBsYWNlVmFsIiwicmVwbGFjZUZuRXhlY3V0b3IiLCJyRm4iLCJzaW5nbGUiLCJyZXBsYWNlRnVuY3Rpb24iLCJzdG9yYWdlIiwia2V5RmFsbGJhY2siLCJhdHRyaWJ1dGUiLCJpbm5lcl9jb25kaXRpb24iLCJvcGVyYXRvciIsImVsaWdpYmxlRWxlbWVudHMiLCJlbGVtZW50U2t1IiwiY2F0YWxvZyIsIiQiLCJiaW5kaW5ncyIsIlBPUFVQX0RJU1BMQVlfRkxBRyIsInRyYW5zZm9ybWVyIiwiYXBwbHlFdmVudCIsImNvbnRlbnRTZWxlY3RvciIsInNlbGVjdG9yRmFsbGJhY2siLCJtZENvbmRpdGlvbiIsIm1vdmVfc2VsZWN0b3JfMSIsIm1vdmVfc2VsZWN0b3JfMiIsInBUeXBlIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJTdHJpbmciLCJiZWZvcmUiLCJhZnRlciIsIm9mZiIsImNyZWF0ZVBvcHVwIiwiZWxtIiwic3RvcFByb3BhZ2F0aW9uIiwiZGlzcGxheU1vZGFsIiwiZ2V0UHJvZHVjdEluZm8iLCJkaXNwbGF5UG9wdXAiLCJyIiwicHVzaFN0YXRlIiwib25jZSIsInRleHQiLCJodG1sIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm9yaWdpbmFsVGl0bGUiLCJ0aXRsZSIsImhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UiLCJjc3MiLCJwcm9wZXJ0eSIsInByb3BlcnR5VmFsdWUiLCJuMSIsIm4yIiwic3dhcE5vZGVzIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJwcmVwZW5kIiwic2VudGVuY2UiLCJ3b3JkIiwicmVwbGFjZVdpdGhWYWwiLCJodG1sU3RyIiwidHJhbnNhY3Rpb25JbjJXZWVrcyIsImFkZFRvQ2FydEluMldlZWtzIiwicHJvZHVjdFZpZXdDb3VudCIsInRpdGxlcyIsInBhcnNlZFRpdGxlcyIsInBhcnNlZFRpdGxlIiwiaGlkZGVuIiwiaGFuZGxlUG9wdXBDbGljayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJxUG9wdXAiLCJnZXRFbGVtZW50QnlJZCIsImlzTW9kYWwiLCJwb3B1cFdyYXBwZXIiLCJwb3B1cENsb3NlQnV0dG9uIiwicG9wdXBDbG9zZUJ1dHRvblN0eWxlIiwib25jbGljayIsImNvbnRlbnRzIiwic2hpZnQiLCJzcmMiLCJ0ZW1wbGF0ZSIsImlubmVySFRNTCIsInBvcHVwIiwiY29udGVudCIsImZpcnN0Q2hpbGQiLCJpMSIsImkyIiwicDEiLCJwYXJlbnROb2RlIiwicDIiLCJpc0VxdWFsTm9kZSIsImluc2VydEJlZm9yZSIsImFjdGlvbkFwcGxpY2F0b3IiLCJqUXVlcnkiLCJjaGVja0FjdGlvbkNvbmRpdGlvbiIsImFwcGx5QWN0aW9ucyIsImNoZWNrQ291bnRlclJ1bGUiLCJydWxlIiwicGFnZVZpZXdIYW5kbGVyIiwiY2FCYXNrZXRQcmljZUhhbmRsZXIiLCJnZXRDb3VudGVyIiwiY291bnRlciIsInBhZ2VWaWV3cyIsImNhQmFza2V0UHJpY2UiLCJjaGVja0RhdGFMYXllclJ1bGUiLCJkYXRhTGF5ZXJGaW5kZXIiLCJydW50aW1lVmFsdWUiLCJjaGVja0VsZW1lbnRSdWxlIiwic2VsZWN0b3JBbGwiLCJtYWluU2VsZWN0b3IiLCJ0ZW1wVmFsIiwicmV0dXJuVmFsIiwiZWxlbSIsImVsZW1lbnRTdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwic3R5bGVLZXkiLCJzdHlsZVZhbHVlIiwiY2hlY2tGdW5jdGlvblJ1bGUiLCJvcHRzIiwiYmluZCIsInJ1bGVGdW5jdGlvbiIsImNoZWNrU2Vzc2lvblJ1bGUiLCJkdXJhdGlvbkhhbmRsZXIiLCJoaXN0b3J5SGFuZGxlciIsImdldFNlc3Npb25UaW1lc3RhbXAiLCJjdXJyZW50SGlzdG9yeSIsImNoZWNrVXJsUnVsZSIsInJlcXVlc3RVUkwiLCJjaGVja0VudlJ1bGUiLCJpc01vYmlsZSIsImNoZWNrUmFuZG9tTnVtYmVyUnVsZSIsInNhbHQiLCJyYW5kb21QY3QiLCJjaGVja1Byb2R1Y3RJbmZvUnVsZSIsImdldFRyYW5zYWN0aW9uQ291bnQiLCJnZXRBZGRUb0NhcnRDb3VudCIsImdldFByZXZpZXdDb3VudCIsIlJ1bGVFbmdpbmUiLCJiYXNlUnVsZVNldCIsImJ1c2luZXNzUnVsZVNldCIsImNhbGxiYWNrIiwiY2hlY2tSdWxlIiwiY2hhaW4iLCJjaGFpbl9jb25kaXRpb24iLCJydWxlU2F0aXNmaWVkIiwiY29tcHV0ZVNlZ21lbnQiLCJzZWdtZW50IiwicnVsZVNldCIsInNlZ21lbnRSdWxlRW5naW5lIiwiY2hlY2tSdWxlcyIsIlRyZWF0bWVudFJlcG9zaXRvcnkiLCJ1c2VyR3JvdXAiLCJ1c2VyR3JvdXBXZWlnaHRzIiwidHJlYXRtZW50Iiwic29tZSIsIlRSRUFUTUVOVFMiLCJ0cmVhdG1lbnRzT2JqIiwidGltZXN0YW1wIiwidHJlYXRtZW50V2l0aFRpbWVzdGFtcCIsImJlYWdsZU9uIiwibW9uaXRvciIsImRlYnVnTW9kZSIsImVuZ2FnZVRyZWF0bWVudCIsImRldmljZSIsInJlYXBwbHlfZXZlbnQiLCJyZWFwcGx5X2V2ZW50X3BhZ2VfdHlwZSIsInByb2R1Y3RJbmZvU3RvcmFnZSIsImRlYnVnRmlsdGVyZWRUcmVhdG1lbnRzIiwicmVhcHBseV9ldmVudF9hcnJheSIsInJlYXBwbHlFdmVudCIsInByZXZpb3VzVmFsdWUiLCJyZUFwcGx5VHJlYXRtZW50c01hcCIsInJ1bGVFbmdpbmUiLCJ0cmVhdG1lbnRTa2lwUmF0aW8iLCJkZXBlbmRhbnRPblRyZWF0bWVudFdlaWdodCIsIm1hdGNoZWRUcmVhdG1lbnRzIiwiZGV0ZXJtaW5pbmdJZGVudGlmaWVyIiwidHJlYXRtZW50UGN0IiwiY2hlY2tCdXNpbmVzc1J1bGVzIiwicHJlcGFyZUFuZEFwcGx5IiwidHJlYXRtZW50c1Byb21pc2UiLCJ0cmVhdG1lbnRXZWlnaHRzUHJvbWlzZSIsIlBBR0VfVklFV1MiLCJTRVNTSU9OX0lEIiwiU0VTU0lPTl9USU1FU1RBTVAiLCJTRVNTSU9OX0hJU1RPUlkiLCJwb3B1cERpc3BsYXlGbGFnIiwic2Vzc2lvblRpbWVzdGFtcCIsInNlc3Npb25IaXN0b3J5Iiwic2VhcmNoUGFyYW1zIiwibGFzdEluZGV4T2YiLCJpdGVtIiwiT0JTRVJWRVJfQ09ORklHIiwiYXR0cmlidXRlcyIsImFsbCIsInRyZWF0bWVudFJlcG9zaXRvcnkiLCJnZXRNYXRjaGVkVHJlYXRtZW50cyIsInVwZGF0ZUxhdGVzdENoYW5nZXMiLCJ0cmVhdG1lbnRJZHMiLCJyZUFwcGx5VHJlYXRtZW50cyIsIlJlc2l6ZU9ic2VydmVyIiwicmVhcHBseV9zZWxlY3RvciIsIm9uc2Nyb2xsIiwicmVhcHBseUludGVydmFsIiwicHJlcGFyZWQiLCJjb29raWVQY3QiLCJHTE9WX09OIiwiaXNMYWJlbFNlbnQiLCJ0aW1lb3V0Q291bnRlciIsImlzU2hvd3Jvb20iLCJjb250YWlucyIsIlRJTUVPVVRfQ09VTlQiLCJpc09uIiwic2VuZExvZ3MiXSwic291cmNlUm9vdCI6IiJ9

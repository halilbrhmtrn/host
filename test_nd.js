!function(){var e={757:function(e,t,n){e.exports=n(666)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new _(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===g)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw a;return P()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=L(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=g;var u=s(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",g="executing",p="completed",h={};function v(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(E([])));k&&k!==n&&r.call(k,a)&&(b=k);var S=y.prototype=v.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var u=s(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=s(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:P}}function P(){return{value:t,done:!0}}return m.prototype=y,u(S,"constructor",y),u(y,"constructor",m),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},x(I.prototype),u(I.prototype,i,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new I(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,u,"next",e)}function u(e){i(a,r,o,c,u,"throw",e)}c(void 0)}))}}var u=n(757),l=n.n(u),s="https://europe-west3-nextday-34eb3.cloudfunctions.net/api/logResponse",d="(max-width: 440px)",f="__nextday_session_id",g="ND_SessionTimestamp",p="ND_PageViews",h="ND_PopupDisplayFlag",v="ND_CABasketPrice",m="ND_Debug";function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Nextday Client SDK";y(this,e),this.origin=t,this.DEBUG=window.localStorage.getItem(m)}return w(e,[{key:"info",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).info.apply(e,["[".concat(t,"]")].concat(r))}},{key:"log",value:function(){var e=this.DEBUG,t=this.origin;if(e){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(n=console).log.apply(n,["[".concat(t,"]")].concat(o))}}},{key:"error",value:function(){for(var e,t=this.origin,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=console).error.apply(e,["[".concat(t,"]")].concat(r))}}]),e}(),S=k;function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=new S("Nextday DataLayer Checker"),L=function(e){I.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value,o=C(t);return F(o,n,r)},C=function(e){I.log("Searching dataLayer for key",e);var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(window.dataLayer);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(Object.keys(r).includes(e))return I.log("Found key ".concat(e," with value ").concat(r[e])),r[e]}}catch(e){n.e(e)}finally{n.f()}return I.log("Key ".concat(e," not found in dataLayer")),null},A=new S("Nextday Url Checker"),_=function(e){A.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("path"===t){var o=window.location.href,a=o.includes("ajax/mobile-search/loadOtherPages.php")?decodeURIComponent(new URL(o).search.replace("?originalPath=","")):new URL(o).pathname;return A.log("Checking path ".concat(a," matches rule path ").concat(r)),F(a,n,r)}};function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=new S("Nextday Utils");"randomUUID"in crypto||M();var N=function(){document.documentElement.classList.remove("nextDay-hide")},T=function(){var e=c(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.log("Fetching treatments"),e.next=3,fetch("https://host-b96.pages.dev/treatments.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(e,t){if(!e)return null;var n=e.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){return t[0]&&t[1]&&(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim())),e}),{})[t];return n?("_ga"===t&&(n=n.split(".")[2]),n):null},R=function(){var e=c(l().mark((function e(t){var n,r,o,a,i,c,u,s,d=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:8,o=(r=9)+n,t){e.next=5;break}return e.abrupt("return",-1);case 5:return a=(new TextEncoder).encode(t),e.next=8,crypto.subtle.digest("SHA-1",a);case 8:return i=e.sent,c=Array.from(new Uint8Array(i)),u=c.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),s=parseInt(u.substring(r,o),16),e.abrupt("return",s%100);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){var t=document.documentElement.scrollTop,n=setInterval((function(){var r=document.documentElement.scrollTop;t-400>r?(clearInterval(n),e()):t=r}),500)},D=function(e,t){O.log("Applying style changes",t,"to elements",e);for(var n=0;n<e.length;n++)for(var r=e[n],a=0,i=Object.entries(t);a<i.length;a++){var c=o(i[a],2),u=c[0],l=c[1];r.style[u]=l}},U=function(){var e=c(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="https://host-b96.pages.dev/nd-styles.css",document.head.appendChild(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e,t){var n,r=JSON.parse(JSON.stringify(e)),o=E(r);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.subVariants;if(i){var c,u=E(i);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(l.id===t){for(var s in l)"id"!==s&&(a[s]=l[s]);return r}}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){o.e(e)}finally{o.f()}return r},F=function(e,t,n){if("notExist"===t)return e?(O.log("conditionChecker: -not satisfied- target does exist"),!1):(O.log("conditionChecker: -satisfied- target does not exist"),!0);if(null==e||null==t)return O.log("conditionChecker: runTimeValue or condition is not defined"),!1;switch(t){case"exist":return e?(O.log("conditionChecker: -satisfied- target does exist"),!0):(O.log("conditionChecker: -not satisfied- target does not exist"),!1);case"contains":return e.includes(n)?(O.log("conditionChecker: -satisfied- target contains value"),!0):(O.log("conditionChecker: -not satisfied- target does not contain value"),!1);case"notContains":return e.includes(n)?(O.log("conditionChecker: -not satisfied- target contains value"),!1):(O.log("conditionChecker: -satisfied- target does not contain value"),!0);case"equal":return e===n?(O.log("conditionChecker: -satisfied- target equals value"),!0):(O.log("conditionChecker: -not satisfied- target does not equal value"),!1);case"notEqual":return e!==n?(O.log("conditionChecker: -satisfied- target does not equal value"),!0):(O.log("conditionChecker: -not satisfied- target equals value"),!1);case"greaterThan":return e>n?(O.log("conditionChecker: -satisfied- target is greater than value"),!0):(O.log("conditionChecker: -not satisfied- target is not greater than value"),!1);case"lessThan":return e<n?(O.log("conditionChecker: -satisfied- target is less than value"),!0):(O.log("conditionChecker: -not satisfied- target is not less than value"),!1);case"greaterEquals":return e>=n?(O.log("conditionChecker: -satisfied- target is greater or equal than value"),!0):(O.log("conditionChecker: -not satisfied- target is not greater or equal than value"),!1);case"lessEquals":return e<=n?(O.log("conditionChecker: -satisfied- target is less or equal than value"),!0):(O.log("conditionChecker: -not satisfied- target is not less or equal than value"),!1);case"between":var r=o(n.split(","),2),a=r[0],i=r[1];return a=parseInt(a),i=parseInt(i),e>=a&&e<=i?(O.log("conditionChecker: -satisfied- target is between min and max"),!0):(O.log("conditionChecker: -not satisfied- target is not between min and max"),!1);default:return O.log("conditionChecker: condition is not defined ",t),!1}},M=function(){crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},J=function t(n,r){if(n===r)return!0;if("object"!==e(n)||"object"!==e(r)||null==n||null==r)return!1;var o=Object.keys(n),a=Object.keys(r);if(o.length!==a.length)return!1;var i=!0;return o.forEach((function(e){a.includes(e)||(i=!1),"function"!=typeof n[e]&&"function"!=typeof r[e]||n[e].toString()!==r[e].toString()&&(i=!1),t(n[e],r[e])||(i=!1)})),i},B=function(e){return new Promise((function(t){return setTimeout(t,e)}))},G=function(){var e="ND_SkuList",t=[],n={operator:"PageType",condition:"equal",value:"Homepage"};if(L(n))return null;if(n.value="Listingpage",L(n))return Array.from(document.querySelectorAll(".product-card")).forEach((function(e){t.push(e.getAttribute("data-product-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(O.log("Product SKUs not found on Listingpage"),null);if(n.value="Productpage",L(n)){var r=document.querySelector(".product-sku");return r?(t.push(r.getAttribute("data-sku")),sessionStorage.setItem(e,JSON.stringify(t)),t):(O.log("Product SKU not found on Productpage"),null)}return n.operator="path",n.value="/siparis-listesi.html",_(n)?(Array.from(document.querySelectorAll(".cart-inside")).forEach((function(e){t.push(e.getAttribute("data-sku"))})),t.length?(sessionStorage.setItem(e,JSON.stringify(t)),t):(O.log("Product SKUs not found on basket page"),null)):(O.log("Unidentified page type"),null)},z='<div class="top-left-badge"><div class="super-price-badge"><img src="//cdn.vivense.com/images/badges/superfiyat_badge_final.svg" width="45" class="super-price-icon"></div></div>';function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(){return H=c(l().mark((function e(t,n){var r,o,a,i,u,s,f,g,p=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.length>2&&void 0!==p[2]&&p[2],r=new S("Nextday Apply Treatments"),o=h,a=function(e){r.log("Applying treatment: ",JSON.stringify(e));var t=e.badgeSelector,a=e.operator,c=e.type,u=e.applyEvent,l=e.contentSelector,p=e.selector,h=e.selectorFallback,v=e.mdCondition,m=e.move_selector_1,y=e.move_selector_2,b=e.replaceFn,w=e.value,k=$(p);if(!v||window.matchMedia(v).matches)if(m&&!y||y&&!m)r.log("Both move selectors are required");else{if(m&&y){if(!$(m).length)return void r.log("Move selector 1 not found: ",m);if(!$(y).length)return void r.log("Move selector 2 not found: ",y)}else{if(!p)return void r.log("Selector not specified");if(!k.length&&"no-selector"!==p&&(r.log("Selector not found: ",p),r.log("Trying fallback selector: ",h),h&&(k=$(h)),!k.length))return void r.log("Fallback selector not found")}var S=function(e,t){if(e&&t.includes("{{REPLACE}}")){r.log("Executing replace function: ",e);var n={dataLayerFinder:C},o=Function(e).bind(n);t=t.replaceAll("{{REPLACE}}",o())}return t};if(Array.isArray(w)?w.forEach((function(e,t){var n=b?b[t]||b:"";w[t]=S(n,e)})):w=S(b,w),"remove"===a)k&&(r.log("Removing: ",p),k.remove()),r.log("Cannot found element with selector: ",p);else if("insert"===a)switch(c){case"before":r.log("Inserting before: ",w),String(w).includes("nd-add-to-win")&&$(".nd-add-to-win").remove(),k.before(w);break;case"after":r.log("Inserting after: ",w),k.after(w);break;case"popup":if(0!==parseInt(sessionStorage.getItem(o))){r.log("Popup already displayed in session");break}if(r.log("Creating Popup: ",w),f(w,l),u){var x,I=window.matchMedia(d).matches,L=K(u);try{for(L.s();!(x=L.n()).done;)switch(x.value){case"exitIntent":r.log("Adding exit intent listener"),I?q(s):document.documentElement.addEventListener("mouseleave",s,{once:!0});break;case"copyIntent":r.log("Adding copy intent listener"),document.documentElement.addEventListener("copy",s,{once:!0})}}catch(e){L.e(e)}finally{L.f()}}else setTimeout((function(){s()}),timeout)}else if("edit"===a)switch(c){case"text":r.log("Editing text: ",w),k.text(w);break;case"styleApplicator":r.log("Applying style: ",w);var A=document.querySelectorAll(p),_=JSON.parse(w);r.log("Style Changes Map: ",_),D(A,_);break;case"addClass":r.log("addding class to ".concat(k," named ").concat(w)),k.addClass(w);break;case"removeClass":r.log("remove class from ".concat(k," named ").concat(w)),k.removeClass(w);break;case"documentTitle":if(r.log("changing document title from ".concat(k," to ").concat(w)),u){var E,P=K(u);try{for(P.s();!(E=P.n()).done;)"tabChange"==E.value&&function(){r.log("catching event tabchange..");var e=document.title;document.addEventListener("visibilitychange",(function(t){return i(t,w,e)}))}()}catch(e){P.e(e)}finally{P.f()}}break;case"updateBadge":if(!n){r.log("Product info unavailable");break}r.log("Updating badges: ",w);for(var O=0,N=Array.from(k);O<N.length;O++){var T=N[O],j=T.attr("data-product-sku");j||(j=T.attr("data-sku")),j?(T.find(t).remove(),Object.keys(n).includes(j)&&n[j].badges.includes(w)&&"superPrice"===w&&T.find(".hover-element-area").before(z)):r.log("Could not find product sku")}break;case"addBanner":if(!n){r.log("Product info unavailable");break}r.log("Adding banner: ",w);var R=JSON.parse(sessionStorage.getItem("ND_SkuList"))[0];if(!R){r.log("Could not find product sku");break}Object.keys(n).includes(R)&&n[R].catalog.mostViewedLevel<10&&k.before(w);break;default:r.log("Unknown edit type: ",c)}else if("setattribute"===a)switch(r.log("Setting attribute: ",attribute,w),attribute){case"src":k.css("content","url(".concat(w.trim(),")"));break;case"style":var U=w.split(":")[0].trim(),V=w.split(":")[1].trim();k.css(U,V,"!important")}else if("replace"===a)r.log("Replacing: ",w),k.replaceAll(w);else if("swap"===a){r.log("Swapping: ",m,y);var F=document.querySelector(m),M=document.querySelector(y);g(F,M)}else if("injectscript"===a)r.log("Injecting script: ",w),k.append("<script>".concat(w,"<\/script>"));else if("move"===a){r.log("Moving ".concat(m," to ").concat(y));var J=document.querySelector(m),B=document.querySelector(y);J.remove(),B.prepend(J)}else"noop"===a?r.log("Noop Operator: No operation is applied on target "):r.log("No such operator exists yet",a)}else r.log("Media condition mismatch: ",v)},i=function(){var e=c(l().mark((function e(t,n,r){var o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Array.isArray(n)?n:[n],a=0;case 2:if(!(a<o.length)){e.next=16;break}if(!document.hidden){e.next=12;break}return document.title=o[a],e.next=7,B(3e3);case 7:return document.title=r,e.next=10,B(3e3);case 10:e.next=13;break;case 12:document.title=r;case 13:a++,e.next=2;break;case 16:if(document.hidden){e.next=21;break}return document.title=r,e.abrupt("return");case 21:i(t,n,r);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),u=function e(t){var n=t.target.id;n&&"nd-popup__wrapper"===n&&($("#nd-popup__wrapper").remove(),window.removeEventListener("click",e,!0))},s=function e(){sessionStorage.setItem(o,1);var t=document.querySelector("#grt-shadow-host");t&&(t.style.display="none"),document.getElementById("nd-popup__wrapper").style.display="block",window.addEventListener("click",u,!0),document.documentElement.removeEventListener("mouseleave",e,{once:!0}),document.documentElement.removeEventListener("copy",e,{once:!0}),setTimeout((function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",u,!0)}),15e3)},f=function(e,t){var n=document.createElement("div");n.classList.add("nd-popup__wrapper"),n.id="nd-popup__wrapper";var r=document.createElement("button");if(r.classList.add("nd-popup__button-close"),r.innerText="X",r.onclick=function(){$("#nd-popup__wrapper").remove(),window.removeEventListener("click",u,!0)},t)for(var o=Array.from(document.querySelectorAll(t));e.includes("{{REPLACE}}")&&o.length>0;)e=e.replace("{{REPLACE}}",o.shift().src);var a=document.createElement("template");a.innerHTML=e.trim();var i=a.content.firstChild;i.appendChild(r),n.appendChild(i),$("#nd-popup__wrapper").remove(),document.body.appendChild(n)},g=function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(o&&a&&!o.isEqualNode(t)&&!a.isEqualNode(e)){for(var i=0;i<o.children.length;i++)o.children[i].isEqualNode(e)&&(n=i);for(var c=0;c<a.children.length;c++)a.children[c].isEqualNode(t)&&(r=c);o.isEqualNode(a)&&n<r&&r++,o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}},function e(t){if(window.jQuery){var n,o=K(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;try{a(i)}catch(e){r.log("Couldn't apply treatment ".concat(i.id," with error ").concat(e.message));continue}}}catch(e){o.e(e)}finally{o.f()}}else setTimeout((function(){e(t)}),10)}(t);case 11:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}var W=function(e,t){return H.apply(this,arguments)};function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=function(){function e(){y(this,e),this.logger=new S("Nextday Monitor"),this.logger.log("Initializing monitor"),this.appliedTreatmentIds=null,this.eligibleNotAppliedTreatments=null,this.latestChanges=null,this.eligibleNotAppliedChanges=null,this.sessionId=sessionStorage.getItem(f),this.viewId=crypto.randomUUID(),this.headers={type:"application/json"},this.logger.log("Initializing with session id: "+this.sessionId),this.debugMode=window.localStorage.getItem(m)?"on":"off",this.initializeExitEventListener(),this.isLogged=!1}var t;return w(e,[{key:"updateTreatments",value:function(e,t){this.appliedTreatmentIds=e,this.eligibleNotAppliedTreatments=t}},{key:"sendLogs",value:(t=c(l().mark((function e(t){var n,r,o,a=this,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]&&i[2],(o=this.logger).log("Sending logs"),"complete"!==document.readyState?(o.log("Document ready state is not complete"),window.addEventListener("beforeunload",(function(){o.log("In beforeunload event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0),window.addEventListener("pagehide",(function(){o.log("In onpagehide event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0),window.addEventListener("load",(function(){o.log("In onload event"),a.handleQueueLogs(a.packageLogData(t,n,r))}),!0)):this.handleQueueLogs(this.packageLogData(t,n,r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"handleQueueLogs",value:function(e){if(!this.isLogged){var t=this.logger;e?(t.log("Request blob to send: ",e),this.queueLogs(e),this.isLogged=!0):t.log("Could not create request blob")}}},{key:"updateLatestChanges",value:function(e,t){var n=this.appliedTreatmentIds,r=this.eligibleNotAppliedTreatments,o=this.logger;o.log("Updating latest changes");var a=this.latestChanges||n;J(a,e)||(o.log("Changes detected"),o.log("Changes: ",e),this.latestChanges=e),a=this.eligibleNotAppliedChanges||r,J(a,t)||(o.log("Changes detected"),o.log("Changes: ",e),this.eligibleNotAppliedChanges=t)}},{key:"packageLogData",value:function(e,t,n){var r=this.appliedTreatmentIds,o=this.eligibleNotAppliedTreatments,a=this.debugMode,i=this.headers,c=this.viewId,u=t||(Object.keys(r).length?"Treatments applied":"No treatments applied"),l=this.prepareLogBody();return l.vId=n?null:c,l.m=u,l.dbm=a,l.isOn=e,l.a=n?{}:r,l.e=n?{}:o,new Blob([JSON.stringify(l)],i)}},{key:"packageUpdateLogData",value:function(){var e=this.headers,t=this.eligibleNotAppliedChanges,n=this.latestChanges,r=this.viewId;if(!n&&!t)return!1;var o={t:Date.now(),a:n||{},e:t||{},vId:r};return new Blob([JSON.stringify(o)],e)}},{key:"prepareLogBody",value:function(){var e,t=new URL(window.location.href),n={},r=ee(window.dataLayer);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=Z(Z({},n),o)}}catch(e){r.e(e)}finally{r.f()}var a=JSON.parse(j(document.cookie,"VL_CM_0")),i={};if(a&&a.Items){var c,u=ee(a.Items);try{for(u.s();!(c=u.n()).done;){var l=c.value;i[l.K]=decodeURIComponent(l.V)}}catch(e){u.e(e)}finally{u.f()}}var s={};return s.cookieVLIsNew=i.OM_INW,s.cookieVLPVinVisit=i.VL_PVCountInVisit,s.cookieVLVisitDuration=i.VL_TotalDuration,s.cookieVLTotalPV=i.VL_TotalPV,s.cookieVLTotalVisit=i.VL_TotalVisit,s.gaPageType=n.PageType,s.gaProductName=n.content_name,s.gaViewType=n.content_type,s.gaProductCategory=n.content_category,s.gaProductID=n.content_ids,s.vvsProductCategory=n.vivense_category,s.gaListingName=function(){try{return n.ecommerce.detail.actionField.list}catch(e){return null}}(),s.vvsIsShowroom=n.isAdmin,s.vvsProductGroup=n.productGroup,s.vvsUserEmail=n.userEmail,s.vvsUserId=n.userId,s.vvsCategory=n.vivense_category,s.gaAction=n.Action,s.gaActionLabel=n.Label,s.gaCategoryProductCont=n.category_product_count,s.gaActionStep=function(){try{return n.ecommerce.checkout.actionField.step}catch(e){return null}}(),s.gaActionUser=function(){try{return n.ecommerce.checkout.actionField.dimension14}catch(e){return null}}()||function(){try{return n.ecommerce.purchase.actionField.dimension14}catch(e){return null}}(),s.gaCartProducts=function(){try{return n.ecommerce.checkout.products}catch(e){return null}}()||function(){try{return n.ecommerce.purchase.products}catch(e){return null}}(),s.vvsPDPProduct=function(){try{return n.vivenseProducts[0]}catch(e){return null}}(),s.gaPurchaseId=function(){try{return n.ecommerce.purchase.actionField.id}catch(e){return null}}(),s.gaPurchaseAffiliation=function(){try{return n.ecommerce.purchase.actionField.affiliation}catch(e){return null}}(),s.gaPurchaseCoupon=function(){try{return n.ecommerce.purchase.actionField.coupon}catch(e){return null}}(),s.gaPurchaseRevenue=function(){try{return n.ecommerce.purchase.actionField.revenue}catch(e){return null}}(),s.gaPurchaseShipping=function(){try{return n.ecommerce.purchase.actionField.shipping}catch(e){return null}}(),s.gaPurchaseTax=function(){try{return n.ecommerce.purchase.actionField.tax}catch(e){return null}}(),s.gaPurchasePayType=function(){try{return n.ecommerce.purchase.actionField.dimension15}catch(e){return null}}(),s.windowParams=window.location.search,s.windowScreen=window.screen,s.windowVPort=window.visualViewport,s.windowPRatio=window.devicePixelRatio,s.navAgent=navigator.userAgent,s.navHWCores=navigator.hardwareConcurrency,s.navLanguage=navigator.language,s.navTouch=navigator.maxTouchPoints,s.navPlatform=navigator.platform,s.navVendor=navigator.vendor,s.pClickSegment=window.localStorage.getItem("personaClick_segment"),s.cookieGaId=j(document.cookie,"_ga"),s.cookieLastBreadCrumb=j(document.cookie,"lastbreadcrumb"),s.cookieLastCategory=j(document.cookie,"lastcategory"),s.cookieFirstEntry=decodeURIComponent(j(document.cookie,"vivensefirst")),s.v="0.0.23",s.n="nextday-session_id-".concat(this.sessionId),s.t=Date.now(),s.sr=80,s.u=t.href,s.d=t.hostname,s.r=document.referrer,s.w=window.innerWidth,s.c=document.cookie,s.wdl=window.dataLayer,s.vvsPurcPriceElt=function(){try{var e=document.querySelector("div.basket_inner_right > div.basket_summary > div.basket_summary_total > span:nth-child(2)");return e||(e=document.querySelector("#main > div > div.general-container > div.col-md-12 > div > div:nth-child(1) > div > div.row.order_final_row.total_row > div.order-final-number")),e&&e.textContent?e.textContent:null}catch(e){return null}}(),s.vvsPurcTypeElt=function(){try{var e=document.querySelector("body > div.main-custom-container > div.general-container > div > div > div > div.cart-header > div.payment_type_final_text > div");return e||(e=document.querySelector("#main > div > div.general-container > div:nth-child(2) > div > div > div.cart-header > div.cart-title-info > span")),e&&e.textContent?e.textContent:null}catch(e){return null}}(),s}},{key:"initializeExitEventListener",value:function(){var e=this,t=this.logger,n=!1;t.log("Initializing exit event listener"),window.addEventListener("beforeunload",(function(){if(!n){n=!0,t.log("In beforeunload event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}),{capture:!0}),window.addEventListener("pagehide",(function(){if(!n){n=!0,t.log("In pagehide event");var r=e.packageUpdateLogData();r?e.queueLogs(r):t.log("No changes to log")}}),{capture:!0})}},{key:"queueLogs",value:function(e){var t=this.logger,n=navigator.sendBeacon(s,e),r=setInterval((function(){n?(clearInterval(r),t.log("Logs queued successfully")):n=navigator.sendBeacon(s,e)}),10);setTimeout((function(){clearInterval(r),n||t.log("Logs not queued")}),1e3)}}]),e}(),re=ne,oe=new S("Nextday Treatment Repository"),ae=function(){function e(t){y(this,e);var n=t.cookiePct,r=t.treatments;this.treatments=r,this.cookiePct=n}var t;return w(e,[{key:"getMatchedTreatments",value:function(){var e=this.getUserSegment(),t=this.treatments.filter((function(t){return t.apply_on_user_segment==e||"*"===t.apply_on_user_segment}));return oe.log("".concat(t.length," treatments segment matched")),t.length?t:[]}},{key:"getUserSegment",value:function(){if(-1===this.cookiePct)throw oe.log("New user has no segment"),new Error("New User");return this.cookiePct<50?"A":"B"}}],[{key:"getTreatments",value:(t=c(l().mark((function e(){var t,n,r,o,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe.log("Loading treatments"),t="ND_Treatments",n=JSON.parse(window.sessionStorage.getItem(t)),r=null==n?void 0:n.treatments,o=null==n?void 0:n.timestamp,r&&o){e.next=13;break}return oe.log("Treatments not found in local storage"),e.next=9,T();case 9:return r=e.sent,a={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",r);case 13:if(!o){e.next=23;break}if(!((Date.now()-o)/864e5>1)){e.next=23;break}return oe.log("Treatments are expired"),e.next=19,T();case 19:return r=e.sent,i={timestamp:Date.now(),treatments:r},window.sessionStorage.setItem(t,JSON.stringify(i)),e.abrupt("return",r);case 23:return oe.log("Treatments are loaded from local storage"),e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),ie=ae,ce=new S("Nextday Counter Checker"),ue=function(e,t){try{switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:return ce.log("No such type",t),null}}catch(t){return ce.log("Could not get counter ".concat(e),t),null}},le=new S("Nextday Element Checker"),se=new S("Nextday Function Checker"),de=new S("Nextday Session Checker"),fe=new S("Nextday Env Checker");function ge(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=new S("Nextday Rule Engine"),ve=function(){function e(t){y(this,e);var n=t.baseRuleSet,r=t.subVariantRuleSet,o=t.callback,a=void 0===o?null:o;this.baseRuleSet=n,this.subVariantRuleSet=r,this.callback=a}return w(e,[{key:"checkRules",value:function(){var e,t=ge(this.baseRuleSet);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!this.checkRule(n))return!1}}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"checkSubVariantRules",value:function(){var e,t=ge(this.subVariantRuleSet);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(this.checkRule(n))return n.subVariantId}}catch(e){t.e(e)}finally{t.f()}return null}},{key:"checkRule",value:function(e){var t=e.chain,n=e.chain_condition,r=e.type,o=null;switch(r){case"session":o=function(e){de.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;return"duration"===t?function(e,t){var n=(Date.now()-function(){try{return new Date(parseInt(sessionStorage.getItem(g)))}catch(e){return de.log("Could not get session timestamp",e),Date.now()}}())/1e3;return F(n,e,parseInt(t))}(n,r):null}(e);break;case"counter":o=function(e){ce.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;switch(t){case"pageView":return function(e,t){var n=parseInt(ue(p,"session"));return ce.log("Page views counter value: ",n),null===n?(ce.log("Pageviews counter not found in session storage"),!1):F(n,e,parseInt(t))}(n,r);case"CABasketPrice":return function(e,t){var n=parseInt(ue(v,"local"));return ce.log("Coupon applicable basket price counter value: ",n),null===n?(ce.log("Coupon applicable basket price counter not found in local storage"),!1):F(n,e,parseInt(t))}(n,r);default:return ce.log("No such operator",t),!1}}(e);break;case"element":o=function(e){le.log("Checking rule",JSON.stringify(e));var t,n=e.operator,r=e.condition,o=e.value,a=e.selector,i=e.selectorAll,c=e.selectorFallback,u=void 0===c?null:c,l=a;if(l&&!document.querySelector(l)&&(l=u||l),null===n)return F(document.querySelector(l),r,o);if(l&&!document.querySelector(l))return le.log("Selector not found on page"),!1;if(i&&!document.querySelectorAll(i))return le.log("Selector not found on page"),!1;switch(l?t=document.querySelector(l):i&&(t=Array.from(document.querySelectorAll(i))),n){case"text-number":var s;s=Array.isArray(t)?t.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0):parseInt(document.querySelector(l).textContent.replace("TL","").replace(".",""));var d=parseInt(s);return F(d,r,o);case"classList":return F(Array.from(t.classList),r,o);case"count":var f=Array.isArray(t)?t.length:t?1:0;return F(f,r,o);default:return le.log("Operator not defined"),!1}}(e);break;case"dataLayer":o=L(e);break;case"url":o=_(e);break;case"function":o=function(e){se.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if(!t)return se.log("Rule function not defined"),!1;var o=Function(t)();return F(o,n,r)}(e);break;case"environment":o=function(e){fe.log("Checking rule",JSON.stringify(e));var t=e.operator,n=e.condition,r=e.value;if("device_type"===t){var o=window.matchMedia(d).matches?"mobile":"desktop";return F(o,n,r)}}(e);break;default:return he.log("No such rule type: ".concat(r)),null}if(t)switch(n){case"and":o=o&&this.checkRule(t);break;case"or":o=o||this.checkRule(t);break;case"xor":o=o!=this.checkRule(t);break;default:he.log("No such chain condition")}return o}}]),e}(),me=new S("Nextday Api"),ye=function(){var e=c(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me.log("Starting product info lookup"),t=G()){e.next=5;break}return me.log("No sku found"),e.abrupt("return",null);case 5:return(n=new Headers).append("Content-Type","application/json"),e.next=9,fetch("https://catalog-api.adoraai.com",{method:"POST",body:JSON.stringify(t),headers:n,mode:"cors"});case 9:if((r=e.sent).ok){e.next=13;break}return me.log("Product info lookup failed"),e.abrupt("return",null);case 13:return e.next=15,r.json();case 15:if(r=e.sent){e.next=19;break}return me.log("Product info extraction from response failed"),e.abrupt("return",null);case 19:return me.log("Product info lookup successful"),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function be(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}c(l().mark((function t(){var n,r,i,u,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null,r=ye();try{(new S).info("Nextday initiated"),(i=window.location.search).includes("nd_debug=1")?window.localStorage.setItem(m,1):i.includes("nd_debug=2")?window.localStorage.setItem(m,2):i.includes("nd_debug=0")&&window.localStorage.removeItem(m)}catch(e){console.log("Could not determine if debug mode is on or off")}return u=new re,t.prev=4,t.delegateYield(l().mark((function e(){var t,i,s,y,b,w,k,x,I,L,C,A,_,E,P,O,T,q,D,F,M,J,B,$,G,z;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new S).info("Nextday initiated"),i=function(){var e=c(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=j(document.cookie,"_ga");if(n)e(n);else{var r=setInterval((function(){(n=j(document.cookie,"_ga"))&&(clearInterval(r),e(n))}),10);setTimeout((function(){clearInterval(r),t(new Error("Could not extract cookie identifier"))}),1e3)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=5,i();case 5:return s=e.sent,t.log("Found cookie identifier: ",s),e.next=9,R(s);case 9:if(y=e.sent,window.localStorage.getItem(m)){e.next=20;break}if(!(y<80)){e.next=17;break}if(-1!==y){e.next=14;break}throw new Error("Could not determine cookie pct");case 14:n=!1,e.next=18;break;case 17:n=!0;case 18:e.next=21;break;case 20:t.info("Debug mode on: all applicable treatments will be applied");case 21:if(document.documentElement.classList.contains("nextDay-hide")){e.next=23;break}throw new Error("Nextday script timed out");case 23:if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GLOV",GLOV_ON:n?"true":"false"}),!1!==n){e.next=27;break}throw new Error("Control group: no treatments applied");case 27:return U(),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,K=p,Q=h,H=f,Y=g,X=sessionStorage.getItem(K),Z=sessionStorage.getItem(Q),ee=sessionStorage.getItem(H),te=sessionStorage.getItem(Y),X?sessionStorage.setItem(K,parseInt(X)+1):sessionStorage.setItem(K,1),null===Z&&sessionStorage.setItem(Q,0),ee||sessionStorage.setItem(H,crypto.randomUUID()),te||sessionStorage.setItem(Y,Date.now()),setTimeout((function(){N()}),2e3),b=ie.getTreatments(),w=window.matchMedia(d).matches,k={subtree:!0,childList:!0,attributes:!0},x=function(){var e=c(l().mark((function e(n){var r,o,i,c,u,d,f,g,p,h,v,y,b,k,S,x,I,L,C,A;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,o=n.actions,i=n.baseRuleSet,c=n.device,u=n.dependant_on_treatment,d=n.reapply_event,f=n.subVariantRuleSet,g=n.weight,"mobile"!==c||w){e.next=4;break}return t.log("Treatment device 'mobile' mismatch"),e.abrupt("return");case 4:if("desktop"!==c||!w){e.next=7;break}return t.log("Treatment device 'desktop' mismatch"),e.abrupt("return");case 7:if(d){p=d,Array.isArray(d)||(p=[d]),t.log("Reapply event '".concat(d,"' found for treatment: ").concat(r)),h=be(p);try{for(h.s();!(v=h.n()).done;)y=v.value,(b=F[y]?F[y]:[]).includes(r)?t.log("Treatment already added for reapply event"):F[y]=[].concat(a(b),[r])}catch(e){h.e(e)}finally{h.f()}}if(k=new ve({baseRuleSet:i,subVariantRuleSet:f}),t.log("Starting base rule set check for treatment: "+r),i&&!k.checkRules()){e.next=32;break}return S=100-g||50,u&&(S=100-(null===(x=T.find((function(e){return e.id===u})))||void 0===x?void 0:x.weight)||50),t.log("Treatment skip ratio: "+S),I=u||r,e.next=17,R(s+I,7);case 17:if(L=e.sent,window.localStorage.getItem(m)&&"1"===window.localStorage.getItem(m)&&(L=100),t.log("TreatmentPct: "+L),C=null,A=o,f&&(t.log("Starting sub variant rule set check for treatment: "+r),(C=k.checkSubVariantRules())?(t.log("Applying sub variant with id: ",C),A=V(o,C)):t.log("Applying treatment with default values")),!(L<S)){e.next=29;break}return t.log("Treatment ".concat(r," skipped due to treatment split ratio")),D[r]={dependant_on_treatment:u||null,subVariantId:C,actions:A},e.abrupt("return");case 29:return W(A,P),q[r]={subVariantId:C,actions:A},e.abrupt("return");case 32:t.log("Rule check failed for treatment: ",r);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(I=function(){var e=v;if(window.location.href.includes("/siparis-listesi.html")){var n=Array.from(document.querySelectorAll(".price"));if(n.push.apply(n,a(Array.from(document.querySelectorAll(".new-price")))),!n.length)return t.log("Price elements not found"),void window.localStorage.setItem(e,0);t.log("Price elements: ",n);var r=n.reduce((function(e,t){return e+parseInt(t.textContent.replace("TL","").replace(".",""))}),0);t.log("Coupon applicable total price: ",r),r>=0&&window.localStorage.setItem(e,r)}else(window.location.href.includes("/siparis-ozeti.html")||null===window.localStorage.getItem(e))&&window.localStorage.setItem(e,0)})(),window.location.href.includes("/siparis-listesi.html")&&(L=new MutationObserver((function(){t.log("Mutation observed, calling collectCABasketPrice"),I()})),(C=document.querySelector("#checkoutForm"))&&L.observe(C,k)),e.next=39,Promise.all([b,r]);case 39:if(A=e.sent,_=o(A,2),E=_[0],P=_[1],t.log("Found treatments: ",E),t.log("Found cookie percentage: ",y),t.log("Split_ratio: ",80),t.log("cookiePct < SPLIT_RATIO",y<80),t.info("Control group ratio: ".concat(80,"%")),O=new ie({treatments:E,cookiePct:y}),(T=O.getMatchedTreatments()).length){e.next=55;break}return t.log("No treatments matched, returning without further action"),N(),u.sendLogs(n,"No treatments matched",!0),e.abrupt("return",{v:void 0});case 55:q={},D={},F={},M=be(T),e.prev=59,M.s();case 61:if((J=M.n()).done){e.next=73;break}return B=J.value,e.prev=63,e.next=66,x(B);case 66:e.next=71;break;case 68:e.prev=68,e.t0=e.catch(63),t.log("Error executing rules",e.t0);case 71:e.next=61;break;case 73:e.next=78;break;case 75:e.prev=75,e.t1=e.catch(59),M.e(e.t1);case 78:return e.prev=78,M.f(),e.finish(78);case 81:for(t.info("Treatments applied"),N(),t.log("Applied treatments: ",q),u.updateTreatments(q,D),u.sendLogs(n),setInterval((function(){u.updateLatestChanges(q,D)}),1e3),$=function(){var e=z[G],n=F[e],r=T.filter((function(e){return n.includes(e.id)}));switch(e){case"infinite_scroll":var o=new ResizeObserver((function(){var e,n=be(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.log("Retrying treatment ".concat(o.id," from infinite_scroll")),x(o)}}catch(e){n.e(e)}finally{n.f()}}));o.observe(document.documentElement);break;case"timeout":setTimeout((function(){var e,n=be(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.log("Retrying treatment ".concat(o.id," from timeout")),x(o)}}catch(e){n.e(e)}finally{n.f()}}),500);break;case"element_change":var a,i=be(r);try{var c=function(){var e,n=a.value,r=be(Array.isArray(n.reapply_selector)?n.reapply_selector:[n.reapply_selector]);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=document.querySelector(o);i&&new MutationObserver((function(){t.log("Retrying treatment ".concat(n.id," from element_change")),x(n)})).observe(i,k)}}catch(e){r.e(e)}finally{r.f()}};for(i.s();!(a=i.n()).done;)c()}catch(e){i.e(e)}finally{i.f()}break;case"on_scroll":window.onscroll=function(){var e,n=be(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.log("Retrying treatment ".concat(o.id," from on_scroll")),x(o)}}catch(e){n.e(e)}finally{n.f()}};break;default:t.log("Reapply event not found: ",e)}},G=0,z=Object.keys(F);G<z.length;G++)$();case 89:case"end":return e.stop()}var K,Q,H,Y,X,Z,ee,te}),e,null,[[59,75,78,81],[63,68]])}))(),"t0",6);case 6:if("object"!==e(s=t.t0)){t.next=9;break}return t.abrupt("return",s.v);case 9:t.next=16;break;case 11:t.prev=11,t.t1=t.catch(4),N(),console.warn("Nextday: ",t.t1.message),u.sendLogs(n,t.t1.message,!0);case 16:case"end":return t.stop()}}),t,null,[[4,11]])})))()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixJQUFLLGlCQUFrQixXQUNHNFUsR0FESCwyQkFDVjVVLEVBRFUsYUFFU2xLLE1BQU1PLFFBQVEySixFQUFVOFUsa0JBQ3BEOVUsRUFBVThVLGlCQUFtQixDQUFDOVUsRUFBVThVLG1CQUhyQixJQUluQiwyQkFBNEMsS0FBakMxVSxFQUFpQyxRQUNwQ2pELEVBQVUvQyxTQUFTd0YsY0FBY1EsR0FDbkNqRCxHQUNlLElBQUkrVyxrQkFBaUIsV0FDcEN2YixFQUFPRCxJQUFQLDZCQUFpQ3NILEVBQVU1QixHQUEzQyx5QkFDQXdVLEVBQWdCNVMsTUFFVG9VLFFBQVFqWCxFQUFTcVYsSUFYWCxnQ0FDckIsMkJBQTJDLElBRHRCLDhCQWdCckIsTUFDRixJQUFLLFlBQ0hsYSxPQUFPeWMsU0FBVyxXQUFXLFdBQ0hILEdBREcsSUFDM0IsMkJBQTJDLEtBQWhDNVUsRUFBZ0MsUUFDekNySCxFQUFPRCxJQUFQLDZCQUFpQ3NILEVBQVU1QixHQUEzQyxvQkFDQXdVLEVBQWdCNVMsSUFIUyxnQ0FPN0IsTUFDRixRQUNFckgsRUFBT0QsSUFBSSw0QkFBNkI5TCxLQWxEOUMsTUFBa0JkLE9BQU9tSCxLQUFLbWdCLEdBQTlCLGVBQXFELElBck94RCxrQ2JzSHNDLElBQzlCbEIsRUFBWXBTLEVBQW9CcVMsRUFBWUMsRUFDN0M3QixFQUNBOEIsRUFDQXZNLEdBQ0F3TSxLYTNIUCxtTEE0UkduWSxJQUNBMUIsUUFBUXVjLEtBQUssWUFBYSxLQUFJMVAsU0FDOUJ1TSxFQUFRMkMsU0FBU3BPLEVBQU0sS0FBSWQsU0FBUyxHQTlSdkMseURBQUQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5TGlrZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhIb2xlcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVSZXN0LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9kYXRhTGF5ZXJDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvdXJsQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvQ29tcG9uZW50cy92dl9zdXBlcl9wcmljZV9iYWRnZS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlBcHBseVRyZWF0bWVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlNb25pdG9yL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVRyZWF0bWVudFJlcG9zaXRvcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9jb3VudGVyQ2hlY2tlci5qcyIsIndlYnBhY2s6Ly9jbGllbnQtc2lkZS1pbnRlZ3JhdGlvbi1zY3JpcHRzLy4vc3JjL05leHRkYXlSdWxlRW5naW5lL2VsZW1lbnRDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvZnVuY3Rpb25DaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvc2Vzc2lvbkNoZWNrZXIuanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5UnVsZUVuZ2luZS9lbnZDaGVja2VyLmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheVJ1bGVFbmdpbmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2xpZW50LXNpZGUtaW50ZWdyYXRpb24tc2NyaXB0cy8uL3NyYy9OZXh0ZGF5QXBpL2luZGV4LmpzIiwid2VicGFjazovL2NsaWVudC1zaWRlLWludGVncmF0aW9uLXNjcmlwdHMvLi9zcmMvTmV4dGRheUNsaWVudFNESy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBkZWZpbmUoR3AsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShcbiAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCxcbiAgICBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgKTtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgZGVmaW5lKEdwLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9KTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCBpbiBtb2Rlcm4gZW5naW5lc1xuICAvLyB3ZSBjYW4gZXhwbGljaXRseSBhY2Nlc3MgZ2xvYmFsVGhpcy4gSW4gb2xkZXIgZW5naW5lcyB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBnbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG4gIH0gZWxzZSB7XG4gICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGU7IH07XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgX3R5cGVvZihvYmopO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufSIsImltcG9ydCBhcnJheVdpdGhIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheUxpbWl0IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVJlc3QgZnJvbSBcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IG5vbkl0ZXJhYmxlUmVzdCgpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRob3V0SG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRob3V0SG9sZXMuanNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVNwcmVhZCBmcm9tIFwiLi9ub25JdGVyYWJsZVNwcmVhZC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufSIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmV4cG9ydCBjb25zdCBDT09LSUVfTkFNRSA9IFwiX2dhXCI7XG4vLyBUT0RPIHJldmVydCB0aGUgZm9sbG93aW5nIHN0YWdpbmcgZW52IGNoZWNrIGFmdGVyIG1vdmluZyB0byBuZXcgYnJhbmNoIHN0cnVjdHVyZVxuZXhwb3J0IGNvbnN0IFRSRUFUTUVOVFNfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L3RyZWF0bWVudHMuanNvblwiO1xuZXhwb3J0IGNvbnN0IFNUWUxFU0hFRVRfTE9DQVRJT04gPSBcImh0dHBzOi8vaG9zdC1iOTYucGFnZXMuZGV2L25kLXN0eWxlcy5jc3NcIjtcbmV4cG9ydCBjb25zdCBMT0dfQVBJX1VSTCA9IFwiaHR0cHM6Ly9ldXJvcGUtd2VzdDMtbmV4dGRheS0zNGViMy5jbG91ZGZ1bmN0aW9ucy5uZXQvYXBpL2xvZ1Jlc3BvbnNlXCI7XG5leHBvcnQgY29uc3QgTE9PS1VQX0FQSV9VUkwgPSBcImh0dHBzOi8vY2F0YWxvZy1hcGkuYWRvcmFhaS5jb21cIjtcbmV4cG9ydCBjb25zdCBNT0JJTEVfTUVESUFfUVVFUlkgPSBcIihtYXgtd2lkdGg6IDQ0MHB4KVwiO1xuLy8gQ29udHJvbCBncm91cCBwZXJjZW50YWdlXG5leHBvcnQgY29uc3QgU1BMSVRfUkFUSU8gPSA4MDtcbi8vIFNraXBwZWQgdHJlYXRtZW50IHBlcmNlbnRhZ2VcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRfUkFUSU8gPSA1MDtcbmV4cG9ydCBjb25zdCBUUkVBVE1FTlRTX0RVUkFUSU9OID0gMTtcblxuZXhwb3J0IGNvbnN0IFNFU1NJT05fU1RPUkFHRV9LRVlTID0ge1xuICBTRVNTSU9OX0lEOiBcIl9fbmV4dGRheV9zZXNzaW9uX2lkXCIsXG4gIFNFU1NJT05fVElNRVNUQU1QOiBcIk5EX1Nlc3Npb25UaW1lc3RhbXBcIixcbiAgVFJFQVRNRU5UUzogXCJORF9UcmVhdG1lbnRzXCIsXG4gIFBBR0VfVklFV1M6IFwiTkRfUGFnZVZpZXdzXCIsXG4gIFBPUFVQX0RJU1BMQVlfRkxBRzogXCJORF9Qb3B1cERpc3BsYXlGbGFnXCIsXG4gIE5EX1NLVV9MSVNUOiBcIk5EX1NrdUxpc3RcIixcbn07XG5leHBvcnQgY29uc3QgTE9DQUxfU1RPUkFHRV9LRVlTID0ge1xuICBDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0U6IFwiTkRfQ0FCYXNrZXRQcmljZVwiLFxuICBORF9ERUJVR19NT0RFOiBcIk5EX0RlYnVnXCIsXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn0iLCJpbXBvcnQge0xPQ0FMX1NUT1JBR0VfS0VZU30gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5jbGFzcyBMb2dnZXIge1xuICBjb25zdHJ1Y3RvcihvcmlnaW4gPSBcIk5leHRkYXkgQ2xpZW50IFNES1wiKSB7XG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgdGhpcy5ERUJVRyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSk7XG4gIH1cblxuICBpbmZvKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7b3JpZ2lufSA9IHRoaXM7XG4gICAgY29uc29sZS5pbmZvKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG5cbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7REVCVUcsIG9yaWdpbn0gPSB0aGlzO1xuICAgIGlmIChERUJVRykge1xuICAgICAgY29uc29sZS5sb2coYFske29yaWdpbn1dYCwgLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgZXJyb3IoLi4uYXJncykge1xuICAgIGNvbnN0IHtvcmlnaW59ID0gdGhpcztcbiAgICBjb25zb2xlLmVycm9yKGBbJHtvcmlnaW59XWAsIC4uLmFyZ3MpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2dlcjtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IERhdGFMYXllciBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tEYXRhTGF5ZXJSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuICBjb25zdCBydW50aW1lVmFsdWUgPSBkYXRhTGF5ZXJGaW5kZXIob3BlcmF0b3IpO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRhdGFMYXllckZpbmRlciA9IChrZXkpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIlNlYXJjaGluZyBkYXRhTGF5ZXIgZm9yIGtleVwiLCBrZXkpO1xuICBmb3IgKGNvbnN0IG9iaiBvZiB3aW5kb3cuZGF0YUxheWVyKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgaWYgKGtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgbG9nZ2VyLmxvZyhgRm91bmQga2V5ICR7a2V5fSB3aXRoIHZhbHVlICR7b2JqW2tleV19YCk7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfVxuICB9XG4gIGxvZ2dlci5sb2coYEtleSAke2tleX0gbm90IGZvdW5kIGluIGRhdGFMYXllcmApO1xuICByZXR1cm4gbnVsbDtcbn07XG4iLCJpbXBvcnQge2NvbmRpdGlvbkNoZWNrZXJ9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBVcmwgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrVXJsUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInBhdGhcIjoge1xuICAgICAgY29uc3QgcmVxdWVzdFVSTD0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICBjb25zdCBpc0FqYXggPSByZXF1ZXN0VVJMLmluY2x1ZGVzKFwiYWpheC9tb2JpbGUtc2VhcmNoL2xvYWRPdGhlclBhZ2VzLnBocFwiKTtcbiAgICAgIGNvbnN0IHBhdGggPSAhaXNBamF4ID8gbmV3IFVSTChyZXF1ZXN0VVJMKS5wYXRobmFtZSA6XG4gICAgICBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgbmV3IFVSTChyZXF1ZXN0VVJMKS5zZWFyY2gucmVwbGFjZShcIj9vcmlnaW5hbFBhdGg9XCIsIFwiXCIpLFxuICAgICAgKTtcbiAgICAgIGxvZ2dlci5sb2coYENoZWNraW5nIHBhdGggJHtwYXRofSBtYXRjaGVzIHJ1bGUgcGF0aCAke3ZhbHVlfWApO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocGF0aCwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZUywgU1RZTEVTSEVFVF9MT0NBVElPTiwgVFJFQVRNRU5UU19MT0NBVElPTn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NoZWNrRGF0YUxheWVyUnVsZX0gZnJvbSBcIi4vTmV4dGRheVJ1bGVFbmdpbmUvZGF0YUxheWVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1VybFJ1bGV9IGZyb20gXCIuL05leHRkYXlSdWxlRW5naW5lL3VybENoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFV0aWxzXCIpO1xuXG5pZiAoIShcInJhbmRvbVVVSURcIiBpbiBjcnlwdG8pKSB7XG4gIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzLzI4MDAyMThcbiAgLy8gTElDRU5TRTogaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LXNhLzQuMC9sZWdhbGNvZGVcbiAge1xuICAgIHJhbmRvbVVVSURGYWxsYmFjaygpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCByZW1vdmVEb2N1bWVudEhpZGUgPSAoKSA9PiB7XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibmV4dERheS1oaWRlXCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoVHJlYXRtZW50cyA9IGFzeW5jICgpID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkZldGNoaW5nIHRyZWF0bWVudHNcIik7XG4gIGNvbnN0IHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaChUUkVBVE1FTlRTX0xPQ0FUSU9OKTtcbiAgcmV0dXJuIGF3YWl0IHRyZWF0bWVudHMuanNvbigpO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RDb29raWVJZGVudGlmaWVyID0gKGNvb2tpZVN0cmluZywgY29va2llTmFtZSkgPT4ge1xuICBpZiAoIWNvb2tpZVN0cmluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgcGFyc2VkID0gY29va2llU3RyaW5nXG4gICAgICAuc3BsaXQoXCI7XCIpXG4gICAgICAubWFwKCh2KSA9PiB2LnNwbGl0KFwiPVwiKSlcbiAgICAgIC5yZWR1Y2UoKGFjYywgdikgPT4ge1xuICAgICAgICBpZiAodlswXSAmJiB2WzFdKSB7XG4gICAgICAgICAgYWNjW2RlY29kZVVSSUNvbXBvbmVudCh2WzBdLnRyaW0oKSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZbMV0udHJpbSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuXG4gIGxldCBpZGVudGlmaWVyID0gcGFyc2VkW2Nvb2tpZU5hbWVdO1xuICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoY29va2llTmFtZSA9PT0gXCJfZ2FcIikge1xuICAgIC8vIGV4dHJhY3QgdW5pcXVlIGlkZW50aWZpZXIgZnJvbSBHQSBjb29raWVcbiAgICBjb25zdCBpZGVudGlmaWVySW5kZXggPSAyO1xuICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyLnNwbGl0KFwiLlwiKVtpZGVudGlmaWVySW5kZXhdO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGRldGVybWluZVBjdCA9IGFzeW5jIChpZGVudGlmaWVyLCBzdWJzdHJpbmdMZW5ndGggPSA4KSA9PiB7XG4gIGNvbnN0IHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24gPSA5O1xuICBjb25zdCBzdWJzdHJpbmdFbmRQb3NpdGlvbiA9IHN1YnN0cmluZ1N0YXJ0UG9zaXRpb24gKyBzdWJzdHJpbmdMZW5ndGg7XG4gIGlmICghaWRlbnRpZmllcikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICAvLyBlbmNvZGUgc3RyaW5nIHRvIGFuIGFycmF5IG9mIDgtYml0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzXG4gIGNvbnN0IGVuY29kZWQgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoaWRlbnRpZmllcik7XG5cbiAgLy8gaGFzaCB0aGUgZW5jb2RlZCBjb29raWUgaW50byBhIGJ1ZmZlclxuICBjb25zdCBoYXNoQnVmZmVyID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMVwiLCBlbmNvZGVkKTtcblxuICAvLyBjb252ZXJ0IGJ1ZmZlciB0byBieXRlIGFycmF5XG4gIGNvbnN0IGhhc2hBcnJheSA9IEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoaGFzaEJ1ZmZlcikpO1xuXG4gIC8vIGNvbnZlcnQgYnl0ZXMgdG8gaGV4IHN0cmluZ1xuICBjb25zdCBoYXNoU3RyaW5nID0gaGFzaEFycmF5XG4gICAgICAubWFwKChiKSA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpXG4gICAgICAuam9pbihcIlwiKTtcblxuICAvLyBNYXAgdGhlIGNvb2tpZSBoYXNoIHRvIGEgbnVtYmVyIGJldHdlZW4gMCAtPiA5OSxcbiAgLy8gdGhpcyBudW1iZXIgaXMgdGhlIG9uUmF0aW9uXG4gIGNvbnN0IGhhc2hOdW1iZXIgPSBwYXJzZUludChoYXNoU3RyaW5nLnN1YnN0cmluZyhzdWJzdHJpbmdTdGFydFBvc2l0aW9uLCBzdWJzdHJpbmdFbmRQb3NpdGlvbiksIDE2KTtcblxuICByZXR1cm4gaGFzaE51bWJlciAlIDEwMDtcbn07XG5cbmV4cG9ydCBjb25zdCBleGl0U2Nyb2xsTGlzdGVuZXIgPSAoY2FsbEJhY2spID0+IHtcbiAgY29uc3QgbG9vcCA9ICgpID0+IHtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIGlmIChsYXN0U2Nyb2xsVG9wIC0gNDAwID4gc2Nyb2xsVG9wKSB7XG4gICAgICBjbGVhckludGVydmFsKGV4aXRTY3JvbGxJbnRlcnZhbCk7XG4gICAgICBjYWxsQmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0U2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICBsZXQgbGFzdFNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIGNvbnN0IGV4aXRTY3JvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGxvb3AsIDUwMCk7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYXBwbHkgdHJlYXRtZW50cyB0byB0aGUgcGFnZSBvbiBzcGVjaWZpYyBtZWRpYSB0eXBlLlxuICogQHBhcmFtIHtNZWRpYVF1ZXJ5TGlzdH0gbWVkaWFRdWVyeUNvbmRpdGlvbiB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDUwMHB4KVwiKVxuICogQHBhcmFtIHtET01Ob2RlTGlzdCB9IGVsZW1lbnRzIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXYucHJvZHVjdF9pbmZvXCIpXG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVDaGFuZ2VzTWFwIHsgXCJtYXJnaW4tdG9wXCIgOiBcIjEwcmVtXCJ9XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3Qgc3R5bGVBcHBsaWNhdG9yID0gKGVsZW1lbnRzLCBzdHlsZUNoYW5nZXNNYXApID0+IHtcbiAgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHN0eWxlIGNoYW5nZXNcIiwgc3R5bGVDaGFuZ2VzTWFwLCBcInRvIGVsZW1lbnRzXCIsIGVsZW1lbnRzKTtcbiAgZm9yIChsZXQgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlQ2hhbmdlc01hcCkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdFN0eWxlU2hlZXQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgc3R5bGVTaGVldC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgc3R5bGVTaGVldC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICBzdHlsZVNoZWV0LmhyZWYgPSBTVFlMRVNIRUVUX0xPQ0FUSU9OO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlU2hlZXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmVBY3Rpb25zID0gKGFjdGlvbnNUb1ByZXBhcmUsIHN1YlZhcmlhbnRJZCkgPT4ge1xuICBjb25zdCBhY3Rpb25zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhY3Rpb25zVG9QcmVwYXJlKSk7XG4gIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICBjb25zdCB7c3ViVmFyaWFudHN9ID0gYWN0aW9uO1xuICAgIGlmICghc3ViVmFyaWFudHMpIGNvbnRpbnVlO1xuICAgIGZvciAoY29uc3Qgc3ViVmFyaWFudCBvZiBzdWJWYXJpYW50cykge1xuICAgICAgaWYgKHN1YlZhcmlhbnQuaWQgPT09IHN1YlZhcmlhbnRJZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdWJWYXJpYW50KSB7XG4gICAgICAgICAgaWYgKGtleSAhPT0gXCJpZFwiKSB7XG4gICAgICAgICAgICBhY3Rpb25ba2V5XSA9IHN1YlZhcmlhbnRba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhY3Rpb25zO1xufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzID0gKCkgPT4ge1xuICBjb25zdCB7UEFHRV9WSUVXUywgUE9QVVBfRElTUExBWV9GTEFHLCBTRVNTSU9OX0lELCBTRVNTSU9OX1RJTUVTVEFNUH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgY29uc3QgcGFnZVZpZXdzID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQQUdFX1ZJRVdTKTtcbiAgY29uc3QgcG9wdXBEaXNwbGF5RmxhZyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHKTtcbiAgY29uc3Qgc2Vzc2lvbklkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX0lEKTtcbiAgY29uc3Qgc2Vzc2lvblRpbWVzdGFtcCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVApO1xuICBpZiAoIXBhZ2VWaWV3cykge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEFHRV9WSUVXUywgMSk7XG4gIH0gZWxzZSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQQUdFX1ZJRVdTLCBwYXJzZUludChwYWdlVmlld3MpICsgMSk7XG4gIH1cbiAgaWYgKHBvcHVwRGlzcGxheUZsYWcgPT09IG51bGwpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRywgMCk7XG4gIH1cbiAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fSUQsIGNyeXB0by5yYW5kb21VVUlEKCkpO1xuICB9XG4gIGlmICghc2Vzc2lvblRpbWVzdGFtcCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9USU1FU1RBTVAsIERhdGUubm93KCkpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY29uZGl0aW9uQ2hlY2tlciA9IChydW5UaW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpID0+IHtcbiAgaWYgKGNvbmRpdGlvbiA9PT0gXCJub3RFeGlzdFwiKSB7XG4gICAgaWYgKCFydW5UaW1lVmFsdWUpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBleGlzdFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHJ1blRpbWVWYWx1ZSA9PT0gbnVsbCB8fFxuICAgIHJ1blRpbWVWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgY29uZGl0aW9uID09PSBudWxsIHx8XG4gICAgY29uZGl0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogcnVuVGltZVZhbHVlIG9yIGNvbmRpdGlvbiBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3dpdGNoIChjb25kaXRpb24pIHtcbiAgICBjYXNlIFwiZXhpc3RcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIGV4aXN0XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJjb250YWluc1wiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBjb250YWlucyB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBjb250YWluIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RDb250YWluc1wiOlxuICAgICAgaWYgKCFydW5UaW1lVmFsdWUuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZG9lcyBub3QgY29udGFpbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBjb250YWlucyB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiZXF1YWxcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgZXF1YWxzIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGRvZXMgbm90IGVxdWFsIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJub3RFcXVhbFwiOlxuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBkb2VzIG5vdCBlcXVhbCB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBlcXVhbHMgdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImdyZWF0ZXJUaGFuXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID4gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBncmVhdGVyIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGdyZWF0ZXIgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwibGVzc1RoYW5cIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPCB2YWx1ZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGxlc3MgdGhhbiB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLW5vdCBzYXRpc2ZpZWQtIHRhcmdldCBpcyBub3QgbGVzcyB0aGFuIHZhbHVlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJncmVhdGVyRXF1YWxzXCI6XG4gICAgICBpZiAocnVuVGltZVZhbHVlID49IHZhbHVlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtc2F0aXNmaWVkLSB0YXJnZXQgaXMgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5sb2coXCJjb25kaXRpb25DaGVja2VyOiAtbm90IHNhdGlzZmllZC0gdGFyZ2V0IGlzIG5vdCBncmVhdGVyIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBcImxlc3NFcXVhbHNcIjpcbiAgICAgIGlmIChydW5UaW1lVmFsdWUgPD0gdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1zYXRpc2ZpZWQtIHRhcmdldCBpcyBsZXNzIG9yIGVxdWFsIHRoYW4gdmFsdWVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGxlc3Mgb3IgZXF1YWwgdGhhbiB2YWx1ZVwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiYmV0d2VlblwiOiB7XG4gICAgICBsZXQgW21pbiwgbWF4XSA9IHZhbHVlLnNwbGl0KFwiLFwiKTtcbiAgICAgIG1pbiA9IHBhcnNlSW50KG1pbik7XG4gICAgICBtYXggPSBwYXJzZUludChtYXgpO1xuICAgICAgaWYgKHJ1blRpbWVWYWx1ZSA+PSBtaW4gJiYgcnVuVGltZVZhbHVlIDw9IG1heCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogLXNhdGlzZmllZC0gdGFyZ2V0IGlzIGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcImNvbmRpdGlvbkNoZWNrZXI6IC1ub3Qgc2F0aXNmaWVkLSB0YXJnZXQgaXMgbm90IGJldHdlZW4gbWluIGFuZCBtYXhcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dnZXIubG9nKFwiY29uZGl0aW9uQ2hlY2tlcjogY29uZGl0aW9uIGlzIG5vdCBkZWZpbmVkIFwiLCBjb25kaXRpb24pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmFuZG9tVVVJREZhbGxiYWNrID0gKCkgPT4ge1xuICBjcnlwdG8ucmFuZG9tVVVJRCA9IGZ1bmN0aW9uIHJhbmRvbVVVSUQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLFxuICAgICAgICAoYykgPT4gKGMgXiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmIDE1ID4+IGMgLyA0KS50b1N0cmluZygxNiksXG4gICAgKTtcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb21wYXJlT2JqZWN0cyA9IChvYmoxLCBvYmoyKSA9PiB7XG4gIGlmIChvYmoxID09PSBvYmoyKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoXG4gICAgdHlwZW9mIG9iajEgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgIHR5cGVvZiBvYmoyICE9PSBcIm9iamVjdFwiIHx8XG4gICAgICBvYmoxID09IG51bGwgfHxcbiAgICAgIG9iajIgPT0gbnVsbFxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBrZXlzQSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICBjb25zdCBrZXlzQiA9IE9iamVjdC5rZXlzKG9iajIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCByZXN1bHQgPSB0cnVlO1xuXG4gIGtleXNBLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmICgha2V5c0IuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIG9iajFba2V5XSA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICAgICAgdHlwZW9mIG9iajJba2V5XSA9PT0gXCJmdW5jdGlvblwiXG4gICAgKSB7XG4gICAgICBpZiAob2JqMVtrZXldLnRvU3RyaW5nKCkgIT09IG9iajJba2V5XS50b1N0cmluZygpKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghY29tcGFyZU9iamVjdHMob2JqMVtrZXldLCBvYmoyW2tleV0pKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZGVsYXkgPSAobXMpID0+IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCBtcykpO1xuXG4vLyBDb2xsZWN0IHByb2R1Y3QgU0tVcyBmcm9tIHBhZ2VcbmV4cG9ydCBjb25zdCBza3VDb2xsZWN0b3IgPSAoKSA9PiB7XG4gIGNvbnN0IHtORF9TS1VfTElTVH0gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcbiAgY29uc3Qgc2t1TGlzdCA9IFtdO1xuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgaG9tZSBwYWdlXG4gIGNvbnN0IHJ1bGUgPSB7XG4gICAgb3BlcmF0b3I6IFwiUGFnZVR5cGVcIixcbiAgICBjb25kaXRpb246IFwiZXF1YWxcIixcbiAgICB2YWx1ZTogXCJIb21lcGFnZVwiLFxuICB9O1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYWdlIGlzIGxpc3RpbmcgcGFnZVxuICBydWxlLnZhbHVlID0gXCJMaXN0aW5ncGFnZVwiO1xuICBpZiAoY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1jYXJkXCIpKTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBza3VMaXN0LnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3Qtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBMaXN0aW5ncGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNULCBKU09OLnN0cmluZ2lmeShza3VMaXN0KSk7XG5cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBhZ2UgaXMgcHJvZHVjdCBwYWdlXG4gIHJ1bGUudmFsdWUgPSBcIlByb2R1Y3RwYWdlXCI7XG4gIGlmIChjaGVja0RhdGFMYXllclJ1bGUocnVsZSkpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LXNrdVwiKTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJQcm9kdWN0IFNLVSBub3QgZm91bmQgb24gUHJvZHVjdHBhZ2VcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2t1TGlzdC5wdXNoKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1za3VcIikpO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTkRfU0tVX0xJU1QsIEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpKTtcblxuICAgIHJldHVybiBza3VMaXN0O1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBiYXNrZXQgcGFnZVxuICBydWxlLm9wZXJhdG9yID0gXCJwYXRoXCI7XG4gIHJ1bGUudmFsdWUgPSBcIi9zaXBhcmlzLWxpc3Rlc2kuaHRtbFwiO1xuICBpZiAoY2hlY2tVcmxSdWxlKHJ1bGUpKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FydC1pbnNpZGVcIikpO1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHNrdUxpc3QucHVzaChlLmdldEF0dHJpYnV0ZShcImRhdGEtc2t1XCIpKTtcbiAgICB9KTtcbiAgICBpZiAoIXNrdUxpc3QubGVuZ3RoKSB7XG4gICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBTS1VzIG5vdCBmb3VuZCBvbiBiYXNrZXQgcGFnZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE5EX1NLVV9MSVNULCBKU09OLnN0cmluZ2lmeShza3VMaXN0KSk7XG5cbiAgICByZXR1cm4gc2t1TGlzdDtcbiAgfVxuXG4gIGxvZ2dlci5sb2coXCJVbmlkZW50aWZpZWQgcGFnZSB0eXBlXCIpO1xuICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIFJldHVybiBzZWxlY3RvciBmb3IgYSBnaXZlbiBlbGVtZW50XG4vLyByZWY6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS82NjI5MTYwOC85MTM4NjUxXG5leHBvcnQgY29uc3QgZ2V0U2VsZWN0b3IgPSAoZWxtKSA9PiB7XG4gIGlmIChlbG0udGFnTmFtZSA9PT0gXCJCT0RZXCIpIHJldHVybiBcIkJPRFlcIjtcbiAgY29uc3QgbmFtZXMgPSBbXTtcbiAgd2hpbGUgKGVsbS5wYXJlbnRFbGVtZW50ICYmIGVsbS50YWdOYW1lICE9PSBcIkJPRFlcIikge1xuICAgIGlmIChlbG0uaWQpIHtcbiAgICAgIG5hbWVzLnVuc2hpZnQoXCIjXCIgKyBlbG0uZ2V0QXR0cmlidXRlKFwiaWRcIikpO1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjID0gMTsgbGV0IGUgPSBlbG07XG4gICAgICBmb3IgKDsgZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOyBlID0gZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLCBjKyspIDtcbiAgICAgIG5hbWVzLnVuc2hpZnQoZWxtLnRhZ05hbWUgKyBcIjpudGgtY2hpbGQoXCIgKyBjICsgXCIpXCIpO1xuICAgIH1cbiAgICBlbG0gPSBlbG0ucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4gbmFtZXMuam9pbihcIj5cIik7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuY29uc3Qgc3VwZXJQcmljZUJhZGdlID0gXCI8ZGl2IGNsYXNzPVxcXCJ0b3AtbGVmdC1iYWRnZVxcXCI+PGRpdiBjbGFzcz1cXFwic3VwZXItcHJpY2UtYmFkZ2VcXFwiPjxpbWcgc3JjPVxcXCIvL2Nkbi52aXZlbnNlLmNvbS9pbWFnZXMvYmFkZ2VzL3N1cGVyZml5YXRfYmFkZ2VfZmluYWwuc3ZnXFxcIiB3aWR0aD1cXFwiNDVcXFwiIGNsYXNzPVxcXCJzdXBlci1wcmljZS1pY29uXFxcIj48L2Rpdj48L2Rpdj5cIjtcblxuZXhwb3J0IGRlZmF1bHQgc3VwZXJQcmljZUJhZGdlO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHtleGl0U2Nyb2xsTGlzdGVuZXIsIHN0eWxlQXBwbGljYXRvciwgZGVsYXl9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHtNT0JJTEVfTUVESUFfUVVFUlksIFNFU1NJT05fU1RPUkFHRV9LRVlTfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2RhdGFMYXllckZpbmRlcn0gZnJvbSBcIi4uL05leHRkYXlSdWxlRW5naW5lL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuaW1wb3J0IHN1cGVyUHJpY2VCYWRnZSBmcm9tIFwiLi4vQ29tcG9uZW50cy92dl9zdXBlcl9wcmljZV9iYWRnZVwiO1xuXG5hc3luYyBmdW5jdGlvbiBhcHBseVRyZWF0bWVudHModHJlYXRtZW50cywgcHJvZHVjdEluZm8sIG9ic2VydmVyID0gZmFsc2UpIHtcbiAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBwbHkgVHJlYXRtZW50c1wiKTtcbiAgY29uc3Qge1BPUFVQX0RJU1BMQVlfRkxBR30gPSBTRVNTSU9OX1NUT1JBR0VfS0VZUztcblxuICBjb25zdCB0cmFuc2Zvcm1lciA9IGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyZWF0bWVudCkge1xuICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyB0cmVhdG1lbnQ6IFwiLCBKU09OLnN0cmluZ2lmeSh0cmVhdG1lbnQpKTtcbiAgICBjb25zdCB7XG4gICAgICBiYWRnZVNlbGVjdG9yLFxuICAgICAgb3BlcmF0b3IsXG4gICAgICB0eXBlLFxuICAgICAgYXBwbHlFdmVudCxcbiAgICAgIGNvbnRlbnRTZWxlY3RvcixcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2VsZWN0b3JGYWxsYmFjayxcbiAgICAgIG1kQ29uZGl0aW9uLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8xLFxuICAgICAgbW92ZV9zZWxlY3Rvcl8yLFxuICAgICAgcmVwbGFjZUZuLFxuICAgIH0gPSB0cmVhdG1lbnQ7XG4gICAgbGV0IHt2YWx1ZX0gPSB0cmVhdG1lbnQ7XG4gICAgbGV0IGVsZW1lbnQgPSAkKHNlbGVjdG9yKTtcblxuICAgIGNvbnN0IG1jID0gbWRDb25kaXRpb24gPyB3aW5kb3cubWF0Y2hNZWRpYShtZENvbmRpdGlvbikubWF0Y2hlcyA6IHRydWU7XG4gICAgaWYgKCFtYykge1xuICAgICAgbG9nZ2VyLmxvZyhcIk1lZGlhIGNvbmRpdGlvbiBtaXNtYXRjaDogXCIsIG1kQ29uZGl0aW9uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMSAmJiAhbW92ZV9zZWxlY3Rvcl8yKSB8fFxuICAgICAgKG1vdmVfc2VsZWN0b3JfMiAmJiAhbW92ZV9zZWxlY3Rvcl8xKVxuICAgICkge1xuICAgICAgbG9nZ2VyLmxvZyhcIkJvdGggbW92ZSBzZWxlY3RvcnMgYXJlIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobW92ZV9zZWxlY3Rvcl8xICYmIG1vdmVfc2VsZWN0b3JfMikge1xuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMSkubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJNb3ZlIHNlbGVjdG9yIDEgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCEkKG1vdmVfc2VsZWN0b3JfMikubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJNb3ZlIHNlbGVjdG9yIDIgbm90IGZvdW5kOiBcIiwgbW92ZV9zZWxlY3Rvcl8yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBsb2dnZXIubG9nKFwiU2VsZWN0b3Igbm90IHNwZWNpZmllZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICBpZiAoc2VsZWN0b3IgIT09IFwibm8tc2VsZWN0b3JcIikge1xuICAgICAgICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3QgZm91bmQ6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIlRyeWluZyBmYWxsYmFjayBzZWxlY3RvcjogXCIsIHNlbGVjdG9yRmFsbGJhY2spO1xuICAgICAgICAgIGlmIChzZWxlY3RvckZhbGxiYWNrKSBlbGVtZW50ID0gJChzZWxlY3RvckZhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiRmFsbGJhY2sgc2VsZWN0b3Igbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlcGxhY2VGbkV4ZWN1dG9yID0gKHJlcGxhY2VGbiwgdmFsdWUpID0+IHtcbiAgICAgIGlmIChyZXBsYWNlRm4gJiYgdmFsdWUuaW5jbHVkZXMoXCJ7e1JFUExBQ0V9fVwiKSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiRXhlY3V0aW5nIHJlcGxhY2UgZnVuY3Rpb246IFwiLCByZXBsYWNlRm4pO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICAgIGRhdGFMYXllckZpbmRlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVwbGFjZUZ1bmN0aW9uID0gRnVuY3Rpb24ocmVwbGFjZUZuKS5iaW5kKGNvbnRleHQpO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2VBbGwoXCJ7e1JFUExBQ0V9fVwiLCByZXBsYWNlRnVuY3Rpb24oKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaCgodmFsLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZXBsYWNlRm4gPSByZXBsYWNlRm4gPyByZXBsYWNlRm5baV0gfHwgcmVwbGFjZUZuIDogXCJcIjtcbiAgICAgICAgdmFsdWVbaV0gPSByZXBsYWNlRm5FeGVjdXRvcihjdXJyZW50UmVwbGFjZUZuLCB2YWwpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gcmVwbGFjZUZuRXhlY3V0b3IocmVwbGFjZUZuLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKG9wZXJhdG9yID09PSBcInJlbW92ZVwiKSB7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiUmVtb3Zpbmc6IFwiLCBzZWxlY3Rvcik7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICBsb2dnZXIubG9nKFwiQ2Fubm90IGZvdW5kIGVsZW1lbnQgd2l0aCBzZWxlY3RvcjogXCIsIHNlbGVjdG9yKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcImluc2VydFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJlZm9yZVwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbnNlcnRpbmcgYmVmb3JlOiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGlmIChTdHJpbmcodmFsdWUpLmluY2x1ZGVzKFwibmQtYWRkLXRvLXdpblwiKSkge1xuICAgICAgICAgICAgJChcIi5uZC1hZGQtdG8td2luXCIpLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50LmJlZm9yZSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhZnRlclwiOlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJJbnNlcnRpbmcgYWZ0ZXI6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgZWxlbWVudC5hZnRlcih2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3B1cFwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBPUFVQX0RJU1BMQVlfRkxBRykpICE9PSAwKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJQb3B1cCBhbHJlYWR5IGRpc3BsYXllZCBpbiBzZXNzaW9uXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDcmVhdGluZyBQb3B1cDogXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGNyZWF0ZVBvcHVwKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICBjb25zdCBtb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXM7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJleGl0SW50ZW50XCI6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgZXhpdCBpbnRlbnQgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBleGl0U2Nyb2xsTGlzdGVuZXIoZGlzcGxheVBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtb3VzZWxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAge29uY2U6IHRydWV9LFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY29weUludGVudFwiOlxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiQWRkaW5nIGNvcHkgaW50ZW50IGxpc3RlbmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29weVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwLFxuICAgICAgICAgICAgICAgICAgICAgICAge29uY2U6IHRydWV9LFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGFwcGVuZCBwb3B1cCB0byBib2R5IGFmdGVyIHRpbWVvdXQgZXhwaXJlc1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiZWRpdFwiKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiRWRpdGluZyB0ZXh0OiBcIiwgdmFsdWUpO1xuICAgICAgICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHlsZUFwcGxpY2F0b3JcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQXBwbHlpbmcgc3R5bGU6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVDaGFuZ2VzTWFwID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiU3R5bGUgQ2hhbmdlcyBNYXA6IFwiLCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgICAgc3R5bGVBcHBsaWNhdG9yKGVsZW1lbnRzLCBzdHlsZUNoYW5nZXNNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFkZENsYXNzXCI6XG4gICAgICAgICAgbG9nZ2VyLmxvZyhgYWRkZGluZyBjbGFzcyB0byAke2VsZW1lbnR9IG5hbWVkICR7dmFsdWV9YCk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZW1vdmVDbGFzc1wiOlxuICAgICAgICAgIGxvZ2dlci5sb2coYHJlbW92ZSBjbGFzcyBmcm9tICR7ZWxlbWVudH0gbmFtZWQgJHt2YWx1ZX1gKTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRvY3VtZW50VGl0bGVcIjpcbiAgICAgICAgICBsb2dnZXIubG9nKGBjaGFuZ2luZyBkb2N1bWVudCB0aXRsZSBmcm9tICR7ZWxlbWVudH0gdG8gJHt2YWx1ZX1gKTtcbiAgICAgICAgICBpZiAoYXBwbHlFdmVudCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBhcHBseUV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmIChldmVudCA9PSBcInRhYkNoYW5nZVwiKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcImNhdGNoaW5nIGV2ZW50IHRhYmNoYW5nZS4uXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGl0bGUgPSBkb2N1bWVudC50aXRsZTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoZSkgPT5cbiAgICAgICAgICAgICAgICAgIGhhbmRsZURvY3VtZW50VGl0bGVUYWJDaGFuZ2UoZSwgdmFsdWUsIG9yaWdpbmFsVGl0bGUpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInVwZGF0ZUJhZGdlXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFwcm9kdWN0SW5mbykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIHVuYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJVcGRhdGluZyBiYWRnZXM6IFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZWxlbWVudCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgIGxldCBlbGVtZW50U2t1ID0gZWwuYXR0cihcImRhdGEtcHJvZHVjdC1za3VcIik7XG4gICAgICAgICAgICAgIGlmICghZWxlbWVudFNrdSkgZWxlbWVudFNrdSA9IGVsLmF0dHIoXCJkYXRhLXNrdVwiKTtcbiAgICAgICAgICAgICAgaWYgKCFlbGVtZW50U2t1KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkNvdWxkIG5vdCBmaW5kIHByb2R1Y3Qgc2t1XCIpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsLmZpbmQoYmFkZ2VTZWxlY3RvcikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwcm9kdWN0SW5mbykuaW5jbHVkZXMoZWxlbWVudFNrdSkgJiZcbiAgICAgICAgICAgICAgICBwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5iYWRnZXMuaW5jbHVkZXModmFsdWUpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdXBlclByaWNlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgZWwuZmluZChcIi5ob3Zlci1lbGVtZW50LWFyZWFcIikuYmVmb3JlKHN1cGVyUHJpY2VCYWRnZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWRkQmFubmVyXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qge05EX1NLVV9MSVNUfSA9IFNFU1NJT05fU1RPUkFHRV9LRVlTO1xuICAgICAgICAgICAgaWYgKCFwcm9kdWN0SW5mbykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiUHJvZHVjdCBpbmZvIHVuYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBZGRpbmcgYmFubmVyOiBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudFNrdSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIk5EX1NrdUxpc3RcIikpWzBdO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50U2t1KSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgZmluZCBwcm9kdWN0IHNrdVwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb2R1Y3RJbmZvKS5pbmNsdWRlcyhlbGVtZW50U2t1KSAmJlxuICAgICAgICAgICAgICBwcm9kdWN0SW5mb1tlbGVtZW50U2t1XS5jYXRhbG9nLm1vc3RWaWV3ZWRMZXZlbCA8IDEwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5iZWZvcmUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiVW5rbm93biBlZGl0IHR5cGU6IFwiLCB0eXBlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcInNldGF0dHJpYnV0ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiU2V0dGluZyBhdHRyaWJ1dGU6IFwiLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgIHN3aXRjaCAoYXR0cmlidXRlKSB7XG4gICAgICAgIGNhc2UgXCJzcmNcIjpcbiAgICAgICAgICBlbGVtZW50LmNzcyhcImNvbnRlbnRcIiwgYHVybCgke3ZhbHVlLnRyaW0oKX0pYCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdmFsdWUuc3BsaXQoXCI6XCIpWzBdLnRyaW0oKTtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eVZhbHVlID0gdmFsdWUuc3BsaXQoXCI6XCIpWzFdLnRyaW0oKTtcblxuICAgICAgICAgIGVsZW1lbnQuY3NzKHByb3BlcnR5LCBwcm9wZXJ0eVZhbHVlLCBcIiFpbXBvcnRhbnRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJyZXBsYWNlXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJSZXBsYWNpbmc6IFwiLCB2YWx1ZSk7XG4gICAgICBlbGVtZW50LnJlcGxhY2VBbGwodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwic3dhcFwiKSB7XG4gICAgICBsb2dnZXIubG9nKFwiU3dhcHBpbmc6IFwiLCBtb3ZlX3NlbGVjdG9yXzEsIG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBjb25zdCBuMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW92ZV9zZWxlY3Rvcl8xKTtcbiAgICAgIGNvbnN0IG4yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzIpO1xuICAgICAgc3dhcE5vZGVzKG4xLCBuMik7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJpbmplY3RzY3JpcHRcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIkluamVjdGluZyBzY3JpcHQ6IFwiLCB2YWx1ZSk7XG4gICAgICBlbGVtZW50LmFwcGVuZChgPHNjcmlwdD4ke3ZhbHVlfTwvc2NyaXB0PmApO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwibW92ZVwiKSB7XG4gICAgICBsb2dnZXIubG9nKGBNb3ZpbmcgJHttb3ZlX3NlbGVjdG9yXzF9IHRvICR7bW92ZV9zZWxlY3Rvcl8yfWApO1xuICAgICAgY29uc3Qgc291cmNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb3ZlX3NlbGVjdG9yXzEpO1xuICAgICAgY29uc3QgZGVzdGluYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vdmVfc2VsZWN0b3JfMik7XG4gICAgICBzb3VyY2UucmVtb3ZlKCk7XG4gICAgICBkZXN0aW5hdGlvbi5wcmVwZW5kKHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCJub29wXCIpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJOb29wIE9wZXJhdG9yOiBObyBvcGVyYXRpb24gaXMgYXBwbGllZCBvbiB0YXJnZXQgXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIubG9nKFwiTm8gc3VjaCBvcGVyYXRvciBleGlzdHMgeWV0XCIsIG9wZXJhdG9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSA9IGFzeW5jIChldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlKSA9PiB7XG4gICAgY29uc3QgcGFyc2VkVGl0bGVzID0gIUFycmF5LmlzQXJyYXkodGl0bGVzKSA/IFt0aXRsZXNdIDogdGl0bGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkVGl0bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gcGFyc2VkVGl0bGVzW2ldO1xuICAgICAgICBhd2FpdCBkZWxheSgzMDAwKTtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgICBhd2FpdCBkZWxheSgzMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZShldmVudCwgdGl0bGVzLCBvcmlnaW5hbFRpdGxlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUG9wdXBDbGljayA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZXZlbnQudGFyZ2V0LmlkO1xuICAgIGlmIChpZCAmJiBpZCA9PT0gXCJuZC1wb3B1cF9fd3JhcHBlclwiKSB7XG4gICAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheVBvcHVwID0gKCkgPT4ge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUE9QVVBfRElTUExBWV9GTEFHLCAxKTtcbiAgICBjb25zdCBxUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dydC1zaGFkb3ctaG9zdFwiKTtcbiAgICBpZiAocVBvcHVwKSBxUG9wdXAuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZC1wb3B1cF9fd3JhcHBlclwiKS5zdHlsZVtcImRpc3BsYXlcIl0gPSBcImJsb2NrXCI7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQb3B1cENsaWNrLCB0cnVlKTtcblxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBkaXNwbGF5UG9wdXAsIHtcbiAgICAgIG9uY2U6IHRydWUsXG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb3B5XCIsIGRpc3BsYXlQb3B1cCwge1xuICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfSwgMTUwMDApO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZVBvcHVwID0gKHZhbHVlLCBjb250ZW50U2VsZWN0b3IpID0+IHtcbiAgICAvLyBDcmVhdGUgcG9wdXAgd3JhcHBlclxuICAgIGNvbnN0IHBvcHVwV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICBwb3B1cFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcIm5kLXBvcHVwX193cmFwcGVyXCIpO1xuICAgIHBvcHVwV3JhcHBlci5pZCA9IFwibmQtcG9wdXBfX3dyYXBwZXJcIjtcblxuICAgIC8vIENyZWF0ZSBwb3B1cCBjbG9zZSBidXR0b25cbiAgICBjb25zdCBwb3B1cENsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBwb3B1cENsb3NlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJuZC1wb3B1cF9fYnV0dG9uLWNsb3NlXCIpO1xuICAgIHBvcHVwQ2xvc2VCdXR0b24uaW5uZXJUZXh0ID0gXCJYXCI7XG4gICAgcG9wdXBDbG9zZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgJChcIiNuZC1wb3B1cF9fd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUG9wdXBDbGljaywgdHJ1ZSk7XG4gICAgfTtcblxuICAgIGlmIChjb250ZW50U2VsZWN0b3IpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbnRlbnRTZWxlY3RvcikpO1xuICAgICAgd2hpbGUgKHZhbHVlLmluY2x1ZGVzKFwie3tSRVBMQUNFfX1cIikgJiYgY29udGVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCJ7e1JFUExBQ0V9fVwiLCBjb250ZW50cy5zaGlmdCgpLnNyYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGZyb20gdHJlYXRtZW50IGFuZCBhcHBlbmQgY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdmFsdWUudHJpbSgpO1xuICAgIGNvbnN0IHBvcHVwID0gdGVtcGxhdGUuY29udGVudC5maXJzdENoaWxkO1xuICAgIHBvcHVwLmFwcGVuZENoaWxkKHBvcHVwQ2xvc2VCdXR0b24pO1xuICAgIHBvcHVwV3JhcHBlci5hcHBlbmRDaGlsZChwb3B1cCk7XG5cbiAgICAvLyBSZW1vdmUgb2xkIHBvcHVwIGlmIGV4aXN0cyBiZWZvcmUgYXBwZW5kaW5nIG5ldyBvbmVcbiAgICAkKFwiI25kLXBvcHVwX193cmFwcGVyXCIpLnJlbW92ZSgpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocG9wdXBXcmFwcGVyKTtcbiAgfTtcblxuICBjb25zdCBzd2FwTm9kZXMgPSBmdW5jdGlvbiBzd2FwTm9kZXMobjEsIG4yKSB7XG4gICAgY29uc3QgcDEgPSBuMS5wYXJlbnROb2RlO1xuICAgIGNvbnN0IHAyID0gbjIucGFyZW50Tm9kZTtcbiAgICBsZXQgaTE7XG4gICAgbGV0IGkyO1xuXG4gICAgaWYgKCFwMSB8fCAhcDIgfHwgcDEuaXNFcXVhbE5vZGUobjIpIHx8IHAyLmlzRXF1YWxOb2RlKG4xKSkgcmV0dXJuO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwMS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHAxLmNoaWxkcmVuW2ldLmlzRXF1YWxOb2RlKG4xKSkge1xuICAgICAgICBpMSA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcDIuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwMi5jaGlsZHJlbltpXS5pc0VxdWFsTm9kZShuMikpIHtcbiAgICAgICAgaTIgPSBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwMS5pc0VxdWFsTm9kZShwMikgJiYgaTEgPCBpMikge1xuICAgICAgaTIrKztcbiAgICB9XG4gICAgcDEuaW5zZXJ0QmVmb3JlKG4yLCBwMS5jaGlsZHJlbltpMV0pO1xuICAgIHAyLmluc2VydEJlZm9yZShuMSwgcDIuY2hpbGRyZW5baTJdKTtcbiAgfTtcblxuICBjb25zdCB0cmVhdG1lbnRBcHBsaWNhdG9yID0gKHRyZWF0bWVudExpc3QpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyZWF0bWVudEFwcGxpY2F0b3IodHJlYXRtZW50TGlzdCk7XG4gICAgICB9LCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHRyZWF0bWVudExpc3QpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0cmFuc2Zvcm1lcih0cmVhdG1lbnQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFxuICAgICAgICAgICAgICBgQ291bGRuJ3QgYXBwbHkgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSB3aXRoIGVycm9yICR7ZXJyLm1lc3NhZ2V9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIFNldCBpZCBvZiBmYWlsZWQgdHJlYXRtZW50IHRvIC0xLFxuICAgICAgICAgIC8vIHNvIHdlIGtub3cgbm90IHRvIGxpc3QgaW4gdGhlIGN1c3RvbSBHQSBldmVudFxuICAgICAgICAgIC8vIHRyZWF0bWVudExpc3RbdHJlYXRtZW50XS5pZCA9IC0xO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEFwcGx5IHRyZWF0bWVudHNcbiAgdHJlYXRtZW50QXBwbGljYXRvcih0cmVhdG1lbnRzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGFwcGx5VHJlYXRtZW50cztcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufSIsImltcG9ydCB7TE9DQUxfU1RPUkFHRV9LRVlTLCBMT0dfQVBJX1VSTCwgU0VTU0lPTl9TVE9SQUdFX0tFWVMsIFNQTElUX1JBVElPfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge2NvbXBhcmVPYmplY3RzLCBleHRyYWN0Q29va2llSWRlbnRpZmllcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcblxuZXhwb3J0IGNsYXNzIE1vbml0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IE1vbml0b3JcIik7XG4gICAgdGhpcy5sb2dnZXIubG9nKFwiSW5pdGlhbGl6aW5nIG1vbml0b3JcIik7XG5cbiAgICB0aGlzLmFwcGxpZWRUcmVhdG1lbnRJZHMgPSBudWxsO1xuICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyA9IG51bGw7XG4gICAgdGhpcy5sYXRlc3RDaGFuZ2VzID0gbnVsbDtcbiAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMgPSBudWxsO1xuICAgIHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZUy5TRVNTSU9OX0lEKTtcbiAgICB0aGlzLnZpZXdJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgdGhpcy5oZWFkZXJzID0ge1xuICAgICAgdHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICB0aGlzLmxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgd2l0aCBzZXNzaW9uIGlkOiBcIiArIHRoaXMuc2Vzc2lvbklkKTtcbiAgICB0aGlzLmRlYnVnTW9kZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWVMuTkRfREVCVUdfTU9ERSkgPyBcIm9uXCIgOiBcIm9mZlwiO1xuICAgIHRoaXMuaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVyKCk7XG5cbiAgICB0aGlzLmlzTG9nZ2VkID0gZmFsc2U7XG4gIH1cblxuICB1cGRhdGVUcmVhdG1lbnRzKGFwcGxpZWRUcmVhdG1lbnRJZHMsIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMpIHtcbiAgICB0aGlzLmFwcGxpZWRUcmVhdG1lbnRJZHMgPSBhcHBsaWVkVHJlYXRtZW50SWRzO1xuICAgIHRoaXMuZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyA9IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHM7XG4gIH1cblxuICBhc3luYyBzZW5kTG9ncyhpc09uLCBtZXNzYWdlID0gbnVsbCwgZW1wdHkgPSBmYWxzZSkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsb2dnZXIubG9nKFwiU2VuZGluZyBsb2dzXCIpO1xuXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwiY29tcGxldGVcIikge1xuICAgICAgbG9nZ2VyLmxvZyhcIkRvY3VtZW50IHJlYWR5IHN0YXRlIGlzIG5vdCBjb21wbGV0ZVwiKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIGJlZm9yZXVubG9hZCBldmVudFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShpc09uLCBtZXNzYWdlLCBlbXB0eSkpO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIG9ucGFnZWhpZGUgZXZlbnRcIik7XG4gICAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoaXNPbiwgbWVzc2FnZSwgZW1wdHkpKTtcbiAgICAgIH0sIHRydWUpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkluIG9ubG9hZCBldmVudFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVRdWV1ZUxvZ3ModGhpcy5wYWNrYWdlTG9nRGF0YShpc09uLCBtZXNzYWdlLCBlbXB0eSkpO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlUXVldWVMb2dzKHRoaXMucGFja2FnZUxvZ0RhdGEoaXNPbiwgbWVzc2FnZSwgZW1wdHkpKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVRdWV1ZUxvZ3MocmVxdWVzdEJsb2IpIHtcbiAgICBpZiAodGhpcy5pc0xvZ2dlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcblxuICAgIGlmICghcmVxdWVzdEJsb2IpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJDb3VsZCBub3QgY3JlYXRlIHJlcXVlc3QgYmxvYlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlJlcXVlc3QgYmxvYiB0byBzZW5kOiBcIiwgcmVxdWVzdEJsb2IpO1xuICAgIHRoaXMucXVldWVMb2dzKHJlcXVlc3RCbG9iKTtcblxuICAgIHRoaXMuaXNMb2dnZWQgPSB0cnVlO1xuICB9XG5cbiAgdXBkYXRlTGF0ZXN0Q2hhbmdlcyhjaGFuZ2VzLCBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzKSB7XG4gICAgY29uc3Qge2FwcGxpZWRUcmVhdG1lbnRJZHMsIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMsIGxvZ2dlcn0gPSB0aGlzO1xuICAgIGxvZ2dlci5sb2coXCJVcGRhdGluZyBsYXRlc3QgY2hhbmdlc1wiKTtcblxuICAgIGxldCBjb21wYXJlVG8gPSB0aGlzLmxhdGVzdENoYW5nZXMgfHwgYXBwbGllZFRyZWF0bWVudElkcztcbiAgICBpZiAoIWNvbXBhcmVPYmplY3RzKGNvbXBhcmVUbywgY2hhbmdlcykpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJDaGFuZ2VzIGRldGVjdGVkXCIpO1xuICAgICAgbG9nZ2VyLmxvZyhcIkNoYW5nZXM6IFwiLCBjaGFuZ2VzKTtcbiAgICAgIHRoaXMubGF0ZXN0Q2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgfVxuXG4gICAgY29tcGFyZVRvID0gdGhpcy5lbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzIHx8IGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHM7XG4gICAgaWYgKCFjb21wYXJlT2JqZWN0cyhjb21wYXJlVG8sIGVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMpKSB7XG4gICAgICBsb2dnZXIubG9nKFwiQ2hhbmdlcyBkZXRlY3RlZFwiKTtcbiAgICAgIGxvZ2dlci5sb2coXCJDaGFuZ2VzOiBcIiwgY2hhbmdlcyk7XG4gICAgICB0aGlzLmVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMgPSBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzO1xuICAgIH1cbiAgfVxuXG4gIHBhY2thZ2VMb2dEYXRhKGlzT24sIG1lc3NhZ2UsIGVtcHR5KSB7XG4gICAgY29uc3Qge2FwcGxpZWRUcmVhdG1lbnRJZHMsXG4gICAgICBlbGlnaWJsZU5vdEFwcGxpZWRUcmVhdG1lbnRzLFxuICAgICAgZGVidWdNb2RlLFxuICAgICAgaGVhZGVycyxcbiAgICAgIHZpZXdJZH0gPSB0aGlzO1xuICAgIGNvbnN0IG0gPSBtZXNzYWdlID8gbWVzc2FnZSA6IE9iamVjdC5rZXlzKGFwcGxpZWRUcmVhdG1lbnRJZHMpLmxlbmd0aCA/IFwiVHJlYXRtZW50cyBhcHBsaWVkXCIgOlxuICAgICAgXCJObyB0cmVhdG1lbnRzIGFwcGxpZWRcIjtcbiAgICBjb25zdCBib2R5ID0gdGhpcy5wcmVwYXJlTG9nQm9keSgpO1xuICAgIGJvZHkudklkID0gZW1wdHkgPyBudWxsIDogdmlld0lkO1xuICAgIGJvZHkubSA9IG07XG4gICAgYm9keS5kYm0gPSBkZWJ1Z01vZGU7XG4gICAgYm9keS5pc09uID0gaXNPbjtcbiAgICBib2R5LmEgPSBlbXB0eSA/IHt9IDogYXBwbGllZFRyZWF0bWVudElkcztcbiAgICBib2R5LmUgPSBlbXB0eSA/IHt9IDogZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cztcblxuICAgIHJldHVybiBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoYm9keSldLCBoZWFkZXJzKTtcbiAgfVxuXG4gIHBhY2thZ2VVcGRhdGVMb2dEYXRhKCkge1xuICAgIGNvbnN0IHtoZWFkZXJzLCBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzLCBsYXRlc3RDaGFuZ2VzLCB2aWV3SWR9ID0gdGhpcztcbiAgICBpZiAoIWxhdGVzdENoYW5nZXMgJiYgIWVsaWdpYmxlTm90QXBwbGllZENoYW5nZXMpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgdDogRGF0ZS5ub3coKSxcbiAgICAgIGE6IGxhdGVzdENoYW5nZXMgPyBsYXRlc3RDaGFuZ2VzIDoge30sXG4gICAgICBlOiBlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzID8gZWxpZ2libGVOb3RBcHBsaWVkQ2hhbmdlcyA6IHt9LFxuICAgICAgdklkOiB2aWV3SWQsXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGJvZHkpXSwgaGVhZGVycyk7XG4gIH1cblxuICBwcmVwYXJlTG9nQm9keSgpIHtcbiAgICBjb25zdCBjdXJyZW50VVJMID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgbGV0IGdhT2JqZWN0cyA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBnYURMRWxlbWVudCBvZiB3aW5kb3cuZGF0YUxheWVyKSB7XG4gICAgICBnYU9iamVjdHMgPSB7Li4uZ2FPYmplY3RzLCAuLi5nYURMRWxlbWVudH07XG4gICAgfVxuXG4gICAgY29uc3QgdmlzaWxhYnNjayA9IEpTT04ucGFyc2UoZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcIlZMX0NNXzBcIikpO1xuXG4gICAgY29uc3QgdmxPYmplY3RzID0ge307XG5cbiAgICBpZiAodmlzaWxhYnNjayAmJiB2aXNpbGFic2NrLkl0ZW1zKSB7XG4gICAgICBmb3IgKGNvbnN0IHZsRWxlbWVudCBvZiB2aXNpbGFic2NrLkl0ZW1zKSB7XG4gICAgICAgIHZsT2JqZWN0c1t2bEVsZW1lbnQuS10gPSBkZWNvZGVVUklDb21wb25lbnQodmxFbGVtZW50LlYpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG5kRGF0YSA9IHt9O1xuXG4gICAgLyogVklTSUxBQlMgKi9cblxuICAgIG5kRGF0YS5jb29raWVWTElzTmV3ID0gdmxPYmplY3RzLk9NX0lOVztcbiAgICBuZERhdGEuY29va2llVkxQVmluVmlzaXQgPSB2bE9iamVjdHMuVkxfUFZDb3VudEluVmlzaXQ7XG4gICAgbmREYXRhLmNvb2tpZVZMVmlzaXREdXJhdGlvbiA9IHZsT2JqZWN0cy5WTF9Ub3RhbER1cmF0aW9uO1xuICAgIG5kRGF0YS5jb29raWVWTFRvdGFsUFYgPSB2bE9iamVjdHMuVkxfVG90YWxQVjtcbiAgICBuZERhdGEuY29va2llVkxUb3RhbFZpc2l0ID0gdmxPYmplY3RzLlZMX1RvdGFsVmlzaXQ7XG5cbiAgICAvKiBHQSAqL1xuXG4gICAgbmREYXRhLmdhUGFnZVR5cGUgPSBnYU9iamVjdHMuUGFnZVR5cGU7XG4gICAgbmREYXRhLmdhUHJvZHVjdE5hbWUgPSBnYU9iamVjdHMuY29udGVudF9uYW1lO1xuICAgIG5kRGF0YS5nYVZpZXdUeXBlID0gZ2FPYmplY3RzLmNvbnRlbnRfdHlwZTtcbiAgICBuZERhdGEuZ2FQcm9kdWN0Q2F0ZWdvcnkgPSBnYU9iamVjdHMuY29udGVudF9jYXRlZ29yeTtcbiAgICBuZERhdGEuZ2FQcm9kdWN0SUQgPSBnYU9iamVjdHMuY29udGVudF9pZHM7XG4gICAgbmREYXRhLnZ2c1Byb2R1Y3RDYXRlZ29yeSA9IGdhT2JqZWN0cy52aXZlbnNlX2NhdGVnb3J5O1xuICAgIG5kRGF0YS5nYUxpc3RpbmdOYW1lID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UuZGV0YWlsLmFjdGlvbkZpZWxkLmxpc3Q7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS52dnNJc1Nob3dyb29tID0gZ2FPYmplY3RzLmlzQWRtaW47XG4gICAgbmREYXRhLnZ2c1Byb2R1Y3RHcm91cCA9IGdhT2JqZWN0cy5wcm9kdWN0R3JvdXA7XG4gICAgbmREYXRhLnZ2c1VzZXJFbWFpbCA9IGdhT2JqZWN0cy51c2VyRW1haWw7XG4gICAgbmREYXRhLnZ2c1VzZXJJZCA9IGdhT2JqZWN0cy51c2VySWQ7XG4gICAgbmREYXRhLnZ2c0NhdGVnb3J5ID0gZ2FPYmplY3RzLnZpdmVuc2VfY2F0ZWdvcnk7XG4gICAgbmREYXRhLmdhQWN0aW9uID0gZ2FPYmplY3RzLkFjdGlvbjtcbiAgICBuZERhdGEuZ2FBY3Rpb25MYWJlbCA9IGdhT2JqZWN0cy5MYWJlbDtcbiAgICBuZERhdGEuZ2FDYXRlZ29yeVByb2R1Y3RDb250ID0gZ2FPYmplY3RzLmNhdGVnb3J5X3Byb2R1Y3RfY291bnQ7XG4gICAgbmREYXRhLmdhQWN0aW9uU3RlcCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLmNoZWNrb3V0LmFjdGlvbkZpZWxkLnN0ZXA7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS5nYUFjdGlvblVzZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5jaGVja291dC5hY3Rpb25GaWVsZC5kaW1lbnNpb24xNDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCkgfHwgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuZGltZW5zaW9uMTQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS5nYUNhcnRQcm9kdWN0cyA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLmNoZWNrb3V0LnByb2R1Y3RzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKSB8fCAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5wdXJjaGFzZS5wcm9kdWN0cztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLnZ2c1BEUFByb2R1Y3QgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLnZpdmVuc2VQcm9kdWN0c1swXTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgbmREYXRhLmdhUHVyY2hhc2VJZCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnYU9iamVjdHMuZWNvbW1lcmNlLnB1cmNoYXNlLmFjdGlvbkZpZWxkLmlkO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZUFmZmlsaWF0aW9uID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuYWZmaWxpYXRpb247XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS5nYVB1cmNoYXNlQ291cG9uID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuY291cG9uO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZVJldmVudWUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5yZXZlbnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZVNoaXBwaW5nID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQuc2hpcHBpbmc7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS5nYVB1cmNoYXNlVGF4ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGdhT2JqZWN0cy5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQudGF4O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBuZERhdGEuZ2FQdXJjaGFzZVBheVR5cGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZ2FPYmplY3RzLmVjb21tZXJjZS5wdXJjaGFzZS5hY3Rpb25GaWVsZC5kaW1lbnNpb24xNTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICAvKiB3aW5kb3cgKi9cbiAgICBuZERhdGEud2luZG93UGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICBuZERhdGEud2luZG93U2NyZWVuID0gd2luZG93LnNjcmVlbjtcbiAgICBuZERhdGEud2luZG93VlBvcnQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ7XG4gICAgbmREYXRhLndpbmRvd1BSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuXG4gICAgLyogbmF2aWdhdG9yICovXG4gICAgbmREYXRhLm5hdkFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBuZERhdGEubmF2SFdDb3JlcyA9IG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5O1xuICAgIG5kRGF0YS5uYXZMYW5ndWFnZSA9IG5hdmlnYXRvci5sYW5ndWFnZTtcbiAgICBuZERhdGEubmF2VG91Y2ggPSBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM7XG4gICAgbmREYXRhLm5hdlBsYXRmb3JtID0gbmF2aWdhdG9yLnBsYXRmb3JtO1xuICAgIG5kRGF0YS5uYXZWZW5kb3IgPSBuYXZpZ2F0b3IudmVuZG9yO1xuXG4gICAgLyogcGVyc29uYUNsaWNrICovXG4gICAgbmREYXRhLnBDbGlja1NlZ21lbnQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwZXJzb25hQ2xpY2tfc2VnbWVudFwiKTtcblxuICAgIC8qIGNvb2tpZXMgKi9cbiAgICBuZERhdGEuY29va2llR2FJZCA9IGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJfZ2FcIik7XG4gICAgbmREYXRhLmNvb2tpZUxhc3RCcmVhZENydW1iID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBcImxhc3RicmVhZGNydW1iXCIpO1xuICAgIG5kRGF0YS5jb29raWVMYXN0Q2F0ZWdvcnkgPSBleHRyYWN0Q29va2llSWRlbnRpZmllcihkb2N1bWVudC5jb29raWUsIFwibGFzdGNhdGVnb3J5XCIpO1xuICAgIG5kRGF0YS5jb29raWVGaXJzdEVudHJ5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgXCJ2aXZlbnNlZmlyc3RcIikpO1xuXG4gICAgLyogTmV4dGRheSBkYXRhICovXG4gICAgbmREYXRhLnYgPSBcIjAuMC4yM1wiO1xuICAgIG5kRGF0YS5uID0gYG5leHRkYXktc2Vzc2lvbl9pZC0ke3RoaXMuc2Vzc2lvbklkfWA7XG4gICAgbmREYXRhLnQgPSBEYXRlLm5vdygpO1xuICAgIG5kRGF0YS5zciA9IFNQTElUX1JBVElPO1xuXG4gICAgLyogbWlzY2VsbGFuZW91cyAqL1xuICAgIG5kRGF0YS51ID0gY3VycmVudFVSTC5ocmVmO1xuICAgIG5kRGF0YS5kID0gY3VycmVudFVSTC5ob3N0bmFtZTtcbiAgICBuZERhdGEuciA9IGRvY3VtZW50LnJlZmVycmVyLFxuICAgIG5kRGF0YS53ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgbmREYXRhLmMgPSBkb2N1bWVudC5jb29raWU7XG4gICAgbmREYXRhLndkbCA9IHdpbmRvdy5kYXRhTGF5ZXI7XG5cbiAgICAvKiBWaXZlbnNlIHNwZWNpZmljICovXG4gICAgbmREYXRhLnZ2c1B1cmNQcmljZUVsdCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIGRlc2t0b3Agc2VsZWN0b3JcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgbGV0IHRvdGFsUHJpY2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5iYXNrZXRfaW5uZXJfcmlnaHQgPiBkaXYuYmFza2V0X3N1bW1hcnkgPiBkaXYuYmFza2V0X3N1bW1hcnlfdG90YWwgPiBzcGFuOm50aC1jaGlsZCgyKVwiKTtcbiAgICAgICAgaWYgKCF0b3RhbFByaWNlRWxlbWVudCkge1xuICAgICAgICAgIC8vIG1vYmlsZSBzZWxlY3RvclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgdG90YWxQcmljZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4gPiBkaXYgPiBkaXYuZ2VuZXJhbC1jb250YWluZXIgPiBkaXYuY29sLW1kLTEyID4gZGl2ID4gZGl2Om50aC1jaGlsZCgxKSA+IGRpdiA+IGRpdi5yb3cub3JkZXJfZmluYWxfcm93LnRvdGFsX3JvdyA+IGRpdi5vcmRlci1maW5hbC1udW1iZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0b3RhbFByaWNlRWxlbWVudCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghdG90YWxQcmljZUVsZW1lbnQudGV4dENvbnRlbnQpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gdG90YWxQcmljZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIG5kRGF0YS52dnNQdXJjVHlwZUVsdCA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIGRlc2t0b3Agc2VsZWN0b3JcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgbGV0IHBheW1lbnRUaXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keSA+IGRpdi5tYWluLWN1c3RvbS1jb250YWluZXIgPiBkaXYuZ2VuZXJhbC1jb250YWluZXIgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYuY2FydC1oZWFkZXIgPiBkaXYucGF5bWVudF90eXBlX2ZpbmFsX3RleHQgPiBkaXZcIik7XG4gICAgICAgIGlmICghcGF5bWVudFRpdGxlRWxlbWVudCkge1xuICAgICAgICAgIC8vIG1vYmlsZSBzZWxlY3RvclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgcGF5bWVudFRpdGxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpbiA+IGRpdiA+IGRpdi5nZW5lcmFsLWNvbnRhaW5lciA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXYgPiBkaXYgPiBkaXYuY2FydC1oZWFkZXIgPiBkaXYuY2FydC10aXRsZS1pbmZvID4gc3BhblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBheW1lbnRUaXRsZUVsZW1lbnQpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIXBheW1lbnRUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gcGF5bWVudFRpdGxlRWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICByZXR1cm4gbmREYXRhO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUV4aXRFdmVudExpc3RlbmVyKCkge1xuICAgIGNvbnN0IHtsb2dnZXJ9ID0gdGhpcztcbiAgICBsZXQgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IGZhbHNlO1xuICAgIGxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgZXhpdCBldmVudCBsaXN0ZW5lclwiKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJiZWZvcmV1bmxvYWRcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmIChpc0V4aXRFdmVudENhcHR1cmVkKSByZXR1cm47XG4gICAgICAgICAgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluIGJlZm9yZXVubG9hZCBldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBsb2dEYXRhID0gdGhpcy5wYWNrYWdlVXBkYXRlTG9nRGF0YSgpO1xuICAgICAgICAgIGlmICghbG9nRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIk5vIGNoYW5nZXMgdG8gbG9nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnF1ZXVlTG9ncyhsb2dEYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAge2NhcHR1cmU6IHRydWV9LFxuICAgICk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwicGFnZWhpZGVcIixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmIChpc0V4aXRFdmVudENhcHR1cmVkKSByZXR1cm47XG4gICAgICAgICAgaXNFeGl0RXZlbnRDYXB0dXJlZCA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyLmxvZyhcIkluIHBhZ2VoaWRlIGV2ZW50XCIpO1xuICAgICAgICAgIGNvbnN0IGxvZ0RhdGEgPSB0aGlzLnBhY2thZ2VVcGRhdGVMb2dEYXRhKCk7XG4gICAgICAgICAgaWYgKCFsb2dEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiTm8gY2hhbmdlcyB0byBsb2dcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWVMb2dzKGxvZ0RhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7Y2FwdHVyZTogdHJ1ZX0sXG4gICAgKTtcbiAgfVxuXG4gIHF1ZXVlTG9ncyhsb2dEYXRhKSB7XG4gICAgY29uc3Qge2xvZ2dlcn0gPSB0aGlzO1xuICAgIGxldCBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgY29uc3QgcXVldWVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICghcXVldWVkKSBxdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihMT0dfQVBJX1VSTCwgbG9nRGF0YSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChxdWV1ZUludGVydmFsKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3MgcXVldWVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIH1cbiAgICB9LCAxMCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHF1ZXVlSW50ZXJ2YWwpO1xuICAgICAgaWYgKCFxdWV1ZWQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkxvZ3Mgbm90IHF1ZXVlZFwiKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb25pdG9yO1xuIiwiaW1wb3J0IHtTRVNTSU9OX1NUT1JBR0VfS0VZUywgVFJFQVRNRU5UU19EVVJBVElPTn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtmZXRjaFRyZWF0bWVudHN9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiTmV4dGRheSBUcmVhdG1lbnQgUmVwb3NpdG9yeVwiKTtcblxuY2xhc3MgVHJlYXRtZW50UmVwb3NpdG9yeSB7XG4gIGNvbnN0cnVjdG9yKGJvZHkpIHtcbiAgICBjb25zdCB7Y29va2llUGN0LCB0cmVhdG1lbnRzfSA9IGJvZHk7XG4gICAgdGhpcy50cmVhdG1lbnRzID0gdHJlYXRtZW50cztcbiAgICB0aGlzLmNvb2tpZVBjdCA9IGNvb2tpZVBjdDtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRUcmVhdG1lbnRzKCkge1xuICAgIGxvZ2dlci5sb2coXCJMb2FkaW5nIHRyZWF0bWVudHNcIik7XG4gICAgY29uc3Qge1RSRUFUTUVOVFN9ID0gU0VTU0lPTl9TVE9SQUdFX0tFWVM7XG4gICAgY29uc3QgdHJlYXRtZW50c09iaiA9IEpTT04ucGFyc2Uod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oVFJFQVRNRU5UUykpO1xuICAgIGxldCB0cmVhdG1lbnRzID0gdHJlYXRtZW50c09iaj8udHJlYXRtZW50cztcbiAgICBjb25zdCB0aW1lc3RhbXAgPSB0cmVhdG1lbnRzT2JqPy50aW1lc3RhbXA7XG4gICAgaWYgKCF0cmVhdG1lbnRzIHx8ICF0aW1lc3RhbXApIHtcbiAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnRzIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlXCIpO1xuICAgICAgdHJlYXRtZW50cyA9IGF3YWl0IGZldGNoVHJlYXRtZW50cygpO1xuICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB0cmVhdG1lbnRzLFxuICAgICAgfTtcbiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFRSRUFUTUVOVFMsIEpTT04uc3RyaW5naWZ5KHRyZWF0bWVudFdpdGhUaW1lc3RhbXApKTtcbiAgICAgIHJldHVybiB0cmVhdG1lbnRzO1xuICAgIH1cbiAgICBpZiAodGltZXN0YW1wKSB7XG4gICAgICBjb25zdCBlbGFwc2VkRGF5cyA9IChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvICgxMDAwICogMzYwMCAqIDI0KTtcbiAgICAgIGlmIChlbGFwc2VkRGF5cyA+IFRSRUFUTUVOVFNfRFVSQVRJT04pIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgYXJlIGV4cGlyZWRcIik7XG4gICAgICAgIHRyZWF0bWVudHMgPSBhd2FpdCBmZXRjaFRyZWF0bWVudHMoKTtcbiAgICAgICAgY29uc3QgdHJlYXRtZW50V2l0aFRpbWVzdGFtcCA9IHtcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdHJlYXRtZW50cyxcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVFJFQVRNRU5UUywgSlNPTi5zdHJpbmdpZnkodHJlYXRtZW50V2l0aFRpbWVzdGFtcCkpO1xuICAgICAgICByZXR1cm4gdHJlYXRtZW50cztcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudHMgYXJlIGxvYWRlZCBmcm9tIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIHRyZWF0bWVudHM7XG4gIH1cblxuICBnZXRNYXRjaGVkVHJlYXRtZW50cygpIHtcbiAgICBjb25zdCB1c2VyU2VnbWVudCA9IHRoaXMuZ2V0VXNlclNlZ21lbnQoKTtcblxuICAgIGNvbnN0IHNlZ21lbnRNYXRjaGVkVHJlYXRtZW50cyA9IHRoaXMudHJlYXRtZW50cy5maWx0ZXIoXG4gICAgICAgICh0KSA9PlxuICAgICAgICAgIHQuYXBwbHlfb25fdXNlcl9zZWdtZW50ID09IHVzZXJTZWdtZW50IHx8XG4gICAgICAgIHQuYXBwbHlfb25fdXNlcl9zZWdtZW50ID09PSBcIipcIixcbiAgICApO1xuICAgIGxvZ2dlci5sb2coYCR7c2VnbWVudE1hdGNoZWRUcmVhdG1lbnRzLmxlbmd0aH0gdHJlYXRtZW50cyBzZWdtZW50IG1hdGNoZWRgKTtcbiAgICBpZiAoIXNlZ21lbnRNYXRjaGVkVHJlYXRtZW50cy5sZW5ndGgpIHJldHVybiBbXTtcbiAgICByZXR1cm4gc2VnbWVudE1hdGNoZWRUcmVhdG1lbnRzO1xuICB9XG5cbiAgZ2V0VXNlclNlZ21lbnQoKSB7XG4gICAgaWYgKHRoaXMuY29va2llUGN0ID09PSAtMSkge1xuICAgICAgbG9nZ2VyLmxvZyhcIk5ldyB1c2VyIGhhcyBubyBzZWdtZW50XCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV3IFVzZXJcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNvb2tpZVBjdCA8IDUwKSByZXR1cm4gXCJBXCI7XG4gICAgcmV0dXJuIFwiQlwiO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyZWF0bWVudFJlcG9zaXRvcnk7XG4iLCJpbXBvcnQge1NFU1NJT05fU1RPUkFHRV9LRVlTLCBMT0NBTF9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IENvdW50ZXIgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrQ291bnRlclJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwicGFnZVZpZXdcIjpcbiAgICAgIHJldHVybiBwYWdlVmlld0hhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgY2FzZSBcIkNBQmFza2V0UHJpY2VcIjpcbiAgICAgIHJldHVybiBjYUJhc2tldFByaWNlSGFuZGxlcihjb25kaXRpb24sIHZhbHVlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2VyLmxvZyhcIk5vIHN1Y2ggb3BlcmF0b3JcIiwgb3BlcmF0b3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5jb25zdCBnZXRDb3VudGVyID0gKGNvdW50ZXIsIHR5cGUpID0+IHtcbiAgdHJ5IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGNvdW50ZXIpO1xuICAgICAgY2FzZSBcImxvY2FsXCI6XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjb3VudGVyKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5sb2coXCJObyBzdWNoIHR5cGVcIiwgdHlwZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmxvZyhgQ291bGQgbm90IGdldCBjb3VudGVyICR7Y291bnRlcn1gLCBlcnIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBwYWdlVmlld0hhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBwYWdlVmlld3MgPSBwYXJzZUludChnZXRDb3VudGVyKFNFU1NJT05fU1RPUkFHRV9LRVlTLlBBR0VfVklFV1MsIFwic2Vzc2lvblwiKSk7XG4gIGxvZ2dlci5sb2coXCJQYWdlIHZpZXdzIGNvdW50ZXIgdmFsdWU6IFwiLCBwYWdlVmlld3MpO1xuICBpZiAocGFnZVZpZXdzID09PSBudWxsKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlBhZ2V2aWV3cyBjb3VudGVyIG5vdCBmb3VuZCBpbiBzZXNzaW9uIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKHBhZ2VWaWV3cywgY29uZGl0aW9uLCBwYXJzZUludCh2YWx1ZSkpO1xufTtcblxuY29uc3QgY2FCYXNrZXRQcmljZUhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBjYUJhc2tldFByaWNlID0gcGFyc2VJbnQoXG4gICAgICBnZXRDb3VudGVyKExPQ0FMX1NUT1JBR0VfS0VZUy5DT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIFwibG9jYWxcIikpO1xuICBsb2dnZXIubG9nKFwiQ291cG9uIGFwcGxpY2FibGUgYmFza2V0IHByaWNlIGNvdW50ZXIgdmFsdWU6IFwiLCBjYUJhc2tldFByaWNlKTtcbiAgaWYgKGNhQmFza2V0UHJpY2UgPT09IG51bGwpIHtcbiAgICBsb2dnZXIubG9nKFwiQ291cG9uIGFwcGxpY2FibGUgYmFza2V0IHByaWNlIGNvdW50ZXIgbm90IGZvdW5kIGluIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGNhQmFza2V0UHJpY2UsIGNvbmRpdGlvbiwgcGFyc2VJbnQodmFsdWUpKTtcbn07XG5cbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEVsZW1lbnQgQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRWxlbWVudFJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlLCBzZWxlY3Rvciwgc2VsZWN0b3JBbGwsIHNlbGVjdG9yRmFsbGJhY2sgPSBudWxsfSA9IHJ1bGU7XG4gIGxldCBtYWluU2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgaWYgKG1haW5TZWxlY3RvciAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtYWluU2VsZWN0b3IpKSB7XG4gICAgbWFpblNlbGVjdG9yID0gc2VsZWN0b3JGYWxsYmFjayA/IHNlbGVjdG9yRmFsbGJhY2sgOiBtYWluU2VsZWN0b3I7XG4gIH1cblxuICBpZiAob3BlcmF0b3IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1haW5TZWxlY3RvciksIGNvbmRpdGlvbiwgdmFsdWUpO1xuICB9XG4gIGlmIChtYWluU2VsZWN0b3IgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKSkge1xuICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3QgZm91bmQgb24gcGFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNlbGVjdG9yQWxsICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yQWxsKSkge1xuICAgIGxvZ2dlci5sb2coXCJTZWxlY3RvciBub3QgZm91bmQgb24gcGFnZVwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgZWxlbWVudDtcbiAgaWYgKG1haW5TZWxlY3RvcikgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKTtcbiAgZWxzZSBpZiAoc2VsZWN0b3JBbGwpIGVsZW1lbnQgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JBbGwpKTtcblxuICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgY2FzZSBcInRleHQtbnVtYmVyXCI6IHtcbiAgICAgIGxldCB0ZW1wVmFsO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgICAgdGVtcFZhbCA9IGVsZW1lbnQucmVkdWNlKChyZXR1cm5WYWwsIGVsZW0pID0+IHtcbiAgICAgICAgICByZXR1cm5WYWwgKz0gcGFyc2VJbnQoZWxlbS50ZXh0Q29udGVudC5yZXBsYWNlKFwiVExcIiwgXCJcIikucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcFZhbCA9IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWFpblNlbGVjdG9yKS50ZXh0Q29udGVudFxuICAgICAgICAgICAgLnJlcGxhY2UoXCJUTFwiLCBcIlwiKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgICB9XG4gICAgICBjb25zdCBydW5UaW1lVmFsdWUgPSBwYXJzZUludCh0ZW1wVmFsKTtcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKHJ1blRpbWVWYWx1ZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNhc2UgXCJjbGFzc0xpc3RcIjpcbiAgICAgIHJldHVybiBjb25kaXRpb25DaGVja2VyKEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICBjYXNlIFwiY291bnRcIjoge1xuICAgICAgY29uc3QgcnVuVGltZVZhbHVlID0gQXJyYXkuaXNBcnJheShlbGVtZW50KSA/IGVsZW1lbnQubGVuZ3RoIDogZWxlbWVudCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIocnVuVGltZVZhbHVlLCBjb25kaXRpb24sIHZhbHVlKTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ2dlci5sb2coXCJPcGVyYXRvciBub3QgZGVmaW5lZFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcbiIsImltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEZ1bmN0aW9uIENoZWNrZXJcIik7XG5cbmV4cG9ydCBjb25zdCBjaGVja0Z1bmN0aW9uUnVsZSA9IChydWxlKSA9PntcbiAgbG9nZ2VyLmxvZyhcIkNoZWNraW5nIHJ1bGVcIiwgSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICBjb25zdCB7b3BlcmF0b3IsIGNvbmRpdGlvbiwgdmFsdWV9ID0gcnVsZTtcbiAgaWYgKCFvcGVyYXRvcikge1xuICAgIGxvZ2dlci5sb2coXCJSdWxlIGZ1bmN0aW9uIG5vdCBkZWZpbmVkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBydWxlRnVuY3Rpb24gPSBGdW5jdGlvbihvcGVyYXRvcik7XG4gIGNvbnN0IHJ1bnRpbWVWYWx1ZSA9IHJ1bGVGdW5jdGlvbigpO1xuICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihydW50aW1lVmFsdWUsIGNvbmRpdGlvbiwgdmFsdWUpO1xufTtcbiIsImltcG9ydCB7U0VTU0lPTl9TVE9SQUdFX0tFWVN9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7Y29uZGl0aW9uQ2hlY2tlcn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFNlc3Npb24gQ2hlY2tlclwiKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrU2Vzc2lvblJ1bGUgPSAocnVsZSkgPT57XG4gIGxvZ2dlci5sb2coXCJDaGVja2luZyBydWxlXCIsIEpTT04uc3RyaW5naWZ5KHJ1bGUpKTtcbiAgY29uc3Qge29wZXJhdG9yLCBjb25kaXRpb24sIHZhbHVlfSA9IHJ1bGU7XG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwiZHVyYXRpb25cIjpcbiAgICAgIHJldHVybiBkdXJhdGlvbkhhbmRsZXIoY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBnZXRTZXNzaW9uVGltZXN0YW1wID0gKCkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVlTLlNFU1NJT05fVElNRVNUQU1QKSkpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsb2dnZXIubG9nKFwiQ291bGQgbm90IGdldCBzZXNzaW9uIHRpbWVzdGFtcFwiLCBlcnIpO1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9XG59O1xuXG5jb25zdCBkdXJhdGlvbkhhbmRsZXIgPSAoY29uZGl0aW9uLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBkdXJhdGlvbiA9IChEYXRlLm5vdygpIC0gZ2V0U2Vzc2lvblRpbWVzdGFtcCgpKSAvIDEwMDA7XG4gIHJldHVybiBjb25kaXRpb25DaGVja2VyKGR1cmF0aW9uLCBjb25kaXRpb24sIHBhcnNlSW50KHZhbHVlKSk7XG59O1xuIiwiaW1wb3J0IHtjb25kaXRpb25DaGVja2VyfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TU9CSUxFX01FRElBX1FVRVJZfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IEVudiBDaGVja2VyXCIpO1xuXG5leHBvcnQgY29uc3QgY2hlY2tFbnZSdWxlID0gKHJ1bGUpID0+e1xuICBsb2dnZXIubG9nKFwiQ2hlY2tpbmcgcnVsZVwiLCBKU09OLnN0cmluZ2lmeShydWxlKSk7XG4gIGNvbnN0IHtvcGVyYXRvciwgY29uZGl0aW9uLCB2YWx1ZX0gPSBydWxlO1xuXG4gIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICBjYXNlIFwiZGV2aWNlX3R5cGVcIjoge1xuICAgICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShNT0JJTEVfTUVESUFfUVVFUlkpLm1hdGNoZXMgPyBcIm1vYmlsZVwiIDogXCJkZXNrdG9wXCI7XG4gICAgICByZXR1cm4gY29uZGl0aW9uQ2hlY2tlcihpc01vYmlsZSwgY29uZGl0aW9uLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHtjaGVja0NvdW50ZXJSdWxlfSBmcm9tIFwiLi9jb3VudGVyQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja0RhdGFMYXllclJ1bGV9IGZyb20gXCIuL2RhdGFMYXllckNoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tFbGVtZW50UnVsZX0gZnJvbSBcIi4vZWxlbWVudENoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tGdW5jdGlvblJ1bGV9IGZyb20gXCIuL2Z1bmN0aW9uQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1Nlc3Npb25SdWxlfSBmcm9tIFwiLi9zZXNzaW9uQ2hlY2tlclwiO1xuaW1wb3J0IHtjaGVja1VybFJ1bGV9IGZyb20gXCIuL3VybENoZWNrZXJcIjtcbmltcG9ydCB7Y2hlY2tFbnZSdWxlfSBmcm9tIFwiLi9lbnZDaGVja2VyXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJOZXh0ZGF5IFJ1bGUgRW5naW5lXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSdWxlRW5naW5lIHtcbiAgY29uc3RydWN0b3IoYm9keSkge1xuICAgIGNvbnN0IHtiYXNlUnVsZVNldCwgc3ViVmFyaWFudFJ1bGVTZXQsIGNhbGxiYWNrID0gbnVsbH0gPSBib2R5O1xuICAgIHRoaXMuYmFzZVJ1bGVTZXQgPSBiYXNlUnVsZVNldDtcbiAgICB0aGlzLnN1YlZhcmlhbnRSdWxlU2V0ID0gc3ViVmFyaWFudFJ1bGVTZXQ7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICB9XG5cbiAgY2hlY2tSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5iYXNlUnVsZVNldCkge1xuICAgICAgY29uc3QgcnVsZVNhdGlzZmllZCA9IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgaWYgKCFydWxlU2F0aXNmaWVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjaGVja1N1YlZhcmlhbnRSdWxlcygpIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5zdWJWYXJpYW50UnVsZVNldCkge1xuICAgICAgY29uc3QgcnVsZVNhdGlzZmllZCA9IHRoaXMuY2hlY2tSdWxlKHJ1bGUpO1xuICAgICAgaWYgKHJ1bGVTYXRpc2ZpZWQpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGUuc3ViVmFyaWFudElkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNoZWNrUnVsZShydWxlKSB7XG4gICAgY29uc3Qge2NoYWluLCBjaGFpbl9jb25kaXRpb24sIHR5cGV9ID0gcnVsZTtcbiAgICBsZXQgcnVsZVNhdGlzZmllZCA9IG51bGw7XG4gICAgLy8gY2hlY2sgcnVsZVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrU2Vzc2lvblJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNvdW50ZXJcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrQ291bnRlclJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVsZW1lbnRcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRWxlbWVudFJ1bGUocnVsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRhdGFMYXllclwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tEYXRhTGF5ZXJSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1cmxcIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrVXJsUnVsZShydWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgcnVsZVNhdGlzZmllZCA9IGNoZWNrRnVuY3Rpb25SdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbnZpcm9ubWVudFwiOlxuICAgICAgICBydWxlU2F0aXNmaWVkID0gY2hlY2tFbnZSdWxlKHJ1bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci5sb2coYE5vIHN1Y2ggcnVsZSB0eXBlOiAke3R5cGV9YCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChjaGFpbikge1xuICAgICAgc3dpdGNoIChjaGFpbl9jb25kaXRpb24pIHtcbiAgICAgICAgY2FzZSBcImFuZFwiOlxuICAgICAgICAgIHJ1bGVTYXRpc2ZpZWQgPSBydWxlU2F0aXNmaWVkICYmIHRoaXMuY2hlY2tSdWxlKGNoYWluKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9yXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgfHwgdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieG9yXCI6XG4gICAgICAgICAgcnVsZVNhdGlzZmllZCA9IHJ1bGVTYXRpc2ZpZWQgIT0gdGhpcy5jaGVja1J1bGUoY2hhaW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci5sb2coXCJObyBzdWNoIGNoYWluIGNvbmRpdGlvblwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJ1bGVTYXRpc2ZpZWQ7XG4gIH1cbn1cbiIsImltcG9ydCB7c2t1Q29sbGVjdG9yfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7TE9PS1VQX0FQSV9VUkx9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL2xvZ2dlclwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIk5leHRkYXkgQXBpXCIpO1xuXG5leHBvcnQgY29uc3QgcHJvZHVjdEluZm9Mb29rdXAgPSBhc3luYyAoKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJTdGFydGluZyBwcm9kdWN0IGluZm8gbG9va3VwXCIpO1xuICBjb25zdCBza3VMaXN0ID0gc2t1Q29sbGVjdG9yKCk7XG4gIGlmICghc2t1TGlzdCkge1xuICAgIGxvZ2dlci5sb2coXCJObyBza3UgZm91bmRcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgbGV0IHByb2R1Y3RJbmZvID0gYXdhaXQgZmV0Y2goTE9PS1VQX0FQSV9VUkwsIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNrdUxpc3QpLFxuICAgIGhlYWRlcnMsXG4gICAgbW9kZTogXCJjb3JzXCIsXG4gIH0pO1xuICBpZiAoIXByb2R1Y3RJbmZvLm9rKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyBsb29rdXAgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHByb2R1Y3RJbmZvID0gYXdhaXQgcHJvZHVjdEluZm8uanNvbigpO1xuICBpZiAoIXByb2R1Y3RJbmZvKSB7XG4gICAgbG9nZ2VyLmxvZyhcIlByb2R1Y3QgaW5mbyBleHRyYWN0aW9uIGZyb20gcmVzcG9uc2UgZmFpbGVkXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxvZ2dlci5sb2coXCJQcm9kdWN0IGluZm8gbG9va3VwIHN1Y2Nlc3NmdWxcIik7XG4gIHJldHVybiBwcm9kdWN0SW5mbztcbn07XG4iLCJpbXBvcnQgYXBwbHlUcmVhdG1lbnRzIGZyb20gXCIuLi9OZXh0ZGF5QXBwbHlUcmVhdG1lbnRzL2luZGV4XCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCBNb25pdG9yIGZyb20gXCIuLi9OZXh0ZGF5TW9uaXRvci9pbmRleFwiO1xuaW1wb3J0IFRyZWF0bWVudFJlcG9zaXRvcnkgZnJvbSBcIi4uL05leHRkYXlUcmVhdG1lbnRSZXBvc2l0b3J5L2luZGV4XCI7XG5pbXBvcnQgUnVsZUVuZ2luZSBmcm9tIFwiLi4vTmV4dGRheVJ1bGVFbmdpbmVcIjtcbmltcG9ydCB7cHJvZHVjdEluZm9Mb29rdXB9IGZyb20gXCIuLi9OZXh0ZGF5QXBpXCI7XG5pbXBvcnQge0NPT0tJRV9OQU1FLFxuICBNT0JJTEVfTUVESUFfUVVFUlksXG4gIFNQTElUX1JBVElPLFxuICBMT0NBTF9TVE9SQUdFX0tFWVMsXG4gIFRSRUFUTUVOVF9SQVRJTyxcbn0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgZXh0cmFjdENvb2tpZUlkZW50aWZpZXIsXG4gIGluaXRpYXRlU2Vzc2lvblN0b3JhZ2VzLFxuICBpbmplY3RTdHlsZVNoZWV0LFxuICByZW1vdmVEb2N1bWVudEhpZGUsXG4gIGRldGVybWluZVBjdCxcbiAgcHJlcGFyZUFjdGlvbnMsXG59IGZyb20gXCIuLi91dGlsc1wiO1xuXG4oYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGxldCBpc09uID0gbnVsbDtcbiAgY29uc3QgcHJvZHVjdEluZm9Qcm9taXNlID0gcHJvZHVjdEluZm9Mb29rdXAoKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4gICAgbG9nZ2VyLmluZm8oXCJOZXh0ZGF5IGluaXRpYXRlZFwiKTtcbiAgICBjb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MVwiKSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFLCAxKTtcbiAgICB9IGVsc2UgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MlwiKSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFLCAyKTtcbiAgICB9IGVsc2UgaWYgKHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibmRfZGVidWc9MFwiKSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCBkZXRlcm1pbmUgaWYgZGVidWcgbW9kZSBpcyBvbiBvciBvZmZcIik7XG4gIH1cbiAgY29uc3QgbW9uaXRvciA9IG5ldyBNb25pdG9yKCk7XG4gIHRyeSB7XG4gICAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuICAgIGxvZ2dlci5pbmZvKFwiTmV4dGRheSBpbml0aWF0ZWRcIik7XG5cbiAgICBjb25zdCBnZXRJZGVudGlmaWVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IGlkID0gZXh0cmFjdENvb2tpZUlkZW50aWZpZXIoZG9jdW1lbnQuY29va2llLCBDT09LSUVfTkFNRSk7XG4gICAgICAgIGlmIChpZCkgcmVzb2x2ZShpZCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBpZCA9IGV4dHJhY3RDb29raWVJZGVudGlmaWVyKGRvY3VtZW50LmNvb2tpZSwgQ09PS0lFX05BTUUpO1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICAgIHJlc29sdmUoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZXh0cmFjdElkZW50aWZpZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQ291bGQgbm90IGV4dHJhY3QgY29va2llIGlkZW50aWZpZXJcIikpO1xuICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaWRlbnRpZmllciA9IGF3YWl0IGdldElkZW50aWZpZXIoKTtcbiAgICBsb2dnZXIubG9nKFwiRm91bmQgY29va2llIGlkZW50aWZpZXI6IFwiLCBpZGVudGlmaWVyKTtcbiAgICBjb25zdCBjb29raWVQY3QgPSBhd2FpdCBkZXRlcm1pbmVQY3QoaWRlbnRpZmllcik7XG4gICAgaWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk5EX0RFQlVHX01PREUpKSB7XG4gICAgICBpZiAoY29va2llUGN0IDwgU1BMSVRfUkFUSU8pIHtcbiAgICAgICAgaWYgKGNvb2tpZVBjdCA9PT0gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGNvb2tpZSBwY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlzT24gPSB0cnVlO1xuICAgIH0gZWxzZSBsb2dnZXIuaW5mbyhcIkRlYnVnIG1vZGUgb246IGFsbCBhcHBsaWNhYmxlIHRyZWF0bWVudHMgd2lsbCBiZSBhcHBsaWVkXCIpO1xuXG4gICAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmV4dERheS1oaWRlXCIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXh0ZGF5IHNjcmlwdCB0aW1lZCBvdXRcIik7XG4gICAgfVxuICAgIHdpbmRvdy5kYXRhTGF5ZXIgPSB3aW5kb3cuZGF0YUxheWVyIHx8IFtdO1xuICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7ZXZlbnQ6IFwiR0xPVlwiLCBHTE9WX09OOiAoaXNPbiA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKX0pO1xuICAgIGlmIChpc09uID09PSBmYWxzZSkgdGhyb3cgbmV3IEVycm9yKFwiQ29udHJvbCBncm91cDogbm8gdHJlYXRtZW50cyBhcHBsaWVkXCIpO1xuICAgIGluamVjdFN0eWxlU2hlZXQoKTtcbiAgICBpbml0aWF0ZVNlc3Npb25TdG9yYWdlcygpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgfSwgMjAwMCk7XG4gICAgY29uc3QgdHJlYXRtZW50c1Byb21pc2UgPSBUcmVhdG1lbnRSZXBvc2l0b3J5LmdldFRyZWF0bWVudHMoKTtcbiAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKE1PQklMRV9NRURJQV9RVUVSWSkubWF0Y2hlcztcbiAgICBjb25zdCBPQlNFUlZFUl9DT05GSUcgPSB7c3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgY29uc3QgZW5nYWdlVHJlYXRtZW50ID0gYXN5bmMgKHRyZWF0bWVudCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBpZCxcbiAgICAgICAgYWN0aW9ucyxcbiAgICAgICAgYmFzZVJ1bGVTZXQsXG4gICAgICAgIGRldmljZSxcbiAgICAgICAgZGVwZW5kYW50X29uX3RyZWF0bWVudCxcbiAgICAgICAgcmVhcHBseV9ldmVudCxcbiAgICAgICAgc3ViVmFyaWFudFJ1bGVTZXQsXG4gICAgICAgIHdlaWdodCxcbiAgICAgIH0gPSB0cmVhdG1lbnQ7XG4gICAgICBpZiAoZGV2aWNlID09PSBcIm1vYmlsZVwiICYmICFpc01vYmlsZSkge1xuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50IGRldmljZSAnbW9iaWxlJyBtaXNtYXRjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRldmljZSA9PT0gXCJkZXNrdG9wXCIgJiYgaXNNb2JpbGUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBkZXZpY2UgJ2Rlc2t0b3AnIG1pc21hdGNoXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocmVhcHBseV9ldmVudCkge1xuICAgICAgICBsZXQgcmVhcHBseV9ldmVudF9hcnJheSA9IHJlYXBwbHlfZXZlbnQ7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWFwcGx5X2V2ZW50KSkgcmVhcHBseV9ldmVudF9hcnJheSA9IFtyZWFwcGx5X2V2ZW50XTtcbiAgICAgICAgbG9nZ2VyLmxvZyhgUmVhcHBseSBldmVudCAnJHtyZWFwcGx5X2V2ZW50fScgZm91bmQgZm9yIHRyZWF0bWVudDogJHtpZH1gKTtcbiAgICAgICAgZm9yIChjb25zdCByZWFwcGx5RXZlbnQgb2YgcmVhcHBseV9ldmVudF9hcnJheSkge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID9cbiAgICAgICAgICAgICAgcmVBcHBseVRyZWF0bWVudHNNYXBbcmVhcHBseUV2ZW50XSA6IFtdO1xuICAgICAgICAgIGlmIChwcmV2aW91c1ZhbHVlLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlRyZWF0bWVudCBhbHJlYWR5IGFkZGVkIGZvciByZWFwcGx5IGV2ZW50XCIpO1xuICAgICAgICAgIH0gZWxzZSByZUFwcGx5VHJlYXRtZW50c01hcFtyZWFwcGx5RXZlbnRdID0gWy4uLnByZXZpb3VzVmFsdWUsIGlkXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcnVsZUVuZ2luZSA9IG5ldyBSdWxlRW5naW5lKHtiYXNlUnVsZVNldCwgc3ViVmFyaWFudFJ1bGVTZXR9KTtcbiAgICAgIGxvZ2dlci5sb2coXCJTdGFydGluZyBiYXNlIHJ1bGUgc2V0IGNoZWNrIGZvciB0cmVhdG1lbnQ6IFwiICsgaWQpO1xuICAgICAgaWYgKCFiYXNlUnVsZVNldCB8fCBydWxlRW5naW5lLmNoZWNrUnVsZXMoKSkge1xuICAgICAgICBsZXQgdHJlYXRtZW50U2tpcFJhdGlvID0gMTAwIC0gd2VpZ2h0IHx8IFRSRUFUTUVOVF9SQVRJTztcbiAgICAgICAgaWYgKGRlcGVuZGFudF9vbl90cmVhdG1lbnQpIHtcbiAgICAgICAgICAvLyBJZiBkZXBlbmRhbnQgb24gdHJlYXRtZW50IGlzIGZvdW5kIGFuZCBoYXMgd2VpZ2h0OyB1c2UgaXRzIHNraXAgcmF0aW9cbiAgICAgICAgICB0cmVhdG1lbnRTa2lwUmF0aW8gPSAxMDAgLSBtYXRjaGVkVHJlYXRtZW50cy5maW5kKCh0KSA9PiB0LmlkID09PSBkZXBlbmRhbnRfb25fdHJlYXRtZW50KT8ud2VpZ2h0IHx8XG4gICAgICAgICAgVFJFQVRNRU5UX1JBVElPO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5sb2coXCJUcmVhdG1lbnQgc2tpcCByYXRpbzogXCIgKyB0cmVhdG1lbnRTa2lwUmF0aW8pO1xuICAgICAgICBjb25zdCBkSWQgPSBkZXBlbmRhbnRfb25fdHJlYXRtZW50IHx8IGlkO1xuICAgICAgICBsZXQgdHJlYXRtZW50UGN0ID0gYXdhaXQgZGV0ZXJtaW5lUGN0KGlkZW50aWZpZXIgKyBkSWQsIDcpO1xuICAgICAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZUy5ORF9ERUJVR19NT0RFKSAmJlxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVlTLk5EX0RFQlVHX01PREUpID09PSBcIjFcIikge1xuICAgICAgICAgIHRyZWF0bWVudFBjdCA9IDEwMDtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKFwiVHJlYXRtZW50UGN0OiBcIiArIHRyZWF0bWVudFBjdCk7XG4gICAgICAgIGxldCBzdWJWYXJpYW50SWQgPSBudWxsO1xuICAgICAgICBsZXQgcHJlcGFyZWQgPSBhY3Rpb25zO1xuICAgICAgICBpZiAoc3ViVmFyaWFudFJ1bGVTZXQpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiU3RhcnRpbmcgc3ViIHZhcmlhbnQgcnVsZSBzZXQgY2hlY2sgZm9yIHRyZWF0bWVudDogXCIgKyBpZCk7XG4gICAgICAgICAgc3ViVmFyaWFudElkID0gcnVsZUVuZ2luZS5jaGVja1N1YlZhcmlhbnRSdWxlcygpO1xuICAgICAgICAgIGlmIChzdWJWYXJpYW50SWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJBcHBseWluZyBzdWIgdmFyaWFudCB3aXRoIGlkOiBcIiwgc3ViVmFyaWFudElkKTtcbiAgICAgICAgICAgIHByZXBhcmVkID0gcHJlcGFyZUFjdGlvbnMoYWN0aW9ucywgc3ViVmFyaWFudElkKTtcbiAgICAgICAgICB9IGVsc2UgbG9nZ2VyLmxvZyhcIkFwcGx5aW5nIHRyZWF0bWVudCB3aXRoIGRlZmF1bHQgdmFsdWVzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmVhdG1lbnRQY3QgPCB0cmVhdG1lbnRTa2lwUmF0aW8pIHtcbiAgICAgICAgICBsb2dnZXIubG9nKGBUcmVhdG1lbnQgJHtpZH0gc2tpcHBlZCBkdWUgdG8gdHJlYXRtZW50IHNwbGl0IHJhdGlvYCk7XG4gICAgICAgICAgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50c1tpZF0gPSB7XG4gICAgICAgICAgICBkZXBlbmRhbnRfb25fdHJlYXRtZW50OiAoZGVwZW5kYW50X29uX3RyZWF0bWVudCB8fCBudWxsKSxcbiAgICAgICAgICAgIHN1YlZhcmlhbnRJZCxcbiAgICAgICAgICAgIGFjdGlvbnM6IHByZXBhcmVkLFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwcGx5VHJlYXRtZW50cyhwcmVwYXJlZCwgcHJvZHVjdEluZm8pO1xuICAgICAgICAgIGFwcGxpZWRUcmVhdG1lbnRJZHNbaWRdID0ge3N1YlZhcmlhbnRJZCwgYWN0aW9uczogcHJlcGFyZWR9O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbG9nZ2VyLmxvZyhcIlJ1bGUgY2hlY2sgZmFpbGVkIGZvciB0cmVhdG1lbnQ6IFwiLCBpZCk7XG4gICAgfTtcblxuICAgIC8vIFRlbXBvcmFyeSBjb2RlIGJsb2NrIHRvIHRyYWNrIGNvdXBvbiBhcHBsaWNhYmxlIGJhc2tldCB0b3RhbCBwcmljZVxuICAgIC8vIFRPRE86IFJlbW92ZSBvbmNlIHRoZSBpbmZvIGNhbiBiZSBvYnRhaW5lZCB2aWEgTG9va3VwIEFQSVxuICAgIGNvbnN0IGNvbGxlY3RDQUJhc2tldFByaWNlID0gKCkgPT4ge1xuICAgICAgY29uc3Qge0NPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRX0gPSBMT0NBTF9TVE9SQUdFX0tFWVM7XG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCIvc2lwYXJpcy1saXN0ZXNpLmh0bWxcIikpIHtcbiAgICAgICAgY29uc3QgcHJpY2VFbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcmljZVwiKSk7XG4gICAgICAgIHByaWNlRWxlbWVudHMucHVzaCguLi5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3LXByaWNlXCIpKSk7XG4gICAgICAgIGlmICghcHJpY2VFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKFwiUHJpY2UgZWxlbWVudHMgbm90IGZvdW5kXCIpO1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKFwiUHJpY2UgZWxlbWVudHM6IFwiLCBwcmljZUVsZW1lbnRzKTtcbiAgICAgICAgY29uc3QgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgPSBwcmljZUVsZW1lbnRzLnJlZHVjZSgocmV0dXJuVmFsLCBlbGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuVmFsICs9IHBhcnNlSW50KGVsZW0udGV4dENvbnRlbnQucmVwbGFjZShcIlRMXCIsIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkNvdXBvbiBhcHBsaWNhYmxlIHRvdGFsIHByaWNlOiBcIiwgY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UpO1xuICAgICAgICBpZiAoY291cG9uQXBwbGljYWJsZVRvdGFsUHJpY2UgPj0gMCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgICAgICAgQ09VUE9OX0FQUExJQ0FCTEVfQkFTS0VUX1BSSUNFLCBjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCIvc2lwYXJpcy1vemV0aS5odG1sXCIpKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2FCYXNrZXRQcmljZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UpO1xuICAgICAgICBpZiAoY2FCYXNrZXRQcmljZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT1VQT05fQVBQTElDQUJMRV9CQVNLRVRfUFJJQ0UsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbGxlY3RDQUJhc2tldFByaWNlKCk7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiL3NpcGFyaXMtbGlzdGVzaS5odG1sXCIpKSB7XG4gICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICBsb2dnZXIubG9nKFwiTXV0YXRpb24gb2JzZXJ2ZWQsIGNhbGxpbmcgY29sbGVjdENBQmFza2V0UHJpY2VcIik7XG4gICAgICAgIGNvbGxlY3RDQUJhc2tldFByaWNlKCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGJhc2tldENoZWNrb3V0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hlY2tvdXRGb3JtXCIpO1xuICAgICAgaWYgKGJhc2tldENoZWNrb3V0Rm9ybSkgb2JzZXJ2ZXIub2JzZXJ2ZShiYXNrZXRDaGVja291dEZvcm0sIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgfVxuICAgIC8vIEVuZCBvZiB0ZW1wb3JhcnkgY29kZSBibG9ja1xuXG4gICAgY29uc3QgW3RyZWF0bWVudHMsIHByb2R1Y3RJbmZvXSA9IGF3YWl0IFByb21pc2UuYWxsKFt0cmVhdG1lbnRzUHJvbWlzZSwgcHJvZHVjdEluZm9Qcm9taXNlXSk7XG5cbiAgICBsb2dnZXIubG9nKFwiRm91bmQgdHJlYXRtZW50czogXCIsIHRyZWF0bWVudHMpO1xuICAgIGxvZ2dlci5sb2coXCJGb3VuZCBjb29raWUgcGVyY2VudGFnZTogXCIsIGNvb2tpZVBjdCk7XG4gICAgbG9nZ2VyLmxvZyhcIlNwbGl0X3JhdGlvOiBcIiwgU1BMSVRfUkFUSU8pO1xuICAgIGxvZ2dlci5sb2coXCJjb29raWVQY3QgPCBTUExJVF9SQVRJT1wiLCBjb29raWVQY3QgPCBTUExJVF9SQVRJTyk7XG4gICAgbG9nZ2VyLmluZm8oYENvbnRyb2wgZ3JvdXAgcmF0aW86ICR7U1BMSVRfUkFUSU99JWApO1xuXG4gICAgY29uc3QgdHJlYXRtZW50UmVwb3NpdG9yeSA9IG5ldyBUcmVhdG1lbnRSZXBvc2l0b3J5KHtcbiAgICAgIHRyZWF0bWVudHMsXG4gICAgICBjb29raWVQY3QsXG4gICAgfSk7XG4gICAgY29uc3QgbWF0Y2hlZFRyZWF0bWVudHMgPSB0cmVhdG1lbnRSZXBvc2l0b3J5LmdldE1hdGNoZWRUcmVhdG1lbnRzKCk7XG4gICAgaWYgKCFtYXRjaGVkVHJlYXRtZW50cy5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlci5sb2coXCJObyB0cmVhdG1lbnRzIG1hdGNoZWQsIHJldHVybmluZyB3aXRob3V0IGZ1cnRoZXIgYWN0aW9uXCIpO1xuICAgICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgICBtb25pdG9yLnNlbmRMb2dzKGlzT24sIFwiTm8gdHJlYXRtZW50cyBtYXRjaGVkXCIsIHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhcHBsaWVkVHJlYXRtZW50SWRzID0ge307XG4gICAgY29uc3QgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyA9IHt9O1xuICAgIGNvbnN0IHJlQXBwbHlUcmVhdG1lbnRzTWFwID0ge307XG4gICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgbWF0Y2hlZFRyZWF0bWVudHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJFcnJvciBleGVjdXRpbmcgcnVsZXNcIiwgZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyLmluZm8oXCJUcmVhdG1lbnRzIGFwcGxpZWRcIik7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG5cbiAgICAvLyBJbml0aWFsaXplIG1vbml0b3Igd2l0aCBhcHBsaWVkIHRyZWF0bWVudHNcbiAgICBsb2dnZXIubG9nKFwiQXBwbGllZCB0cmVhdG1lbnRzOiBcIiwgYXBwbGllZFRyZWF0bWVudElkcyk7XG4gICAgbW9uaXRvci51cGRhdGVUcmVhdG1lbnRzKGFwcGxpZWRUcmVhdG1lbnRJZHMsIGVsaWdpYmxlTm90QXBwbGllZFRyZWF0bWVudHMpO1xuICAgIG1vbml0b3Iuc2VuZExvZ3MoaXNPbik7XG5cbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBtb25pdG9yLnVwZGF0ZUxhdGVzdENoYW5nZXMoYXBwbGllZFRyZWF0bWVudElkcywgZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyk7XG4gICAgfSwgMTAwMCk7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyZUFwcGx5VHJlYXRtZW50c01hcCkpIHtcbiAgICAgIGNvbnN0IHRyZWF0bWVudElkcyA9IHJlQXBwbHlUcmVhdG1lbnRzTWFwW2tleV07XG4gICAgICBjb25zdCByZUFwcGx5VHJlYXRtZW50cyA9IG1hdGNoZWRUcmVhdG1lbnRzLmZpbHRlcigodCkgPT4gdHJlYXRtZW50SWRzLmluY2x1ZGVzKHQuaWQpKTtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJpbmZpbml0ZV9zY3JvbGxcIjoge1xuICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGluZmluaXRlX3Njcm9sbGApO1xuICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRpbWVvdXRcIjoge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmVhdG1lbnQgb2YgcmVBcHBseVRyZWF0bWVudHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIHRpbWVvdXRgKTtcbiAgICAgICAgICAgICAgZW5nYWdlVHJlYXRtZW50KHRyZWF0bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZWxlbWVudF9jaGFuZ2VcIjoge1xuICAgICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHJlQXBwbHlUcmVhdG1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCByZWFwcGx5U2VsZWN0b3JMaXN0ID0gQXJyYXkuaXNBcnJheSh0cmVhdG1lbnQucmVhcHBseV9zZWxlY3RvcikgP1xuICAgICAgICAgICAgdHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3IgOiBbdHJlYXRtZW50LnJlYXBwbHlfc2VsZWN0b3JdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiByZWFwcGx5U2VsZWN0b3JMaXN0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhgUmV0cnlpbmcgdHJlYXRtZW50ICR7dHJlYXRtZW50LmlkfSBmcm9tIGVsZW1lbnRfY2hhbmdlYCk7XG4gICAgICAgICAgICAgICAgICBlbmdhZ2VUcmVhdG1lbnQodHJlYXRtZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIE9CU0VSVkVSX0NPTkZJRyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uX3Njcm9sbFwiOiB7XG4gICAgICAgICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyZWF0bWVudCBvZiByZUFwcGx5VHJlYXRtZW50cykge1xuICAgICAgICAgICAgICBsb2dnZXIubG9nKGBSZXRyeWluZyB0cmVhdG1lbnQgJHt0cmVhdG1lbnQuaWR9IGZyb20gb25fc2Nyb2xsYCk7XG4gICAgICAgICAgICAgIGVuZ2FnZVRyZWF0bWVudCh0cmVhdG1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXIubG9nKFwiUmVhcHBseSBldmVudCBub3QgZm91bmQ6IFwiLCBrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVtb3ZlRG9jdW1lbnRIaWRlKCk7XG4gICAgY29uc29sZS53YXJuKFwiTmV4dGRheTogXCIsIGVyci5tZXNzYWdlKTtcbiAgICBtb25pdG9yLnNlbmRMb2dzKGlzT24sIGVyci5tZXNzYWdlLCB0cnVlKTtcbiAgfVxufSkoKTtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicnVudGltZSIsInVuZGVmaW5lZCIsIk9wIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCIkU3ltYm9sIiwiU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJpdGVyYXRvciIsImFzeW5jSXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwidG9TdHJpbmdUYWdTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsImRlZmluZSIsIm9iaiIsImtleSIsInZhbHVlIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJlcnIiLCJ3cmFwIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJzZWxmIiwidHJ5TG9jc0xpc3QiLCJwcm90b0dlbmVyYXRvciIsIkdlbmVyYXRvciIsImdlbmVyYXRvciIsImNyZWF0ZSIsImNvbnRleHQiLCJDb250ZXh0IiwiX2ludm9rZSIsInN0YXRlIiwiR2VuU3RhdGVTdXNwZW5kZWRTdGFydCIsIm1ldGhvZCIsImFyZyIsIkdlblN0YXRlRXhlY3V0aW5nIiwiRXJyb3IiLCJHZW5TdGF0ZUNvbXBsZXRlZCIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsIkNvbnRpbnVlU2VudGluZWwiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsInJlY29yZCIsInRyeUNhdGNoIiwidHlwZSIsImRvbmUiLCJHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkIiwibWFrZUludm9rZU1ldGhvZCIsImZuIiwiY2FsbCIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJJdGVyYXRvclByb3RvdHlwZSIsInRoaXMiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJ2YWx1ZXMiLCJHcCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsImZvckVhY2giLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJpbnZva2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0IiwiX19hd2FpdCIsInRoZW4iLCJ1bndyYXBwZWQiLCJlcnJvciIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiVHlwZUVycm9yIiwiaW5mbyIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXRlcmFibGUiLCJpdGVyYXRvck1ldGhvZCIsImlzTmFOIiwibGVuZ3RoIiwiaSIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsIml0ZXIiLCJrZXlzIiwib2JqZWN0IiwicmV2ZXJzZSIsInBvcCIsInNraXBUZW1wUmVzZXQiLCJwcmV2IiwiY2hhckF0Iiwic2xpY2UiLCJzdG9wIiwicm9vdFJlY29yZCIsInJ2YWwiLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJmaW5hbGx5RW50cnkiLCJjb21wbGV0ZSIsImZpbmlzaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJhY2NpZGVudGFsU3RyaWN0TW9kZSIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIm8iLCJnZXQiLCJwcm9wIiwiX3R5cGVvZiIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwiYXJyMiIsIkFycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwibWluTGVuIiwidG9TdHJpbmciLCJmcm9tIiwidGVzdCIsIl9zbGljZWRUb0FycmF5IiwiaXNBcnJheSIsIl9pIiwiX3MiLCJfZSIsIl9hcnIiLCJfbiIsIl9kIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiZ2VuIiwiX25leHQiLCJfdGhyb3ciLCJfYXN5bmNUb0dlbmVyYXRvciIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsIkxPR19BUElfVVJMIiwiTU9CSUxFX01FRElBX1FVRVJZIiwiU0VTU0lPTl9TVE9SQUdFX0tFWVMiLCJMT0NBTF9TVE9SQUdFX0tFWVMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJMb2dnZXIiLCJvcmlnaW4iLCJERUJVRyIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwibG9nZ2VyIiwiY2hlY2tEYXRhTGF5ZXJSdWxlIiwicnVsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvcGVyYXRvciIsImNvbmRpdGlvbiIsInJ1bnRpbWVWYWx1ZSIsImRhdGFMYXllckZpbmRlciIsImNvbmRpdGlvbkNoZWNrZXIiLCJkYXRhTGF5ZXIiLCJpbmNsdWRlcyIsImNoZWNrVXJsUnVsZSIsInJlcXVlc3RVUkwiLCJsb2NhdGlvbiIsImhyZWYiLCJwYXRoIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiVVJMIiwic2VhcmNoIiwicmVwbGFjZSIsInBhdGhuYW1lIiwiY3J5cHRvIiwicmFuZG9tVVVJREZhbGxiYWNrIiwicmVtb3ZlRG9jdW1lbnRIaWRlIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJmZXRjaFRyZWF0bWVudHMiLCJmZXRjaCIsInRyZWF0bWVudHMiLCJqc29uIiwiZXh0cmFjdENvb2tpZUlkZW50aWZpZXIiLCJjb29raWVTdHJpbmciLCJjb29raWVOYW1lIiwiaWRlbnRpZmllciIsInNwbGl0IiwibWFwIiwidiIsInJlZHVjZSIsImFjYyIsInRyaW0iLCJkZXRlcm1pbmVQY3QiLCJzdWJzdHJpbmdMZW5ndGgiLCJzdWJzdHJpbmdFbmRQb3NpdGlvbiIsInN1YnN0cmluZ1N0YXJ0UG9zaXRpb24iLCJlbmNvZGVkIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJzdWJ0bGUiLCJkaWdlc3QiLCJoYXNoQnVmZmVyIiwiaGFzaEFycmF5IiwiVWludDhBcnJheSIsImhhc2hTdHJpbmciLCJiIiwicGFkU3RhcnQiLCJqb2luIiwiaGFzaE51bWJlciIsInBhcnNlSW50Iiwic3Vic3RyaW5nIiwiZXhpdFNjcm9sbExpc3RlbmVyIiwiY2FsbEJhY2siLCJsYXN0U2Nyb2xsVG9wIiwic2Nyb2xsVG9wIiwiZXhpdFNjcm9sbEludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic3R5bGVBcHBsaWNhdG9yIiwiZWxlbWVudHMiLCJzdHlsZUNoYW5nZXNNYXAiLCJlbGVtZW50IiwiZW50cmllcyIsInN0eWxlIiwiaW5qZWN0U3R5bGVTaGVldCIsInN0eWxlU2hlZXQiLCJjcmVhdGVFbGVtZW50IiwicmVsIiwiaGVhZCIsImFwcGVuZENoaWxkIiwicHJlcGFyZUFjdGlvbnMiLCJhY3Rpb25zVG9QcmVwYXJlIiwic3ViVmFyaWFudElkIiwiYWN0aW9ucyIsInBhcnNlIiwiYWN0aW9uIiwic3ViVmFyaWFudHMiLCJzdWJWYXJpYW50IiwiaWQiLCJydW5UaW1lVmFsdWUiLCJtaW4iLCJtYXgiLCJyYW5kb21VVUlEIiwiYyIsImdldFJhbmRvbVZhbHVlcyIsImNvbXBhcmVPYmplY3RzIiwib2JqMSIsIm9iajIiLCJrZXlzQSIsImtleXNCIiwiZGVsYXkiLCJtcyIsInJlcyIsInNldFRpbWVvdXQiLCJza3VDb2xsZWN0b3IiLCJORF9TS1VfTElTVCIsInNrdUxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZSIsImdldEF0dHJpYnV0ZSIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9kdWN0SW5mbyIsIlBPUFVQX0RJU1BMQVlfRkxBRyIsInRyYW5zZm9ybWVyIiwidHJlYXRtZW50IiwiYmFkZ2VTZWxlY3RvciIsImFwcGx5RXZlbnQiLCJjb250ZW50U2VsZWN0b3IiLCJzZWxlY3RvciIsInNlbGVjdG9yRmFsbGJhY2siLCJtZENvbmRpdGlvbiIsIm1vdmVfc2VsZWN0b3JfMSIsIm1vdmVfc2VsZWN0b3JfMiIsInJlcGxhY2VGbiIsIiQiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsInJlcGxhY2VGbkV4ZWN1dG9yIiwicmVwbGFjZUZ1bmN0aW9uIiwiYmluZCIsInJlcGxhY2VBbGwiLCJ2YWwiLCJjdXJyZW50UmVwbGFjZUZuIiwiU3RyaW5nIiwiYmVmb3JlIiwiYWZ0ZXIiLCJjcmVhdGVQb3B1cCIsIm1vYmlsZSIsImRpc3BsYXlQb3B1cCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmNlIiwidGltZW91dCIsInRleHQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwib3JpZ2luYWxUaXRsZSIsInRpdGxlIiwiaGFuZGxlRG9jdW1lbnRUaXRsZVRhYkNoYW5nZSIsImVsIiwiZWxlbWVudFNrdSIsImF0dHIiLCJmaW5kIiwiYmFkZ2VzIiwic3VwZXJQcmljZUJhZGdlIiwiY2F0YWxvZyIsIm1vc3RWaWV3ZWRMZXZlbCIsImF0dHJpYnV0ZSIsImNzcyIsInByb3BlcnR5IiwicHJvcGVydHlWYWx1ZSIsIm4xIiwibjIiLCJzd2FwTm9kZXMiLCJhcHBlbmQiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsInByZXBlbmQiLCJldmVudCIsInRpdGxlcyIsInBhcnNlZFRpdGxlcyIsImhpZGRlbiIsImhhbmRsZVBvcHVwQ2xpY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicVBvcHVwIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3B1cFdyYXBwZXIiLCJhZGQiLCJwb3B1cENsb3NlQnV0dG9uIiwiaW5uZXJUZXh0Iiwib25jbGljayIsImNvbnRlbnRzIiwic2hpZnQiLCJzcmMiLCJ0ZW1wbGF0ZSIsImlubmVySFRNTCIsInBvcHVwIiwiY29udGVudCIsImZpcnN0Q2hpbGQiLCJib2R5IiwiaTEiLCJpMiIsInAxIiwicGFyZW50Tm9kZSIsInAyIiwiaXNFcXVhbE5vZGUiLCJjaGlsZHJlbiIsImluc2VydEJlZm9yZSIsInRyZWF0bWVudEFwcGxpY2F0b3IiLCJ0cmVhdG1lbnRMaXN0IiwialF1ZXJ5IiwibWVzc2FnZSIsImFwcGx5VHJlYXRtZW50cyIsIl9kZWZpbmVQcm9wZXJ0eSIsIk1vbml0b3IiLCJhcHBsaWVkVHJlYXRtZW50SWRzIiwiZWxpZ2libGVOb3RBcHBsaWVkVHJlYXRtZW50cyIsImxhdGVzdENoYW5nZXMiLCJlbGlnaWJsZU5vdEFwcGxpZWRDaGFuZ2VzIiwic2Vzc2lvbklkIiwidmlld0lkIiwiaGVhZGVycyIsImRlYnVnTW9kZSIsImluaXRpYWxpemVFeGl0RXZlbnRMaXN0ZW5lciIsImlzTG9nZ2VkIiwiaXNPbiIsImVtcHR5IiwicmVhZHlTdGF0ZSIsImhhbmRsZVF1ZXVlTG9ncyIsInBhY2thZ2VMb2dEYXRhIiwicmVxdWVzdEJsb2IiLCJxdWV1ZUxvZ3MiLCJjaGFuZ2VzIiwiY29tcGFyZVRvIiwibSIsInByZXBhcmVMb2dCb2R5IiwidklkIiwiZGJtIiwiQmxvYiIsInQiLCJEYXRlIiwibm93IiwiY3VycmVudFVSTCIsImdhT2JqZWN0cyIsImdhRExFbGVtZW50IiwidmlzaWxhYnNjayIsImNvb2tpZSIsInZsT2JqZWN0cyIsIkl0ZW1zIiwidmxFbGVtZW50IiwiSyIsIlYiLCJuZERhdGEiLCJjb29raWVWTElzTmV3IiwiT01fSU5XIiwiY29va2llVkxQVmluVmlzaXQiLCJWTF9QVkNvdW50SW5WaXNpdCIsImNvb2tpZVZMVmlzaXREdXJhdGlvbiIsIlZMX1RvdGFsRHVyYXRpb24iLCJjb29raWVWTFRvdGFsUFYiLCJWTF9Ub3RhbFBWIiwiY29va2llVkxUb3RhbFZpc2l0IiwiVkxfVG90YWxWaXNpdCIsImdhUGFnZVR5cGUiLCJQYWdlVHlwZSIsImdhUHJvZHVjdE5hbWUiLCJjb250ZW50X25hbWUiLCJnYVZpZXdUeXBlIiwiY29udGVudF90eXBlIiwiZ2FQcm9kdWN0Q2F0ZWdvcnkiLCJjb250ZW50X2NhdGVnb3J5IiwiZ2FQcm9kdWN0SUQiLCJjb250ZW50X2lkcyIsInZ2c1Byb2R1Y3RDYXRlZ29yeSIsInZpdmVuc2VfY2F0ZWdvcnkiLCJnYUxpc3RpbmdOYW1lIiwiZWNvbW1lcmNlIiwiZGV0YWlsIiwiYWN0aW9uRmllbGQiLCJsaXN0IiwidnZzSXNTaG93cm9vbSIsImlzQWRtaW4iLCJ2dnNQcm9kdWN0R3JvdXAiLCJwcm9kdWN0R3JvdXAiLCJ2dnNVc2VyRW1haWwiLCJ1c2VyRW1haWwiLCJ2dnNVc2VySWQiLCJ1c2VySWQiLCJ2dnNDYXRlZ29yeSIsImdhQWN0aW9uIiwiQWN0aW9uIiwiZ2FBY3Rpb25MYWJlbCIsIkxhYmVsIiwiZ2FDYXRlZ29yeVByb2R1Y3RDb250IiwiY2F0ZWdvcnlfcHJvZHVjdF9jb3VudCIsImdhQWN0aW9uU3RlcCIsImNoZWNrb3V0Iiwic3RlcCIsImdhQWN0aW9uVXNlciIsImRpbWVuc2lvbjE0IiwicHVyY2hhc2UiLCJnYUNhcnRQcm9kdWN0cyIsInByb2R1Y3RzIiwidnZzUERQUHJvZHVjdCIsInZpdmVuc2VQcm9kdWN0cyIsImdhUHVyY2hhc2VJZCIsImdhUHVyY2hhc2VBZmZpbGlhdGlvbiIsImFmZmlsaWF0aW9uIiwiZ2FQdXJjaGFzZUNvdXBvbiIsImNvdXBvbiIsImdhUHVyY2hhc2VSZXZlbnVlIiwicmV2ZW51ZSIsImdhUHVyY2hhc2VTaGlwcGluZyIsInNoaXBwaW5nIiwiZ2FQdXJjaGFzZVRheCIsInRheCIsImdhUHVyY2hhc2VQYXlUeXBlIiwiZGltZW5zaW9uMTUiLCJ3aW5kb3dQYXJhbXMiLCJ3aW5kb3dTY3JlZW4iLCJzY3JlZW4iLCJ3aW5kb3dWUG9ydCIsInZpc3VhbFZpZXdwb3J0Iiwid2luZG93UFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIm5hdkFnZW50IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibmF2SFdDb3JlcyIsImhhcmR3YXJlQ29uY3VycmVuY3kiLCJuYXZMYW5ndWFnZSIsImxhbmd1YWdlIiwibmF2VG91Y2giLCJtYXhUb3VjaFBvaW50cyIsIm5hdlBsYXRmb3JtIiwicGxhdGZvcm0iLCJuYXZWZW5kb3IiLCJ2ZW5kb3IiLCJwQ2xpY2tTZWdtZW50IiwiY29va2llR2FJZCIsImNvb2tpZUxhc3RCcmVhZENydW1iIiwiY29va2llTGFzdENhdGVnb3J5IiwiY29va2llRmlyc3RFbnRyeSIsInNyIiwidSIsImhvc3RuYW1lIiwiciIsInJlZmVycmVyIiwidyIsImlubmVyV2lkdGgiLCJ3ZGwiLCJ2dnNQdXJjUHJpY2VFbHQiLCJ0b3RhbFByaWNlRWxlbWVudCIsInRleHRDb250ZW50IiwidnZzUHVyY1R5cGVFbHQiLCJwYXltZW50VGl0bGVFbGVtZW50IiwiaXNFeGl0RXZlbnRDYXB0dXJlZCIsImxvZ0RhdGEiLCJwYWNrYWdlVXBkYXRlTG9nRGF0YSIsImNhcHR1cmUiLCJxdWV1ZWQiLCJzZW5kQmVhY29uIiwicXVldWVJbnRlcnZhbCIsIlRyZWF0bWVudFJlcG9zaXRvcnkiLCJjb29raWVQY3QiLCJ1c2VyU2VnbWVudCIsImdldFVzZXJTZWdtZW50Iiwic2VnbWVudE1hdGNoZWRUcmVhdG1lbnRzIiwiZmlsdGVyIiwiYXBwbHlfb25fdXNlcl9zZWdtZW50IiwiVFJFQVRNRU5UUyIsInRyZWF0bWVudHNPYmoiLCJ0aW1lc3RhbXAiLCJ0cmVhdG1lbnRXaXRoVGltZXN0YW1wIiwiZ2V0Q291bnRlciIsImNvdW50ZXIiLCJSdWxlRW5naW5lIiwiYmFzZVJ1bGVTZXQiLCJzdWJWYXJpYW50UnVsZVNldCIsImNhbGxiYWNrIiwiY2hlY2tSdWxlIiwiY2hhaW4iLCJjaGFpbl9jb25kaXRpb24iLCJydWxlU2F0aXNmaWVkIiwiZHVyYXRpb24iLCJnZXRTZXNzaW9uVGltZXN0YW1wIiwiZHVyYXRpb25IYW5kbGVyIiwiY2hlY2tTZXNzaW9uUnVsZSIsInBhZ2VWaWV3cyIsInBhZ2VWaWV3SGFuZGxlciIsImNhQmFza2V0UHJpY2UiLCJjYUJhc2tldFByaWNlSGFuZGxlciIsImNoZWNrQ291bnRlclJ1bGUiLCJzZWxlY3RvckFsbCIsIm1haW5TZWxlY3RvciIsInRlbXBWYWwiLCJyZXR1cm5WYWwiLCJlbGVtIiwiY2hlY2tFbGVtZW50UnVsZSIsInJ1bGVGdW5jdGlvbiIsImNoZWNrRnVuY3Rpb25SdWxlIiwiaXNNb2JpbGUiLCJjaGVja0VudlJ1bGUiLCJwcm9kdWN0SW5mb0xvb2t1cCIsIkhlYWRlcnMiLCJtb2RlIiwib2siLCJwcm9kdWN0SW5mb1Byb21pc2UiLCJxdWVyeVN0cmluZyIsInJlbW92ZUl0ZW0iLCJtb25pdG9yIiwiZ2V0SWRlbnRpZmllciIsImV4dHJhY3RJZGVudGlmaWVySW50ZXJ2YWwiLCJjb250YWlucyIsIkdMT1ZfT04iLCJQQUdFX1ZJRVdTIiwiU0VTU0lPTl9JRCIsIlNFU1NJT05fVElNRVNUQU1QIiwicG9wdXBEaXNwbGF5RmxhZyIsInNlc3Npb25UaW1lc3RhbXAiLCJ0cmVhdG1lbnRzUHJvbWlzZSIsIk9CU0VSVkVSX0NPTkZJRyIsInN1YnRyZWUiLCJjaGlsZExpc3QiLCJhdHRyaWJ1dGVzIiwiZW5nYWdlVHJlYXRtZW50IiwiZGV2aWNlIiwiZGVwZW5kYW50X29uX3RyZWF0bWVudCIsInJlYXBwbHlfZXZlbnQiLCJ3ZWlnaHQiLCJyZWFwcGx5X2V2ZW50X2FycmF5IiwicmVhcHBseUV2ZW50IiwicHJldmlvdXNWYWx1ZSIsInJlQXBwbHlUcmVhdG1lbnRzTWFwIiwicnVsZUVuZ2luZSIsImNoZWNrUnVsZXMiLCJ0cmVhdG1lbnRTa2lwUmF0aW8iLCJtYXRjaGVkVHJlYXRtZW50cyIsImRJZCIsInRyZWF0bWVudFBjdCIsInByZXBhcmVkIiwiY2hlY2tTdWJWYXJpYW50UnVsZXMiLCJjb2xsZWN0Q0FCYXNrZXRQcmljZSIsIkNPVVBPTl9BUFBMSUNBQkxFX0JBU0tFVF9QUklDRSIsInByaWNlRWxlbWVudHMiLCJjb3Vwb25BcHBsaWNhYmxlVG90YWxQcmljZSIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImJhc2tldENoZWNrb3V0Rm9ybSIsIm9ic2VydmUiLCJhbGwiLCJ0cmVhdG1lbnRSZXBvc2l0b3J5IiwiZ2V0TWF0Y2hlZFRyZWF0bWVudHMiLCJzZW5kTG9ncyIsInVwZGF0ZVRyZWF0bWVudHMiLCJ1cGRhdGVMYXRlc3RDaGFuZ2VzIiwidHJlYXRtZW50SWRzIiwicmVBcHBseVRyZWF0bWVudHMiLCJSZXNpemVPYnNlcnZlciIsInJlYXBwbHlfc2VsZWN0b3IiLCJvbnNjcm9sbCIsIndhcm4iXSwic291cmNlUm9vdCI6IiJ9
